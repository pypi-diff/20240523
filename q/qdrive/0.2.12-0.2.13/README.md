# Comparing `tmp/qdrive-0.2.12-py3-none-any.whl.zip` & `tmp/qdrive-0.2.13-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,40 +1,40 @@
-Zip file size: 35761 bytes, number of entries: 38
+Zip file size: 35789 bytes, number of entries: 38
 -rw-r--r--  2.0 unx      232 b- defN 24-May-09 09:06 qdrive/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/dataset/__init__.py
 -rw-r--r--  2.0 unx     2496 b- defN 24-May-09 08:58 qdrive/dataset/dataset.py
 -rw-r--r--  2.0 unx     5038 b- defN 24-May-13 07:58 qdrive/dataset/file_manager.py
 -rw-r--r--  2.0 unx     3995 b- defN 24-Apr-04 09:44 qdrive/dataset/files/HDF5.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/dataset/files/__init__.py
 -rw-r--r--  2.0 unx      929 b- defN 23-Dec-13 10:03 qdrive/dataset/files/file.py
 -rw-r--r--  2.0 unx     3213 b- defN 24-Apr-04 09:51 qdrive/dataset/files/file_mgr_single.py
 -rw-r--r--  2.0 unx     3372 b- defN 24-May-09 07:44 qdrive/dataset/files/json.py
 -rw-r--r--  2.0 unx     2256 b- defN 23-Dec-13 10:03 qdrive/dataset/files/numpy.py
 -rw-r--r--  2.0 unx      222 b- defN 23-Dec-13 10:03 qdrive/dataset/files/utility.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/measurement/__init__.py
--rw-r--r--  2.0 unx     9652 b- defN 24-May-13 08:15 qdrive/measurement/data_collector.py
+-rw-r--r--  2.0 unx     9813 b- defN 24-May-20 15:51 qdrive/measurement/data_collector.py
 -rw-r--r--  2.0 unx     1989 b- defN 24-Mar-05 14:29 qdrive/measurement/data_collector_var.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/measurement/HDF5_collector/__init__.py
 -rw-r--r--  2.0 unx     4112 b- defN 24-May-13 08:20 qdrive/measurement/HDF5_collector/ds_cache.py
 -rw-r--r--  2.0 unx     4883 b- defN 24-May-13 08:24 qdrive/measurement/HDF5_collector/h5_cache.py
--rw-r--r--  2.0 unx     5788 b- defN 24-Apr-17 08:05 qdrive/measurement/HDF5_collector/h5_dependency_builder.py
+-rw-r--r--  2.0 unx     5788 b- defN 24-May-20 12:32 qdrive/measurement/HDF5_collector/h5_dependency_builder.py
 -rw-r--r--  2.0 unx     2693 b- defN 24-May-13 08:23 qdrive/measurement/HDF5_collector/h5_writer.py
 -rw-r--r--  2.0 unx     5649 b- defN 24-May-13 08:29 qdrive/measurement/HDF5_collector/h5_writer_container.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/measurement/utility/__init__.py
 -rw-r--r--  2.0 unx       18 b- defN 23-Dec-13 10:03 qdrive/measurement/utility/irregular_ds_conversion.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/testing/__init__.py
 -rw-r--r--  2.0 unx     1595 b- defN 23-Dec-13 10:03 qdrive/testing/core_tools_test.py
 -rw-r--r--  2.0 unx     1034 b- defN 23-Dec-13 10:03 qdrive/testing/create_dataset.py
 -rw-r--r--  2.0 unx     6271 b- defN 23-Dec-13 10:03 qdrive/testing/dataset_file_feature_overview.py
 -rw-r--r--  2.0 unx      214 b- defN 23-Dec-13 10:03 qdrive/testing/interfaces_dataset.py
 -rw-r--r--  2.0 unx      635 b- defN 24-Feb-29 15:23 qdrive/testing/measurement_with_qdrive.py
 -rw-r--r--  2.0 unx     6360 b- defN 23-Dec-13 10:03 qdrive/testing/qcodes_test_param.py
 -rw-r--r--  2.0 unx     1105 b- defN 23-Dec-13 10:03 qdrive/testing/qdrive_dataset_test.py
 -rw-r--r--  2.0 unx     2181 b- defN 23-Dec-13 10:03 qdrive/testing/test.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Dec-13 10:03 qdrive/utility/__init__.py
--rw-r--r--  2.0 unx    16695 b- defN 24-May-17 11:19 qdrive-0.2.12.dist-info/LICENCE
--rw-r--r--  2.0 unx      671 b- defN 24-May-17 11:19 qdrive-0.2.12.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-May-17 11:19 qdrive-0.2.12.dist-info/WHEEL
--rw-r--r--  2.0 unx        7 b- defN 24-May-17 11:19 qdrive-0.2.12.dist-info/top_level.txt
--rw-r--r--  2.0 unx        1 b- defN 23-Dec-13 12:27 qdrive-0.2.12.dist-info/zip-safe
--rw-rw-r--  2.0 unx     3408 b- defN 24-May-17 11:19 qdrive-0.2.12.dist-info/RECORD
-38 files, 96806 bytes uncompressed, 30187 bytes compressed:  68.8%
+-rw-r--r--  2.0 unx    16695 b- defN 24-May-22 13:50 qdrive-0.2.13.dist-info/LICENCE
+-rw-r--r--  2.0 unx      671 b- defN 24-May-22 13:50 qdrive-0.2.13.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-22 13:50 qdrive-0.2.13.dist-info/WHEEL
+-rw-r--r--  2.0 unx        7 b- defN 24-May-22 13:50 qdrive-0.2.13.dist-info/top_level.txt
+-rw-r--r--  2.0 unx        1 b- defN 23-Dec-13 12:27 qdrive-0.2.13.dist-info/zip-safe
+-rw-rw-r--  2.0 unx     3408 b- defN 24-May-22 13:50 qdrive-0.2.13.dist-info/RECORD
+38 files, 96967 bytes uncompressed, 30215 bytes compressed:  68.8%
```

## zipnote {}

```diff
@@ -90,26 +90,26 @@
 
 Filename: qdrive/testing/test.py
 Comment: 
 
 Filename: qdrive/utility/__init__.py
 Comment: 
 
-Filename: qdrive-0.2.12.dist-info/LICENCE
+Filename: qdrive-0.2.13.dist-info/LICENCE
 Comment: 
 
-Filename: qdrive-0.2.12.dist-info/METADATA
+Filename: qdrive-0.2.13.dist-info/METADATA
 Comment: 
 
-Filename: qdrive-0.2.12.dist-info/WHEEL
+Filename: qdrive-0.2.13.dist-info/WHEEL
 Comment: 
 
-Filename: qdrive-0.2.12.dist-info/top_level.txt
+Filename: qdrive-0.2.13.dist-info/top_level.txt
 Comment: 
 
-Filename: qdrive-0.2.12.dist-info/zip-safe
+Filename: qdrive-0.2.13.dist-info/zip-safe
 Comment: 
 
-Filename: qdrive-0.2.12.dist-info/RECORD
+Filename: qdrive-0.2.13.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## qdrive/measurement/data_collector.py

```diff
@@ -1,12 +1,13 @@
 from typing import List, Any
 from pathlib import Path
 
 import time, h5py, uuid, dataclasses, os
-import qcodes as qc
+
+from qcodes.parameters import Parameter, MultiParameter, ParameterWithSetpoints, ArrayParameter
 
 from etiket_client.python_api.dataset_model.files import FileType, generate_version_id, FileStatusLocal
 from etiket_client.settings.folders import create_file_dir
 
 from qdrive.measurement.data_collector_var import set_var_static, set_var_dynamic, get_var
 from qdrive.measurement.HDF5_collector.ds_cache import ds_cache
 from qdrive.measurement.HDF5_collector.h5_writer_container import h5_writer_container
@@ -25,15 +26,15 @@
     param_idx : int
 
     def add_data(self, data):
         if self.parameter in data.keys():
             for data_saver_dynamic in self.set_var_dynamic:
                 data_saver_dynamic.add_result(data[data_saver_dynamic.var_info.parameter])
 
-            if issubclass(self.parameter.__class__, qc.parameters.MultiParameter) : 
+            if issubclass(self.parameter.__class__, MultiParameter) : 
                 self.get_var.add_result(data[self.parameter][self.param_idx])
             else:
                 self.get_var.add_result(data[self.parameter])
 
     def save(self):
         self.dependency_builder.rebuild() #only writes when needed.
         for preprocessor in [self.get_var] + self.set_var_static + self.set_var_dynamic:
@@ -68,18 +69,21 @@
                                    file_type=dtype, generator="qdrive", status = FileStatusLocal.writing)
         
         self.lock_file = os.path.dirname(self.dataset[name].path) + "/.lock"
         os.close(os.open(self.lock_file, os.O_CREAT | os.O_EXCL | os.O_RDWR))
         hdf5_file = h5py.File(self.dataset[name].path, 'w', locking=False, libver='v112')
         return hdf5_file
     
-    def __add__(self, other : List[data_collection]):
+    def __add__(self, other : 'List[data_collection] | data_collection'):
         if self.first_write_happened:
             raise ValueError("Cannot add to a data collector after the first write has happened.")
-        self.ds_collections += other
+        if isinstance(other, list):
+            self.ds_collections += other
+        else:
+            self.ds_collections.append(other)
         return self
 
     def _enable_swmr(self):
         if self.first_write_happened is False:
             # this was a quick fix, putting this here, in swmr mode, no new attributes can be created
             # this is supposed to be fixed with VDF SWMR mode (aka SWMR 2.0), but the implementation is not yet in the H5 library (lack of money :/).
             NETCDF4_reference_list_builder(self.HDF5_writers.h5_file ,self.ds_collections)
@@ -116,15 +120,15 @@
         
         self.HDF5_writers.h5_file.close()
 
         self.dataset[self.measurement_name].file_obj.current._mark_complete()
 
 
 
-def get_var_to_get_mgr(get_vars : 'get_var | List[get_var]', collector) -> List[data_collection]:
+def get_var_to_get_mgr(get_vars : 'get_var | List[get_var]', collector : data_collector) -> List[data_collection]:
     if not isinstance(get_vars, list):
         get_vars = [get_vars]
     
     ds_collections = []
     
     for i, get_variable in enumerate(get_vars):
         get_var_cache = ds_cache(collector.HDF5_writers, get_variable, get_variable.ndim, 0)
@@ -154,20 +158,20 @@
                     get_variable.parameter, get_var_cache, set_var_static_cache,
                     set_var_dynamic_cache, dep_builder, i))
         
     return ds_collections
 
 # TODO intergrate in data_collector.
 # TODO check qcodes multiparameter with multiple setpoint allowed formats.
-def from_QCoDeS_parameter(parameter, dependencies, writer_collection) -> List[data_collection]:
+def from_QCoDeS_parameter(parameter, dependencies, writer_collection : data_collector) -> List[data_collection]:
     set_vars_dyn = []
     for dependency in dependencies:
         set_vars_dyn.append(set_var_dynamic.from_parameter(dependency))
 
-    if issubclass(parameter.__class__, qc.parameters.MultiParameter):
+    if issubclass(parameter.__class__, MultiParameter):
         data_collectors = []
 
         get_vars = []
         for i in range(len(parameter.names)):
             set_vars_stat = []
         
             for j in range(len(parameter.setpoints[i])):
@@ -183,43 +187,43 @@
                                 set_vars_dyn,
                                 set_vars_stat) )
             
         data_collectors += get_var_to_get_mgr(get_vars, writer_collection)
 
         return data_collectors
 
-    elif issubclass(parameter.__class__, qc.parameters.ParameterWithSetpoints):
+    elif issubclass(parameter.__class__, ParameterWithSetpoints):
         set_vars_stat = []
         for i in range(len(parameter.setpoints)):
             set_vars_stat.append(
                 set_var_static(parameter.setpoints[i].name,
                                         parameter.setpoints[i].label,
                                         parameter.setpoints[i].unit,
                                         parameter.setpoints[i]()))
         return get_var_to_get_mgr(
                     get_var(parameter.name, parameter.label,
                             parameter.unit, parameter, set_vars_dyn,
                             set_vars_stat),
                     writer_collection)
         
-    elif issubclass(parameter.__class__, qc.instrument.ArrayParameter):
+    elif issubclass(parameter.__class__, ArrayParameter):
         set_vars_stat = []
         
         for i in range(len(parameter.setpoints)):
             set_vars_stat.append(set_var_static(parameter.setpoint_names[i],
                                     parameter.setpoint_labels[i],
                                     parameter.setpoint_units[i],
                                     parameter.setpoints[i]))
         return get_var_to_get_mgr(
                     get_var(parameter.name, parameter.label,
                         parameter.unit, parameter, set_vars_dyn,
                         set_vars_stat),
                     writer_collection )
                 
-    elif issubclass(parameter.__class__, qc.parameters.Parameter):
+    elif issubclass(parameter.__class__, Parameter):
         return get_var_to_get_mgr(
                     get_var(parameter.name, parameter.label, 
                             parameter.unit, parameter, set_vars_dyn), 
                     writer_collection)
     
     else:
         raise ValueError("Only QCoDeS parameters are currently supported.")
```

## Comparing `qdrive-0.2.12.dist-info/LICENCE` & `qdrive-0.2.13.dist-info/LICENCE`

 * *Files identical despite different names*

## Comparing `qdrive-0.2.12.dist-info/METADATA` & `qdrive-0.2.13.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: qdrive
-Version: 0.2.12
+Version: 0.2.13
 Summary: Qdrive dataset library
 Author: QDrive team
 Requires-Python: >=3.7
 License-File: LICENCE
 Requires-Dist: PyYAML >=6.0.0
 Requires-Dist: platformdirs >=4.0.0
 Requires-Dist: numpy >=1.16.0
```

## Comparing `qdrive-0.2.12.dist-info/RECORD` & `qdrive-0.2.13.dist-info/RECORD`

 * *Files 7% similar despite different names*

```diff
@@ -6,15 +6,15 @@
 qdrive/dataset/files/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 qdrive/dataset/files/file.py,sha256=qz6n1_b4wvUovMF3UGj7JpvfDP8sndegD3OSfZWOjEg,929
 qdrive/dataset/files/file_mgr_single.py,sha256=XW1NsmLWX6bn6EKVF8MwO4icVgEPKxClMOeL880B-IY,3213
 qdrive/dataset/files/json.py,sha256=jYSJ6px9of3fqa0xWekOa7eg7M93jW1BvZaTVzt5Iu4,3372
 qdrive/dataset/files/numpy.py,sha256=YhMY4H1F0oXcVV1j8GTWhbDDQSQzjuTdGZSPs5fnKa4,2256
 qdrive/dataset/files/utility.py,sha256=VO-zIhQJqPXjaWKWAT-maITiOVikXS6TLImFblnVQcc,222
 qdrive/measurement/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-qdrive/measurement/data_collector.py,sha256=UwYdQHyuykyyCDxMRpzMgEQlTxjkKcmhdxjjwwb-kjQ,9652
+qdrive/measurement/data_collector.py,sha256=Cgt9RGpaj6UeJKAQUbwBzI9LOdcrO_m4-V4ue-YRwXY,9813
 qdrive/measurement/data_collector_var.py,sha256=MhP-fgG9qUXWBnJS0NfzHvjK-nT8zu1aOZyYMneMKd8,1989
 qdrive/measurement/HDF5_collector/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 qdrive/measurement/HDF5_collector/ds_cache.py,sha256=jiZFKY1luPagH86zB1C3-G68LHjgf59rW3uXZpt_8b0,4112
 qdrive/measurement/HDF5_collector/h5_cache.py,sha256=CWoYu7iuJz8v2nQWhhvVikaCO99mZq4Kbo9PavBy5w8,4883
 qdrive/measurement/HDF5_collector/h5_dependency_builder.py,sha256=ZluDA9OaMiVn_UIeeLDw_V9FaxKiYSAPGsLIp3eRVQc,5788
 qdrive/measurement/HDF5_collector/h5_writer.py,sha256=u6XWTGIZTGXRf99yXEeUYi6RKC6aYNvQ4ugAqdFigw8,2693
 qdrive/measurement/HDF5_collector/h5_writer_container.py,sha256=KFSlWBXKU0oNtYSDP_8yq2fvpt03jHwt2vBd4M6cZQ8,5649
@@ -26,13 +26,13 @@
 qdrive/testing/dataset_file_feature_overview.py,sha256=GQBka3vPO57bY9t5vtUsMWqeO-4WqY3IJcYFsBBlULg,6271
 qdrive/testing/interfaces_dataset.py,sha256=zJEG8EVx7Rf6Bu5upmBCK8rrdNanB3jIKe0rW-NF2aM,214
 qdrive/testing/measurement_with_qdrive.py,sha256=FOKDWqD11XmD8dXBvTZFZfweT-JR6st8ltT9fOkSQTI,635
 qdrive/testing/qcodes_test_param.py,sha256=YF1AW-qpVhBKEgxQxnODOU_taijtHsM-r-u6H7wWle8,6360
 qdrive/testing/qdrive_dataset_test.py,sha256=AFhbgJONRj-lRsIEI_L6zeMHLCepMyvtIms-dAeMzIU,1105
 qdrive/testing/test.py,sha256=QbMylU_a80YIqPzpM_-eVvOrbYn1jQYQrMeEDWS4bcA,2181
 qdrive/utility/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-qdrive-0.2.12.dist-info/LICENCE,sha256=BNXChWe7aLPGR3QkVckAkeLqK2cI2idnmInh-A3YOO0,16695
-qdrive-0.2.12.dist-info/METADATA,sha256=Cduk9uThk-GqJo02WWzU9maA9VwqXaUzb-ZBNzYQquI,671
-qdrive-0.2.12.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
-qdrive-0.2.12.dist-info/top_level.txt,sha256=B1Ij35CV2H-FfDMctSIRLfZ9EIU_GshRACjkLDpc4I8,7
-qdrive-0.2.12.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
-qdrive-0.2.12.dist-info/RECORD,,
+qdrive-0.2.13.dist-info/LICENCE,sha256=BNXChWe7aLPGR3QkVckAkeLqK2cI2idnmInh-A3YOO0,16695
+qdrive-0.2.13.dist-info/METADATA,sha256=f3x5PkyNtPH6Bm9dNlX105mvZK8oW_QFBpe4kM8Z2zE,671
+qdrive-0.2.13.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
+qdrive-0.2.13.dist-info/top_level.txt,sha256=B1Ij35CV2H-FfDMctSIRLfZ9EIU_GshRACjkLDpc4I8,7
+qdrive-0.2.13.dist-info/zip-safe,sha256=AbpHGcgLb-kRsJGnwFEktk7uzpZOCcBY74-YBdrKVGs,1
+qdrive-0.2.13.dist-info/RECORD,,
```

