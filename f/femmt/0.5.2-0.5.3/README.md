# Comparing `tmp/femmt-0.5.2.tar.gz` & `tmp/femmt-0.5.3.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "femmt-0.5.2.tar", last modified: Tue Apr 30 09:07:13 2024, max compression
+gzip compressed data, was "femmt-0.5.3.tar", last modified: Thu May 23 14:37:00 2024, max compression
```

## Comparing `femmt-0.5.2.tar` & `femmt-0.5.3.tar`

### file list

```diff
@@ -1,241 +1,243 @@
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.172088 femmt-0.5.2/
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.128754 femmt-0.5.2/.github/
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.132087 femmt-0.5.2/.github/ISSUE_TEMPLATE/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      607 2024-02-06 10:47:40.000000 femmt-0.5.2/.github/ISSUE_TEMPLATE/bug_report.md
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      595 2024-02-06 10:47:40.000000 femmt-0.5.2/.github/ISSUE_TEMPLATE/feature_request.md
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.132087 femmt-0.5.2/.github/workflows/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2888 2024-02-06 10:47:40.000000 femmt-0.5.2/.github/workflows/develop.yml
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2795 2024-02-06 10:47:40.000000 femmt-0.5.2/.github/workflows/main.yml
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2127 2024-03-28 13:58:29.000000 femmt-0.5.2/.gitignore
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5459 2024-04-30 09:00:03.000000 femmt-0.5.2/CHANGELOG.md
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      760 2024-02-06 10:47:40.000000 femmt-0.5.2/Contributing.rst
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    35149 2024-02-06 10:47:40.000000 femmt-0.5.2/LICENSE
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10796 2024-04-30 09:07:13.172088 femmt-0.5.2/PKG-INFO
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4047 2024-02-06 10:47:40.000000 femmt-0.5.2/README.rst
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.132087 femmt-0.5.2/documentation/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      638 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/Makefile
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       42 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/README.txt
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.138754 femmt-0.5.2/documentation/images/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   202472 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/FEMMT_Screenshot.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    15479 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/counting_arrow_system.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    43982 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/counting_arrow_system.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    55539 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/femmt.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   626459 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/femmt.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   129818 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/femmt_gui_definition.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   131925 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_air_gap.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    37209 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_air_gap.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    61487 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_core.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    16333 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_core.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    16803 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_core_developer_notes.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10233 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_core_developer_notes.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    89801 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_core_naming_convention.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    17608 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_core_naming_convention.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   134353 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_insulation.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    29323 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_insulation.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   123927 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_thermal.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    51147 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_thermal.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   135782 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_translated.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    44463 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_translated.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   166443 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_winding_windows.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    23495 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/geometry_winding_windows.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    31497 2024-04-30 08:54:03.000000 femmt-0.5.2/documentation/images/msh_panel.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   676447 2024-04-30 08:54:03.000000 femmt-0.5.2/documentation/images/msh_simulation.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    60552 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/pycharm_configuration_pro_files.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   126717 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/pycharm_configuration_pro_files.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6800 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/user_guide_example_model.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   149303 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/user_guide_example_simulation.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    97251 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/user_guide_example_thermal_simulation.png
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.142087 femmt-0.5.2/documentation/images/winding_types/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    17626 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Interleaved_HorizontalAlternating.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    16806 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Interleaved_VerticalStacked_hexagonal.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    16356 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Interleaved_VerticalStacked_square.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10523 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_FoilHorizontal.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10670 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_FoilVertical_fixed_thickness.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10564 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_FoilVertical_interpolate.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     9532 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_Full.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    15344 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_Hexagonal.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    15143 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_Square.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    14416 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/images/winding_types/Single_SquareFullWidth.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      764 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/make.bat
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.142087 femmt-0.5.2/documentation/source/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2992 2024-04-30 09:01:52.000000 femmt-0.5.2/documentation/source/conf.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5664 2024-04-23 04:53:20.000000 femmt-0.5.2/documentation/source/developer_notes.rst
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      271 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/source/index.rst
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2842 2024-04-23 04:53:20.000000 femmt-0.5.2/documentation/source/intro.rst
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5122 2024-04-23 04:53:20.000000 femmt-0.5.2/documentation/source/introduction.rst
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    47836 2024-04-30 08:54:03.000000 femmt-0.5.2/documentation/source/user_guide_model_creation.rst
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3172 2024-02-06 10:47:40.000000 femmt-0.5.2/documentation/source/winding_types.rst
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.148754 femmt-0.5.2/femmt/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      540 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/__init__.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   238256 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/component.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      154 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/constants.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     9614 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/data.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    92940 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/drawing.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2794 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/dtos.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.148754 femmt-0.5.2/femmt/electro_magnetic/
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.152087 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2415 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/cell.geo
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     9262 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/cell.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      611 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/cell_dat.pro
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.152087 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/unused/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2444 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/unused/cell_hexa_circ.geo
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1620 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/unused/cell_square_circ.geo
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5574 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/fields.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5753 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/fields_time.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    25448 2024-04-30 08:54:03.000000 femmt-0.5.2/femmt/electro_magnetic/ind_axi_python_controlled.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    26955 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/ind_axi_python_controlled_time.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7868 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/solver.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5757 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/solver_time.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6133 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/values.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8043 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/electro_magnetic/values_time.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10757 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/enumerations.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.155421 femmt-0.5.2/femmt/examples/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       40 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/__init__.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4533 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/advanced_inductor_air_gap_sweep.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5069 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/advanced_inductor_sweep.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3413 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/advanced_sto.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8443 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_inductor.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6548 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_inductor_foil_vertical.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6834 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_inductor_time_domain.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1255 2023-10-24 06:35:06.000000 femmt-0.5.2/femmt/examples/basic_load_from_file.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7301 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8829 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer_5_windings.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     9250 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer_6_windings.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6446 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/basic_transformer_center_tapped.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7511 2024-02-15 16:25:56.000000 femmt-0.5.2/femmt/examples/basic_transformer_integrated.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6875 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/basic_transformer_interleaved.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    12491 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer_n_winding.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7373 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/basic_transformer_stacked.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6929 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/basic_transformer_stacked_center_tapped.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7570 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer_three_winding.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6738 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer_three_winding_time_domain.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6472 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/basic_transformer_time_domain.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.155421 femmt-0.5.2/femmt/examples/component_study/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       50 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/component_study/__init__.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      640 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/component_study/create_currents.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1882 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/component_study/i1.csv
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1876 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/component_study/i2.csv
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4201 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/examples/component_study/transformer_component_study.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4035 2023-03-14 13:00:37.000000 femmt-0.5.2/femmt/examples/dab_current_waveform_calculator.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4562 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/example_log.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6372 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/excitation_sweep_example.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    43614 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/femmt_benchmark.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    11574 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/hpc_examples.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    63536 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/inductor_optimization.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7173 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/ito_brute_force_example.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4155 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/ito_optuna_example.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8744 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/examples/winding_test.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    66729 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/functions.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    25137 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/functions_drawing.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1164 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/functions_model.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    36426 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/functions_reluctance.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    14647 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/functions_topologies.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5936 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/hpc.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8862 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/logparser.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   100487 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/mesh.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    63677 2024-04-23 04:53:20.000000 femmt-0.5.2/femmt/model.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.158754 femmt-0.5.2/femmt/optimization/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      395 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/__init__.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8801 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/functions_optimization.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    82044 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/ito.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3572 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/ito_dtos.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    17563 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/ito_functions.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2357 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/optuna_femmt_parser.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    67482 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/sto.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3649 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/sto_dtos.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    37430 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/to.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3547 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/optimization/to_dtos.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    43558 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/reluctance.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1416 2023-12-12 09:36:36.000000 femmt-0.5.2/femmt/ssh_trial.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.158754 femmt-0.5.2/femmt/thermal/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      178 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/thermal/__init__.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.158754 femmt-0.5.2/femmt/thermal/solver/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1784 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/thermal/solver/Solver.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      666 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/thermal/solver/Thermal.pro
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5634 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/thermal/thermal_classes.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1048 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/thermal/thermal_functions.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    23305 2024-02-06 10:47:40.000000 femmt-0.5.2/femmt/thermal/thermal_simulation.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      376 2024-04-09 11:07:39.000000 femmt-0.5.2/femmt/trial.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.172088 femmt-0.5.2/femmt.egg-info/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    10796 2024-04-30 09:07:13.000000 femmt-0.5.2/femmt.egg-info/PKG-INFO
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     9477 2024-04-30 09:07:13.000000 femmt-0.5.2/femmt.egg-info/SOURCES.txt
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)        1 2024-04-30 09:07:13.000000 femmt-0.5.2/femmt.egg-info/dependency_links.txt
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)        1 2022-12-19 10:30:32.000000 femmt-0.5.2/femmt.egg-info/not-zip-safe
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      188 2024-04-30 09:07:13.000000 femmt-0.5.2/femmt.egg-info/requires.txt
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)        6 2024-04-30 09:07:13.000000 femmt-0.5.2/femmt.egg-info/top_level.txt
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.165421 femmt-0.5.2/gui/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)  1085018 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/FEMMT_Definitions.svg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    51986 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/FigureObject.fig.pickle
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.128754 femmt-0.5.2/gui/example_results/
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.128754 femmt-0.5.2/gui/example_results/inductor/
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.165421 femmt-0.5.2/gui/example_results/inductor/mesh/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6814 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/example_results/inductor/mesh/hybrid_color.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   181100 2024-04-30 08:54:03.000000 femmt-0.5.2/gui/femmt_gui.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   396296 2024-04-30 08:54:03.000000 femmt-0.5.2/gui/femmt_gui.ui
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   287102 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/ferriteCore.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    39804 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/md_winding_1.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    39804 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/md_winding_2.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1140 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/onelab_path_popup.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2652 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/onelab_path_popup.ui
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    52004 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/plot.fig.pickle
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   100502 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/plot.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   137859 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/plot2.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    15982 2024-02-06 10:47:40.000000 femmt-0.5.2/gui/results.png
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      775 2024-02-19 09:14:21.000000 femmt-0.5.2/ruff.toml
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       38 2024-04-30 09:07:13.172088 femmt-0.5.2/setup.cfg
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2428 2024-04-30 09:01:12.000000 femmt-0.5.2/setup.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.165421 femmt-0.5.2/tests/
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.165421 femmt-0.5.2/tests/integration/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       39 2024-02-06 10:47:40.000000 femmt-0.5.2/tests/integration/__init__.py
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.172088 femmt-0.5.2/tests/integration/fixtures/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1581 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1580 2024-04-30 08:54:03.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_dc.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1603 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_horizontal.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      948 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_vertical.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1713 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_litz_wire.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1581 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_material_database.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1581 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_material_measurement.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1287 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_inductor_time_domain.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2527 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_3_windings_time_domain.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3954 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_5_windings.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2392 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1728 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_integrated_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2915 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_interleaved_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2855 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_stacked_center_tapped.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2302 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/geometry_transformer_time_domain.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5302 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5027 2024-04-30 08:54:03.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_dc.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5001 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_horizontal.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4613 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_vertical.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5315 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_litz_wire.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5391 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_material_database.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5423 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_core_material_measurement.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5713 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/inductor_time_domain.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      608 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/material_inductor_core_material_database.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      807 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/material_inductor_core_material_database_measurement.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      810 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/material_transformer_5_windings.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1848 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1846 2024-04-30 08:54:03.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_dc.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2102 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_horizontal.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1226 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_vertical.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1845 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_litz_wire.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1850 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_material_database.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     1847 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_material_database_measurement.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     5190 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_transformer_5_windings.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3091 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_transformer_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     2107 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_transformer_integrated_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     4101 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_transformer_interleaved_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     3353 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/thermal_transformer_stacked_center_tapped.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    11205 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_3_windings_time_domain.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    13848 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_5_windings.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7126 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8149 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_integrated_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     7232 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_interleaved_core_fixed_loss_angle.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)    22044 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_stacked_center_tapped.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     8525 2024-04-23 04:53:20.000000 femmt-0.5.2/tests/integration/fixtures/transformer_time_domain.json
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)   119318 2024-04-30 08:54:03.000000 femmt-0.5.2/tests/integration/test_femmt.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       45 2024-02-06 10:47:40.000000 femmt-0.5.2/tests/pytest.ini
-drwxr-xr-x   0 nikolasf  (1000) nikolasf  (1000)        0 2024-04-30 09:07:13.172088 femmt-0.5.2/tests/unit/
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)       32 2024-02-06 10:47:40.000000 femmt-0.5.2/tests/unit/__init__.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)     6747 2024-02-06 10:47:40.000000 femmt-0.5.2/tests/unit/test_femmt_functions.py
--rw-r--r--   0 nikolasf  (1000) nikolasf  (1000)      319 2024-02-06 10:47:40.000000 femmt-0.5.2/tox.ini
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.593810 femmt-0.5.3/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.545809 femmt-0.5.3/.github/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.549809 femmt-0.5.3/.github/ISSUE_TEMPLATE/
+-rw-r--r--   0 runner    (1001) docker     (127)      607 2024-05-23 14:36:54.000000 femmt-0.5.3/.github/ISSUE_TEMPLATE/bug_report.md
+-rw-r--r--   0 runner    (1001) docker     (127)      595 2024-05-23 14:36:54.000000 femmt-0.5.3/.github/ISSUE_TEMPLATE/feature_request.md
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.549809 femmt-0.5.3/.github/workflows/
+-rw-r--r--   0 runner    (1001) docker     (127)     2879 2024-05-23 14:36:54.000000 femmt-0.5.3/.github/workflows/develop.yml
+-rw-r--r--   0 runner    (1001) docker     (127)     2786 2024-05-23 14:36:54.000000 femmt-0.5.3/.github/workflows/main.yml
+-rw-r--r--   0 runner    (1001) docker     (127)     1214 2024-05-23 14:36:54.000000 femmt-0.5.3/.github/workflows/python-publish.yml
+-rw-r--r--   0 runner    (1001) docker     (127)     1767 2024-05-23 14:36:54.000000 femmt-0.5.3/.github/workflows/sphinx_render_docs.yml
+-rw-r--r--   0 runner    (1001) docker     (127)     2127 2024-05-23 14:36:54.000000 femmt-0.5.3/.gitignore
+-rw-r--r--   0 runner    (1001) docker     (127)     5682 2024-05-23 14:36:54.000000 femmt-0.5.3/CHANGELOG.md
+-rw-r--r--   0 runner    (1001) docker     (127)      760 2024-05-23 14:36:54.000000 femmt-0.5.3/Contributing.rst
+-rw-r--r--   0 runner    (1001) docker     (127)    35149 2024-05-23 14:36:54.000000 femmt-0.5.3/LICENSE
+-rw-r--r--   0 runner    (1001) docker     (127)    15521 2024-05-23 14:37:00.589810 femmt-0.5.3/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)     8500 2024-05-23 14:36:54.000000 femmt-0.5.3/README.rst
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.549809 femmt-0.5.3/docs/
+-rw-r--r--   0 runner    (1001) docker     (127)      638 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/Makefile
+-rw-r--r--   0 runner    (1001) docker     (127)       42 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/README.txt
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.561809 femmt-0.5.3/docs/images/
+-rw-r--r--   0 runner    (1001) docker     (127)   202472 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/FEMMT_Screenshot.png
+-rw-r--r--   0 runner    (1001) docker     (127)    15479 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/counting_arrow_system.png
+-rw-r--r--   0 runner    (1001) docker     (127)    43982 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/counting_arrow_system.svg
+-rw-r--r--   0 runner    (1001) docker     (127)    55539 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/femmt.png
+-rw-r--r--   0 runner    (1001) docker     (127)   626459 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/femmt.svg
+-rw-r--r--   0 runner    (1001) docker     (127)   129818 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/femmt_gui_definition.png
+-rw-r--r--   0 runner    (1001) docker     (127)   131925 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_air_gap.png
+-rw-r--r--   0 runner    (1001) docker     (127)    37209 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_air_gap.svg
+-rw-r--r--   0 runner    (1001) docker     (127)    61487 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_core.png
+-rw-r--r--   0 runner    (1001) docker     (127)    16333 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_core.svg
+-rw-r--r--   0 runner    (1001) docker     (127)    16803 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_core_developer_notes.png
+-rw-r--r--   0 runner    (1001) docker     (127)    10233 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_core_developer_notes.svg
+-rw-r--r--   0 runner    (1001) docker     (127)    89801 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_core_naming_convention.png
+-rw-r--r--   0 runner    (1001) docker     (127)    17608 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_core_naming_convention.svg
+-rw-r--r--   0 runner    (1001) docker     (127)   134353 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_insulation.png
+-rw-r--r--   0 runner    (1001) docker     (127)    29323 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_insulation.svg
+-rw-r--r--   0 runner    (1001) docker     (127)   123927 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_thermal.png
+-rw-r--r--   0 runner    (1001) docker     (127)    51147 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_thermal.svg
+-rw-r--r--   0 runner    (1001) docker     (127)   135782 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_translated.png
+-rw-r--r--   0 runner    (1001) docker     (127)    44463 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_translated.svg
+-rw-r--r--   0 runner    (1001) docker     (127)   166443 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_winding_windows.png
+-rw-r--r--   0 runner    (1001) docker     (127)    23495 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/geometry_winding_windows.svg
+-rw-r--r--   0 runner    (1001) docker     (127)    31497 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/msh_panel.png
+-rw-r--r--   0 runner    (1001) docker     (127)   676447 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/msh_simulation.png
+-rw-r--r--   0 runner    (1001) docker     (127)    60552 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/pycharm_configuration_pro_files.png
+-rw-r--r--   0 runner    (1001) docker     (127)   126717 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/pycharm_configuration_pro_files.svg
+-rw-r--r--   0 runner    (1001) docker     (127)     6800 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/user_guide_example_model.png
+-rw-r--r--   0 runner    (1001) docker     (127)   149303 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/user_guide_example_simulation.png
+-rw-r--r--   0 runner    (1001) docker     (127)    97251 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/user_guide_example_thermal_simulation.png
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.561809 femmt-0.5.3/docs/images/winding_types/
+-rw-r--r--   0 runner    (1001) docker     (127)    17626 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Interleaved_HorizontalAlternating.png
+-rw-r--r--   0 runner    (1001) docker     (127)    16806 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Interleaved_VerticalStacked_hexagonal.png
+-rw-r--r--   0 runner    (1001) docker     (127)    16356 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Interleaved_VerticalStacked_square.png
+-rw-r--r--   0 runner    (1001) docker     (127)    10523 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_FoilHorizontal.png
+-rw-r--r--   0 runner    (1001) docker     (127)    10670 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_FoilVertical_fixed_thickness.png
+-rw-r--r--   0 runner    (1001) docker     (127)    10564 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_FoilVertical_interpolate.png
+-rw-r--r--   0 runner    (1001) docker     (127)     9532 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_Full.png
+-rw-r--r--   0 runner    (1001) docker     (127)    15344 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_Hexagonal.png
+-rw-r--r--   0 runner    (1001) docker     (127)    15143 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_Square.png
+-rw-r--r--   0 runner    (1001) docker     (127)    14416 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/images/winding_types/Single_SquareFullWidth.png
+-rw-r--r--   0 runner    (1001) docker     (127)      764 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/make.bat
+-rw-r--r--   0 runner    (1001) docker     (127)       56 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/requirements.txt
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.561809 femmt-0.5.3/docs/source/
+-rw-r--r--   0 runner    (1001) docker     (127)     2969 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/conf.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5673 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/developer_notes.rst
+-rw-r--r--   0 runner    (1001) docker     (127)      271 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/index.rst
+-rw-r--r--   0 runner    (1001) docker     (127)     2866 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/intro.rst
+-rw-r--r--   0 runner    (1001) docker     (127)     3794 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/introduction.rst
+-rw-r--r--   0 runner    (1001) docker     (127)     6608 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/readme.rst
+-rw-r--r--   0 runner    (1001) docker     (127)    47838 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/user_guide_model_creation.rst
+-rw-r--r--   0 runner    (1001) docker     (127)     3172 2024-05-23 14:36:54.000000 femmt-0.5.3/docs/source/winding_types.rst
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.565810 femmt-0.5.3/femmt/
+-rw-r--r--   0 runner    (1001) docker     (127)      540 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)   239358 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/component.py
+-rw-r--r--   0 runner    (1001) docker     (127)      154 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/constants.py
+-rw-r--r--   0 runner    (1001) docker     (127)     9615 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/data.py
+-rw-r--r--   0 runner    (1001) docker     (127)    92933 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/drawing.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2795 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/dtos.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.569810 femmt-0.5.3/femmt/electro_magnetic/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.569810 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/
+-rw-r--r--   0 runner    (1001) docker     (127)     2415 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/cell.geo
+-rw-r--r--   0 runner    (1001) docker     (127)     9262 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/cell.pro
+-rw-r--r--   0 runner    (1001) docker     (127)      611 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/cell_dat.pro
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.569810 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/unused/
+-rw-r--r--   0 runner    (1001) docker     (127)     2444 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/unused/cell_hexa_circ.geo
+-rw-r--r--   0 runner    (1001) docker     (127)     1620 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/unused/cell_square_circ.geo
+-rw-r--r--   0 runner    (1001) docker     (127)     5574 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/fields.pro
+-rw-r--r--   0 runner    (1001) docker     (127)     5753 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/fields_time.pro
+-rw-r--r--   0 runner    (1001) docker     (127)    25448 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/ind_axi_python_controlled.pro
+-rw-r--r--   0 runner    (1001) docker     (127)    26955 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/ind_axi_python_controlled_time.pro
+-rw-r--r--   0 runner    (1001) docker     (127)     7868 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/solver.pro
+-rw-r--r--   0 runner    (1001) docker     (127)     5757 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/solver_time.pro
+-rw-r--r--   0 runner    (1001) docker     (127)     6133 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/values.pro
+-rw-r--r--   0 runner    (1001) docker     (127)     8043 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/electro_magnetic/values_time.pro
+-rw-r--r--   0 runner    (1001) docker     (127)    10756 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/enumerations.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.573809 femmt-0.5.3/femmt/examples/
+-rw-r--r--   0 runner    (1001) docker     (127)       40 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     4533 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/advanced_inductor_air_gap_sweep.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5069 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/advanced_inductor_sweep.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3413 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/advanced_sto.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8443 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_inductor.py
+-rw-r--r--   0 runner    (1001) docker     (127)     4099 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_inductor_excitation_sweep.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6548 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_inductor_foil_vertical.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6832 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_inductor_time_domain.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5682 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_split_windings.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7301 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8829 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_5_windings.py
+-rw-r--r--   0 runner    (1001) docker     (127)     9249 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_6_windings.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6446 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_center_tapped.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3607 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_excitation_sweep.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7511 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_integrated.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6875 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_interleaved.py
+-rw-r--r--   0 runner    (1001) docker     (127)    12492 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_n_winding.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7373 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_stacked.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6931 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_stacked_center_tapped.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7570 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_three_winding.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6736 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_three_winding_time_domain.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6470 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/basic_transformer_time_domain.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.573809 femmt-0.5.3/femmt/examples/component_study/
+-rw-r--r--   0 runner    (1001) docker     (127)       50 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/component_study/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      640 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/component_study/create_currents.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1882 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/component_study/i1.csv
+-rw-r--r--   0 runner    (1001) docker     (127)     1876 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/component_study/i2.csv
+-rw-r--r--   0 runner    (1001) docker     (127)     4201 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/component_study/transformer_component_study.py
+-rw-r--r--   0 runner    (1001) docker     (127)     4562 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/example_log.json
+-rw-r--r--   0 runner    (1001) docker     (127)    43614 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/femmt_benchmark.py
+-rw-r--r--   0 runner    (1001) docker     (127)    11574 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/hpc_examples.py
+-rw-r--r--   0 runner    (1001) docker     (127)    63733 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/inductor_optimization.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7155 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/ito_brute_force_example.py
+-rw-r--r--   0 runner    (1001) docker     (127)     4145 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/ito_optuna_example.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8744 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/examples/winding_test.py
+-rw-r--r--   0 runner    (1001) docker     (127)    67550 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/functions.py
+-rw-r--r--   0 runner    (1001) docker     (127)    25134 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/functions_drawing.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1164 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/functions_model.py
+-rw-r--r--   0 runner    (1001) docker     (127)    36412 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/functions_reluctance.py
+-rw-r--r--   0 runner    (1001) docker     (127)    14647 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/functions_topologies.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5937 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/hpc.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8862 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/logparser.py
+-rw-r--r--   0 runner    (1001) docker     (127)   100487 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/mesh.py
+-rw-r--r--   0 runner    (1001) docker     (127)    69729 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/model.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.577809 femmt-0.5.3/femmt/optimization/
+-rw-r--r--   0 runner    (1001) docker     (127)      395 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8797 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/functions_optimization.py
+-rw-r--r--   0 runner    (1001) docker     (127)    82043 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/ito.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3572 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/ito_dtos.py
+-rw-r--r--   0 runner    (1001) docker     (127)    17669 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/ito_functions.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2357 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/optuna_femmt_parser.py
+-rw-r--r--   0 runner    (1001) docker     (127)    67440 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/sto.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3649 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/sto_dtos.py
+-rw-r--r--   0 runner    (1001) docker     (127)    37430 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/to.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3548 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/optimization/to_dtos.py
+-rw-r--r--   0 runner    (1001) docker     (127)    43560 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/reluctance.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.577809 femmt-0.5.3/femmt/thermal/
+-rw-r--r--   0 runner    (1001) docker     (127)      178 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/thermal/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.577809 femmt-0.5.3/femmt/thermal/solver/
+-rw-r--r--   0 runner    (1001) docker     (127)     1784 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/thermal/solver/Solver.pro
+-rw-r--r--   0 runner    (1001) docker     (127)      666 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/thermal/solver/Thermal.pro
+-rw-r--r--   0 runner    (1001) docker     (127)     5635 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/thermal/thermal_classes.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1049 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/thermal/thermal_functions.py
+-rw-r--r--   0 runner    (1001) docker     (127)    23301 2024-05-23 14:36:54.000000 femmt-0.5.3/femmt/thermal/thermal_simulation.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.589810 femmt-0.5.3/femmt.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (127)    15521 2024-05-23 14:37:00.000000 femmt-0.5.3/femmt.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)     9135 2024-05-23 14:37:00.000000 femmt-0.5.3/femmt.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-23 14:37:00.000000 femmt-0.5.3/femmt.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-23 14:37:00.000000 femmt-0.5.3/femmt.egg-info/not-zip-safe
+-rw-r--r--   0 runner    (1001) docker     (127)      188 2024-05-23 14:37:00.000000 femmt-0.5.3/femmt.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        6 2024-05-23 14:37:00.000000 femmt-0.5.3/femmt.egg-info/top_level.txt
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.581810 femmt-0.5.3/gui/
+-rw-r--r--   0 runner    (1001) docker     (127)  1085018 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/FEMMT_Definitions.svg
+-rw-r--r--   0 runner    (1001) docker     (127)    51986 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/FigureObject.fig.pickle
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.549809 femmt-0.5.3/gui/example_results/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.549809 femmt-0.5.3/gui/example_results/inductor/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.581810 femmt-0.5.3/gui/example_results/inductor/mesh/
+-rw-r--r--   0 runner    (1001) docker     (127)     6814 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/example_results/inductor/mesh/hybrid_color.png
+-rw-r--r--   0 runner    (1001) docker     (127)   187760 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/femmt_gui.py
+-rw-r--r--   0 runner    (1001) docker     (127)   397341 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/femmt_gui.ui
+-rw-r--r--   0 runner    (1001) docker     (127)   287102 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/ferriteCore.png
+-rw-r--r--   0 runner    (1001) docker     (127)    39804 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/md_winding_1.png
+-rw-r--r--   0 runner    (1001) docker     (127)    39804 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/md_winding_2.png
+-rw-r--r--   0 runner    (1001) docker     (127)     1140 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/onelab_path_popup.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2652 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/onelab_path_popup.ui
+-rw-r--r--   0 runner    (1001) docker     (127)    52004 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/plot.fig.pickle
+-rw-r--r--   0 runner    (1001) docker     (127)   100502 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/plot.png
+-rw-r--r--   0 runner    (1001) docker     (127)   137859 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/plot2.png
+-rw-r--r--   0 runner    (1001) docker     (127)    15982 2024-05-23 14:36:54.000000 femmt-0.5.3/gui/results.png
+-rw-r--r--   0 runner    (1001) docker     (127)      775 2024-05-23 14:36:54.000000 femmt-0.5.3/ruff.toml
+-rw-r--r--   0 runner    (1001) docker     (127)       38 2024-05-23 14:37:00.593810 femmt-0.5.3/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (127)     2480 2024-05-23 14:36:54.000000 femmt-0.5.3/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.581810 femmt-0.5.3/tests/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.581810 femmt-0.5.3/tests/integration/
+-rw-r--r--   0 runner    (1001) docker     (127)       39 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.589810 femmt-0.5.3/tests/integration/fixtures/
+-rw-r--r--   0 runner    (1001) docker     (127)     1581 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1580 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_dc.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1603 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_horizontal.json
+-rw-r--r--   0 runner    (1001) docker     (127)      948 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_vertical.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1713 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_litz_wire.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1581 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_material_database.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1581 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_material_measurement.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1287 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_inductor_time_domain.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2527 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_3_windings_time_domain.json
+-rw-r--r--   0 runner    (1001) docker     (127)     3954 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_5_windings.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2392 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1728 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_integrated_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2915 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_interleaved_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2855 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_stacked_center_tapped.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2302 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/geometry_transformer_time_domain.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5302 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5027 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_dc.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5001 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_horizontal.json
+-rw-r--r--   0 runner    (1001) docker     (127)     4613 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_vertical.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5315 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_litz_wire.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5391 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_material_database.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5423 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_core_material_measurement.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5713 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/inductor_time_domain.json
+-rw-r--r--   0 runner    (1001) docker     (127)      608 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/material_inductor_core_material_database.json
+-rw-r--r--   0 runner    (1001) docker     (127)      807 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/material_inductor_core_material_database_measurement.json
+-rw-r--r--   0 runner    (1001) docker     (127)      810 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/material_transformer_5_windings.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1848 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1846 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_dc.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2102 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_horizontal.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1226 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_vertical.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1845 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_litz_wire.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1850 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_material_database.json
+-rw-r--r--   0 runner    (1001) docker     (127)     1847 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_material_database_measurement.json
+-rw-r--r--   0 runner    (1001) docker     (127)     5190 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_transformer_5_windings.json
+-rw-r--r--   0 runner    (1001) docker     (127)     3091 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_transformer_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     2107 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_transformer_integrated_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     4101 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_transformer_interleaved_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     3353 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/thermal_transformer_stacked_center_tapped.json
+-rw-r--r--   0 runner    (1001) docker     (127)    11205 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_3_windings_time_domain.json
+-rw-r--r--   0 runner    (1001) docker     (127)    13848 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_5_windings.json
+-rw-r--r--   0 runner    (1001) docker     (127)     7126 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     8149 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_integrated_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)     7232 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_interleaved_core_fixed_loss_angle.json
+-rw-r--r--   0 runner    (1001) docker     (127)    22044 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_stacked_center_tapped.json
+-rw-r--r--   0 runner    (1001) docker     (127)     8525 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/fixtures/transformer_time_domain.json
+-rw-r--r--   0 runner    (1001) docker     (127)   120988 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/integration/test_femmt.py
+-rw-r--r--   0 runner    (1001) docker     (127)       45 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/pytest.ini
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-23 14:37:00.589810 femmt-0.5.3/tests/unit/
+-rw-r--r--   0 runner    (1001) docker     (127)       32 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/unit/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6747 2024-05-23 14:36:54.000000 femmt-0.5.3/tests/unit/test_femmt_functions.py
+-rw-r--r--   0 runner    (1001) docker     (127)      319 2024-05-23 14:36:54.000000 femmt-0.5.3/tox.ini
```

### Comparing `femmt-0.5.2/.github/ISSUE_TEMPLATE/bug_report.md` & `femmt-0.5.3/.github/ISSUE_TEMPLATE/bug_report.md`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/.github/ISSUE_TEMPLATE/feature_request.md` & `femmt-0.5.3/.github/ISSUE_TEMPLATE/feature_request.md`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/.github/workflows/develop.yml` & `femmt-0.5.3/.github/workflows/develop.yml`

 * *Files 1% similar despite different names*

```diff
@@ -79,9 +79,9 @@
           echo tests finished.
 
       - name: Install sphinx and build documentation with sphinx
         run: |
           pip install sphinx sphinx-multiversion sphinx_rtd_theme sphinxcontrib-email
           pwd
           ls
-          cd documentation/
+          cd docs/
           make html
```

### Comparing `femmt-0.5.2/.github/workflows/main.yml` & `femmt-0.5.3/.github/workflows/main.yml`

 * *Files 2% similar despite different names*

```diff
@@ -33,15 +33,15 @@
           
             pip install ruff
             ruff check $(git ls-files '*.py')
 
       - name: install femmt package
         run: |
             sudo apt-get update
-            # Problem with OSError: libGLU.so.1: connot open shared object file
+            # Problem with OSError: libGLU.so.1: cannot open shared object file
             # Answer here: https://stackoverflow.com/questions/55313610/importerror-libgl-so-1-cannot-open-shared-object-file-no-such-file-or-directo
             sudo apt install libsm6 libxext6 ffmpeg libfontconfig1 libxrender1 libglu1
             # Unzip used for onelab
             sudo apt install unzip
             pip install --upgrade pip
             pip install opencv-python
             pip install -e .
@@ -79,9 +79,9 @@
           echo tests finished.
 
       - name: Install sphinx and build documentation with sphinx
         run: |
           pip install sphinx sphinx-multiversion sphinx_rtd_theme sphinxcontrib-email
           pwd
           ls
-          cd documentation/
+          cd docs/
           make html
```

### Comparing `femmt-0.5.2/.gitignore` & `femmt-0.5.3/.gitignore`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/CHANGELOG.md` & `femmt-0.5.3/CHANGELOG.md`

 * *Files 4% similar despite different names*

```diff
@@ -2,15 +2,17 @@
 All notable changes to this project will be documented in this file.
 
 The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
 and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).
 
 
 ## [Unreleased]
-
+## [0.5.3] - 2024-05-23
+### Added 
+- Conductor placing strategies
 
 ## [0.5.2] - 2024-04-30
 ### Added 
 - log_material.json output for material logging information 
 ### Fixed
 - Improved non-linear solver, as there were some one-shot results without any iteration
 - Wrong displayed currents when using excitation_sweep() with complex currents
@@ -134,15 +136,17 @@
 #### Additional/Experimental Code
 - add femmt/pandas_json.py
 - add femmt/femm_test.py
 - add femmt/SimComparison.py
 - add femmt/SolidComp.py
 - add femmt/CompRes.py
 
-[Unreleased]: https://github.com/upb-lea/transistordatabase/compare/0.5.1...HEAD
+[Unreleased]: https://github.com/upb-lea/transistordatabase/compare/0.5.3...HEAD
+[0.5.3]: https://github.com/upb-lea/transistordatabase/compare/0.5.3...0.5.2
+[0.5.2]: https://github.com/upb-lea/transistordatabase/compare/0.5.2...0.5.1
 [0.5.1]: https://github.com/upb-lea/transistordatabase/compare/0.5.1...0.5.0
 [0.5.0]: https://github.com/upb-lea/transistordatabase/compare/0.5.0...0.4.0
 [0.4.0]: https://github.com/upb-lea/transistordatabase/compare/0.4.0...0.3.0
 [0.3.0]: https://github.com/upb-lea/transistordatabase/compare/0.3.0...0.2.1
 [0.2.1]: https://github.com/upb-lea/transistordatabase/compare/0.2.0...0.2.1
 [0.2.0]: https://github.com/upb-lea/transistordatabase/compare/0.1.2...0.2.0
 [0.1.2]: https://github.com/upb-lea/transistordatabase/compare/0.1.1...0.1.2
```

### Comparing `femmt-0.5.2/Contributing.rst` & `femmt-0.5.3/Contributing.rst`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/LICENSE` & `femmt-0.5.3/LICENSE`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/README.rst` & `femmt-0.5.3/docs/source/introduction.rst`

 * *Files 24% similar despite different names*

```diff
@@ -1,126 +1,92 @@
-FEM Magnetics Toolbox (FEMMT)
-=============================
 
-This README only provides a short overview. For more information please have a look at the detailed documentation `here <https://upb-lea.github.io/FEM_Magnetics_Toolbox/main/intro.html>`__.
 
-Python toolbox to generate preconfigured figures for FEM simulation
-tools in power electronics.
+FEMMT development version (for developers only)
+------------------------------------------------------------
 
-The toolbox contains two parts, a reluctance module and a FEM module. 
+This is the latest development version with the latest features. Note:
+You may need to install `git <https://git-scm.com/downloads>`__.
+Also have a look at the `developers notes </developers_notes.md>`__.
 
-* The reluctance module is for pre-calculations 
-* The FEM module is for detailed calculations
+FEMMT is using the material database. To use the latest version for developing, also install the material database in developer mode. It is important to first install the material database, second install FEMMT. Note the ``dot .`` in the following instructions.
 
-The toolbox is accessible via python code or a graphical user interface
-(GUI), which current development status is experimental. 
-
-|image0|
-
-Functionality examples 
+::
 
-* work with pre-defined standard core structures
-* work with pre-defined litz wires 
-* use python to perform parametersweeps, e.g. perform several automated simulations of different air gap sizes 
-* read the results automated with python from the FEM simulation tool
-* run a thermal simulation to see the temperatures, once the magnetoquasistatic simulation has finished
+   cd /Documents/Folder/of/Interest/materialdatabase   
+   git clone git@github.com:upb-lea/materialdatabase.git
+   cd materialdatabase
+   pip install -e .
 
-**Note: Alpha Version!** 
+After the material database has been installed, install FEMMT:
 
-* GUI is experimental, 
-* reluctance module is currently working for a single optimization example and not fully implemented yet.
+::
 
-Documentation
--------------------
-Please have a look at the `documentation <https://upb-lea.github.io/FEM_Magnetics_Toolbox/main/intro.html>`__. You will find tutorials and a function description.
+   cd /Documents/Folder/of/Interest/   
+   git clone git@github.com:upb-lea/FEM_Magnetics_Toolbox.git
+   cd FEM_Magnetics_Toolbox/
+   pip install -e .
 
-Installation
----------------
+Basics
+~~~~~~~~~~
 
-To run FEMMT python (version 3.8 or above) and onelab is needed.
+The magnetic component can be an inductor, a transformer, or a
+transformer with integrated stray path. The parameterization process is
+divided into the following steps: 
 
-ONELAB installation
-~~~~~~~~~~~~~~~~~~~~~~~
+1. Choose the simulation type, whether it's frequency domain or time domain simulation,
+2. set core parameters (geometry, material), 
+3. set air gap parameters (position, height),
+4. set insulation distances
+5. set conductor parameters (litz/solid wire),
+6. start the frequency domain simulation by specifying the given frequencies, currents, and phases, and start the time domain simulation by specifying the given currents, and time parameters.
 
--  Go to https://onelab.info/
--  Download the Desktop Version for your OS (Windows, Linux or macOS)
--  Unpack the software and remember the file path. This will be needed
-   later when installing FEMMT.
+Please have a look at the `basic_inductor example </femmt/examples/basic_inductor.py>`__ for frequency domain simulation, and
+at the `basic_inductor_time_domain example </femmt/examples/basic_inductor_time_domain.py>`__ for time domain simulation.
 
-Install FEMMT
-~~~~~~~~~~~~~~~~~
+The examples contain among other things: 
 
-FEMMT can be installed using the python pip package manager.
-This is the stable release version (recommended). 
+* Geometries: Coil, transformer, transformer with integrated stray path, 
+* wire and stranded wire definition, 
+* air gaps definition, 
+* excitation with different frequencies, amplitudes and phases for frequency domain simulation, and with amplitudes and time steps for time domain simulation.
 
-::
+The simulation results can be found in `working_directory/results/result_log_electro_magnetic.json`. Working directory can either be set by the user otherwise it located at `/python-side-packages-path/femmt`.
+In it you can find 
 
-   pip install femmt
+* power loss in the core: hysteresis losses and eddy current losses, 
+* losses per winding and for each individual winding,
+* self- and mutual inductances.
 
-For working with the latest version, refer to the `documentation <https://upb-lea.github.io/FEM_Magnetics_Toolbox/main/intro.html>`__.
+For a more detailed guide on how to create a model, please have a look :ref:`here <user_guide_model_creation>`.
 
-Minimal example
-------------------
+Counting arrow system
+~~~~~~~~~~~~~~~~~~~~~~~~~
 
-This toolbox is able to build a complete FEM simulation from simple
-Python code. The following figure shows the Python code on the left and
-the corresponding FEM simulation on the right. |image1|
+Defined as depicted here:
 
-To run a minimal example please have a look at the `basic_example.py </femmt/examples/basic_example.py>`__.
+|image_counting_arrow_system|
 
 GUI (Experimental)
 -------------------
 
 There is a first preview for a GUI. Installing this is a bit cumbersome
 at first, but will be simplified in the future: 
 
 * Download the complete repository via ``Code`` -> ``Download ZIP`` and unpack it. 
 * install the development version of femmt as described above 
 * run python ``downloads/path-to_femmt/femmt/gui/femmt_gui.py``
 
 Please note, the GUI is experimental.
 
-|image2|
-
-Roadmap
-----------
-
-Planned features in 2022: 
-
-* Software stability and general improvements, 
-* add more Functionality to the GUI, 
-
-Bug Reports
---------------
-
-Please use the issues report button within github to report bugs.
-
-Contributing
----------------
-
-Pull requests are welcome. For major changes, please open an issue first
-to discuss what you would like to change. For contributing, please refer
-to this `section <Contributing.rst>`__.
-
-Changelog
-------------
-
-Find the changelog `here <CHANGELOG.md>`__
-
-License
-----------
+|image_gui_definition|
 
-`GPLv3 <https://choosealicense.com/licenses/gpl-3.0/>`__
+FEMM Validation (for developers only)
+--------------------------------------
 
-History and project status
-------------------------------
+For verification purposes a FEMM model can be created in FEMMT. To do this
+FEMM needs to be installed as well as the FEMM python package.
+The functionality is limited, e.g. the air gaps are limited to the 'center'-type. Other types, like 'percent' are not implemented.
 
-This project was initially written in matlab using FEMM simulation tool.
-It became clear that the project was no longer a small project. The
-project should be completely rewritten, because many new complex levels
-have been added. To place the project in the open source world, the
-programming language python is used.
 
-.. |image0| image:: documentation/images/femmt.png
-.. |image1| image:: documentation/images/FEMMT_Screenshot.png
-.. |image2| image:: documentation/images/femmt_gui_definition.png
-.. |image3| image:: documentation/images/counting_arrow_system.png
+.. |image_femmt_screenshot| image:: ../images/FEMMT_Screenshot.png
+.. |image_counting_arrow_system| image:: ../images/counting_arrow_system.png
+.. |image_gui_definition| image:: ../images/femmt_gui_definition.png
```

#### encoding

```diff
@@ -1 +1 @@
-utf-8
+us-ascii
```

### Comparing `femmt-0.5.2/documentation/Makefile` & `femmt-0.5.3/docs/Makefile`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/FEMMT_Screenshot.png` & `femmt-0.5.3/docs/images/FEMMT_Screenshot.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/counting_arrow_system.png` & `femmt-0.5.3/docs/images/counting_arrow_system.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/counting_arrow_system.svg` & `femmt-0.5.3/docs/images/counting_arrow_system.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/femmt.png` & `femmt-0.5.3/docs/images/femmt.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/femmt.svg` & `femmt-0.5.3/docs/images/femmt.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/femmt_gui_definition.png` & `femmt-0.5.3/docs/images/femmt_gui_definition.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_air_gap.png` & `femmt-0.5.3/docs/images/geometry_air_gap.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_air_gap.svg` & `femmt-0.5.3/docs/images/geometry_air_gap.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_core.png` & `femmt-0.5.3/docs/images/geometry_core.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_core.svg` & `femmt-0.5.3/docs/images/geometry_core.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_core_developer_notes.png` & `femmt-0.5.3/docs/images/geometry_core_developer_notes.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_core_developer_notes.svg` & `femmt-0.5.3/docs/images/geometry_core_developer_notes.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_core_naming_convention.png` & `femmt-0.5.3/docs/images/geometry_core_naming_convention.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_core_naming_convention.svg` & `femmt-0.5.3/docs/images/geometry_core_naming_convention.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_insulation.png` & `femmt-0.5.3/docs/images/geometry_insulation.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_insulation.svg` & `femmt-0.5.3/docs/images/geometry_insulation.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_thermal.png` & `femmt-0.5.3/docs/images/geometry_thermal.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_thermal.svg` & `femmt-0.5.3/docs/images/geometry_thermal.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_translated.png` & `femmt-0.5.3/docs/images/geometry_translated.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_translated.svg` & `femmt-0.5.3/docs/images/geometry_translated.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_winding_windows.png` & `femmt-0.5.3/docs/images/geometry_winding_windows.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/geometry_winding_windows.svg` & `femmt-0.5.3/docs/images/geometry_winding_windows.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/msh_panel.png` & `femmt-0.5.3/docs/images/msh_panel.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/msh_simulation.png` & `femmt-0.5.3/docs/images/msh_simulation.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/pycharm_configuration_pro_files.png` & `femmt-0.5.3/docs/images/pycharm_configuration_pro_files.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/pycharm_configuration_pro_files.svg` & `femmt-0.5.3/docs/images/pycharm_configuration_pro_files.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/user_guide_example_model.png` & `femmt-0.5.3/docs/images/user_guide_example_model.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/user_guide_example_simulation.png` & `femmt-0.5.3/docs/images/user_guide_example_simulation.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/user_guide_example_thermal_simulation.png` & `femmt-0.5.3/docs/images/user_guide_example_thermal_simulation.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Interleaved_HorizontalAlternating.png` & `femmt-0.5.3/docs/images/winding_types/Interleaved_HorizontalAlternating.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Interleaved_VerticalStacked_hexagonal.png` & `femmt-0.5.3/docs/images/winding_types/Interleaved_VerticalStacked_hexagonal.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Interleaved_VerticalStacked_square.png` & `femmt-0.5.3/docs/images/winding_types/Interleaved_VerticalStacked_square.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_FoilHorizontal.png` & `femmt-0.5.3/docs/images/winding_types/Single_FoilHorizontal.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_FoilVertical_fixed_thickness.png` & `femmt-0.5.3/docs/images/winding_types/Single_FoilVertical_fixed_thickness.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_FoilVertical_interpolate.png` & `femmt-0.5.3/docs/images/winding_types/Single_FoilVertical_interpolate.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_Full.png` & `femmt-0.5.3/docs/images/winding_types/Single_Full.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_Hexagonal.png` & `femmt-0.5.3/docs/images/winding_types/Single_Hexagonal.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_Square.png` & `femmt-0.5.3/docs/images/winding_types/Single_Square.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/images/winding_types/Single_SquareFullWidth.png` & `femmt-0.5.3/docs/images/winding_types/Single_SquareFullWidth.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/make.bat` & `femmt-0.5.3/docs/make.bat`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/documentation/source/conf.py` & `femmt-0.5.3/docs/source/conf.py`

 * *Files 5% similar despite different names*

```diff
@@ -19,23 +19,23 @@
 # -- Project information -----------------------------------------------------
 
 project = 'FEM Magnetics Toolbox'
 copyright = '{}, {}'.format(time.strftime('%Y'), 'LEA, Paderborn University')
 author = 'LEA-UPB'
 
 # The full version, including alpha/beta/rc tags
-release = '0.5.2'
+release = '0.5.3'
 
 # -- General configuration ---------------------------------------------------
 
 # Add any Sphinx extension module names here, as strings. They can be
 # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom
 # ones.
 sys.path.insert(0, os.path.abspath('_extensions'))
-extensions = ['sphinx.ext.autodoc', 'sphinx.ext.napoleon', 'sphinx.ext.todo', 'sphinx_multiversion']
+extensions = ['sphinx.ext.autodoc', 'sphinx.ext.napoleon', 'sphinx.ext.todo']
 
 # Add any paths that contain templates here, relative to this directory.
 templates_path = ['_templates/']
 
 # source_suffix = ['.rst', '.md']
 source_suffix = '.rst'
```

### Comparing `femmt-0.5.2/documentation/source/developer_notes.rst` & `femmt-0.5.3/docs/source/developer_notes.rst`

 * *Files 0% similar despite different names*

```diff
@@ -37,22 +37,22 @@
 
 
 Winding creation
 -----------------
 
 Since there are multiple possible virtual winding windows containing currently up to 2 conductors it is necessary to have a global order for every conductor.
 This order is set by the winding_number which is given to the Conductor on creation.
-This results in multiple lists containg the same conductor objects (called windings) in different objects:
+This results in multiple lists containing the same conductor objects (called windings) in different objects:
 
 1. Every virtual winding window contains a list of conductors. This list either contains one conductor (single winding) or two conductors (interleaved winding). When setting the interleaved winding the order of conductors is given by the order of the parameters. First given winding -> winding[0], second given winding -> winding[1].
 2. The magnetic component contains a list of conductors too. This list contains every unique conductor from every virtual winding window. The order of the windings list in magnetic component is given by the winding_number (sorted in ascending order). This means that the conductor with the lowest winding_number is at position 0 of the winding list: windings[0].
 
 Example:
 
-2 conductors are created: Conductor0(winding_index=0) and Conductor1(winding_index=1). Additionaly 2 virtual winding windows are created.
+2 conductors are created: Conductor0(winding_index=0) and Conductor1(winding_index=1). Additionally 2 virtual winding windows are created.
 The first virtual winding window only contains Conductor0, the second virtual winding window contains both conductors.
 The following winding lists are created:
 
 - VirtualWindingWindow0: windings = [Conductor0]
 - VirtualWindingWindow1: windings = [Conductor0, Conductor1]
 - MagneticComponent: windings = [Conductor0, Conductor1]
 
@@ -83,24 +83,24 @@
 
 Recommended Pycharm settings
 ---------------------------------------------------------------
 
 Exclude simulation directory from indexing
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
-Especially when performing Pareto optimizations in the example directory, Pycharm gets slow during indexing. To avoid this, you can use another directory or exclude the ``example_results`` direcory from the project, as shown in the following steps:
-``File`` -> ``Settings`` -> ``project structure``, select the folders you need (e.g. ``femmt/examples/example_results``, ``right click`` and click ``exlcuded``.
+Especially when performing Pareto optimizations in the example directory, Pycharm gets slow during indexing. To avoid this, you can use another directory or exclude the ``example_results`` directory from the project, as shown in the following steps:
+``File`` -> ``Settings`` -> ``project structure``, select the folders you need (e.g. ``femmt/examples/example_results``, ``right click`` and click ``excluded``.
 
 Line length
 ~~~~~~~~~~~
 
 ``File`` -> ``Settings`` -> ``Editor`` -> ``Code Style``
-Set the max. lenth to ``160``.
+Set the max. length to ``160``.
 
-Pycharm code highlightning for pro-files
+Pycharm code highlighting for pro-files
 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
 |image_pycharm_configuration_pro_files|
 
 .. |geometry_core_developer_notes| image:: ../images/geometry_core_developer_notes.png
 .. |geometry_core_naming_convention| image:: ../images/geometry_core_naming_convention.png
 .. |image_pycharm_configuration_pro_files| image:: ../images/pycharm_configuration_pro_files.png
@@ -116,8 +116,11 @@
 also run
 ``ruff check $(git ls-files '*.py')``
 
 For windows users, use the pycharm integrated ``Git Bash``.
 
 Build documentation
 ---------------------------------------------------------------
-``sphinx-multiversion documentation/source documentation/build/html``
+
+::
+
+    sphinx-multiversion documentation/source documentation/build/html
```

### Comparing `femmt-0.5.2/documentation/source/intro.rst` & `femmt-0.5.3/docs/source/intro.rst`

 * *Files 7% similar despite different names*

```diff
@@ -1,9 +1,10 @@
 .. sectnum::
 
+.. include:: readme.rst
 
 .. include:: introduction.rst
 
 .. _user_guide_model_creation:
 
 .. include:: user_guide_model_creation.rst
```

### Comparing `femmt-0.5.2/documentation/source/user_guide_model_creation.rst` & `femmt-0.5.3/docs/source/user_guide_model_creation.rst`

 * *Files 0% similar despite different names*

```diff
@@ -233,15 +233,15 @@
    cells = winding_window.NCellsSplit(0, [1 / 6, 2 / 6, 3 / 6, 4 / 6, 5 / 6], 0.5)
 
 
 Furthermore, the ``NHorizontalAndVerticalSplit`` function introduces more advanced splitting capabilities
 by allowing the winding window to be split into N columns horizontally,with each having M_N rows (vertically).
 Users can specify the positions of borders between columns and rows
 to customize the layout of the resulting virtual winding windows. Creating a winding window with three columns,
-where the second column is further divided into two rows, can be achieved with the following code:
+where the second column is further divided into three rows, can be achieved with the following code:
 
 .. code:: python
 
     winding_window = fmt.WindingWindow(core, insulation)
     cells = winding_window.NHorizontalAndVerticalSplit(horizontal_split_factors=[0.48, 0.75],
                                                       vertical_split_factors=[None, [0.5, 0.85], None])
```

### Comparing `femmt-0.5.2/documentation/source/winding_types.rst` & `femmt-0.5.3/docs/source/winding_types.rst`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/__init__.py` & `femmt-0.5.3/femmt/__init__.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/component.py` & `femmt-0.5.3/femmt/component.py`

 * *Files 0% similar despite different names*

```diff
@@ -272,15 +272,15 @@
 000010f0: 7222 2c20 2269 6e74 6567 7261 7465 645f  r", "integrated_
 00001100: 7472 616e 7366 6f72 6d65 7222 2028 6f72  transformer" (or
 00001110: 2022 7468 7265 652d 7068 6173 652d 7472   "three-phase-tr
 00001120: 616e 7366 6f72 6d65 7222 290a 2020 2020  ansformer").    
 00001130: 2020 2020 7365 6c66 2e73 696d 756c 6174      self.simulat
 00001140: 696f 6e5f 7479 7065 203d 2073 696d 756c  ion_type = simul
 00001150: 6174 696f 6e5f 7479 7065 2020 2320 6672  ation_type  # fr
-00001160: 6571 7565 6e63 6420 646f 6d61 696e 2023  equencd domain #
+00001160: 6571 7565 6e63 7920 646f 6d61 696e 2023  equency domain #
 00001170: 2074 696d 6520 646f 6d61 696e 0a0a 2020   time domain..  
 00001180: 2020 2020 2020 2320 2d20 2d20 2d20 2d20        # - - - - 
 00001190: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
 000011a0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
 000011b0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
 000011c0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
 000011d0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
@@ -408,14484 +408,14553 @@
 00001970: 656c 662e 696e 6974 6961 6c5f 7469 6d65  elf.initial_time
 00001980: 203d 204e 6f6e 6520 2023 2044 6566 6175   = None  # Defau
 00001990: 6c74 2030 0a20 2020 2020 2020 2073 656c  lt 0.        sel
 000019a0: 662e 6d61 785f 7469 6d65 203d 204e 6f6e  f.max_time = Non
 000019b0: 6520 2023 2053 696d 756c 6174 696f 6e27  e  # Simulation'
 000019c0: 7320 6475 7261 7469 6f6e 0a20 2020 2020  s duration.     
 000019d0: 2020 2073 656c 662e 6e62 5f73 7465 7073     self.nb_steps
-000019e0: 5f70 6572 5f70 6572 696f 6465 203d 204e  _per_periode = N
-000019f0: 6f6e 6520 2023 204e 756d 6265 7220 6f66  one  # Number of
-00001a00: 2074 696d 6520 7374 6570 730a 2020 2020   time steps.    
-00001a10: 2020 2020 7365 6c66 2e6e 625f 7374 6570      self.nb_step
-00001a20: 7320 3d20 4e6f 6e65 0a20 2020 2020 2020  s = None.       
-00001a30: 2073 656c 662e 6672 6571 7565 6e63 7920   self.frequency 
-00001a40: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
-00001a50: 656c 662e 7068 6173 655f 6465 6720 3d20  elf.phase_deg = 
-00001a60: 4e6f 6e65 2020 2320 4465 6661 756c 7420  None  # Default 
-00001a70: 6973 207a 6572 6f2c 2044 6566 696e 6564  is zero, Defined
-00001a80: 2066 6f72 2065 7665 7279 2063 6f6e 6475   for every condu
-00001a90: 6374 6f72 0a20 2020 2020 2020 2073 656c  ctor.        sel
-00001aa0: 662e 7265 645f 6672 6571 203d 204e 6f6e  f.red_freq = Non
-00001ab0: 6520 2023 205b 5d20 2a20 7365 6c66 2e6e  e  # [] * self.n
-00001ac0: 5f77 696e 6469 6e67 7320 2023 2044 6566  _windings  # Def
-00001ad0: 696e 6564 2066 6f72 2065 7665 7279 2063  ined for every c
-00001ae0: 6f6e 6475 6374 6f72 0a20 2020 2020 2020  onductor.       
-00001af0: 2073 656c 662e 6465 6c74 6120 3d20 4e6f   self.delta = No
-00001b00: 6e65 0a0a 2020 2020 2020 2020 2320 2d20  ne..        # - 
-00001b10: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
-00001b20: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
-00001b30: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
-00001b40: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
-00001b50: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
-00001b60: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
-00001b70: 2d20 2d20 2d20 2d20 2d20 2d0a 2020 2020  - - - - - -.    
-00001b80: 2020 2020 2320 5374 6569 6e6d 6574 7a20      # Steinmetz 
-00001b90: 6c6f 7373 206d 6174 6572 6961 6c20 636f  loss material co
-00001ba0: 6566 6669 6369 656e 7473 2061 6e64 2063  efficients and c
-00001bb0: 7572 7265 6e74 2077 6176 6566 6f72 6d0a  urrent waveform.
-00001bc0: 2020 2020 2020 2020 7365 6c66 2e49 7065          self.Ipe
-00001bd0: 616b 3a20 4f70 7469 6f6e 616c 5b66 6c6f  ak: Optional[flo
-00001be0: 6174 5d20 3d20 4e6f 6e65 0a20 2020 2020  at] = None.     
-00001bf0: 2020 2073 656c 662e 6b69 3a20 4f70 7469     self.ki: Opti
-00001c00: 6f6e 616c 5b66 6c6f 6174 5d20 3d20 4e6f  onal[float] = No
-00001c10: 6e65 0a20 2020 2020 2020 2073 656c 662e  ne.        self.
-00001c20: 616c 7068 613a 204f 7074 696f 6e61 6c5b  alpha: Optional[
-00001c30: 666c 6f61 745d 203d 204e 6f6e 650a 2020  float] = None.  
-00001c40: 2020 2020 2020 7365 6c66 2e62 6574 613a        self.beta:
-00001c50: 204f 7074 696f 6e61 6c5b 666c 6f61 745d   Optional[float]
-00001c60: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-00001c70: 7365 6c66 2e74 5f72 6973 653a 204f 7074  self.t_rise: Opt
-00001c80: 696f 6e61 6c5b 666c 6f61 745d 203d 204e  ional[float] = N
-00001c90: 6f6e 650a 2020 2020 2020 2020 7365 6c66  one.        self
-00001ca0: 2e74 5f66 616c 6c3a 204f 7074 696f 6e61  .t_fall: Optiona
-00001cb0: 6c5b 666c 6f61 745d 203d 204e 6f6e 650a  l[float] = None.
-00001cc0: 2020 2020 2020 2020 7365 6c66 2e66 5f73          self.f_s
-00001cd0: 7769 7463 683a 204f 7074 696f 6e61 6c5b  witch: Optional[
-00001ce0: 666c 6f61 745d 203d 204e 6f6e 650a 0a20  float] = None.. 
-00001cf0: 2020 2020 2020 2023 202d 202d 202d 202d         # - - - -
-00001d00: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001d10: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001d20: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001d30: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001d40: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001d50: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001d60: 202d 202d 202d 0a20 2020 2020 2020 2023   - - -.        #
-00001d70: 204d 6573 6844 6174 6120 746f 2073 746f   MeshData to sto
-00001d80: 7265 2074 6865 206d 6573 6820 7369 7a65  re the mesh size
-00001d90: 2066 6f72 2064 6966 6665 7265 6e74 2070   for different p
-00001da0: 6f69 6e74 730a 2020 2020 2020 2020 2320  oints.        # 
-00001db0: 4f62 6a65 6374 2069 7320 6164 6465 6420  Object is added 
-00001dc0: 696e 2073 6574 5f63 6f72 650a 2020 2020  in set_core.    
-00001dd0: 2020 2020 7061 6464 696e 6720 3d20 312e      padding = 1.
-00001de0: 350a 2020 2020 2020 2020 676c 6f62 616c  5.        global
-00001df0: 5f61 6363 7572 6163 7920 3d20 302e 350a  _accuracy = 0.5.
-00001e00: 2020 2020 2020 2020 7365 6c66 2e6d 6573          self.mes
-00001e10: 685f 6461 7461 203d 204d 6573 6844 6174  h_data = MeshDat
-00001e20: 6128 676c 6f62 616c 5f61 6363 7572 6163  a(global_accurac
-00001e30: 792c 2067 6c6f 6261 6c5f 6163 6375 7261  y, global_accura
-00001e40: 6379 2c20 676c 6f62 616c 5f61 6363 7572  cy, global_accur
-00001e50: 6163 792c 2067 6c6f 6261 6c5f 6163 6375  acy, global_accu
-00001e60: 7261 6379 2c20 7061 6464 696e 672c 206d  racy, padding, m
-00001e70: 755f 3029 0a20 2020 2020 2020 2073 656c  u_0).        sel
-00001e80: 662e 6d65 7368 203d 204e 6f6e 650a 2020  f.mesh = None.  
-00001e90: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00001ea0: 5f61 7869 3a20 5477 6f44 6178 6953 796d  _axi: TwoDaxiSym
-00001eb0: 6d65 7472 6963 203d 204e 6f6e 650a 0a20  metric = None.. 
-00001ec0: 2020 2020 2020 2023 202d 202d 202d 202d         # - - - -
-00001ed0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001ee0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001ef0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001f00: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001f10: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001f20: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001f30: 202d 202d 202d 0a20 2020 2020 2020 2023   - - -.        #
-00001f40: 202d 2d20 5573 6564 2066 6f72 204c 6974   -- Used for Lit
-00001f50: 7a20 5661 6c69 6461 7469 6f6e 202d 2d0a  z Validation --.
-00001f60: 2020 2020 2020 2020 7365 6c66 2e73 7765          self.swe
-00001f70: 6570 5f66 7265 7175 656e 6369 6573 203d  ep_frequencies =
-00001f80: 204e 6f6e 650a 0a20 2020 2020 2020 2023   None..        #
-00001f90: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001fa0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001fb0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001fc0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001fd0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001fe0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00001ff0: 202d 202d 202d 202d 202d 202d 202d 0a0a   - - - - - - -..
-00002000: 2020 2020 2020 2020 2320 3220 616e 6420          # 2 and 
-00002010: 3320 7769 6e64 696e 6720 7472 616e 7366  3 winding transf
-00002020: 6f72 6d65 7220 696e 6475 6374 616e 6365  ormer inductance
-00002030: 206d 6174 7269 780a 2020 2020 2020 2020   matrix.        
-00002040: 7365 6c66 2e4c 5f31 5f31 203d 204e 6f6e  self.L_1_1 = Non
-00002050: 650a 2020 2020 2020 2020 7365 6c66 2e4c  e.        self.L
-00002060: 5f32 5f32 203d 204e 6f6e 650a 2020 2020  _2_2 = None.    
-00002070: 2020 2020 7365 6c66 2e4c 5f33 5f33 203d      self.L_3_3 =
-00002080: 204e 6f6e 650a 2020 2020 2020 2020 7365   None.        se
-00002090: 6c66 2e4d 203d 204e 6f6e 650a 2020 2020  lf.M = None.    
-000020a0: 2020 2020 7365 6c66 2e4d 5f31 3220 3d20      self.M_12 = 
-000020b0: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
-000020c0: 662e 4d5f 3231 203d 204e 6f6e 650a 2020  f.M_21 = None.  
-000020d0: 2020 2020 2020 7365 6c66 2e4d 5f31 3320        self.M_13 
-000020e0: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
-000020f0: 656c 662e 4d5f 3332 203d 204e 6f6e 650a  elf.M_32 = None.
-00002100: 2020 2020 2020 2020 7365 6c66 2e4d 5f33          self.M_3
-00002110: 3220 3d20 4e6f 6e65 0a20 2020 2020 2020  2 = None.       
-00002120: 2073 656c 662e 4d5f 3233 203d 204e 6f6e   self.M_23 = Non
-00002130: 650a 2020 2020 2020 2020 7365 6c66 2e50  e.        self.P
-00002140: 7620 3d20 4e6f 6e65 0a20 2020 2020 2020  v = None.       
-00002150: 2023 2032 2061 6e64 2033 2077 696e 6469   # 2 and 3 windi
-00002160: 6e67 2074 7261 6e73 666f 726d 6572 2070  ng transformer p
-00002170: 7269 6d61 7279 2063 6f6e 6365 6e74 7261  rimary concentra
-00002180: 7465 6420 6571 7569 7661 6c65 6e74 2063  ted equivalent c
-00002190: 6972 6375 6974 0a20 2020 2020 2020 2073  ircuit.        s
-000021a0: 656c 662e 6e5f 636f 6e63 203d 204e 6f6e  elf.n_conc = Non
-000021b0: 650a 2020 2020 2020 2020 7365 6c66 2e4c  e.        self.L
-000021c0: 5f73 5f63 6f6e 6320 3d20 4e6f 6e65 0a20  _s_conc = None. 
-000021d0: 2020 2020 2020 2073 656c 662e 4c5f 685f         self.L_h_
-000021e0: 636f 6e63 203d 204e 6f6e 650a 2020 2020  conc = None.    
-000021f0: 2020 2020 7365 6c66 2e4c 5f73 3120 3d20      self.L_s1 = 
-00002200: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
-00002210: 662e 4c5f 7332 203d 204e 6f6e 650a 2020  f.L_s2 = None.  
-00002220: 2020 2020 2020 7365 6c66 2e4c 5f73 3320        self.L_s3 
-00002230: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
-00002240: 656c 662e 4c5f 6820 3d20 4e6f 6e65 0a20  elf.L_h = None. 
-00002250: 2020 2020 2020 2073 656c 662e 4c5f 7331         self.L_s1
-00002260: 3220 3d20 4e6f 6e65 0a20 2020 2020 2020  2 = None.       
-00002270: 2073 656c 662e 4c5f 7331 3320 3d20 4e6f   self.L_s13 = No
-00002280: 6e65 0a20 2020 2020 2020 2073 656c 662e  ne.        self.
-00002290: 4c5f 7332 3320 3d20 4e6f 6e65 0a20 2020  L_s23 = None.   
-000022a0: 2020 2020 2073 656c 662e 6e5f 3132 203d       self.n_12 =
-000022b0: 204e 6f6e 650a 2020 2020 2020 2020 7365   None.        se
-000022c0: 6c66 2e6e 5f31 3320 3d20 4e6f 6e65 0a0a  lf.n_13 = None..
-000022d0: 2020 2020 2020 2020 2320 2d2d 2046 454d          # -- FEM
-000022e0: 4d20 7661 7269 6162 6c65 7320 2d2d 0a20  M variables --. 
-000022f0: 2020 2020 2020 2073 656c 662e 746f 745f         self.tot_
-00002300: 6c6f 7373 5f66 656d 6d20 3d20 4e6f 6e65  loss_femm = None
-00002310: 0a0a 2020 2020 2020 2020 7365 6c66 2e6f  ..        self.o
-00002320: 6e65 6c61 625f 7365 7475 7028 6973 5f67  nelab_setup(is_g
-00002330: 7569 290a 2020 2020 2020 2020 7365 6c66  ui).        self
-00002340: 2e6f 6e65 6c61 625f 636c 6965 6e74 203d  .onelab_client =
-00002350: 206f 6e65 6c61 622e 636c 6965 6e74 285f   onelab.client(_
-00002360: 5f66 696c 655f 5f29 0a20 2020 2020 2020  _file__).       
-00002370: 2073 656c 662e 7369 6d75 6c61 7469 6f6e   self.simulation
-00002380: 5f6e 616d 6520 3d20 7369 6d75 6c61 7469  _name = simulati
-00002390: 6f6e 5f6e 616d 650a 0a20 2020 2064 6566  on_name..    def
-000023a0: 2066 656d 6d74 5f70 7269 6e74 2873 656c   femmt_print(sel
-000023b0: 662c 2074 6578 743a 2073 7472 293a 0a20  f, text: str):. 
-000023c0: 2020 2020 2020 2022 2222 5072 696e 7420         """Print 
-000023d0: 7465 7874 2074 6f20 7465 726d 696e 616c  text to terminal
-000023e0: 206f 7220 746f 206c 6f67 2d66 696c 652c   or to log-file,
-000023f0: 2064 6570 656e 6465 6e74 206f 6e20 7468   dependent on th
-00002400: 6520 6375 7272 656e 7420 7665 7262 6f73  e current verbos
-00002410: 6974 792e 2222 220a 2020 2020 2020 2020  ity.""".        
-00002420: 6966 2073 656c 662e 7665 7262 6f73 6974  if self.verbosit
-00002430: 7920 213d 2056 6572 626f 7369 7479 2e53  y != Verbosity.S
-00002440: 696c 656e 743a 0a20 2020 2020 2020 2020  ilent:.         
-00002450: 2020 2073 656c 662e 6c6f 6767 6572 2e69     self.logger.i
-00002460: 6e66 6f28 7465 7874 290a 0a20 2020 2064  nfo(text)..    d
-00002470: 6566 2075 7064 6174 655f 6d65 7368 5f61  ef update_mesh_a
-00002480: 6363 7572 6163 6965 7328 7365 6c66 2c20  ccuracies(self, 
-00002490: 6d65 7368 5f61 6363 7572 6163 795f 636f  mesh_accuracy_co
-000024a0: 7265 3a20 666c 6f61 742c 206d 6573 685f  re: float, mesh_
-000024b0: 6163 6375 7261 6379 5f77 696e 646f 773a  accuracy_window:
-000024c0: 2066 6c6f 6174 2c0a 2020 2020 2020 2020   float,.        
+000019e0: 5f70 6572 5f70 6572 696f 6420 3d20 4e6f  _per_period = No
+000019f0: 6e65 2020 2320 4e75 6d62 6572 206f 6620  ne  # Number of 
+00001a00: 7469 6d65 2073 7465 7073 0a20 2020 2020  time steps.     
+00001a10: 2020 2073 656c 662e 6e62 5f73 7465 7073     self.nb_steps
+00001a20: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00001a30: 7365 6c66 2e66 7265 7175 656e 6379 203d  self.frequency =
+00001a40: 204e 6f6e 650a 2020 2020 2020 2020 7365   None.        se
+00001a50: 6c66 2e70 6861 7365 5f64 6567 203d 204e  lf.phase_deg = N
+00001a60: 6f6e 6520 2023 2044 6566 6175 6c74 2069  one  # Default i
+00001a70: 7320 7a65 726f 2c20 4465 6669 6e65 6420  s zero, Defined 
+00001a80: 666f 7220 6576 6572 7920 636f 6e64 7563  for every conduc
+00001a90: 746f 720a 2020 2020 2020 2020 7365 6c66  tor.        self
+00001aa0: 2e72 6564 5f66 7265 7120 3d20 4e6f 6e65  .red_freq = None
+00001ab0: 2020 2320 5b5d 202a 2073 656c 662e 6e5f    # [] * self.n_
+00001ac0: 7769 6e64 696e 6773 2020 2320 4465 6669  windings  # Defi
+00001ad0: 6e65 6420 666f 7220 6576 6572 7920 636f  ned for every co
+00001ae0: 6e64 7563 746f 720a 2020 2020 2020 2020  nductor.        
+00001af0: 7365 6c66 2e64 656c 7461 203d 204e 6f6e  self.delta = Non
+00001b00: 650a 0a20 2020 2020 2020 2023 202d 202d  e..        # - -
+00001b10: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00001b20: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00001b30: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00001b40: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00001b50: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00001b60: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00001b70: 202d 202d 202d 202d 202d 0a20 2020 2020   - - - - -.     
+00001b80: 2020 2023 2053 7465 696e 6d65 747a 206c     # Steinmetz l
+00001b90: 6f73 7320 6d61 7465 7269 616c 2063 6f65  oss material coe
+00001ba0: 6666 6963 6965 6e74 7320 616e 6420 6375  fficients and cu
+00001bb0: 7272 656e 7420 7761 7665 666f 726d 0a20  rrent waveform. 
+00001bc0: 2020 2020 2020 2073 656c 662e 4970 6561         self.Ipea
+00001bd0: 6b3a 204f 7074 696f 6e61 6c5b 666c 6f61  k: Optional[floa
+00001be0: 745d 203d 204e 6f6e 650a 2020 2020 2020  t] = None.      
+00001bf0: 2020 7365 6c66 2e6b 693a 204f 7074 696f    self.ki: Optio
+00001c00: 6e61 6c5b 666c 6f61 745d 203d 204e 6f6e  nal[float] = Non
+00001c10: 650a 2020 2020 2020 2020 7365 6c66 2e61  e.        self.a
+00001c20: 6c70 6861 3a20 4f70 7469 6f6e 616c 5b66  lpha: Optional[f
+00001c30: 6c6f 6174 5d20 3d20 4e6f 6e65 0a20 2020  loat] = None.   
+00001c40: 2020 2020 2073 656c 662e 6265 7461 3a20       self.beta: 
+00001c50: 4f70 7469 6f6e 616c 5b66 6c6f 6174 5d20  Optional[float] 
+00001c60: 3d20 4e6f 6e65 0a20 2020 2020 2020 2073  = None.        s
+00001c70: 656c 662e 745f 7269 7365 3a20 4f70 7469  elf.t_rise: Opti
+00001c80: 6f6e 616c 5b66 6c6f 6174 5d20 3d20 4e6f  onal[float] = No
+00001c90: 6e65 0a20 2020 2020 2020 2073 656c 662e  ne.        self.
+00001ca0: 745f 6661 6c6c 3a20 4f70 7469 6f6e 616c  t_fall: Optional
+00001cb0: 5b66 6c6f 6174 5d20 3d20 4e6f 6e65 0a20  [float] = None. 
+00001cc0: 2020 2020 2020 2073 656c 662e 665f 7377         self.f_sw
+00001cd0: 6974 6368 3a20 4f70 7469 6f6e 616c 5b66  itch: Optional[f
+00001ce0: 6c6f 6174 5d20 3d20 4e6f 6e65 0a0a 2020  loat] = None..  
+00001cf0: 2020 2020 2020 2320 2d20 2d20 2d20 2d20        # - - - - 
+00001d00: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001d10: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001d20: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001d30: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001d40: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001d50: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001d60: 2d20 2d20 2d0a 2020 2020 2020 2020 2320  - - -.        # 
+00001d70: 4d65 7368 4461 7461 2074 6f20 7374 6f72  MeshData to stor
+00001d80: 6520 7468 6520 6d65 7368 2073 697a 6520  e the mesh size 
+00001d90: 666f 7220 6469 6666 6572 656e 7420 706f  for different po
+00001da0: 696e 7473 0a20 2020 2020 2020 2023 204f  ints.        # O
+00001db0: 626a 6563 7420 6973 2061 6464 6564 2069  bject is added i
+00001dc0: 6e20 7365 745f 636f 7265 0a20 2020 2020  n set_core.     
+00001dd0: 2020 2070 6164 6469 6e67 203d 2031 2e35     padding = 1.5
+00001de0: 0a20 2020 2020 2020 2067 6c6f 6261 6c5f  .        global_
+00001df0: 6163 6375 7261 6379 203d 2030 2e35 0a20  accuracy = 0.5. 
+00001e00: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
+00001e10: 5f64 6174 6120 3d20 4d65 7368 4461 7461  _data = MeshData
+00001e20: 2867 6c6f 6261 6c5f 6163 6375 7261 6379  (global_accuracy
+00001e30: 2c20 676c 6f62 616c 5f61 6363 7572 6163  , global_accurac
+00001e40: 792c 2067 6c6f 6261 6c5f 6163 6375 7261  y, global_accura
+00001e50: 6379 2c20 676c 6f62 616c 5f61 6363 7572  cy, global_accur
+00001e60: 6163 792c 2070 6164 6469 6e67 2c20 6d75  acy, padding, mu
+00001e70: 5f30 290a 2020 2020 2020 2020 7365 6c66  _0).        self
+00001e80: 2e6d 6573 6820 3d20 4e6f 6e65 0a20 2020  .mesh = None.   
+00001e90: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+00001ea0: 6178 693a 2054 776f 4461 7869 5379 6d6d  axi: TwoDaxiSymm
+00001eb0: 6574 7269 6320 3d20 4e6f 6e65 0a0a 2020  etric = None..  
+00001ec0: 2020 2020 2020 2320 2d20 2d20 2d20 2d20        # - - - - 
+00001ed0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001ee0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001ef0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001f00: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001f10: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001f20: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001f30: 2d20 2d20 2d0a 2020 2020 2020 2020 2320  - - -.        # 
+00001f40: 2d2d 2055 7365 6420 666f 7220 4c69 747a  -- Used for Litz
+00001f50: 2056 616c 6964 6174 696f 6e20 2d2d 0a20   Validation --. 
+00001f60: 2020 2020 2020 2073 656c 662e 7377 6565         self.swee
+00001f70: 705f 6672 6571 7565 6e63 6965 7320 3d20  p_frequencies = 
+00001f80: 4e6f 6e65 0a0a 2020 2020 2020 2020 2320  None..        # 
+00001f90: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001fa0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001fb0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001fc0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001fd0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001fe0: 2d20 2d20 2d20 2d20 2d20 2d20 2d20 2d20  - - - - - - - - 
+00001ff0: 2d20 2d20 2d20 2d20 2d20 2d20 2d0a 0a20  - - - - - - -.. 
+00002000: 2020 2020 2020 2023 2032 2061 6e64 2033         # 2 and 3
+00002010: 2077 696e 6469 6e67 2074 7261 6e73 666f   winding transfo
+00002020: 726d 6572 2069 6e64 7563 7461 6e63 6520  rmer inductance 
+00002030: 6d61 7472 6978 0a20 2020 2020 2020 2073  matrix.        s
+00002040: 656c 662e 4c5f 315f 3120 3d20 4e6f 6e65  elf.L_1_1 = None
+00002050: 0a20 2020 2020 2020 2073 656c 662e 4c5f  .        self.L_
+00002060: 325f 3220 3d20 4e6f 6e65 0a20 2020 2020  2_2 = None.     
+00002070: 2020 2073 656c 662e 4c5f 335f 3320 3d20     self.L_3_3 = 
+00002080: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
+00002090: 662e 4d20 3d20 4e6f 6e65 0a20 2020 2020  f.M = None.     
+000020a0: 2020 2073 656c 662e 4d5f 3132 203d 204e     self.M_12 = N
+000020b0: 6f6e 650a 2020 2020 2020 2020 7365 6c66  one.        self
+000020c0: 2e4d 5f32 3120 3d20 4e6f 6e65 0a20 2020  .M_21 = None.   
+000020d0: 2020 2020 2073 656c 662e 4d5f 3133 203d       self.M_13 =
+000020e0: 204e 6f6e 650a 2020 2020 2020 2020 7365   None.        se
+000020f0: 6c66 2e4d 5f33 3220 3d20 4e6f 6e65 0a20  lf.M_32 = None. 
+00002100: 2020 2020 2020 2073 656c 662e 4d5f 3332         self.M_32
+00002110: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00002120: 7365 6c66 2e4d 5f32 3320 3d20 4e6f 6e65  self.M_23 = None
+00002130: 0a20 2020 2020 2020 2073 656c 662e 5076  .        self.Pv
+00002140: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00002150: 2320 3220 616e 6420 3320 7769 6e64 696e  # 2 and 3 windin
+00002160: 6720 7472 616e 7366 6f72 6d65 7220 7072  g transformer pr
+00002170: 696d 6172 7920 636f 6e63 656e 7472 6174  imary concentrat
+00002180: 6564 2065 7175 6976 616c 656e 7420 6369  ed equivalent ci
+00002190: 7263 7569 740a 2020 2020 2020 2020 7365  rcuit.        se
+000021a0: 6c66 2e6e 5f63 6f6e 6320 3d20 4e6f 6e65  lf.n_conc = None
+000021b0: 0a20 2020 2020 2020 2073 656c 662e 4c5f  .        self.L_
+000021c0: 735f 636f 6e63 203d 204e 6f6e 650a 2020  s_conc = None.  
+000021d0: 2020 2020 2020 7365 6c66 2e4c 5f68 5f63        self.L_h_c
+000021e0: 6f6e 6320 3d20 4e6f 6e65 0a20 2020 2020  onc = None.     
+000021f0: 2020 2073 656c 662e 4c5f 7331 203d 204e     self.L_s1 = N
+00002200: 6f6e 650a 2020 2020 2020 2020 7365 6c66  one.        self
+00002210: 2e4c 5f73 3220 3d20 4e6f 6e65 0a20 2020  .L_s2 = None.   
+00002220: 2020 2020 2073 656c 662e 4c5f 7333 203d       self.L_s3 =
+00002230: 204e 6f6e 650a 2020 2020 2020 2020 7365   None.        se
+00002240: 6c66 2e4c 5f68 203d 204e 6f6e 650a 2020  lf.L_h = None.  
+00002250: 2020 2020 2020 7365 6c66 2e4c 5f73 3132        self.L_s12
+00002260: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
+00002270: 7365 6c66 2e4c 5f73 3133 203d 204e 6f6e  self.L_s13 = Non
+00002280: 650a 2020 2020 2020 2020 7365 6c66 2e4c  e.        self.L
+00002290: 5f73 3233 203d 204e 6f6e 650a 2020 2020  _s23 = None.    
+000022a0: 2020 2020 7365 6c66 2e6e 5f31 3220 3d20      self.n_12 = 
+000022b0: 4e6f 6e65 0a20 2020 2020 2020 2073 656c  None.        sel
+000022c0: 662e 6e5f 3133 203d 204e 6f6e 650a 0a20  f.n_13 = None.. 
+000022d0: 2020 2020 2020 2023 202d 2d20 4645 4d4d         # -- FEMM
+000022e0: 2076 6172 6961 626c 6573 202d 2d0a 2020   variables --.  
+000022f0: 2020 2020 2020 7365 6c66 2e74 6f74 5f6c        self.tot_l
+00002300: 6f73 735f 6665 6d6d 203d 204e 6f6e 650a  oss_femm = None.
+00002310: 0a20 2020 2020 2020 2073 656c 662e 6f6e  .        self.on
+00002320: 656c 6162 5f73 6574 7570 2869 735f 6775  elab_setup(is_gu
+00002330: 6929 0a20 2020 2020 2020 2073 656c 662e  i).        self.
+00002340: 6f6e 656c 6162 5f63 6c69 656e 7420 3d20  onelab_client = 
+00002350: 6f6e 656c 6162 2e63 6c69 656e 7428 5f5f  onelab.client(__
+00002360: 6669 6c65 5f5f 290a 2020 2020 2020 2020  file__).        
+00002370: 7365 6c66 2e73 696d 756c 6174 696f 6e5f  self.simulation_
+00002380: 6e61 6d65 203d 2073 696d 756c 6174 696f  name = simulatio
+00002390: 6e5f 6e61 6d65 0a0a 2020 2020 6465 6620  n_name..    def 
+000023a0: 6665 6d6d 745f 7072 696e 7428 7365 6c66  femmt_print(self
+000023b0: 2c20 7465 7874 3a20 7374 7229 3a0a 2020  , text: str):.  
+000023c0: 2020 2020 2020 2222 2250 7269 6e74 2074        """Print t
+000023d0: 6578 7420 746f 2074 6572 6d69 6e61 6c20  ext to terminal 
+000023e0: 6f72 2074 6f20 6c6f 672d 6669 6c65 2c20  or to log-file, 
+000023f0: 6465 7065 6e64 656e 7420 6f6e 2074 6865  dependent on the
+00002400: 2063 7572 7265 6e74 2076 6572 626f 7369   current verbosi
+00002410: 7479 2e22 2222 0a20 2020 2020 2020 2069  ty.""".        i
+00002420: 6620 7365 6c66 2e76 6572 626f 7369 7479  f self.verbosity
+00002430: 2021 3d20 5665 7262 6f73 6974 792e 5369   != Verbosity.Si
+00002440: 6c65 6e74 3a0a 2020 2020 2020 2020 2020  lent:.          
+00002450: 2020 7365 6c66 2e6c 6f67 6765 722e 696e    self.logger.in
+00002460: 666f 2874 6578 7429 0a0a 2020 2020 6465  fo(text)..    de
+00002470: 6620 7570 6461 7465 5f6d 6573 685f 6163  f update_mesh_ac
+00002480: 6375 7261 6369 6573 2873 656c 662c 206d  curacies(self, m
+00002490: 6573 685f 6163 6375 7261 6379 5f63 6f72  esh_accuracy_cor
+000024a0: 653a 2066 6c6f 6174 2c20 6d65 7368 5f61  e: float, mesh_a
+000024b0: 6363 7572 6163 795f 7769 6e64 6f77 3a20  ccuracy_window: 
+000024c0: 666c 6f61 742c 0a20 2020 2020 2020 2020  float,.         
 000024d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000024e0: 2020 2020 2020 206d 6573 685f 6163 6375         mesh_accu
-000024f0: 7261 6379 5f63 6f6e 6475 6374 6f72 2c20  racy_conductor, 
-00002500: 6d65 7368 5f61 6363 7572 6163 795f 6169  mesh_accuracy_ai
-00002510: 725f 6761 7073 3a20 666c 6f61 7429 3a0a  r_gaps: float):.
-00002520: 2020 2020 2020 2020 2222 2255 7064 6174          """Updat
-00002530: 6520 6d65 7368 2061 6363 7572 6163 6965  e mesh accuracie
-00002540: 7320 666f 7220 636f 7265 2c20 7769 6e64  s for core, wind
-00002550: 6f77 732c 2063 6f6e 6475 6374 6f72 7320  ows, conductors 
-00002560: 616e 6420 6169 7220 6761 7073 2e22 2222  and air gaps."""
-00002570: 0a20 2020 2020 2020 2073 656c 662e 6d65  .        self.me
-00002580: 7368 5f64 6174 612e 6d65 7368 5f61 6363  sh_data.mesh_acc
-00002590: 7572 6163 795f 636f 7265 203d 206d 6573  uracy_core = mes
-000025a0: 685f 6163 6375 7261 6379 5f63 6f72 650a  h_accuracy_core.
-000025b0: 2020 2020 2020 2020 7365 6c66 2e6d 6573          self.mes
-000025c0: 685f 6461 7461 2e6d 6573 685f 6163 6375  h_data.mesh_accu
-000025d0: 7261 6379 5f77 696e 646f 7720 3d20 6d65  racy_window = me
-000025e0: 7368 5f61 6363 7572 6163 795f 7769 6e64  sh_accuracy_wind
-000025f0: 6f77 0a20 2020 2020 2020 2073 656c 662e  ow.        self.
-00002600: 6d65 7368 5f64 6174 612e 6d65 7368 5f61  mesh_data.mesh_a
-00002610: 6363 7572 6163 795f 636f 6e64 7563 746f  ccuracy_conducto
-00002620: 7220 3d20 6d65 7368 5f61 6363 7572 6163  r = mesh_accurac
-00002630: 795f 636f 6e64 7563 746f 720a 2020 2020  y_conductor.    
-00002640: 2020 2020 7365 6c66 2e6d 6573 685f 6461      self.mesh_da
-00002650: 7461 2e6d 6573 685f 6163 6375 7261 6379  ta.mesh_accuracy
-00002660: 5f61 6972 5f67 6170 7320 3d20 6d65 7368  _air_gaps = mesh
-00002670: 5f61 6363 7572 6163 795f 6169 725f 6761  _accuracy_air_ga
-00002680: 7073 0a0a 2020 2020 2320 202d 2020 2d20  ps..    #  -  - 
-00002690: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-000026a0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-000026b0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-000026c0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-000026d0: 2d20 202d 2020 2d20 202d 2020 202d 2020  -  -  -  -   -  
-000026e0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-000026f0: 2020 2d20 202d 2020 2d20 202d 0a20 2020    -  -  -  -.   
-00002700: 2023 2054 6865 726d 616c 2073 696d 756c   # Thermal simul
-00002710: 6174 696f 6e0a 2020 2020 6465 6620 7468  ation.    def th
-00002720: 6572 6d61 6c5f 7369 6d75 6c61 7469 6f6e  ermal_simulation
-00002730: 2873 656c 662c 2074 6865 726d 616c 5f63  (self, thermal_c
-00002740: 6f6e 6475 6374 6976 6974 795f 6469 6374  onductivity_dict
-00002750: 3a20 4469 6374 2c20 626f 756e 6461 7279  : Dict, boundary
-00002760: 5f74 656d 7065 7261 7475 7265 735f 6469  _temperatures_di
-00002770: 6374 3a20 4469 6374 2c0a 2020 2020 2020  ct: Dict,.      
+000024e0: 2020 2020 2020 6d65 7368 5f61 6363 7572        mesh_accur
+000024f0: 6163 795f 636f 6e64 7563 746f 722c 206d  acy_conductor, m
+00002500: 6573 685f 6163 6375 7261 6379 5f61 6972  esh_accuracy_air
+00002510: 5f67 6170 733a 2066 6c6f 6174 293a 0a20  _gaps: float):. 
+00002520: 2020 2020 2020 2022 2222 5570 6461 7465         """Update
+00002530: 206d 6573 6820 6163 6375 7261 6369 6573   mesh accuracies
+00002540: 2066 6f72 2063 6f72 652c 2077 696e 646f   for core, windo
+00002550: 7773 2c20 636f 6e64 7563 746f 7273 2061  ws, conductors a
+00002560: 6e64 2061 6972 2067 6170 732e 2222 220a  nd air gaps.""".
+00002570: 2020 2020 2020 2020 7365 6c66 2e6d 6573          self.mes
+00002580: 685f 6461 7461 2e6d 6573 685f 6163 6375  h_data.mesh_accu
+00002590: 7261 6379 5f63 6f72 6520 3d20 6d65 7368  racy_core = mesh
+000025a0: 5f61 6363 7572 6163 795f 636f 7265 0a20  _accuracy_core. 
+000025b0: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
+000025c0: 5f64 6174 612e 6d65 7368 5f61 6363 7572  _data.mesh_accur
+000025d0: 6163 795f 7769 6e64 6f77 203d 206d 6573  acy_window = mes
+000025e0: 685f 6163 6375 7261 6379 5f77 696e 646f  h_accuracy_windo
+000025f0: 770a 2020 2020 2020 2020 7365 6c66 2e6d  w.        self.m
+00002600: 6573 685f 6461 7461 2e6d 6573 685f 6163  esh_data.mesh_ac
+00002610: 6375 7261 6379 5f63 6f6e 6475 6374 6f72  curacy_conductor
+00002620: 203d 206d 6573 685f 6163 6375 7261 6379   = mesh_accuracy
+00002630: 5f63 6f6e 6475 6374 6f72 0a20 2020 2020  _conductor.     
+00002640: 2020 2073 656c 662e 6d65 7368 5f64 6174     self.mesh_dat
+00002650: 612e 6d65 7368 5f61 6363 7572 6163 795f  a.mesh_accuracy_
+00002660: 6169 725f 6761 7073 203d 206d 6573 685f  air_gaps = mesh_
+00002670: 6163 6375 7261 6379 5f61 6972 5f67 6170  accuracy_air_gap
+00002680: 730a 0a20 2020 2023 2020 2d20 202d 2020  s..    #  -  -  
+00002690: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+000026a0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+000026b0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+000026c0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+000026d0: 2020 2d20 202d 2020 2d20 2020 2d20 202d    -  -  -   -  -
+000026e0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+000026f0: 202d 2020 2d20 202d 2020 2d0a 2020 2020   -  -  -  -.    
+00002700: 2320 5468 6572 6d61 6c20 7369 6d75 6c61  # Thermal simula
+00002710: 7469 6f6e 0a20 2020 2064 6566 2074 6865  tion.    def the
+00002720: 726d 616c 5f73 696d 756c 6174 696f 6e28  rmal_simulation(
+00002730: 7365 6c66 2c20 7468 6572 6d61 6c5f 636f  self, thermal_co
+00002740: 6e64 7563 7469 7669 7479 5f64 6963 743a  nductivity_dict:
+00002750: 2044 6963 742c 2062 6f75 6e64 6172 795f   Dict, boundary_
+00002760: 7465 6d70 6572 6174 7572 6573 5f64 6963  temperatures_dic
+00002770: 743a 2044 6963 742c 0a20 2020 2020 2020  t: Dict,.       
 00002780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002790: 2020 2020 2062 6f75 6e64 6172 795f 666c       boundary_fl
-000027a0: 6167 735f 6469 6374 3a20 4469 6374 2c20  ags_dict: Dict, 
-000027b0: 6361 7365 5f67 6170 5f74 6f70 3a20 666c  case_gap_top: fl
-000027c0: 6f61 742c 0a20 2020 2020 2020 2020 2020  oat,.           
-000027d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000027e0: 6361 7365 5f67 6170 5f72 6967 6874 3a20  case_gap_right: 
-000027f0: 666c 6f61 742c 2063 6173 655f 6761 705f  float, case_gap_
-00002800: 626f 743a 2066 6c6f 6174 2c20 7368 6f77  bot: float, show
-00002810: 5f74 6865 726d 616c 5f73 696d 756c 6174  _thermal_simulat
-00002820: 696f 6e5f 7265 7375 6c74 733a 2062 6f6f  ion_results: boo
-00002830: 6c20 3d20 5472 7565 2c0a 2020 2020 2020  l = True,.      
+00002790: 2020 2020 626f 756e 6461 7279 5f66 6c61      boundary_fla
+000027a0: 6773 5f64 6963 743a 2044 6963 742c 2063  gs_dict: Dict, c
+000027b0: 6173 655f 6761 705f 746f 703a 2066 6c6f  ase_gap_top: flo
+000027c0: 6174 2c0a 2020 2020 2020 2020 2020 2020  at,.            
+000027d0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+000027e0: 6173 655f 6761 705f 7269 6768 743a 2066  ase_gap_right: f
+000027f0: 6c6f 6174 2c20 6361 7365 5f67 6170 5f62  loat, case_gap_b
+00002800: 6f74 3a20 666c 6f61 742c 2073 686f 775f  ot: float, show_
+00002810: 7468 6572 6d61 6c5f 7369 6d75 6c61 7469  thermal_simulati
+00002820: 6f6e 5f72 6573 756c 7473 3a20 626f 6f6c  on_results: bool
+00002830: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
 00002840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002850: 2020 2020 2070 7265 5f76 6973 7561 6c69       pre_visuali
-00002860: 7a65 5f67 656f 6d65 7472 793a 2062 6f6f  ze_geometry: boo
-00002870: 6c20 3d20 4661 6c73 652c 2063 6f6c 6f72  l = False, color
-00002880: 5f73 6368 656d 653a 2044 6963 7420 3d20  _scheme: Dict = 
-00002890: 6666 2e63 6f6c 6f72 735f 6665 6d6d 745f  ff.colors_femmt_
-000028a0: 6465 6661 756c 742c 0a20 2020 2020 2020  default,.       
+00002850: 2020 2020 7072 655f 7669 7375 616c 697a      pre_visualiz
+00002860: 655f 6765 6f6d 6574 7279 3a20 626f 6f6c  e_geometry: bool
+00002870: 203d 2046 616c 7365 2c20 636f 6c6f 725f   = False, color_
+00002880: 7363 6865 6d65 3a20 4469 6374 203d 2066  scheme: Dict = f
+00002890: 662e 636f 6c6f 7273 5f66 656d 6d74 5f64  f.colors_femmt_d
+000028a0: 6566 6175 6c74 2c0a 2020 2020 2020 2020  efault,.        
 000028b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000028c0: 2020 2020 636f 6c6f 7273 5f67 656f 6d65      colors_geome
-000028d0: 7472 793a 2044 6963 7420 3d20 6666 2e63  try: Dict = ff.c
-000028e0: 6f6c 6f72 735f 6765 6f6d 6574 7279 5f66  olors_geometry_f
-000028f0: 656d 6d74 5f64 6566 6175 6c74 2c20 666c  emmt_default, fl
-00002900: 6167 5f69 6e73 756c 6174 696f 6e3a 2062  ag_insulation: b
-00002910: 6f6f 6c20 3d20 5472 7565 293a 0a20 2020  ool = True):.   
-00002920: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00002930: 2053 7461 7274 2074 6865 2074 6865 726d   Start the therm
-00002940: 616c 2073 696d 756c 6174 696f 6e20 7573  al simulation us
-00002950: 696e 6720 7468 6572 6d61 6c5f 7369 6d75  ing thermal_simu
-00002960: 6c61 7469 6f6e 2e70 792e 0a0a 2020 2020  lation.py...    
-00002970: 2020 2020 3a70 6172 616d 2074 6865 726d      :param therm
-00002980: 616c 5f63 6f6e 6475 6374 6976 6974 795f  al_conductivity_
-00002990: 6469 6374 3a20 436f 6e74 6169 6e73 2074  dict: Contains t
-000029a0: 6865 2074 6865 726d 616c 2063 6f6e 6475  he thermal condu
-000029b0: 6374 6976 6974 6965 7320 666f 7220 6576  ctivities for ev
-000029c0: 6572 7920 7265 6769 6f6e 0a20 2020 2020  ery region.     
-000029d0: 2020 203a 7479 7065 2074 6865 726d 616c     :type thermal
-000029e0: 5f63 6f6e 6475 6374 6976 6974 795f 6469  _conductivity_di
-000029f0: 6374 3a20 4469 6374 0a20 2020 2020 2020  ct: Dict.       
-00002a00: 203a 7061 7261 6d20 626f 756e 6461 7279   :param boundary
-00002a10: 5f74 656d 7065 7261 7475 7265 735f 6469  _temperatures_di
-00002a20: 6374 3a20 436f 6e74 6169 6e73 2074 6865  ct: Contains the
-00002a30: 2074 656d 7065 7261 7475 7265 7320 6174   temperatures at
-00002a40: 2065 6163 6820 626f 756e 6461 7279 206c   each boundary l
-00002a50: 696e 650a 2020 2020 2020 2020 3a74 7970  ine.        :typ
-00002a60: 6520 626f 756e 6461 7279 5f74 656d 7065  e boundary_tempe
-00002a70: 7261 7475 7265 735f 6469 6374 3a20 4469  ratures_dict: Di
-00002a80: 6374 0a20 2020 2020 2020 203a 7061 7261  ct.        :para
-00002a90: 6d20 626f 756e 6461 7279 5f66 6c61 6773  m boundary_flags
-00002aa0: 5f64 6963 743a 2053 6574 7320 7468 6520  _dict: Sets the 
-00002ab0: 626f 756e 6461 7279 2074 7970 6520 2864  boundary type (d
-00002ac0: 6972 6963 686c 6574 206f 7220 766f 6e20  irichlet or von 
-00002ad0: 6e65 756d 616e 6e29 2066 6f72 2065 6163  neumann) for eac
-00002ae0: 6820 626f 756e 6461 7279 206c 696e 650a  h boundary line.
-00002af0: 2020 2020 2020 2020 3a74 7970 6520 626f          :type bo
-00002b00: 756e 6461 7279 5f66 6c61 6773 5f64 6963  undary_flags_dic
-00002b10: 743a 2044 6963 740a 2020 2020 2020 2020  t: Dict.        
-00002b20: 3a70 6172 616d 2063 6173 655f 6761 705f  :param case_gap_
-00002b30: 746f 703a 2053 697a 6520 6f66 2074 6865  top: Size of the
-00002b40: 2074 6f70 2063 6173 650a 2020 2020 2020   top case.      
-00002b50: 2020 3a74 7970 6520 6361 7365 5f67 6170    :type case_gap
-00002b60: 5f74 6f70 3a20 666c 6f61 740a 2020 2020  _top: float.    
-00002b70: 2020 2020 3a70 6172 616d 2063 6173 655f      :param case_
-00002b80: 6761 705f 7269 6768 743a 2053 697a 6520  gap_right: Size 
-00002b90: 6f66 2074 6865 2072 6967 6874 2063 6173  of the right cas
-00002ba0: 650a 2020 2020 2020 2020 3a74 7970 6520  e.        :type 
-00002bb0: 6361 7365 5f67 6170 5f72 6967 6874 3a20  case_gap_right: 
-00002bc0: 666c 6f61 740a 2020 2020 2020 2020 3a70  float.        :p
-00002bd0: 6172 616d 2063 6173 655f 6761 705f 626f  aram case_gap_bo
-00002be0: 743a 2053 697a 6520 6f66 2074 6865 2062  t: Size of the b
-00002bf0: 6f74 2063 6173 650a 2020 2020 2020 2020  ot case.        
-00002c00: 3a74 7970 6520 6361 7365 5f67 6170 5f62  :type case_gap_b
-00002c10: 6f74 3a20 666c 6f61 740a 2020 2020 2020  ot: float.      
-00002c20: 2020 3a70 6172 616d 2073 686f 775f 7468    :param show_th
-00002c30: 6572 6d61 6c5f 7369 6d75 6c61 7469 6f6e  ermal_simulation
-00002c40: 5f72 6573 756c 7473 3a20 5368 6f77 7320  _results: Shows 
-00002c50: 7468 6572 6d61 6c20 7265 7375 6c74 7320  thermal results 
-00002c60: 696e 2067 6d73 682c 2064 6566 6175 6c74  in gmsh, default
-00002c70: 7320 746f 2054 7275 650a 2020 2020 2020  s to True.      
-00002c80: 2020 3a74 7970 6520 7368 6f77 5f74 6865    :type show_the
-00002c90: 726d 616c 5f73 696d 756c 6174 696f 6e5f  rmal_simulation_
-00002ca0: 7265 7375 6c74 733a 2062 6f6f 6c2c 206f  results: bool, o
-00002cb0: 7074 696f 6e61 6c0a 2020 2020 2020 2020  ptional.        
-00002cc0: 3a70 6172 616d 2070 7265 5f76 6973 7561  :param pre_visua
-00002cd0: 6c69 7a65 5f67 656f 6d65 7472 793a 2053  lize_geometry: S
-00002ce0: 686f 7773 2074 6865 2074 6865 726d 616c  hows the thermal
-00002cf0: 206d 6f64 656c 2062 6566 6f72 6520 7369   model before si
-00002d00: 6d75 6c61 7469 6f6e 2c20 6465 6661 756c  mulation, defaul
-00002d10: 7473 2074 6f20 4661 6c73 650a 2020 2020  ts to False.    
-00002d20: 2020 2020 3a74 7970 6520 7072 655f 7669      :type pre_vi
-00002d30: 7375 616c 697a 655f 6765 6f6d 6574 7279  sualize_geometry
-00002d40: 3a20 626f 6f6c 2c20 6f70 7469 6f6e 616c  : bool, optional
-00002d50: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00002d60: 636f 6c6f 725f 7363 6865 6d65 3a20 436f  color_scheme: Co
-00002d70: 6c6f 7220 7363 6865 6d65 2066 6f72 2076  lor scheme for v
-00002d80: 6973 7561 6c69 7a61 7469 6f6e 2c20 6465  isualization, de
-00002d90: 6661 756c 7473 2074 6f20 6666 2e63 6f6c  faults to ff.col
-00002da0: 6f72 735f 6665 6d6d 745f 6465 6661 756c  ors_femmt_defaul
-00002db0: 740a 2020 2020 2020 2020 3a74 7970 6520  t.        :type 
-00002dc0: 636f 6c6f 725f 7363 6865 6d65 3a20 4469  color_scheme: Di
-00002dd0: 6374 2c20 6f70 7469 6f6e 616c 0a20 2020  ct, optional.   
-00002de0: 2020 2020 203a 7061 7261 6d20 636f 6c6f       :param colo
-00002df0: 7273 5f67 656f 6d65 7472 793a 2043 6f6c  rs_geometry: Col
-00002e00: 6f72 2067 656f 6d65 7472 7920 666f 7220  or geometry for 
-00002e10: 7669 7375 616c 697a 6174 696f 6e2c 2064  visualization, d
-00002e20: 6566 6175 6c74 7320 746f 2066 662e 636f  efaults to ff.co
-00002e30: 6c6f 7273 5f67 656f 6d65 7472 795f 6665  lors_geometry_fe
-00002e40: 6d6d 745f 6465 6661 756c 740a 2020 2020  mmt_default.    
-00002e50: 2020 2020 3a74 7970 6520 636f 6c6f 7273      :type colors
-00002e60: 5f67 656f 6d65 7472 793a 2044 6963 742c  _geometry: Dict,
-00002e70: 206f 7074 696f 6e61 6c0a 2020 2020 2020   optional.      
-00002e80: 2020 3a70 6172 616d 2066 6c61 675f 696e    :param flag_in
-00002e90: 7375 6c61 7469 6f6e 3a20 5472 7565 2074  sulation: True t
-00002ea0: 6f20 7369 6d75 6c61 7465 2074 6865 2069  o simulate the i
-00002eb0: 6e73 756c 6174 696f 6e0a 2020 2020 2020  nsulation.      
-00002ec0: 2020 3a74 7970 6520 666c 6167 5f69 6e73    :type flag_ins
-00002ed0: 756c 6174 696f 6e3a 2062 6f6f 6c0a 2020  ulation: bool.  
-00002ee0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00002ef0: 2020 2320 4372 6561 7465 206e 6563 6573    # Create neces
-00002f00: 7361 7279 2066 6f6c 6465 7273 0a20 2020  sary folders.   
-00002f10: 2020 2020 2073 656c 662e 6669 6c65 5f64       self.file_d
-00002f20: 6174 612e 6372 6561 7465 5f66 6f6c 6465  ata.create_folde
-00002f30: 7273 2873 656c 662e 6669 6c65 5f64 6174  rs(self.file_dat
-00002f40: 612e 7468 6572 6d61 6c5f 7265 7375 6c74  a.thermal_result
-00002f50: 735f 666f 6c64 6572 5f70 6174 6829 0a0a  s_folder_path)..
-00002f60: 2020 2020 2020 2020 7365 6c66 2e6d 6573          self.mes
-00002f70: 682e 6765 6e65 7261 7465 5f74 6865 726d  h.generate_therm
-00002f80: 616c 5f6d 6573 6828 6361 7365 5f67 6170  al_mesh(case_gap
-00002f90: 5f74 6f70 2c20 6361 7365 5f67 6170 5f72  _top, case_gap_r
-00002fa0: 6967 6874 2c20 6361 7365 5f67 6170 5f62  ight, case_gap_b
-00002fb0: 6f74 2c20 636f 6c6f 725f 7363 6865 6d65  ot, color_scheme
-00002fc0: 2c20 636f 6c6f 7273 5f67 656f 6d65 7472  , colors_geometr
-00002fd0: 792c 0a20 2020 2020 2020 2020 2020 2020  y,.             
+000028c0: 2020 2063 6f6c 6f72 735f 6765 6f6d 6574     colors_geomet
+000028d0: 7279 3a20 4469 6374 203d 2066 662e 636f  ry: Dict = ff.co
+000028e0: 6c6f 7273 5f67 656f 6d65 7472 795f 6665  lors_geometry_fe
+000028f0: 6d6d 745f 6465 6661 756c 742c 2066 6c61  mmt_default, fla
+00002900: 675f 696e 7375 6c61 7469 6f6e 3a20 626f  g_insulation: bo
+00002910: 6f6c 203d 2054 7275 6529 3a0a 2020 2020  ol = True):.    
+00002920: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00002930: 5374 6172 7420 7468 6520 7468 6572 6d61  Start the therma
+00002940: 6c20 7369 6d75 6c61 7469 6f6e 2075 7369  l simulation usi
+00002950: 6e67 2074 6865 726d 616c 5f73 696d 756c  ng thermal_simul
+00002960: 6174 696f 6e2e 7079 2e0a 0a20 2020 2020  ation.py...     
+00002970: 2020 203a 7061 7261 6d20 7468 6572 6d61     :param therma
+00002980: 6c5f 636f 6e64 7563 7469 7669 7479 5f64  l_conductivity_d
+00002990: 6963 743a 2043 6f6e 7461 696e 7320 7468  ict: Contains th
+000029a0: 6520 7468 6572 6d61 6c20 636f 6e64 7563  e thermal conduc
+000029b0: 7469 7669 7469 6573 2066 6f72 2065 7665  tivities for eve
+000029c0: 7279 2072 6567 696f 6e0a 2020 2020 2020  ry region.      
+000029d0: 2020 3a74 7970 6520 7468 6572 6d61 6c5f    :type thermal_
+000029e0: 636f 6e64 7563 7469 7669 7479 5f64 6963  conductivity_dic
+000029f0: 743a 2044 6963 740a 2020 2020 2020 2020  t: Dict.        
+00002a00: 3a70 6172 616d 2062 6f75 6e64 6172 795f  :param boundary_
+00002a10: 7465 6d70 6572 6174 7572 6573 5f64 6963  temperatures_dic
+00002a20: 743a 2043 6f6e 7461 696e 7320 7468 6520  t: Contains the 
+00002a30: 7465 6d70 6572 6174 7572 6573 2061 7420  temperatures at 
+00002a40: 6561 6368 2062 6f75 6e64 6172 7920 6c69  each boundary li
+00002a50: 6e65 0a20 2020 2020 2020 203a 7479 7065  ne.        :type
+00002a60: 2062 6f75 6e64 6172 795f 7465 6d70 6572   boundary_temper
+00002a70: 6174 7572 6573 5f64 6963 743a 2044 6963  atures_dict: Dic
+00002a80: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
+00002a90: 2062 6f75 6e64 6172 795f 666c 6167 735f   boundary_flags_
+00002aa0: 6469 6374 3a20 5365 7473 2074 6865 2062  dict: Sets the b
+00002ab0: 6f75 6e64 6172 7920 7479 7065 2028 6469  oundary type (di
+00002ac0: 7269 6368 6c65 7420 6f72 2076 6f6e 206e  richlet or von n
+00002ad0: 6575 6d61 6e6e 2920 666f 7220 6561 6368  eumann) for each
+00002ae0: 2062 6f75 6e64 6172 7920 6c69 6e65 0a20   boundary line. 
+00002af0: 2020 2020 2020 203a 7479 7065 2062 6f75         :type bou
+00002b00: 6e64 6172 795f 666c 6167 735f 6469 6374  ndary_flags_dict
+00002b10: 3a20 4469 6374 0a20 2020 2020 2020 203a  : Dict.        :
+00002b20: 7061 7261 6d20 6361 7365 5f67 6170 5f74  param case_gap_t
+00002b30: 6f70 3a20 5369 7a65 206f 6620 7468 6520  op: Size of the 
+00002b40: 746f 7020 6361 7365 0a20 2020 2020 2020  top case.       
+00002b50: 203a 7479 7065 2063 6173 655f 6761 705f   :type case_gap_
+00002b60: 746f 703a 2066 6c6f 6174 0a20 2020 2020  top: float.     
+00002b70: 2020 203a 7061 7261 6d20 6361 7365 5f67     :param case_g
+00002b80: 6170 5f72 6967 6874 3a20 5369 7a65 206f  ap_right: Size o
+00002b90: 6620 7468 6520 7269 6768 7420 6361 7365  f the right case
+00002ba0: 0a20 2020 2020 2020 203a 7479 7065 2063  .        :type c
+00002bb0: 6173 655f 6761 705f 7269 6768 743a 2066  ase_gap_right: f
+00002bc0: 6c6f 6174 0a20 2020 2020 2020 203a 7061  loat.        :pa
+00002bd0: 7261 6d20 6361 7365 5f67 6170 5f62 6f74  ram case_gap_bot
+00002be0: 3a20 5369 7a65 206f 6620 7468 6520 626f  : Size of the bo
+00002bf0: 7420 6361 7365 0a20 2020 2020 2020 203a  t case.        :
+00002c00: 7479 7065 2063 6173 655f 6761 705f 626f  type case_gap_bo
+00002c10: 743a 2066 6c6f 6174 0a20 2020 2020 2020  t: float.       
+00002c20: 203a 7061 7261 6d20 7368 6f77 5f74 6865   :param show_the
+00002c30: 726d 616c 5f73 696d 756c 6174 696f 6e5f  rmal_simulation_
+00002c40: 7265 7375 6c74 733a 2053 686f 7773 2074  results: Shows t
+00002c50: 6865 726d 616c 2072 6573 756c 7473 2069  hermal results i
+00002c60: 6e20 676d 7368 2c20 6465 6661 756c 7473  n gmsh, defaults
+00002c70: 2074 6f20 5472 7565 0a20 2020 2020 2020   to True.       
+00002c80: 203a 7479 7065 2073 686f 775f 7468 6572   :type show_ther
+00002c90: 6d61 6c5f 7369 6d75 6c61 7469 6f6e 5f72  mal_simulation_r
+00002ca0: 6573 756c 7473 3a20 626f 6f6c 2c20 6f70  esults: bool, op
+00002cb0: 7469 6f6e 616c 0a20 2020 2020 2020 203a  tional.        :
+00002cc0: 7061 7261 6d20 7072 655f 7669 7375 616c  param pre_visual
+00002cd0: 697a 655f 6765 6f6d 6574 7279 3a20 5368  ize_geometry: Sh
+00002ce0: 6f77 7320 7468 6520 7468 6572 6d61 6c20  ows the thermal 
+00002cf0: 6d6f 6465 6c20 6265 666f 7265 2073 696d  model before sim
+00002d00: 756c 6174 696f 6e2c 2064 6566 6175 6c74  ulation, default
+00002d10: 7320 746f 2046 616c 7365 0a20 2020 2020  s to False.     
+00002d20: 2020 203a 7479 7065 2070 7265 5f76 6973     :type pre_vis
+00002d30: 7561 6c69 7a65 5f67 656f 6d65 7472 793a  ualize_geometry:
+00002d40: 2062 6f6f 6c2c 206f 7074 696f 6e61 6c0a   bool, optional.
+00002d50: 2020 2020 2020 2020 3a70 6172 616d 2063          :param c
+00002d60: 6f6c 6f72 5f73 6368 656d 653a 2043 6f6c  olor_scheme: Col
+00002d70: 6f72 2073 6368 656d 6520 666f 7220 7669  or scheme for vi
+00002d80: 7375 616c 697a 6174 696f 6e2c 2064 6566  sualization, def
+00002d90: 6175 6c74 7320 746f 2066 662e 636f 6c6f  aults to ff.colo
+00002da0: 7273 5f66 656d 6d74 5f64 6566 6175 6c74  rs_femmt_default
+00002db0: 0a20 2020 2020 2020 203a 7479 7065 2063  .        :type c
+00002dc0: 6f6c 6f72 5f73 6368 656d 653a 2044 6963  olor_scheme: Dic
+00002dd0: 742c 206f 7074 696f 6e61 6c0a 2020 2020  t, optional.    
+00002de0: 2020 2020 3a70 6172 616d 2063 6f6c 6f72      :param color
+00002df0: 735f 6765 6f6d 6574 7279 3a20 436f 6c6f  s_geometry: Colo
+00002e00: 7220 6765 6f6d 6574 7279 2066 6f72 2076  r geometry for v
+00002e10: 6973 7561 6c69 7a61 7469 6f6e 2c20 6465  isualization, de
+00002e20: 6661 756c 7473 2074 6f20 6666 2e63 6f6c  faults to ff.col
+00002e30: 6f72 735f 6765 6f6d 6574 7279 5f66 656d  ors_geometry_fem
+00002e40: 6d74 5f64 6566 6175 6c74 0a20 2020 2020  mt_default.     
+00002e50: 2020 203a 7479 7065 2063 6f6c 6f72 735f     :type colors_
+00002e60: 6765 6f6d 6574 7279 3a20 4469 6374 2c20  geometry: Dict, 
+00002e70: 6f70 7469 6f6e 616c 0a20 2020 2020 2020  optional.       
+00002e80: 203a 7061 7261 6d20 666c 6167 5f69 6e73   :param flag_ins
+00002e90: 756c 6174 696f 6e3a 2054 7275 6520 746f  ulation: True to
+00002ea0: 2073 696d 756c 6174 6520 7468 6520 696e   simulate the in
+00002eb0: 7375 6c61 7469 6f6e 0a20 2020 2020 2020  sulation.       
+00002ec0: 203a 7479 7065 2066 6c61 675f 696e 7375   :type flag_insu
+00002ed0: 6c61 7469 6f6e 3a20 626f 6f6c 0a20 2020  lation: bool.   
+00002ee0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00002ef0: 2023 2043 7265 6174 6520 6e65 6365 7373   # Create necess
+00002f00: 6172 7920 666f 6c64 6572 730a 2020 2020  ary folders.    
+00002f10: 2020 2020 7365 6c66 2e66 696c 655f 6461      self.file_da
+00002f20: 7461 2e63 7265 6174 655f 666f 6c64 6572  ta.create_folder
+00002f30: 7328 7365 6c66 2e66 696c 655f 6461 7461  s(self.file_data
+00002f40: 2e74 6865 726d 616c 5f72 6573 756c 7473  .thermal_results
+00002f50: 5f66 6f6c 6465 725f 7061 7468 290a 0a20  _folder_path).. 
+00002f60: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
+00002f70: 2e67 656e 6572 6174 655f 7468 6572 6d61  .generate_therma
+00002f80: 6c5f 6d65 7368 2863 6173 655f 6761 705f  l_mesh(case_gap_
+00002f90: 746f 702c 2063 6173 655f 6761 705f 7269  top, case_gap_ri
+00002fa0: 6768 742c 2063 6173 655f 6761 705f 626f  ght, case_gap_bo
+00002fb0: 742c 2063 6f6c 6f72 5f73 6368 656d 652c  t, color_scheme,
+00002fc0: 2063 6f6c 6f72 735f 6765 6f6d 6574 7279   colors_geometry
+00002fd0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
 00002fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00002ff0: 2020 2020 2020 2020 2020 2070 7265 5f76             pre_v
-00003000: 6973 7561 6c69 7a65 5f67 656f 6d65 7472  isualize_geometr
-00003010: 7929 0a0a 2020 2020 2020 2020 2320 696e  y)..        # in
-00003020: 7375 6c61 7469 6f6e 5f74 6167 203d 2073  sulation_tag = s
-00003030: 656c 662e 6d65 7368 2e70 735f 696e 7375  elf.mesh.ps_insu
-00003040: 6c61 7469 6f6e 2069 6620 666c 6167 5f69  lation if flag_i
-00003050: 6e73 756c 6174 696f 6e20 616e 6420 6c65  nsulation and le
-00003060: 6e28 7365 6c66 2e69 6e73 756c 6174 696f  n(self.insulatio
-00003070: 6e2e 636f 7265 5f63 6f6e 6429 203d 3d20  n.core_cond) == 
-00003080: 3420 656c 7365 204e 6f6e 650a 0a20 2020  4 else None..   
-00003090: 2020 2020 2069 6620 6e6f 7420 6f73 2e70       if not os.p
-000030a0: 6174 682e 6578 6973 7473 2873 656c 662e  ath.exists(self.
-000030b0: 6669 6c65 5f64 6174 612e 655f 6d5f 7265  file_data.e_m_re
-000030c0: 7375 6c74 735f 6c6f 675f 7061 7468 293a  sults_log_path):
-000030d0: 0a20 2020 2020 2020 2020 2020 2023 2053  .            # S
-000030e0: 696d 756c 6174 696f 6e20 7265 7375 6c74  imulation result
-000030f0: 7320 6669 6c65 206e 6f74 2063 7265 6174  s file not creat
-00003100: 6564 0a20 2020 2020 2020 2020 2020 2072  ed.            r
-00003110: 6169 7365 2045 7863 6570 7469 6f6e 280a  aise Exception(.
-00003120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003130: 2243 616e 6e6f 7420 7275 6e20 7468 6572  "Cannot run ther
-00003140: 6d61 6c20 7369 6d75 6c61 7469 6f6e 202d  mal simulation -
-00003150: 3e20 4d61 676e 6574 6963 2073 696d 756c  > Magnetic simul
-00003160: 6174 696f 6e20 6e65 6564 7320 746f 2072  ation needs to r
-00003170: 756e 2066 6972 7374 2028 6e6f 2072 6573  un first (no res
-00003180: 756c 7473 5f6c 6f67 2e6a 736f 6e20 666f  ults_log.json fo
-00003190: 756e 6422 290a 0a20 2020 2020 2020 2023  und")..        #
-000031a0: 2043 6865 636b 2069 6620 7468 6520 7265   Check if the re
-000031b0: 7375 6c74 7320 6c6f 6720 7061 7468 2073  sults log path s
-000031c0: 696d 756c 6174 696f 6e20 7365 7474 696e  imulation settin
-000031d0: 6773 2066 6974 2074 6865 2063 7572 7265  gs fit the curre
-000031e0: 6e74 2073 696d 756c 6174 696f 6e20 7365  nt simulation se
-000031f0: 7474 696e 6773 0a20 2020 2020 2020 2063  ttings.        c
-00003200: 7572 7265 6e74 5f73 6574 7469 6e67 7320  urrent_settings 
-00003210: 3d20 4d61 676e 6574 6963 436f 6d70 6f6e  = MagneticCompon
-00003220: 656e 742e 656e 636f 6465 5f73 6574 7469  ent.encode_setti
-00003230: 6e67 7328 7365 6c66 290a 2020 2020 2020  ngs(self).      
-00003240: 2020 6465 6c20 6375 7272 656e 745f 7365    del current_se
-00003250: 7474 696e 6773 5b22 776f 726b 696e 675f  ttings["working_
-00003260: 6469 7265 6374 6f72 7922 5d0a 2020 2020  directory"].    
-00003270: 2020 2020 6465 6c20 6375 7272 656e 745f      del current_
-00003280: 7365 7474 696e 6773 5b22 6461 7465 225d  settings["date"]
-00003290: 0a0a 2020 2020 2020 2020 7769 7468 206f  ..        with o
-000032a0: 7065 6e28 7365 6c66 2e66 696c 655f 6461  pen(self.file_da
-000032b0: 7461 2e65 5f6d 5f72 6573 756c 7473 5f6c  ta.e_m_results_l
-000032c0: 6f67 5f70 6174 682c 2022 7222 2920 6173  og_path, "r") as
-000032d0: 2066 643a 0a20 2020 2020 2020 2020 2020   fd:.           
-000032e0: 2063 6f6e 7465 6e74 203d 206a 736f 6e2e   content = json.
-000032f0: 6c6f 6164 2866 6429 0a20 2020 2020 2020  load(fd).       
-00003300: 2020 2020 206c 6f67 5f73 6574 7469 6e67       log_setting
-00003310: 7320 3d20 636f 6e74 656e 745b 2273 696d  s = content["sim
-00003320: 756c 6174 696f 6e5f 7365 7474 696e 6773  ulation_settings
-00003330: 225d 0a20 2020 2020 2020 2064 656c 206c  "].        del l
-00003340: 6f67 5f73 6574 7469 6e67 735b 2277 6f72  og_settings["wor
-00003350: 6b69 6e67 5f64 6972 6563 746f 7279 225d  king_directory"]
-00003360: 0a20 2020 2020 2020 2064 656c 206c 6f67  .        del log
-00003370: 5f73 6574 7469 6e67 735b 2264 6174 6522  _settings["date"
-00003380: 5d0a 0a20 2020 2020 2020 2069 6620 6375  ]..        if cu
-00003390: 7272 656e 745f 7365 7474 696e 6773 2021  rrent_settings !
-000033a0: 3d20 6c6f 675f 7365 7474 696e 6773 3a0a  = log_settings:.
-000033b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-000033c0: 6520 4578 6365 7074 696f 6e28 6622 5468  e Exception(f"Th
-000033d0: 6520 7365 7474 696e 6773 2066 726f 6d20  e settings from 
-000033e0: 7468 6520 6c6f 6720 6669 6c65 207b 7365  the log file {se
-000033f0: 6c66 2e66 696c 655f 6461 7461 2e65 5f6d  lf.file_data.e_m
-00003400: 5f72 6573 756c 7473 5f6c 6f67 5f70 6174  _results_log_pat
-00003410: 687d 2064 6f20 6e6f 7420 6d61 7463 6820  h} do not match 
-00003420: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00003430: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-00003440: 7468 6520 6375 7272 656e 7420 7369 6d75  the current simu
-00003450: 6c61 7469 6f6e 2073 6574 7469 6e67 732e  lation settings.
-00003460: 2050 6c65 6173 6520 7265 2d72 756e 2074   Please re-run t
-00003470: 6865 206d 6167 6e65 7469 6320 7369 6d75  he magnetic simu
-00003480: 6c61 7469 6f6e 2e22 290a 0a20 2020 2020  lation.")..     
-00003490: 2020 2074 6167 7320 3d20 7b0a 2020 2020     tags = {.    
-000034a0: 2020 2020 2020 2020 2263 6f72 655f 7461          "core_ta
-000034b0: 6773 223a 2073 656c 662e 6d65 7368 2e70  gs": self.mesh.p
-000034c0: 735f 636f 7265 2c0a 2020 2020 2020 2020  s_core,.        
-000034d0: 2020 2020 2262 6163 6b67 726f 756e 645f      "background_
-000034e0: 7461 6722 3a20 7365 6c66 2e6d 6573 682e  tag": self.mesh.
-000034f0: 7073 5f61 6972 2c0a 2020 2020 2020 2020  ps_air,.        
-00003500: 2020 2020 2277 696e 6469 6e67 5f74 6167      "winding_tag
-00003510: 7322 3a20 7365 6c66 2e6d 6573 682e 7073  s": self.mesh.ps
-00003520: 5f63 6f6e 642c 0a20 2020 2020 2020 2020  _cond,.         
-00003530: 2020 2022 6169 725f 6761 7073 5f74 6167     "air_gaps_tag
-00003540: 223a 2073 656c 662e 6d65 7368 2e70 735f  ": self.mesh.ps_
-00003550: 6169 725f 6761 7073 2069 6620 7365 6c66  air_gaps if self
-00003560: 2e61 6972 5f67 6170 732e 6e75 6d62 6572  .air_gaps.number
-00003570: 203e 2030 2065 6c73 6520 4e6f 6e65 2c0a   > 0 else None,.
-00003580: 2020 2020 2020 2020 2020 2020 2262 6f75              "bou
-00003590: 6e64 6172 795f 7265 6769 6f6e 7322 3a20  ndary_regions": 
-000035a0: 7365 6c66 2e6d 6573 682e 7468 6572 6d61  self.mesh.therma
-000035b0: 6c5f 626f 756e 6461 7279 5f72 6567 696f  l_boundary_regio
-000035c0: 6e5f 7461 6773 2c0a 2020 2020 2020 2020  n_tags,.        
-000035d0: 2020 2020 2269 6e73 756c 6174 696f 6e73      "insulations
-000035e0: 5f74 6167 223a 2073 656c 662e 6d65 7368  _tag": self.mesh
-000035f0: 2e70 735f 696e 7375 6c61 7469 6f6e 2069  .ps_insulation i
-00003600: 6620 666c 6167 5f69 6e73 756c 6174 696f  f flag_insulatio
-00003610: 6e20 616e 6420 6c65 6e28 0a20 2020 2020  n and len(.     
-00003620: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00003630: 696e 7375 6c61 7469 6f6e 2e63 6f72 655f  insulation.core_
-00003640: 636f 6e64 2920 3d3d 2034 2065 6c73 6520  cond) == 4 else 
-00003650: 4e6f 6e65 0a20 2020 2020 2020 207d 0a0a  None.        }..
-00003660: 2020 2020 2020 2020 2320 436f 7265 2061          # Core a
-00003670: 7265 6120 2d3e 2049 7320 6e65 6564 6564  rea -> Is needed
-00003680: 2074 6f20 6573 7469 6d61 7465 2074 6865   to estimate the
-00003690: 2068 6561 7420 666c 7578 0a20 2020 2020   heat flux.     
-000036a0: 2020 2023 2050 6f77 6572 2064 656e 7369     # Power densi
-000036b0: 7479 2066 6f72 2076 6f6c 756d 6573 2057  ty for volumes W
-000036c0: 2f6d 5e33 0a20 2020 2020 2020 2023 2063  /m^3.        # c
-000036d0: 6f72 655f 6172 6561 203d 2073 656c 662e  ore_area = self.
-000036e0: 6361 6c63 756c 6174 655f 636f 7265 5f76  calculate_core_v
-000036f0: 6f6c 756d 6528 290a 2020 2020 2020 2020  olume().        
-00003700: 636f 7265 5f61 7265 6120 3d20 7365 6c66  core_area = self
-00003710: 2e63 616c 6375 6c61 7465 5f63 6f72 655f  .calculate_core_
-00003720: 7061 7274 735f 766f 6c75 6d65 2829 0a0a  parts_volume()..
-00003730: 2020 2020 2020 2020 2320 5365 7420 7769          # Set wi
-00003740: 7265 2072 6164 6969 0a20 2020 2020 2020  re radii.       
-00003750: 2077 6972 655f 7261 6469 6920 3d20 5b77   wire_radii = [w
-00003760: 696e 6469 6e67 2e63 6f6e 6475 6374 6f72  inding.conductor
-00003770: 5f72 6164 6975 7320 666f 7220 7769 6e64  _radius for wind
-00003780: 696e 6720 696e 2073 656c 662e 7769 6e64  ing in self.wind
-00003790: 696e 6773 5d0a 0a20 2020 2020 2020 2074  ings]..        t
-000037a0: 6865 726d 616c 5f70 6172 616d 6574 6572  hermal_parameter
-000037b0: 7320 3d20 7b0a 2020 2020 2020 2020 2020  s = {.          
-000037c0: 2020 2266 696c 655f 6461 7461 223a 2073    "file_data": s
-000037d0: 656c 662e 6669 6c65 5f64 6174 612c 0a20  elf.file_data,. 
-000037e0: 2020 2020 2020 2020 2020 2022 7461 6773             "tags
-000037f0: 5f64 6963 7422 3a20 7461 6773 2c0a 2020  _dict": tags,.  
-00003800: 2020 2020 2020 2020 2020 2274 6865 726d            "therm
-00003810: 616c 5f63 6f6e 6475 6374 6976 6974 795f  al_conductivity_
-00003820: 6469 6374 223a 2074 6865 726d 616c 5f63  dict": thermal_c
-00003830: 6f6e 6475 6374 6976 6974 795f 6469 6374  onductivity_dict
-00003840: 2c0a 2020 2020 2020 2020 2020 2020 2262  ,.            "b
-00003850: 6f75 6e64 6172 795f 7465 6d70 6572 6174  oundary_temperat
-00003860: 7572 6573 223a 2062 6f75 6e64 6172 795f  ures": boundary_
-00003870: 7465 6d70 6572 6174 7572 6573 5f64 6963  temperatures_dic
-00003880: 742c 0a20 2020 2020 2020 2020 2020 2022  t,.            "
-00003890: 626f 756e 6461 7279 5f66 6c61 6773 223a  boundary_flags":
-000038a0: 2062 6f75 6e64 6172 795f 666c 6167 735f   boundary_flags_
-000038b0: 6469 6374 2c0a 2020 2020 2020 2020 2020  dict,.          
-000038c0: 2020 2262 6f75 6e64 6172 795f 7068 7973    "boundary_phys
-000038d0: 6963 616c 5f67 726f 7570 7322 3a20 7b0a  ical_groups": {.
-000038e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000038f0: 2274 6f70 223a 2073 656c 662e 6d65 7368  "top": self.mesh
-00003900: 2e74 6865 726d 616c 5f62 6f75 6e64 6172  .thermal_boundar
-00003910: 795f 7073 5f67 726f 7570 735b 305d 2c0a  y_ps_groups[0],.
-00003920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00003930: 2274 6f70 5f72 6967 6874 223a 2073 656c  "top_right": sel
-00003940: 662e 6d65 7368 2e74 6865 726d 616c 5f62  f.mesh.thermal_b
-00003950: 6f75 6e64 6172 795f 7073 5f67 726f 7570  oundary_ps_group
-00003960: 735b 315d 2c0a 2020 2020 2020 2020 2020  s[1],.          
-00003970: 2020 2020 2020 2272 6967 6874 223a 2073        "right": s
-00003980: 656c 662e 6d65 7368 2e74 6865 726d 616c  elf.mesh.thermal
-00003990: 5f62 6f75 6e64 6172 795f 7073 5f67 726f  _boundary_ps_gro
-000039a0: 7570 735b 325d 2c0a 2020 2020 2020 2020  ups[2],.        
-000039b0: 2020 2020 2020 2020 2262 6f74 5f72 6967          "bot_rig
-000039c0: 6874 223a 2073 656c 662e 6d65 7368 2e74  ht": self.mesh.t
-000039d0: 6865 726d 616c 5f62 6f75 6e64 6172 795f  hermal_boundary_
-000039e0: 7073 5f67 726f 7570 735b 335d 2c0a 2020  ps_groups[3],.  
-000039f0: 2020 2020 2020 2020 2020 2020 2020 2262                "b
-00003a00: 6f74 223a 2073 656c 662e 6d65 7368 2e74  ot": self.mesh.t
-00003a10: 6865 726d 616c 5f62 6f75 6e64 6172 795f  hermal_boundary_
-00003a20: 7073 5f67 726f 7570 735b 345d 0a20 2020  ps_groups[4].   
-00003a30: 2020 2020 2020 2020 207d 2c0a 2020 2020           },.    
-00003a40: 2020 2020 2020 2020 2263 6f72 655f 6172          "core_ar
-00003a50: 6561 223a 2063 6f72 655f 6172 6561 2c0a  ea": core_area,.
-00003a60: 2020 2020 2020 2020 2020 2020 2263 6f6e              "con
-00003a70: 6475 6374 6f72 5f72 6164 6969 223a 2077  ductor_radii": w
-00003a80: 6972 655f 7261 6469 692c 0a20 2020 2020  ire_radii,.     
-00003a90: 2020 2020 2020 2022 7769 7265 5f64 6973         "wire_dis
-00003aa0: 7461 6e63 6573 223a 2073 656c 662e 6765  tances": self.ge
-00003ab0: 745f 7769 7265 5f64 6973 7461 6e63 6573  t_wire_distances
-00003ac0: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
-00003ad0: 2263 6173 655f 766f 6c75 6d65 223a 2073  "case_volume": s
-00003ae0: 656c 662e 636f 7265 2e72 5f6f 7574 6572  elf.core.r_outer
-00003af0: 202a 2063 6173 655f 6761 705f 746f 7020   * case_gap_top 
-00003b00: 2b20 7365 6c66 2e63 6f72 652e 636f 7265  + self.core.core
-00003b10: 5f68 202a 2063 6173 655f 6761 705f 7269  _h * case_gap_ri
-00003b20: 6768 7420 2b20 7365 6c66 2e63 6f72 652e  ght + self.core.
-00003b30: 725f 6f75 7465 7220 2a20 6361 7365 5f67  r_outer * case_g
-00003b40: 6170 5f62 6f74 2c0a 2020 2020 2020 2020  ap_bot,.        
-00003b50: 2020 2020 2273 686f 775f 7468 6572 6d61      "show_therma
-00003b60: 6c5f 6665 6d5f 7265 7375 6c74 7322 3a20  l_fem_results": 
-00003b70: 7368 6f77 5f74 6865 726d 616c 5f73 696d  show_thermal_sim
-00003b80: 756c 6174 696f 6e5f 7265 7375 6c74 732c  ulation_results,
-00003b90: 0a20 2020 2020 2020 2020 2020 2022 7072  .            "pr
-00003ba0: 696e 745f 7365 6e73 6f72 5f76 616c 7565  int_sensor_value
-00003bb0: 7322 3a20 4661 6c73 652c 0a20 2020 2020  s": False,.     
-00003bc0: 2020 2020 2020 2022 7369 6c65 6e74 223a         "silent":
-00003bd0: 2073 656c 662e 7665 7262 6f73 6974 7920   self.verbosity 
-00003be0: 3d3d 2056 6572 626f 7369 7479 2e53 696c  == Verbosity.Sil
-00003bf0: 656e 742c 2020 2320 4164 6420 7665 7262  ent,  # Add verb
-00003c00: 6f73 6974 7920 666f 7220 7468 6572 6d61  osity for therma
-00003c10: 6c20 7369 6d75 6c61 7469 6f6e 0a20 2020  l simulation.   
-00003c20: 2020 2020 2020 2020 2022 666c 6167 5f69           "flag_i
-00003c30: 6e73 756c 6174 696f 6e22 3a20 666c 6167  nsulation": flag
-00003c40: 5f69 6e73 756c 6174 696f 6e0a 2020 2020  _insulation.    
-00003c50: 2020 2020 7d0a 0a20 2020 2020 2020 2074      }..        t
-00003c60: 6865 726d 616c 5f73 696d 756c 6174 696f  hermal_simulatio
-00003c70: 6e2e 7275 6e5f 7468 6572 6d61 6c28 2a2a  n.run_thermal(**
-00003c80: 7468 6572 6d61 6c5f 7061 7261 6d65 7465  thermal_paramete
-00003c90: 7273 290a 0a20 2020 2023 2020 2d20 202d  rs)..    #  -  -
-00003ca0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00003cb0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00003cc0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00003cd0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00003ce0: 202d 2020 2d20 202d 2020 2d20 2020 2d20   -  -  -  -   - 
-00003cf0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00003d00: 2d20 202d 2020 2d20 202d 2020 2d0a 2020  -  -  -  -  -.  
-00003d10: 2020 2320 5365 7475 700a 2020 2020 6465    # Setup.    de
-00003d20: 6620 6f6e 656c 6162 5f73 6574 7570 2873  f onelab_setup(s
-00003d30: 656c 662c 2069 735f 6775 693a 2062 6f6f  elf, is_gui: boo
-00003d40: 6c29 3a0a 2020 2020 2020 2020 2222 220a  l):.        """.
-00003d50: 2020 2020 2020 2020 5365 7420 7570 2074          Set up t
-00003d60: 6865 206f 6e65 6c61 6220 6669 6c65 7061  he onelab filepa
-00003d70: 7468 732e 0a0a 2020 2020 2020 2020 4569  ths...        Ei
-00003d80: 7468 6572 2072 6561 6473 204f 4e45 4c41  ther reads ONELA
-00003d90: 4220 7061 7265 6e74 2066 6f6c 6465 7220  B parent folder 
-00003da0: 7061 7468 2066 726f 6d20 636f 6e66 6967  path from config
-00003db0: 2e6a 736f 6e20 6f72 2061 736b 7320 7468  .json or asks th
-00003dc0: 6520 7573 6572 2074 6f20 7072 6f76 6964  e user to provid
-00003dd0: 6520 7468 6520 4f4e 454c 4142 2070 6174  e the ONELAB pat
-00003de0: 6820 6974 2e0a 2020 2020 2020 2020 4372  h it..        Cr
-00003df0: 6561 7465 7320 6120 636f 6e66 6967 2e6a  eates a config.j
-00003e00: 736f 6e20 696e 7369 6465 2074 6865 2073  son inside the s
-00003e10: 6974 652d 7061 636b 6167 6573 2066 6f6c  ite-packages fol
-00003e20: 6465 7220 6174 2066 6972 7374 2072 756e  der at first run
-00003e30: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
-00003e40: 6d20 6973 5f67 7569 3a20 7365 7420 746f  m is_gui: set to
-00003e50: 2054 7275 6520 746f 2061 766f 6964 2074   True to avoid t
-00003e60: 6572 6d69 6e61 6c20 6f75 7470 7574 2071  erminal output q
-00003e70: 7565 7374 696f 6e20 666f 7220 6f6e 656c  uestion for onel
-00003e80: 6162 2066 696c 6520 7061 7468 2061 7420  ab file path at 
-00003e90: 6669 7273 7420 7275 6e2e 0a20 2020 2020  first run..     
-00003ea0: 2020 2020 2020 2055 7365 6420 6573 7065         Used espe
-00003eb0: 6369 616c 6c79 2069 6e20 4755 490a 2020  cially in GUI.  
-00003ec0: 2020 2020 2020 3a74 7970 6520 6973 5f67        :type is_g
-00003ed0: 7569 3a20 626f 6f6c 0a20 2020 2020 2020  ui: bool.       
-00003ee0: 2022 2222 0a20 2020 2020 2020 2023 2063   """.        # c
-00003ef0: 6865 636b 2069 6620 636f 6e66 6967 2e6a  heck if config.j
-00003f00: 736f 6e20 6973 2061 7661 696c 6162 6c65  son is available
-00003f10: 2061 6e64 206e 6f74 2065 6d70 7479 0a20   and not empty. 
-00003f20: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
-00003f30: 682e 6973 6669 6c65 2873 656c 662e 6669  h.isfile(self.fi
-00003f40: 6c65 5f64 6174 612e 636f 6e66 6967 5f70  le_data.config_p
-00003f50: 6174 6829 2061 6e64 206f 732e 7374 6174  ath) and os.stat
-00003f60: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
-00003f70: 636f 6e66 6967 5f70 6174 6829 2e73 745f  config_path).st_
-00003f80: 7369 7a65 2021 3d20 303a 0a20 2020 2020  size != 0:.     
-00003f90: 2020 2020 2020 206f 6e65 6c61 625f 7061         onelab_pa
-00003fa0: 7468 203d 2022 220a 2020 2020 2020 2020  th = "".        
-00003fb0: 2020 2020 7769 7468 206f 7065 6e28 7365      with open(se
-00003fc0: 6c66 2e66 696c 655f 6461 7461 2e63 6f6e  lf.file_data.con
-00003fd0: 6669 675f 7061 7468 2c20 2272 2229 2061  fig_path, "r") a
-00003fe0: 7320 6664 3a0a 2020 2020 2020 2020 2020  s fd:.          
-00003ff0: 2020 2020 2020 6c6f 6164 6564 5f64 6963        loaded_dic
-00004000: 7420 3d20 6a73 6f6e 2e6c 6f61 6473 2866  t = json.loads(f
-00004010: 642e 7265 6164 2829 290a 2020 2020 2020  d.read()).      
-00004020: 2020 2020 2020 2020 2020 6f6e 656c 6162            onelab
-00004030: 5f70 6174 6820 3d20 6c6f 6164 6564 5f64  _path = loaded_d
-00004040: 6963 745b 276f 6e65 6c61 6227 5d0a 0a20  ict['onelab'].. 
-00004050: 2020 2020 2020 2020 2020 2069 6620 6f73             if os
-00004060: 2e70 6174 682e 6578 6973 7473 286f 6e65  .path.exists(one
-00004070: 6c61 625f 7061 7468 2920 616e 6420 6f73  lab_path) and os
-00004080: 2e70 6174 682e 6973 6669 6c65 286f 732e  .path.isfile(os.
-00004090: 7061 7468 2e6a 6f69 6e28 6f6e 656c 6162  path.join(onelab
-000040a0: 5f70 6174 682c 2022 6f6e 656c 6162 2e70  _path, "onelab.p
-000040b0: 7922 2929 3a0a 2020 2020 2020 2020 2020  y")):.          
-000040c0: 2020 2020 2020 2320 5061 7468 2066 6f75        # Path fou
-000040d0: 6e64 0a20 2020 2020 2020 2020 2020 2020  nd.             
-000040e0: 2020 2073 656c 662e 6669 6c65 5f64 6174     self.file_dat
-000040f0: 612e 6f6e 656c 6162 5f66 6f6c 6465 725f  a.onelab_folder_
-00004100: 7061 7468 203d 206f 6e65 6c61 625f 7061  path = onelab_pa
-00004110: 7468 0a20 2020 2020 2020 2020 2020 2020  th.             
-00004120: 2020 2072 6574 7572 6e0a 0a20 2020 2020     return..     
-00004130: 2020 2023 204c 6574 2074 6865 2075 7365     # Let the use
-00004140: 7220 656e 7465 7220 7468 6520 6f6e 656c  r enter the onel
-00004150: 6162 5f70 6174 683a 0a20 2020 2020 2020  ab_path:.       
-00004160: 2023 2046 696e 6420 6f75 7420 7468 6520   # Find out the 
-00004170: 6f6e 656c 6162 5f70 6174 6820 6f66 2069  onelab_path of i
-00004180: 6e73 7461 6c6c 6564 206d 6f64 756c 652c  nstalled module,
-00004190: 206f 7220 696e 2063 6173 6520 6f66 2072   or in case of r
-000041a0: 756e 6e69 6e67 2064 6972 6563 746c 7920  unning directly 
-000041b0: 6672 6f6d 2067 6974 2c0a 2020 2020 2020  from git,.      
-000041c0: 2020 2320 6669 6e64 2074 6865 206f 6e65    # find the one
-000041d0: 6c61 625f 7061 7468 206f 6620 6769 7420  lab_path of git 
-000041e0: 7265 706f 7369 746f 7279 206c 6f6f 7020  repository loop 
-000041f0: 756e 7469 6c20 7061 7468 2069 7320 636f  until path is co
-00004200: 7272 6563 740a 2020 2020 2020 2020 6f6e  rrect.        on
-00004210: 656c 6162 5f70 6174 685f 7772 6f6e 6720  elab_path_wrong 
-00004220: 3d20 5472 7565 0a0a 2020 2020 2020 2020  = True..        
-00004230: 2320 5468 6973 2069 7320 6e65 6564 6564  # This is needed
-00004240: 2062 6563 6175 7365 2069 6e20 7468 6520   because in the 
-00004250: 6775 6920 7468 6520 696e 7075 7428 2920  gui the input() 
-00004260: 636f 6d6d 616e 6420 6361 6e6e 6f74 2062  command cannot b
-00004270: 6520 6361 6c6c 6564 2028 6974 2077 6f75  e called (it wou
-00004280: 6c64 2072 6573 756c 7420 696e 2061 6e20  ld result in an 
-00004290: 696e 6669 6e69 7465 206c 6f6f 7029 2e0a  infinite loop)..
-000042a0: 2020 2020 2020 2020 2320 4966 2074 6865          # If the
-000042b0: 2063 6f6e 6669 6720 6669 6c65 2077 6173   config file was
-000042c0: 206e 6f74 2066 6f75 6e64 206a 7573 7420   not found just 
-000042d0: 7265 7475 726e 206f 7574 206f 6620 7468  return out of th
-000042e0: 6520 6675 6e63 7469 6f6e 2e0a 2020 2020  e function..    
-000042f0: 2020 2020 2320 5468 6520 636f 6e66 6967      # The config
-00004300: 2066 696c 6520 7769 6c6c 2062 6520 6164   file will be ad
-00004310: 6465 6420 6c61 7465 7220 6279 2074 6865  ded later by the
-00004320: 2067 7569 2068 616e 646c 6572 2e0a 2020   gui handler..  
-00004330: 2020 2020 2020 6966 2069 735f 6775 693a        if is_gui:
-00004340: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00004350: 7572 6e0a 0a20 2020 2020 2020 2077 6869  urn..        whi
-00004360: 6c65 206f 6e65 6c61 625f 7061 7468 5f77  le onelab_path_w
-00004370: 726f 6e67 3a0a 2020 2020 2020 2020 2020  rong:.          
-00004380: 2020 6f6e 656c 6162 5f70 6174 6820 3d20    onelab_path = 
-00004390: 6f73 2e70 6174 682e 6e6f 726d 7061 7468  os.path.normpath
-000043a0: 2869 6e70 7574 280a 2020 2020 2020 2020  (input(.        
-000043b0: 2020 2020 2020 2020 2245 6e74 6572 2074          "Enter t
-000043c0: 6865 2070 6174 6820 6f66 206f 6e65 6c61  he path of onela
-000043d0: 6227 7320 7061 7265 6e74 2066 6f6c 6465  b's parent folde
-000043e0: 7220 2870 6174 6820 746f 2066 6f6c 6465  r (path to folde
-000043f0: 7220 7768 6963 6820 636f 6e74 6169 6e73  r which contains
-00004400: 2067 6574 6470 2c20 6f6e 656c 6162 2065   getdp, onelab e
-00004410: 7865 6375 7461 626c 6573 293a 2022 2929  xecutables): "))
-00004420: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-00004430: 206f 732e 7061 7468 2e65 7869 7374 7328   os.path.exists(
-00004440: 6f6e 656c 6162 5f70 6174 6829 3a0a 2020  onelab_path):.  
-00004450: 2020 2020 2020 2020 2020 2020 2020 6f6e                on
-00004460: 656c 6162 5f70 6174 685f 7772 6f6e 6720  elab_path_wrong 
-00004470: 3d20 4661 6c73 650a 2020 2020 2020 2020  = False.        
-00004480: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
-00004490: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-000044a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000044b0: 7365 6c66 2e66 656d 6d74 5f70 7269 6e74  self.femmt_print
-000044c0: 2827 6f6e 656c 6162 206e 6f74 2066 6f75  ('onelab not fou
-000044d0: 6e64 2120 546f 6f6c 2073 6561 7263 6865  nd! Tool searche
-000044e0: 7320 666f 7220 6f6e 656c 6162 2e70 7920  s for onelab.py 
-000044f0: 696e 2074 6865 2066 6f6c 6465 722e 2050  in the folder. P
-00004500: 6c65 6173 6520 7265 2d65 6e74 6572 2070  lease re-enter p
-00004510: 6174 6821 2729 0a20 2020 2020 2020 2073  ath!').        s
-00004520: 656c 662e 6669 6c65 5f64 6174 612e 6f6e  elf.file_data.on
-00004530: 656c 6162 5f66 6f6c 6465 725f 7061 7468  elab_folder_path
-00004540: 203d 206f 6e65 6c61 625f 7061 7468 0a0a   = onelab_path..
-00004550: 2020 2020 2020 2020 2320 5772 6974 6520          # Write 
-00004560: 7468 6520 7061 7468 2074 6f20 7468 6520  the path to the 
-00004570: 636f 6e66 6967 2e6a 736f 6e0a 2020 2020  config.json.    
-00004580: 2020 2020 6f6e 656c 6162 5f70 6174 685f      onelab_path_
-00004590: 6469 6374 203d 207b 226f 6e65 6c61 6222  dict = {"onelab"
-000045a0: 3a20 6f6e 656c 6162 5f70 6174 687d 0a20  : onelab_path}. 
-000045b0: 2020 2020 2020 2077 6974 6820 6f70 656e         with open
-000045c0: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
-000045d0: 6c66 2e66 696c 655f 6461 7461 2e63 6f6e  lf.file_data.con
-000045e0: 6669 675f 7061 7468 292c 2027 7727 2c20  fig_path), 'w', 
-000045f0: 656e 636f 6469 6e67 3d27 7574 662d 3827  encoding='utf-8'
-00004600: 2920 6173 2066 643a 0a20 2020 2020 2020  ) as fd:.       
-00004610: 2020 2020 206a 736f 6e2e 6475 6d70 286f       json.dump(o
-00004620: 6e65 6c61 625f 7061 7468 5f64 6963 742c  nelab_path_dict,
-00004630: 2066 642c 2069 6e64 656e 743d 322c 2065   fd, indent=2, e
-00004640: 6e73 7572 655f 6173 6369 693d 4661 6c73  nsure_ascii=Fals
-00004650: 6529 0a0a 2020 2020 2320 202d 2020 2d20  e)..    #  -  - 
-00004660: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00004670: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00004680: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00004690: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-000046a0: 2d20 202d 2020 2d20 202d 2020 202d 2020  -  -  -  -   -  
-000046b0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-000046c0: 2020 2d20 202d 2020 2d20 202d 0a20 2020    -  -  -  -.   
-000046d0: 2023 2047 656f 6d65 7472 7920 5061 7274   # Geometry Part
-000046e0: 730a 2020 2020 6465 6620 6869 6768 5f6c  s.    def high_l
-000046f0: 6576 656c 5f67 656f 5f67 656e 2873 656c  evel_geo_gen(sel
-00004700: 662c 2066 7265 7175 656e 6379 3a20 666c  f, frequency: fl
-00004710: 6f61 7420 3d20 4e6f 6e65 2c20 736b 696e  oat = None, skin
-00004720: 5f6d 6573 685f 6661 6374 6f72 3a20 666c  _mesh_factor: fl
-00004730: 6f61 7420 3d20 4e6f 6e65 293a 0a20 2020  oat = None):.   
-00004740: 2020 2020 2022 2222 5570 6461 7465 2074       """Update t
-00004750: 6865 206d 6573 6820 6461 7461 2061 6e64  he mesh data and
-00004760: 2063 7265 6174 6573 2074 6865 206d 6f64   creates the mod
-00004770: 656c 2061 6e64 206d 6573 6820 6f62 6a65  el and mesh obje
-00004780: 6374 732e 0a0a 2020 2020 2020 2020 3a70  cts...        :p
-00004790: 6172 616d 2066 7265 7175 656e 6379 3a20  aram frequency: 
-000047a0: 4672 6571 7565 6e63 7920 7573 6564 2069  Frequency used i
-000047b0: 6e20 7468 6520 6d65 7368 2064 656e 7369  n the mesh densi
-000047c0: 7479 2c20 6465 6661 756c 7473 2074 6f20  ty, defaults to 
-000047d0: 4e6f 6e65 0a20 2020 2020 2020 203a 7479  None.        :ty
-000047e0: 7065 2066 7265 7175 656e 6379 3a20 666c  pe frequency: fl
-000047f0: 6f61 742c 206f 7074 696f 6e61 6c0a 2020  oat, optional.  
-00004800: 2020 2020 2020 3a70 6172 616d 2073 6b69        :param ski
-00004810: 6e5f 6d65 7368 5f66 6163 746f 723a 2055  n_mesh_factor: U
-00004820: 7365 6420 696e 2074 6865 206d 6573 6820  sed in the mesh 
-00004830: 6465 6e73 6974 792c 2064 6566 6175 6c74  density, default
-00004840: 7320 746f 204e 6f6e 650a 2020 2020 2020  s to None.      
-00004850: 2020 3a74 7970 6520 736b 696e 5f6d 6573    :type skin_mes
-00004860: 685f 6661 6374 6f72 3a20 666c 6f61 742c  h_factor: float,
-00004870: 206f 7074 696f 6e61 6c0a 2020 2020 2020   optional.      
-00004880: 2020 2222 220a 2020 2020 2020 2020 2320    """.        # 
-00004890: 4465 6661 756c 7420 7661 6c75 6573 2066  Default values f
-000048a0: 6f72 2067 6c6f 6261 6c5f 6163 6375 7261  or global_accura
-000048b0: 6379 2061 6e64 2070 6164 6469 6e67 0a20  cy and padding. 
-000048c0: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
-000048d0: 5f64 6174 612e 7570 6461 7465 5f73 7061  _data.update_spa
-000048e0: 7469 616c 5f64 6174 6128 7365 6c66 2e63  tial_data(self.c
-000048f0: 6f72 652e 636f 7265 5f69 6e6e 6572 5f64  ore.core_inner_d
-00004900: 6961 6d65 7465 722c 2073 656c 662e 636f  iameter, self.co
-00004910: 7265 2e77 696e 646f 775f 772c 2073 656c  re.window_w, sel
-00004920: 662e 7769 6e64 696e 6773 290a 0a20 2020  f.windings)..   
-00004930: 2020 2020 2023 2055 7064 6174 6520 6d65       # Update me
-00004940: 7368 2064 6174 610a 2020 2020 2020 2020  sh data.        
-00004950: 7365 6c66 2e6d 6573 685f 6461 7461 2e75  self.mesh_data.u
-00004960: 7064 6174 655f 6461 7461 2866 7265 7175  pdate_data(frequ
-00004970: 656e 6379 2c20 736b 696e 5f6d 6573 685f  ency, skin_mesh_
-00004980: 6661 6374 6f72 290a 0a20 2020 2020 2020  factor)..       
-00004990: 2023 2043 7265 6174 6520 6d6f 6465 6c0a   # Create model.
-000049a0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-000049b0: 5f64 5f61 7869 203d 2054 776f 4461 7869  _d_axi = TwoDaxi
-000049c0: 5379 6d6d 6574 7269 6328 7365 6c66 2e63  Symmetric(self.c
-000049d0: 6f72 652c 2073 656c 662e 6d65 7368 5f64  ore, self.mesh_d
-000049e0: 6174 612c 2073 656c 662e 6169 725f 6761  ata, self.air_ga
-000049f0: 7073 2c20 7365 6c66 2e77 696e 6469 6e67  ps, self.winding
-00004a00: 5f77 696e 646f 7773 2c0a 2020 2020 2020  _windows,.      
+00002ff0: 2020 2020 2020 2020 2020 7072 655f 7669            pre_vi
+00003000: 7375 616c 697a 655f 6765 6f6d 6574 7279  sualize_geometry
+00003010: 290a 0a20 2020 2020 2020 2023 2069 6e73  )..        # ins
+00003020: 756c 6174 696f 6e5f 7461 6720 3d20 7365  ulation_tag = se
+00003030: 6c66 2e6d 6573 682e 7073 5f69 6e73 756c  lf.mesh.ps_insul
+00003040: 6174 696f 6e20 6966 2066 6c61 675f 696e  ation if flag_in
+00003050: 7375 6c61 7469 6f6e 2061 6e64 206c 656e  sulation and len
+00003060: 2873 656c 662e 696e 7375 6c61 7469 6f6e  (self.insulation
+00003070: 2e63 6f72 655f 636f 6e64 2920 3d3d 2034  .core_cond) == 4
+00003080: 2065 6c73 6520 4e6f 6e65 0a0a 2020 2020   else None..    
+00003090: 2020 2020 6966 206e 6f74 206f 732e 7061      if not os.pa
+000030a0: 7468 2e65 7869 7374 7328 7365 6c66 2e66  th.exists(self.f
+000030b0: 696c 655f 6461 7461 2e65 5f6d 5f72 6573  ile_data.e_m_res
+000030c0: 756c 7473 5f6c 6f67 5f70 6174 6829 3a0a  ults_log_path):.
+000030d0: 2020 2020 2020 2020 2020 2020 2320 5369              # Si
+000030e0: 6d75 6c61 7469 6f6e 2072 6573 756c 7473  mulation results
+000030f0: 2066 696c 6520 6e6f 7420 6372 6561 7465   file not create
+00003100: 640a 2020 2020 2020 2020 2020 2020 7261  d.            ra
+00003110: 6973 6520 4578 6365 7074 696f 6e28 0a20  ise Exception(. 
+00003120: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00003130: 4361 6e6e 6f74 2072 756e 2074 6865 726d  Cannot run therm
+00003140: 616c 2073 696d 756c 6174 696f 6e20 2d3e  al simulation ->
+00003150: 204d 6167 6e65 7469 6320 7369 6d75 6c61   Magnetic simula
+00003160: 7469 6f6e 206e 6565 6473 2074 6f20 7275  tion needs to ru
+00003170: 6e20 6669 7273 7420 286e 6f20 7265 7375  n first (no resu
+00003180: 6c74 735f 6c6f 672e 6a73 6f6e 2066 6f75  lts_log.json fou
+00003190: 6e64 2229 0a0a 2020 2020 2020 2020 2320  nd")..        # 
+000031a0: 4368 6563 6b20 6966 2074 6865 2072 6573  Check if the res
+000031b0: 756c 7473 206c 6f67 2070 6174 6820 7369  ults log path si
+000031c0: 6d75 6c61 7469 6f6e 2073 6574 7469 6e67  mulation setting
+000031d0: 7320 6669 7420 7468 6520 6375 7272 656e  s fit the curren
+000031e0: 7420 7369 6d75 6c61 7469 6f6e 2073 6574  t simulation set
+000031f0: 7469 6e67 730a 2020 2020 2020 2020 6375  tings.        cu
+00003200: 7272 656e 745f 7365 7474 696e 6773 203d  rrent_settings =
+00003210: 204d 6167 6e65 7469 6343 6f6d 706f 6e65   MagneticCompone
+00003220: 6e74 2e65 6e63 6f64 655f 7365 7474 696e  nt.encode_settin
+00003230: 6773 2873 656c 6629 0a20 2020 2020 2020  gs(self).       
+00003240: 2064 656c 2063 7572 7265 6e74 5f73 6574   del current_set
+00003250: 7469 6e67 735b 2277 6f72 6b69 6e67 5f64  tings["working_d
+00003260: 6972 6563 746f 7279 225d 0a20 2020 2020  irectory"].     
+00003270: 2020 2064 656c 2063 7572 7265 6e74 5f73     del current_s
+00003280: 6574 7469 6e67 735b 2264 6174 6522 5d0a  ettings["date"].
+00003290: 0a20 2020 2020 2020 2077 6974 6820 6f70  .        with op
+000032a0: 656e 2873 656c 662e 6669 6c65 5f64 6174  en(self.file_dat
+000032b0: 612e 655f 6d5f 7265 7375 6c74 735f 6c6f  a.e_m_results_lo
+000032c0: 675f 7061 7468 2c20 2272 2229 2061 7320  g_path, "r") as 
+000032d0: 6664 3a0a 2020 2020 2020 2020 2020 2020  fd:.            
+000032e0: 636f 6e74 656e 7420 3d20 6a73 6f6e 2e6c  content = json.l
+000032f0: 6f61 6428 6664 290a 2020 2020 2020 2020  oad(fd).        
+00003300: 2020 2020 6c6f 675f 7365 7474 696e 6773      log_settings
+00003310: 203d 2063 6f6e 7465 6e74 5b22 7369 6d75   = content["simu
+00003320: 6c61 7469 6f6e 5f73 6574 7469 6e67 7322  lation_settings"
+00003330: 5d0a 2020 2020 2020 2020 6465 6c20 6c6f  ].        del lo
+00003340: 675f 7365 7474 696e 6773 5b22 776f 726b  g_settings["work
+00003350: 696e 675f 6469 7265 6374 6f72 7922 5d0a  ing_directory"].
+00003360: 2020 2020 2020 2020 6465 6c20 6c6f 675f          del log_
+00003370: 7365 7474 696e 6773 5b22 6461 7465 225d  settings["date"]
+00003380: 0a0a 2020 2020 2020 2020 6966 2063 7572  ..        if cur
+00003390: 7265 6e74 5f73 6574 7469 6e67 7320 213d  rent_settings !=
+000033a0: 206c 6f67 5f73 6574 7469 6e67 733a 0a20   log_settings:. 
+000033b0: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000033c0: 2045 7863 6570 7469 6f6e 2866 2254 6865   Exception(f"The
+000033d0: 2073 6574 7469 6e67 7320 6672 6f6d 2074   settings from t
+000033e0: 6865 206c 6f67 2066 696c 6520 7b73 656c  he log file {sel
+000033f0: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
+00003400: 7265 7375 6c74 735f 6c6f 675f 7061 7468  results_log_path
+00003410: 7d20 646f 206e 6f74 206d 6174 6368 2022  } do not match "
+00003420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00003430: 2020 2020 2020 2020 2020 2020 2066 2274               f"t
+00003440: 6865 2063 7572 7265 6e74 2073 696d 756c  he current simul
+00003450: 6174 696f 6e20 7365 7474 696e 6773 2e20  ation settings. 
+00003460: 506c 6561 7365 2072 652d 7275 6e20 7468  Please re-run th
+00003470: 6520 6d61 676e 6574 6963 2073 696d 756c  e magnetic simul
+00003480: 6174 696f 6e2e 2229 0a0a 2020 2020 2020  ation.")..      
+00003490: 2020 7461 6773 203d 207b 0a20 2020 2020    tags = {.     
+000034a0: 2020 2020 2020 2022 636f 7265 5f74 6167         "core_tag
+000034b0: 7322 3a20 7365 6c66 2e6d 6573 682e 7073  s": self.mesh.ps
+000034c0: 5f63 6f72 652c 0a20 2020 2020 2020 2020  _core,.         
+000034d0: 2020 2022 6261 636b 6772 6f75 6e64 5f74     "background_t
+000034e0: 6167 223a 2073 656c 662e 6d65 7368 2e70  ag": self.mesh.p
+000034f0: 735f 6169 722c 0a20 2020 2020 2020 2020  s_air,.         
+00003500: 2020 2022 7769 6e64 696e 675f 7461 6773     "winding_tags
+00003510: 223a 2073 656c 662e 6d65 7368 2e70 735f  ": self.mesh.ps_
+00003520: 636f 6e64 2c0a 2020 2020 2020 2020 2020  cond,.          
+00003530: 2020 2261 6972 5f67 6170 735f 7461 6722    "air_gaps_tag"
+00003540: 3a20 7365 6c66 2e6d 6573 682e 7073 5f61  : self.mesh.ps_a
+00003550: 6972 5f67 6170 7320 6966 2073 656c 662e  ir_gaps if self.
+00003560: 6169 725f 6761 7073 2e6e 756d 6265 7220  air_gaps.number 
+00003570: 3e20 3020 656c 7365 204e 6f6e 652c 0a20  > 0 else None,. 
+00003580: 2020 2020 2020 2020 2020 2022 626f 756e             "boun
+00003590: 6461 7279 5f72 6567 696f 6e73 223a 2073  dary_regions": s
+000035a0: 656c 662e 6d65 7368 2e74 6865 726d 616c  elf.mesh.thermal
+000035b0: 5f62 6f75 6e64 6172 795f 7265 6769 6f6e  _boundary_region
+000035c0: 5f74 6167 732c 0a20 2020 2020 2020 2020  _tags,.         
+000035d0: 2020 2022 696e 7375 6c61 7469 6f6e 735f     "insulations_
+000035e0: 7461 6722 3a20 7365 6c66 2e6d 6573 682e  tag": self.mesh.
+000035f0: 7073 5f69 6e73 756c 6174 696f 6e20 6966  ps_insulation if
+00003600: 2066 6c61 675f 696e 7375 6c61 7469 6f6e   flag_insulation
+00003610: 2061 6e64 206c 656e 280a 2020 2020 2020   and len(.      
+00003620: 2020 2020 2020 2020 2020 7365 6c66 2e69            self.i
+00003630: 6e73 756c 6174 696f 6e2e 636f 7265 5f63  nsulation.core_c
+00003640: 6f6e 6429 203d 3d20 3420 656c 7365 204e  ond) == 4 else N
+00003650: 6f6e 650a 2020 2020 2020 2020 7d0a 0a20  one.        }.. 
+00003660: 2020 2020 2020 2023 2043 6f72 6520 6172         # Core ar
+00003670: 6561 202d 3e20 4973 206e 6565 6465 6420  ea -> Is needed 
+00003680: 746f 2065 7374 696d 6174 6520 7468 6520  to estimate the 
+00003690: 6865 6174 2066 6c75 780a 2020 2020 2020  heat flux.      
+000036a0: 2020 2320 506f 7765 7220 6465 6e73 6974    # Power densit
+000036b0: 7920 666f 7220 766f 6c75 6d65 7320 572f  y for volumes W/
+000036c0: 6d5e 330a 2020 2020 2020 2020 2320 636f  m^3.        # co
+000036d0: 7265 5f61 7265 6120 3d20 7365 6c66 2e63  re_area = self.c
+000036e0: 616c 6375 6c61 7465 5f63 6f72 655f 766f  alculate_core_vo
+000036f0: 6c75 6d65 2829 0a20 2020 2020 2020 2063  lume().        c
+00003700: 6f72 655f 6172 6561 203d 2073 656c 662e  ore_area = self.
+00003710: 6361 6c63 756c 6174 655f 636f 7265 5f70  calculate_core_p
+00003720: 6172 7473 5f76 6f6c 756d 6528 290a 0a20  arts_volume().. 
+00003730: 2020 2020 2020 2023 2053 6574 2077 6972         # Set wir
+00003740: 6520 7261 6469 690a 2020 2020 2020 2020  e radii.        
+00003750: 7769 7265 5f72 6164 6969 203d 205b 7769  wire_radii = [wi
+00003760: 6e64 696e 672e 636f 6e64 7563 746f 725f  nding.conductor_
+00003770: 7261 6469 7573 2066 6f72 2077 696e 6469  radius for windi
+00003780: 6e67 2069 6e20 7365 6c66 2e77 696e 6469  ng in self.windi
+00003790: 6e67 735d 0a0a 2020 2020 2020 2020 7468  ngs]..        th
+000037a0: 6572 6d61 6c5f 7061 7261 6d65 7465 7273  ermal_parameters
+000037b0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+000037c0: 2022 6669 6c65 5f64 6174 6122 3a20 7365   "file_data": se
+000037d0: 6c66 2e66 696c 655f 6461 7461 2c0a 2020  lf.file_data,.  
+000037e0: 2020 2020 2020 2020 2020 2274 6167 735f            "tags_
+000037f0: 6469 6374 223a 2074 6167 732c 0a20 2020  dict": tags,.   
+00003800: 2020 2020 2020 2020 2022 7468 6572 6d61           "therma
+00003810: 6c5f 636f 6e64 7563 7469 7669 7479 5f64  l_conductivity_d
+00003820: 6963 7422 3a20 7468 6572 6d61 6c5f 636f  ict": thermal_co
+00003830: 6e64 7563 7469 7669 7479 5f64 6963 742c  nductivity_dict,
+00003840: 0a20 2020 2020 2020 2020 2020 2022 626f  .            "bo
+00003850: 756e 6461 7279 5f74 656d 7065 7261 7475  undary_temperatu
+00003860: 7265 7322 3a20 626f 756e 6461 7279 5f74  res": boundary_t
+00003870: 656d 7065 7261 7475 7265 735f 6469 6374  emperatures_dict
+00003880: 2c0a 2020 2020 2020 2020 2020 2020 2262  ,.            "b
+00003890: 6f75 6e64 6172 795f 666c 6167 7322 3a20  oundary_flags": 
+000038a0: 626f 756e 6461 7279 5f66 6c61 6773 5f64  boundary_flags_d
+000038b0: 6963 742c 0a20 2020 2020 2020 2020 2020  ict,.           
+000038c0: 2022 626f 756e 6461 7279 5f70 6879 7369   "boundary_physi
+000038d0: 6361 6c5f 6772 6f75 7073 223a 207b 0a20  cal_groups": {. 
+000038e0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+000038f0: 746f 7022 3a20 7365 6c66 2e6d 6573 682e  top": self.mesh.
+00003900: 7468 6572 6d61 6c5f 626f 756e 6461 7279  thermal_boundary
+00003910: 5f70 735f 6772 6f75 7073 5b30 5d2c 0a20  _ps_groups[0],. 
+00003920: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00003930: 746f 705f 7269 6768 7422 3a20 7365 6c66  top_right": self
+00003940: 2e6d 6573 682e 7468 6572 6d61 6c5f 626f  .mesh.thermal_bo
+00003950: 756e 6461 7279 5f70 735f 6772 6f75 7073  undary_ps_groups
+00003960: 5b31 5d2c 0a20 2020 2020 2020 2020 2020  [1],.           
+00003970: 2020 2020 2022 7269 6768 7422 3a20 7365       "right": se
+00003980: 6c66 2e6d 6573 682e 7468 6572 6d61 6c5f  lf.mesh.thermal_
+00003990: 626f 756e 6461 7279 5f70 735f 6772 6f75  boundary_ps_grou
+000039a0: 7073 5b32 5d2c 0a20 2020 2020 2020 2020  ps[2],.         
+000039b0: 2020 2020 2020 2022 626f 745f 7269 6768         "bot_righ
+000039c0: 7422 3a20 7365 6c66 2e6d 6573 682e 7468  t": self.mesh.th
+000039d0: 6572 6d61 6c5f 626f 756e 6461 7279 5f70  ermal_boundary_p
+000039e0: 735f 6772 6f75 7073 5b33 5d2c 0a20 2020  s_groups[3],.   
+000039f0: 2020 2020 2020 2020 2020 2020 2022 626f               "bo
+00003a00: 7422 3a20 7365 6c66 2e6d 6573 682e 7468  t": self.mesh.th
+00003a10: 6572 6d61 6c5f 626f 756e 6461 7279 5f70  ermal_boundary_p
+00003a20: 735f 6772 6f75 7073 5b34 5d0a 2020 2020  s_groups[4].    
+00003a30: 2020 2020 2020 2020 7d2c 0a20 2020 2020          },.     
+00003a40: 2020 2020 2020 2022 636f 7265 5f61 7265         "core_are
+00003a50: 6122 3a20 636f 7265 5f61 7265 612c 0a20  a": core_area,. 
+00003a60: 2020 2020 2020 2020 2020 2022 636f 6e64             "cond
+00003a70: 7563 746f 725f 7261 6469 6922 3a20 7769  uctor_radii": wi
+00003a80: 7265 5f72 6164 6969 2c0a 2020 2020 2020  re_radii,.      
+00003a90: 2020 2020 2020 2277 6972 655f 6469 7374        "wire_dist
+00003aa0: 616e 6365 7322 3a20 7365 6c66 2e67 6574  ances": self.get
+00003ab0: 5f77 6972 655f 6469 7374 616e 6365 7328  _wire_distances(
+00003ac0: 292c 0a20 2020 2020 2020 2020 2020 2022  ),.            "
+00003ad0: 6361 7365 5f76 6f6c 756d 6522 3a20 7365  case_volume": se
+00003ae0: 6c66 2e63 6f72 652e 725f 6f75 7465 7220  lf.core.r_outer 
+00003af0: 2a20 6361 7365 5f67 6170 5f74 6f70 202b  * case_gap_top +
+00003b00: 2073 656c 662e 636f 7265 2e63 6f72 655f   self.core.core_
+00003b10: 6820 2a20 6361 7365 5f67 6170 5f72 6967  h * case_gap_rig
+00003b20: 6874 202b 2073 656c 662e 636f 7265 2e72  ht + self.core.r
+00003b30: 5f6f 7574 6572 202a 2063 6173 655f 6761  _outer * case_ga
+00003b40: 705f 626f 742c 0a20 2020 2020 2020 2020  p_bot,.         
+00003b50: 2020 2022 7368 6f77 5f74 6865 726d 616c     "show_thermal
+00003b60: 5f66 656d 5f72 6573 756c 7473 223a 2073  _fem_results": s
+00003b70: 686f 775f 7468 6572 6d61 6c5f 7369 6d75  how_thermal_simu
+00003b80: 6c61 7469 6f6e 5f72 6573 756c 7473 2c0a  lation_results,.
+00003b90: 2020 2020 2020 2020 2020 2020 2270 7269              "pri
+00003ba0: 6e74 5f73 656e 736f 725f 7661 6c75 6573  nt_sensor_values
+00003bb0: 223a 2046 616c 7365 2c0a 2020 2020 2020  ": False,.      
+00003bc0: 2020 2020 2020 2273 696c 656e 7422 3a20        "silent": 
+00003bd0: 7365 6c66 2e76 6572 626f 7369 7479 203d  self.verbosity =
+00003be0: 3d20 5665 7262 6f73 6974 792e 5369 6c65  = Verbosity.Sile
+00003bf0: 6e74 2c20 2023 2041 6464 2076 6572 626f  nt,  # Add verbo
+00003c00: 7369 7479 2066 6f72 2074 6865 726d 616c  sity for thermal
+00003c10: 2073 696d 756c 6174 696f 6e0a 2020 2020   simulation.    
+00003c20: 2020 2020 2020 2020 2266 6c61 675f 696e          "flag_in
+00003c30: 7375 6c61 7469 6f6e 223a 2066 6c61 675f  sulation": flag_
+00003c40: 696e 7375 6c61 7469 6f6e 0a20 2020 2020  insulation.     
+00003c50: 2020 207d 0a0a 2020 2020 2020 2020 7468     }..        th
+00003c60: 6572 6d61 6c5f 7369 6d75 6c61 7469 6f6e  ermal_simulation
+00003c70: 2e72 756e 5f74 6865 726d 616c 282a 2a74  .run_thermal(**t
+00003c80: 6865 726d 616c 5f70 6172 616d 6574 6572  hermal_parameter
+00003c90: 7329 0a0a 2020 2020 2320 202d 2020 2d20  s)..    #  -  - 
+00003ca0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00003cb0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00003cc0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+00003cd0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00003ce0: 2d20 202d 2020 2d20 202d 2020 202d 2020  -  -  -  -   -  
+00003cf0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00003d00: 2020 2d20 202d 2020 2d20 202d 0a20 2020    -  -  -  -.   
+00003d10: 2023 2053 6574 7570 0a20 2020 2064 6566   # Setup.    def
+00003d20: 206f 6e65 6c61 625f 7365 7475 7028 7365   onelab_setup(se
+00003d30: 6c66 2c20 6973 5f67 7569 3a20 626f 6f6c  lf, is_gui: bool
+00003d40: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00003d50: 2020 2020 2020 2053 6574 2075 7020 7468         Set up th
+00003d60: 6520 6f6e 656c 6162 2066 696c 6570 6174  e onelab filepat
+00003d70: 6873 2e0a 0a20 2020 2020 2020 2045 6974  hs...        Eit
+00003d80: 6865 7220 7265 6164 7320 4f4e 454c 4142  her reads ONELAB
+00003d90: 2070 6172 656e 7420 666f 6c64 6572 2070   parent folder p
+00003da0: 6174 6820 6672 6f6d 2063 6f6e 6669 672e  ath from config.
+00003db0: 6a73 6f6e 206f 7220 6173 6b73 2074 6865  json or asks the
+00003dc0: 2075 7365 7220 746f 2070 726f 7669 6465   user to provide
+00003dd0: 2074 6865 204f 4e45 4c41 4220 7061 7468   the ONELAB path
+00003de0: 2069 742e 0a20 2020 2020 2020 2043 7265   it..        Cre
+00003df0: 6174 6573 2061 2063 6f6e 6669 672e 6a73  ates a config.js
+00003e00: 6f6e 2069 6e73 6964 6520 7468 6520 7369  on inside the si
+00003e10: 7465 2d70 6163 6b61 6765 7320 666f 6c64  te-packages fold
+00003e20: 6572 2061 7420 6669 7273 7420 7275 6e2e  er at first run.
+00003e30: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00003e40: 2069 735f 6775 693a 2073 6574 2074 6f20   is_gui: set to 
+00003e50: 5472 7565 2074 6f20 6176 6f69 6420 7465  True to avoid te
+00003e60: 726d 696e 616c 206f 7574 7075 7420 7175  rminal output qu
+00003e70: 6573 7469 6f6e 2066 6f72 206f 6e65 6c61  estion for onela
+00003e80: 6220 6669 6c65 2070 6174 6820 6174 2066  b file path at f
+00003e90: 6972 7374 2072 756e 2e0a 2020 2020 2020  irst run..      
+00003ea0: 2020 2020 2020 5573 6564 2065 7370 6563        Used espec
+00003eb0: 6961 6c6c 7920 696e 2047 5549 0a20 2020  ially in GUI.   
+00003ec0: 2020 2020 203a 7479 7065 2069 735f 6775       :type is_gu
+00003ed0: 693a 2062 6f6f 6c0a 2020 2020 2020 2020  i: bool.        
+00003ee0: 2222 220a 2020 2020 2020 2020 2320 6368  """.        # ch
+00003ef0: 6563 6b20 6966 2063 6f6e 6669 672e 6a73  eck if config.js
+00003f00: 6f6e 2069 7320 6176 6169 6c61 626c 6520  on is available 
+00003f10: 616e 6420 6e6f 7420 656d 7074 790a 2020  and not empty.  
+00003f20: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
+00003f30: 2e69 7366 696c 6528 7365 6c66 2e66 696c  .isfile(self.fil
+00003f40: 655f 6461 7461 2e63 6f6e 6669 675f 7061  e_data.config_pa
+00003f50: 7468 2920 616e 6420 6f73 2e73 7461 7428  th) and os.stat(
+00003f60: 7365 6c66 2e66 696c 655f 6461 7461 2e63  self.file_data.c
+00003f70: 6f6e 6669 675f 7061 7468 292e 7374 5f73  onfig_path).st_s
+00003f80: 697a 6520 213d 2030 3a0a 2020 2020 2020  ize != 0:.      
+00003f90: 2020 2020 2020 6f6e 656c 6162 5f70 6174        onelab_pat
+00003fa0: 6820 3d20 2222 0a20 2020 2020 2020 2020  h = "".         
+00003fb0: 2020 2077 6974 6820 6f70 656e 2873 656c     with open(sel
+00003fc0: 662e 6669 6c65 5f64 6174 612e 636f 6e66  f.file_data.conf
+00003fd0: 6967 5f70 6174 682c 2022 7222 2920 6173  ig_path, "r") as
+00003fe0: 2066 643a 0a20 2020 2020 2020 2020 2020   fd:.           
+00003ff0: 2020 2020 206c 6f61 6465 645f 6469 6374       loaded_dict
+00004000: 203d 206a 736f 6e2e 6c6f 6164 7328 6664   = json.loads(fd
+00004010: 2e72 6561 6428 2929 0a20 2020 2020 2020  .read()).       
+00004020: 2020 2020 2020 2020 206f 6e65 6c61 625f           onelab_
+00004030: 7061 7468 203d 206c 6f61 6465 645f 6469  path = loaded_di
+00004040: 6374 5b27 6f6e 656c 6162 275d 0a0a 2020  ct['onelab']..  
+00004050: 2020 2020 2020 2020 2020 6966 206f 732e            if os.
+00004060: 7061 7468 2e65 7869 7374 7328 6f6e 656c  path.exists(onel
+00004070: 6162 5f70 6174 6829 2061 6e64 206f 732e  ab_path) and os.
+00004080: 7061 7468 2e69 7366 696c 6528 6f73 2e70  path.isfile(os.p
+00004090: 6174 682e 6a6f 696e 286f 6e65 6c61 625f  ath.join(onelab_
+000040a0: 7061 7468 2c20 226f 6e65 6c61 622e 7079  path, "onelab.py
+000040b0: 2229 293a 0a20 2020 2020 2020 2020 2020  ")):.           
+000040c0: 2020 2020 2023 2050 6174 6820 666f 756e       # Path foun
+000040d0: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+000040e0: 2020 7365 6c66 2e66 696c 655f 6461 7461    self.file_data
+000040f0: 2e6f 6e65 6c61 625f 666f 6c64 6572 5f70  .onelab_folder_p
+00004100: 6174 6820 3d20 6f6e 656c 6162 5f70 6174  ath = onelab_pat
+00004110: 680a 2020 2020 2020 2020 2020 2020 2020  h.              
+00004120: 2020 7265 7475 726e 0a0a 2020 2020 2020    return..      
+00004130: 2020 2320 4c65 7420 7468 6520 7573 6572    # Let the user
+00004140: 2065 6e74 6572 2074 6865 206f 6e65 6c61   enter the onela
+00004150: 625f 7061 7468 3a0a 2020 2020 2020 2020  b_path:.        
+00004160: 2320 4669 6e64 206f 7574 2074 6865 206f  # Find out the o
+00004170: 6e65 6c61 625f 7061 7468 206f 6620 696e  nelab_path of in
+00004180: 7374 616c 6c65 6420 6d6f 6475 6c65 2c20  stalled module, 
+00004190: 6f72 2069 6e20 6361 7365 206f 6620 7275  or in case of ru
+000041a0: 6e6e 696e 6720 6469 7265 6374 6c79 2066  nning directly f
+000041b0: 726f 6d20 6769 742c 0a20 2020 2020 2020  rom git,.       
+000041c0: 2023 2066 696e 6420 7468 6520 6f6e 656c   # find the onel
+000041d0: 6162 5f70 6174 6820 6f66 2067 6974 2072  ab_path of git r
+000041e0: 6570 6f73 6974 6f72 7920 6c6f 6f70 2075  epository loop u
+000041f0: 6e74 696c 2070 6174 6820 6973 2063 6f72  ntil path is cor
+00004200: 7265 6374 0a20 2020 2020 2020 206f 6e65  rect.        one
+00004210: 6c61 625f 7061 7468 5f77 726f 6e67 203d  lab_path_wrong =
+00004220: 2054 7275 650a 0a20 2020 2020 2020 2023   True..        #
+00004230: 2054 6869 7320 6973 206e 6565 6465 6420   This is needed 
+00004240: 6265 6361 7573 6520 696e 2074 6865 2067  because in the g
+00004250: 7569 2074 6865 2069 6e70 7574 2829 2063  ui the input() c
+00004260: 6f6d 6d61 6e64 2063 616e 6e6f 7420 6265  ommand cannot be
+00004270: 2063 616c 6c65 6420 2869 7420 776f 756c   called (it woul
+00004280: 6420 7265 7375 6c74 2069 6e20 616e 2069  d result in an i
+00004290: 6e66 696e 6974 6520 6c6f 6f70 292e 0a20  nfinite loop).. 
+000042a0: 2020 2020 2020 2023 2049 6620 7468 6520         # If the 
+000042b0: 636f 6e66 6967 2066 696c 6520 7761 7320  config file was 
+000042c0: 6e6f 7420 666f 756e 6420 6a75 7374 2072  not found just r
+000042d0: 6574 7572 6e20 6f75 7420 6f66 2074 6865  eturn out of the
+000042e0: 2066 756e 6374 696f 6e2e 0a20 2020 2020   function..     
+000042f0: 2020 2023 2054 6865 2063 6f6e 6669 6720     # The config 
+00004300: 6669 6c65 2077 696c 6c20 6265 2061 6464  file will be add
+00004310: 6564 206c 6174 6572 2062 7920 7468 6520  ed later by the 
+00004320: 6775 6920 6861 6e64 6c65 722e 0a20 2020  gui handler..   
+00004330: 2020 2020 2069 6620 6973 5f67 7569 3a0a       if is_gui:.
+00004340: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+00004350: 726e 0a0a 2020 2020 2020 2020 7768 696c  rn..        whil
+00004360: 6520 6f6e 656c 6162 5f70 6174 685f 7772  e onelab_path_wr
+00004370: 6f6e 673a 0a20 2020 2020 2020 2020 2020  ong:.           
+00004380: 206f 6e65 6c61 625f 7061 7468 203d 206f   onelab_path = o
+00004390: 732e 7061 7468 2e6e 6f72 6d70 6174 6828  s.path.normpath(
+000043a0: 696e 7075 7428 0a20 2020 2020 2020 2020  input(.         
+000043b0: 2020 2020 2020 2022 456e 7465 7220 7468         "Enter th
+000043c0: 6520 7061 7468 206f 6620 6f6e 656c 6162  e path of onelab
+000043d0: 2773 2070 6172 656e 7420 666f 6c64 6572  's parent folder
+000043e0: 2028 7061 7468 2074 6f20 666f 6c64 6572   (path to folder
+000043f0: 2077 6869 6368 2063 6f6e 7461 696e 7320   which contains 
+00004400: 6765 7464 702c 206f 6e65 6c61 6220 6578  getdp, onelab ex
+00004410: 6563 7574 6162 6c65 7329 3a20 2229 290a  ecutables): ")).
+00004420: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00004430: 6f73 2e70 6174 682e 6578 6973 7473 286f  os.path.exists(o
+00004440: 6e65 6c61 625f 7061 7468 293a 0a20 2020  nelab_path):.   
+00004450: 2020 2020 2020 2020 2020 2020 206f 6e65               one
+00004460: 6c61 625f 7061 7468 5f77 726f 6e67 203d  lab_path_wrong =
+00004470: 2046 616c 7365 0a20 2020 2020 2020 2020   False.         
+00004480: 2020 2020 2020 2062 7265 616b 0a20 2020         break.   
+00004490: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+000044a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000044b0: 656c 662e 6665 6d6d 745f 7072 696e 7428  elf.femmt_print(
+000044c0: 276f 6e65 6c61 6220 6e6f 7420 666f 756e  'onelab not foun
+000044d0: 6421 2054 6f6f 6c20 7365 6172 6368 6573  d! Tool searches
+000044e0: 2066 6f72 206f 6e65 6c61 622e 7079 2069   for onelab.py i
+000044f0: 6e20 7468 6520 666f 6c64 6572 2e20 506c  n the folder. Pl
+00004500: 6561 7365 2072 652d 656e 7465 7220 7061  ease re-enter pa
+00004510: 7468 2127 290a 2020 2020 2020 2020 7365  th!').        se
+00004520: 6c66 2e66 696c 655f 6461 7461 2e6f 6e65  lf.file_data.one
+00004530: 6c61 625f 666f 6c64 6572 5f70 6174 6820  lab_folder_path 
+00004540: 3d20 6f6e 656c 6162 5f70 6174 680a 0a20  = onelab_path.. 
+00004550: 2020 2020 2020 2023 2057 7269 7465 2074         # Write t
+00004560: 6865 2070 6174 6820 746f 2074 6865 2063  he path to the c
+00004570: 6f6e 6669 672e 6a73 6f6e 0a20 2020 2020  onfig.json.     
+00004580: 2020 206f 6e65 6c61 625f 7061 7468 5f64     onelab_path_d
+00004590: 6963 7420 3d20 7b22 6f6e 656c 6162 223a  ict = {"onelab":
+000045a0: 206f 6e65 6c61 625f 7061 7468 7d0a 2020   onelab_path}.  
+000045b0: 2020 2020 2020 7769 7468 206f 7065 6e28        with open(
+000045c0: 6f73 2e70 6174 682e 6a6f 696e 2873 656c  os.path.join(sel
+000045d0: 662e 6669 6c65 5f64 6174 612e 636f 6e66  f.file_data.conf
+000045e0: 6967 5f70 6174 6829 2c20 2777 272c 2065  ig_path), 'w', e
+000045f0: 6e63 6f64 696e 673d 2775 7466 2d38 2729  ncoding='utf-8')
+00004600: 2061 7320 6664 3a0a 2020 2020 2020 2020   as fd:.        
+00004610: 2020 2020 6a73 6f6e 2e64 756d 7028 6f6e      json.dump(on
+00004620: 656c 6162 5f70 6174 685f 6469 6374 2c20  elab_path_dict, 
+00004630: 6664 2c20 696e 6465 6e74 3d32 2c20 656e  fd, indent=2, en
+00004640: 7375 7265 5f61 7363 6969 3d46 616c 7365  sure_ascii=False
+00004650: 290a 0a20 2020 2023 2020 2d20 202d 2020  )..    #  -  -  
+00004660: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00004670: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+00004680: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00004690: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+000046a0: 2020 2d20 202d 2020 2d20 2020 2d20 202d    -  -  -   -  -
+000046b0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+000046c0: 202d 2020 2d20 202d 2020 2d0a 2020 2020   -  -  -  -.    
+000046d0: 2320 4765 6f6d 6574 7279 2050 6172 7473  # Geometry Parts
+000046e0: 0a20 2020 2064 6566 2068 6967 685f 6c65  .    def high_le
+000046f0: 7665 6c5f 6765 6f5f 6765 6e28 7365 6c66  vel_geo_gen(self
+00004700: 2c20 6672 6571 7565 6e63 793a 2066 6c6f  , frequency: flo
+00004710: 6174 203d 204e 6f6e 652c 2073 6b69 6e5f  at = None, skin_
+00004720: 6d65 7368 5f66 6163 746f 723a 2066 6c6f  mesh_factor: flo
+00004730: 6174 203d 204e 6f6e 6529 3a0a 2020 2020  at = None):.    
+00004740: 2020 2020 2222 2255 7064 6174 6520 7468      """Update th
+00004750: 6520 6d65 7368 2064 6174 6120 616e 6420  e mesh data and 
+00004760: 6372 6561 7465 7320 7468 6520 6d6f 6465  creates the mode
+00004770: 6c20 616e 6420 6d65 7368 206f 626a 6563  l and mesh objec
+00004780: 7473 2e0a 0a20 2020 2020 2020 203a 7061  ts...        :pa
+00004790: 7261 6d20 6672 6571 7565 6e63 793a 2046  ram frequency: F
+000047a0: 7265 7175 656e 6379 2075 7365 6420 696e  requency used in
+000047b0: 2074 6865 206d 6573 6820 6465 6e73 6974   the mesh densit
+000047c0: 792c 2064 6566 6175 6c74 7320 746f 204e  y, defaults to N
+000047d0: 6f6e 650a 2020 2020 2020 2020 3a74 7970  one.        :typ
+000047e0: 6520 6672 6571 7565 6e63 793a 2066 6c6f  e frequency: flo
+000047f0: 6174 2c20 6f70 7469 6f6e 616c 0a20 2020  at, optional.   
+00004800: 2020 2020 203a 7061 7261 6d20 736b 696e       :param skin
+00004810: 5f6d 6573 685f 6661 6374 6f72 3a20 5573  _mesh_factor: Us
+00004820: 6564 2069 6e20 7468 6520 6d65 7368 2064  ed in the mesh d
+00004830: 656e 7369 7479 2c20 6465 6661 756c 7473  ensity, defaults
+00004840: 2074 6f20 4e6f 6e65 0a20 2020 2020 2020   to None.       
+00004850: 203a 7479 7065 2073 6b69 6e5f 6d65 7368   :type skin_mesh
+00004860: 5f66 6163 746f 723a 2066 6c6f 6174 2c20  _factor: float, 
+00004870: 6f70 7469 6f6e 616c 0a20 2020 2020 2020  optional.       
+00004880: 2022 2222 0a20 2020 2020 2020 2023 2044   """.        # D
+00004890: 6566 6175 6c74 2076 616c 7565 7320 666f  efault values fo
+000048a0: 7220 676c 6f62 616c 5f61 6363 7572 6163  r global_accurac
+000048b0: 7920 616e 6420 7061 6464 696e 670a 2020  y and padding.  
+000048c0: 2020 2020 2020 7365 6c66 2e6d 6573 685f        self.mesh_
+000048d0: 6461 7461 2e75 7064 6174 655f 7370 6174  data.update_spat
+000048e0: 6961 6c5f 6461 7461 2873 656c 662e 636f  ial_data(self.co
+000048f0: 7265 2e63 6f72 655f 696e 6e65 725f 6469  re.core_inner_di
+00004900: 616d 6574 6572 2c20 7365 6c66 2e63 6f72  ameter, self.cor
+00004910: 652e 7769 6e64 6f77 5f77 2c20 7365 6c66  e.window_w, self
+00004920: 2e77 696e 6469 6e67 7329 0a0a 2020 2020  .windings)..    
+00004930: 2020 2020 2320 5570 6461 7465 206d 6573      # Update mes
+00004940: 6820 6461 7461 0a20 2020 2020 2020 2073  h data.        s
+00004950: 656c 662e 6d65 7368 5f64 6174 612e 7570  elf.mesh_data.up
+00004960: 6461 7465 5f64 6174 6128 6672 6571 7565  date_data(freque
+00004970: 6e63 792c 2073 6b69 6e5f 6d65 7368 5f66  ncy, skin_mesh_f
+00004980: 6163 746f 7229 0a0a 2020 2020 2020 2020  actor)..        
+00004990: 2320 4372 6561 7465 206d 6f64 656c 0a20  # Create model. 
+000049a0: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+000049b0: 645f 6178 6920 3d20 5477 6f44 6178 6953  d_axi = TwoDaxiS
+000049c0: 796d 6d65 7472 6963 2873 656c 662e 636f  ymmetric(self.co
+000049d0: 7265 2c20 7365 6c66 2e6d 6573 685f 6461  re, self.mesh_da
+000049e0: 7461 2c20 7365 6c66 2e61 6972 5f67 6170  ta, self.air_gap
+000049f0: 732c 2073 656c 662e 7769 6e64 696e 675f  s, self.winding_
+00004a00: 7769 6e64 6f77 732c 0a20 2020 2020 2020  windows,.       
 00004a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a30: 2020 2020 7365 6c66 2e73 7472 6179 5f70      self.stray_p
-00004a40: 6174 682c 0a20 2020 2020 2020 2020 2020  ath,.           
+00004a30: 2020 2073 656c 662e 7374 7261 795f 7061     self.stray_pa
+00004a40: 7468 2c0a 2020 2020 2020 2020 2020 2020  th,.            
 00004a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004a60: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00004a70: 656c 662e 696e 7375 6c61 7469 6f6e 2c20  elf.insulation, 
-00004a80: 7365 6c66 2e63 6f6d 706f 6e65 6e74 5f74  self.component_t
-00004a90: 7970 652c 206c 656e 2873 656c 662e 7769  ype, len(self.wi
-00004aa0: 6e64 696e 6773 292c 2073 656c 662e 7665  ndings), self.ve
-00004ab0: 7262 6f73 6974 792c 0a20 2020 2020 2020  rbosity,.       
+00004a60: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00004a70: 6c66 2e69 6e73 756c 6174 696f 6e2c 2073  lf.insulation, s
+00004a80: 656c 662e 636f 6d70 6f6e 656e 745f 7479  elf.component_ty
+00004a90: 7065 2c20 6c65 6e28 7365 6c66 2e77 696e  pe, len(self.win
+00004aa0: 6469 6e67 7329 2c20 7365 6c66 2e76 6572  dings), self.ver
+00004ab0: 626f 7369 7479 2c0a 2020 2020 2020 2020  bosity,.        
 00004ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00004ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00004ae0: 2020 2073 656c 662e 6c6f 6767 6572 290a     self.logger).
-00004af0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-00004b00: 5f64 5f61 7869 2e64 7261 775f 6d6f 6465  _d_axi.draw_mode
-00004b10: 6c28 290a 0a20 2020 2020 2020 2023 2043  l()..        # C
-00004b20: 7265 6174 6520 6d65 7368 0a20 2020 2020  reate mesh.     
-00004b30: 2020 2073 656c 662e 6d65 7368 203d 204d     self.mesh = M
-00004b40: 6573 6828 7365 6c66 2e74 776f 5f64 5f61  esh(self.two_d_a
-00004b50: 7869 2c20 7365 6c66 2e77 696e 6469 6e67  xi, self.winding
-00004b60: 732c 2073 656c 662e 7769 6e64 696e 675f  s, self.winding_
-00004b70: 7769 6e64 6f77 732c 2073 656c 662e 636f  windows, self.co
-00004b80: 7265 2e63 6f72 7265 6374 5f6f 7574 6572  re.correct_outer
-00004b90: 5f6c 6567 2c0a 2020 2020 2020 2020 2020  _leg,.          
-00004ba0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00004bb0: 656c 662e 6669 6c65 5f64 6174 612c 2073  elf.file_data, s
-00004bc0: 656c 662e 7665 7262 6f73 6974 792c 2073  elf.verbosity, s
-00004bd0: 656c 662e 6c6f 6767 6572 2c20 4e6f 6e65  elf.logger, None
-00004be0: 2c20 7365 6c66 2e77 7772 5f65 6e61 626c  , self.wwr_enabl
-00004bf0: 6564 290a 2020 2020 2020 2020 2320 7365  ed).        # se
-00004c00: 6c66 2e6d 6573 6820 3d20 4d65 7368 2873  lf.mesh = Mesh(s
-00004c10: 656c 662e 7477 6f5f 645f 6178 692c 2073  elf.two_d_axi, s
-00004c20: 656c 662e 7769 6e64 696e 6773 2c20 7365  elf.windings, se
-00004c30: 6c66 2e63 6f72 652e 636f 7272 6563 745f  lf.core.correct_
-00004c40: 6f75 7465 725f 6c65 672c 2073 656c 662e  outer_leg, self.
-00004c50: 6669 6c65 5f64 6174 612c 204e 6f6e 652c  file_data, None,
-00004c60: 2066 662e 7369 6c65 6e74 290a 0a20 2020   ff.silent)..   
-00004c70: 2064 6566 206d 6573 6828 7365 6c66 2c20   def mesh(self, 
-00004c80: 6672 6571 7565 6e63 793a 2066 6c6f 6174  frequency: float
-00004c90: 203d 204e 6f6e 652c 2073 6b69 6e5f 6d65   = None, skin_me
-00004ca0: 7368 5f66 6163 746f 723a 2066 6c6f 6174  sh_factor: float
-00004cb0: 203d 204e 6f6e 6529 3a0a 2020 2020 2020   = None):.      
-00004cc0: 2020 2222 2247 656e 6572 6174 6520 6d6f    """Generate mo
-00004cd0: 6465 6c20 616e 6420 6d65 7368 2e0a 0a20  del and mesh... 
-00004ce0: 2020 2020 2020 203a 7061 7261 6d20 6672         :param fr
-00004cf0: 6571 7565 6e63 793a 2046 7265 7175 656e  equency: Frequen
-00004d00: 6379 2075 7365 6420 696e 2074 6865 206d  cy used in the m
-00004d10: 6573 6820 6465 6e73 6974 792c 2064 6566  esh density, def
-00004d20: 6175 6c74 7320 746f 204e 6f6e 650a 2020  aults to None.  
-00004d30: 2020 2020 2020 3a74 7970 6520 6672 6571        :type freq
-00004d40: 7565 6e63 793a 2066 6c6f 6174 2c20 6f70  uency: float, op
-00004d50: 7469 6f6e 616c 0a20 2020 2020 2020 203a  tional.        :
-00004d60: 7061 7261 6d20 736b 696e 5f6d 6573 685f  param skin_mesh_
-00004d70: 6661 6374 6f72 3a20 5573 6564 2069 6e20  factor: Used in 
-00004d80: 7468 6520 6d65 7368 2064 656e 7369 7479  the mesh density
-00004d90: 2c20 6465 6661 756c 7473 2074 6f20 4e6f  , defaults to No
-00004da0: 6e65 0a20 2020 2020 2020 203a 7479 7065  ne.        :type
-00004db0: 2073 6b69 6e5f 6d65 7368 5f66 6163 746f   skin_mesh_facto
-00004dc0: 723a 2066 6c6f 6174 2c20 6f70 7469 6f6e  r: float, option
-00004dd0: 616c 0a20 2020 2020 2020 2022 2222 0a20  al.        """. 
-00004de0: 2020 2020 2020 2073 656c 662e 6869 6768         self.high
-00004df0: 5f6c 6576 656c 5f67 656f 5f67 656e 2866  _level_geo_gen(f
-00004e00: 7265 7175 656e 6379 3d66 7265 7175 656e  requency=frequen
-00004e10: 6379 2c20 736b 696e 5f6d 6573 685f 6661  cy, skin_mesh_fa
-00004e20: 6374 6f72 3d73 6b69 6e5f 6d65 7368 5f66  ctor=skin_mesh_f
-00004e30: 6163 746f 7229 0a20 2020 2020 2020 2073  actor).        s
-00004e40: 656c 662e 6d65 7368 2e67 656e 6572 6174  elf.mesh.generat
-00004e50: 655f 6879 6272 6964 5f6d 6573 6828 2920  e_hybrid_mesh() 
-00004e60: 2023 2063 7265 6174 6520 7468 6520 6d65   # create the me
-00004e70: 7368 2069 7473 656c 6620 7769 7468 2067  sh itself with g
-00004e80: 6d73 680a 2020 2020 2020 2020 7365 6c66  msh.        self
-00004e90: 2e6d 6573 682e 6765 6e65 7261 7465 5f65  .mesh.generate_e
-00004ea0: 6c65 6374 726f 5f6d 6167 6e65 7469 635f  lectro_magnetic_
-00004eb0: 6d65 7368 2829 2020 2320 6173 7369 676e  mesh()  # assign
-00004ec0: 2074 6865 2070 6879 7369 6361 6c20 656e   the physical en
-00004ed0: 7469 7469 6573 2f64 6f6d 6169 6e73 2074  tities/domains t
-00004ee0: 6f20 7468 6520 6d65 7368 0a0a 2020 2020  o the mesh..    
-00004ef0: 2320 202d 2020 2d20 202d 2020 2d20 202d  #  -  -  -  -  -
-00004f00: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00004f10: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00004f20: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00004f30: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00004f40: 202d 2020 202d 2020 2d20 202d 2020 2d20   -   -  -  -  - 
-00004f50: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00004f60: 2d20 202d 0a20 2020 2023 2043 7265 6174  -  -.    # Creat
-00004f70: 6520 4d6f 6465 6c0a 2020 2020 6465 6620  e Model.    def 
-00004f80: 7365 745f 696e 7375 6c61 7469 6f6e 2873  set_insulation(s
-00004f90: 656c 662c 2069 6e73 756c 6174 696f 6e3a  elf, insulation:
-00004fa0: 2049 6e73 756c 6174 696f 6e29 3a0a 2020   Insulation):.  
-00004fb0: 2020 2020 2020 2222 2241 6464 2069 6e73        """Add ins
-00004fc0: 756c 6174 696f 6e20 746f 2074 6865 206d  ulation to the m
-00004fd0: 6f64 656c 2e0a 0a20 2020 2020 2020 203a  odel...        :
-00004fe0: 7061 7261 6d20 696e 7375 6c61 7469 6f6e  param insulation
-00004ff0: 3a20 696e 7375 6c61 7469 6f6e 206f 626a  : insulation obj
-00005000: 6563 740a 2020 2020 2020 2020 3a74 7970  ect.        :typ
-00005010: 6520 696e 7375 6c61 7469 6f6e 3a20 496e  e insulation: In
-00005020: 7375 6c61 7469 6f6e 0a20 2020 2020 2020  sulation.       
-00005030: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-00005040: 696e 7375 6c61 7469 6f6e 2e63 6f6e 645f  insulation.cond_
-00005050: 636f 6e64 2069 7320 4e6f 6e65 206f 7220  cond is None or 
-00005060: 6e6f 7420 696e 7375 6c61 7469 6f6e 2e63  not insulation.c
-00005070: 6f6e 645f 636f 6e64 3a0a 2020 2020 2020  ond_cond:.      
-00005080: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
-00005090: 7074 696f 6e28 2269 6e73 756c 6174 696f  ption("insulatio
-000050a0: 6e73 2062 6574 7765 656e 2074 6865 2063  ns between the c
-000050b0: 6f6e 6475 6374 6f72 7320 6d75 7374 2062  onductors must b
-000050c0: 6520 7365 7422 290a 0a20 2020 2020 2020  e set")..       
-000050d0: 2069 6620 696e 7375 6c61 7469 6f6e 2e63   if insulation.c
-000050e0: 6f72 655f 636f 6e64 2069 7320 4e6f 6e65  ore_cond is None
-000050f0: 206f 7220 6e6f 7420 696e 7375 6c61 7469   or not insulati
-00005100: 6f6e 2e63 6f72 655f 636f 6e64 3a0a 2020  on.core_cond:.  
-00005110: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
-00005120: 4578 6365 7074 696f 6e28 2269 6e73 756c  Exception("insul
-00005130: 6174 696f 6e73 2062 6574 7765 656e 2074  ations between t
-00005140: 6865 2063 6f72 6520 616e 6420 7468 6520  he core and the 
-00005150: 636f 6e64 7563 746f 7273 206d 7573 7420  conductors must 
-00005160: 6265 2073 6574 2229 0a0a 2020 2020 2020  be set")..      
-00005170: 2020 7365 6c66 2e69 6e73 756c 6174 696f    self.insulatio
-00005180: 6e20 3d20 696e 7375 6c61 7469 6f6e 0a0a  n = insulation..
-00005190: 2020 2020 6465 6620 7365 745f 7374 7261      def set_stra
-000051a0: 795f 7061 7468 2873 656c 662c 2073 7472  y_path(self, str
-000051b0: 6179 5f70 6174 683a 2053 7472 6179 5061  ay_path: StrayPa
-000051c0: 7468 293a 0a20 2020 2020 2020 2022 2222  th):.        """
-000051d0: 4164 6420 7468 6520 7374 7261 7920 7061  Add the stray pa
-000051e0: 7468 2074 6f20 7468 6520 6d6f 6465 6c2e  th to the model.
-000051f0: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-00005200: 2073 7472 6179 5f70 6174 683a 2053 7472   stray_path: Str
-00005210: 6179 5061 7468 206f 626a 6563 740a 2020  ayPath object.  
-00005220: 2020 2020 2020 3a74 7970 6520 7374 7261        :type stra
-00005230: 795f 7061 7468 3a20 5374 7261 7950 6174  y_path: StrayPat
-00005240: 680a 2020 2020 2020 2020 2222 220a 2020  h.        """.  
-00005250: 2020 2020 2020 7365 6c66 2e73 7472 6179        self.stray
-00005260: 5f70 6174 6820 3d20 7374 7261 795f 7061  _path = stray_pa
-00005270: 7468 0a0a 2020 2020 6465 6620 7365 745f  th..    def set_
-00005280: 6169 725f 6761 7073 2873 656c 662c 2061  air_gaps(self, a
-00005290: 6972 5f67 6170 733a 2041 6972 4761 7073  ir_gaps: AirGaps
-000052a0: 293a 0a20 2020 2020 2020 2022 2222 4164  ):.        """Ad
-000052b0: 6420 7468 6520 6169 725f 6761 7073 2074  d the air_gaps t
-000052c0: 6f20 7468 6520 6d6f 6465 6c2e 0a0a 2020  o the model...  
-000052d0: 2020 2020 2020 3a70 6172 616d 2061 6972        :param air
-000052e0: 5f67 6170 733a 2041 6972 4761 7073 206f  _gaps: AirGaps o
-000052f0: 626a 6563 740a 2020 2020 2020 2020 3a74  bject.        :t
-00005300: 7970 6520 6169 725f 6761 7073 3a20 4169  ype air_gaps: Ai
-00005310: 7247 6170 730a 2020 2020 2020 2020 2222  rGaps.        ""
-00005320: 220a 2020 2020 2020 2020 2320 536f 7274  ".        # Sort
-00005330: 696e 6720 6169 7220 6761 7073 2066 726f  ing air gaps fro
-00005340: 6d20 6c6f 7765 7220 746f 2075 7070 6572  m lower to upper
-00005350: 0a20 2020 2020 2020 2061 6972 5f67 6170  .        air_gap
-00005360: 732e 6d69 6470 6f69 6e74 732e 736f 7274  s.midpoints.sort
-00005370: 286b 6579 3d6c 616d 6264 6120 783a 2078  (key=lambda x: x
-00005380: 5b31 5d29 0a0a 2020 2020 2020 2020 7365  [1])..        se
-00005390: 6c66 2e61 6972 5f67 6170 7320 3d20 6169  lf.air_gaps = ai
-000053a0: 725f 6761 7073 0a0a 2020 2020 6465 6620  r_gaps..    def 
-000053b0: 7365 745f 7769 6e64 696e 675f 7769 6e64  set_winding_wind
-000053c0: 6f77 7328 7365 6c66 2c20 7769 6e64 696e  ows(self, windin
-000053d0: 675f 7769 6e64 6f77 733a 204c 6973 745b  g_windows: List[
-000053e0: 5769 6e64 696e 6757 696e 646f 775d 293a  WindingWindow]):
-000053f0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00005400: 2020 2020 2041 6464 2074 6865 2077 696e       Add the win
-00005410: 6469 6e67 2077 696e 646f 7773 2074 6f20  ding windows to 
-00005420: 7468 6520 6d6f 6465 6c2e 0a0a 2020 2020  the model...    
-00005430: 2020 2020 4372 6561 7465 7320 7468 6520      Creates the 
-00005440: 7769 6e64 696e 6773 206c 6973 742c 2077  windings list, w
-00005450: 6869 6368 2063 6f6e 7461 696e 7320 7468  hich contains th
-00005460: 6520 636f 6e64 7563 746f 7273 2066 726f  e conductors fro
-00005470: 6d20 7468 6520 7669 7274 7561 6c20 7769  m the virtual wi
-00005480: 6e64 696e 6720 7769 6e64 6f77 7320 6275  nding windows bu
-00005490: 7420 736f 7274 6564 0a20 2020 2020 2020  t sorted.       
-000054a0: 2062 7920 7468 6520 7769 6e64 696e 675f   by the winding_
-000054b0: 6e75 6d62 6572 2028 6173 6365 6e64 696e  number (ascendin
-000054c0: 6729 2e20 5365 7473 2065 6d70 7479 206c  g). Sets empty l
-000054d0: 6973 7473 2066 6f72 2065 7863 6974 6174  ists for excitat
-000054e0: 696f 6e20 7061 7261 6d65 7465 7273 2e0a  ion parameters..
-000054f0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00005500: 7769 6e64 696e 675f 7769 6e64 6f77 733a  winding_windows:
-00005510: 204c 6973 7420 6f66 2057 696e 6469 6e67   List of Winding
-00005520: 5769 6e64 6f77 206f 626a 6563 7473 0a20  Window objects. 
-00005530: 2020 2020 2020 203a 7479 7065 2077 696e         :type win
-00005540: 6469 6e67 5f77 696e 646f 7773 3a20 4c69  ding_windows: Li
-00005550: 7374 5b57 696e 6469 6e67 5769 6e64 6f77  st[WindingWindow
-00005560: 5d0a 2020 2020 2020 2020 2222 220a 2020  ].        """.  
-00005570: 2020 2020 2020 7365 6c66 2e77 696e 6469        self.windi
-00005580: 6e67 5f77 696e 646f 7773 203d 2077 696e  ng_windows = win
-00005590: 6469 6e67 5f77 696e 646f 7773 0a20 2020  ding_windows.   
-000055a0: 2020 2020 2077 696e 6469 6e67 7320 3d20       windings = 
-000055b0: 5b5d 0a20 2020 2020 2020 2066 6f72 2077  [].        for w
-000055c0: 7720 696e 2077 696e 6469 6e67 5f77 696e  w in winding_win
-000055d0: 646f 7773 3a0a 2020 2020 2020 2020 2020  dows:.          
-000055e0: 2020 666f 7220 7677 7720 696e 2077 772e    for vww in ww.
-000055f0: 7669 7274 7561 6c5f 7769 6e64 696e 675f  virtual_winding_
-00005600: 7769 6e64 6f77 733a 0a20 2020 2020 2020  windows:.       
-00005610: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00005620: 7677 772e 7769 6e64 696e 675f 6973 5f73  vww.winding_is_s
-00005630: 6574 3a0a 2020 2020 2020 2020 2020 2020  et:.            
-00005640: 2020 2020 2020 2020 7261 6973 6520 4578          raise Ex
-00005650: 6365 7074 696f 6e28 2245 6163 6820 7669  ception("Each vi
-00005660: 7274 7561 6c20 7769 6e64 696e 6720 7769  rtual winding wi
-00005670: 6e64 6f77 206e 6565 6473 2074 6f20 6861  ndow needs to ha
-00005680: 7665 2061 2077 696e 6469 6e67 2229 0a20  ve a winding"). 
-00005690: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-000056a0: 6f72 2077 696e 6469 6e67 2069 6e20 7677  or winding in vw
-000056b0: 772e 7769 6e64 696e 6773 3a0a 2020 2020  w.windings:.    
-000056c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000056d0: 6966 2077 696e 6469 6e67 206e 6f74 2069  if winding not i
-000056e0: 6e20 7769 6e64 696e 6773 3a0a 2020 2020  n windings:.    
+00004ae0: 2020 7365 6c66 2e6c 6f67 6765 7229 0a20    self.logger). 
+00004af0: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+00004b00: 645f 6178 692e 6472 6177 5f6d 6f64 656c  d_axi.draw_model
+00004b10: 2829 0a0a 2020 2020 2020 2020 2320 4372  ()..        # Cr
+00004b20: 6561 7465 206d 6573 680a 2020 2020 2020  eate mesh.      
+00004b30: 2020 7365 6c66 2e6d 6573 6820 3d20 4d65    self.mesh = Me
+00004b40: 7368 2873 656c 662e 7477 6f5f 645f 6178  sh(self.two_d_ax
+00004b50: 692c 2073 656c 662e 7769 6e64 696e 6773  i, self.windings
+00004b60: 2c20 7365 6c66 2e77 696e 6469 6e67 5f77  , self.winding_w
+00004b70: 696e 646f 7773 2c20 7365 6c66 2e63 6f72  indows, self.cor
+00004b80: 652e 636f 7272 6563 745f 6f75 7465 725f  e.correct_outer_
+00004b90: 6c65 672c 0a20 2020 2020 2020 2020 2020  leg,.           
+00004ba0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00004bb0: 6c66 2e66 696c 655f 6461 7461 2c20 7365  lf.file_data, se
+00004bc0: 6c66 2e76 6572 626f 7369 7479 2c20 7365  lf.verbosity, se
+00004bd0: 6c66 2e6c 6f67 6765 722c 204e 6f6e 652c  lf.logger, None,
+00004be0: 2073 656c 662e 7777 725f 656e 6162 6c65   self.wwr_enable
+00004bf0: 6429 0a20 2020 2020 2020 2023 2073 656c  d).        # sel
+00004c00: 662e 6d65 7368 203d 204d 6573 6828 7365  f.mesh = Mesh(se
+00004c10: 6c66 2e74 776f 5f64 5f61 7869 2c20 7365  lf.two_d_axi, se
+00004c20: 6c66 2e77 696e 6469 6e67 732c 2073 656c  lf.windings, sel
+00004c30: 662e 636f 7265 2e63 6f72 7265 6374 5f6f  f.core.correct_o
+00004c40: 7574 6572 5f6c 6567 2c20 7365 6c66 2e66  uter_leg, self.f
+00004c50: 696c 655f 6461 7461 2c20 4e6f 6e65 2c20  ile_data, None, 
+00004c60: 6666 2e73 696c 656e 7429 0a0a 2020 2020  ff.silent)..    
+00004c70: 6465 6620 6d65 7368 2873 656c 662c 2066  def mesh(self, f
+00004c80: 7265 7175 656e 6379 3a20 666c 6f61 7420  requency: float 
+00004c90: 3d20 4e6f 6e65 2c20 736b 696e 5f6d 6573  = None, skin_mes
+00004ca0: 685f 6661 6374 6f72 3a20 666c 6f61 7420  h_factor: float 
+00004cb0: 3d20 4e6f 6e65 293a 0a20 2020 2020 2020  = None):.       
+00004cc0: 2022 2222 4765 6e65 7261 7465 206d 6f64   """Generate mod
+00004cd0: 656c 2061 6e64 206d 6573 682e 0a0a 2020  el and mesh...  
+00004ce0: 2020 2020 2020 3a70 6172 616d 2066 7265        :param fre
+00004cf0: 7175 656e 6379 3a20 4672 6571 7565 6e63  quency: Frequenc
+00004d00: 7920 7573 6564 2069 6e20 7468 6520 6d65  y used in the me
+00004d10: 7368 2064 656e 7369 7479 2c20 6465 6661  sh density, defa
+00004d20: 756c 7473 2074 6f20 4e6f 6e65 0a20 2020  ults to None.   
+00004d30: 2020 2020 203a 7479 7065 2066 7265 7175       :type frequ
+00004d40: 656e 6379 3a20 666c 6f61 742c 206f 7074  ency: float, opt
+00004d50: 696f 6e61 6c0a 2020 2020 2020 2020 3a70  ional.        :p
+00004d60: 6172 616d 2073 6b69 6e5f 6d65 7368 5f66  aram skin_mesh_f
+00004d70: 6163 746f 723a 2055 7365 6420 696e 2074  actor: Used in t
+00004d80: 6865 206d 6573 6820 6465 6e73 6974 792c  he mesh density,
+00004d90: 2064 6566 6175 6c74 7320 746f 204e 6f6e   defaults to Non
+00004da0: 650a 2020 2020 2020 2020 3a74 7970 6520  e.        :type 
+00004db0: 736b 696e 5f6d 6573 685f 6661 6374 6f72  skin_mesh_factor
+00004dc0: 3a20 666c 6f61 742c 206f 7074 696f 6e61  : float, optiona
+00004dd0: 6c0a 2020 2020 2020 2020 2222 220a 2020  l.        """.  
+00004de0: 2020 2020 2020 7365 6c66 2e68 6967 685f        self.high_
+00004df0: 6c65 7665 6c5f 6765 6f5f 6765 6e28 6672  level_geo_gen(fr
+00004e00: 6571 7565 6e63 793d 6672 6571 7565 6e63  equency=frequenc
+00004e10: 792c 2073 6b69 6e5f 6d65 7368 5f66 6163  y, skin_mesh_fac
+00004e20: 746f 723d 736b 696e 5f6d 6573 685f 6661  tor=skin_mesh_fa
+00004e30: 6374 6f72 290a 2020 2020 2020 2020 7365  ctor).        se
+00004e40: 6c66 2e6d 6573 682e 6765 6e65 7261 7465  lf.mesh.generate
+00004e50: 5f68 7962 7269 645f 6d65 7368 2829 2020  _hybrid_mesh()  
+00004e60: 2320 6372 6561 7465 2074 6865 206d 6573  # create the mes
+00004e70: 6820 6974 7365 6c66 2077 6974 6820 676d  h itself with gm
+00004e80: 7368 0a20 2020 2020 2020 2073 656c 662e  sh.        self.
+00004e90: 6d65 7368 2e67 656e 6572 6174 655f 656c  mesh.generate_el
+00004ea0: 6563 7472 6f5f 6d61 676e 6574 6963 5f6d  ectro_magnetic_m
+00004eb0: 6573 6828 2920 2023 2061 7373 6967 6e20  esh()  # assign 
+00004ec0: 7468 6520 7068 7973 6963 616c 2065 6e74  the physical ent
+00004ed0: 6974 6965 732f 646f 6d61 696e 7320 746f  ities/domains to
+00004ee0: 2074 6865 206d 6573 680a 0a20 2020 2023   the mesh..    #
+00004ef0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+00004f00: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00004f10: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00004f20: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+00004f30: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00004f40: 2d20 2020 2d20 202d 2020 2d20 202d 2020  -   -  -  -  -  
+00004f50: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00004f60: 2020 2d0a 2020 2020 2320 4372 6561 7465    -.    # Create
+00004f70: 204d 6f64 656c 0a20 2020 2064 6566 2073   Model.    def s
+00004f80: 6574 5f69 6e73 756c 6174 696f 6e28 7365  et_insulation(se
+00004f90: 6c66 2c20 696e 7375 6c61 7469 6f6e 3a20  lf, insulation: 
+00004fa0: 496e 7375 6c61 7469 6f6e 293a 0a20 2020  Insulation):.   
+00004fb0: 2020 2020 2022 2222 4164 6420 696e 7375       """Add insu
+00004fc0: 6c61 7469 6f6e 2074 6f20 7468 6520 6d6f  lation to the mo
+00004fd0: 6465 6c2e 0a0a 2020 2020 2020 2020 3a70  del...        :p
+00004fe0: 6172 616d 2069 6e73 756c 6174 696f 6e3a  aram insulation:
+00004ff0: 2069 6e73 756c 6174 696f 6e20 6f62 6a65   insulation obje
+00005000: 6374 0a20 2020 2020 2020 203a 7479 7065  ct.        :type
+00005010: 2069 6e73 756c 6174 696f 6e3a 2049 6e73   insulation: Ins
+00005020: 756c 6174 696f 6e0a 2020 2020 2020 2020  ulation.        
+00005030: 2222 220a 2020 2020 2020 2020 6966 2069  """.        if i
+00005040: 6e73 756c 6174 696f 6e2e 636f 6e64 5f63  nsulation.cond_c
+00005050: 6f6e 6420 6973 204e 6f6e 6520 6f72 206e  ond is None or n
+00005060: 6f74 2069 6e73 756c 6174 696f 6e2e 636f  ot insulation.co
+00005070: 6e64 5f63 6f6e 643a 0a20 2020 2020 2020  nd_cond:.       
+00005080: 2020 2020 2072 6169 7365 2045 7863 6570       raise Excep
+00005090: 7469 6f6e 2822 696e 7375 6c61 7469 6f6e  tion("insulation
+000050a0: 7320 6265 7477 6565 6e20 7468 6520 636f  s between the co
+000050b0: 6e64 7563 746f 7273 206d 7573 7420 6265  nductors must be
+000050c0: 2073 6574 2229 0a0a 2020 2020 2020 2020   set")..        
+000050d0: 6966 2069 6e73 756c 6174 696f 6e2e 636f  if insulation.co
+000050e0: 7265 5f63 6f6e 6420 6973 204e 6f6e 6520  re_cond is None 
+000050f0: 6f72 206e 6f74 2069 6e73 756c 6174 696f  or not insulatio
+00005100: 6e2e 636f 7265 5f63 6f6e 643a 0a20 2020  n.core_cond:.   
+00005110: 2020 2020 2020 2020 2072 6169 7365 2045           raise E
+00005120: 7863 6570 7469 6f6e 2822 696e 7375 6c61  xception("insula
+00005130: 7469 6f6e 7320 6265 7477 6565 6e20 7468  tions between th
+00005140: 6520 636f 7265 2061 6e64 2074 6865 2063  e core and the c
+00005150: 6f6e 6475 6374 6f72 7320 6d75 7374 2062  onductors must b
+00005160: 6520 7365 7422 290a 0a20 2020 2020 2020  e set")..       
+00005170: 2073 656c 662e 696e 7375 6c61 7469 6f6e   self.insulation
+00005180: 203d 2069 6e73 756c 6174 696f 6e0a 0a20   = insulation.. 
+00005190: 2020 2064 6566 2073 6574 5f73 7472 6179     def set_stray
+000051a0: 5f70 6174 6828 7365 6c66 2c20 7374 7261  _path(self, stra
+000051b0: 795f 7061 7468 3a20 5374 7261 7950 6174  y_path: StrayPat
+000051c0: 6829 3a0a 2020 2020 2020 2020 2222 2241  h):.        """A
+000051d0: 6464 2074 6865 2073 7472 6179 2070 6174  dd the stray pat
+000051e0: 6820 746f 2074 6865 206d 6f64 656c 2e0a  h to the model..
+000051f0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00005200: 7374 7261 795f 7061 7468 3a20 5374 7261  stray_path: Stra
+00005210: 7950 6174 6820 6f62 6a65 6374 0a20 2020  yPath object.   
+00005220: 2020 2020 203a 7479 7065 2073 7472 6179       :type stray
+00005230: 5f70 6174 683a 2053 7472 6179 5061 7468  _path: StrayPath
+00005240: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00005250: 2020 2020 2073 656c 662e 7374 7261 795f       self.stray_
+00005260: 7061 7468 203d 2073 7472 6179 5f70 6174  path = stray_pat
+00005270: 680a 0a20 2020 2064 6566 2073 6574 5f61  h..    def set_a
+00005280: 6972 5f67 6170 7328 7365 6c66 2c20 6169  ir_gaps(self, ai
+00005290: 725f 6761 7073 3a20 4169 7247 6170 7329  r_gaps: AirGaps)
+000052a0: 3a0a 2020 2020 2020 2020 2222 2241 6464  :.        """Add
+000052b0: 2074 6865 2061 6972 5f67 6170 7320 746f   the air_gaps to
+000052c0: 2074 6865 206d 6f64 656c 2e0a 0a20 2020   the model...   
+000052d0: 2020 2020 203a 7061 7261 6d20 6169 725f       :param air_
+000052e0: 6761 7073 3a20 4169 7247 6170 7320 6f62  gaps: AirGaps ob
+000052f0: 6a65 6374 0a20 2020 2020 2020 203a 7479  ject.        :ty
+00005300: 7065 2061 6972 5f67 6170 733a 2041 6972  pe air_gaps: Air
+00005310: 4761 7073 0a20 2020 2020 2020 2022 2222  Gaps.        """
+00005320: 0a20 2020 2020 2020 2023 2053 6f72 7469  .        # Sorti
+00005330: 6e67 2061 6972 2067 6170 7320 6672 6f6d  ng air gaps from
+00005340: 206c 6f77 6572 2074 6f20 7570 7065 720a   lower to upper.
+00005350: 2020 2020 2020 2020 6169 725f 6761 7073          air_gaps
+00005360: 2e6d 6964 706f 696e 7473 2e73 6f72 7428  .midpoints.sort(
+00005370: 6b65 793d 6c61 6d62 6461 2078 3a20 785b  key=lambda x: x[
+00005380: 315d 290a 0a20 2020 2020 2020 2073 656c  1])..        sel
+00005390: 662e 6169 725f 6761 7073 203d 2061 6972  f.air_gaps = air
+000053a0: 5f67 6170 730a 0a20 2020 2064 6566 2073  _gaps..    def s
+000053b0: 6574 5f77 696e 6469 6e67 5f77 696e 646f  et_winding_windo
+000053c0: 7773 2873 656c 662c 2077 696e 6469 6e67  ws(self, winding
+000053d0: 5f77 696e 646f 7773 3a20 4c69 7374 5b57  _windows: List[W
+000053e0: 696e 6469 6e67 5769 6e64 6f77 5d29 3a0a  indingWindow]):.
+000053f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00005400: 2020 2020 4164 6420 7468 6520 7769 6e64      Add the wind
+00005410: 696e 6720 7769 6e64 6f77 7320 746f 2074  ing windows to t
+00005420: 6865 206d 6f64 656c 2e0a 0a20 2020 2020  he model...     
+00005430: 2020 2043 7265 6174 6573 2074 6865 2077     Creates the w
+00005440: 696e 6469 6e67 7320 6c69 7374 2c20 7768  indings list, wh
+00005450: 6963 6820 636f 6e74 6169 6e73 2074 6865  ich contains the
+00005460: 2063 6f6e 6475 6374 6f72 7320 6672 6f6d   conductors from
+00005470: 2074 6865 2076 6972 7475 616c 2077 696e   the virtual win
+00005480: 6469 6e67 2077 696e 646f 7773 2062 7574  ding windows but
+00005490: 2073 6f72 7465 640a 2020 2020 2020 2020   sorted.        
+000054a0: 6279 2074 6865 2077 696e 6469 6e67 5f6e  by the winding_n
+000054b0: 756d 6265 7220 2861 7363 656e 6469 6e67  umber (ascending
+000054c0: 292e 2053 6574 7320 656d 7074 7920 6c69  ). Sets empty li
+000054d0: 7374 7320 666f 7220 6578 6369 7461 7469  sts for excitati
+000054e0: 6f6e 2070 6172 616d 6574 6572 732e 0a0a  on parameters...
+000054f0: 2020 2020 2020 2020 3a70 6172 616d 2077          :param w
+00005500: 696e 6469 6e67 5f77 696e 646f 7773 3a20  inding_windows: 
+00005510: 4c69 7374 206f 6620 5769 6e64 696e 6757  List of WindingW
+00005520: 696e 646f 7720 6f62 6a65 6374 730a 2020  indow objects.  
+00005530: 2020 2020 2020 3a74 7970 6520 7769 6e64        :type wind
+00005540: 696e 675f 7769 6e64 6f77 733a 204c 6973  ing_windows: Lis
+00005550: 745b 5769 6e64 696e 6757 696e 646f 775d  t[WindingWindow]
+00005560: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00005570: 2020 2020 2073 656c 662e 7769 6e64 696e       self.windin
+00005580: 675f 7769 6e64 6f77 7320 3d20 7769 6e64  g_windows = wind
+00005590: 696e 675f 7769 6e64 6f77 730a 2020 2020  ing_windows.    
+000055a0: 2020 2020 7769 6e64 696e 6773 203d 205b      windings = [
+000055b0: 5d0a 2020 2020 2020 2020 666f 7220 7777  ].        for ww
+000055c0: 2069 6e20 7769 6e64 696e 675f 7769 6e64   in winding_wind
+000055d0: 6f77 733a 0a20 2020 2020 2020 2020 2020  ows:.           
+000055e0: 2066 6f72 2076 7777 2069 6e20 7777 2e76   for vww in ww.v
+000055f0: 6972 7475 616c 5f77 696e 6469 6e67 5f77  irtual_winding_w
+00005600: 696e 646f 7773 3a0a 2020 2020 2020 2020  indows:.        
+00005610: 2020 2020 2020 2020 6966 206e 6f74 2076          if not v
+00005620: 7777 2e77 696e 6469 6e67 5f69 735f 7365  ww.winding_is_se
+00005630: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+00005640: 2020 2020 2020 2072 6169 7365 2045 7863         raise Exc
+00005650: 6570 7469 6f6e 2822 4561 6368 2076 6972  eption("Each vir
+00005660: 7475 616c 2077 696e 6469 6e67 2077 696e  tual winding win
+00005670: 646f 7720 6e65 6564 7320 746f 2068 6176  dow needs to hav
+00005680: 6520 6120 7769 6e64 696e 6722 290a 2020  e a winding").  
+00005690: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+000056a0: 7220 7769 6e64 696e 6720 696e 2076 7777  r winding in vww
+000056b0: 2e77 696e 6469 6e67 733a 0a20 2020 2020  .windings:.     
+000056c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000056d0: 6620 7769 6e64 696e 6720 6e6f 7420 696e  f winding not in
+000056e0: 2077 696e 6469 6e67 733a 0a20 2020 2020   windings:.     
 000056f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005700: 2020 2020 7769 6e64 696e 6773 2e61 7070      windings.app
-00005710: 656e 6428 7769 6e64 696e 6729 0a0a 2020  end(winding)..  
-00005720: 2020 2020 2020 2320 7072 696e 7428 6622        # print(f"
-00005730: 7b77 696e 6469 6e67 5f77 696e 646f 772e  {winding_window.
-00005740: 7669 7274 7561 6c5f 7769 6e64 696e 675f  virtual_winding_
-00005750: 7769 6e64 6f77 7320 3d20 7d22 290a 2020  windows = }").  
-00005760: 2020 2020 2020 2320 7072 696e 7428 6622        # print(f"
-00005770: 7b77 696e 6469 6e67 7320 3d20 7d22 290a  {windings = }").
-00005780: 2020 2020 2020 2020 7365 6c66 2e77 696e          self.win
-00005790: 6469 6e67 7320 3d20 736f 7274 6564 2877  dings = sorted(w
-000057a0: 696e 6469 6e67 732c 206b 6579 3d6c 616d  indings, key=lam
-000057b0: 6264 6120 783a 2078 2e77 696e 6469 6e67  bda x: x.winding
-000057c0: 5f6e 756d 6265 7229 0a0a 2020 2020 2020  _number)..      
-000057d0: 2020 2320 5072 696e 7420 7374 6174 656d    # Print statem
-000057e0: 656e 7420 7761 7320 6d6f 7665 6420 6865  ent was moved he
-000057f0: 7265 2073 6f20 7468 6520 7369 6c65 6e63  re so the silenc
-00005800: 6520 6675 6e63 7469 6f6e 616c 6974 7920  e functionality 
-00005810: 6973 206e 6f74 206e 6565 6465 6420 696e  is not needed in
-00005820: 2043 6f6e 6475 6374 6f72 7320 636c 6173   Conductors clas
-00005830: 732e 0a20 2020 2020 2020 2023 2054 4f44  s..        # TOD
-00005840: 4f20 4361 6e20 7468 6973 2062 6520 6576  O Can this be ev
-00005850: 656e 2072 656d 6f76 6564 3f0a 2020 2020  en removed?.    
-00005860: 2020 2020 666f 7220 7769 6e64 696e 6720      for winding 
-00005870: 696e 2073 656c 662e 7769 6e64 696e 6773  in self.windings
-00005880: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-00005890: 2077 696e 6469 6e67 2e63 6f6e 6475 6374   winding.conduct
-000058a0: 6f72 5f74 7970 6520 3d3d 2043 6f6e 6475  or_type == Condu
-000058b0: 6374 6f72 5479 7065 2e52 6f75 6e64 4c69  ctorType.RoundLi
-000058c0: 747a 3a0a 2020 2020 2020 2020 2020 2020  tz:.            
-000058d0: 2020 2020 7365 6c66 2e66 656d 6d74 5f70      self.femmt_p
-000058e0: 7269 6e74 2866 2255 7064 6174 6564 204c  rint(f"Updated L
-000058f0: 6974 7a20 436f 6e66 6967 7572 6174 696f  itz Configuratio
-00005900: 6e3a 205c 6e22 0a20 2020 2020 2020 2020  n: \n".         
+00005700: 2020 2077 696e 6469 6e67 732e 6170 7065     windings.appe
+00005710: 6e64 2877 696e 6469 6e67 290a 0a20 2020  nd(winding)..   
+00005720: 2020 2020 2023 2070 7269 6e74 2866 227b       # print(f"{
+00005730: 7769 6e64 696e 675f 7769 6e64 6f77 2e76  winding_window.v
+00005740: 6972 7475 616c 5f77 696e 6469 6e67 5f77  irtual_winding_w
+00005750: 696e 646f 7773 203d 207d 2229 0a20 2020  indows = }").   
+00005760: 2020 2020 2023 2070 7269 6e74 2866 227b       # print(f"{
+00005770: 7769 6e64 696e 6773 203d 207d 2229 0a20  windings = }"). 
+00005780: 2020 2020 2020 2073 656c 662e 7769 6e64         self.wind
+00005790: 696e 6773 203d 2073 6f72 7465 6428 7769  ings = sorted(wi
+000057a0: 6e64 696e 6773 2c20 6b65 793d 6c61 6d62  ndings, key=lamb
+000057b0: 6461 2078 3a20 782e 7769 6e64 696e 675f  da x: x.winding_
+000057c0: 6e75 6d62 6572 290a 0a20 2020 2020 2020  number)..       
+000057d0: 2023 2050 7269 6e74 2073 7461 7465 6d65   # Print stateme
+000057e0: 6e74 2077 6173 206d 6f76 6564 2068 6572  nt was moved her
+000057f0: 6520 736f 2074 6865 2073 696c 656e 6365  e so the silence
+00005800: 2066 756e 6374 696f 6e61 6c69 7479 2069   functionality i
+00005810: 7320 6e6f 7420 6e65 6564 6564 2069 6e20  s not needed in 
+00005820: 436f 6e64 7563 746f 7273 2063 6c61 7373  Conductors class
+00005830: 2e0a 2020 2020 2020 2020 2320 544f 444f  ..        # TODO
+00005840: 2043 616e 2074 6869 7320 6265 2065 7665   Can this be eve
+00005850: 6e20 7265 6d6f 7665 643f 0a20 2020 2020  n removed?.     
+00005860: 2020 2066 6f72 2077 696e 6469 6e67 2069     for winding i
+00005870: 6e20 7365 6c66 2e77 696e 6469 6e67 733a  n self.windings:
+00005880: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00005890: 7769 6e64 696e 672e 636f 6e64 7563 746f  winding.conducto
+000058a0: 725f 7479 7065 203d 3d20 436f 6e64 7563  r_type == Conduc
+000058b0: 746f 7254 7970 652e 526f 756e 644c 6974  torType.RoundLit
+000058c0: 7a3a 0a20 2020 2020 2020 2020 2020 2020  z:.             
+000058d0: 2020 2073 656c 662e 6665 6d6d 745f 7072     self.femmt_pr
+000058e0: 696e 7428 6622 5570 6461 7465 6420 4c69  int(f"Updated Li
+000058f0: 747a 2043 6f6e 6669 6775 7261 7469 6f6e  tz Configuration
+00005900: 3a20 5c6e 220a 2020 2020 2020 2020 2020  : \n".          
 00005910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005920: 2020 2020 2020 2020 6622 2066 663a 207b          f" ff: {
-00005930: 7769 6e64 696e 672e 6666 7d20 5c6e 220a  winding.ff} \n".
+00005920: 2020 2020 2020 2066 2220 6666 3a20 7b77         f" ff: {w
+00005930: 696e 6469 6e67 2e66 667d 205c 6e22 0a20  inding.ff} \n". 
 00005940: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00005950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005960: 2066 2220 4e75 6d62 6572 206f 6620 6c61   f" Number of la
-00005970: 7965 7273 2f73 7472 616e 6473 3a20 7b77  yers/strands: {w
-00005980: 696e 6469 6e67 2e6e 5f6c 6179 6572 737d  inding.n_layers}
-00005990: 2f7b 7769 6e64 696e 672e 6e5f 7374 7261  /{winding.n_stra
-000059a0: 6e64 737d 205c 6e22 0a20 2020 2020 2020  nds} \n".       
+00005960: 6622 204e 756d 6265 7220 6f66 206c 6179  f" Number of lay
+00005970: 6572 732f 7374 7261 6e64 733a 207b 7769  ers/strands: {wi
+00005980: 6e64 696e 672e 6e5f 6c61 7965 7273 7d2f  nding.n_layers}/
+00005990: 7b77 696e 6469 6e67 2e6e 5f73 7472 616e  {winding.n_stran
+000059a0: 6473 7d20 5c6e 220a 2020 2020 2020 2020  ds} \n".        
 000059b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000059c0: 2020 2020 2020 2020 2020 6622 2053 7472            f" Str
-000059d0: 616e 6420 7261 6469 7573 3a20 7b77 696e  and radius: {win
-000059e0: 6469 6e67 2e73 7472 616e 645f 7261 6469  ding.strand_radi
-000059f0: 7573 7d20 5c6e 220a 2020 2020 2020 2020  us} \n".        
+000059c0: 2020 2020 2020 2020 2066 2220 5374 7261           f" Stra
+000059d0: 6e64 2072 6164 6975 733a 207b 7769 6e64  nd radius: {wind
+000059e0: 696e 672e 7374 7261 6e64 5f72 6164 6975  ing.strand_radiu
+000059f0: 737d 205c 6e22 0a20 2020 2020 2020 2020  s} \n".         
 00005a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a10: 2020 2020 2020 2020 2066 2220 436f 6e64           f" Cond
-00005a20: 7563 746f 7220 7261 6469 7573 3a20 7b77  uctor radius: {w
-00005a30: 696e 6469 6e67 2e63 6f6e 6475 6374 6f72  inding.conductor
-00005a40: 5f72 6164 6975 737d 5c6e 220a 2020 2020  _radius}\n".    
+00005a10: 2020 2020 2020 2020 6622 2043 6f6e 6475          f" Condu
+00005a20: 6374 6f72 2072 6164 6975 733a 207b 7769  ctor radius: {wi
+00005a30: 6e64 696e 672e 636f 6e64 7563 746f 725f  nding.conductor_
+00005a40: 7261 6469 7573 7d5c 6e22 0a20 2020 2020  radius}\n".     
 00005a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005a60: 2020 2020 2020 2020 2020 2020 2066 222d               f"-
-00005a70: 2d2d 2229 0a0a 2020 2020 2020 2020 2320  --")..        # 
-00005a80: 5365 7420 6578 6369 7461 7469 6f6e 2070  Set excitation p
-00005a90: 6172 616d 6574 6572 206c 6973 7473 0a20  arameter lists. 
-00005aa0: 2020 2020 2020 2073 656c 662e 6375 7272         self.curr
-00005ab0: 656e 7420 3d20 5b4e 6f6e 655d 202a 206c  ent = [None] * l
-00005ac0: 656e 2877 696e 6469 6e67 7329 0a20 2020  en(windings).   
-00005ad0: 2020 2020 2073 656c 662e 6375 7272 656e       self.curren
-00005ae0: 745f 6465 6e73 6974 7920 3d20 5b4e 6f6e  t_density = [Non
-00005af0: 655d 202a 206c 656e 2877 696e 6469 6e67  e] * len(winding
-00005b00: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-00005b10: 766f 6c74 6167 6520 3d20 5b4e 6f6e 655d  voltage = [None]
-00005b20: 202a 206c 656e 2877 696e 6469 6e67 7329   * len(windings)
-00005b30: 0a20 2020 2020 2020 2073 656c 662e 7068  .        self.ph
-00005b40: 6173 655f 6465 6720 3d20 6e70 2e7a 6572  ase_deg = np.zer
-00005b50: 6f73 286c 656e 2877 696e 6469 6e67 7329  os(len(windings)
-00005b60: 290a 0a20 2020 2020 2020 2023 2043 6f72  )..        # Cor
-00005b70: 7265 6374 2074 6865 2074 7572 6e73 206c  rect the turns l
-00005b80: 6973 7473 2069 6e20 6561 6368 2076 7777  ists in each vww
-00005b90: 2c20 736f 2074 6861 7420 7468 6579 2068  , so that they h
-00005ba0: 6176 6520 7468 6520 7361 6d65 206c 656e  ave the same len
-00005bb0: 6774 680a 2020 2020 2020 2020 666f 7220  gth.        for 
-00005bc0: 7777 2069 6e20 7769 6e64 696e 675f 7769  ww in winding_wi
-00005bd0: 6e64 6f77 733a 0a20 2020 2020 2020 2020  ndows:.         
-00005be0: 2020 2066 6f72 2076 7777 2069 6e20 7777     for vww in ww
-00005bf0: 2e76 6972 7475 616c 5f77 696e 6469 6e67  .virtual_winding
-00005c00: 5f77 696e 646f 7773 3a0a 2020 2020 2020  _windows:.      
-00005c10: 2020 2020 2020 2020 2020 7a65 726f 735f            zeros_
-00005c20: 746f 5f61 7070 656e 6420 3d20 286c 656e  to_append = (len
-00005c30: 2873 656c 662e 7769 6e64 696e 6773 2920  (self.windings) 
-00005c40: 2d20 6c65 6e28 7677 772e 7475 726e 7329  - len(vww.turns)
-00005c50: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00005c60: 2020 6966 207a 6572 6f73 5f74 6f5f 6170    if zeros_to_ap
-00005c70: 7065 6e64 203c 2030 3a0a 2020 2020 2020  pend < 0:.      
-00005c80: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00005c90: 7220 5f20 696e 2072 616e 6765 2830 2c20  r _ in range(0, 
-00005ca0: 2d7a 6572 6f73 5f74 6f5f 6170 7065 6e64  -zeros_to_append
-00005cb0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00005cc0: 2020 2020 2020 2020 2020 2076 7777 2e74             vww.t
-00005cd0: 7572 6e73 2e70 6f70 2829 0a20 2020 2020  urns.pop().     
-00005ce0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00005cf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00005d00: 2020 2020 2066 6f72 205f 2069 6e20 7261       for _ in ra
-00005d10: 6e67 6528 302c 207a 6572 6f73 5f74 6f5f  nge(0, zeros_to_
-00005d20: 6170 7065 6e64 293a 0a20 2020 2020 2020  append):.       
+00005a60: 2020 2020 2020 2020 2020 2020 6622 2d2d              f"--
+00005a70: 2d22 290a 0a20 2020 2020 2020 2023 2053  -")..        # S
+00005a80: 6574 2065 7863 6974 6174 696f 6e20 7061  et excitation pa
+00005a90: 7261 6d65 7465 7220 6c69 7374 730a 2020  rameter lists.  
+00005aa0: 2020 2020 2020 7365 6c66 2e63 7572 7265        self.curre
+00005ab0: 6e74 203d 205b 4e6f 6e65 5d20 2a20 6c65  nt = [None] * le
+00005ac0: 6e28 7769 6e64 696e 6773 290a 2020 2020  n(windings).    
+00005ad0: 2020 2020 7365 6c66 2e63 7572 7265 6e74      self.current
+00005ae0: 5f64 656e 7369 7479 203d 205b 4e6f 6e65  _density = [None
+00005af0: 5d20 2a20 6c65 6e28 7769 6e64 696e 6773  ] * len(windings
+00005b00: 290a 2020 2020 2020 2020 7365 6c66 2e76  ).        self.v
+00005b10: 6f6c 7461 6765 203d 205b 4e6f 6e65 5d20  oltage = [None] 
+00005b20: 2a20 6c65 6e28 7769 6e64 696e 6773 290a  * len(windings).
+00005b30: 2020 2020 2020 2020 7365 6c66 2e70 6861          self.pha
+00005b40: 7365 5f64 6567 203d 206e 702e 7a65 726f  se_deg = np.zero
+00005b50: 7328 6c65 6e28 7769 6e64 696e 6773 2929  s(len(windings))
+00005b60: 0a0a 2020 2020 2020 2020 2320 436f 7272  ..        # Corr
+00005b70: 6563 7420 7468 6520 7475 726e 7320 6c69  ect the turns li
+00005b80: 7374 7320 696e 2065 6163 6820 7677 772c  sts in each vww,
+00005b90: 2073 6f20 7468 6174 2074 6865 7920 6861   so that they ha
+00005ba0: 7665 2074 6865 2073 616d 6520 6c65 6e67  ve the same leng
+00005bb0: 7468 0a20 2020 2020 2020 2066 6f72 2077  th.        for w
+00005bc0: 7720 696e 2077 696e 6469 6e67 5f77 696e  w in winding_win
+00005bd0: 646f 7773 3a0a 2020 2020 2020 2020 2020  dows:.          
+00005be0: 2020 666f 7220 7677 7720 696e 2077 772e    for vww in ww.
+00005bf0: 7669 7274 7561 6c5f 7769 6e64 696e 675f  virtual_winding_
+00005c00: 7769 6e64 6f77 733a 0a20 2020 2020 2020  windows:.       
+00005c10: 2020 2020 2020 2020 207a 6572 6f73 5f74           zeros_t
+00005c20: 6f5f 6170 7065 6e64 203d 2028 6c65 6e28  o_append = (len(
+00005c30: 7365 6c66 2e77 696e 6469 6e67 7329 202d  self.windings) -
+00005c40: 206c 656e 2876 7777 2e74 7572 6e73 2929   len(vww.turns))
+00005c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00005c60: 2069 6620 7a65 726f 735f 746f 5f61 7070   if zeros_to_app
+00005c70: 656e 6420 3c20 303a 0a20 2020 2020 2020  end < 0:.       
+00005c80: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+00005c90: 205f 2069 6e20 7261 6e67 6528 302c 202d   _ in range(0, -
+00005ca0: 7a65 726f 735f 746f 5f61 7070 656e 6429  zeros_to_append)
+00005cb0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00005cc0: 2020 2020 2020 2020 2020 7677 772e 7475            vww.tu
+00005cd0: 726e 732e 706f 7028 290a 2020 2020 2020  rns.pop().      
+00005ce0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00005cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00005d00: 2020 2020 666f 7220 5f20 696e 2072 616e      for _ in ran
+00005d10: 6765 2830 2c20 7a65 726f 735f 746f 5f61  ge(0, zeros_to_a
+00005d20: 7070 656e 6429 3a0a 2020 2020 2020 2020  ppend):.        
 00005d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005d40: 2076 7777 2e74 7572 6e73 2e61 7070 656e   vww.turns.appen
-00005d50: 6428 3029 0a0a 2020 2020 6465 6620 7365  d(0)..    def se
-00005d60: 745f 636f 7265 2873 656c 662c 2063 6f72  t_core(self, cor
-00005d70: 653a 2043 6f72 6529 3a0a 2020 2020 2020  e: Core):.      
-00005d80: 2020 2222 2241 6464 2074 6865 2063 6f72    """Add the cor
-00005d90: 6520 746f 2074 6865 206d 6f64 656c 2e0a  e to the model..
-00005da0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00005db0: 636f 7265 3a20 436f 7265 206f 626a 6563  core: Core objec
-00005dc0: 740a 2020 2020 2020 2020 3a74 7970 6520  t.        :type 
-00005dd0: 636f 7265 3a20 436f 7265 0a20 2020 2020  core: Core.     
-00005de0: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-00005df0: 656c 662e 636f 7265 203d 2063 6f72 650a  elf.core = core.
-00005e00: 0a20 2020 2023 2020 2d20 202d 2020 2d20  .    #  -  -  - 
-00005e10: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00005e20: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00005e30: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00005e40: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00005e50: 2d20 202d 2020 2d20 2020 2d20 202d 2020  -  -  -   -  -  
-00005e60: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00005e70: 2020 2d20 202d 2020 2d0a 2020 2020 2320    -  -  -.    # 
-00005e80: 5072 652d 5072 6f63 6573 7369 6e67 0a0a  Pre-Processing..
-00005e90: 2020 2020 6465 6620 6372 6561 7465 5f6d      def create_m
-00005ea0: 6f64 656c 2873 656c 662c 2066 7265 713a  odel(self, freq:
-00005eb0: 2066 6c6f 6174 2c20 736b 696e 5f6d 6573   float, skin_mes
-00005ec0: 685f 6661 6374 6f72 3a20 666c 6f61 7420  h_factor: float 
-00005ed0: 3d20 302e 352c 2070 7265 5f76 6973 7561  = 0.5, pre_visua
-00005ee0: 6c69 7a65 5f67 656f 6d65 7472 793a 2062  lize_geometry: b
-00005ef0: 6f6f 6c20 3d20 4661 6c73 652c 0a20 2020  ool = False,.   
+00005d40: 7677 772e 7475 726e 732e 6170 7065 6e64  vww.turns.append
+00005d50: 2830 290a 0a20 2020 2064 6566 2073 6574  (0)..    def set
+00005d60: 5f63 6f72 6528 7365 6c66 2c20 636f 7265  _core(self, core
+00005d70: 3a20 436f 7265 293a 0a20 2020 2020 2020  : Core):.       
+00005d80: 2022 2222 4164 6420 7468 6520 636f 7265   """Add the core
+00005d90: 2074 6f20 7468 6520 6d6f 6465 6c2e 0a0a   to the model...
+00005da0: 2020 2020 2020 2020 3a70 6172 616d 2063          :param c
+00005db0: 6f72 653a 2043 6f72 6520 6f62 6a65 6374  ore: Core object
+00005dc0: 0a20 2020 2020 2020 203a 7479 7065 2063  .        :type c
+00005dd0: 6f72 653a 2043 6f72 650a 2020 2020 2020  ore: Core.      
+00005de0: 2020 2222 220a 2020 2020 2020 2020 7365    """.        se
+00005df0: 6c66 2e63 6f72 6520 3d20 636f 7265 0a0a  lf.core = core..
+00005e00: 2020 2020 2320 202d 2020 2d20 202d 2020      #  -  -  -  
+00005e10: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00005e20: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+00005e30: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00005e40: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00005e50: 2020 2d20 202d 2020 202d 2020 2d20 202d    -  -   -  -  -
+00005e60: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+00005e70: 202d 2020 2d20 202d 0a20 2020 2023 2050   -  -  -.    # P
+00005e80: 7265 2d50 726f 6365 7373 696e 670a 0a20  re-Processing.. 
+00005e90: 2020 2064 6566 2063 7265 6174 655f 6d6f     def create_mo
+00005ea0: 6465 6c28 7365 6c66 2c20 6672 6571 3a20  del(self, freq: 
+00005eb0: 666c 6f61 742c 2073 6b69 6e5f 6d65 7368  float, skin_mesh
+00005ec0: 5f66 6163 746f 723a 2066 6c6f 6174 203d  _factor: float =
+00005ed0: 2030 2e35 2c20 7072 655f 7669 7375 616c   0.5, pre_visual
+00005ee0: 697a 655f 6765 6f6d 6574 7279 3a20 626f  ize_geometry: bo
+00005ef0: 6f6c 203d 2046 616c 7365 2c0a 2020 2020  ol = False,.    
 00005f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00005f10: 2020 7361 7665 5f70 6e67 3a20 626f 6f6c    save_png: bool
-00005f20: 203d 2046 616c 7365 2c20 636f 6c6f 725f   = False, color_
-00005f30: 7363 6865 6d65 3a20 4469 6374 203d 2066  scheme: Dict = f
-00005f40: 662e 636f 6c6f 7273 5f66 656d 6d74 5f64  f.colors_femmt_d
-00005f50: 6566 6175 6c74 2c0a 2020 2020 2020 2020  efault,.        
-00005f60: 2020 2020 2020 2020 2020 2020 2063 6f6c               col
-00005f70: 6f72 735f 6765 6f6d 6574 7279 3a20 4469  ors_geometry: Di
-00005f80: 6374 203d 2066 662e 636f 6c6f 7273 5f67  ct = ff.colors_g
-00005f90: 656f 6d65 7472 795f 6665 6d6d 745f 6465  eometry_femmt_de
-00005fa0: 6661 756c 742c 2062 656e 6368 6d61 726b  fault, benchmark
-00005fb0: 3a20 626f 6f6c 203d 2046 616c 7365 293a  : bool = False):
-00005fc0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00005fd0: 2020 2020 2043 7265 6174 6520 6120 6d6f       Create a mo
-00005fe0: 6465 6c20 6672 6f6d 2074 6865 2061 6273  del from the abs
-00005ff0: 7472 6163 7420 6765 6f6d 6574 7279 2064  tract geometry d
-00006000: 6573 6372 6970 7469 6f6e 2069 6e73 6964  escription insid
-00006010: 6520 6f6e 656c 6162 2069 6e63 6c75 6469  e onelab includi
-00006020: 6e67 206f 7074 696f 6e61 6c20 6d65 7368  ng optional mesh
-00006030: 2067 656e 6572 6174 696f 6e2e 0a0a 2020   generation...  
-00006040: 2020 2020 2020 3a70 6172 616d 2066 7265        :param fre
-00006050: 713a 2046 7265 7175 656e 6379 205b 487a  q: Frequency [Hz
-00006060: 5d0a 2020 2020 2020 2020 3a74 7970 6520  ].        :type 
-00006070: 6672 6571 3a20 666c 6f61 740a 2020 2020  freq: float.    
-00006080: 2020 2020 3a70 6172 616d 2073 6b69 6e5f      :param skin_
-00006090: 6d65 7368 5f66 6163 746f 723a 205b 6465  mesh_factor: [de
-000060a0: 6661 756c 7420 746f 2030 2e35 5d0a 2020  fault to 0.5].  
-000060b0: 2020 2020 2020 3a74 7970 6520 736b 696e        :type skin
-000060c0: 5f6d 6573 685f 6661 6374 6f72 3a20 666c  _mesh_factor: fl
-000060d0: 6f61 740a 2020 2020 2020 2020 3a70 6172  oat.        :par
-000060e0: 616d 2070 7265 5f76 6973 7561 6c69 7a65  am pre_visualize
-000060f0: 5f67 656f 6d65 7472 793a 2054 7275 6520  _geometry: True 
-00006100: 666f 7220 6120 7072 652d 7669 7375 616c  for a pre-visual
-00006110: 6973 6174 696f 6e20 2865 2e67 2e20 6368  isation (e.g. ch
-00006120: 6563 6b20 796f 7572 2067 656f 6d65 7472  eck your geometr
-00006130: 7929 2061 6e64 2061 6674 6572 2074 6869  y) and after thi
-00006140: 7320 610a 2020 2020 2020 2020 2020 2020  s a.            
-00006150: 7369 6d75 6c61 7469 6f6e 2072 756e 732c  simulation runs,
-00006160: 2046 616c 7365 2066 6f72 2061 2064 6972   False for a dir
-00006170: 6563 7420 7369 6d75 6c61 7469 6f6e 0a20  ect simulation. 
-00006180: 2020 2020 2020 203a 7479 7065 2070 7265         :type pre
-00006190: 5f76 6973 7561 6c69 7a65 5f67 656f 6d65  _visualize_geome
-000061a0: 7472 793a 2062 6f6f 6c0a 2020 2020 2020  try: bool.      
-000061b0: 2020 3a70 6172 616d 2073 6176 655f 706e    :param save_pn
-000061c0: 673a 2054 7275 6520 746f 2073 6176 6520  g: True to save 
-000061d0: 6120 706e 672d 6669 6775 7265 2c20 6661  a png-figure, fa
-000061e0: 6c73 6520 666f 7220 6e6f 2066 6967 7572  lse for no figur
-000061f0: 650a 2020 2020 2020 2020 3a74 7970 6520  e.        :type 
-00006200: 7361 7665 5f70 6e67 3a20 626f 6f6c 0a20  save_png: bool. 
-00006210: 2020 2020 2020 203a 7061 7261 6d20 636f         :param co
-00006220: 6c6f 725f 7363 6865 6d65 3a20 636f 6c6f  lor_scheme: colo
-00006230: 7220 6669 6c65 2028 6465 6669 6e69 7469  r file (definiti
-00006240: 6f6e 2066 6f72 2072 6564 2c20 6772 6565  on for red, gree
-00006250: 6e2c 2062 6c75 652c 202e 2e2e 290a 2020  n, blue, ...).  
-00006260: 2020 2020 2020 3a74 7970 6520 636f 6c6f        :type colo
-00006270: 725f 7363 6865 6d65 3a20 4469 6374 0a20  r_scheme: Dict. 
-00006280: 2020 2020 2020 203a 7061 7261 6d20 636f         :param co
-00006290: 6c6f 7273 5f67 656f 6d65 7472 793a 2064  lors_geometry: d
-000062a0: 6566 696e 6974 696f 6e20 666f 7220 652e  efinition for e.
-000062b0: 672e 2063 6f72 6520 6973 2067 7265 792c  g. core is grey,
-000062c0: 2077 696e 6469 6e67 2069 7320 6f72 616e   winding is oran
-000062d0: 6765 2c20 2e2e 2e0a 2020 2020 2020 2020  ge, ....        
-000062e0: 3a74 7970 6520 636f 6c6f 7273 5f67 656f  :type colors_geo
-000062f0: 6d65 7472 793a 2044 6963 740a 2020 2020  metry: Dict.    
-00006300: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00006310: 6966 2073 656c 662e 636f 7265 2069 7320  if self.core is 
-00006320: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
-00006330: 2020 7261 6973 6520 4578 6365 7074 696f    raise Exceptio
-00006340: 6e28 2241 2063 6f72 6520 636c 6173 7320  n("A core class 
-00006350: 6e65 6564 7320 746f 2062 6520 6164 6465  needs to be adde
-00006360: 6420 746f 2074 6865 206d 6167 6e65 7469  d to the magneti
-00006370: 6320 636f 6d70 6f6e 656e 7422 290a 2020  c component").  
-00006380: 2020 2020 2020 6966 2073 656c 662e 6169        if self.ai
-00006390: 725f 6761 7073 2069 7320 4e6f 6e65 3a0a  r_gaps is None:.
-000063a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000063b0: 2e61 6972 5f67 6170 7320 3d20 4169 7247  .air_gaps = AirG
-000063c0: 6170 7328 4e6f 6e65 2c20 4e6f 6e65 290a  aps(None, None).
-000063d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000063e0: 2e66 656d 6d74 5f70 7269 6e74 2822 4e6f  .femmt_print("No
-000063f0: 2061 6972 2067 6170 7320 6172 6520 6164   air gaps are ad
-00006400: 6465 6422 290a 2020 2020 2020 2020 6966  ded").        if
-00006410: 2073 656c 662e 696e 7375 6c61 7469 6f6e   self.insulation
-00006420: 2069 7320 4e6f 6e65 3a0a 2020 2020 2020   is None:.      
-00006430: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
-00006440: 7074 696f 6e28 2241 6e20 696e 7375 6c61  ption("An insula
-00006450: 7469 6f6e 2063 6c61 7373 206e 6565 6420  tion class need 
-00006460: 746f 2062 6520 6164 6465 6420 746f 2074  to be added to t
-00006470: 6865 206d 6167 6e65 7469 6320 636f 6d70  he magnetic comp
-00006480: 6f6e 656e 7422 290a 2020 2020 2020 2020  onent").        
-00006490: 6966 2073 656c 662e 7769 6e64 696e 675f  if self.winding_
-000064a0: 7769 6e64 6f77 7320 6973 204e 6f6e 653a  windows is None:
-000064b0: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-000064c0: 7365 2045 7863 6570 7469 6f6e 2822 5769  se Exception("Wi
-000064d0: 6e64 696e 6720 7769 6e64 6f77 7320 6172  nding windows ar
-000064e0: 6520 6e6f 7420 7365 7420 7072 6f70 6572  e not set proper
-000064f0: 6c79 2e20 506c 6561 7365 2063 6865 636b  ly. Please check
-00006500: 2074 6865 2077 696e 6469 6e67 2063 7265   the winding cre
-00006510: 6174 696f 6e22 290a 0a20 2020 2020 2020  ation")..       
-00006520: 2069 6620 6265 6e63 686d 6172 6b3a 0a20   if benchmark:. 
-00006530: 2020 2020 2020 2020 2020 2073 7461 7274             start
-00006540: 5f74 696d 6520 3d20 7469 6d65 2e74 696d  _time = time.tim
-00006550: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-00006560: 7365 6c66 2e68 6967 685f 6c65 7665 6c5f  self.high_level_
-00006570: 6765 6f5f 6765 6e28 6672 6571 7565 6e63  geo_gen(frequenc
-00006580: 793d 6672 6571 2c20 736b 696e 5f6d 6573  y=freq, skin_mes
-00006590: 685f 6661 6374 6f72 3d73 6b69 6e5f 6d65  h_factor=skin_me
-000065a0: 7368 5f66 6163 746f 7229 0a20 2020 2020  sh_factor).     
-000065b0: 2020 2020 2020 2068 6967 685f 6c65 7665         high_leve
-000065c0: 6c5f 6765 6f5f 6765 6e5f 7469 6d65 203d  l_geo_gen_time =
-000065d0: 2074 696d 652e 7469 6d65 2829 202d 2073   time.time() - s
-000065e0: 7461 7274 5f74 696d 650a 2020 2020 2020  tart_time.      
-000065f0: 2020 2020 2020 7374 6172 745f 7469 6d65        start_time
-00006600: 203d 2074 696d 652e 7469 6d65 2829 0a20   = time.time(). 
-00006610: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00006620: 6d65 7368 2e67 656e 6572 6174 655f 6879  mesh.generate_hy
-00006630: 6272 6964 5f6d 6573 6828 7669 7375 616c  brid_mesh(visual
-00006640: 697a 655f 6265 666f 7265 3d70 7265 5f76  ize_before=pre_v
-00006650: 6973 7561 6c69 7a65 5f67 656f 6d65 7472  isualize_geometr
-00006660: 792c 2073 6176 655f 706e 673d 7361 7665  y, save_png=save
-00006670: 5f70 6e67 2c0a 2020 2020 2020 2020 2020  _png,.          
+00005f10: 2073 6176 655f 706e 673a 2062 6f6f 6c20   save_png: bool 
+00005f20: 3d20 4661 6c73 652c 2063 6f6c 6f72 5f73  = False, color_s
+00005f30: 6368 656d 653a 2044 6963 7420 3d20 6666  cheme: Dict = ff
+00005f40: 2e63 6f6c 6f72 735f 6665 6d6d 745f 6465  .colors_femmt_de
+00005f50: 6661 756c 742c 0a20 2020 2020 2020 2020  fault,.         
+00005f60: 2020 2020 2020 2020 2020 2020 636f 6c6f              colo
+00005f70: 7273 5f67 656f 6d65 7472 793a 2044 6963  rs_geometry: Dic
+00005f80: 7420 3d20 6666 2e63 6f6c 6f72 735f 6765  t = ff.colors_ge
+00005f90: 6f6d 6574 7279 5f66 656d 6d74 5f64 6566  ometry_femmt_def
+00005fa0: 6175 6c74 2c20 6265 6e63 686d 6172 6b3a  ault, benchmark:
+00005fb0: 2062 6f6f 6c20 3d20 4661 6c73 6529 3a0a   bool = False):.
+00005fc0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00005fd0: 2020 2020 4372 6561 7465 2061 206d 6f64      Create a mod
+00005fe0: 656c 2066 726f 6d20 7468 6520 6162 7374  el from the abst
+00005ff0: 7261 6374 2067 656f 6d65 7472 7920 6465  ract geometry de
+00006000: 7363 7269 7074 696f 6e20 696e 7369 6465  scription inside
+00006010: 206f 6e65 6c61 6220 696e 636c 7564 696e   onelab includin
+00006020: 6720 6f70 7469 6f6e 616c 206d 6573 6820  g optional mesh 
+00006030: 6765 6e65 7261 7469 6f6e 2e0a 0a20 2020  generation...   
+00006040: 2020 2020 203a 7061 7261 6d20 6672 6571       :param freq
+00006050: 3a20 4672 6571 7565 6e63 7920 5b48 7a5d  : Frequency [Hz]
+00006060: 0a20 2020 2020 2020 203a 7479 7065 2066  .        :type f
+00006070: 7265 713a 2066 6c6f 6174 0a20 2020 2020  req: float.     
+00006080: 2020 203a 7061 7261 6d20 736b 696e 5f6d     :param skin_m
+00006090: 6573 685f 6661 6374 6f72 3a20 5b64 6566  esh_factor: [def
+000060a0: 6175 6c74 2074 6f20 302e 355d 0a20 2020  ault to 0.5].   
+000060b0: 2020 2020 203a 7479 7065 2073 6b69 6e5f       :type skin_
+000060c0: 6d65 7368 5f66 6163 746f 723a 2066 6c6f  mesh_factor: flo
+000060d0: 6174 0a20 2020 2020 2020 203a 7061 7261  at.        :para
+000060e0: 6d20 7072 655f 7669 7375 616c 697a 655f  m pre_visualize_
+000060f0: 6765 6f6d 6574 7279 3a20 5472 7565 2066  geometry: True f
+00006100: 6f72 2061 2070 7265 2d76 6973 7561 6c69  or a pre-visuali
+00006110: 7361 7469 6f6e 2028 652e 672e 2063 6865  sation (e.g. che
+00006120: 636b 2079 6f75 7220 6765 6f6d 6574 7279  ck your geometry
+00006130: 2920 616e 6420 6166 7465 7220 7468 6973  ) and after this
+00006140: 2061 0a20 2020 2020 2020 2020 2020 2073   a.            s
+00006150: 696d 756c 6174 696f 6e20 7275 6e73 2c20  imulation runs, 
+00006160: 4661 6c73 6520 666f 7220 6120 6469 7265  False for a dire
+00006170: 6374 2073 696d 756c 6174 696f 6e0a 2020  ct simulation.  
+00006180: 2020 2020 2020 3a74 7970 6520 7072 655f        :type pre_
+00006190: 7669 7375 616c 697a 655f 6765 6f6d 6574  visualize_geomet
+000061a0: 7279 3a20 626f 6f6c 0a20 2020 2020 2020  ry: bool.       
+000061b0: 203a 7061 7261 6d20 7361 7665 5f70 6e67   :param save_png
+000061c0: 3a20 5472 7565 2074 6f20 7361 7665 2061  : True to save a
+000061d0: 2070 6e67 2d66 6967 7572 652c 2066 616c   png-figure, fal
+000061e0: 7365 2066 6f72 206e 6f20 6669 6775 7265  se for no figure
+000061f0: 0a20 2020 2020 2020 203a 7479 7065 2073  .        :type s
+00006200: 6176 655f 706e 673a 2062 6f6f 6c0a 2020  ave_png: bool.  
+00006210: 2020 2020 2020 3a70 6172 616d 2063 6f6c        :param col
+00006220: 6f72 5f73 6368 656d 653a 2063 6f6c 6f72  or_scheme: color
+00006230: 2066 696c 6520 2864 6566 696e 6974 696f   file (definitio
+00006240: 6e20 666f 7220 7265 642c 2067 7265 656e  n for red, green
+00006250: 2c20 626c 7565 2c20 2e2e 2e29 0a20 2020  , blue, ...).   
+00006260: 2020 2020 203a 7479 7065 2063 6f6c 6f72       :type color
+00006270: 5f73 6368 656d 653a 2044 6963 740a 2020  _scheme: Dict.  
+00006280: 2020 2020 2020 3a70 6172 616d 2063 6f6c        :param col
+00006290: 6f72 735f 6765 6f6d 6574 7279 3a20 6465  ors_geometry: de
+000062a0: 6669 6e69 7469 6f6e 2066 6f72 2065 2e67  finition for e.g
+000062b0: 2e20 636f 7265 2069 7320 6772 6579 2c20  . core is grey, 
+000062c0: 7769 6e64 696e 6720 6973 206f 7261 6e67  winding is orang
+000062d0: 652c 202e 2e2e 0a20 2020 2020 2020 203a  e, ....        :
+000062e0: 7479 7065 2063 6f6c 6f72 735f 6765 6f6d  type colors_geom
+000062f0: 6574 7279 3a20 4469 6374 0a20 2020 2020  etry: Dict.     
+00006300: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00006310: 6620 7365 6c66 2e63 6f72 6520 6973 204e  f self.core is N
+00006320: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
+00006330: 2072 6169 7365 2045 7863 6570 7469 6f6e   raise Exception
+00006340: 2822 4120 636f 7265 2063 6c61 7373 206e  ("A core class n
+00006350: 6565 6473 2074 6f20 6265 2061 6464 6564  eeds to be added
+00006360: 2074 6f20 7468 6520 6d61 676e 6574 6963   to the magnetic
+00006370: 2063 6f6d 706f 6e65 6e74 2229 0a20 2020   component").   
+00006380: 2020 2020 2069 6620 7365 6c66 2e61 6972       if self.air
+00006390: 5f67 6170 7320 6973 204e 6f6e 653a 0a20  _gaps is None:. 
+000063a0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000063b0: 6169 725f 6761 7073 203d 2041 6972 4761  air_gaps = AirGa
+000063c0: 7073 284e 6f6e 652c 204e 6f6e 6529 0a20  ps(None, None). 
+000063d0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000063e0: 6665 6d6d 745f 7072 696e 7428 224e 6f20  femmt_print("No 
+000063f0: 6169 7220 6761 7073 2061 7265 2061 6464  air gaps are add
+00006400: 6564 2229 0a20 2020 2020 2020 2069 6620  ed").        if 
+00006410: 7365 6c66 2e69 6e73 756c 6174 696f 6e20  self.insulation 
+00006420: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
+00006430: 2020 2020 2072 6169 7365 2045 7863 6570       raise Excep
+00006440: 7469 6f6e 2822 416e 2069 6e73 756c 6174  tion("An insulat
+00006450: 696f 6e20 636c 6173 7320 6e65 6564 2074  ion class need t
+00006460: 6f20 6265 2061 6464 6564 2074 6f20 7468  o be added to th
+00006470: 6520 6d61 676e 6574 6963 2063 6f6d 706f  e magnetic compo
+00006480: 6e65 6e74 2229 0a20 2020 2020 2020 2069  nent").        i
+00006490: 6620 7365 6c66 2e77 696e 6469 6e67 5f77  f self.winding_w
+000064a0: 696e 646f 7773 2069 7320 4e6f 6e65 3a0a  indows is None:.
+000064b0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+000064c0: 6520 4578 6365 7074 696f 6e28 2257 696e  e Exception("Win
+000064d0: 6469 6e67 2077 696e 646f 7773 2061 7265  ding windows are
+000064e0: 206e 6f74 2073 6574 2070 726f 7065 726c   not set properl
+000064f0: 792e 2050 6c65 6173 6520 6368 6563 6b20  y. Please check 
+00006500: 7468 6520 7769 6e64 696e 6720 6372 6561  the winding crea
+00006510: 7469 6f6e 2229 0a0a 2020 2020 2020 2020  tion")..        
+00006520: 6966 2062 656e 6368 6d61 726b 3a0a 2020  if benchmark:.  
+00006530: 2020 2020 2020 2020 2020 7374 6172 745f            start_
+00006540: 7469 6d65 203d 2074 696d 652e 7469 6d65  time = time.time
+00006550: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
+00006560: 656c 662e 6869 6768 5f6c 6576 656c 5f67  elf.high_level_g
+00006570: 656f 5f67 656e 2866 7265 7175 656e 6379  eo_gen(frequency
+00006580: 3d66 7265 712c 2073 6b69 6e5f 6d65 7368  =freq, skin_mesh
+00006590: 5f66 6163 746f 723d 736b 696e 5f6d 6573  _factor=skin_mes
+000065a0: 685f 6661 6374 6f72 290a 2020 2020 2020  h_factor).      
+000065b0: 2020 2020 2020 6869 6768 5f6c 6576 656c        high_level
+000065c0: 5f67 656f 5f67 656e 5f74 696d 6520 3d20  _geo_gen_time = 
+000065d0: 7469 6d65 2e74 696d 6528 2920 2d20 7374  time.time() - st
+000065e0: 6172 745f 7469 6d65 0a20 2020 2020 2020  art_time.       
+000065f0: 2020 2020 2073 7461 7274 5f74 696d 6520       start_time 
+00006600: 3d20 7469 6d65 2e74 696d 6528 290a 2020  = time.time().  
+00006610: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+00006620: 6573 682e 6765 6e65 7261 7465 5f68 7962  esh.generate_hyb
+00006630: 7269 645f 6d65 7368 2876 6973 7561 6c69  rid_mesh(visuali
+00006640: 7a65 5f62 6566 6f72 653d 7072 655f 7669  ze_before=pre_vi
+00006650: 7375 616c 697a 655f 6765 6f6d 6574 7279  sualize_geometry
+00006660: 2c20 7361 7665 5f70 6e67 3d73 6176 655f  , save_png=save_
+00006670: 706e 672c 0a20 2020 2020 2020 2020 2020  png,.           
 00006680: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000066a0: 2063 6f6c 6f72 5f73 6368 656d 653d 636f   color_scheme=co
-000066b0: 6c6f 725f 7363 6865 6d65 2c20 636f 6c6f  lor_scheme, colo
-000066c0: 7273 5f67 656f 6d65 7472 793d 636f 6c6f  rs_geometry=colo
-000066d0: 7273 5f67 656f 6d65 7472 7929 0a20 2020  rs_geometry).   
-000066e0: 2020 2020 2020 2020 2067 656e 6572 6174           generat
-000066f0: 655f 6879 6272 6964 5f6d 6573 685f 7469  e_hybrid_mesh_ti
-00006700: 6d65 203d 2074 696d 652e 7469 6d65 2829  me = time.time()
-00006710: 202d 2073 7461 7274 5f74 696d 650a 0a20   - start_time.. 
-00006720: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00006730: 6e20 6869 6768 5f6c 6576 656c 5f67 656f  n high_level_geo
-00006740: 5f67 656e 5f74 696d 652c 2067 656e 6572  _gen_time, gener
-00006750: 6174 655f 6879 6272 6964 5f6d 6573 685f  ate_hybrid_mesh_
-00006760: 7469 6d65 0a20 2020 2020 2020 2065 6c73  time.        els
-00006770: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-00006780: 656c 662e 6869 6768 5f6c 6576 656c 5f67  elf.high_level_g
-00006790: 656f 5f67 656e 2866 7265 7175 656e 6379  eo_gen(frequency
-000067a0: 3d66 7265 712c 2073 6b69 6e5f 6d65 7368  =freq, skin_mesh
-000067b0: 5f66 6163 746f 723d 736b 696e 5f6d 6573  _factor=skin_mes
-000067c0: 685f 6661 6374 6f72 290a 2020 2020 2020  h_factor).      
-000067d0: 2020 2020 2020 7365 6c66 2e6d 6573 682e        self.mesh.
-000067e0: 6765 6e65 7261 7465 5f68 7962 7269 645f  generate_hybrid_
-000067f0: 6d65 7368 2876 6973 7561 6c69 7a65 5f62  mesh(visualize_b
-00006800: 6566 6f72 653d 7072 655f 7669 7375 616c  efore=pre_visual
-00006810: 697a 655f 6765 6f6d 6574 7279 2c20 7361  ize_geometry, sa
-00006820: 7665 5f70 6e67 3d73 6176 655f 706e 672c  ve_png=save_png,
-00006830: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000066a0: 636f 6c6f 725f 7363 6865 6d65 3d63 6f6c  color_scheme=col
+000066b0: 6f72 5f73 6368 656d 652c 2063 6f6c 6f72  or_scheme, color
+000066c0: 735f 6765 6f6d 6574 7279 3d63 6f6c 6f72  s_geometry=color
+000066d0: 735f 6765 6f6d 6574 7279 290a 2020 2020  s_geometry).    
+000066e0: 2020 2020 2020 2020 6765 6e65 7261 7465          generate
+000066f0: 5f68 7962 7269 645f 6d65 7368 5f74 696d  _hybrid_mesh_tim
+00006700: 6520 3d20 7469 6d65 2e74 696d 6528 2920  e = time.time() 
+00006710: 2d20 7374 6172 745f 7469 6d65 0a0a 2020  - start_time..  
+00006720: 2020 2020 2020 2020 2020 7265 7475 726e            return
+00006730: 2068 6967 685f 6c65 7665 6c5f 6765 6f5f   high_level_geo_
+00006740: 6765 6e5f 7469 6d65 2c20 6765 6e65 7261  gen_time, genera
+00006750: 7465 5f68 7962 7269 645f 6d65 7368 5f74  te_hybrid_mesh_t
+00006760: 696d 650a 2020 2020 2020 2020 656c 7365  ime.        else
+00006770: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00006780: 6c66 2e68 6967 685f 6c65 7665 6c5f 6765  lf.high_level_ge
+00006790: 6f5f 6765 6e28 6672 6571 7565 6e63 793d  o_gen(frequency=
+000067a0: 6672 6571 2c20 736b 696e 5f6d 6573 685f  freq, skin_mesh_
+000067b0: 6661 6374 6f72 3d73 6b69 6e5f 6d65 7368  factor=skin_mesh
+000067c0: 5f66 6163 746f 7229 0a20 2020 2020 2020  _factor).       
+000067d0: 2020 2020 2073 656c 662e 6d65 7368 2e67       self.mesh.g
+000067e0: 656e 6572 6174 655f 6879 6272 6964 5f6d  enerate_hybrid_m
+000067f0: 6573 6828 7669 7375 616c 697a 655f 6265  esh(visualize_be
+00006800: 666f 7265 3d70 7265 5f76 6973 7561 6c69  fore=pre_visuali
+00006810: 7a65 5f67 656f 6d65 7472 792c 2073 6176  ze_geometry, sav
+00006820: 655f 706e 673d 7361 7665 5f70 6e67 2c0a  e_png=save_png,.
+00006830: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006850: 2020 2020 2020 2020 2020 2020 636f 6c6f              colo
-00006860: 725f 7363 6865 6d65 3d63 6f6c 6f72 5f73  r_scheme=color_s
-00006870: 6368 656d 652c 2063 6f6c 6f72 735f 6765  cheme, colors_ge
-00006880: 6f6d 6574 7279 3d63 6f6c 6f72 735f 6765  ometry=colors_ge
-00006890: 6f6d 6574 7279 290a 0a20 2020 2020 2020  ometry)..       
-000068a0: 2069 6620 7365 6c66 2e63 6f6d 706f 6e65   if self.compone
-000068b0: 6e74 5f74 7970 6520 696e 205b 436f 6d70  nt_type in [Comp
-000068c0: 6f6e 656e 7454 7970 652e 496e 6475 6374  onentType.Induct
-000068d0: 6f72 2c20 436f 6d70 6f6e 656e 7454 7970  or, ComponentTyp
-000068e0: 652e 5472 616e 7366 6f72 6d65 722c 2043  e.Transformer, C
-000068f0: 6f6d 706f 6e65 6e74 5479 7065 2e49 6e74  omponentType.Int
-00006900: 6567 7261 7465 6454 7261 6e73 666f 726d  egratedTransform
-00006910: 6572 5d3a 0a20 2020 2020 2020 2020 2020  er]:.           
-00006920: 2073 656c 662e 6c6f 675f 636f 6f72 6469   self.log_coordi
-00006930: 6e61 7465 735f 6465 7363 7269 7074 696f  nates_descriptio
-00006940: 6e28 290a 0a20 2020 2064 6566 2067 6574  n()..    def get
-00006950: 5f73 696e 676c 655f 636f 6d70 6c65 785f  _single_complex_
-00006960: 7065 726d 6561 6269 6c69 7479 2873 656c  permeability(sel
-00006970: 6629 3a0a 2020 2020 2020 2020 2222 220a  f):.        """.
-00006980: 2020 2020 2020 2020 5265 6164 2074 6865          Read the
-00006990: 2063 6f6d 706c 6578 2070 6572 6d65 6162   complex permeab
-000069a0: 696c 6974 7920 6672 6f6d 2074 6865 206d  ility from the m
-000069b0: 6174 6572 6961 6c20 6461 7461 6261 7365  aterial database
-000069c0: 2e0a 0a20 2020 2020 2020 2049 6e20 6361  ...        In ca
-000069d0: 7365 206f 6620 616d 706c 6974 7564 6520  se of amplitude 
-000069e0: 6465 7065 6e64 656e 7420 6d61 7465 7269  dependent materi
-000069f0: 616c 2064 6566 696e 6974 696f 6e2c 2074  al definition, t
-00006a00: 6865 2069 6e69 7469 616c 2070 6572 6d65  he initial perme
-00006a10: 6162 696c 6974 7920 6973 2075 7365 642e  ability is used.
-00006a20: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-00006a30: 3a20 636f 6d70 6c65 780a 2020 2020 2020  : complex.      
-00006a40: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-00006a50: 2073 656c 662e 636f 7265 2e70 6572 6d65   self.core.perme
-00006a60: 6162 696c 6974 795f 7479 7065 203d 3d20  ability_type == 
-00006a70: 5065 726d 6561 6269 6c69 7479 5479 7065  PermeabilityType
-00006a80: 2e46 726f 6d44 6174 613a 0a20 2020 2020  .FromData:.     
-00006a90: 2020 2020 2020 2023 2074 616b 6520 6461         # take da
-00006aa0: 7461 7368 6565 7420 7661 6c75 6520 6672  tasheet value fr
-00006ab0: 6f6d 2064 6174 6162 6173 650a 2020 2020  om database.    
-00006ac0: 2020 2020 2020 2020 636f 6d70 6c65 785f          complex_
-00006ad0: 7065 726d 6561 6269 6c69 7479 203d 206d  permeability = m
-00006ae0: 755f 3020 2a20 6d64 622e 4d61 7465 7269  u_0 * mdb.Materi
-00006af0: 616c 4461 7461 6261 7365 280a 2020 2020  alDatabase(.    
-00006b00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00006b10: 2e76 6572 626f 7369 7479 203d 3d20 5665  .verbosity == Ve
-00006b20: 7262 6f73 6974 792e 5369 6c65 6e74 292e  rbosity.Silent).
-00006b30: 6765 745f 6d61 7465 7269 616c 5f61 7474  get_material_att
-00006b40: 7269 6275 7465 286d 6174 6572 6961 6c5f  ribute(material_
-00006b50: 6e61 6d65 3d73 656c 662e 636f 7265 2e6d  name=self.core.m
-00006b60: 6174 6572 6961 6c2c 0a20 2020 2020 2020  aterial,.       
+00006850: 2020 2020 2020 2020 2020 2063 6f6c 6f72             color
+00006860: 5f73 6368 656d 653d 636f 6c6f 725f 7363  _scheme=color_sc
+00006870: 6865 6d65 2c20 636f 6c6f 7273 5f67 656f  heme, colors_geo
+00006880: 6d65 7472 793d 636f 6c6f 7273 5f67 656f  metry=colors_geo
+00006890: 6d65 7472 7929 0a0a 2020 2020 2020 2020  metry)..        
+000068a0: 6966 2073 656c 662e 636f 6d70 6f6e 656e  if self.componen
+000068b0: 745f 7479 7065 2069 6e20 5b43 6f6d 706f  t_type in [Compo
+000068c0: 6e65 6e74 5479 7065 2e49 6e64 7563 746f  nentType.Inducto
+000068d0: 722c 2043 6f6d 706f 6e65 6e74 5479 7065  r, ComponentType
+000068e0: 2e54 7261 6e73 666f 726d 6572 2c20 436f  .Transformer, Co
+000068f0: 6d70 6f6e 656e 7454 7970 652e 496e 7465  mponentType.Inte
+00006900: 6772 6174 6564 5472 616e 7366 6f72 6d65  gratedTransforme
+00006910: 725d 3a0a 2020 2020 2020 2020 2020 2020  r]:.            
+00006920: 7365 6c66 2e6c 6f67 5f63 6f6f 7264 696e  self.log_coordin
+00006930: 6174 6573 5f64 6573 6372 6970 7469 6f6e  ates_description
+00006940: 2829 0a0a 2020 2020 6465 6620 6765 745f  ()..    def get_
+00006950: 7369 6e67 6c65 5f63 6f6d 706c 6578 5f70  single_complex_p
+00006960: 6572 6d65 6162 696c 6974 7928 7365 6c66  ermeability(self
+00006970: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+00006980: 2020 2020 2020 2052 6561 6420 7468 6520         Read the 
+00006990: 636f 6d70 6c65 7820 7065 726d 6561 6269  complex permeabi
+000069a0: 6c69 7479 2066 726f 6d20 7468 6520 6d61  lity from the ma
+000069b0: 7465 7269 616c 2064 6174 6162 6173 652e  terial database.
+000069c0: 0a0a 2020 2020 2020 2020 496e 2063 6173  ..        In cas
+000069d0: 6520 6f66 2061 6d70 6c69 7475 6465 2064  e of amplitude d
+000069e0: 6570 656e 6465 6e74 206d 6174 6572 6961  ependent materia
+000069f0: 6c20 6465 6669 6e69 7469 6f6e 2c20 7468  l definition, th
+00006a00: 6520 696e 6974 6961 6c20 7065 726d 6561  e initial permea
+00006a10: 6269 6c69 7479 2069 7320 7573 6564 2e0a  bility is used..
+00006a20: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00006a30: 2063 6f6d 706c 6578 0a20 2020 2020 2020   complex.       
+00006a40: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
+00006a50: 7365 6c66 2e63 6f72 652e 7065 726d 6561  self.core.permea
+00006a60: 6269 6c69 7479 5f74 7970 6520 3d3d 2050  bility_type == P
+00006a70: 6572 6d65 6162 696c 6974 7954 7970 652e  ermeabilityType.
+00006a80: 4672 6f6d 4461 7461 3a0a 2020 2020 2020  FromData:.      
+00006a90: 2020 2020 2020 2320 7461 6b65 2064 6174        # take dat
+00006aa0: 6173 6865 6574 2076 616c 7565 2066 726f  asheet value fro
+00006ab0: 6d20 6461 7461 6261 7365 0a20 2020 2020  m database.     
+00006ac0: 2020 2020 2020 2063 6f6d 706c 6578 5f70         complex_p
+00006ad0: 6572 6d65 6162 696c 6974 7920 3d20 6d75  ermeability = mu
+00006ae0: 5f30 202a 206d 6462 2e4d 6174 6572 6961  _0 * mdb.Materia
+00006af0: 6c44 6174 6162 6173 6528 0a20 2020 2020  lDatabase(.     
+00006b00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00006b10: 7665 7262 6f73 6974 7920 3d3d 2056 6572  verbosity == Ver
+00006b20: 626f 7369 7479 2e53 696c 656e 7429 2e67  bosity.Silent).g
+00006b30: 6574 5f6d 6174 6572 6961 6c5f 6174 7472  et_material_attr
+00006b40: 6962 7574 6528 6d61 7465 7269 616c 5f6e  ibute(material_n
+00006b50: 616d 653d 7365 6c66 2e63 6f72 652e 6d61  ame=self.core.ma
+00006b60: 7465 7269 616c 2c0a 2020 2020 2020 2020  terial,.        
 00006b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006bb0: 2020 2020 6174 7472 6962 7574 653d 2269      attribute="i
-00006bc0: 6e69 7469 616c 5f70 6572 6d65 6162 696c  nitial_permeabil
-00006bd0: 6974 7922 290a 2020 2020 2020 2020 2020  ity").          
-00006be0: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
-00006bf0: 6e74 2866 227b 636f 6d70 6c65 785f 7065  nt(f"{complex_pe
-00006c00: 726d 6561 6269 6c69 7479 203d 207d 2229  rmeability = }")
-00006c10: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00006c20: 2e63 6f72 652e 7065 726d 6561 6269 6c69  .core.permeabili
-00006c30: 7479 5f74 7970 6520 3d3d 2050 6572 6d65  ty_type == Perme
-00006c40: 6162 696c 6974 7954 7970 652e 4669 7865  abilityType.Fixe
-00006c50: 644c 6f73 7341 6e67 6c65 3a0a 2020 2020  dLossAngle:.    
-00006c60: 2020 2020 2020 2020 636f 6d70 6c65 785f          complex_
-00006c70: 7065 726d 6561 6269 6c69 7479 203d 206d  permeability = m
-00006c80: 755f 3020 2a20 7365 6c66 2e63 6f72 652e  u_0 * self.core.
-00006c90: 6d75 5f72 5f61 6273 202a 2063 6f6d 706c  mu_r_abs * compl
-00006ca0: 6578 286e 702e 636f 7328 6e70 2e64 6567  ex(np.cos(np.deg
-00006cb0: 3272 6164 2873 656c 662e 636f 7265 2e70  2rad(self.core.p
-00006cc0: 6869 5f6d 755f 6465 6729 292c 0a20 2020  hi_mu_deg)),.   
+00006bb0: 2020 2061 7474 7269 6275 7465 3d22 696e     attribute="in
+00006bc0: 6974 6961 6c5f 7065 726d 6561 6269 6c69  itial_permeabili
+00006bd0: 7479 2229 0a20 2020 2020 2020 2020 2020  ty").           
+00006be0: 2073 656c 662e 6665 6d6d 745f 7072 696e   self.femmt_prin
+00006bf0: 7428 6622 7b63 6f6d 706c 6578 5f70 6572  t(f"{complex_per
+00006c00: 6d65 6162 696c 6974 793d 7d22 290a 2020  meability=}").  
+00006c10: 2020 2020 2020 6966 2073 656c 662e 636f        if self.co
+00006c20: 7265 2e70 6572 6d65 6162 696c 6974 795f  re.permeability_
+00006c30: 7479 7065 203d 3d20 5065 726d 6561 6269  type == Permeabi
+00006c40: 6c69 7479 5479 7065 2e46 6978 6564 4c6f  lityType.FixedLo
+00006c50: 7373 416e 676c 653a 0a20 2020 2020 2020  ssAngle:.       
+00006c60: 2020 2020 2063 6f6d 706c 6578 5f70 6572       complex_per
+00006c70: 6d65 6162 696c 6974 7920 3d20 6d75 5f30  meability = mu_0
+00006c80: 202a 2073 656c 662e 636f 7265 2e6d 755f   * self.core.mu_
+00006c90: 725f 6162 7320 2a20 636f 6d70 6c65 7828  r_abs * complex(
+00006ca0: 6e70 2e63 6f73 286e 702e 6465 6732 7261  np.cos(np.deg2ra
+00006cb0: 6428 7365 6c66 2e63 6f72 652e 7068 695f  d(self.core.phi_
+00006cc0: 6d75 5f64 6567 2929 2c0a 2020 2020 2020  mu_deg)),.      
 00006cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00006d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00006d10: 2020 2020 6e70 2e73 696e 286e 702e 6465      np.sin(np.de
-00006d20: 6732 7261 6428 7365 6c66 2e63 6f72 652e  g2rad(self.core.
-00006d30: 7068 695f 6d75 5f64 6567 2929 290a 2020  phi_mu_deg))).  
-00006d40: 2020 2020 2020 6966 2073 656c 662e 636f        if self.co
-00006d50: 7265 2e70 6572 6d65 6162 696c 6974 795f  re.permeability_
-00006d60: 7479 7065 203d 3d20 5065 726d 6561 6269  type == Permeabi
-00006d70: 6c69 7479 5479 7065 2e52 6561 6c56 616c  lityType.RealVal
-00006d80: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
-00006d90: 636f 6d70 6c65 785f 7065 726d 6561 6269  complex_permeabi
-00006da0: 6c69 7479 203d 206d 755f 3020 2a20 7365  lity = mu_0 * se
-00006db0: 6c66 2e63 6f72 652e 6d75 5f72 5f61 6273  lf.core.mu_r_abs
-00006dc0: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-00006dd0: 636f 6d70 6c65 785f 7065 726d 6561 6269  complex_permeabi
-00006de0: 6c69 7479 0a0a 2020 2020 6465 6620 6368  lity..    def ch
-00006df0: 6563 6b5f 6d6f 6465 6c5f 6d71 735f 636f  eck_model_mqs_co
-00006e00: 6e64 6974 696f 6e28 7365 6c66 2920 2d3e  ndition(self) ->
-00006e10: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
-00006e20: 2222 0a20 2020 2020 2020 2043 6865 636b  "".        Check
-00006e30: 2074 6865 206d 6f64 656c 2066 6f72 206d   the model for m
-00006e40: 6167 6e65 746f 2d71 7561 7369 2d73 7461  agneto-quasi-sta
-00006e50: 7469 6320 636f 6e64 6974 696f 6e20 666f  tic condition fo
-00006e60: 7220 6672 6571 7565 6e63 6965 7320 213d  r frequencies !=
-00006e70: 2030 2e0a 0a20 2020 2020 2020 2049 7320   0...        Is 
-00006e80: 6361 6c6c 6564 2062 6566 6f72 6520 6120  called before a 
-00006e90: 7369 6d75 6c61 7469 6f6e 2e0a 2020 2020  simulation..    
-00006ea0: 2020 2020 4c6f 6164 7320 7468 6520 7065      Loads the pe
-00006eb0: 726d 6974 7469 7669 7479 2066 726f 6d20  rmittivity from 
-00006ec0: 7468 6520 6d61 7465 7269 616c 2064 6174  the material dat
-00006ed0: 6162 6173 6520 286d 6561 7375 7265 6d65  abase (measureme
-00006ee0: 6e74 206f 7220 6461 7461 7368 6565 7429  nt or datasheet)
-00006ef0: 2061 6e64 2063 616c 6375 6c61 7465 7320   and calculates 
-00006f00: 7468 650a 2020 2020 2020 2020 7265 736f  the.        reso
-00006f10: 6e61 6e63 6520 7261 7469 6f20 3d20 6469  nance ratio = di
-00006f20: 616d 6574 6572 5f74 6f5f 7761 7665 6c65  ameter_to_wavele
-00006f30: 6e67 7468 5f72 6174 696f 202f 2064 6961  ngth_ratio / dia
-00006f40: 6d65 7465 725f 746f 5f77 6176 656c 656e  meter_to_wavelen
-00006f50: 6774 685f 7261 7469 6f5f 6f66 5f66 6972  gth_ratio_of_fir
-00006f60: 7374 5f72 6573 6f6e 616e 6365 0a0a 2020  st_resonance..  
-00006f70: 2020 2020 2020 3a72 6574 7572 6e3a 204e        :return: N
-00006f80: 6f6e 650a 2020 2020 2020 2020 2222 220a  one.        """.
-00006f90: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00006fa0: 6672 6571 7565 6e63 7920 213d 2030 3a0a  frequency != 0:.
-00006fb0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00006fc0: 656c 662e 636f 7265 2e70 6572 6d69 7474  elf.core.permitt
-00006fd0: 6976 6974 795b 2264 6174 6173 6f75 7263  ivity["datasourc
-00006fe0: 6522 5d20 3d3d 2022 6d65 6173 7572 656d  e"] == "measurem
-00006ff0: 656e 7473 2220 6f72 2073 656c 662e 636f  ents" or self.co
-00007000: 7265 2e70 6572 6d69 7474 6976 6974 795b  re.permittivity[
-00007010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007020: 2020 2020 2022 6461 7461 736f 7572 6365       "datasource
-00007030: 225d 203d 3d20 2264 6174 6173 6865 6574  "] == "datasheet
-00007040: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
-00007050: 2020 2065 7073 696c 6f6e 5f72 2c20 6570     epsilon_r, ep
-00007060: 7369 6c6f 6e5f 7068 695f 6465 6720 3d20  silon_phi_deg = 
-00007070: 6d64 622e 4d61 7465 7269 616c 4461 7461  mdb.MaterialData
-00007080: 6261 7365 2873 656c 662e 7665 7262 6f73  base(self.verbos
-00007090: 6974 7920 3d3d 2056 6572 626f 7369 7479  ity == Verbosity
-000070a0: 2e53 696c 656e 7429 2e67 6574 5f70 6572  .Silent).get_per
-000070b0: 6d69 7474 6976 6974 7928 0a20 2020 2020  mittivity(.     
-000070c0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-000070d0: 656d 7065 7261 7475 7265 3d73 656c 662e  emperature=self.
-000070e0: 636f 7265 2e74 656d 7065 7261 7475 7265  core.temperature
-000070f0: 2c20 6672 6571 7565 6e63 793d 7365 6c66  , frequency=self
-00007100: 2e66 7265 7175 656e 6379 2c0a 2020 2020  .frequency,.    
-00007110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007120: 6d61 7465 7269 616c 5f6e 616d 653d 7365  material_name=se
-00007130: 6c66 2e63 6f72 652e 6d61 7465 7269 616c  lf.core.material
-00007140: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00007150: 2020 2020 2020 6461 7461 736f 7572 6365        datasource
-00007160: 3d73 656c 662e 636f 7265 2e70 6572 6d69  =self.core.permi
-00007170: 7474 6976 6974 795b 2264 6174 6173 6f75  ttivity["datasou
-00007180: 7263 6522 5d2c 0a20 2020 2020 2020 2020  rce"],.         
-00007190: 2020 2020 2020 2020 2020 2064 6174 6174             datat
-000071a0: 7970 653d 7365 6c66 2e63 6f72 652e 7065  ype=self.core.pe
-000071b0: 726d 6974 7469 7669 7479 5b22 6461 7461  rmittivity["data
-000071c0: 7479 7065 225d 2c0a 2020 2020 2020 2020  type"],.        
-000071d0: 2020 2020 2020 2020 2020 2020 6d65 6173              meas
-000071e0: 7572 656d 656e 745f 7365 7475 703d 7365  urement_setup=se
-000071f0: 6c66 2e63 6f72 652e 7065 726d 6974 7469  lf.core.permitti
-00007200: 7669 7479 5b22 6d65 6173 7572 656d 656e  vity["measuremen
-00007210: 745f 7365 7475 7022 5d2c 0a20 2020 2020  t_setup"],.     
-00007220: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00007230: 6e74 6572 706f 6c61 7469 6f6e 5f74 7970  nterpolation_typ
-00007240: 653d 226c 696e 6561 7222 290a 0a20 2020  e="linear")..   
-00007250: 2020 2020 2020 2020 2020 2020 2063 6f6d               com
-00007260: 706c 6578 5f70 6572 6d69 7474 6976 6974  plex_permittivit
-00007270: 7920 3d20 6570 7369 6c6f 6e5f 3020 2a20  y = epsilon_0 * 
-00007280: 6570 7369 6c6f 6e5f 7220 2a20 636f 6d70  epsilon_r * comp
-00007290: 6c65 7828 6e70 2e63 6f73 286e 702e 6465  lex(np.cos(np.de
-000072a0: 6732 7261 6428 6570 7369 6c6f 6e5f 7068  g2rad(epsilon_ph
-000072b0: 695f 6465 6729 292c 0a20 2020 2020 2020  i_deg)),.       
+00006d10: 206e 702e 7369 6e28 6e70 2e64 6567 3272   np.sin(np.deg2r
+00006d20: 6164 2873 656c 662e 636f 7265 2e70 6869  ad(self.core.phi
+00006d30: 5f6d 755f 6465 6729 2929 0a20 2020 2020  _mu_deg))).     
+00006d40: 2020 2069 6620 7365 6c66 2e63 6f72 652e     if self.core.
+00006d50: 7065 726d 6561 6269 6c69 7479 5f74 7970  permeability_typ
+00006d60: 6520 3d3d 2050 6572 6d65 6162 696c 6974  e == Permeabilit
+00006d70: 7954 7970 652e 5265 616c 5661 6c75 653a  yType.RealValue:
+00006d80: 0a20 2020 2020 2020 2020 2020 2063 6f6d  .            com
+00006d90: 706c 6578 5f70 6572 6d65 6162 696c 6974  plex_permeabilit
+00006da0: 7920 3d20 6d75 5f30 202a 2073 656c 662e  y = mu_0 * self.
+00006db0: 636f 7265 2e6d 755f 725f 6162 730a 2020  core.mu_r_abs.  
+00006dc0: 2020 2020 2020 7265 7475 726e 2063 6f6d        return com
+00006dd0: 706c 6578 5f70 6572 6d65 6162 696c 6974  plex_permeabilit
+00006de0: 790a 0a20 2020 2064 6566 2063 6865 636b  y..    def check
+00006df0: 5f6d 6f64 656c 5f6d 7173 5f63 6f6e 6469  _model_mqs_condi
+00006e00: 7469 6f6e 2873 656c 6629 202d 3e20 4e6f  tion(self) -> No
+00006e10: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
+00006e20: 2020 2020 2020 2020 4368 6563 6b20 7468          Check th
+00006e30: 6520 6d6f 6465 6c20 666f 7220 6d61 676e  e model for magn
+00006e40: 6574 6f2d 7175 6173 692d 7374 6174 6963  eto-quasi-static
+00006e50: 2063 6f6e 6469 7469 6f6e 2066 6f72 2066   condition for f
+00006e60: 7265 7175 656e 6369 6573 2021 3d20 302e  requencies != 0.
+00006e70: 0a0a 2020 2020 2020 2020 4973 2063 616c  ..        Is cal
+00006e80: 6c65 6420 6265 666f 7265 2061 2073 696d  led before a sim
+00006e90: 756c 6174 696f 6e2e 0a20 2020 2020 2020  ulation..       
+00006ea0: 204c 6f61 6473 2074 6865 2070 6572 6d69   Loads the permi
+00006eb0: 7474 6976 6974 7920 6672 6f6d 2074 6865  ttivity from the
+00006ec0: 206d 6174 6572 6961 6c20 6461 7461 6261   material databa
+00006ed0: 7365 2028 6d65 6173 7572 656d 656e 7420  se (measurement 
+00006ee0: 6f72 2064 6174 6173 6865 6574 2920 616e  or datasheet) an
+00006ef0: 6420 6361 6c63 756c 6174 6573 2074 6865  d calculates the
+00006f00: 0a20 2020 2020 2020 2072 6573 6f6e 616e  .        resonan
+00006f10: 6365 2072 6174 696f 203d 2064 6961 6d65  ce ratio = diame
+00006f20: 7465 725f 746f 5f77 6176 656c 656e 6774  ter_to_wavelengt
+00006f30: 685f 7261 7469 6f20 2f20 6469 616d 6574  h_ratio / diamet
+00006f40: 6572 5f74 6f5f 7761 7665 6c65 6e67 7468  er_to_wavelength
+00006f50: 5f72 6174 696f 5f6f 665f 6669 7273 745f  _ratio_of_first_
+00006f60: 7265 736f 6e61 6e63 650a 0a20 2020 2020  resonance..     
+00006f70: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
+00006f80: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00006f90: 2020 2020 2069 6620 7365 6c66 2e66 7265       if self.fre
+00006fa0: 7175 656e 6379 2021 3d20 303a 0a20 2020  quency != 0:.   
+00006fb0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00006fc0: 2e63 6f72 652e 7065 726d 6974 7469 7669  .core.permittivi
+00006fd0: 7479 5b22 6461 7461 736f 7572 6365 225d  ty["datasource"]
+00006fe0: 203d 3d20 226d 6561 7375 7265 6d65 6e74   == "measurement
+00006ff0: 7322 206f 7220 7365 6c66 2e63 6f72 652e  s" or self.core.
+00007000: 7065 726d 6974 7469 7669 7479 5b0a 2020  permittivity[.  
+00007010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007020: 2020 2264 6174 6173 6f75 7263 6522 5d20    "datasource"] 
+00007030: 3d3d 2022 6461 7461 7368 6565 7422 3a0a  == "datasheet":.
+00007040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007050: 6570 7369 6c6f 6e5f 722c 2065 7073 696c  epsilon_r, epsil
+00007060: 6f6e 5f70 6869 5f64 6567 203d 206d 6462  on_phi_deg = mdb
+00007070: 2e4d 6174 6572 6961 6c44 6174 6162 6173  .MaterialDatabas
+00007080: 6528 7365 6c66 2e76 6572 626f 7369 7479  e(self.verbosity
+00007090: 203d 3d20 5665 7262 6f73 6974 792e 5369   == Verbosity.Si
+000070a0: 6c65 6e74 292e 6765 745f 7065 726d 6974  lent).get_permit
+000070b0: 7469 7669 7479 280a 2020 2020 2020 2020  tivity(.        
+000070c0: 2020 2020 2020 2020 2020 2020 7465 6d70              temp
+000070d0: 6572 6174 7572 653d 7365 6c66 2e63 6f72  erature=self.cor
+000070e0: 652e 7465 6d70 6572 6174 7572 652c 2066  e.temperature, f
+000070f0: 7265 7175 656e 6379 3d73 656c 662e 6672  requency=self.fr
+00007100: 6571 7565 6e63 792c 0a20 2020 2020 2020  equency,.       
+00007110: 2020 2020 2020 2020 2020 2020 206d 6174               mat
+00007120: 6572 6961 6c5f 6e61 6d65 3d73 656c 662e  erial_name=self.
+00007130: 636f 7265 2e6d 6174 6572 6961 6c2c 0a20  core.material,. 
+00007140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007150: 2020 2064 6174 6173 6f75 7263 653d 7365     datasource=se
+00007160: 6c66 2e63 6f72 652e 7065 726d 6974 7469  lf.core.permitti
+00007170: 7669 7479 5b22 6461 7461 736f 7572 6365  vity["datasource
+00007180: 225d 2c0a 2020 2020 2020 2020 2020 2020  "],.            
+00007190: 2020 2020 2020 2020 6461 7461 7479 7065          datatype
+000071a0: 3d73 656c 662e 636f 7265 2e70 6572 6d69  =self.core.permi
+000071b0: 7474 6976 6974 795b 2264 6174 6174 7970  ttivity["datatyp
+000071c0: 6522 5d2c 0a20 2020 2020 2020 2020 2020  e"],.           
+000071d0: 2020 2020 2020 2020 206d 6561 7375 7265           measure
+000071e0: 6d65 6e74 5f73 6574 7570 3d73 656c 662e  ment_setup=self.
+000071f0: 636f 7265 2e70 6572 6d69 7474 6976 6974  core.permittivit
+00007200: 795b 226d 6561 7375 7265 6d65 6e74 5f73  y["measurement_s
+00007210: 6574 7570 225d 2c0a 2020 2020 2020 2020  etup"],.        
+00007220: 2020 2020 2020 2020 2020 2020 696e 7465              inte
+00007230: 7270 6f6c 6174 696f 6e5f 7479 7065 3d22  rpolation_type="
+00007240: 6c69 6e65 6172 2229 0a0a 2020 2020 2020  linear")..      
+00007250: 2020 2020 2020 2020 2020 636f 6d70 6c65            comple
+00007260: 785f 7065 726d 6974 7469 7669 7479 203d  x_permittivity =
+00007270: 2065 7073 696c 6f6e 5f30 202a 2065 7073   epsilon_0 * eps
+00007280: 696c 6f6e 5f72 202a 2063 6f6d 706c 6578  ilon_r * complex
+00007290: 286e 702e 636f 7328 6e70 2e64 6567 3272  (np.cos(np.deg2r
+000072a0: 6164 2865 7073 696c 6f6e 5f70 6869 5f64  ad(epsilon_phi_d
+000072b0: 6567 2929 2c0a 2020 2020 2020 2020 2020  eg)),.          
 000072c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000072d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000072e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000072f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007300: 6e70 2e73 696e 286e 702e 6465 6732 7261  np.sin(np.deg2ra
-00007310: 6428 6570 7369 6c6f 6e5f 7068 695f 6465  d(epsilon_phi_de
-00007320: 6729 2929 0a20 2020 2020 2020 2020 2020  g))).           
-00007330: 2020 2020 2073 656c 662e 6665 6d6d 745f       self.femmt_
-00007340: 7072 696e 7428 6622 7b63 6f6d 706c 6578  print(f"{complex
-00007350: 5f70 6572 6d69 7474 6976 6974 7920 3d20  _permittivity = 
-00007360: 7d5c 6e22 0a20 2020 2020 2020 2020 2020  }\n".           
+000072f0: 2020 2020 2020 2020 2020 2020 206e 702e               np.
+00007300: 7369 6e28 6e70 2e64 6567 3272 6164 2865  sin(np.deg2rad(e
+00007310: 7073 696c 6f6e 5f70 6869 5f64 6567 2929  psilon_phi_deg))
+00007320: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00007330: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
+00007340: 6e74 2866 227b 636f 6d70 6c65 785f 7065  nt(f"{complex_pe
+00007350: 726d 6974 7469 7669 7479 3d7d 5c6e 220a  rmittivity=}\n".
+00007360: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00007370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007380: 2020 2020 2020 6622 7b65 7073 696c 6f6e        f"{epsilon
-00007390: 5f72 203d 207d 5c6e 220a 2020 2020 2020  _r = }\n".      
+00007380: 2066 227b 6570 7369 6c6f 6e5f 723d 7d5c   f"{epsilon_r=}\
+00007390: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
 000073a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073b0: 2020 2020 2020 2020 2020 2066 227b 6570             f"{ep
-000073c0: 7369 6c6f 6e5f 7068 695f 6465 6720 3d20  silon_phi_deg = 
-000073d0: 7d22 290a 0a20 2020 2020 2020 2020 2020  }")..           
-000073e0: 2020 2020 2066 662e 6368 6563 6b5f 6d71       ff.check_mq
-000073f0: 735f 636f 6e64 6974 696f 6e28 7261 6469  s_condition(radi
-00007400: 7573 3d73 656c 662e 636f 7265 2e63 6f72  us=self.core.cor
-00007410: 655f 696e 6e65 725f 6469 616d 6574 6572  e_inner_diameter
-00007420: 202f 2032 2c20 6672 6571 7565 6e63 793d   / 2, frequency=
-00007430: 7365 6c66 2e66 7265 7175 656e 6379 2c0a  self.frequency,.
+000073b0: 2020 2020 6622 7b65 7073 696c 6f6e 5f70      f"{epsilon_p
+000073c0: 6869 5f64 6567 3d7d 2229 0a0a 2020 2020  hi_deg=}")..    
+000073d0: 2020 2020 2020 2020 2020 2020 6666 2e63              ff.c
+000073e0: 6865 636b 5f6d 7173 5f63 6f6e 6469 7469  heck_mqs_conditi
+000073f0: 6f6e 2872 6164 6975 733d 7365 6c66 2e63  on(radius=self.c
+00007400: 6f72 652e 636f 7265 5f69 6e6e 6572 5f64  ore.core_inner_d
+00007410: 6961 6d65 7465 7220 2f20 322c 2066 7265  iameter / 2, fre
+00007420: 7175 656e 6379 3d73 656c 662e 6672 6571  quency=self.freq
+00007430: 7565 6e63 792c 0a20 2020 2020 2020 2020  uency,.         
 00007440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007460: 2020 2020 2020 2063 6f6d 706c 6578 5f70         complex_p
-00007470: 6572 6d65 6162 696c 6974 793d 7365 6c66  ermeability=self
-00007480: 2e67 6574 5f73 696e 676c 655f 636f 6d70  .get_single_comp
-00007490: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
-000074a0: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
+00007450: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00007460: 6d70 6c65 785f 7065 726d 6561 6269 6c69  mplex_permeabili
+00007470: 7479 3d73 656c 662e 6765 745f 7369 6e67  ty=self.get_sing
+00007480: 6c65 5f63 6f6d 706c 6578 5f70 6572 6d65  le_complex_perme
+00007490: 6162 696c 6974 7928 292c 0a20 2020 2020  ability(),.     
+000074a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000074b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000074c0: 2020 2020 2020 2020 2020 2063 6f6d 706c             compl
-000074d0: 6578 5f70 6572 6d69 7474 6976 6974 793d  ex_permittivity=
-000074e0: 636f 6d70 6c65 785f 7065 726d 6974 7469  complex_permitti
-000074f0: 7669 7479 2c20 636f 6e64 7563 7469 7669  vity, conductivi
-00007500: 7479 3d73 656c 662e 636f 7265 2e73 6967  ty=self.core.sig
-00007510: 6d61 2c0a 2020 2020 2020 2020 2020 2020  ma,.            
+000074c0: 2020 636f 6d70 6c65 785f 7065 726d 6974    complex_permit
+000074d0: 7469 7669 7479 3d63 6f6d 706c 6578 5f70  tivity=complex_p
+000074e0: 6572 6d69 7474 6976 6974 792c 2063 6f6e  ermittivity, con
+000074f0: 6475 6374 6976 6974 793d 7365 6c66 2e63  ductivity=self.c
+00007500: 6f72 652e 7369 676d 612c 0a20 2020 2020  ore.sigma,.     
+00007510: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00007520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007530: 2020 2020 2020 2020 2020 2072 656c 6174             relat
-00007540: 6976 655f 6d61 7267 696e 5f74 6f5f 6669  ive_margin_to_fi
-00007550: 7273 745f 7265 736f 6e61 6e63 653d 302e  rst_resonance=0.
-00007560: 352c 2073 696c 656e 743d 7365 6c66 2e73  5, silent=self.s
-00007570: 696c 656e 7429 0a0a 2020 2020 2020 2020  ilent)..        
-00007580: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00007590: 2020 2020 2020 2020 2020 6666 2e63 6865            ff.che
-000075a0: 636b 5f6d 7173 5f63 6f6e 6469 7469 6f6e  ck_mqs_condition
-000075b0: 2872 6164 6975 733d 7365 6c66 2e63 6f72  (radius=self.cor
-000075c0: 652e 636f 7265 5f69 6e6e 6572 5f64 6961  e.core_inner_dia
-000075d0: 6d65 7465 7220 2f20 322c 2066 7265 7175  meter / 2, frequ
-000075e0: 656e 6379 3d73 656c 662e 6672 6571 7565  ency=self.freque
-000075f0: 6e63 792c 0a20 2020 2020 2020 2020 2020  ncy,.           
+00007530: 2020 7265 6c61 7469 7665 5f6d 6172 6769    relative_margi
+00007540: 6e5f 746f 5f66 6972 7374 5f72 6573 6f6e  n_to_first_reson
+00007550: 616e 6365 3d30 2e35 2c20 7369 6c65 6e74  ance=0.5, silent
+00007560: 3d73 656c 662e 7369 6c65 6e74 290a 0a20  =self.silent).. 
+00007570: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00007580: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007590: 2066 662e 6368 6563 6b5f 6d71 735f 636f   ff.check_mqs_co
+000075a0: 6e64 6974 696f 6e28 7261 6469 7573 3d73  ndition(radius=s
+000075b0: 656c 662e 636f 7265 2e63 6f72 655f 696e  elf.core.core_in
+000075c0: 6e65 725f 6469 616d 6574 6572 202f 2032  ner_diameter / 2
+000075d0: 2c20 6672 6571 7565 6e63 793d 7365 6c66  , frequency=self
+000075e0: 2e66 7265 7175 656e 6379 2c0a 2020 2020  .frequency,.    
+000075f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00007600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007610: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
-00007620: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
-00007630: 3d73 656c 662e 6765 745f 7369 6e67 6c65  =self.get_single
-00007640: 5f63 6f6d 706c 6578 5f70 6572 6d65 6162  _complex_permeab
-00007650: 696c 6974 7928 292c 0a20 2020 2020 2020  ility(),.       
+00007610: 2020 2063 6f6d 706c 6578 5f70 6572 6d65     complex_perme
+00007620: 6162 696c 6974 793d 7365 6c66 2e67 6574  ability=self.get
+00007630: 5f73 696e 676c 655f 636f 6d70 6c65 785f  _single_complex_
+00007640: 7065 726d 6561 6269 6c69 7479 2829 2c0a  permeability(),.
+00007650: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00007660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007680: 636f 6d70 6c65 785f 7065 726d 6974 7469  complex_permitti
-00007690: 7669 7479 3d30 2c20 636f 6e64 7563 7469  vity=0, conducti
-000076a0: 7669 7479 3d73 656c 662e 636f 7265 2e73  vity=self.core.s
-000076b0: 6967 6d61 2c0a 2020 2020 2020 2020 2020  igma,.          
+00007670: 2020 2020 2020 2063 6f6d 706c 6578 5f70         complex_p
+00007680: 6572 6d69 7474 6976 6974 793d 302c 2063  ermittivity=0, c
+00007690: 6f6e 6475 6374 6976 6974 793d 7365 6c66  onductivity=self
+000076a0: 2e63 6f72 652e 7369 676d 612c 0a20 2020  .core.sigma,.   
+000076b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000076c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000076d0: 2020 2020 2020 2020 2020 2020 2072 656c               rel
-000076e0: 6174 6976 655f 6d61 7267 696e 5f74 6f5f  ative_margin_to_
-000076f0: 6669 7273 745f 7265 736f 6e61 6e63 653d  first_resonance=
-00007700: 302e 352c 2073 696c 656e 743d 7365 6c66  0.5, silent=self
-00007710: 2e73 696c 656e 7429 0a0a 2020 2020 2320  .silent)..    # 
+000076d0: 2020 2020 7265 6c61 7469 7665 5f6d 6172      relative_mar
+000076e0: 6769 6e5f 746f 5f66 6972 7374 5f72 6573  gin_to_first_res
+000076f0: 6f6e 616e 6365 3d30 2e35 2c20 7369 6c65  onance=0.5, sile
+00007700: 6e74 3d73 656c 662e 7369 6c65 6e74 290a  nt=self.silent).
+00007710: 0a20 2020 2023 2020 2d20 202d 2020 2d20  .    #  -  -  - 
 00007720: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
 00007730: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
 00007740: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
 00007750: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00007760: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00007770: 2020 202d 2020 2d20 202d 2020 2d20 202d     -  -  -  -  -
-00007780: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00007790: 202d 0a20 2020 2023 204d 6973 6365 6c6c   -.    # Miscell
-000077a0: 616e 656f 7573 0a20 2020 2064 6566 2063  aneous.    def c
-000077b0: 616c 6375 6c61 7465 5f63 6f72 655f 766f  alculate_core_vo
-000077c0: 6c75 6d65 5f77 6974 685f 6169 7228 7365  lume_with_air(se
-000077d0: 6c66 2920 2d3e 2066 6c6f 6174 3a0a 2020  lf) -> float:.  
-000077e0: 2020 2020 2020 2222 2243 616c 6375 6c61        """Calcula
-000077f0: 7465 2074 6865 2076 6f6c 756d 6520 6f66  te the volume of
-00007800: 2074 6865 2063 6f72 6520 696e 636c 7564   the core includ
-00007810: 696e 6720 6169 722e 0a0a 2020 2020 2020  ing air...      
-00007820: 2020 3a72 6574 7572 6e3a 2056 6f6c 756d    :return: Volum
-00007830: 6520 6f66 2074 6865 2063 6f72 650a 2020  e of the core.  
-00007840: 2020 2020 2020 3a72 7479 7065 3a20 666c        :rtype: fl
-00007850: 6f61 740a 2020 2020 2020 2020 2222 220a  oat.        """.
-00007860: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00007870: 636f 7265 2e63 6f72 655f 7479 7065 203d  core.core_type =
-00007880: 3d20 436f 7265 5479 7065 2e53 696e 676c  = CoreType.Singl
-00007890: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
-000078a0: 6f72 655f 6865 6967 6874 203d 2073 656c  ore_height = sel
-000078b0: 662e 636f 7265 2e77 696e 646f 775f 6820  f.core.window_h 
-000078c0: 2b20 7365 6c66 2e63 6f72 652e 636f 7265  + self.core.core
-000078d0: 5f69 6e6e 6572 5f64 6961 6d65 7465 7220  _inner_diameter 
-000078e0: 2f20 320a 2020 2020 2020 2020 656c 6966  / 2.        elif
-000078f0: 2073 656c 662e 636f 7265 2e63 6f72 655f   self.core.core_
-00007900: 7479 7065 203d 3d20 436f 7265 5479 7065  type == CoreType
-00007910: 2e53 7461 636b 6564 3a0a 2020 2020 2020  .Stacked:.      
-00007920: 2020 2020 2020 636f 7265 5f68 6569 6768        core_heigh
-00007930: 7420 3d20 7365 6c66 2e63 6f72 652e 7769  t = self.core.wi
-00007940: 6e64 6f77 5f68 5f62 6f74 202b 2073 656c  ndow_h_bot + sel
-00007950: 662e 636f 7265 2e77 696e 646f 775f 685f  f.core.window_h_
-00007960: 746f 7020 2b20 7365 6c66 2e63 6f72 652e  top + self.core.
-00007970: 636f 7265 5f69 6e6e 6572 5f64 6961 6d65  core_inner_diame
-00007980: 7465 7220 2a20 3320 2f20 340a 2020 2020  ter * 3 / 4.    
-00007990: 2020 2020 2020 2020 2320 544f 444f 3a20          # TODO: 
-000079a0: 636f 756c 6420 616c 736f 2062 6520 646f  could also be do
-000079b0: 6e65 2061 7262 6974 7261 7269 6c79 0a0a  ne arbitrarily..
-000079c0: 2020 2020 2020 2020 636f 7265 5f77 6964          core_wid
-000079d0: 7468 203d 2073 656c 662e 636f 7265 2e72  th = self.core.r
-000079e0: 5f6f 7574 6572 0a0a 2020 2020 2020 2020  _outer..        
-000079f0: 7265 7475 726e 206e 702e 7069 202a 2063  return np.pi * c
-00007a00: 6f72 655f 7769 6474 6820 2a2a 2032 202a  ore_width ** 2 *
-00007a10: 2063 6f72 655f 6865 6967 6874 0a0a 2020   core_height..  
-00007a20: 2020 6465 6620 6361 6c63 756c 6174 655f    def calculate_
-00007a30: 636f 7265 5f76 6f6c 756d 6528 7365 6c66  core_volume(self
-00007a40: 2920 2d3e 2066 6c6f 6174 3a0a 2020 2020  ) -> float:.    
-00007a50: 2020 2020 2222 2243 616c 6375 6c61 7465      """Calculate
-00007a60: 2074 6865 2076 6f6c 756d 6520 6f66 2074   the volume of t
-00007a70: 6865 2063 6f72 6520 6578 636c 7564 696e  he core excludin
-00007a80: 6720 6169 722e 0a0a 2020 2020 2020 2020  g air...        
-00007a90: 3a72 6574 7572 6e3a 2056 6f6c 756d 6520  :return: Volume 
-00007aa0: 6f66 2074 6865 2063 6f72 652e 0a20 2020  of the core..   
-00007ab0: 2020 2020 203a 7274 7970 653a 2066 6c6f       :rtype: flo
-00007ac0: 6174 0a20 2020 2020 2020 2022 2222 0a20  at.        """. 
-00007ad0: 2020 2020 2020 2063 6f72 655f 6865 6967         core_heig
-00007ae0: 6874 203d 204e 6f6e 650a 2020 2020 2020  ht = None.      
-00007af0: 2020 7769 6e64 696e 675f 6865 6967 6874    winding_height
-00007b00: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-00007b10: 6966 2073 656c 662e 636f 7265 2e63 6f72  if self.core.cor
-00007b20: 655f 7479 7065 203d 3d20 436f 7265 5479  e_type == CoreTy
-00007b30: 7065 2e53 696e 676c 653a 0a20 2020 2020  pe.Single:.     
-00007b40: 2020 2020 2020 2063 6f72 655f 6865 6967         core_heig
-00007b50: 6874 203d 2073 656c 662e 636f 7265 2e77  ht = self.core.w
-00007b60: 696e 646f 775f 6820 2b20 7365 6c66 2e63  indow_h + self.c
-00007b70: 6f72 652e 636f 7265 5f69 6e6e 6572 5f64  ore.core_inner_d
-00007b80: 6961 6d65 7465 7220 2f20 320a 2020 2020  iameter / 2.    
-00007b90: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
-00007ba0: 6865 6967 6874 203d 2073 656c 662e 636f  height = self.co
-00007bb0: 7265 2e77 696e 646f 775f 680a 2020 2020  re.window_h.    
-00007bc0: 2020 2020 656c 6966 2073 656c 662e 636f      elif self.co
-00007bd0: 7265 2e63 6f72 655f 7479 7065 203d 3d20  re.core_type == 
-00007be0: 436f 7265 5479 7065 2e53 7461 636b 6564  CoreType.Stacked
-00007bf0: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
-00007c00: 7265 5f68 6569 6768 7420 3d20 7365 6c66  re_height = self
-00007c10: 2e63 6f72 652e 7769 6e64 6f77 5f68 5f62  .core.window_h_b
-00007c20: 6f74 202b 2073 656c 662e 636f 7265 2e77  ot + self.core.w
-00007c30: 696e 646f 775f 685f 746f 7020 2b20 7365  indow_h_top + se
-00007c40: 6c66 2e63 6f72 652e 636f 7265 5f69 6e6e  lf.core.core_inn
-00007c50: 6572 5f64 6961 6d65 7465 7220 2a20 3320  er_diameter * 3 
-00007c60: 2f20 340a 2020 2020 2020 2020 2020 2020  / 4.            
-00007c70: 2320 544f 444f 3a20 636f 756c 6420 616c  # TODO: could al
-00007c80: 736f 2062 6520 646f 6e65 2061 7262 6974  so be done arbit
-00007c90: 7261 7269 6c79 0a20 2020 2020 2020 2020  rarily.         
-00007ca0: 2020 2077 696e 6469 6e67 5f68 6569 6768     winding_heigh
-00007cb0: 7420 3d20 7365 6c66 2e63 6f72 652e 7769  t = self.core.wi
-00007cc0: 6e64 6f77 5f68 5f62 6f74 202b 2073 656c  ndow_h_bot + sel
-00007cd0: 662e 636f 7265 2e77 696e 646f 775f 685f  f.core.window_h_
-00007ce0: 746f 7020 2023 2054 4f44 4f3a 2063 6f75  top  # TODO: cou
-00007cf0: 6c64 2061 6c73 6f20 6265 2064 6f6e 6520  ld also be done 
-00007d00: 6172 6269 7472 6172 696c 790a 0a20 2020  arbitrarily..   
-00007d10: 2020 2020 2063 6f72 655f 7769 6474 6820       core_width 
-00007d20: 3d20 7365 6c66 2e63 6f72 652e 725f 6f75  = self.core.r_ou
-00007d30: 7465 720a 0a20 2020 2020 2020 2077 696e  ter..        win
-00007d40: 6469 6e67 5f77 6964 7468 203d 2073 656c  ding_width = sel
-00007d50: 662e 636f 7265 2e77 696e 646f 775f 770a  f.core.window_w.
-00007d60: 0a20 2020 2020 2020 2061 6972 5f67 6170  .        air_gap
-00007d70: 5f76 6f6c 756d 6520 3d20 300a 2020 2020  _volume = 0.    
-00007d80: 2020 2020 696e 6e65 725f 6c65 675f 7769      inner_leg_wi
-00007d90: 6474 6820 3d20 7365 6c66 2e63 6f72 652e  dth = self.core.
-00007da0: 725f 696e 6e65 7220 2d20 7769 6e64 696e  r_inner - windin
-00007db0: 675f 7769 6474 680a 0a20 2020 2020 2020  g_width..       
-00007dc0: 2066 6f72 206c 6567 5f70 6f73 6974 696f   for leg_positio
-00007dd0: 6e2c 205f 2c20 6865 6967 6874 2069 6e20  n, _, height in 
-00007de0: 7365 6c66 2e61 6972 5f67 6170 732e 6d69  self.air_gaps.mi
-00007df0: 6470 6f69 6e74 733a 0a20 2020 2020 2020  dpoints:.       
-00007e00: 2020 2020 2069 6620 6c65 675f 706f 7369       if leg_posi
-00007e10: 7469 6f6e 203d 3d20 4169 7247 6170 4c65  tion == AirGapLe
-00007e20: 6750 6f73 6974 696f 6e2e 4c65 6674 4c65  gPosition.LeftLe
-00007e30: 672e 7661 6c75 653a 0a20 2020 2020 2020  g.value:.       
-00007e40: 2020 2020 2020 2020 2023 206c 6566 7420           # left 
-00007e50: 6c65 670a 2020 2020 2020 2020 2020 2020  leg.            
-00007e60: 2020 2020 2320 544f 444f 2074 6869 7320      # TODO this 
-00007e70: 6973 2077 726f 6e67 2073 696e 6365 2074  is wrong since t
-00007e80: 6865 2061 6972 2067 6170 2069 7320 6e6f  he air gap is no
-00007e90: 7420 6365 6e74 6572 6564 206f 6e20 7468  t centered on th
-00007ea0: 6520 7920 6178 6973 0a20 2020 2020 2020  e y axis.       
-00007eb0: 2020 2020 2020 2020 2077 6964 7468 203d           width =
-00007ec0: 2063 6f72 655f 7769 6474 6820 2d20 7365   core_width - se
-00007ed0: 6c66 2e63 6f72 652e 725f 696e 6e65 720a  lf.core.r_inner.
-00007ee0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
-00007ef0: 206c 6567 5f70 6f73 6974 696f 6e20 3d3d   leg_position ==
-00007f00: 2041 6972 4761 704c 6567 506f 7369 7469   AirGapLegPositi
-00007f10: 6f6e 2e43 656e 7465 724c 6567 2e76 616c  on.CenterLeg.val
-00007f20: 7565 3a0a 2020 2020 2020 2020 2020 2020  ue:.            
-00007f30: 2020 2020 2320 6365 6e74 6572 206c 6567      # center leg
-00007f40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00007f50: 2077 6964 7468 203d 2069 6e6e 6572 5f6c   width = inner_l
-00007f60: 6567 5f77 6964 7468 0a20 2020 2020 2020  eg_width.       
-00007f70: 2020 2020 2065 6c69 6620 6c65 675f 706f       elif leg_po
-00007f80: 7369 7469 6f6e 203d 3d20 4169 7247 6170  sition == AirGap
-00007f90: 4c65 6750 6f73 6974 696f 6e2e 5269 6768  LegPosition.Righ
-00007fa0: 744c 6567 2e76 616c 7565 3a0a 2020 2020  tLeg.value:.    
-00007fb0: 2020 2020 2020 2020 2020 2020 2320 7269              # ri
-00007fc0: 6768 7420 6c65 670a 2020 2020 2020 2020  ght leg.        
-00007fd0: 2020 2020 2020 2020 2320 544f 444f 2074          # TODO t
-00007fe0: 6869 7320 6973 2077 726f 6e67 2073 696e  his is wrong sin
-00007ff0: 6365 2074 6865 2061 6972 2067 6170 2069  ce the air gap i
-00008000: 7320 6e6f 7420 6365 6e74 6572 6564 206f  s not centered o
-00008010: 6e20 7468 6520 7920 6178 6973 0a20 2020  n the y axis.   
-00008020: 2020 2020 2020 2020 2020 2020 2077 6964               wid
-00008030: 7468 203d 2063 6f72 655f 7769 6474 6820  th = core_width 
-00008040: 2d20 7365 6c66 2e63 6f72 652e 725f 696e  - self.core.r_in
-00008050: 6e65 720a 2020 2020 2020 2020 2020 2020  ner.            
-00008060: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00008070: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
-00008080: 7074 696f 6e28 6622 496e 7661 6c69 6420  ption(f"Invalid 
-00008090: 6c65 6720 706f 7369 7469 6f6e 2074 6167  leg position tag
-000080a0: 207b 6c65 675f 706f 7369 7469 6f6e 7d20   {leg_position} 
-000080b0: 7573 6564 2066 6f72 2061 6e20 6169 7220  used for an air 
-000080c0: 6761 702e 2229 0a0a 2020 2020 2020 2020  gap.")..        
-000080d0: 2020 2020 6169 725f 6761 705f 766f 6c75      air_gap_volu
-000080e0: 6d65 202b 3d20 6e70 2e70 6920 2a20 7769  me += np.pi * wi
-000080f0: 6474 6820 2a2a 2032 202a 2068 6569 6768  dth ** 2 * heigh
-00008100: 740a 0a20 2020 2020 2020 2072 6574 7572  t..        retur
-00008110: 6e20 6e70 2e70 6920 2a20 2863 6f72 655f  n np.pi * (core_
-00008120: 7769 6474 6820 2a2a 2032 202a 2063 6f72  width ** 2 * cor
-00008130: 655f 6865 6967 6874 202d 2028 696e 6e65  e_height - (inne
-00008140: 725f 6c65 675f 7769 6474 6820 2b20 7769  r_leg_width + wi
-00008150: 6e64 696e 675f 7769 6474 6829 202a 2a20  nding_width) ** 
-00008160: 3220 2a20 7769 6e64 696e 675f 6865 6967  2 * winding_heig
-00008170: 6874 202b 205c 0a20 2020 2020 2020 2020  ht + \.         
-00008180: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00008190: 6e6e 6572 5f6c 6567 5f77 6964 7468 202a  nner_leg_width *
-000081a0: 2a20 3220 2a20 7769 6e64 696e 675f 6865  * 2 * winding_he
-000081b0: 6967 6874 2920 2d20 6169 725f 6761 705f  ight) - air_gap_
-000081c0: 766f 6c75 6d65 0a0a 2020 2020 6465 6620  volume..    def 
-000081d0: 6361 6c63 756c 6174 655f 636f 7265 5f70  calculate_core_p
-000081e0: 6172 7473 5f76 6f6c 756d 6528 7365 6c66  arts_volume(self
-000081f0: 2920 2d3e 206c 6973 743a 0a20 2020 2020  ) -> list:.     
-00008200: 2020 2022 2222 4361 6c63 756c 6174 6520     """Calculate 
-00008210: 7468 6520 766f 6c75 6d65 206f 6620 7468  the volume of th
-00008220: 6520 7061 7274 2063 6f72 6520 6578 636c  e part core excl
-00008230: 7564 696e 6720 6169 722e 0a0a 2020 2020  uding air...    
-00008240: 2020 2020 3a72 6574 7572 6e3a 2056 6f6c      :return: Vol
-00008250: 756d 6520 6f66 2074 6865 2063 6f72 6520  ume of the core 
-00008260: 7061 7274 2e0a 2020 2020 2020 2020 3a72  part..        :r
-00008270: 7479 7065 3a20 6c69 7374 0a20 2020 2020  type: list.     
-00008280: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
-00008290: 2045 7874 7261 6374 2068 6569 6768 7473   Extract heights
-000082a0: 2066 726f 6d20 7468 6520 6d69 6470 6f69   from the midpoi
-000082b0: 6e74 7320 6f66 2061 6972 2067 6170 730a  nts of air gaps.
-000082c0: 2020 2020 2020 2020 6865 6967 6874 7320          heights 
-000082d0: 3d20 5b70 6f69 6e74 5b32 5d20 666f 7220  = [point[2] for 
-000082e0: 706f 696e 7420 696e 2073 656c 662e 6169  point in self.ai
-000082f0: 725f 6761 7073 2e6d 6964 706f 696e 7473  r_gaps.midpoints
-00008300: 5d0a 2020 2020 2020 2020 636f 7265 5f70  ].        core_p
-00008310: 6172 7473 5f76 6f6c 756d 6573 203d 205b  arts_volumes = [
-00008320: 5d0a 0a20 2020 2020 2020 2064 6566 2067  ]..        def g
-00008330: 6574 5f77 6964 7468 2870 6172 745f 6e75  et_width(part_nu
-00008340: 6d62 6572 293a 0a20 2020 2020 2020 2020  mber):.         
-00008350: 2020 2022 2222 0a20 2020 2020 2020 2020     """.         
-00008360: 2020 2049 6620 7468 6572 6520 6973 2061     If there is a
-00008370: 2073 7472 6179 2070 6174 682c 2063 616c   stray path, cal
-00008380: 6375 6c61 7465 2077 6964 7468 2062 6173  culate width bas
-00008390: 6564 206f 6e20 6974 7320 7374 6172 7469  ed on its starti
-000083a0: 6e67 2069 6e64 6578 2061 6e64 2070 6172  ng index and par
-000083b0: 7420 6e75 6d62 6572 2e0a 0a20 2020 2020  t number...     
-000083c0: 2020 2020 2020 2070 6172 745f 6e75 6d62         part_numb
-000083d0: 6572 2069 7320 7468 6520 636f 7265 5f70  er is the core_p
-000083e0: 6172 745f 692b 323b 206d 6561 6e73 2074  art_i+2; means t
-000083f0: 6861 7420 6966 2074 6865 2073 7461 7274  hat if the start
-00008400: 5f69 6e64 6578 2069 7320 302c 2074 6865  _index is 0, the
-00008410: 2073 7472 6179 2070 6174 6820 6973 2069   stray path is i
-00008420: 6e20 636f 7265 5f70 6172 745f 320a 2020  n core_part_2.  
-00008430: 2020 2020 2020 2020 2020 6966 2074 6865            if the
-00008440: 2073 7461 7274 5f69 6e64 6578 2069 7320   start_index is 
-00008450: 312c 2074 6865 2073 7472 6179 2070 6174  1, the stray pat
-00008460: 6820 6973 2069 6e20 636f 7265 5f70 6172  h is in core_par
-00008470: 745f 3320 616e 6420 736f 206f 6e0a 2020  t_3 and so on.  
-00008480: 2020 2020 2020 2020 2020 2222 220a 2020            """.  
-00008490: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-000084a0: 662e 7374 7261 795f 7061 7468 2061 6e64  f.stray_path and
-000084b0: 2070 6172 745f 6e75 6d62 6572 203d 3d20   part_number == 
-000084c0: 7365 6c66 2e73 7472 6179 5f70 6174 682e  self.stray_path.
-000084d0: 7374 6172 745f 696e 6465 7820 2b20 323a  start_index + 2:
-000084e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000084f0: 2072 6574 7572 6e20 7365 6c66 2e73 7472   return self.str
-00008500: 6179 5f70 6174 682e 6c65 6e67 7468 0a20  ay_path.length. 
-00008510: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-00008520: 6e20 7365 6c66 2e63 6f72 652e 636f 7265  n self.core.core
-00008530: 5f69 6e6e 6572 5f64 6961 6d65 7465 7220  _inner_diameter 
-00008540: 2f20 320a 0a20 2020 2020 2020 2023 2023  / 2..        # #
-00008550: 2053 6f72 7469 6e67 2061 6972 2067 6170   Sorting air gap
-00008560: 7320 6672 6f6d 206c 6f77 6572 2074 6f20  s from lower to 
-00008570: 7570 7065 720a 2020 2020 2020 2020 736f  upper.        so
-00008580: 7274 6564 5f6d 6964 706f 696e 7473 203d  rted_midpoints =
-00008590: 2073 6f72 7465 6428 7365 6c66 2e61 6972   sorted(self.air
-000085a0: 5f67 6170 732e 6d69 6470 6f69 6e74 732c  _gaps.midpoints,
-000085b0: 206b 6579 3d6c 616d 6264 6120 783a 2078   key=lambda x: x
-000085c0: 5b31 5d29 0a20 2020 2020 2020 2023 2046  [1]).        # F
-000085d0: 696e 6469 6e67 2070 6f73 6974 696f 6e20  inding position 
-000085e0: 6f66 2066 6972 7374 2061 6972 6761 700a  of first airgap.
-000085f0: 2020 2020 2020 2020 626f 7474 6f6d 6d6f          bottommo
-00008600: 7374 5f61 6972 6761 705f 706f 7369 7469  st_airgap_positi
-00008610: 6f6e 203d 2073 6f72 7465 645f 6d69 6470  on = sorted_midp
-00008620: 6f69 6e74 735b 305d 5b31 5d0a 2020 2020  oints[0][1].    
-00008630: 2020 2020 626f 7474 6f6d 6d6f 7374 5f61      bottommost_a
-00008640: 6972 6761 705f 6865 6967 6874 203d 2073  irgap_height = s
-00008650: 6f72 7465 645f 6d69 6470 6f69 6e74 735b  orted_midpoints[
-00008660: 305d 5b32 5d0a 2020 2020 2020 2020 2320  0][2].        # 
-00008670: 4669 6e64 696e 6720 706f 7369 7469 6f6e  Finding position
-00008680: 206f 6620 6c61 7374 2061 6972 6761 700a   of last airgap.
-00008690: 2020 2020 2020 2020 746f 706d 6f73 745f          topmost_
-000086a0: 6169 7267 6170 5f70 6f73 6974 696f 6e20  airgap_position 
-000086b0: 3d20 736f 7274 6564 5f6d 6964 706f 696e  = sorted_midpoin
-000086c0: 7473 5b2d 315d 5b31 5d0a 2020 2020 2020  ts[-1][1].      
-000086d0: 2020 746f 706d 6f73 745f 6169 7267 6170    topmost_airgap
-000086e0: 5f68 6569 6768 7420 3d20 736f 7274 6564  _height = sorted
-000086f0: 5f6d 6964 706f 696e 7473 5b2d 315d 5b32  _midpoints[-1][2
-00008700: 5d0a 0a20 2020 2020 2020 2023 2069 6620  ]..        # if 
-00008710: 7369 6e67 6c65 2063 6f72 650a 2020 2020  single core.    
-00008720: 2020 2020 6966 2073 656c 662e 636f 7265      if self.core
-00008730: 2e63 6f72 655f 7479 7065 203d 3d20 436f  .core_type == Co
-00008740: 7265 5479 7065 2e53 696e 676c 653a 0a0a  reType.Single:..
-00008750: 2020 2020 2020 2020 2020 2020 2320 466f              # Fo
-00008760: 7220 7369 6e67 6c65 2063 6f72 6520 616e  r single core an
-00008770: 6420 6d6f 7265 2074 6861 6e20 6f6e 6520  d more than one 
-00008780: 636f 7265 5f70 6172 742c 2076 6f6c 756d  core_part, volum
-00008790: 6520 666f 7220 6576 6572 7920 636f 7265  e for every core
-000087a0: 2070 6172 7420 6973 2063 616c 6375 6c61   part is calcula
-000087b0: 7465 640a 0a20 2020 2020 2020 2020 2020  ted..           
-000087c0: 2023 2063 6f72 655f 7061 7274 5f31 2069   # core_part_1 i
-000087d0: 7320 6469 7669 6465 6420 696e 746f 2073  s divided into s
-000087e0: 7562 7061 7274 7320 636f 7265 730a 2020  ubparts cores.  
-000087f0: 2020 2020 2020 2020 2020 2320 2320 7375            # # su
-00008800: 6270 6172 7431 3a20 626f 7474 6f6d 206c  bpart1: bottom l
-00008810: 6566 7420 7375 6270 6172 740a 2020 2020  eft subpart.    
-00008820: 2020 2020 2020 2020 7375 6270 6172 7431          subpart1
-00008830: 5f31 5f68 6569 6768 7420 3d20 626f 7474  _1_height = bott
-00008840: 6f6d 6d6f 7374 5f61 6972 6761 705f 706f  ommost_airgap_po
-00008850: 7369 7469 6f6e 202b 2073 656c 662e 636f  sition + self.co
-00008860: 7265 2e77 696e 646f 775f 6820 2f20 3220  re.window_h / 2 
-00008870: 2d20 626f 7474 6f6d 6d6f 7374 5f61 6972  - bottommost_air
-00008880: 6761 705f 6865 6967 6874 202f 2032 0a20  gap_height / 2. 
-00008890: 2020 2020 2020 2020 2020 2073 7562 7061             subpa
-000088a0: 7274 315f 315f 7769 6474 6820 3d20 7365  rt1_1_width = se
-000088b0: 6c66 2e63 6f72 652e 636f 7265 5f69 6e6e  lf.core.core_inn
-000088c0: 6572 5f64 6961 6d65 7465 7220 2f20 320a  er_diameter / 2.
-000088d0: 2020 2020 2020 2020 2020 2020 7375 6270              subp
-000088e0: 6172 7431 5f31 5f76 6f6c 756d 6520 3d20  art1_1_volume = 
-000088f0: 6e70 2e70 6920 2a20 7375 6270 6172 7431  np.pi * subpart1
-00008900: 5f31 5f77 6964 7468 202a 2a20 3220 2a20  _1_width ** 2 * 
-00008910: 7375 6270 6172 7431 5f31 5f68 6569 6768  subpart1_1_heigh
-00008920: 740a 0a20 2020 2020 2020 2020 2020 2023  t..            #
-00008930: 2023 2073 7562 7061 7274 323a 2062 6f74   # subpart2: bot
-00008940: 746f 6d20 6d69 6420 7375 6270 6172 740a  tom mid subpart.
-00008950: 2020 2020 2020 2020 2020 2020 7375 6270              subp
-00008960: 6172 7431 5f32 5f68 6569 6768 7420 3d20  art1_2_height = 
-00008970: 7365 6c66 2e63 6f72 652e 636f 7265 5f69  self.core.core_i
-00008980: 6e6e 6572 5f64 6961 6d65 7465 7220 2f20  nner_diameter / 
-00008990: 340a 2020 2020 2020 2020 2020 2020 7375  4.            su
-000089a0: 6270 6172 7431 5f32 5f77 6964 7468 203d  bpart1_2_width =
-000089b0: 2073 656c 662e 636f 7265 2e72 5f6f 7574   self.core.r_out
-000089c0: 6572 0a20 2020 2020 2020 2020 2020 2073  er.            s
-000089d0: 7562 7061 7274 315f 325f 766f 6c75 6d65  ubpart1_2_volume
-000089e0: 203d 206e 702e 7069 202a 2073 7562 7061   = np.pi * subpa
-000089f0: 7274 315f 325f 7769 6474 6820 2a2a 2032  rt1_2_width ** 2
-00008a00: 202a 2073 7562 7061 7274 315f 325f 6865   * subpart1_2_he
-00008a10: 6967 6874 0a0a 2020 2020 2020 2020 2020  ight..          
-00008a20: 2020 2320 7375 6270 6172 7433 3a20 7269    # subpart3: ri
-00008a30: 6768 7420 7375 6270 6172 740a 2020 2020  ght subpart.    
-00008a40: 2020 2020 2020 2020 7375 6270 6172 7431          subpart1
-00008a50: 5f33 5f68 6569 6768 7420 3d20 7365 6c66  _3_height = self
-00008a60: 2e63 6f72 652e 7769 6e64 6f77 5f68 0a20  .core.window_h. 
-00008a70: 2020 2020 2020 2020 2020 2073 7562 7061             subpa
-00008a80: 7274 315f 335f 7769 6474 6820 3d20 7365  rt1_3_width = se
-00008a90: 6c66 2e63 6f72 652e 725f 6f75 7465 720a  lf.core.r_outer.
-00008aa0: 2020 2020 2020 2020 2020 2020 7375 6270              subp
-00008ab0: 6172 7431 5f33 5f76 6f6c 756d 6520 3d20  art1_3_volume = 
-00008ac0: 6e70 2e70 6920 2a20 7375 6270 6172 7431  np.pi * subpart1
-00008ad0: 5f33 5f77 6964 7468 202a 2a20 3220 2a20  _3_width ** 2 * 
-00008ae0: 7375 6270 6172 7431 5f33 5f68 6569 6768  subpart1_3_heigh
-00008af0: 7420 2d20 5c0a 2020 2020 2020 2020 2020  t - \.          
-00008b00: 2020 2020 2020 286e 702e 7069 202a 2028        (np.pi * (
-00008b10: 7365 6c66 2e63 6f72 652e 7769 6e64 6f77  self.core.window
-00008b20: 5f77 202b 2073 656c 662e 636f 7265 2e63  _w + self.core.c
-00008b30: 6f72 655f 696e 6e65 725f 6469 616d 6574  ore_inner_diamet
-00008b40: 6572 202f 2032 2920 2a2a 2032 202a 2073  er / 2) ** 2 * s
-00008b50: 656c 662e 636f 7265 2e77 696e 646f 775f  elf.core.window_
-00008b60: 6829 0a0a 2020 2020 2020 2020 2020 2020  h)..            
-00008b70: 2320 7375 6270 6172 7434 3a20 746f 7020  # subpart4: top 
-00008b80: 6d69 642d 7375 6270 6172 740a 2020 2020  mid-subpart.    
-00008b90: 2020 2020 2020 2020 7375 6270 6172 7431          subpart1
-00008ba0: 5f34 5f68 6569 6768 7420 3d20 7365 6c66  _4_height = self
-00008bb0: 2e63 6f72 652e 636f 7265 5f69 6e6e 6572  .core.core_inner
-00008bc0: 5f64 6961 6d65 7465 7220 2f20 340a 2020  _diameter / 4.  
-00008bd0: 2020 2020 2020 2020 2020 7375 6270 6172            subpar
-00008be0: 7431 5f34 5f77 6964 7468 203d 2073 656c  t1_4_width = sel
-00008bf0: 662e 636f 7265 2e72 5f6f 7574 6572 0a20  f.core.r_outer. 
-00008c00: 2020 2020 2020 2020 2020 2073 7562 7061             subpa
-00008c10: 7274 315f 345f 766f 6c75 6d65 203d 206e  rt1_4_volume = n
-00008c20: 702e 7069 202a 2073 7562 7061 7274 315f  p.pi * subpart1_
-00008c30: 345f 7769 6474 6820 2a2a 2032 202a 2073  4_width ** 2 * s
-00008c40: 7562 7061 7274 315f 345f 6865 6967 6874  ubpart1_4_height
-00008c50: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-00008c60: 7375 6270 6172 7435 3a20 746f 7020 6c65  subpart5: top le
-00008c70: 6674 2073 7562 7061 7274 0a20 2020 2020  ft subpart.     
-00008c80: 2020 2020 2020 2073 7562 7061 7274 315f         subpart1_
-00008c90: 355f 6865 6967 6874 203d 2073 656c 662e  5_height = self.
-00008ca0: 636f 7265 2e77 696e 646f 775f 6820 2f20  core.window_h / 
-00008cb0: 3220 2d20 746f 706d 6f73 745f 6169 7267  2 - topmost_airg
-00008cc0: 6170 5f70 6f73 6974 696f 6e20 2d20 746f  ap_position - to
-00008cd0: 706d 6f73 745f 6169 7267 6170 5f68 6569  pmost_airgap_hei
-00008ce0: 6768 7420 2f20 320a 2020 2020 2020 2020  ght / 2.        
-00008cf0: 2020 2020 7375 6270 6172 7431 5f35 5f77      subpart1_5_w
-00008d00: 6964 7468 203d 2073 656c 662e 636f 7265  idth = self.core
-00008d10: 2e63 6f72 655f 696e 6e65 725f 6469 616d  .core_inner_diam
-00008d20: 6574 6572 202f 2032 0a20 2020 2020 2020  eter / 2.       
-00008d30: 2020 2020 2073 7562 7061 7274 315f 355f       subpart1_5_
-00008d40: 766f 6c75 6d65 203d 206e 702e 7069 202a  volume = np.pi *
-00008d50: 2073 7562 7061 7274 315f 355f 7769 6474   subpart1_5_widt
-00008d60: 6820 2a2a 2032 202a 2073 7562 7061 7274  h ** 2 * subpart
-00008d70: 315f 355f 6865 6967 6874 0a0a 2020 2020  1_5_height..    
-00008d80: 2020 2020 2020 2020 2320 4361 6c63 756c          # Calcul
-00008d90: 6174 6520 7468 6520 766f 6c75 6d65 206f  ate the volume o
-00008da0: 6620 636f 7265 2070 6172 7420 3120 6279  f core part 1 by
-00008db0: 2073 756d 6d69 6e67 2075 7020 7375 6270   summing up subp
-00008dc0: 6172 7420 766f 6c75 6d65 730a 2020 2020  art volumes.    
-00008dd0: 2020 2020 2020 2020 636f 7265 5f70 6172          core_par
-00008de0: 745f 315f 766f 6c75 6d65 203d 2073 7562  t_1_volume = sub
-00008df0: 7061 7274 315f 315f 766f 6c75 6d65 202b  part1_1_volume +
-00008e00: 2073 7562 7061 7274 315f 325f 766f 6c75   subpart1_2_volu
-00008e10: 6d65 202b 2073 7562 7061 7274 315f 335f  me + subpart1_3_
-00008e20: 766f 6c75 6d65 202b 205c 0a20 2020 2020  volume + \.     
-00008e30: 2020 2020 2020 2020 2020 2073 7562 7061             subpa
-00008e40: 7274 315f 345f 766f 6c75 6d65 202b 2073  rt1_4_volume + s
-00008e50: 7562 7061 7274 315f 355f 766f 6c75 6d65  ubpart1_5_volume
-00008e60: 0a20 2020 2020 2020 2020 2020 2063 6f72  .            cor
-00008e70: 655f 7061 7274 735f 766f 6c75 6d65 732e  e_parts_volumes.
-00008e80: 6170 7065 6e64 2863 6f72 655f 7061 7274  append(core_part
-00008e90: 5f31 5f76 6f6c 756d 6529 0a0a 2020 2020  _1_volume)..    
-00008ea0: 2020 2020 2020 2020 2320 4361 6c63 756c          # Calcul
-00008eb0: 6174 6520 7468 6520 766f 6c75 6d65 7320  ate the volumes 
-00008ec0: 6f66 2074 6865 2063 6f72 6520 7061 7274  of the core part
-00008ed0: 7320 6265 7477 6565 6e20 7468 6520 6169  s between the ai
-00008ee0: 7220 6761 7073 0a20 2020 2020 2020 2020  r gaps.         
-00008ef0: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
-00008f00: 6528 6c65 6e28 736f 7274 6564 5f6d 6964  e(len(sorted_mid
-00008f10: 706f 696e 7473 2920 2d20 3129 3a0a 2020  points) - 1):.  
-00008f20: 2020 2020 2020 2020 2020 2020 2020 6169                ai
-00008f30: 725f 6761 705f 315f 706f 7369 7469 6f6e  r_gap_1_position
-00008f40: 203d 2073 6f72 7465 645f 6d69 6470 6f69   = sorted_midpoi
-00008f50: 6e74 735b 695d 5b31 5d0a 2020 2020 2020  nts[i][1].      
-00008f60: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-00008f70: 705f 315f 6865 6967 6874 203d 2073 6f72  p_1_height = sor
-00008f80: 7465 645f 6d69 6470 6f69 6e74 735b 695d  ted_midpoints[i]
-00008f90: 5b32 5d0a 2020 2020 2020 2020 2020 2020  [2].            
-00008fa0: 2020 2020 6169 725f 6761 705f 325f 706f      air_gap_2_po
-00008fb0: 7369 7469 6f6e 203d 2073 6f72 7465 645f  sition = sorted_
-00008fc0: 6d69 6470 6f69 6e74 735b 6920 2b20 315d  midpoints[i + 1]
-00008fd0: 5b31 5d0a 2020 2020 2020 2020 2020 2020  [1].            
-00008fe0: 2020 2020 6169 725f 6761 705f 325f 6865      air_gap_2_he
-00008ff0: 6967 6874 203d 2073 6f72 7465 645f 6d69  ight = sorted_mi
-00009000: 6470 6f69 6e74 735b 6920 2b20 315d 5b32  dpoints[i + 1][2
-00009010: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00009020: 2020 2320 6361 6c63 756c 6174 6520 7468    # calculate th
-00009030: 6520 6865 6967 6874 2062 6173 6564 206f  e height based o
-00009040: 6e20 6169 7267 6170 2070 6f73 6974 696f  n airgap positio
-00009050: 6e73 2061 6e64 2068 6569 6768 7473 2c20  ns and heights, 
-00009060: 616e 6420 7468 6520 7769 6474 680a 2020  and the width.  
-00009070: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00009080: 7265 5f70 6172 745f 6865 6967 6874 203d  re_part_height =
-00009090: 2061 6972 5f67 6170 5f32 5f70 6f73 6974   air_gap_2_posit
-000090a0: 696f 6e20 2d20 6169 725f 6761 705f 325f  ion - air_gap_2_
-000090b0: 6865 6967 6874 202f 2032 202d 2028 6169  height / 2 - (ai
-000090c0: 725f 6761 705f 315f 706f 7369 7469 6f6e  r_gap_1_position
-000090d0: 202b 2061 6972 5f67 6170 5f31 5f68 6569   + air_gap_1_hei
-000090e0: 6768 7420 2f20 3229 0a20 2020 2020 2020  ght / 2).       
-000090f0: 2020 2020 2020 2020 2063 6f72 655f 7061           core_pa
-00009100: 7274 5f77 6964 7468 203d 2067 6574 5f77  rt_width = get_w
-00009110: 6964 7468 2869 202b 2032 290a 2020 2020  idth(i + 2).    
-00009120: 2020 2020 2020 2020 2020 2020 2320 6361              # ca
-00009130: 6c63 756c 6174 6520 7468 6520 766f 6c75  lculate the volu
-00009140: 6d65 0a20 2020 2020 2020 2020 2020 2020  me.             
-00009150: 2020 2063 6f72 655f 7061 7274 5f76 6f6c     core_part_vol
-00009160: 756d 6520 3d20 6e70 2e70 6920 2a20 636f  ume = np.pi * co
-00009170: 7265 5f70 6172 745f 7769 6474 6820 2a2a  re_part_width **
-00009180: 2032 202a 2063 6f72 655f 7061 7274 5f68   2 * core_part_h
-00009190: 6569 6768 740a 2020 2020 2020 2020 2020  eight.          
-000091a0: 2020 2020 2020 636f 7265 5f70 6172 7473        core_parts
-000091b0: 5f76 6f6c 756d 6573 2e61 7070 656e 6428  _volumes.append(
-000091c0: 636f 7265 5f70 6172 745f 766f 6c75 6d65  core_part_volume
-000091d0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-000091e0: 2052 6574 7572 6e20 7468 6520 746f 7461   Return the tota
-000091f0: 6c20 636f 7265 2070 6172 7420 766f 6c75  l core part volu
-00009200: 6d65 0a20 2020 2020 2020 2020 2020 2023  me.            #
-00009210: 2072 6574 7572 6e20 636f 7265 5f70 6172   return core_par
-00009220: 7473 5f76 6f6c 756d 6573 0a0a 2020 2020  ts_volumes..    
-00009230: 2020 2020 656c 6966 2073 656c 662e 636f      elif self.co
-00009240: 7265 2e63 6f72 655f 7479 7065 203d 3d20  re.core_type == 
-00009250: 436f 7265 5479 7065 2e53 7461 636b 6564  CoreType.Stacked
-00009260: 3a0a 0a20 2020 2020 2020 2020 2020 2023  :..            #
-00009270: 2046 6f72 2073 7461 636b 6564 2063 6f72   For stacked cor
-00009280: 6520 7479 7065 732c 2074 6865 2076 6f6c  e types, the vol
-00009290: 756d 6520 6973 2064 6976 6964 6564 2069  ume is divided i
-000092a0: 6e74 6f20 6469 6666 6572 656e 7420 636f  nto different co
-000092b0: 7265 2020 2a20 7061 7274 732c 2065 6163  re  * parts, eac
-000092c0: 6820 6f66 2077 6869 6368 2069 7320 6675  h of which is fu
-000092d0: 7274 6865 720a 2020 2020 2020 2020 2020  rther.          
-000092e0: 2020 2320 6469 7669 6465 6420 696e 746f    # divided into
-000092f0: 2073 7562 7061 7274 7320 746f 2063 616c   subparts to cal
-00009300: 6375 6c61 7465 2074 6865 2074 6f74 616c  culate the total
-00009310: 2076 6f6c 756d 6520 6f66 2065 6163 6820   volume of each 
-00009320: 636f 7265 2070 6172 742e 0a0a 2020 2020  core part...    
-00009330: 2020 2020 2020 2020 2320 636f 7265 5f70          # core_p
-00009340: 6172 745f 3220 3a20 636f 7265 2070 6172  art_2 : core par
-00009350: 7420 6265 7477 6565 6e20 7468 6520 626f  t between the bo
-00009360: 7474 6f6d 2061 6972 2067 6170 2061 6e64  ttom air gap and
-00009370: 2073 7562 7061 7274 5f31 206f 6620 636f   subpart_1 of co
-00009380: 7265 5f70 6172 745f 310a 2020 2020 2020  re_part_1.      
-00009390: 2020 2020 2020 636f 7265 5f70 6172 745f        core_part_
-000093a0: 315f 6865 6967 6874 203d 2073 656c 662e  1_height = self.
-000093b0: 636f 7265 2e77 696e 646f 775f 685f 626f  core.window_h_bo
-000093c0: 7420 2f20 3220 2d20 6865 6967 6874 735b  t / 2 - heights[
-000093d0: 305d 202f 2032 0a20 2020 2020 2020 2020  0] / 2.         
-000093e0: 2020 2063 6f72 655f 7061 7274 5f31 5f77     core_part_1_w
-000093f0: 6964 7468 203d 2073 656c 662e 636f 7265  idth = self.core
-00009400: 2e63 6f72 655f 696e 6e65 725f 6469 616d  .core_inner_diam
-00009410: 6574 6572 202f 2032 0a20 2020 2020 2020  eter / 2.       
-00009420: 2020 2020 2063 6f72 655f 7061 7274 5f31       core_part_1
-00009430: 5f76 6f6c 756d 6520 3d20 6e70 2e70 6920  _volume = np.pi 
-00009440: 2a20 636f 7265 5f70 6172 745f 315f 7769  * core_part_1_wi
-00009450: 6474 6820 2a2a 2032 202a 2063 6f72 655f  dth ** 2 * core_
-00009460: 7061 7274 5f31 5f68 6569 6768 740a 2020  part_1_height.  
-00009470: 2020 2020 2020 2020 2020 636f 7265 5f70            core_p
-00009480: 6172 7473 5f76 6f6c 756d 6573 2e61 7070  arts_volumes.app
-00009490: 656e 6428 636f 7265 5f70 6172 745f 315f  end(core_part_1_
-000094a0: 766f 6c75 6d65 290a 0a20 2020 2020 2020  volume)..       
-000094b0: 2020 2020 2023 2043 6f72 6520 5061 7274       # Core Part
-000094c0: 2031 2043 616c 6375 6c61 7469 6f6e 0a20   1 Calculation. 
-000094d0: 2020 2020 2020 2020 2020 2023 2043 6f72             # Cor
-000094e0: 6520 7061 7274 2031 2069 7320 6361 6c63  e part 1 is calc
-000094f0: 756c 6174 6564 2061 7320 7468 6520 7375  ulated as the su
-00009500: 6d20 6f66 2074 6872 6565 2064 6966 6665  m of three diffe
-00009510: 7265 6e74 2073 7562 7061 7274 730a 2020  rent subparts.  
-00009520: 2020 2020 2020 2020 2020 2320 7375 6270            # subp
-00009530: 6172 745f 313a 2062 6f74 746f 6d20 6c65  art_1: bottom le
-00009540: 6674 2073 7562 7061 7274 0a20 2020 2020  ft subpart.     
-00009550: 2020 2020 2020 2073 7562 7061 7274 325f         subpart2_
-00009560: 315f 6865 6967 6874 203d 2073 656c 662e  1_height = self.
-00009570: 636f 7265 2e77 696e 646f 775f 685f 626f  core.window_h_bo
-00009580: 7420 2f20 3220 2d20 6865 6967 6874 735b  t / 2 - heights[
-00009590: 305d 202f 2032 0a20 2020 2020 2020 2020  0] / 2.         
-000095a0: 2020 2073 7562 7061 7274 325f 315f 7769     subpart2_1_wi
-000095b0: 6474 6820 3d20 7365 6c66 2e63 6f72 652e  dth = self.core.
-000095c0: 636f 7265 5f69 6e6e 6572 5f64 6961 6d65  core_inner_diame
-000095d0: 7465 7220 2f20 320a 2020 2020 2020 2020  ter / 2.        
-000095e0: 2020 2020 7375 6270 6172 7432 5f31 5f76      subpart2_1_v
-000095f0: 6f6c 756d 6520 3d20 6e70 2e70 6920 2a20  olume = np.pi * 
-00009600: 7375 6270 6172 7432 5f31 5f77 6964 7468  subpart2_1_width
-00009610: 202a 2a20 3220 2a20 7375 6270 6172 7432   ** 2 * subpart2
-00009620: 5f31 5f68 6569 6768 740a 0a20 2020 2020  _1_height..     
-00009630: 2020 2020 2020 2023 2073 7562 7061 7274         # subpart
-00009640: 5f32 203a 2062 6f74 746f 6d20 6d69 6420  _2 : bottom mid 
-00009650: 7375 6270 6172 740a 2020 2020 2020 2020  subpart.        
-00009660: 2020 2020 7375 6270 6172 7432 5f32 5f68      subpart2_2_h
-00009670: 6569 6768 7420 3d20 7365 6c66 2e63 6f72  eight = self.cor
-00009680: 652e 636f 7265 5f69 6e6e 6572 5f64 6961  e.core_inner_dia
-00009690: 6d65 7465 7220 2f20 340a 2020 2020 2020  meter / 4.      
-000096a0: 2020 2020 2020 7375 6270 6172 7432 5f32        subpart2_2
-000096b0: 5f77 6964 7468 203d 2073 656c 662e 636f  _width = self.co
-000096c0: 7265 2e72 5f6f 7574 6572 0a20 2020 2020  re.r_outer.     
-000096d0: 2020 2020 2020 2073 7562 7061 7274 325f         subpart2_
-000096e0: 325f 766f 6c75 6d65 203d 206e 702e 7069  2_volume = np.pi
-000096f0: 202a 2073 7562 7061 7274 325f 325f 7769   * subpart2_2_wi
-00009700: 6474 6820 2a2a 2032 202a 2073 7562 7061  dth ** 2 * subpa
-00009710: 7274 325f 325f 6865 6967 6874 0a0a 2020  rt2_2_height..  
-00009720: 2020 2020 2020 2020 2020 2320 7375 6270            # subp
-00009730: 6172 745f 333a 2062 6f74 746f 6d20 7269  art_3: bottom ri
-00009740: 6768 7420 7375 6270 6172 740a 2020 2020  ght subpart.    
-00009750: 2020 2020 2020 2020 7375 6270 6172 7432          subpart2
-00009760: 5f33 5f68 6569 6768 7420 3d20 7365 6c66  _3_height = self
-00009770: 2e63 6f72 652e 7769 6e64 6f77 5f68 5f62  .core.window_h_b
-00009780: 6f74 0a20 2020 2020 2020 2020 2020 2073  ot.            s
-00009790: 7562 7061 7274 325f 335f 7769 6474 6820  ubpart2_3_width 
-000097a0: 3d20 7365 6c66 2e63 6f72 652e 725f 6f75  = self.core.r_ou
-000097b0: 7465 720a 2020 2020 2020 2020 2020 2020  ter.            
-000097c0: 7375 6270 6172 7432 5f33 5f76 6f6c 756d  subpart2_3_volum
-000097d0: 6520 3d20 6e70 2e70 6920 2a20 2873 7562  e = np.pi * (sub
-000097e0: 7061 7274 325f 335f 7769 6474 6820 2a2a  part2_3_width **
-000097f0: 2032 202a 2073 7562 7061 7274 325f 335f   2 * subpart2_3_
-00009800: 6865 6967 6874 2920 2d20 5c0a 2020 2020  height) - \.    
-00009810: 2020 2020 2020 2020 2020 2020 6e70 2e70              np.p
-00009820: 6920 2a20 2828 7365 6c66 2e63 6f72 652e  i * ((self.core.
-00009830: 7769 6e64 6f77 5f77 202b 2073 656c 662e  window_w + self.
-00009840: 636f 7265 2e63 6f72 655f 696e 6e65 725f  core.core_inner_
-00009850: 6469 616d 6574 6572 2f32 2920 2a2a 2032  diameter/2) ** 2
-00009860: 202a 2073 656c 662e 636f 7265 2e77 696e   * self.core.win
-00009870: 646f 775f 685f 626f 7429 0a0a 2020 2020  dow_h_bot)..    
-00009880: 2020 2020 2020 2020 2320 5375 6d6d 696e          # Summin
-00009890: 6720 7570 2074 6865 2076 6f6c 756d 6573  g up the volumes
-000098a0: 206f 6620 7468 6520 7375 6270 6172 7473   of the subparts
-000098b0: 2074 6f20 6765 7420 7468 6520 746f 7461   to get the tota
-000098c0: 6c20 766f 6c75 6d65 206f 6620 636f 7265  l volume of core
-000098d0: 2070 6172 7420 310a 2020 2020 2020 2020   part 1.        
-000098e0: 2020 2020 636f 7265 5f70 6172 745f 325f      core_part_2_
-000098f0: 766f 6c75 6d65 203d 2073 7562 7061 7274  volume = subpart
-00009900: 325f 315f 766f 6c75 6d65 202b 2073 7562  2_1_volume + sub
-00009910: 7061 7274 325f 325f 766f 6c75 6d65 202b  part2_2_volume +
-00009920: 2073 7562 7061 7274 325f 335f 766f 6c75   subpart2_3_volu
-00009930: 6d65 0a20 2020 2020 2020 2020 2020 2063  me.            c
-00009940: 6f72 655f 7061 7274 735f 766f 6c75 6d65  ore_parts_volume
-00009950: 732e 6170 7065 6e64 2863 6f72 655f 7061  s.append(core_pa
-00009960: 7274 5f32 5f76 6f6c 756d 6529 0a0a 2020  rt_2_volume)..  
-00009970: 2020 2020 2020 2020 2020 2320 636f 7265            # core
-00009980: 5f70 6172 745f 3320 3a20 6c65 6674 206d  _part_3 : left m
-00009990: 6964 2063 6f72 6520 7061 7274 2028 7374  id core part (st
-000099a0: 6163 6b65 6429 0a20 2020 2020 2020 2020  acked).         
-000099b0: 2020 2063 6f72 655f 7061 7274 5f33 5f68     core_part_3_h
-000099c0: 6569 6768 7420 3d20 7365 6c66 2e63 6f72  eight = self.cor
-000099d0: 652e 636f 7265 5f69 6e6e 6572 5f64 6961  e.core_inner_dia
-000099e0: 6d65 7465 7220 2f20 340a 2020 2020 2020  meter / 4.      
-000099f0: 2020 2020 2020 636f 7265 5f70 6172 745f        core_part_
-00009a00: 335f 7769 6474 6820 3d20 7365 6c66 2e63  3_width = self.c
-00009a10: 6f72 652e 725f 696e 6e65 720a 2020 2020  ore.r_inner.    
-00009a20: 2020 2020 2020 2020 636f 7265 5f70 6172          core_par
-00009a30: 745f 335f 766f 6c75 6d65 203d 206e 702e  t_3_volume = np.
-00009a40: 7069 202a 2063 6f72 655f 7061 7274 5f33  pi * core_part_3
-00009a50: 5f77 6964 7468 202a 2a20 3220 2a20 636f  _width ** 2 * co
-00009a60: 7265 5f70 6172 745f 335f 6865 6967 6874  re_part_3_height
-00009a70: 0a20 2020 2020 2020 2020 2020 2063 6f72  .            cor
-00009a80: 655f 7061 7274 735f 766f 6c75 6d65 732e  e_parts_volumes.
-00009a90: 6170 7065 6e64 2863 6f72 655f 7061 7274  append(core_part
-00009aa0: 5f33 5f76 6f6c 756d 6529 0a0a 2020 2020  _3_volume)..    
-00009ab0: 2020 2020 2020 2020 2320 636f 7265 5f70          # core_p
-00009ac0: 6172 745f 343a 2072 6967 6874 206d 6964  art_4: right mid
-00009ad0: 2063 6f72 6520 7061 7274 0a20 2020 2020   core part.     
-00009ae0: 2020 2020 2020 2063 6f72 655f 7061 7274         core_part
-00009af0: 5f34 5f68 6569 6768 7420 3d20 7365 6c66  _4_height = self
-00009b00: 2e63 6f72 652e 636f 7265 5f69 6e6e 6572  .core.core_inner
-00009b10: 5f64 6961 6d65 7465 7220 2f20 340a 2020  _diameter / 4.  
-00009b20: 2020 2020 2020 2020 2020 636f 7265 5f70            core_p
-00009b30: 6172 745f 345f 7769 6474 6820 3d20 7365  art_4_width = se
-00009b40: 6c66 2e63 6f72 652e 725f 6f75 7465 720a  lf.core.r_outer.
-00009b50: 2020 2020 2020 2020 2020 2020 636f 7265              core
-00009b60: 5f70 6172 745f 345f 766f 6c75 6d65 203d  _part_4_volume =
-00009b70: 206e 702e 7069 202a 2063 6f72 655f 7061   np.pi * core_pa
-00009b80: 7274 5f34 5f77 6964 7468 202a 2a20 3220  rt_4_width ** 2 
-00009b90: 2a20 636f 7265 5f70 6172 745f 345f 6865  * core_part_4_he
-00009ba0: 6967 6874 202d 2063 6f72 655f 7061 7274  ight - core_part
-00009bb0: 5f33 5f76 6f6c 756d 650a 2020 2020 2020  _3_volume.      
-00009bc0: 2020 2020 2020 636f 7265 5f70 6172 7473        core_parts
-00009bd0: 5f76 6f6c 756d 6573 2e61 7070 656e 6428  _volumes.append(
-00009be0: 636f 7265 5f70 6172 745f 345f 766f 6c75  core_part_4_volu
-00009bf0: 6d65 290a 0a20 2020 2020 2020 2020 2020  me)..           
-00009c00: 2023 2063 6f72 655f 7061 7274 5f35 0a20   # core_part_5. 
-00009c10: 2020 2020 2020 2020 2020 2023 2063 6f72             # cor
-00009c20: 655f 7061 7274 5f35 2069 7320 6469 7669  e_part_5 is divi
-00009c30: 6465 6420 696e 746f 2033 2070 6172 7473  ded into 3 parts
-00009c40: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
-00009c50: 7562 7061 7274 5f31 3a20 6c65 6674 2074  ubpart_1: left t
-00009c60: 6f70 2073 7562 7061 7274 0a20 2020 2020  op subpart.     
-00009c70: 2020 2020 2020 2073 7562 7061 7274 355f         subpart5_
-00009c80: 315f 6865 6967 6874 203d 2073 656c 662e  1_height = self.
-00009c90: 636f 7265 2e77 696e 646f 775f 685f 746f  core.window_h_to
-00009ca0: 7020 2d20 6865 6967 6874 735b 315d 202f  p - heights[1] /
-00009cb0: 2032 0a20 2020 2020 2020 2020 2020 2073   2.            s
-00009cc0: 7562 7061 7274 355f 315f 7769 6474 6820  ubpart5_1_width 
-00009cd0: 3d20 7365 6c66 2e63 6f72 652e 636f 7265  = self.core.core
-00009ce0: 5f69 6e6e 6572 5f64 6961 6d65 7465 7220  _inner_diameter 
-00009cf0: 2f20 320a 2020 2020 2020 2020 2020 2020  / 2.            
-00009d00: 7375 6270 6172 7435 5f31 5f76 6f6c 756d  subpart5_1_volum
-00009d10: 6520 3d20 6e70 2e70 6920 2a20 7375 6270  e = np.pi * subp
-00009d20: 6172 7435 5f31 5f77 6964 7468 202a 2a20  art5_1_width ** 
-00009d30: 3220 2a20 7375 6270 6172 7435 5f31 5f68  2 * subpart5_1_h
-00009d40: 6569 6768 740a 0a20 2020 2020 2020 2020  eight..         
-00009d50: 2020 2023 2073 7562 7061 7274 5f32 3a20     # subpart_2: 
-00009d60: 6d69 6420 746f 7020 7375 6270 6172 740a  mid top subpart.
-00009d70: 2020 2020 2020 2020 2020 2020 7375 6270              subp
-00009d80: 6172 7435 5f32 5f68 6569 6768 7420 3d20  art5_2_height = 
-00009d90: 7365 6c66 2e63 6f72 652e 636f 7265 5f69  self.core.core_i
-00009da0: 6e6e 6572 5f64 6961 6d65 7465 7220 2f20  nner_diameter / 
-00009db0: 340a 2020 2020 2020 2020 2020 2020 7375  4.            su
-00009dc0: 6270 6172 7435 5f32 5f77 6964 7468 203d  bpart5_2_width =
-00009dd0: 2073 656c 662e 636f 7265 2e72 5f6f 7574   self.core.r_out
-00009de0: 6572 0a20 2020 2020 2020 2020 2020 2073  er.            s
-00009df0: 7562 7061 7274 355f 325f 766f 6c75 6d65  ubpart5_2_volume
-00009e00: 203d 206e 702e 7069 202a 2073 7562 7061   = np.pi * subpa
-00009e10: 7274 355f 325f 7769 6474 6820 2a2a 2032  rt5_2_width ** 2
-00009e20: 202a 2073 7562 7061 7274 355f 325f 6865   * subpart5_2_he
-00009e30: 6967 6874 0a0a 2020 2020 2020 2020 2020  ight..          
-00009e40: 2020 2320 7375 6270 6172 7420 333a 2074    # subpart 3: t
-00009e50: 6f70 2072 6967 6874 2073 7562 7061 7274  op right subpart
-00009e60: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
-00009e70: 7061 7274 355f 335f 6865 6967 6874 203d  part5_3_height =
-00009e80: 2073 656c 662e 636f 7265 2e77 696e 646f   self.core.windo
-00009e90: 775f 685f 746f 700a 2020 2020 2020 2020  w_h_top.        
-00009ea0: 2020 2020 7375 6270 6172 7435 5f33 5f77      subpart5_3_w
-00009eb0: 6964 7468 203d 2073 656c 662e 636f 7265  idth = self.core
-00009ec0: 2e72 5f6f 7574 6572 0a20 2020 2020 2020  .r_outer.       
-00009ed0: 2020 2020 2073 7562 7061 7274 355f 335f       subpart5_3_
-00009ee0: 766f 6c75 6d65 203d 206e 702e 7069 202a  volume = np.pi *
-00009ef0: 2028 7375 6270 6172 7435 5f33 5f77 6964   (subpart5_3_wid
-00009f00: 7468 202a 2a20 3220 2a20 7375 6270 6172  th ** 2 * subpar
-00009f10: 7435 5f33 5f68 6569 6768 7429 202d 205c  t5_3_height) - \
-00009f20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00009f30: 206e 702e 7069 202a 2028 2873 656c 662e   np.pi * ((self.
-00009f40: 636f 7265 2e77 696e 646f 775f 7720 2b20  core.window_w + 
-00009f50: 7365 6c66 2e63 6f72 652e 636f 7265 5f69  self.core.core_i
-00009f60: 6e6e 6572 5f64 6961 6d65 7465 7220 2f20  nner_diameter / 
-00009f70: 3229 202a 2a20 3220 2a20 7365 6c66 2e63  2) ** 2 * self.c
-00009f80: 6f72 652e 7769 6e64 6f77 5f68 5f74 6f70  ore.window_h_top
-00009f90: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-00009fa0: 2053 756d 6d69 6e67 2075 7020 7468 6520   Summing up the 
-00009fb0: 766f 6c75 6d65 7320 6f66 2074 6865 2073  volumes of the s
-00009fc0: 7562 7061 7274 7320 746f 2067 6574 2074  ubparts to get t
-00009fd0: 6865 2074 6f74 616c 2076 6f6c 756d 6520  he total volume 
-00009fe0: 6f66 2063 6f72 655f 7061 7274 5f35 0a20  of core_part_5. 
-00009ff0: 2020 2020 2020 2020 2020 2063 6f72 655f             core_
-0000a000: 7061 7274 5f35 5f76 6f6c 756d 6520 3d20  part_5_volume = 
-0000a010: 7375 6270 6172 7435 5f31 5f76 6f6c 756d  subpart5_1_volum
-0000a020: 6520 2b20 7375 6270 6172 7435 5f32 5f76  e + subpart5_2_v
-0000a030: 6f6c 756d 6520 2b20 7375 6270 6172 7435  olume + subpart5
-0000a040: 5f33 5f76 6f6c 756d 650a 2020 2020 2020  _3_volume.      
-0000a050: 2020 2020 2020 636f 7265 5f70 6172 7473        core_parts
-0000a060: 5f76 6f6c 756d 6573 2e61 7070 656e 6428  _volumes.append(
-0000a070: 636f 7265 5f70 6172 745f 355f 766f 6c75  core_part_5_volu
-0000a080: 6d65 290a 0a20 2020 2020 2020 2023 2043  me)..        # C
-0000a090: 6f72 6520 566f 6c75 6d65 2043 6f6e 7369  ore Volume Consi
-0000a0a0: 7374 656e 6379 2043 6865 636b 0a20 2020  stency Check.   
-0000a0b0: 2020 2020 2023 2053 756d 2061 6c6c 2074       # Sum all t
-0000a0c0: 6865 2063 6f72 6520 7061 7274 2076 6f6c  he core part vol
-0000a0d0: 756d 6573 0a20 2020 2020 2020 2074 6f74  umes.        tot
-0000a0e0: 616c 5f70 6172 7473 5f76 6f6c 756d 6520  al_parts_volume 
-0000a0f0: 3d20 7375 6d28 636f 7265 5f70 6172 7473  = sum(core_parts
-0000a100: 5f76 6f6c 756d 6573 290a 0a20 2020 2020  _volumes)..     
-0000a110: 2020 2023 2043 616c 6375 6c61 7465 2074     # Calculate t
-0000a120: 6865 2077 686f 6c65 2063 6f72 6520 766f  he whole core vo
-0000a130: 6c75 6d65 0a20 2020 2020 2020 2077 686f  lume.        who
-0000a140: 6c65 5f63 6f72 655f 766f 6c75 6d65 203d  le_core_volume =
-0000a150: 2073 656c 662e 6361 6c63 756c 6174 655f   self.calculate_
-0000a160: 636f 7265 5f76 6f6c 756d 6528 290a 0a20  core_volume().. 
-0000a170: 2020 2020 2020 2023 2044 6566 696e 6520         # Define 
-0000a180: 6120 6d61 7267 696e 206f 6620 6572 726f  a margin of erro
-0000a190: 720a 2020 2020 2020 2020 6d61 7267 696e  r.        margin
-0000a1a0: 5f6f 665f 6572 726f 7220 3d20 3165 2d35  _of_error = 1e-5
-0000a1b0: 0a0a 2020 2020 2020 2020 2320 4368 6563  ..        # Chec
-0000a1c0: 6b20 6966 2074 6865 2076 6f6c 756d 6573  k if the volumes
-0000a1d0: 2061 7265 2065 7175 616c 2077 6974 6869   are equal withi
-0000a1e0: 6e20 7468 6520 6d61 7267 696e 206f 6620  n the margin of 
-0000a1f0: 6572 726f 720a 2020 2020 2020 2020 6966  error.        if
-0000a200: 206e 6f74 2028 6162 7328 7768 6f6c 655f   not (abs(whole_
-0000a210: 636f 7265 5f76 6f6c 756d 6520 2d20 746f  core_volume - to
-0000a220: 7461 6c5f 7061 7274 735f 766f 6c75 6d65  tal_parts_volume
-0000a230: 2920 3c3d 206d 6172 6769 6e5f 6f66 5f65  ) <= margin_of_e
-0000a240: 7272 6f72 293a 0a20 2020 2020 2020 2020  rror):.         
-0000a250: 2020 2065 7272 6f72 5f6d 6573 7361 6765     error_message
-0000a260: 203d 2028 6622 5375 6d20 6f66 2063 6f72   = (f"Sum of cor
-0000a270: 6520 7061 7274 7320 287b 746f 7461 6c5f  e parts ({total_
-0000a280: 7061 7274 735f 766f 6c75 6d65 7d29 2064  parts_volume}) d
-0000a290: 6f65 7320 6e6f 7420 6571 7561 6c74 6865  oes not equalthe
-0000a2a0: 2077 686f 6c65 2063 6f72 6520 2022 0a20   whole core  ". 
-0000a2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a2c0: 2020 2020 2020 2020 2020 2020 6622 766f              f"vo
-0000a2d0: 6c75 6d65 2028 7b77 686f 6c65 5f63 6f72  lume ({whole_cor
-0000a2e0: 655f 766f 6c75 6d65 7d29 2077 6974 6869  e_volume}) withi
-0000a2f0: 6e20 7468 6520 6d61 7267 696e 206f 6620  n the margin of 
-0000a300: 6572 726f 7220 287b 6d61 7267 696e 5f6f  error ({margin_o
-0000a310: 665f 6572 726f 727d 292e 2229 0a20 2020  f_error}).").   
-0000a320: 2020 2020 2020 2020 2072 6169 7365 2056           raise V
-0000a330: 616c 7565 4572 726f 7228 6572 726f 725f  alueError(error_
-0000a340: 6d65 7373 6167 6529 0a0a 2020 2020 2020  message)..      
-0000a350: 2020 2320 5265 7475 726e 696e 6720 7468    # Returning th
-0000a360: 6520 6669 6e61 6c20 6c69 7374 206f 6620  e final list of 
-0000a370: 636f 7265 2070 6172 7420 766f 6c75 6d65  core part volume
-0000a380: 730a 2020 2020 2020 2020 7265 7475 726e  s.        return
-0000a390: 2063 6f72 655f 7061 7274 735f 766f 6c75   core_parts_volu
-0000a3a0: 6d65 730a 0a20 2020 2064 6566 2063 616c  mes..    def cal
-0000a3b0: 6375 6c61 7465 5f63 6f72 655f 7765 6967  culate_core_weig
-0000a3c0: 6874 2873 656c 6629 202d 3e20 666c 6f61  ht(self) -> floa
-0000a3d0: 743a 0a20 2020 2020 2020 2022 2222 0a20  t:.        """. 
-0000a3e0: 2020 2020 2020 2043 616c 6375 6c61 7465         Calculate
-0000a3f0: 2074 6865 2077 6569 6768 7420 6f66 2074   the weight of t
-0000a400: 6865 2063 6f72 6520 696e 206b 672e 0a0a  he core in kg...
-0000a410: 2020 2020 2020 2020 5468 6973 206d 6574          This met
-0000a420: 686f 6420 6973 2075 7369 6e67 2074 6865  hod is using the
-0000a430: 2063 6f72 6520 766f 6c75 6d65 2066 726f   core volume fro
-0000a440: 6d20 666f 7220 616e 2069 6465 616c 2072  m for an ideal r
-0000a450: 6f74 6174 696f 6e2d 7379 6d6d 6574 7269  otation-symmetri
-0000a460: 6320 636f 7265 2061 6e64 2074 6865 2076  c core and the v
-0000a470: 6f6c 756d 6574 7269 6320 6d61 7373 0a20  olumetric mass. 
-0000a480: 2020 2020 2020 2064 656e 7369 7479 2066         density f
-0000a490: 726f 6d20 7468 6520 6d61 7465 7269 616c  rom the material
-0000a4a0: 2064 6174 6162 6173 652e 0a20 2020 2020   database..     
-0000a4b0: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0000a4c0: 6620 7365 6c66 2e63 6f72 652e 6d61 7465  f self.core.mate
-0000a4d0: 7269 616c 203d 3d20 2763 7573 746f 6d27  rial == 'custom'
-0000a4e0: 3a0a 2020 2020 2020 2020 2020 2020 766f  :.            vo
-0000a4f0: 6c75 6d65 7472 6963 5f6d 6173 735f 6465  lumetric_mass_de
-0000a500: 6e73 6974 7920 3d20 300a 2020 2020 2020  nsity = 0.      
-0000a510: 2020 2020 2020 7761 726e 696e 6773 2e77        warnings.w
-0000a520: 6172 6e28 2256 6f6c 756d 6574 7269 6320  arn("Volumetric 
-0000a530: 6d61 7373 2064 656e 7369 7479 206e 6f74  mass density not
-0000a540: 2069 6d70 6c65 6d65 6e74 6564 2066 6f72   implemented for
-0000a550: 2063 7573 746f 6d20 636f 7265 732e 2022   custom cores. "
-0000a560: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a570: 2020 2020 2020 2020 2020 2022 5265 7475             "Retu
-0000a580: 726e 7320 2730 2720 696e 206c 6f67 2d66  rns '0' in log-f
-0000a590: 696c 653a 2043 6f72 6520 636f 7374 2077  ile: Core cost w
-0000a5a0: 696c 6c20 616c 736f 2072 6573 756c 7420  ill also result 
-0000a5b0: 746f 2030 2e22 2c0a 2020 2020 2020 2020  to 0.",.        
-0000a5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a5d0: 2020 7374 6163 6b6c 6576 656c 3d32 290a    stacklevel=2).
-0000a5e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000a5f0: 2020 2020 2020 2020 2020 766f 6c75 6d65            volume
-0000a600: 7472 6963 5f6d 6173 735f 6465 6e73 6974  tric_mass_densit
-0000a610: 7920 3d20 7365 6c66 2e63 6f72 652e 6d61  y = self.core.ma
-0000a620: 7465 7269 616c 5f64 6174 6162 6173 652e  terial_database.
-0000a630: 6765 745f 6d61 7465 7269 616c 5f61 7474  get_material_att
-0000a640: 7269 6275 7465 280a 2020 2020 2020 2020  ribute(.        
-0000a650: 2020 2020 2020 2020 6d61 7465 7269 616c          material
-0000a660: 5f6e 616d 653d 7365 6c66 2e63 6f72 652e  _name=self.core.
-0000a670: 6d61 7465 7269 616c 2c20 6174 7472 6962  material, attrib
-0000a680: 7574 653d 2276 6f6c 756d 6574 7269 635f  ute="volumetric_
-0000a690: 6d61 7373 5f64 656e 7369 7479 2229 0a20  mass_density"). 
-0000a6a0: 2020 2020 2020 2072 6574 7572 6e20 7365         return se
-0000a6b0: 6c66 2e63 616c 6375 6c61 7465 5f63 6f72  lf.calculate_cor
-0000a6c0: 655f 766f 6c75 6d65 2829 202a 2076 6f6c  e_volume() * vol
-0000a6d0: 756d 6574 7269 635f 6d61 7373 5f64 656e  umetric_mass_den
-0000a6e0: 7369 7479 0a0a 2020 2020 6465 6620 6765  sity..    def ge
-0000a6f0: 745f 7769 7265 5f64 6973 7461 6e63 6573  t_wire_distances
-0000a700: 2873 656c 6629 202d 3e20 4c69 7374 5b4c  (self) -> List[L
-0000a710: 6973 745b 666c 6f61 745d 5d3a 0a20 2020  ist[float]]:.   
-0000a720: 2020 2020 2022 2222 5265 7475 726e 2074       """Return t
-0000a730: 6865 2064 6973 7461 6e63 6520 2872 6164  he distance (rad
-0000a740: 6975 7329 206f 6620 6561 6368 2063 6f6e  ius) of each con
-0000a750: 6475 6374 6f72 2074 6f20 7468 6520 792d  ductor to the y-
-0000a760: 6178 6973 2e0a 0a20 2020 2020 2020 203a  axis...        :
-0000a770: 7265 7475 726e 3a20 5769 7265 2064 6973  return: Wire dis
-0000a780: 7461 6e63 6573 0a20 2020 2020 2020 203a  tances.        :
-0000a790: 7274 7970 653a 204c 6973 745b 4c69 7374  rtype: List[List
-0000a7a0: 5b66 6c6f 6174 5d5d 0a20 2020 2020 2020  [float]].       
-0000a7b0: 2022 2222 0a20 2020 2020 2020 2023 2077   """.        # w
-0000a7c0: 6972 655f 6469 7374 616e 6365 203d 205b  ire_distance = [
-0000a7d0: 5d0a 2020 2020 2020 2020 2320 666f 7220  ].        # for 
-0000a7e0: 7769 6e64 696e 6720 696e 2073 656c 662e  winding in self.
-0000a7f0: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
-0000a800: 7563 746f 723a 0a20 2020 2020 2020 2023  uctor:.        #
-0000a810: 2020 2020 2023 2035 2070 6f69 6e74 7320       # 5 points 
-0000a820: 6172 6520 666f 7220 3120 7769 7265 0a20  are for 1 wire. 
-0000a830: 2020 2020 2020 2023 2020 2020 206e 756d         #     num
-0000a840: 5f70 6f69 6e74 7320 3d20 6c65 6e28 7769  _points = len(wi
-0000a850: 6e64 696e 6729 0a20 2020 2020 2020 2023  nding).        #
-0000a860: 2020 2020 206e 756d 5f77 696e 6469 6e67       num_winding
-0000a870: 7320 3d20 6e75 6d5f 706f 696e 7473 202f  s = num_points /
-0000a880: 2f20 350a 2020 2020 2020 2020 2320 2020  / 5.        #   
-0000a890: 2020 7769 6e64 696e 675f 6c69 7374 203d    winding_list =
-0000a8a0: 205b 5d0a 2020 2020 2020 2020 2320 2020   [].        #   
-0000a8b0: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-0000a8c0: 286e 756d 5f77 696e 6469 6e67 7329 3a0a  (num_windings):.
-0000a8d0: 2020 2020 2020 2020 2320 2020 2020 2020          #       
-0000a8e0: 2020 7769 6e64 696e 675f 6c69 7374 2e61    winding_list.a
-0000a8f0: 7070 656e 6428 7769 6e64 696e 675b 6920  ppend(winding[i 
-0000a900: 2a20 355d 5b30 5d29 0a20 2020 2020 2020  * 5][0]).       
-0000a910: 2023 2020 2020 2077 6972 655f 6469 7374   #     wire_dist
-0000a920: 616e 6365 2e61 7070 656e 6428 7769 6e64  ance.append(wind
-0000a930: 696e 675f 6c69 7374 290a 2020 2020 2020  ing_list).      
-0000a940: 2020 230a 2020 2020 2020 2020 2320 7265    #.        # re
-0000a950: 7475 726e 2077 6972 655f 6469 7374 616e  turn wire_distan
-0000a960: 6365 0a0a 2020 2020 2020 2020 7769 7265  ce..        wire
-0000a970: 5f64 6973 7461 6e63 6520 3d20 5b5d 0a20  _distance = []. 
-0000a980: 2020 2020 2020 2066 6f72 205f 2c20 636f         for _, co
-0000a990: 6e64 7563 746f 7220 696e 2065 6e75 6d65  nductor in enume
-0000a9a0: 7261 7465 2873 656c 662e 7477 6f5f 645f  rate(self.two_d_
-0000a9b0: 6178 692e 705f 636f 6e64 7563 746f 7229  axi.p_conductor)
-0000a9c0: 3a0a 2020 2020 2020 2020 2020 2020 6e75  :.            nu
-0000a9d0: 6d5f 706f 696e 7473 203d 206c 656e 2863  m_points = len(c
-0000a9e0: 6f6e 6475 6374 6f72 290a 2020 2020 2020  onductor).      
-0000a9f0: 2020 2020 2020 6e75 6d5f 7475 726e 7320        num_turns 
-0000aa00: 3d20 6e75 6d5f 706f 696e 7473 202f 2f20  = num_points // 
-0000aa10: 350a 2020 2020 2020 2020 2020 2020 706f  5.            po
-0000aa20: 696e 745f 696e 6372 656d 656e 7420 3d20  int_increment = 
-0000aa30: 350a 0a20 2020 2020 2020 2020 2020 2077  5..            w
-0000aa40: 696e 6469 6e67 5f6c 6973 7420 3d20 5b5d  inding_list = []
-0000aa50: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0000aa60: 2069 2069 6e20 7261 6e67 6528 6e75 6d5f   i in range(num_
-0000aa70: 7475 726e 7329 3a0a 2020 2020 2020 2020  turns):.        
-0000aa80: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
-0000aa90: 6c69 7374 2e61 7070 656e 6428 636f 6e64  list.append(cond
-0000aaa0: 7563 746f 725b 6920 2a20 706f 696e 745f  uctor[i * point_
-0000aab0: 696e 6372 656d 656e 745d 5b30 5d29 0a20  increment][0]). 
-0000aac0: 2020 2020 2020 2020 2020 2077 6972 655f             wire_
-0000aad0: 6469 7374 616e 6365 2e61 7070 656e 6428  distance.append(
-0000aae0: 7769 6e64 696e 675f 6c69 7374 290a 0a20  winding_list).. 
-0000aaf0: 2020 2020 2020 2072 6574 7572 6e20 7769         return wi
-0000ab00: 7265 5f64 6973 7461 6e63 650a 0a20 2020  re_distance..   
-0000ab10: 2064 6566 2063 616c 6375 6c61 7465 5f77   def calculate_w
-0000ab20: 6972 655f 6c65 6e67 7468 7328 7365 6c66  ire_lengths(self
-0000ab30: 2920 2d3e 204c 6973 745b 666c 6f61 745d  ) -> List[float]
-0000ab40: 3a0a 2020 2020 2020 2020 2222 2243 616c  :.        """Cal
-0000ab50: 6375 6c61 7465 2074 6865 2077 6972 6520  culate the wire 
-0000ab60: 6c65 6e67 7468 206f 6620 616c 6c20 636f  length of all co
-0000ab70: 6e64 7563 746f 7273 2069 6e73 6964 6520  nductors inside 
-0000ab80: 7468 6520 6d61 676e 6574 6963 2063 6f6d  the magnetic com
-0000ab90: 706f 6e65 6e74 2e22 2222 0a20 2020 2020  ponent.""".     
-0000aba0: 2020 2064 6973 7461 6e63 6573 203d 2073     distances = s
-0000abb0: 656c 662e 6765 745f 7769 7265 5f64 6973  elf.get_wire_dis
-0000abc0: 7461 6e63 6573 2829 0a20 2020 2020 2020  tances().       
-0000abd0: 206c 656e 6774 6873 203d 205b 5d0a 2020   lengths = [].  
-0000abe0: 2020 2020 2020 666f 7220 7769 6e64 696e        for windin
-0000abf0: 6720 696e 2064 6973 7461 6e63 6573 3a0a  g in distances:.
-0000ac00: 2020 2020 2020 2020 2020 2020 6c65 6e67              leng
-0000ac10: 7468 732e 6170 7065 6e64 2873 756d 285b  ths.append(sum([
-0000ac20: 3220 2a20 6e70 2e70 6920 2a20 7475 726e  2 * np.pi * turn
-0000ac30: 2066 6f72 2074 7572 6e20 696e 2077 696e   for turn in win
-0000ac40: 6469 6e67 5d29 290a 0a20 2020 2020 2020  ding]))..       
-0000ac50: 2072 6574 7572 6e20 6c65 6e67 7468 730a   return lengths.
-0000ac60: 0a20 2020 2064 6566 2063 616c 6375 6c61  .    def calcula
-0000ac70: 7465 5f77 6972 655f 766f 6c75 6d65 7328  te_wire_volumes(
-0000ac80: 7365 6c66 2920 2d3e 204c 6973 745b 666c  self) -> List[fl
-0000ac90: 6f61 745d 3a0a 2020 2020 2020 2020 2222  oat]:.        ""
-0000aca0: 2243 616c 6375 6c61 7465 2074 6865 2077  "Calculate the w
-0000acb0: 6972 6520 766f 6c75 6d65 206f 6620 7468  ire volume of th
-0000acc0: 6520 6d61 676e 6574 6963 2063 6f6d 706f  e magnetic compo
-0000acd0: 6e65 6e74 2e22 2222 0a20 2020 2020 2020  nent.""".       
-0000ace0: 2077 6972 655f 766f 6c75 6d65 7320 3d20   wire_volumes = 
-0000acf0: 5b5d 0a20 2020 2020 2020 2077 6972 655f  [].        wire_
-0000ad00: 6c65 6e67 7468 7320 3d20 7365 6c66 2e63  lengths = self.c
-0000ad10: 616c 6375 6c61 7465 5f77 6972 655f 6c65  alculate_wire_le
-0000ad20: 6e67 7468 7328 290a 2020 2020 2020 2020  ngths().        
-0000ad30: 666f 7220 696e 6465 782c 2077 696e 6469  for index, windi
-0000ad40: 6e67 2069 6e20 656e 756d 6572 6174 6528  ng in enumerate(
-0000ad50: 7365 6c66 2e77 696e 6469 6e67 7329 3a0a  self.windings):.
-0000ad60: 2020 2020 2020 2020 2020 2020 6372 6f73              cros
-0000ad70: 735f 7365 6374 696f 6e5f 6172 6561 203d  s_section_area =
-0000ad80: 2030 0a20 2020 2020 2020 2020 2020 2069   0.            i
-0000ad90: 6620 7769 6e64 696e 672e 636f 6e64 7563  f winding.conduc
-0000ada0: 746f 725f 7479 7065 203d 3d20 436f 6e64  tor_type == Cond
-0000adb0: 7563 746f 7254 7970 652e 526f 756e 644c  uctorType.RoundL
-0000adc0: 6974 7a20 6f72 2077 696e 6469 6e67 2e63  itz or winding.c
-0000add0: 6f6e 6475 6374 6f72 5f74 7970 6520 3d3d  onductor_type ==
-0000ade0: 2043 6f6e 6475 6374 6f72 5479 7065 2e52   ConductorType.R
-0000adf0: 6f75 6e64 536f 6c69 643a 0a20 2020 2020  oundSolid:.     
-0000ae00: 2020 2020 2020 2020 2020 2023 2046 6f72             # For
-0000ae10: 2072 6f75 6e64 2077 6972 6520 6974 2069   round wire it i
-0000ae20: 7320 616c 7761 7973 2074 6865 2073 616d  s always the sam
-0000ae30: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-0000ae40: 2020 6372 6f73 735f 7365 6374 696f 6e5f    cross_section_
-0000ae50: 6172 6561 203d 206e 702e 7069 202a 2077  area = np.pi * w
-0000ae60: 696e 6469 6e67 2e63 6f6e 6475 6374 6f72  inding.conductor
-0000ae70: 5f72 6164 6975 7320 2a2a 2032 0a20 2020  _radius ** 2.   
-0000ae80: 2020 2020 2020 2020 2065 6c69 6620 7769           elif wi
-0000ae90: 6e64 696e 672e 636f 6e64 7563 746f 725f  nding.conductor_
-0000aea0: 7479 7065 203d 3d20 436f 6e64 7563 746f  type == Conducto
-0000aeb0: 7254 7970 652e 5265 6374 616e 6775 6c61  rType.Rectangula
-0000aec0: 7253 6f6c 6964 3a0a 2020 2020 2020 2020  rSolid:.        
-0000aed0: 2020 2020 2020 2020 2320 5369 6e63 6520          # Since 
-0000aee0: 7468 6520 666f 696c 2073 697a 6573 2061  the foil sizes a
-0000aef0: 6c73 6f20 6465 7065 6e64 7320 6f6e 2074  lso depends on t
-0000af00: 6865 2077 696e 6469 6e67 2073 6368 656d  he winding schem
-0000af10: 652c 2063 6f6e 6475 6374 6f72 5f61 7272  e, conductor_arr
-0000af20: 616e 6765 6d65 6e74 2061 6e64 2077 7261  angement and wra
-0000af30: 705f 7061 7261 5f74 7970 650a 2020 2020  p_para_type.    
-0000af40: 2020 2020 2020 2020 2020 2020 2320 7468              # th
-0000af50: 6520 766f 6c75 6d65 2063 616c 6375 6c61  e volume calcula
-0000af60: 7469 6f6e 2069 7320 6469 6666 6572 656e  tion is differen
-0000af70: 742e 0a20 2020 2020 2020 2020 2020 2020  t..             
-0000af80: 2020 2066 6f72 2077 7720 696e 2073 656c     for ww in sel
-0000af90: 662e 7769 6e64 696e 675f 7769 6e64 6f77  f.winding_window
-0000afa0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-0000afb0: 2020 2020 2020 2066 6f72 2076 7777 5f69         for vww_i
-0000afc0: 6e64 6578 2c20 7677 7720 696e 2065 6e75  ndex, vww in enu
-0000afd0: 6d65 7261 7465 2877 772e 7669 7274 7561  merate(ww.virtua
-0000afe0: 6c5f 7769 6e64 696e 675f 7769 6e64 6f77  l_winding_window
-0000aff0: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-0000b000: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-0000b010: 696e 675f 7479 7065 203d 2076 7777 2e77  ing_type = vww.w
-0000b020: 696e 6469 6e67 5f74 7970 650a 2020 2020  inding_type.    
-0000b030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b040: 2020 2020 7769 6e64 696e 675f 7363 6865      winding_sche
-0000b050: 6d65 203d 2076 7777 2e77 696e 6469 6e67  me = vww.winding
-0000b060: 5f73 6368 656d 650a 2020 2020 2020 2020  _scheme.        
-0000b070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b080: 7772 6170 5f70 6172 615f 7479 7065 203d  wrap_para_type =
-0000b090: 2076 7777 2e77 7261 705f 7061 7261 0a20   vww.wrap_para. 
-0000b0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0b0: 2020 2020 2020 2066 6f72 2076 7777 5f77         for vww_w
-0000b0c0: 696e 6469 6e67 2069 6e20 7677 772e 7769  inding in vww.wi
-0000b0d0: 6e64 696e 6773 3a0a 2020 2020 2020 2020  ndings:.        
-0000b0e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b0f0: 2020 2020 6966 2076 7777 5f77 696e 6469      if vww_windi
-0000b100: 6e67 2e77 696e 6469 6e67 5f6e 756d 6265  ng.winding_numbe
-0000b110: 7220 3d3d 2069 6e64 6578 3a0a 2020 2020  r == index:.    
-0000b120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b130: 2020 2020 2020 2020 2020 2020 6966 2077              if w
-0000b140: 696e 6469 6e67 5f74 7970 6520 3d3d 2057  inding_type == W
-0000b150: 696e 6469 6e67 5479 7065 2e53 696e 676c  indingType.Singl
-0000b160: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000b170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b180: 2020 2020 2020 2069 6620 7769 6e64 696e         if windin
-0000b190: 675f 7363 6865 6d65 203d 3d20 5769 6e64  g_scheme == Wind
-0000b1a0: 696e 6753 6368 656d 652e 4675 6c6c 3a0a  ingScheme.Full:.
+00007760: 2d20 202d 2020 2d20 2020 2d20 202d 2020  -  -  -   -  -  
+00007770: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00007780: 2020 2d20 202d 2020 2d0a 2020 2020 2320    -  -  -.    # 
+00007790: 4d69 7363 656c 6c61 6e65 6f75 730a 2020  Miscellaneous.  
+000077a0: 2020 6465 6620 6361 6c63 756c 6174 655f    def calculate_
+000077b0: 636f 7265 5f76 6f6c 756d 655f 7769 7468  core_volume_with
+000077c0: 5f61 6972 2873 656c 6629 202d 3e20 666c  _air(self) -> fl
+000077d0: 6f61 743a 0a20 2020 2020 2020 2022 2222  oat:.        """
+000077e0: 4361 6c63 756c 6174 6520 7468 6520 766f  Calculate the vo
+000077f0: 6c75 6d65 206f 6620 7468 6520 636f 7265  lume of the core
+00007800: 2069 6e63 6c75 6469 6e67 2061 6972 2e0a   including air..
+00007810: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00007820: 3a20 566f 6c75 6d65 206f 6620 7468 6520  : Volume of the 
+00007830: 636f 7265 0a20 2020 2020 2020 203a 7274  core.        :rt
+00007840: 7970 653a 2066 6c6f 6174 0a20 2020 2020  ype: float.     
+00007850: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
+00007860: 6620 7365 6c66 2e63 6f72 652e 636f 7265  f self.core.core
+00007870: 5f74 7970 6520 3d3d 2043 6f72 6554 7970  _type == CoreTyp
+00007880: 652e 5369 6e67 6c65 3a0a 2020 2020 2020  e.Single:.      
+00007890: 2020 2020 2020 636f 7265 5f68 6569 6768        core_heigh
+000078a0: 7420 3d20 7365 6c66 2e63 6f72 652e 7769  t = self.core.wi
+000078b0: 6e64 6f77 5f68 202b 2073 656c 662e 636f  ndow_h + self.co
+000078c0: 7265 2e63 6f72 655f 696e 6e65 725f 6469  re.core_inner_di
+000078d0: 616d 6574 6572 202f 2032 0a20 2020 2020  ameter / 2.     
+000078e0: 2020 2065 6c69 6620 7365 6c66 2e63 6f72     elif self.cor
+000078f0: 652e 636f 7265 5f74 7970 6520 3d3d 2043  e.core_type == C
+00007900: 6f72 6554 7970 652e 5374 6163 6b65 643a  oreType.Stacked:
+00007910: 0a20 2020 2020 2020 2020 2020 2063 6f72  .            cor
+00007920: 655f 6865 6967 6874 203d 2073 656c 662e  e_height = self.
+00007930: 636f 7265 2e77 696e 646f 775f 685f 626f  core.window_h_bo
+00007940: 7420 2b20 7365 6c66 2e63 6f72 652e 7769  t + self.core.wi
+00007950: 6e64 6f77 5f68 5f74 6f70 202b 2073 656c  ndow_h_top + sel
+00007960: 662e 636f 7265 2e63 6f72 655f 696e 6e65  f.core.core_inne
+00007970: 725f 6469 616d 6574 6572 202a 2033 202f  r_diameter * 3 /
+00007980: 2034 0a20 2020 2020 2020 2020 2020 2023   4.            #
+00007990: 2054 4f44 4f3a 2063 6f75 6c64 2061 6c73   TODO: could als
+000079a0: 6f20 6265 2064 6f6e 6520 6172 6269 7472  o be done arbitr
+000079b0: 6172 696c 790a 0a20 2020 2020 2020 2063  arily..        c
+000079c0: 6f72 655f 7769 6474 6820 3d20 7365 6c66  ore_width = self
+000079d0: 2e63 6f72 652e 725f 6f75 7465 720a 0a20  .core.r_outer.. 
+000079e0: 2020 2020 2020 2072 6574 7572 6e20 6e70         return np
+000079f0: 2e70 6920 2a20 636f 7265 5f77 6964 7468  .pi * core_width
+00007a00: 202a 2a20 3220 2a20 636f 7265 5f68 6569   ** 2 * core_hei
+00007a10: 6768 740a 0a20 2020 2064 6566 2063 616c  ght..    def cal
+00007a20: 6375 6c61 7465 5f63 6f72 655f 766f 6c75  culate_core_volu
+00007a30: 6d65 2873 656c 6629 202d 3e20 666c 6f61  me(self) -> floa
+00007a40: 743a 0a20 2020 2020 2020 2022 2222 4361  t:.        """Ca
+00007a50: 6c63 756c 6174 6520 7468 6520 766f 6c75  lculate the volu
+00007a60: 6d65 206f 6620 7468 6520 636f 7265 2065  me of the core e
+00007a70: 7863 6c75 6469 6e67 2061 6972 2e0a 0a20  xcluding air... 
+00007a80: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
+00007a90: 566f 6c75 6d65 206f 6620 7468 6520 636f  Volume of the co
+00007aa0: 7265 2e0a 2020 2020 2020 2020 3a72 7479  re..        :rty
+00007ab0: 7065 3a20 666c 6f61 740a 2020 2020 2020  pe: float.      
+00007ac0: 2020 2222 220a 2020 2020 2020 2020 636f    """.        co
+00007ad0: 7265 5f68 6569 6768 7420 3d20 4e6f 6e65  re_height = None
+00007ae0: 0a20 2020 2020 2020 2077 696e 6469 6e67  .        winding
+00007af0: 5f68 6569 6768 7420 3d20 4e6f 6e65 0a20  _height = None. 
+00007b00: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
+00007b10: 6f72 652e 636f 7265 5f74 7970 6520 3d3d  ore.core_type ==
+00007b20: 2043 6f72 6554 7970 652e 5369 6e67 6c65   CoreType.Single
+00007b30: 3a0a 2020 2020 2020 2020 2020 2020 636f  :.            co
+00007b40: 7265 5f68 6569 6768 7420 3d20 7365 6c66  re_height = self
+00007b50: 2e63 6f72 652e 7769 6e64 6f77 5f68 202b  .core.window_h +
+00007b60: 2073 656c 662e 636f 7265 2e63 6f72 655f   self.core.core_
+00007b70: 696e 6e65 725f 6469 616d 6574 6572 202f  inner_diameter /
+00007b80: 2032 0a20 2020 2020 2020 2020 2020 2077   2.            w
+00007b90: 696e 6469 6e67 5f68 6569 6768 7420 3d20  inding_height = 
+00007ba0: 7365 6c66 2e63 6f72 652e 7769 6e64 6f77  self.core.window
+00007bb0: 5f68 0a20 2020 2020 2020 2065 6c69 6620  _h.        elif 
+00007bc0: 7365 6c66 2e63 6f72 652e 636f 7265 5f74  self.core.core_t
+00007bd0: 7970 6520 3d3d 2043 6f72 6554 7970 652e  ype == CoreType.
+00007be0: 5374 6163 6b65 643a 0a20 2020 2020 2020  Stacked:.       
+00007bf0: 2020 2020 2063 6f72 655f 6865 6967 6874       core_height
+00007c00: 203d 2073 656c 662e 636f 7265 2e77 696e   = self.core.win
+00007c10: 646f 775f 685f 626f 7420 2b20 7365 6c66  dow_h_bot + self
+00007c20: 2e63 6f72 652e 7769 6e64 6f77 5f68 5f74  .core.window_h_t
+00007c30: 6f70 202b 2073 656c 662e 636f 7265 2e63  op + self.core.c
+00007c40: 6f72 655f 696e 6e65 725f 6469 616d 6574  ore_inner_diamet
+00007c50: 6572 202a 2033 202f 2034 0a20 2020 2020  er * 3 / 4.     
+00007c60: 2020 2020 2020 2023 2054 4f44 4f3a 2063         # TODO: c
+00007c70: 6f75 6c64 2061 6c73 6f20 6265 2064 6f6e  ould also be don
+00007c80: 6520 6172 6269 7472 6172 696c 790a 2020  e arbitrarily.  
+00007c90: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+00007ca0: 675f 6865 6967 6874 203d 2073 656c 662e  g_height = self.
+00007cb0: 636f 7265 2e77 696e 646f 775f 685f 626f  core.window_h_bo
+00007cc0: 7420 2b20 7365 6c66 2e63 6f72 652e 7769  t + self.core.wi
+00007cd0: 6e64 6f77 5f68 5f74 6f70 2020 2320 544f  ndow_h_top  # TO
+00007ce0: 444f 3a20 636f 756c 6420 616c 736f 2062  DO: could also b
+00007cf0: 6520 646f 6e65 2061 7262 6974 7261 7269  e done arbitrari
+00007d00: 6c79 0a0a 2020 2020 2020 2020 636f 7265  ly..        core
+00007d10: 5f77 6964 7468 203d 2073 656c 662e 636f  _width = self.co
+00007d20: 7265 2e72 5f6f 7574 6572 0a0a 2020 2020  re.r_outer..    
+00007d30: 2020 2020 7769 6e64 696e 675f 7769 6474      winding_widt
+00007d40: 6820 3d20 7365 6c66 2e63 6f72 652e 7769  h = self.core.wi
+00007d50: 6e64 6f77 5f77 0a0a 2020 2020 2020 2020  ndow_w..        
+00007d60: 6169 725f 6761 705f 766f 6c75 6d65 203d  air_gap_volume =
+00007d70: 2030 0a20 2020 2020 2020 2069 6e6e 6572   0.        inner
+00007d80: 5f6c 6567 5f77 6964 7468 203d 2073 656c  _leg_width = sel
+00007d90: 662e 636f 7265 2e72 5f69 6e6e 6572 202d  f.core.r_inner -
+00007da0: 2077 696e 6469 6e67 5f77 6964 7468 0a0a   winding_width..
+00007db0: 2020 2020 2020 2020 666f 7220 6c65 675f          for leg_
+00007dc0: 706f 7369 7469 6f6e 2c20 5f2c 2068 6569  position, _, hei
+00007dd0: 6768 7420 696e 2073 656c 662e 6169 725f  ght in self.air_
+00007de0: 6761 7073 2e6d 6964 706f 696e 7473 3a0a  gaps.midpoints:.
+00007df0: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+00007e00: 6567 5f70 6f73 6974 696f 6e20 3d3d 2041  eg_position == A
+00007e10: 6972 4761 704c 6567 506f 7369 7469 6f6e  irGapLegPosition
+00007e20: 2e4c 6566 744c 6567 2e76 616c 7565 3a0a  .LeftLeg.value:.
+00007e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007e40: 2320 6c65 6674 206c 6567 0a20 2020 2020  # left leg.     
+00007e50: 2020 2020 2020 2020 2020 2023 2054 4f44             # TOD
+00007e60: 4f20 7468 6973 2069 7320 7772 6f6e 6720  O this is wrong 
+00007e70: 7369 6e63 6520 7468 6520 6169 7220 6761  since the air ga
+00007e80: 7020 6973 206e 6f74 2063 656e 7465 7265  p is not centere
+00007e90: 6420 6f6e 2074 6865 2079 2061 7869 730a  d on the y axis.
+00007ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007eb0: 7769 6474 6820 3d20 636f 7265 5f77 6964  width = core_wid
+00007ec0: 7468 202d 2073 656c 662e 636f 7265 2e72  th - self.core.r
+00007ed0: 5f69 6e6e 6572 0a20 2020 2020 2020 2020  _inner.         
+00007ee0: 2020 2065 6c69 6620 6c65 675f 706f 7369     elif leg_posi
+00007ef0: 7469 6f6e 203d 3d20 4169 7247 6170 4c65  tion == AirGapLe
+00007f00: 6750 6f73 6974 696f 6e2e 4365 6e74 6572  gPosition.Center
+00007f10: 4c65 672e 7661 6c75 653a 0a20 2020 2020  Leg.value:.     
+00007f20: 2020 2020 2020 2020 2020 2023 2063 656e             # cen
+00007f30: 7465 7220 6c65 670a 2020 2020 2020 2020  ter leg.        
+00007f40: 2020 2020 2020 2020 7769 6474 6820 3d20          width = 
+00007f50: 696e 6e65 725f 6c65 675f 7769 6474 680a  inner_leg_width.
+00007f60: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00007f70: 206c 6567 5f70 6f73 6974 696f 6e20 3d3d   leg_position ==
+00007f80: 2041 6972 4761 704c 6567 506f 7369 7469   AirGapLegPositi
+00007f90: 6f6e 2e52 6967 6874 4c65 672e 7661 6c75  on.RightLeg.valu
+00007fa0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+00007fb0: 2020 2023 2072 6967 6874 206c 6567 0a20     # right leg. 
+00007fc0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00007fd0: 2054 4f44 4f20 7468 6973 2069 7320 7772   TODO this is wr
+00007fe0: 6f6e 6720 7369 6e63 6520 7468 6520 6169  ong since the ai
+00007ff0: 7220 6761 7020 6973 206e 6f74 2063 656e  r gap is not cen
+00008000: 7465 7265 6420 6f6e 2074 6865 2079 2061  tered on the y a
+00008010: 7869 730a 2020 2020 2020 2020 2020 2020  xis.            
+00008020: 2020 2020 7769 6474 6820 3d20 636f 7265      width = core
+00008030: 5f77 6964 7468 202d 2073 656c 662e 636f  _width - self.co
+00008040: 7265 2e72 5f69 6e6e 6572 0a20 2020 2020  re.r_inner.     
+00008050: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00008060: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+00008070: 7365 2045 7863 6570 7469 6f6e 2866 2249  se Exception(f"I
+00008080: 6e76 616c 6964 206c 6567 2070 6f73 6974  nvalid leg posit
+00008090: 696f 6e20 7461 6720 7b6c 6567 5f70 6f73  ion tag {leg_pos
+000080a0: 6974 696f 6e7d 2075 7365 6420 666f 7220  ition} used for 
+000080b0: 616e 2061 6972 2067 6170 2e22 290a 0a20  an air gap.").. 
+000080c0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
+000080d0: 6170 5f76 6f6c 756d 6520 2b3d 206e 702e  ap_volume += np.
+000080e0: 7069 202a 2077 6964 7468 202a 2a20 3220  pi * width ** 2 
+000080f0: 2a20 6865 6967 6874 0a0a 2020 2020 2020  * height..      
+00008100: 2020 7265 7475 726e 206e 702e 7069 202a    return np.pi *
+00008110: 2028 636f 7265 5f77 6964 7468 202a 2a20   (core_width ** 
+00008120: 3220 2a20 636f 7265 5f68 6569 6768 7420  2 * core_height 
+00008130: 2d20 2869 6e6e 6572 5f6c 6567 5f77 6964  - (inner_leg_wid
+00008140: 7468 202b 2077 696e 6469 6e67 5f77 6964  th + winding_wid
+00008150: 7468 2920 2a2a 2032 202a 2077 696e 6469  th) ** 2 * windi
+00008160: 6e67 5f68 6569 6768 7420 2b20 5c0a 2020  ng_height + \.  
+00008170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008180: 2020 2020 2020 696e 6e65 725f 6c65 675f        inner_leg_
+00008190: 7769 6474 6820 2a2a 2032 202a 2077 696e  width ** 2 * win
+000081a0: 6469 6e67 5f68 6569 6768 7429 202d 2061  ding_height) - a
+000081b0: 6972 5f67 6170 5f76 6f6c 756d 650a 0a20  ir_gap_volume.. 
+000081c0: 2020 2064 6566 2063 616c 6375 6c61 7465     def calculate
+000081d0: 5f63 6f72 655f 7061 7274 735f 766f 6c75  _core_parts_volu
+000081e0: 6d65 2873 656c 6629 202d 3e20 6c69 7374  me(self) -> list
+000081f0: 3a0a 2020 2020 2020 2020 2222 2243 616c  :.        """Cal
+00008200: 6375 6c61 7465 2074 6865 2076 6f6c 756d  culate the volum
+00008210: 6520 6f66 2074 6865 2070 6172 7420 636f  e of the part co
+00008220: 7265 2065 7863 6c75 6469 6e67 2061 6972  re excluding air
+00008230: 2e0a 0a20 2020 2020 2020 203a 7265 7475  ...        :retu
+00008240: 726e 3a20 566f 6c75 6d65 206f 6620 7468  rn: Volume of th
+00008250: 6520 636f 7265 2070 6172 742e 0a20 2020  e core part..   
+00008260: 2020 2020 203a 7274 7970 653a 206c 6973       :rtype: lis
+00008270: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
+00008280: 2020 2020 2020 2320 4578 7472 6163 7420        # Extract 
+00008290: 6865 6967 6874 7320 6672 6f6d 2074 6865  heights from the
+000082a0: 206d 6964 706f 696e 7473 206f 6620 6169   midpoints of ai
+000082b0: 7220 6761 7073 0a20 2020 2020 2020 2068  r gaps.        h
+000082c0: 6569 6768 7473 203d 205b 706f 696e 745b  eights = [point[
+000082d0: 325d 2066 6f72 2070 6f69 6e74 2069 6e20  2] for point in 
+000082e0: 7365 6c66 2e61 6972 5f67 6170 732e 6d69  self.air_gaps.mi
+000082f0: 6470 6f69 6e74 735d 0a20 2020 2020 2020  dpoints].       
+00008300: 2063 6f72 655f 7061 7274 735f 766f 6c75   core_parts_volu
+00008310: 6d65 7320 3d20 5b5d 0a0a 2020 2020 2020  mes = []..      
+00008320: 2020 6465 6620 6765 745f 7769 6474 6828    def get_width(
+00008330: 7061 7274 5f6e 756d 6265 7229 3a0a 2020  part_number):.  
+00008340: 2020 2020 2020 2020 2020 2222 220a 2020            """.  
+00008350: 2020 2020 2020 2020 2020 4966 2074 6865            If the
+00008360: 7265 2069 7320 6120 7374 7261 7920 7061  re is a stray pa
+00008370: 7468 2c20 6361 6c63 756c 6174 6520 7769  th, calculate wi
+00008380: 6474 6820 6261 7365 6420 6f6e 2069 7473  dth based on its
+00008390: 2073 7461 7274 696e 6720 696e 6465 7820   starting index 
+000083a0: 616e 6420 7061 7274 206e 756d 6265 722e  and part number.
+000083b0: 0a0a 2020 2020 2020 2020 2020 2020 7061  ..            pa
+000083c0: 7274 5f6e 756d 6265 7220 6973 2074 6865  rt_number is the
+000083d0: 2063 6f72 655f 7061 7274 5f69 2b32 3b20   core_part_i+2; 
+000083e0: 6d65 616e 7320 7468 6174 2069 6620 7468  means that if th
+000083f0: 6520 7374 6172 745f 696e 6465 7820 6973  e start_index is
+00008400: 2030 2c20 7468 6520 7374 7261 7920 7061   0, the stray pa
+00008410: 7468 2069 7320 696e 2063 6f72 655f 7061  th is in core_pa
+00008420: 7274 5f32 0a20 2020 2020 2020 2020 2020  rt_2.           
+00008430: 2069 6620 7468 6520 7374 6172 745f 696e   if the start_in
+00008440: 6465 7820 6973 2031 2c20 7468 6520 7374  dex is 1, the st
+00008450: 7261 7920 7061 7468 2069 7320 696e 2063  ray path is in c
+00008460: 6f72 655f 7061 7274 5f33 2061 6e64 2073  ore_part_3 and s
+00008470: 6f20 6f6e 0a20 2020 2020 2020 2020 2020  o on.           
+00008480: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
+00008490: 2069 6620 7365 6c66 2e73 7472 6179 5f70   if self.stray_p
+000084a0: 6174 6820 616e 6420 7061 7274 5f6e 756d  ath and part_num
+000084b0: 6265 7220 3d3d 2073 656c 662e 7374 7261  ber == self.stra
+000084c0: 795f 7061 7468 2e73 7461 7274 5f69 6e64  y_path.start_ind
+000084d0: 6578 202b 2032 3a0a 2020 2020 2020 2020  ex + 2:.        
+000084e0: 2020 2020 2020 2020 7265 7475 726e 2073          return s
+000084f0: 656c 662e 7374 7261 795f 7061 7468 2e6c  elf.stray_path.l
+00008500: 656e 6774 680a 2020 2020 2020 2020 2020  ength.          
+00008510: 2020 7265 7475 726e 2073 656c 662e 636f    return self.co
+00008520: 7265 2e63 6f72 655f 696e 6e65 725f 6469  re.core_inner_di
+00008530: 616d 6574 6572 202f 2032 0a0a 2020 2020  ameter / 2..    
+00008540: 2020 2020 2320 2320 536f 7274 696e 6720      # # Sorting 
+00008550: 6169 7220 6761 7073 2066 726f 6d20 6c6f  air gaps from lo
+00008560: 7765 7220 746f 2075 7070 6572 0a20 2020  wer to upper.   
+00008570: 2020 2020 2073 6f72 7465 645f 6d69 6470       sorted_midp
+00008580: 6f69 6e74 7320 3d20 736f 7274 6564 2873  oints = sorted(s
+00008590: 656c 662e 6169 725f 6761 7073 2e6d 6964  elf.air_gaps.mid
+000085a0: 706f 696e 7473 2c20 6b65 793d 6c61 6d62  points, key=lamb
+000085b0: 6461 2078 3a20 785b 315d 290a 2020 2020  da x: x[1]).    
+000085c0: 2020 2020 2320 4669 6e64 696e 6720 706f      # Finding po
+000085d0: 7369 7469 6f6e 206f 6620 6669 7273 7420  sition of first 
+000085e0: 6169 7267 6170 0a20 2020 2020 2020 2062  airgap.        b
+000085f0: 6f74 746f 6d6d 6f73 745f 6169 7267 6170  ottommost_airgap
+00008600: 5f70 6f73 6974 696f 6e20 3d20 736f 7274  _position = sort
+00008610: 6564 5f6d 6964 706f 696e 7473 5b30 5d5b  ed_midpoints[0][
+00008620: 315d 0a20 2020 2020 2020 2062 6f74 746f  1].        botto
+00008630: 6d6d 6f73 745f 6169 7267 6170 5f68 6569  mmost_airgap_hei
+00008640: 6768 7420 3d20 736f 7274 6564 5f6d 6964  ght = sorted_mid
+00008650: 706f 696e 7473 5b30 5d5b 325d 0a20 2020  points[0][2].   
+00008660: 2020 2020 2023 2046 696e 6469 6e67 2070       # Finding p
+00008670: 6f73 6974 696f 6e20 6f66 206c 6173 7420  osition of last 
+00008680: 6169 7267 6170 0a20 2020 2020 2020 2074  airgap.        t
+00008690: 6f70 6d6f 7374 5f61 6972 6761 705f 706f  opmost_airgap_po
+000086a0: 7369 7469 6f6e 203d 2073 6f72 7465 645f  sition = sorted_
+000086b0: 6d69 6470 6f69 6e74 735b 2d31 5d5b 315d  midpoints[-1][1]
+000086c0: 0a20 2020 2020 2020 2074 6f70 6d6f 7374  .        topmost
+000086d0: 5f61 6972 6761 705f 6865 6967 6874 203d  _airgap_height =
+000086e0: 2073 6f72 7465 645f 6d69 6470 6f69 6e74   sorted_midpoint
+000086f0: 735b 2d31 5d5b 325d 0a0a 2020 2020 2020  s[-1][2]..      
+00008700: 2020 2320 6966 2073 696e 676c 6520 636f    # if single co
+00008710: 7265 0a20 2020 2020 2020 2069 6620 7365  re.        if se
+00008720: 6c66 2e63 6f72 652e 636f 7265 5f74 7970  lf.core.core_typ
+00008730: 6520 3d3d 2043 6f72 6554 7970 652e 5369  e == CoreType.Si
+00008740: 6e67 6c65 3a0a 0a20 2020 2020 2020 2020  ngle:..         
+00008750: 2020 2023 2046 6f72 2073 696e 676c 6520     # For single 
+00008760: 636f 7265 2061 6e64 206d 6f72 6520 7468  core and more th
+00008770: 616e 206f 6e65 2063 6f72 655f 7061 7274  an one core_part
+00008780: 2c20 766f 6c75 6d65 2066 6f72 2065 7665  , volume for eve
+00008790: 7279 2063 6f72 6520 7061 7274 2069 7320  ry core part is 
+000087a0: 6361 6c63 756c 6174 6564 0a0a 2020 2020  calculated..    
+000087b0: 2020 2020 2020 2020 2320 636f 7265 5f70          # core_p
+000087c0: 6172 745f 3120 6973 2064 6976 6964 6564  art_1 is divided
+000087d0: 2069 6e74 6f20 7061 7274 7320 636f 7265   into parts core
+000087e0: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
+000087f0: 2320 7375 6270 6172 7431 3a20 626f 7474  # subpart1: bott
+00008800: 6f6d 206c 6566 7420 7375 6270 6172 740a  om left subpart.
+00008810: 2020 2020 2020 2020 2020 2020 7375 6270              subp
+00008820: 6172 7431 5f31 5f68 6569 6768 7420 3d20  art1_1_height = 
+00008830: 626f 7474 6f6d 6d6f 7374 5f61 6972 6761  bottommost_airga
+00008840: 705f 706f 7369 7469 6f6e 202b 2073 656c  p_position + sel
+00008850: 662e 636f 7265 2e77 696e 646f 775f 6820  f.core.window_h 
+00008860: 2f20 3220 2d20 626f 7474 6f6d 6d6f 7374  / 2 - bottommost
+00008870: 5f61 6972 6761 705f 6865 6967 6874 202f  _airgap_height /
+00008880: 2032 0a20 2020 2020 2020 2020 2020 2073   2.            s
+00008890: 7562 7061 7274 315f 315f 7769 6474 6820  ubpart1_1_width 
+000088a0: 3d20 7365 6c66 2e63 6f72 652e 636f 7265  = self.core.core
+000088b0: 5f69 6e6e 6572 5f64 6961 6d65 7465 7220  _inner_diameter 
+000088c0: 2f20 320a 2020 2020 2020 2020 2020 2020  / 2.            
+000088d0: 7375 6270 6172 7431 5f31 5f76 6f6c 756d  subpart1_1_volum
+000088e0: 6520 3d20 6e70 2e70 6920 2a20 7375 6270  e = np.pi * subp
+000088f0: 6172 7431 5f31 5f77 6964 7468 202a 2a20  art1_1_width ** 
+00008900: 3220 2a20 7375 6270 6172 7431 5f31 5f68  2 * subpart1_1_h
+00008910: 6569 6768 740a 0a20 2020 2020 2020 2020  eight..         
+00008920: 2020 2023 2023 2073 7562 7061 7274 323a     # # subpart2:
+00008930: 2062 6f74 746f 6d20 6d69 6420 7375 6270   bottom mid subp
+00008940: 6172 740a 2020 2020 2020 2020 2020 2020  art.            
+00008950: 7375 6270 6172 7431 5f32 5f68 6569 6768  subpart1_2_heigh
+00008960: 7420 3d20 7365 6c66 2e63 6f72 652e 636f  t = self.core.co
+00008970: 7265 5f69 6e6e 6572 5f64 6961 6d65 7465  re_inner_diamete
+00008980: 7220 2f20 340a 2020 2020 2020 2020 2020  r / 4.          
+00008990: 2020 7375 6270 6172 7431 5f32 5f77 6964    subpart1_2_wid
+000089a0: 7468 203d 2073 656c 662e 636f 7265 2e72  th = self.core.r
+000089b0: 5f6f 7574 6572 0a20 2020 2020 2020 2020  _outer.         
+000089c0: 2020 2073 7562 7061 7274 315f 325f 766f     subpart1_2_vo
+000089d0: 6c75 6d65 203d 206e 702e 7069 202a 2073  lume = np.pi * s
+000089e0: 7562 7061 7274 315f 325f 7769 6474 6820  ubpart1_2_width 
+000089f0: 2a2a 2032 202a 2073 7562 7061 7274 315f  ** 2 * subpart1_
+00008a00: 325f 6865 6967 6874 0a0a 2020 2020 2020  2_height..      
+00008a10: 2020 2020 2020 2320 7375 6270 6172 7433        # subpart3
+00008a20: 3a20 7269 6768 7420 7375 6270 6172 740a  : right subpart.
+00008a30: 2020 2020 2020 2020 2020 2020 7375 6270              subp
+00008a40: 6172 7431 5f33 5f68 6569 6768 7420 3d20  art1_3_height = 
+00008a50: 7365 6c66 2e63 6f72 652e 7769 6e64 6f77  self.core.window
+00008a60: 5f68 0a20 2020 2020 2020 2020 2020 2073  _h.            s
+00008a70: 7562 7061 7274 315f 335f 7769 6474 6820  ubpart1_3_width 
+00008a80: 3d20 7365 6c66 2e63 6f72 652e 725f 6f75  = self.core.r_ou
+00008a90: 7465 720a 2020 2020 2020 2020 2020 2020  ter.            
+00008aa0: 7375 6270 6172 7431 5f33 5f76 6f6c 756d  subpart1_3_volum
+00008ab0: 6520 3d20 6e70 2e70 6920 2a20 7375 6270  e = np.pi * subp
+00008ac0: 6172 7431 5f33 5f77 6964 7468 202a 2a20  art1_3_width ** 
+00008ad0: 3220 2a20 7375 6270 6172 7431 5f33 5f68  2 * subpart1_3_h
+00008ae0: 6569 6768 7420 2d20 5c0a 2020 2020 2020  eight - \.      
+00008af0: 2020 2020 2020 2020 2020 286e 702e 7069            (np.pi
+00008b00: 202a 2028 7365 6c66 2e63 6f72 652e 7769   * (self.core.wi
+00008b10: 6e64 6f77 5f77 202b 2073 656c 662e 636f  ndow_w + self.co
+00008b20: 7265 2e63 6f72 655f 696e 6e65 725f 6469  re.core_inner_di
+00008b30: 616d 6574 6572 202f 2032 2920 2a2a 2032  ameter / 2) ** 2
+00008b40: 202a 2073 656c 662e 636f 7265 2e77 696e   * self.core.win
+00008b50: 646f 775f 6829 0a0a 2020 2020 2020 2020  dow_h)..        
+00008b60: 2020 2020 2320 7375 6270 6172 7434 3a20      # subpart4: 
+00008b70: 746f 7020 6d69 642d 7375 6270 6172 740a  top mid-subpart.
+00008b80: 2020 2020 2020 2020 2020 2020 7375 6270              subp
+00008b90: 6172 7431 5f34 5f68 6569 6768 7420 3d20  art1_4_height = 
+00008ba0: 7365 6c66 2e63 6f72 652e 636f 7265 5f69  self.core.core_i
+00008bb0: 6e6e 6572 5f64 6961 6d65 7465 7220 2f20  nner_diameter / 
+00008bc0: 340a 2020 2020 2020 2020 2020 2020 7375  4.            su
+00008bd0: 6270 6172 7431 5f34 5f77 6964 7468 203d  bpart1_4_width =
+00008be0: 2073 656c 662e 636f 7265 2e72 5f6f 7574   self.core.r_out
+00008bf0: 6572 0a20 2020 2020 2020 2020 2020 2073  er.            s
+00008c00: 7562 7061 7274 315f 345f 766f 6c75 6d65  ubpart1_4_volume
+00008c10: 203d 206e 702e 7069 202a 2073 7562 7061   = np.pi * subpa
+00008c20: 7274 315f 345f 7769 6474 6820 2a2a 2032  rt1_4_width ** 2
+00008c30: 202a 2073 7562 7061 7274 315f 345f 6865   * subpart1_4_he
+00008c40: 6967 6874 0a0a 2020 2020 2020 2020 2020  ight..          
+00008c50: 2020 2320 7375 6270 6172 7435 3a20 746f    # subpart5: to
+00008c60: 7020 6c65 6674 2073 7562 7061 7274 0a20  p left subpart. 
+00008c70: 2020 2020 2020 2020 2020 2073 7562 7061             subpa
+00008c80: 7274 315f 355f 6865 6967 6874 203d 2073  rt1_5_height = s
+00008c90: 656c 662e 636f 7265 2e77 696e 646f 775f  elf.core.window_
+00008ca0: 6820 2f20 3220 2d20 746f 706d 6f73 745f  h / 2 - topmost_
+00008cb0: 6169 7267 6170 5f70 6f73 6974 696f 6e20  airgap_position 
+00008cc0: 2d20 746f 706d 6f73 745f 6169 7267 6170  - topmost_airgap
+00008cd0: 5f68 6569 6768 7420 2f20 320a 2020 2020  _height / 2.    
+00008ce0: 2020 2020 2020 2020 7375 6270 6172 7431          subpart1
+00008cf0: 5f35 5f77 6964 7468 203d 2073 656c 662e  _5_width = self.
+00008d00: 636f 7265 2e63 6f72 655f 696e 6e65 725f  core.core_inner_
+00008d10: 6469 616d 6574 6572 202f 2032 0a20 2020  diameter / 2.   
+00008d20: 2020 2020 2020 2020 2073 7562 7061 7274           subpart
+00008d30: 315f 355f 766f 6c75 6d65 203d 206e 702e  1_5_volume = np.
+00008d40: 7069 202a 2073 7562 7061 7274 315f 355f  pi * subpart1_5_
+00008d50: 7769 6474 6820 2a2a 2032 202a 2073 7562  width ** 2 * sub
+00008d60: 7061 7274 315f 355f 6865 6967 6874 0a0a  part1_5_height..
+00008d70: 2020 2020 2020 2020 2020 2020 2320 4361              # Ca
+00008d80: 6c63 756c 6174 6520 7468 6520 766f 6c75  lculate the volu
+00008d90: 6d65 206f 6620 636f 7265 2070 6172 7420  me of core part 
+00008da0: 3120 6279 2073 756d 6d69 6e67 2075 7020  1 by summing up 
+00008db0: 7375 6270 6172 7420 766f 6c75 6d65 730a  subpart volumes.
+00008dc0: 2020 2020 2020 2020 2020 2020 636f 7265              core
+00008dd0: 5f70 6172 745f 315f 766f 6c75 6d65 203d  _part_1_volume =
+00008de0: 2073 7562 7061 7274 315f 315f 766f 6c75   subpart1_1_volu
+00008df0: 6d65 202b 2073 7562 7061 7274 315f 325f  me + subpart1_2_
+00008e00: 766f 6c75 6d65 202b 2073 7562 7061 7274  volume + subpart
+00008e10: 315f 335f 766f 6c75 6d65 202b 205c 0a20  1_3_volume + \. 
+00008e20: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00008e30: 7562 7061 7274 315f 345f 766f 6c75 6d65  ubpart1_4_volume
+00008e40: 202b 2073 7562 7061 7274 315f 355f 766f   + subpart1_5_vo
+00008e50: 6c75 6d65 0a20 2020 2020 2020 2020 2020  lume.           
+00008e60: 2063 6f72 655f 7061 7274 735f 766f 6c75   core_parts_volu
+00008e70: 6d65 732e 6170 7065 6e64 2863 6f72 655f  mes.append(core_
+00008e80: 7061 7274 5f31 5f76 6f6c 756d 6529 0a0a  part_1_volume)..
+00008e90: 2020 2020 2020 2020 2020 2020 2320 4361              # Ca
+00008ea0: 6c63 756c 6174 6520 7468 6520 766f 6c75  lculate the volu
+00008eb0: 6d65 7320 6f66 2074 6865 2063 6f72 6520  mes of the core 
+00008ec0: 7061 7274 7320 6265 7477 6565 6e20 7468  parts between th
+00008ed0: 6520 6169 7220 6761 7073 0a20 2020 2020  e air gaps.     
+00008ee0: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+00008ef0: 7261 6e67 6528 6c65 6e28 736f 7274 6564  range(len(sorted
+00008f00: 5f6d 6964 706f 696e 7473 2920 2d20 3129  _midpoints) - 1)
+00008f10: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00008f20: 2020 6169 725f 6761 705f 315f 706f 7369    air_gap_1_posi
+00008f30: 7469 6f6e 203d 2073 6f72 7465 645f 6d69  tion = sorted_mi
+00008f40: 6470 6f69 6e74 735b 695d 5b31 5d0a 2020  dpoints[i][1].  
+00008f50: 2020 2020 2020 2020 2020 2020 2020 6169                ai
+00008f60: 725f 6761 705f 315f 6865 6967 6874 203d  r_gap_1_height =
+00008f70: 2073 6f72 7465 645f 6d69 6470 6f69 6e74   sorted_midpoint
+00008f80: 735b 695d 5b32 5d0a 2020 2020 2020 2020  s[i][2].        
+00008f90: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
+00008fa0: 325f 706f 7369 7469 6f6e 203d 2073 6f72  2_position = sor
+00008fb0: 7465 645f 6d69 6470 6f69 6e74 735b 6920  ted_midpoints[i 
+00008fc0: 2b20 315d 5b31 5d0a 2020 2020 2020 2020  + 1][1].        
+00008fd0: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
+00008fe0: 325f 6865 6967 6874 203d 2073 6f72 7465  2_height = sorte
+00008ff0: 645f 6d69 6470 6f69 6e74 735b 6920 2b20  d_midpoints[i + 
+00009000: 315d 5b32 5d0a 2020 2020 2020 2020 2020  1][2].          
+00009010: 2020 2020 2020 2320 6361 6c63 756c 6174        # calculat
+00009020: 6520 7468 6520 6865 6967 6874 2062 6173  e the height bas
+00009030: 6564 206f 6e20 6169 7267 6170 2070 6f73  ed on airgap pos
+00009040: 6974 696f 6e73 2061 6e64 2068 6569 6768  itions and heigh
+00009050: 7473 2c20 616e 6420 7468 6520 7769 6474  ts, and the widt
+00009060: 680a 2020 2020 2020 2020 2020 2020 2020  h.              
+00009070: 2020 636f 7265 5f70 6172 745f 6865 6967    core_part_heig
+00009080: 6874 203d 2061 6972 5f67 6170 5f32 5f70  ht = air_gap_2_p
+00009090: 6f73 6974 696f 6e20 2d20 6169 725f 6761  osition - air_ga
+000090a0: 705f 325f 6865 6967 6874 202f 2032 202d  p_2_height / 2 -
+000090b0: 2028 6169 725f 6761 705f 315f 706f 7369   (air_gap_1_posi
+000090c0: 7469 6f6e 202b 2061 6972 5f67 6170 5f31  tion + air_gap_1
+000090d0: 5f68 6569 6768 7420 2f20 3229 0a20 2020  _height / 2).   
+000090e0: 2020 2020 2020 2020 2020 2020 2063 6f72               cor
+000090f0: 655f 7061 7274 5f77 6964 7468 203d 2067  e_part_width = g
+00009100: 6574 5f77 6964 7468 2869 202b 2032 290a  et_width(i + 2).
+00009110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00009120: 2320 6361 6c63 756c 6174 6520 7468 6520  # calculate the 
+00009130: 766f 6c75 6d65 0a20 2020 2020 2020 2020  volume.         
+00009140: 2020 2020 2020 2063 6f72 655f 7061 7274         core_part
+00009150: 5f76 6f6c 756d 6520 3d20 6e70 2e70 6920  _volume = np.pi 
+00009160: 2a20 636f 7265 5f70 6172 745f 7769 6474  * core_part_widt
+00009170: 6820 2a2a 2032 202a 2063 6f72 655f 7061  h ** 2 * core_pa
+00009180: 7274 5f68 6569 6768 740a 2020 2020 2020  rt_height.      
+00009190: 2020 2020 2020 2020 2020 636f 7265 5f70            core_p
+000091a0: 6172 7473 5f76 6f6c 756d 6573 2e61 7070  arts_volumes.app
+000091b0: 656e 6428 636f 7265 5f70 6172 745f 766f  end(core_part_vo
+000091c0: 6c75 6d65 290a 0a20 2020 2020 2020 2020  lume)..         
+000091d0: 2020 2023 2052 6574 7572 6e20 7468 6520     # Return the 
+000091e0: 746f 7461 6c20 636f 7265 2070 6172 7420  total core part 
+000091f0: 766f 6c75 6d65 0a20 2020 2020 2020 2020  volume.         
+00009200: 2020 2023 2072 6574 7572 6e20 636f 7265     # return core
+00009210: 5f70 6172 7473 5f76 6f6c 756d 6573 0a0a  _parts_volumes..
+00009220: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
+00009230: 662e 636f 7265 2e63 6f72 655f 7479 7065  f.core.core_type
+00009240: 203d 3d20 436f 7265 5479 7065 2e53 7461   == CoreType.Sta
+00009250: 636b 6564 3a0a 0a20 2020 2020 2020 2020  cked:..         
+00009260: 2020 2023 2046 6f72 2073 7461 636b 6564     # For stacked
+00009270: 2063 6f72 6520 7479 7065 732c 2074 6865   core types, the
+00009280: 2076 6f6c 756d 6520 6973 2064 6976 6964   volume is divid
+00009290: 6564 2069 6e74 6f20 6469 6666 6572 656e  ed into differen
+000092a0: 7420 636f 7265 2020 2a20 7061 7274 732c  t core  * parts,
+000092b0: 2065 6163 6820 6f66 2077 6869 6368 2069   each of which i
+000092c0: 7320 6675 7274 6865 720a 2020 2020 2020  s further.      
+000092d0: 2020 2020 2020 2320 6469 7669 6465 6420        # divided 
+000092e0: 696e 746f 2070 6172 7473 2074 6f20 6361  into parts to ca
+000092f0: 6c63 756c 6174 6520 7468 6520 746f 7461  lculate the tota
+00009300: 6c20 766f 6c75 6d65 206f 6620 6561 6368  l volume of each
+00009310: 2063 6f72 6520 7061 7274 2e0a 0a20 2020   core part...   
+00009320: 2020 2020 2020 2020 2023 2063 6f72 655f           # core_
+00009330: 7061 7274 5f32 203a 2063 6f72 6520 7061  part_2 : core pa
+00009340: 7274 2062 6574 7765 656e 2074 6865 2062  rt between the b
+00009350: 6f74 746f 6d20 6169 7220 6761 7020 616e  ottom air gap an
+00009360: 6420 7375 6270 6172 745f 3120 6f66 2063  d subpart_1 of c
+00009370: 6f72 655f 7061 7274 5f31 0a20 2020 2020  ore_part_1.     
+00009380: 2020 2020 2020 2063 6f72 655f 7061 7274         core_part
+00009390: 5f31 5f68 6569 6768 7420 3d20 7365 6c66  _1_height = self
+000093a0: 2e63 6f72 652e 7769 6e64 6f77 5f68 5f62  .core.window_h_b
+000093b0: 6f74 202f 2032 202d 2068 6569 6768 7473  ot / 2 - heights
+000093c0: 5b30 5d20 2f20 320a 2020 2020 2020 2020  [0] / 2.        
+000093d0: 2020 2020 636f 7265 5f70 6172 745f 315f      core_part_1_
+000093e0: 7769 6474 6820 3d20 7365 6c66 2e63 6f72  width = self.cor
+000093f0: 652e 636f 7265 5f69 6e6e 6572 5f64 6961  e.core_inner_dia
+00009400: 6d65 7465 7220 2f20 320a 2020 2020 2020  meter / 2.      
+00009410: 2020 2020 2020 636f 7265 5f70 6172 745f        core_part_
+00009420: 315f 766f 6c75 6d65 203d 206e 702e 7069  1_volume = np.pi
+00009430: 202a 2063 6f72 655f 7061 7274 5f31 5f77   * core_part_1_w
+00009440: 6964 7468 202a 2a20 3220 2a20 636f 7265  idth ** 2 * core
+00009450: 5f70 6172 745f 315f 6865 6967 6874 0a20  _part_1_height. 
+00009460: 2020 2020 2020 2020 2020 2063 6f72 655f             core_
+00009470: 7061 7274 735f 766f 6c75 6d65 732e 6170  parts_volumes.ap
+00009480: 7065 6e64 2863 6f72 655f 7061 7274 5f31  pend(core_part_1
+00009490: 5f76 6f6c 756d 6529 0a0a 2020 2020 2020  _volume)..      
+000094a0: 2020 2020 2020 2320 436f 7265 2050 6172        # Core Par
+000094b0: 7420 3120 4361 6c63 756c 6174 696f 6e0a  t 1 Calculation.
+000094c0: 2020 2020 2020 2020 2020 2020 2320 436f              # Co
+000094d0: 7265 2070 6172 7420 3120 6973 2063 616c  re part 1 is cal
+000094e0: 6375 6c61 7465 6420 6173 2074 6865 2073  culated as the s
+000094f0: 756d 206f 6620 7468 7265 6520 6469 6666  um of three diff
+00009500: 6572 656e 7420 7061 7274 730a 2020 2020  erent parts.    
+00009510: 2020 2020 2020 2020 2320 7375 6270 6172          # subpar
+00009520: 745f 313a 2062 6f74 746f 6d20 6c65 6674  t_1: bottom left
+00009530: 2073 7562 7061 7274 0a20 2020 2020 2020   subpart.       
+00009540: 2020 2020 2073 7562 7061 7274 325f 315f       subpart2_1_
+00009550: 6865 6967 6874 203d 2073 656c 662e 636f  height = self.co
+00009560: 7265 2e77 696e 646f 775f 685f 626f 7420  re.window_h_bot 
+00009570: 2f20 3220 2d20 6865 6967 6874 735b 305d  / 2 - heights[0]
+00009580: 202f 2032 0a20 2020 2020 2020 2020 2020   / 2.           
+00009590: 2073 7562 7061 7274 325f 315f 7769 6474   subpart2_1_widt
+000095a0: 6820 3d20 7365 6c66 2e63 6f72 652e 636f  h = self.core.co
+000095b0: 7265 5f69 6e6e 6572 5f64 6961 6d65 7465  re_inner_diamete
+000095c0: 7220 2f20 320a 2020 2020 2020 2020 2020  r / 2.          
+000095d0: 2020 7375 6270 6172 7432 5f31 5f76 6f6c    subpart2_1_vol
+000095e0: 756d 6520 3d20 6e70 2e70 6920 2a20 7375  ume = np.pi * su
+000095f0: 6270 6172 7432 5f31 5f77 6964 7468 202a  bpart2_1_width *
+00009600: 2a20 3220 2a20 7375 6270 6172 7432 5f31  * 2 * subpart2_1
+00009610: 5f68 6569 6768 740a 0a20 2020 2020 2020  _height..       
+00009620: 2020 2020 2023 2073 7562 7061 7274 5f32       # subpart_2
+00009630: 203a 2062 6f74 746f 6d20 6d69 6420 7375   : bottom mid su
+00009640: 6270 6172 740a 2020 2020 2020 2020 2020  bpart.          
+00009650: 2020 7375 6270 6172 7432 5f32 5f68 6569    subpart2_2_hei
+00009660: 6768 7420 3d20 7365 6c66 2e63 6f72 652e  ght = self.core.
+00009670: 636f 7265 5f69 6e6e 6572 5f64 6961 6d65  core_inner_diame
+00009680: 7465 7220 2f20 340a 2020 2020 2020 2020  ter / 4.        
+00009690: 2020 2020 7375 6270 6172 7432 5f32 5f77      subpart2_2_w
+000096a0: 6964 7468 203d 2073 656c 662e 636f 7265  idth = self.core
+000096b0: 2e72 5f6f 7574 6572 0a20 2020 2020 2020  .r_outer.       
+000096c0: 2020 2020 2073 7562 7061 7274 325f 325f       subpart2_2_
+000096d0: 766f 6c75 6d65 203d 206e 702e 7069 202a  volume = np.pi *
+000096e0: 2073 7562 7061 7274 325f 325f 7769 6474   subpart2_2_widt
+000096f0: 6820 2a2a 2032 202a 2073 7562 7061 7274  h ** 2 * subpart
+00009700: 325f 325f 6865 6967 6874 0a0a 2020 2020  2_2_height..    
+00009710: 2020 2020 2020 2020 2320 7375 6270 6172          # subpar
+00009720: 745f 333a 2062 6f74 746f 6d20 7269 6768  t_3: bottom righ
+00009730: 7420 7375 6270 6172 740a 2020 2020 2020  t subpart.      
+00009740: 2020 2020 2020 7375 6270 6172 7432 5f33        subpart2_3
+00009750: 5f68 6569 6768 7420 3d20 7365 6c66 2e63  _height = self.c
+00009760: 6f72 652e 7769 6e64 6f77 5f68 5f62 6f74  ore.window_h_bot
+00009770: 0a20 2020 2020 2020 2020 2020 2073 7562  .            sub
+00009780: 7061 7274 325f 335f 7769 6474 6820 3d20  part2_3_width = 
+00009790: 7365 6c66 2e63 6f72 652e 725f 6f75 7465  self.core.r_oute
+000097a0: 720a 2020 2020 2020 2020 2020 2020 7375  r.            su
+000097b0: 6270 6172 7432 5f33 5f76 6f6c 756d 6520  bpart2_3_volume 
+000097c0: 3d20 6e70 2e70 6920 2a20 2873 7562 7061  = np.pi * (subpa
+000097d0: 7274 325f 335f 7769 6474 6820 2a2a 2032  rt2_3_width ** 2
+000097e0: 202a 2073 7562 7061 7274 325f 335f 6865   * subpart2_3_he
+000097f0: 6967 6874 2920 2d20 5c0a 2020 2020 2020  ight) - \.      
+00009800: 2020 2020 2020 2020 2020 6e70 2e70 6920            np.pi 
+00009810: 2a20 2828 7365 6c66 2e63 6f72 652e 7769  * ((self.core.wi
+00009820: 6e64 6f77 5f77 202b 2073 656c 662e 636f  ndow_w + self.co
+00009830: 7265 2e63 6f72 655f 696e 6e65 725f 6469  re.core_inner_di
+00009840: 616d 6574 6572 2f32 2920 2a2a 2032 202a  ameter/2) ** 2 *
+00009850: 2073 656c 662e 636f 7265 2e77 696e 646f   self.core.windo
+00009860: 775f 685f 626f 7429 0a0a 2020 2020 2020  w_h_bot)..      
+00009870: 2020 2020 2020 2320 5375 6d6d 696e 6720        # Summing 
+00009880: 7570 2074 6865 2076 6f6c 756d 6573 206f  up the volumes o
+00009890: 6620 7468 6520 7061 7274 7320 746f 2067  f the parts to g
+000098a0: 6574 2074 6865 2074 6f74 616c 2076 6f6c  et the total vol
+000098b0: 756d 6520 6f66 2063 6f72 6520 7061 7274  ume of core part
+000098c0: 2031 0a20 2020 2020 2020 2020 2020 2063   1.            c
+000098d0: 6f72 655f 7061 7274 5f32 5f76 6f6c 756d  ore_part_2_volum
+000098e0: 6520 3d20 7375 6270 6172 7432 5f31 5f76  e = subpart2_1_v
+000098f0: 6f6c 756d 6520 2b20 7375 6270 6172 7432  olume + subpart2
+00009900: 5f32 5f76 6f6c 756d 6520 2b20 7375 6270  _2_volume + subp
+00009910: 6172 7432 5f33 5f76 6f6c 756d 650a 2020  art2_3_volume.  
+00009920: 2020 2020 2020 2020 2020 636f 7265 5f70            core_p
+00009930: 6172 7473 5f76 6f6c 756d 6573 2e61 7070  arts_volumes.app
+00009940: 656e 6428 636f 7265 5f70 6172 745f 325f  end(core_part_2_
+00009950: 766f 6c75 6d65 290a 0a20 2020 2020 2020  volume)..       
+00009960: 2020 2020 2023 2063 6f72 655f 7061 7274       # core_part
+00009970: 5f33 203a 206c 6566 7420 6d69 6420 636f  _3 : left mid co
+00009980: 7265 2070 6172 7420 2873 7461 636b 6564  re part (stacked
+00009990: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
+000099a0: 7265 5f70 6172 745f 335f 6865 6967 6874  re_part_3_height
+000099b0: 203d 2073 656c 662e 636f 7265 2e63 6f72   = self.core.cor
+000099c0: 655f 696e 6e65 725f 6469 616d 6574 6572  e_inner_diameter
+000099d0: 202f 2034 0a20 2020 2020 2020 2020 2020   / 4.           
+000099e0: 2063 6f72 655f 7061 7274 5f33 5f77 6964   core_part_3_wid
+000099f0: 7468 203d 2073 656c 662e 636f 7265 2e72  th = self.core.r
+00009a00: 5f69 6e6e 6572 0a20 2020 2020 2020 2020  _inner.         
+00009a10: 2020 2063 6f72 655f 7061 7274 5f33 5f76     core_part_3_v
+00009a20: 6f6c 756d 6520 3d20 6e70 2e70 6920 2a20  olume = np.pi * 
+00009a30: 636f 7265 5f70 6172 745f 335f 7769 6474  core_part_3_widt
+00009a40: 6820 2a2a 2032 202a 2063 6f72 655f 7061  h ** 2 * core_pa
+00009a50: 7274 5f33 5f68 6569 6768 740a 2020 2020  rt_3_height.    
+00009a60: 2020 2020 2020 2020 636f 7265 5f70 6172          core_par
+00009a70: 7473 5f76 6f6c 756d 6573 2e61 7070 656e  ts_volumes.appen
+00009a80: 6428 636f 7265 5f70 6172 745f 335f 766f  d(core_part_3_vo
+00009a90: 6c75 6d65 290a 0a20 2020 2020 2020 2020  lume)..         
+00009aa0: 2020 2023 2063 6f72 655f 7061 7274 5f34     # core_part_4
+00009ab0: 3a20 7269 6768 7420 6d69 6420 636f 7265  : right mid core
+00009ac0: 2070 6172 740a 2020 2020 2020 2020 2020   part.          
+00009ad0: 2020 636f 7265 5f70 6172 745f 345f 6865    core_part_4_he
+00009ae0: 6967 6874 203d 2073 656c 662e 636f 7265  ight = self.core
+00009af0: 2e63 6f72 655f 696e 6e65 725f 6469 616d  .core_inner_diam
+00009b00: 6574 6572 202f 2034 0a20 2020 2020 2020  eter / 4.       
+00009b10: 2020 2020 2063 6f72 655f 7061 7274 5f34       core_part_4
+00009b20: 5f77 6964 7468 203d 2073 656c 662e 636f  _width = self.co
+00009b30: 7265 2e72 5f6f 7574 6572 0a20 2020 2020  re.r_outer.     
+00009b40: 2020 2020 2020 2063 6f72 655f 7061 7274         core_part
+00009b50: 5f34 5f76 6f6c 756d 6520 3d20 6e70 2e70  _4_volume = np.p
+00009b60: 6920 2a20 636f 7265 5f70 6172 745f 345f  i * core_part_4_
+00009b70: 7769 6474 6820 2a2a 2032 202a 2063 6f72  width ** 2 * cor
+00009b80: 655f 7061 7274 5f34 5f68 6569 6768 7420  e_part_4_height 
+00009b90: 2d20 636f 7265 5f70 6172 745f 335f 766f  - core_part_3_vo
+00009ba0: 6c75 6d65 0a20 2020 2020 2020 2020 2020  lume.           
+00009bb0: 2063 6f72 655f 7061 7274 735f 766f 6c75   core_parts_volu
+00009bc0: 6d65 732e 6170 7065 6e64 2863 6f72 655f  mes.append(core_
+00009bd0: 7061 7274 5f34 5f76 6f6c 756d 6529 0a0a  part_4_volume)..
+00009be0: 2020 2020 2020 2020 2020 2020 2320 636f              # co
+00009bf0: 7265 5f70 6172 745f 350a 2020 2020 2020  re_part_5.      
+00009c00: 2020 2020 2020 2320 636f 7265 5f70 6172        # core_par
+00009c10: 745f 3520 6973 2064 6976 6964 6564 2069  t_5 is divided i
+00009c20: 6e74 6f20 3320 7061 7274 730a 2020 2020  nto 3 parts.    
+00009c30: 2020 2020 2020 2020 2320 7375 6270 6172          # subpar
+00009c40: 745f 313a 206c 6566 7420 746f 7020 7375  t_1: left top su
+00009c50: 6270 6172 740a 2020 2020 2020 2020 2020  bpart.          
+00009c60: 2020 7375 6270 6172 7435 5f31 5f68 6569    subpart5_1_hei
+00009c70: 6768 7420 3d20 7365 6c66 2e63 6f72 652e  ght = self.core.
+00009c80: 7769 6e64 6f77 5f68 5f74 6f70 202d 2068  window_h_top - h
+00009c90: 6569 6768 7473 5b31 5d20 2f20 320a 2020  eights[1] / 2.  
+00009ca0: 2020 2020 2020 2020 2020 7375 6270 6172            subpar
+00009cb0: 7435 5f31 5f77 6964 7468 203d 2073 656c  t5_1_width = sel
+00009cc0: 662e 636f 7265 2e63 6f72 655f 696e 6e65  f.core.core_inne
+00009cd0: 725f 6469 616d 6574 6572 202f 2032 0a20  r_diameter / 2. 
+00009ce0: 2020 2020 2020 2020 2020 2073 7562 7061             subpa
+00009cf0: 7274 355f 315f 766f 6c75 6d65 203d 206e  rt5_1_volume = n
+00009d00: 702e 7069 202a 2073 7562 7061 7274 355f  p.pi * subpart5_
+00009d10: 315f 7769 6474 6820 2a2a 2032 202a 2073  1_width ** 2 * s
+00009d20: 7562 7061 7274 355f 315f 6865 6967 6874  ubpart5_1_height
+00009d30: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00009d40: 7375 6270 6172 745f 323a 206d 6964 2074  subpart_2: mid t
+00009d50: 6f70 2073 7562 7061 7274 0a20 2020 2020  op subpart.     
+00009d60: 2020 2020 2020 2073 7562 7061 7274 355f         subpart5_
+00009d70: 325f 6865 6967 6874 203d 2073 656c 662e  2_height = self.
+00009d80: 636f 7265 2e63 6f72 655f 696e 6e65 725f  core.core_inner_
+00009d90: 6469 616d 6574 6572 202f 2034 0a20 2020  diameter / 4.   
+00009da0: 2020 2020 2020 2020 2073 7562 7061 7274           subpart
+00009db0: 355f 325f 7769 6474 6820 3d20 7365 6c66  5_2_width = self
+00009dc0: 2e63 6f72 652e 725f 6f75 7465 720a 2020  .core.r_outer.  
+00009dd0: 2020 2020 2020 2020 2020 7375 6270 6172            subpar
+00009de0: 7435 5f32 5f76 6f6c 756d 6520 3d20 6e70  t5_2_volume = np
+00009df0: 2e70 6920 2a20 7375 6270 6172 7435 5f32  .pi * subpart5_2
+00009e00: 5f77 6964 7468 202a 2a20 3220 2a20 7375  _width ** 2 * su
+00009e10: 6270 6172 7435 5f32 5f68 6569 6768 740a  bpart5_2_height.
+00009e20: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
+00009e30: 7562 7061 7274 2033 3a20 746f 7020 7269  ubpart 3: top ri
+00009e40: 6768 7420 7375 6270 6172 740a 2020 2020  ght subpart.    
+00009e50: 2020 2020 2020 2020 7375 6270 6172 7435          subpart5
+00009e60: 5f33 5f68 6569 6768 7420 3d20 7365 6c66  _3_height = self
+00009e70: 2e63 6f72 652e 7769 6e64 6f77 5f68 5f74  .core.window_h_t
+00009e80: 6f70 0a20 2020 2020 2020 2020 2020 2073  op.            s
+00009e90: 7562 7061 7274 355f 335f 7769 6474 6820  ubpart5_3_width 
+00009ea0: 3d20 7365 6c66 2e63 6f72 652e 725f 6f75  = self.core.r_ou
+00009eb0: 7465 720a 2020 2020 2020 2020 2020 2020  ter.            
+00009ec0: 7375 6270 6172 7435 5f33 5f76 6f6c 756d  subpart5_3_volum
+00009ed0: 6520 3d20 6e70 2e70 6920 2a20 2873 7562  e = np.pi * (sub
+00009ee0: 7061 7274 355f 335f 7769 6474 6820 2a2a  part5_3_width **
+00009ef0: 2032 202a 2073 7562 7061 7274 355f 335f   2 * subpart5_3_
+00009f00: 6865 6967 6874 2920 2d20 5c0a 2020 2020  height) - \.    
+00009f10: 2020 2020 2020 2020 2020 2020 6e70 2e70              np.p
+00009f20: 6920 2a20 2828 7365 6c66 2e63 6f72 652e  i * ((self.core.
+00009f30: 7769 6e64 6f77 5f77 202b 2073 656c 662e  window_w + self.
+00009f40: 636f 7265 2e63 6f72 655f 696e 6e65 725f  core.core_inner_
+00009f50: 6469 616d 6574 6572 202f 2032 2920 2a2a  diameter / 2) **
+00009f60: 2032 202a 2073 656c 662e 636f 7265 2e77   2 * self.core.w
+00009f70: 696e 646f 775f 685f 746f 7029 0a0a 2020  indow_h_top)..  
+00009f80: 2020 2020 2020 2020 2020 2320 5375 6d6d            # Summ
+00009f90: 696e 6720 7570 2074 6865 2076 6f6c 756d  ing up the volum
+00009fa0: 6573 206f 6620 7468 6520 7061 7274 7320  es of the parts 
+00009fb0: 746f 2067 6574 2074 6865 2074 6f74 616c  to get the total
+00009fc0: 2076 6f6c 756d 6520 6f66 2063 6f72 655f   volume of core_
+00009fd0: 7061 7274 5f35 0a20 2020 2020 2020 2020  part_5.         
+00009fe0: 2020 2063 6f72 655f 7061 7274 5f35 5f76     core_part_5_v
+00009ff0: 6f6c 756d 6520 3d20 7375 6270 6172 7435  olume = subpart5
+0000a000: 5f31 5f76 6f6c 756d 6520 2b20 7375 6270  _1_volume + subp
+0000a010: 6172 7435 5f32 5f76 6f6c 756d 6520 2b20  art5_2_volume + 
+0000a020: 7375 6270 6172 7435 5f33 5f76 6f6c 756d  subpart5_3_volum
+0000a030: 650a 2020 2020 2020 2020 2020 2020 636f  e.            co
+0000a040: 7265 5f70 6172 7473 5f76 6f6c 756d 6573  re_parts_volumes
+0000a050: 2e61 7070 656e 6428 636f 7265 5f70 6172  .append(core_par
+0000a060: 745f 355f 766f 6c75 6d65 290a 0a20 2020  t_5_volume)..   
+0000a070: 2020 2020 2023 2043 6f72 6520 566f 6c75       # Core Volu
+0000a080: 6d65 2043 6f6e 7369 7374 656e 6379 2043  me Consistency C
+0000a090: 6865 636b 0a20 2020 2020 2020 2023 2053  heck.        # S
+0000a0a0: 756d 2061 6c6c 2074 6865 2063 6f72 6520  um all the core 
+0000a0b0: 7061 7274 2076 6f6c 756d 6573 0a20 2020  part volumes.   
+0000a0c0: 2020 2020 2074 6f74 616c 5f70 6172 7473       total_parts
+0000a0d0: 5f76 6f6c 756d 6520 3d20 7375 6d28 636f  _volume = sum(co
+0000a0e0: 7265 5f70 6172 7473 5f76 6f6c 756d 6573  re_parts_volumes
+0000a0f0: 290a 0a20 2020 2020 2020 2023 2043 616c  )..        # Cal
+0000a100: 6375 6c61 7465 2074 6865 2077 686f 6c65  culate the whole
+0000a110: 2063 6f72 6520 766f 6c75 6d65 0a20 2020   core volume.   
+0000a120: 2020 2020 2077 686f 6c65 5f63 6f72 655f       whole_core_
+0000a130: 766f 6c75 6d65 203d 2073 656c 662e 6361  volume = self.ca
+0000a140: 6c63 756c 6174 655f 636f 7265 5f76 6f6c  lculate_core_vol
+0000a150: 756d 6528 290a 0a20 2020 2020 2020 2023  ume()..        #
+0000a160: 2044 6566 696e 6520 6120 6d61 7267 696e   Define a margin
+0000a170: 206f 6620 6572 726f 720a 2020 2020 2020   of error.      
+0000a180: 2020 6d61 7267 696e 5f6f 665f 6572 726f    margin_of_erro
+0000a190: 7220 3d20 3165 2d35 0a0a 2020 2020 2020  r = 1e-5..      
+0000a1a0: 2020 2320 4368 6563 6b20 6966 2074 6865    # Check if the
+0000a1b0: 2076 6f6c 756d 6573 2061 7265 2065 7175   volumes are equ
+0000a1c0: 616c 2077 6974 6869 6e20 7468 6520 6d61  al within the ma
+0000a1d0: 7267 696e 206f 6620 6572 726f 720a 2020  rgin of error.  
+0000a1e0: 2020 2020 2020 6966 206e 6f74 2028 6162        if not (ab
+0000a1f0: 7328 7768 6f6c 655f 636f 7265 5f76 6f6c  s(whole_core_vol
+0000a200: 756d 6520 2d20 746f 7461 6c5f 7061 7274  ume - total_part
+0000a210: 735f 766f 6c75 6d65 2920 3c3d 206d 6172  s_volume) <= mar
+0000a220: 6769 6e5f 6f66 5f65 7272 6f72 293a 0a20  gin_of_error):. 
+0000a230: 2020 2020 2020 2020 2020 2065 7272 6f72             error
+0000a240: 5f6d 6573 7361 6765 203d 2028 6622 5375  _message = (f"Su
+0000a250: 6d20 6f66 2063 6f72 6520 7061 7274 7320  m of core parts 
+0000a260: 287b 746f 7461 6c5f 7061 7274 735f 766f  ({total_parts_vo
+0000a270: 6c75 6d65 7d29 2064 6f65 7320 6e6f 7420  lume}) does not 
+0000a280: 6571 7561 6c20 7468 6520 7768 6f6c 6520  equal the whole 
+0000a290: 636f 7265 2020 220a 2020 2020 2020 2020  core  ".        
+0000a2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a2b0: 2020 2020 2066 2276 6f6c 756d 6520 287b       f"volume ({
+0000a2c0: 7768 6f6c 655f 636f 7265 5f76 6f6c 756d  whole_core_volum
+0000a2d0: 657d 2920 7769 7468 696e 2074 6865 206d  e}) within the m
+0000a2e0: 6172 6769 6e20 6f66 2065 7272 6f72 2028  argin of error (
+0000a2f0: 7b6d 6172 6769 6e5f 6f66 5f65 7272 6f72  {margin_of_error
+0000a300: 7d29 2e22 290a 2020 2020 2020 2020 2020  }).").          
+0000a310: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+0000a320: 6f72 2865 7272 6f72 5f6d 6573 7361 6765  or(error_message
+0000a330: 290a 0a20 2020 2020 2020 2023 2052 6574  )..        # Ret
+0000a340: 7572 6e69 6e67 2074 6865 2066 696e 616c  urning the final
+0000a350: 206c 6973 7420 6f66 2063 6f72 6520 7061   list of core pa
+0000a360: 7274 2076 6f6c 756d 6573 0a20 2020 2020  rt volumes.     
+0000a370: 2020 2072 6574 7572 6e20 636f 7265 5f70     return core_p
+0000a380: 6172 7473 5f76 6f6c 756d 6573 0a0a 2020  arts_volumes..  
+0000a390: 2020 6465 6620 6361 6c63 756c 6174 655f    def calculate_
+0000a3a0: 636f 7265 5f77 6569 6768 7428 7365 6c66  core_weight(self
+0000a3b0: 2920 2d3e 2066 6c6f 6174 3a0a 2020 2020  ) -> float:.    
+0000a3c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000a3d0: 4361 6c63 756c 6174 6520 7468 6520 7765  Calculate the we
+0000a3e0: 6967 6874 206f 6620 7468 6520 636f 7265  ight of the core
+0000a3f0: 2069 6e20 6b67 2e0a 0a20 2020 2020 2020   in kg...       
+0000a400: 2054 6869 7320 6d65 7468 6f64 2069 7320   This method is 
+0000a410: 7573 696e 6720 7468 6520 636f 7265 2076  using the core v
+0000a420: 6f6c 756d 6520 6672 6f6d 2066 6f72 2061  olume from for a
+0000a430: 6e20 6964 6561 6c20 726f 7461 7469 6f6e  n ideal rotation
+0000a440: 2d73 796d 6d65 7472 6963 2063 6f72 6520  -symmetric core 
+0000a450: 616e 6420 7468 6520 766f 6c75 6d65 7472  and the volumetr
+0000a460: 6963 206d 6173 730a 2020 2020 2020 2020  ic mass.        
+0000a470: 6465 6e73 6974 7920 6672 6f6d 2074 6865  density from the
+0000a480: 206d 6174 6572 6961 6c20 6461 7461 6261   material databa
+0000a490: 7365 2e0a 2020 2020 2020 2020 2222 220a  se..        """.
+0000a4a0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0000a4b0: 636f 7265 2e6d 6174 6572 6961 6c20 3d3d  core.material ==
+0000a4c0: 2027 6375 7374 6f6d 273a 0a20 2020 2020   'custom':.     
+0000a4d0: 2020 2020 2020 2076 6f6c 756d 6574 7269         volumetri
+0000a4e0: 635f 6d61 7373 5f64 656e 7369 7479 203d  c_mass_density =
+0000a4f0: 2030 0a20 2020 2020 2020 2020 2020 2077   0.            w
+0000a500: 6172 6e69 6e67 732e 7761 726e 2822 566f  arnings.warn("Vo
+0000a510: 6c75 6d65 7472 6963 206d 6173 7320 6465  lumetric mass de
+0000a520: 6e73 6974 7920 6e6f 7420 696d 706c 656d  nsity not implem
+0000a530: 656e 7465 6420 666f 7220 6375 7374 6f6d  ented for custom
+0000a540: 2063 6f72 6573 2e20 220a 2020 2020 2020   cores. ".      
+0000a550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a560: 2020 2020 2252 6574 7572 6e73 2027 3027      "Returns '0'
+0000a570: 2069 6e20 6c6f 672d 6669 6c65 3a20 436f   in log-file: Co
+0000a580: 7265 2063 6f73 7420 7769 6c6c 2061 6c73  re cost will als
+0000a590: 6f20 7265 7375 6c74 2074 6f20 302e 222c  o result to 0.",
+0000a5a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a5b0: 2020 2020 2020 2020 2020 2073 7461 636b             stack
+0000a5c0: 6c65 7665 6c3d 3229 0a20 2020 2020 2020  level=2).       
+0000a5d0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0000a5e0: 2020 2076 6f6c 756d 6574 7269 635f 6d61     volumetric_ma
+0000a5f0: 7373 5f64 656e 7369 7479 203d 2073 656c  ss_density = sel
+0000a600: 662e 636f 7265 2e6d 6174 6572 6961 6c5f  f.core.material_
+0000a610: 6461 7461 6261 7365 2e67 6574 5f6d 6174  database.get_mat
+0000a620: 6572 6961 6c5f 6174 7472 6962 7574 6528  erial_attribute(
+0000a630: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a640: 206d 6174 6572 6961 6c5f 6e61 6d65 3d73   material_name=s
+0000a650: 656c 662e 636f 7265 2e6d 6174 6572 6961  elf.core.materia
+0000a660: 6c2c 2061 7474 7269 6275 7465 3d22 766f  l, attribute="vo
+0000a670: 6c75 6d65 7472 6963 5f6d 6173 735f 6465  lumetric_mass_de
+0000a680: 6e73 6974 7922 290a 2020 2020 2020 2020  nsity").        
+0000a690: 7265 7475 726e 2073 656c 662e 6361 6c63  return self.calc
+0000a6a0: 756c 6174 655f 636f 7265 5f76 6f6c 756d  ulate_core_volum
+0000a6b0: 6528 2920 2a20 766f 6c75 6d65 7472 6963  e() * volumetric
+0000a6c0: 5f6d 6173 735f 6465 6e73 6974 790a 0a20  _mass_density.. 
+0000a6d0: 2020 2064 6566 2067 6574 5f77 6972 655f     def get_wire_
+0000a6e0: 6469 7374 616e 6365 7328 7365 6c66 2920  distances(self) 
+0000a6f0: 2d3e 204c 6973 745b 4c69 7374 5b66 6c6f  -> List[List[flo
+0000a700: 6174 5d5d 3a0a 2020 2020 2020 2020 2222  at]]:.        ""
+0000a710: 2252 6574 7572 6e20 7468 6520 6469 7374  "Return the dist
+0000a720: 616e 6365 2028 7261 6469 7573 2920 6f66  ance (radius) of
+0000a730: 2065 6163 6820 636f 6e64 7563 746f 7220   each conductor 
+0000a740: 746f 2074 6865 2079 2d61 7869 732e 0a0a  to the y-axis...
+0000a750: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+0000a760: 2057 6972 6520 6469 7374 616e 6365 730a   Wire distances.
+0000a770: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
+0000a780: 4c69 7374 5b4c 6973 745b 666c 6f61 745d  List[List[float]
+0000a790: 5d0a 2020 2020 2020 2020 2222 220a 2020  ].        """.  
+0000a7a0: 2020 2020 2020 2320 7769 7265 5f64 6973        # wire_dis
+0000a7b0: 7461 6e63 6520 3d20 5b5d 0a20 2020 2020  tance = [].     
+0000a7c0: 2020 2023 2066 6f72 2077 696e 6469 6e67     # for winding
+0000a7d0: 2069 6e20 7365 6c66 2e74 776f 5f64 5f61   in self.two_d_a
+0000a7e0: 7869 2e70 5f63 6f6e 6475 6374 6f72 3a0a  xi.p_conductor:.
+0000a7f0: 2020 2020 2020 2020 2320 2020 2020 2320          #     # 
+0000a800: 3520 706f 696e 7473 2061 7265 2066 6f72  5 points are for
+0000a810: 2031 2077 6972 650a 2020 2020 2020 2020   1 wire.        
+0000a820: 2320 2020 2020 6e75 6d5f 706f 696e 7473  #     num_points
+0000a830: 203d 206c 656e 2877 696e 6469 6e67 290a   = len(winding).
+0000a840: 2020 2020 2020 2020 2320 2020 2020 6e75          #     nu
+0000a850: 6d5f 7769 6e64 696e 6773 203d 206e 756d  m_windings = num
+0000a860: 5f70 6f69 6e74 7320 2f2f 2035 0a20 2020  _points // 5.   
+0000a870: 2020 2020 2023 2020 2020 2077 696e 6469       #     windi
+0000a880: 6e67 5f6c 6973 7420 3d20 5b5d 0a20 2020  ng_list = [].   
+0000a890: 2020 2020 2023 2020 2020 2066 6f72 2069       #     for i
+0000a8a0: 2069 6e20 7261 6e67 6528 6e75 6d5f 7769   in range(num_wi
+0000a8b0: 6e64 696e 6773 293a 0a20 2020 2020 2020  ndings):.       
+0000a8c0: 2023 2020 2020 2020 2020 2077 696e 6469   #         windi
+0000a8d0: 6e67 5f6c 6973 742e 6170 7065 6e64 2877  ng_list.append(w
+0000a8e0: 696e 6469 6e67 5b69 202a 2035 5d5b 305d  inding[i * 5][0]
+0000a8f0: 290a 2020 2020 2020 2020 2320 2020 2020  ).        #     
+0000a900: 7769 7265 5f64 6973 7461 6e63 652e 6170  wire_distance.ap
+0000a910: 7065 6e64 2877 696e 6469 6e67 5f6c 6973  pend(winding_lis
+0000a920: 7429 0a20 2020 2020 2020 2023 0a20 2020  t).        #.   
+0000a930: 2020 2020 2023 2072 6574 7572 6e20 7769       # return wi
+0000a940: 7265 5f64 6973 7461 6e63 650a 0a20 2020  re_distance..   
+0000a950: 2020 2020 2077 6972 655f 6469 7374 616e       wire_distan
+0000a960: 6365 203d 205b 5d0a 2020 2020 2020 2020  ce = [].        
+0000a970: 666f 7220 5f2c 2063 6f6e 6475 6374 6f72  for _, conductor
+0000a980: 2069 6e20 656e 756d 6572 6174 6528 7365   in enumerate(se
+0000a990: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
+0000a9a0: 6f6e 6475 6374 6f72 293a 0a20 2020 2020  onductor):.     
+0000a9b0: 2020 2020 2020 206e 756d 5f70 6f69 6e74         num_point
+0000a9c0: 7320 3d20 6c65 6e28 636f 6e64 7563 746f  s = len(conducto
+0000a9d0: 7229 0a20 2020 2020 2020 2020 2020 206e  r).            n
+0000a9e0: 756d 5f74 7572 6e73 203d 206e 756d 5f70  um_turns = num_p
+0000a9f0: 6f69 6e74 7320 2f2f 2035 0a20 2020 2020  oints // 5.     
+0000aa00: 2020 2020 2020 2070 6f69 6e74 5f69 6e63         point_inc
+0000aa10: 7265 6d65 6e74 203d 2035 0a0a 2020 2020  rement = 5..    
+0000aa20: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
+0000aa30: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
+0000aa40: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+0000aa50: 616e 6765 286e 756d 5f74 7572 6e73 293a  ange(num_turns):
+0000aa60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000aa70: 2077 696e 6469 6e67 5f6c 6973 742e 6170   winding_list.ap
+0000aa80: 7065 6e64 2863 6f6e 6475 6374 6f72 5b69  pend(conductor[i
+0000aa90: 202a 2070 6f69 6e74 5f69 6e63 7265 6d65   * point_increme
+0000aaa0: 6e74 5d5b 305d 290a 2020 2020 2020 2020  nt][0]).        
+0000aab0: 2020 2020 7769 7265 5f64 6973 7461 6e63      wire_distanc
+0000aac0: 652e 6170 7065 6e64 2877 696e 6469 6e67  e.append(winding
+0000aad0: 5f6c 6973 7429 0a0a 2020 2020 2020 2020  _list)..        
+0000aae0: 7265 7475 726e 2077 6972 655f 6469 7374  return wire_dist
+0000aaf0: 616e 6365 0a0a 2020 2020 6465 6620 6361  ance..    def ca
+0000ab00: 6c63 756c 6174 655f 7769 7265 5f6c 656e  lculate_wire_len
+0000ab10: 6774 6873 2873 656c 6629 202d 3e20 4c69  gths(self) -> Li
+0000ab20: 7374 5b66 6c6f 6174 5d3a 0a20 2020 2020  st[float]:.     
+0000ab30: 2020 2022 2222 4361 6c63 756c 6174 6520     """Calculate 
+0000ab40: 7468 6520 7769 7265 206c 656e 6774 6820  the wire length 
+0000ab50: 6f66 2061 6c6c 2063 6f6e 6475 6374 6f72  of all conductor
+0000ab60: 7320 696e 7369 6465 2074 6865 206d 6167  s inside the mag
+0000ab70: 6e65 7469 6320 636f 6d70 6f6e 656e 742e  netic component.
+0000ab80: 2222 220a 2020 2020 2020 2020 6469 7374  """.        dist
+0000ab90: 616e 6365 7320 3d20 7365 6c66 2e67 6574  ances = self.get
+0000aba0: 5f77 6972 655f 6469 7374 616e 6365 7328  _wire_distances(
+0000abb0: 290a 2020 2020 2020 2020 6c65 6e67 7468  ).        length
+0000abc0: 7320 3d20 5b5d 0a20 2020 2020 2020 2066  s = [].        f
+0000abd0: 6f72 2077 696e 6469 6e67 2069 6e20 6469  or winding in di
+0000abe0: 7374 616e 6365 733a 0a20 2020 2020 2020  stances:.       
+0000abf0: 2020 2020 206c 656e 6774 6873 2e61 7070       lengths.app
+0000ac00: 656e 6428 7375 6d28 5b32 202a 206e 702e  end(sum([2 * np.
+0000ac10: 7069 202a 2074 7572 6e20 666f 7220 7475  pi * turn for tu
+0000ac20: 726e 2069 6e20 7769 6e64 696e 675d 2929  rn in winding]))
+0000ac30: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+0000ac40: 206c 656e 6774 6873 0a0a 2020 2020 6465   lengths..    de
+0000ac50: 6620 6361 6c63 756c 6174 655f 7769 7265  f calculate_wire
+0000ac60: 5f76 6f6c 756d 6573 2873 656c 6629 202d  _volumes(self) -
+0000ac70: 3e20 4c69 7374 5b66 6c6f 6174 5d3a 0a20  > List[float]:. 
+0000ac80: 2020 2020 2020 2022 2222 4361 6c63 756c         """Calcul
+0000ac90: 6174 6520 7468 6520 7769 7265 2076 6f6c  ate the wire vol
+0000aca0: 756d 6520 6f66 2074 6865 206d 6167 6e65  ume of the magne
+0000acb0: 7469 6320 636f 6d70 6f6e 656e 742e 2222  tic component.""
+0000acc0: 220a 2020 2020 2020 2020 7769 7265 5f76  ".        wire_v
+0000acd0: 6f6c 756d 6573 203d 205b 5d0a 2020 2020  olumes = [].    
+0000ace0: 2020 2020 7769 7265 5f6c 656e 6774 6873      wire_lengths
+0000acf0: 203d 2073 656c 662e 6361 6c63 756c 6174   = self.calculat
+0000ad00: 655f 7769 7265 5f6c 656e 6774 6873 2829  e_wire_lengths()
+0000ad10: 0a20 2020 2020 2020 2066 6f72 2069 6e64  .        for ind
+0000ad20: 6578 2c20 7769 6e64 696e 6720 696e 2065  ex, winding in e
+0000ad30: 6e75 6d65 7261 7465 2873 656c 662e 7769  numerate(self.wi
+0000ad40: 6e64 696e 6773 293a 0a20 2020 2020 2020  ndings):.       
+0000ad50: 2020 2020 2063 726f 7373 5f73 6563 7469       cross_secti
+0000ad60: 6f6e 5f61 7265 6120 3d20 300a 2020 2020  on_area = 0.    
+0000ad70: 2020 2020 2020 2020 6966 2077 696e 6469          if windi
+0000ad80: 6e67 2e63 6f6e 6475 6374 6f72 5f74 7970  ng.conductor_typ
+0000ad90: 6520 3d3d 2043 6f6e 6475 6374 6f72 5479  e == ConductorTy
+0000ada0: 7065 2e52 6f75 6e64 4c69 747a 206f 7220  pe.RoundLitz or 
+0000adb0: 7769 6e64 696e 672e 636f 6e64 7563 746f  winding.conducto
+0000adc0: 725f 7479 7065 203d 3d20 436f 6e64 7563  r_type == Conduc
+0000add0: 746f 7254 7970 652e 526f 756e 6453 6f6c  torType.RoundSol
+0000ade0: 6964 3a0a 2020 2020 2020 2020 2020 2020  id:.            
+0000adf0: 2020 2020 2320 466f 7220 726f 756e 6420      # For round 
+0000ae00: 7769 7265 2069 7420 6973 2061 6c77 6179  wire it is alway
+0000ae10: 7320 7468 6520 7361 6d65 0a20 2020 2020  s the same.     
+0000ae20: 2020 2020 2020 2020 2020 2063 726f 7373             cross
+0000ae30: 5f73 6563 7469 6f6e 5f61 7265 6120 3d20  _section_area = 
+0000ae40: 6e70 2e70 6920 2a20 7769 6e64 696e 672e  np.pi * winding.
+0000ae50: 636f 6e64 7563 746f 725f 7261 6469 7573  conductor_radius
+0000ae60: 202a 2a20 320a 2020 2020 2020 2020 2020   ** 2.          
+0000ae70: 2020 656c 6966 2077 696e 6469 6e67 2e63    elif winding.c
+0000ae80: 6f6e 6475 6374 6f72 5f74 7970 6520 3d3d  onductor_type ==
+0000ae90: 2043 6f6e 6475 6374 6f72 5479 7065 2e52   ConductorType.R
+0000aea0: 6563 7461 6e67 756c 6172 536f 6c69 643a  ectangularSolid:
+0000aeb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000aec0: 2023 2053 696e 6365 2074 6865 2066 6f69   # Since the foi
+0000aed0: 6c20 7369 7a65 7320 616c 736f 2064 6570  l sizes also dep
+0000aee0: 656e 6473 206f 6e20 7468 6520 7769 6e64  ends on the wind
+0000aef0: 696e 6720 7363 6865 6d65 2c20 636f 6e64  ing scheme, cond
+0000af00: 7563 746f 725f 6172 7261 6e67 656d 656e  uctor_arrangemen
+0000af10: 7420 616e 6420 7772 6170 5f70 6172 615f  t and wrap_para_
+0000af20: 7479 7065 0a20 2020 2020 2020 2020 2020  type.           
+0000af30: 2020 2020 2023 2074 6865 2076 6f6c 756d       # the volum
+0000af40: 6520 6361 6c63 756c 6174 696f 6e20 6973  e calculation is
+0000af50: 2064 6966 6665 7265 6e74 2e0a 2020 2020   different..    
+0000af60: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+0000af70: 7777 2069 6e20 7365 6c66 2e77 696e 6469  ww in self.windi
+0000af80: 6e67 5f77 696e 646f 7773 3a0a 2020 2020  ng_windows:.    
+0000af90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afa0: 666f 7220 7677 775f 696e 6465 782c 2076  for vww_index, v
+0000afb0: 7777 2069 6e20 656e 756d 6572 6174 6528  ww in enumerate(
+0000afc0: 7777 2e76 6972 7475 616c 5f77 696e 6469  ww.virtual_windi
+0000afd0: 6e67 5f77 696e 646f 7773 293a 0a20 2020  ng_windows):.   
+0000afe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aff0: 2020 2020 2077 696e 6469 6e67 5f74 7970       winding_typ
+0000b000: 6520 3d20 7677 772e 7769 6e64 696e 675f  e = vww.winding_
+0000b010: 7479 7065 0a20 2020 2020 2020 2020 2020  type.           
+0000b020: 2020 2020 2020 2020 2020 2020 2077 696e               win
+0000b030: 6469 6e67 5f73 6368 656d 6520 3d20 7677  ding_scheme = vw
+0000b040: 772e 7769 6e64 696e 675f 7363 6865 6d65  w.winding_scheme
+0000b050: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b060: 2020 2020 2020 2020 2077 7261 705f 7061           wrap_pa
+0000b070: 7261 5f74 7970 6520 3d20 7677 772e 7772  ra_type = vww.wr
+0000b080: 6170 5f70 6172 610a 2020 2020 2020 2020  ap_para.        
+0000b090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0a0: 666f 7220 7677 775f 7769 6e64 696e 6720  for vww_winding 
+0000b0b0: 696e 2076 7777 2e77 696e 6469 6e67 733a  in vww.windings:
+0000b0c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b0d0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0000b0e0: 7677 775f 7769 6e64 696e 672e 7769 6e64  vww_winding.wind
+0000b0f0: 696e 675f 6e75 6d62 6572 203d 3d20 696e  ing_number == in
+0000b100: 6465 783a 0a20 2020 2020 2020 2020 2020  dex:.           
+0000b110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b120: 2020 2020 2069 6620 7769 6e64 696e 675f       if winding_
+0000b130: 7479 7065 203d 3d20 5769 6e64 696e 6754  type == WindingT
+0000b140: 7970 652e 5369 6e67 6c65 3a0a 2020 2020  ype.Single:.    
+0000b150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b170: 6966 2077 696e 6469 6e67 5f73 6368 656d  if winding_schem
+0000b180: 6520 3d3d 2057 696e 6469 6e67 5363 6865  e == WindingSche
+0000b190: 6d65 2e46 756c 6c3a 0a20 2020 2020 2020  me.Full:.       
+0000b1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000b1b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b1d0: 2020 2020 2020 2020 6372 6f73 735f 7365          cross_se
-0000b1e0: 6374 696f 6e5f 6172 6561 203d 2073 656c  ction_area = sel
-0000b1f0: 662e 636f 7265 2e77 696e 646f 775f 6820  f.core.window_h 
-0000b200: 2a20 7365 6c66 2e63 6f72 652e 7769 6e64  * self.core.wind
-0000b210: 6f77 5f77 0a20 2020 2020 2020 2020 2020  ow_w.           
-0000b220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b230: 2020 2020 2020 2020 2065 6c69 6620 7769           elif wi
-0000b240: 6e64 696e 675f 7363 6865 6d65 203d 3d20  nding_scheme == 
-0000b250: 5769 6e64 696e 6753 6368 656d 652e 466f  WindingScheme.Fo
-0000b260: 696c 486f 7269 7a6f 6e74 616c 3a0a 2020  ilHorizontal:.  
-0000b270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b290: 2020 2020 2020 6372 6f73 735f 7365 6374        cross_sect
-0000b2a0: 696f 6e5f 6172 6561 203d 2073 656c 662e  ion_area = self.
-0000b2b0: 636f 7265 2e77 696e 646f 775f 7720 2a20  core.window_w * 
-0000b2c0: 7769 6e64 696e 672e 7468 6963 6b6e 6573  winding.thicknes
-0000b2d0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-0000b2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b2f0: 2020 2020 2020 656c 6966 2077 696e 6469        elif windi
-0000b300: 6e67 5f73 6368 656d 6520 3d3d 2057 696e  ng_scheme == Win
-0000b310: 6469 6e67 5363 6865 6d65 2e46 6f69 6c56  dingScheme.FoilV
-0000b320: 6572 7469 6361 6c3a 0a20 2020 2020 2020  ertical:.       
-0000b330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b350: 2069 6620 7772 6170 5f70 6172 615f 7479   if wrap_para_ty
-0000b360: 7065 203d 3d20 5772 6170 5061 7261 5479  pe == WrapParaTy
-0000b370: 7065 2e46 6978 6564 5468 6963 6b6e 6573  pe.FixedThicknes
-0000b380: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-0000b390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b3a0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0000b3b0: 726f 7373 5f73 6563 7469 6f6e 5f61 7265  ross_section_are
-0000b3c0: 6120 3d20 7365 6c66 2e63 6f72 652e 7769  a = self.core.wi
-0000b3d0: 6e64 6f77 5f68 202a 2077 696e 6469 6e67  ndow_h * winding
-0000b3e0: 2e74 6869 636b 6e65 7373 0a20 2020 2020  .thickness.     
-0000b3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b410: 2020 2065 6c69 6620 7772 6170 5f70 6172     elif wrap_par
-0000b420: 615f 7479 7065 203d 3d20 5772 6170 5061  a_type == WrapPa
-0000b430: 7261 5479 7065 2e49 6e74 6572 706f 6c61  raType.Interpola
-0000b440: 7465 3a0a 2020 2020 2020 2020 2020 2020  te:.            
-0000b450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b470: 6372 6f73 735f 7365 6374 696f 6e5f 6172  cross_section_ar
-0000b480: 6561 203d 2073 656c 662e 636f 7265 2e77  ea = self.core.w
-0000b490: 696e 646f 775f 6820 2a20 7365 6c66 2e63  indow_h * self.c
-0000b4a0: 6f72 652e 7769 6e64 6f77 5f77 202f 2076  ore.window_w / v
-0000b4b0: 7777 2e74 7572 6e73 5b0a 2020 2020 2020  ww.turns[.      
+0000b1c0: 2063 726f 7373 5f73 6563 7469 6f6e 5f61   cross_section_a
+0000b1d0: 7265 6120 3d20 7365 6c66 2e63 6f72 652e  rea = self.core.
+0000b1e0: 7769 6e64 6f77 5f68 202a 2073 656c 662e  window_h * self.
+0000b1f0: 636f 7265 2e77 696e 646f 775f 770a 2020  core.window_w.  
+0000b200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b220: 2020 656c 6966 2077 696e 6469 6e67 5f73    elif winding_s
+0000b230: 6368 656d 6520 3d3d 2057 696e 6469 6e67  cheme == Winding
+0000b240: 5363 6865 6d65 2e46 6f69 6c48 6f72 697a  Scheme.FoilHoriz
+0000b250: 6f6e 7461 6c3a 0a20 2020 2020 2020 2020  ontal:.         
+0000b260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b270: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+0000b280: 726f 7373 5f73 6563 7469 6f6e 5f61 7265  ross_section_are
+0000b290: 6120 3d20 7365 6c66 2e63 6f72 652e 7769  a = self.core.wi
+0000b2a0: 6e64 6f77 5f77 202a 2077 696e 6469 6e67  ndow_w * winding
+0000b2b0: 2e74 6869 636b 6e65 7373 0a20 2020 2020  .thickness.     
+0000b2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2d0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0000b2e0: 6c69 6620 7769 6e64 696e 675f 7363 6865  lif winding_sche
+0000b2f0: 6d65 203d 3d20 5769 6e64 696e 6753 6368  me == WindingSch
+0000b300: 656d 652e 466f 696c 5665 7274 6963 616c  eme.FoilVertical
+0000b310: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000b320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b330: 2020 2020 2020 2020 2020 6966 2077 7261            if wra
+0000b340: 705f 7061 7261 5f74 7970 6520 3d3d 2057  p_para_type == W
+0000b350: 7261 7050 6172 6154 7970 652e 4669 7865  rapParaType.Fixe
+0000b360: 6454 6869 636b 6e65 7373 3a0a 2020 2020  dThickness:.    
+0000b370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b390: 2020 2020 2020 2020 6372 6f73 735f 7365          cross_se
+0000b3a0: 6374 696f 6e5f 6172 6561 203d 2073 656c  ction_area = sel
+0000b3b0: 662e 636f 7265 2e77 696e 646f 775f 6820  f.core.window_h 
+0000b3c0: 2a20 7769 6e64 696e 672e 7468 6963 6b6e  * winding.thickn
+0000b3d0: 6573 730a 2020 2020 2020 2020 2020 2020  ess.            
+0000b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3f0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0000b400: 2077 7261 705f 7061 7261 5f74 7970 6520   wrap_para_type 
+0000b410: 3d3d 2057 7261 7050 6172 6154 7970 652e  == WrapParaType.
+0000b420: 496e 7465 7270 6f6c 6174 653a 0a20 2020  Interpolate:.   
+0000b430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b450: 2020 2020 2020 2020 2063 726f 7373 5f73           cross_s
+0000b460: 6563 7469 6f6e 5f61 7265 6120 3d20 7365  ection_area = se
+0000b470: 6c66 2e63 6f72 652e 7769 6e64 6f77 5f68  lf.core.window_h
+0000b480: 202a 2073 656c 662e 636f 7265 2e77 696e   * self.core.win
+0000b490: 646f 775f 7720 2f20 7677 772e 7475 726e  dow_w / vww.turn
+0000b4a0: 735b 0a20 2020 2020 2020 2020 2020 2020  s[.             
+0000b4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000b4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b4e0: 2020 2020 2020 2020 2020 7677 775f 696e            vww_in
-0000b4f0: 6465 785d 0a20 2020 2020 2020 2020 2020  dex].           
-0000b500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b510: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-0000b520: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-0000b530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b540: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0000b550: 6169 7365 2045 7863 6570 7469 6f6e 2866  aise Exception(f
-0000b560: 2255 6e6b 6e6f 776e 2077 7261 7020 7061  "Unknown wrap pa
-0000b570: 7261 2074 7970 6520 7b77 7261 705f 7061  ra type {wrap_pa
-0000b580: 7261 5f74 7970 657d 2229 0a20 2020 2020  ra_type}").     
-0000b590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b5a0: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000b5b0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0000b5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b5d0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-0000b5e0: 7365 2045 7863 6570 7469 6f6e 2866 2255  se Exception(f"U
-0000b5f0: 6e6b 6e6f 776e 2077 696e 6469 6e67 2073  nknown winding s
-0000b600: 6368 656d 6520 7b77 696e 6469 6e67 5f73  cheme {winding_s
-0000b610: 6368 656d 657d 2229 0a20 2020 2020 2020  cheme}").       
-0000b620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b630: 2020 2020 2020 2020 2065 6c69 6620 7769           elif wi
-0000b640: 6e64 696e 675f 7479 7065 203d 3d20 5769  nding_type == Wi
-0000b650: 6e64 696e 6754 7970 652e 5477 6f49 6e74  ndingType.TwoInt
-0000b660: 6572 6c65 6176 6564 3a0a 2020 2020 2020  erleaved:.      
-0000b670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b680: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0000b690: 5369 6e63 6520 696e 7465 726c 6561 7665  Since interleave
-0000b6a0: 6420 7769 6e64 696e 6720 7479 7065 2063  d winding type c
-0000b6b0: 7572 7265 6e74 6c79 206f 6e6c 790a 2020  urrently only.  
-0000b6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b6d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b6e0: 2020 2320 7375 7070 6f72 7473 2072 6f75    # supports rou
-0000b6f0: 6e64 2063 6f6e 6475 6374 6f72 7320 7468  nd conductors th
-0000b700: 6973 2063 616e 2062 6520 6c65 6674 2065  is can be left e
-0000b710: 6d70 7479 2e0a 2020 2020 2020 2020 2020  mpty..          
-0000b720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b730: 2020 2020 2020 2020 2020 7061 7373 0a20            pass. 
-0000b740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b750: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0000b760: 6c69 6620 7769 6e64 696e 675f 7479 7065  lif winding_type
-0000b770: 203d 3d20 5769 6e64 696e 6754 7970 652e   == WindingType.
-0000b780: 4365 6e74 6572 5461 7070 6564 4772 6f75  CenterTappedGrou
-0000b790: 703a 0a20 2020 2020 2020 2020 2020 2020  p:.             
-0000b7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b7b0: 2020 2020 2020 2063 726f 7373 5f73 6563         cross_sec
-0000b7c0: 7469 6f6e 5f61 7265 6120 3d20 7365 6c66  tion_area = self
-0000b7d0: 2e63 6f72 652e 7769 6e64 6f77 5f77 202a  .core.window_w *
-0000b7e0: 2077 696e 6469 6e67 2e74 6869 636b 6e65   winding.thickne
-0000b7f0: 7373 0a20 2020 2020 2020 2020 2020 2020  ss.             
-0000b800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b810: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000b820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b830: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-0000b840: 7365 2045 7863 6570 7469 6f6e 2866 2255  se Exception(f"U
-0000b850: 6e6b 6e6f 776e 2077 696e 6469 6e67 2074  nknown winding t
-0000b860: 7970 6520 7b77 696e 6469 6e67 5f74 7970  ype {winding_typ
-0000b870: 657d 2229 0a20 2020 2020 2020 2020 2020  e}").           
-0000b880: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0000b890: 2020 2020 2020 2072 6169 7365 2045 7863         raise Exc
-0000b8a0: 6570 7469 6f6e 2866 2255 6e6b 6e6f 776e  eption(f"Unknown
-0000b8b0: 2063 6f6e 6475 6374 6f72 2074 7970 6520   conductor type 
-0000b8c0: 7b77 696e 6469 6e67 2e63 6f6e 6475 6374  {winding.conduct
-0000b8d0: 6f72 5f74 7970 657d 2229 0a0a 2020 2020  or_type}")..    
-0000b8e0: 2020 2020 2020 2020 7769 7265 5f76 6f6c          wire_vol
-0000b8f0: 756d 6573 2e61 7070 656e 6428 6372 6f73  umes.append(cros
-0000b900: 735f 7365 6374 696f 6e5f 6172 6561 202a  s_section_area *
-0000b910: 2077 6972 655f 6c65 6e67 7468 735b 696e   wire_lengths[in
-0000b920: 6465 785d 290a 0a20 2020 2020 2020 2072  dex])..        r
-0000b930: 6574 7572 6e20 7769 7265 5f76 6f6c 756d  eturn wire_volum
-0000b940: 6573 0a0a 2020 2020 6465 6620 6361 6c63  es..    def calc
-0000b950: 756c 6174 655f 7769 7265 5f77 6569 6768  ulate_wire_weigh
-0000b960: 7428 7365 6c66 2920 2d3e 204c 6973 745b  t(self) -> List[
-0000b970: 666c 6f61 745d 3a0a 2020 2020 2020 2020  float]:.        
-0000b980: 2222 2243 616c 6375 616c 7465 2074 6865  """Calcualte the
-0000b990: 2077 6569 6768 7420 6f66 2061 6c6c 2077   weight of all w
-0000b9a0: 6972 6573 2075 7365 6420 696e 7369 6465  ires used inside
-0000b9b0: 2074 6865 206d 6167 6e65 7469 6320 636f   the magnetic co
-0000b9c0: 6d70 6f6e 656e 742e 2222 220a 2020 2020  mponent.""".    
-0000b9d0: 2020 2020 7769 7265 5f6d 6174 6572 6961      wire_materia
-0000b9e0: 6c20 3d20 6666 2e77 6972 655f 6d61 7465  l = ff.wire_mate
-0000b9f0: 7269 616c 5f64 6174 6162 6173 6528 290a  rial_database().
-0000ba00: 0a20 2020 2020 2020 2077 6972 655f 7765  .        wire_we
-0000ba10: 6967 6874 203d 205b 5d0a 0a20 2020 2020  ight = []..     
-0000ba20: 2020 2023 2054 4f44 4f3a 2064 6973 7469     # TODO: disti
-0000ba30: 6e67 7569 7368 2062 6574 7765 656e 2077  nguish between w
-0000ba40: 6972 6520 6d61 7465 7269 616c 2e20 4f6e  ire material. On
-0000ba50: 6c79 2063 6f70 7065 7220 6174 2074 6865  ly copper at the
-0000ba60: 206d 6f6d 656e 740a 2020 2020 2020 2020   moment.        
-0000ba70: 666f 7220 7769 7265 5f76 6f6c 756d 6520  for wire_volume 
-0000ba80: 696e 2073 656c 662e 6361 6c63 756c 6174  in self.calculat
-0000ba90: 655f 7769 7265 5f76 6f6c 756d 6573 2829  e_wire_volumes()
-0000baa0: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-0000bab0: 7265 5f77 6569 6768 742e 6170 7065 6e64  re_weight.append
-0000bac0: 2877 6972 655f 766f 6c75 6d65 202a 2077  (wire_volume * w
-0000bad0: 6972 655f 6d61 7465 7269 616c 5b22 436f  ire_material["Co
-0000bae0: 7070 6572 225d 2e76 6f6c 756d 6574 7269  pper"].volumetri
-0000baf0: 635f 6d61 7373 5f64 656e 7369 7479 290a  c_mass_density).
-0000bb00: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
-0000bb10: 7769 7265 5f77 6569 6768 740a 0a20 2020  wire_weight..   
-0000bb20: 2023 2020 2d20 202d 2020 2d20 202d 2020   #  -  -  -  -  
-0000bb30: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-0000bb40: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0000bb50: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-0000bb60: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-0000bb70: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0000bb80: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-0000bb90: 2d20 202d 0a20 2020 2023 2047 6574 4450  -  -.    # GetDP
-0000bba0: 2049 6e74 6572 6163 7469 6f6e 202f 2053   Interaction / S
-0000bbb0: 696d 756c 6174 696f 6e20 2f20 4578 6369  imulation / Exci
-0000bbc0: 7461 7469 6f6e 0a20 2020 2064 6566 2065  tation.    def e
-0000bbd0: 7863 6974 6174 696f 6e28 7365 6c66 2c20  xcitation(self, 
-0000bbe0: 6672 6571 7565 6e63 793a 2066 6c6f 6174  frequency: float
-0000bbf0: 2c20 616d 706c 6974 7564 655f 6c69 7374  , amplitude_list
-0000bc00: 3a20 4c69 7374 2c20 7068 6173 655f 6465  : List, phase_de
-0000bc10: 675f 6c69 7374 3a20 4c69 7374 203d 204e  g_list: List = N
-0000bc20: 6f6e 652c 2065 785f 7479 7065 3a20 7374  one, ex_type: st
-0000bc30: 7220 3d20 2763 7572 7265 6e74 272c 0a20  r = 'current',. 
-0000bc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc50: 2020 706c 6f74 5f69 6e74 6572 706f 6c61    plot_interpola
-0000bc60: 7469 6f6e 3a20 626f 6f6c 203d 2046 616c  tion: bool = Fal
-0000bc70: 7365 293a 0a20 2020 2020 2020 2022 2222  se):.        """
-0000bc80: 0a20 2020 2020 2020 2052 756e 2061 2065  .        Run a e
-0000bc90: 6c65 6374 726f 6d61 676e 6574 6963 2073  lectromagnetic s
-0000bca0: 696d 756c 6174 696f 6e2e 0a0a 2020 2020  imulation...    
-0000bcb0: 2020 2020 2d20 6578 6369 7461 7469 6f6e      - excitation
-0000bcc0: 206f 6620 7468 6520 656c 6563 7472 6f6d   of the electrom
-0000bcd0: 6167 6e65 7469 6320 7072 6f62 6c65 6d0a  agnetic problem.
-0000bce0: 2020 2020 2020 2020 2d20 6375 7272 656e          - curren
-0000bcf0: 742c 2076 6f6c 7461 6765 206f 7220 6375  t, voltage or cu
-0000bd00: 7272 656e 7420 6465 6e73 6974 790a 2020  rrent density.  
-0000bd10: 2020 2020 2020 2d20 6672 6571 7565 6e63        - frequenc
-0000bd20: 7920 6f72 2072 6564 7563 6564 2066 7265  y or reduced fre
-0000bd30: 7175 656e 6379 0a0a 2020 2020 2020 2020  quency..        
-0000bd40: 3a70 6172 616d 2070 6c6f 745f 696e 7465  :param plot_inte
-0000bd50: 7270 6f6c 6174 696f 6e3a 0a20 2020 2020  rpolation:.     
-0000bd60: 2020 203a 7061 7261 6d20 6672 6571 7565     :param freque
-0000bd70: 6e63 793a 2046 7265 7175 656e 6379 0a20  ncy: Frequency. 
-0000bd80: 2020 2020 2020 203a 7479 7065 2066 7265         :type fre
-0000bd90: 7175 656e 6379 3a20 666c 6f61 740a 2020  quency: float.  
-0000bda0: 2020 2020 2020 3a70 6172 616d 2061 6d70        :param amp
-0000bdb0: 6c69 7475 6465 5f6c 6973 743a 2043 7572  litude_list: Cur
-0000bdc0: 7265 6e74 2061 6d70 6c69 7475 6465 7320  rent amplitudes 
-0000bdd0: 6163 636f 7264 696e 6720 746f 2077 696e  according to win
-0000bde0: 6469 6e67 730a 2020 2020 2020 2020 3a74  dings.        :t
-0000bdf0: 7970 6520 616d 706c 6974 7564 655f 6c69  ype amplitude_li
-0000be00: 7374 3a20 4c69 7374 0a20 2020 2020 2020  st: List.       
-0000be10: 203a 7061 7261 6d20 7068 6173 655f 6465   :param phase_de
-0000be20: 675f 6c69 7374 3a20 4375 7272 656e 7420  g_list: Current 
-0000be30: 7068 6173 6573 2069 6e20 6465 6772 6565  phases in degree
-0000be40: 2061 6363 6f72 6469 6e67 2074 6f20 7468   according to th
-0000be50: 6520 6375 7272 656e 7420 616d 706c 6974  e current amplit
-0000be60: 7564 6573 2028 6163 636f 7264 696e 6720  udes (according 
-0000be70: 746f 2077 696e 6469 6e67 7329 0a20 2020  to windings).   
-0000be80: 2020 2020 203a 7479 7065 2070 6861 7365       :type phase
-0000be90: 5f64 6567 5f6c 6973 743a 204c 6973 740a  _deg_list: List.
-0000bea0: 2020 2020 2020 2020 3a70 6172 616d 2065          :param e
-0000beb0: 785f 7479 7065 3a20 4578 6369 7461 7469  x_type: Excitati
-0000bec0: 6f6e 2074 7970 652e 2027 4375 7272 656e  on type. 'Curren
-0000bed0: 7427 2069 6d70 6c65 6d65 6e74 6564 206f  t' implemented o
-0000bee0: 6e6c 792e 2046 7574 7572 6520 7573 6520  nly. Future use 
-0000bef0: 6d61 793a 2027 766f 6c74 6167 6527 2061  may: 'voltage' a
-0000bf00: 6e64 2027 6375 7272 656e 745f 6465 6e73  nd 'current_dens
-0000bf10: 6974 7927 0a20 2020 2020 2020 203a 7479  ity'.        :ty
-0000bf20: 7065 2065 785f 7479 7065 3a20 7374 720a  pe ex_type: str.
-0000bf30: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000bf40: 2020 2020 2320 6e65 6761 7469 7665 2063      # negative c
-0000bf50: 7572 7265 6e74 7320 6172 6520 6e6f 7420  urrents are not 
-0000bf60: 616c 6c6f 7765 6420 616e 6420 6c65 6164  allowed and lead
-0000bf70: 2074 6f20 7772 6f6e 6720 7369 6d75 6c61   to wrong simula
-0000bf80: 7469 6f6e 2072 6573 756c 7473 2e20 4368  tion results. Ch
-0000bf90: 6563 6b20 666f 7220 7468 6973 2e0a 2020  eck for this..  
-0000bfa0: 2020 2020 2020 2320 7468 6973 206d 6573        # this mes
-0000bfb0: 7361 6765 2061 7070 6561 7273 2061 6674  sage appears aft
-0000bfc0: 6572 206d 6573 6869 6e67 2062 7574 2062  er meshing but b
-0000bfd0: 6566 6f72 6520 7369 6d75 6c61 7469 6f6e  efore simulation
-0000bfe0: 0a20 2020 2020 2020 2066 6f72 2061 6d70  .        for amp
-0000bff0: 6c69 7475 6465 2069 6e20 616d 706c 6974  litude in amplit
-0000c000: 7564 655f 6c69 7374 3a0a 2020 2020 2020  ude_list:.      
-0000c010: 2020 2020 2020 6966 2061 6d70 6c69 7475        if amplitu
-0000c020: 6465 203c 2030 3a0a 2020 2020 2020 2020  de < 0:.        
-0000c030: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-0000c040: 6c75 6545 7272 6f72 280a 2020 2020 2020  lueError(.      
-0000c050: 2020 2020 2020 2020 2020 2020 2020 224e                "N
-0000c060: 6567 6174 6976 6520 6375 7272 656e 7473  egative currents
-0000c070: 2061 7265 206e 6f74 2061 6c6c 6f77 6564   are not allowed
-0000c080: 2e20 5573 6520 7468 6520 7068 6173 6520  . Use the phase 
-0000c090: 2b20 3138 3020 6465 6772 6565 2074 6f20  + 180 degree to 
-0000c0a0: 6765 6e65 7261 7465 2061 206e 6567 6174  generate a negat
-0000c0b0: 6976 6520 6375 7272 656e 742e 2229 0a0a  ive current.")..
-0000c0c0: 2020 2020 2020 2020 7365 6c66 2e66 656d          self.fem
-0000c0d0: 6d74 5f70 7269 6e74 2866 225c 6e2d 2d2d  mt_print(f"\n---
-0000c0e0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-0000c0f0: 2020 2020 2020 2020 2020 2020 2066 2245               f"E
-0000c100: 7863 6974 6174 696f 6e3a 205c 6e22 0a20  xcitation: \n". 
-0000c110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c120: 2020 2020 2020 2020 6622 4672 6571 7565          f"Freque
-0000c130: 6e63 793a 207b 6672 6571 7565 6e63 797d  ncy: {frequency}
-0000c140: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-0000c150: 2020 2020 2020 2020 2020 2020 2066 2243               f"C
-0000c160: 7572 7265 6e74 2873 293a 207b 616d 706c  urrent(s): {ampl
-0000c170: 6974 7564 655f 6c69 7374 7d5c 6e22 0a20  itude_list}\n". 
-0000c180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c190: 2020 2020 2020 2020 6622 5068 6173 6528          f"Phase(
-0000c1a0: 7329 3a20 7b70 6861 7365 5f64 6567 5f6c  s): {phase_deg_l
-0000c1b0: 6973 747d 5c6e 2229 0a0a 2020 2020 2020  ist}\n")..      
-0000c1c0: 2020 2320 2d2d 2045 7863 6974 6174 696f    # -- Excitatio
-0000c1d0: 6e20 2d2d 0a20 2020 2020 2020 2073 656c  n --.        sel
-0000c1e0: 662e 666c 6167 5f65 7863 6974 6174 696f  f.flag_excitatio
-0000c1f0: 6e5f 7479 7065 203d 2065 785f 7479 7065  n_type = ex_type
-0000c200: 2020 2320 2763 7572 7265 6e74 272c 2027    # 'current', '
-0000c210: 6375 7272 656e 745f 6465 6e73 6974 7927  current_density'
-0000c220: 2c20 2776 6f6c 7461 6765 270a 2020 2020  , 'voltage'.    
-0000c230: 2020 2020 6966 2073 656c 662e 636f 7265      if self.core
-0000c240: 2e70 6572 6d65 6162 696c 6974 795b 2264  .permeability["d
-0000c250: 6174 6173 6f75 7263 6522 5d20 213d 204d  atasource"] != M
-0000c260: 6174 6572 6961 6c44 6174 6153 6f75 7263  aterialDataSourc
-0000c270: 652e 4375 7374 6f6d 3a0a 2020 2020 2020  e.Custom:.      
-0000c280: 2020 2020 2020 7365 6c66 2e63 6f72 652e        self.core.
-0000c290: 7570 6461 7465 5f63 6f72 655f 6d61 7465  update_core_mate
-0000c2a0: 7269 616c 5f70 726f 5f66 696c 6528 6672  rial_pro_file(fr
-0000c2b0: 6571 7565 6e63 792c 2073 656c 662e 6669  equency, self.fi
-0000c2c0: 6c65 5f64 6174 612e 656c 6563 7472 6f5f  le_data.electro_
-0000c2d0: 6d61 676e 6574 6963 5f66 6f6c 6465 725f  magnetic_folder_
-0000c2e0: 7061 7468 2c0a 2020 2020 2020 2020 2020  path,.          
+0000b4d0: 2020 2076 7777 5f69 6e64 6578 5d0a 2020     vww_index].  
+0000b4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b500: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+0000b510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b530: 2020 2020 2020 2020 7261 6973 6520 4578          raise Ex
+0000b540: 6365 7074 696f 6e28 6622 556e 6b6e 6f77  ception(f"Unknow
+0000b550: 6e20 7772 6170 2070 6172 6120 7479 7065  n wrap para type
+0000b560: 207b 7772 6170 5f70 6172 615f 7479 7065   {wrap_para_type
+0000b570: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
+0000b580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b590: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0000b5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b5c0: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
+0000b5d0: 7074 696f 6e28 6622 556e 6b6e 6f77 6e20  ption(f"Unknown 
+0000b5e0: 7769 6e64 696e 6720 7363 6865 6d65 207b  winding scheme {
+0000b5f0: 7769 6e64 696e 675f 7363 6865 6d65 7d22  winding_scheme}"
+0000b600: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0000b610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b620: 2020 656c 6966 2077 696e 6469 6e67 5f74    elif winding_t
+0000b630: 7970 6520 3d3d 2057 696e 6469 6e67 5479  ype == WindingTy
+0000b640: 7065 2e54 776f 496e 7465 726c 6561 7665  pe.TwoInterleave
+0000b650: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
+0000b660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b670: 2020 2020 2020 2023 2053 696e 6365 2069         # Since i
+0000b680: 6e74 6572 6c65 6176 6564 2077 696e 6469  nterleaved windi
+0000b690: 6e67 2074 7970 6520 6375 7272 656e 746c  ng type currentl
+0000b6a0: 7920 6f6e 6c79 0a20 2020 2020 2020 2020  y only.         
+0000b6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b6c0: 2020 2020 2020 2020 2020 2023 2073 7570             # sup
+0000b6d0: 706f 7274 7320 726f 756e 6420 636f 6e64  ports round cond
+0000b6e0: 7563 746f 7273 2074 6869 7320 6361 6e20  uctors this can 
+0000b6f0: 6265 206c 6566 7420 656d 7074 792e 0a20  be left empty.. 
+0000b700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b720: 2020 2070 6173 730a 2020 2020 2020 2020     pass.        
+0000b730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b740: 2020 2020 2020 2020 656c 6966 2077 696e          elif win
+0000b750: 6469 6e67 5f74 7970 6520 3d3d 2057 696e  ding_type == Win
+0000b760: 6469 6e67 5479 7065 2e43 656e 7465 7254  dingType.CenterT
+0000b770: 6170 7065 6447 726f 7570 3a0a 2020 2020  appedGroup:.    
+0000b780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b7a0: 6372 6f73 735f 7365 6374 696f 6e5f 6172  cross_section_ar
+0000b7b0: 6561 203d 2073 656c 662e 636f 7265 2e77  ea = self.core.w
+0000b7c0: 696e 646f 775f 7720 2a20 7769 6e64 696e  indow_w * windin
+0000b7d0: 672e 7468 6963 6b6e 6573 730a 2020 2020  g.thickness.    
+0000b7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b7f0: 2020 2020 2020 2020 2020 2020 656c 7365              else
+0000b800: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000b810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b820: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
+0000b830: 7074 696f 6e28 6622 556e 6b6e 6f77 6e20  ption(f"Unknown 
+0000b840: 7769 6e64 696e 6720 7479 7065 207b 7769  winding type {wi
+0000b850: 6e64 696e 675f 7479 7065 7d22 290a 2020  nding_type}").  
+0000b860: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0000b870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b880: 7261 6973 6520 4578 6365 7074 696f 6e28  raise Exception(
+0000b890: 6622 556e 6b6e 6f77 6e20 636f 6e64 7563  f"Unknown conduc
+0000b8a0: 746f 7220 7479 7065 207b 7769 6e64 696e  tor type {windin
+0000b8b0: 672e 636f 6e64 7563 746f 725f 7479 7065  g.conductor_type
+0000b8c0: 7d22 290a 0a20 2020 2020 2020 2020 2020  }")..           
+0000b8d0: 2077 6972 655f 766f 6c75 6d65 732e 6170   wire_volumes.ap
+0000b8e0: 7065 6e64 2863 726f 7373 5f73 6563 7469  pend(cross_secti
+0000b8f0: 6f6e 5f61 7265 6120 2a20 7769 7265 5f6c  on_area * wire_l
+0000b900: 656e 6774 6873 5b69 6e64 6578 5d29 0a0a  engths[index])..
+0000b910: 2020 2020 2020 2020 7265 7475 726e 2077          return w
+0000b920: 6972 655f 766f 6c75 6d65 730a 0a20 2020  ire_volumes..   
+0000b930: 2064 6566 2063 616c 6375 6c61 7465 5f77   def calculate_w
+0000b940: 6972 655f 7765 6967 6874 2873 656c 6629  ire_weight(self)
+0000b950: 202d 3e20 4c69 7374 5b66 6c6f 6174 5d3a   -> List[float]:
+0000b960: 0a20 2020 2020 2020 2022 2222 4361 6c63  .        """Calc
+0000b970: 756c 6174 6520 7468 6520 7765 6967 6874  ulate the weight
+0000b980: 206f 6620 616c 6c20 7769 7265 7320 7573   of all wires us
+0000b990: 6564 2069 6e73 6964 6520 7468 6520 6d61  ed inside the ma
+0000b9a0: 676e 6574 6963 2063 6f6d 706f 6e65 6e74  gnetic component
+0000b9b0: 2e22 2222 0a20 2020 2020 2020 2077 6972  .""".        wir
+0000b9c0: 655f 6d61 7465 7269 616c 203d 2066 662e  e_material = ff.
+0000b9d0: 7769 7265 5f6d 6174 6572 6961 6c5f 6461  wire_material_da
+0000b9e0: 7461 6261 7365 2829 0a0a 2020 2020 2020  tabase()..      
+0000b9f0: 2020 7769 7265 5f77 6569 6768 7420 3d20    wire_weight = 
+0000ba00: 5b5d 0a0a 2020 2020 2020 2020 2320 544f  []..        # TO
+0000ba10: 444f 3a20 6469 7374 696e 6775 6973 6820  DO: distinguish 
+0000ba20: 6265 7477 6565 6e20 7769 7265 206d 6174  between wire mat
+0000ba30: 6572 6961 6c2e 204f 6e6c 7920 636f 7070  erial. Only copp
+0000ba40: 6572 2061 7420 7468 6520 6d6f 6d65 6e74  er at the moment
+0000ba50: 0a20 2020 2020 2020 2066 6f72 2077 6972  .        for wir
+0000ba60: 655f 766f 6c75 6d65 2069 6e20 7365 6c66  e_volume in self
+0000ba70: 2e63 616c 6375 6c61 7465 5f77 6972 655f  .calculate_wire_
+0000ba80: 766f 6c75 6d65 7328 293a 0a20 2020 2020  volumes():.     
+0000ba90: 2020 2020 2020 2077 6972 655f 7765 6967         wire_weig
+0000baa0: 6874 2e61 7070 656e 6428 7769 7265 5f76  ht.append(wire_v
+0000bab0: 6f6c 756d 6520 2a20 7769 7265 5f6d 6174  olume * wire_mat
+0000bac0: 6572 6961 6c5b 2243 6f70 7065 7222 5d2e  erial["Copper"].
+0000bad0: 766f 6c75 6d65 7472 6963 5f6d 6173 735f  volumetric_mass_
+0000bae0: 6465 6e73 6974 7929 0a0a 2020 2020 2020  density)..      
+0000baf0: 2020 7265 7475 726e 2077 6972 655f 7765    return wire_we
+0000bb00: 6967 6874 0a0a 2020 2020 2320 202d 2020  ight..    #  -  
+0000bb10: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0000bb20: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+0000bb30: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+0000bb40: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0000bb50: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+0000bb60: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+0000bb70: 2d20 202d 2020 2d20 202d 2020 2d0a 2020  -  -  -  -  -.  
+0000bb80: 2020 2320 4765 7444 5020 496e 7465 7261    # GetDP Intera
+0000bb90: 6374 696f 6e20 2f20 5369 6d75 6c61 7469  ction / Simulati
+0000bba0: 6f6e 202f 2045 7863 6974 6174 696f 6e0a  on / Excitation.
+0000bbb0: 2020 2020 6465 6620 6578 6369 7461 7469      def excitati
+0000bbc0: 6f6e 2873 656c 662c 2066 7265 7175 656e  on(self, frequen
+0000bbd0: 6379 3a20 666c 6f61 742c 2061 6d70 6c69  cy: float, ampli
+0000bbe0: 7475 6465 5f6c 6973 743a 204c 6973 742c  tude_list: List,
+0000bbf0: 2070 6861 7365 5f64 6567 5f6c 6973 743a   phase_deg_list:
+0000bc00: 204c 6973 7420 3d20 4e6f 6e65 2c20 6578   List = None, ex
+0000bc10: 5f74 7970 653a 2073 7472 203d 2027 6375  _type: str = 'cu
+0000bc20: 7272 656e 7427 2c0a 2020 2020 2020 2020  rrent',.        
+0000bc30: 2020 2020 2020 2020 2020 2070 6c6f 745f             plot_
+0000bc40: 696e 7465 7270 6f6c 6174 696f 6e3a 2062  interpolation: b
+0000bc50: 6f6f 6c20 3d20 4661 6c73 6529 3a0a 2020  ool = False):.  
+0000bc60: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0000bc70: 2020 5275 6e20 7468 6520 656c 6563 7472    Run the electr
+0000bc80: 6f6d 6167 6e65 7469 6320 7369 6d75 6c61  omagnetic simula
+0000bc90: 7469 6f6e 2e0a 0a20 2020 2020 2020 202d  tion...        -
+0000bca0: 2065 7863 6974 6174 696f 6e20 6f66 2074   excitation of t
+0000bcb0: 6865 2065 6c65 6374 726f 6d61 676e 6574  he electromagnet
+0000bcc0: 6963 2070 726f 626c 656d 0a20 2020 2020  ic problem.     
+0000bcd0: 2020 202d 2063 7572 7265 6e74 2c20 766f     - current, vo
+0000bce0: 6c74 6167 6520 6f72 2063 7572 7265 6e74  ltage or current
+0000bcf0: 2064 656e 7369 7479 0a20 2020 2020 2020   density.       
+0000bd00: 202d 2066 7265 7175 656e 6379 206f 7220   - frequency or 
+0000bd10: 7265 6475 6365 6420 6672 6571 7565 6e63  reduced frequenc
+0000bd20: 790a 0a20 2020 2020 2020 203a 7061 7261  y..        :para
+0000bd30: 6d20 706c 6f74 5f69 6e74 6572 706f 6c61  m plot_interpola
+0000bd40: 7469 6f6e 3a0a 2020 2020 2020 2020 3a70  tion:.        :p
+0000bd50: 6172 616d 2066 7265 7175 656e 6379 3a20  aram frequency: 
+0000bd60: 4672 6571 7565 6e63 790a 2020 2020 2020  Frequency.      
+0000bd70: 2020 3a74 7970 6520 6672 6571 7565 6e63    :type frequenc
+0000bd80: 793a 2066 6c6f 6174 0a20 2020 2020 2020  y: float.       
+0000bd90: 203a 7061 7261 6d20 616d 706c 6974 7564   :param amplitud
+0000bda0: 655f 6c69 7374 3a20 4375 7272 656e 7420  e_list: Current 
+0000bdb0: 616d 706c 6974 7564 6573 2061 6363 6f72  amplitudes accor
+0000bdc0: 6469 6e67 2074 6f20 7769 6e64 696e 6773  ding to windings
+0000bdd0: 0a20 2020 2020 2020 203a 7479 7065 2061  .        :type a
+0000bde0: 6d70 6c69 7475 6465 5f6c 6973 743a 204c  mplitude_list: L
+0000bdf0: 6973 740a 2020 2020 2020 2020 3a70 6172  ist.        :par
+0000be00: 616d 2070 6861 7365 5f64 6567 5f6c 6973  am phase_deg_lis
+0000be10: 743a 2043 7572 7265 6e74 2070 6861 7365  t: Current phase
+0000be20: 7320 696e 2064 6567 7265 6520 6163 636f  s in degree acco
+0000be30: 7264 696e 6720 746f 2074 6865 2063 7572  rding to the cur
+0000be40: 7265 6e74 2061 6d70 6c69 7475 6465 7320  rent amplitudes 
+0000be50: 2861 6363 6f72 6469 6e67 2074 6f20 7769  (according to wi
+0000be60: 6e64 696e 6773 290a 2020 2020 2020 2020  ndings).        
+0000be70: 3a74 7970 6520 7068 6173 655f 6465 675f  :type phase_deg_
+0000be80: 6c69 7374 3a20 4c69 7374 0a20 2020 2020  list: List.     
+0000be90: 2020 203a 7061 7261 6d20 6578 5f74 7970     :param ex_typ
+0000bea0: 653a 2045 7863 6974 6174 696f 6e20 7479  e: Excitation ty
+0000beb0: 7065 2e20 2743 7572 7265 6e74 2720 696d  pe. 'Current' im
+0000bec0: 706c 656d 656e 7465 6420 6f6e 6c79 2e20  plemented only. 
+0000bed0: 4675 7475 7265 2075 7365 206d 6179 3a20  Future use may: 
+0000bee0: 2776 6f6c 7461 6765 2720 616e 6420 2763  'voltage' and 'c
+0000bef0: 7572 7265 6e74 5f64 656e 7369 7479 270a  urrent_density'.
+0000bf00: 2020 2020 2020 2020 3a74 7970 6520 6578          :type ex
+0000bf10: 5f74 7970 653a 2073 7472 0a20 2020 2020  _type: str.     
+0000bf20: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
+0000bf30: 206e 6567 6174 6976 6520 6375 7272 656e   negative curren
+0000bf40: 7473 2061 7265 206e 6f74 2061 6c6c 6f77  ts are not allow
+0000bf50: 6564 2061 6e64 206c 6561 6420 746f 2077  ed and lead to w
+0000bf60: 726f 6e67 2073 696d 756c 6174 696f 6e20  rong simulation 
+0000bf70: 7265 7375 6c74 732e 2043 6865 636b 2066  results. Check f
+0000bf80: 6f72 2074 6869 732e 0a20 2020 2020 2020  or this..       
+0000bf90: 2023 2074 6869 7320 6d65 7373 6167 6520   # this message 
+0000bfa0: 6170 7065 6172 7320 6166 7465 7220 6d65  appears after me
+0000bfb0: 7368 696e 6720 6275 7420 6265 666f 7265  shing but before
+0000bfc0: 2073 696d 756c 6174 696f 6e0a 2020 2020   simulation.    
+0000bfd0: 2020 2020 666f 7220 616d 706c 6974 7564      for amplitud
+0000bfe0: 6520 696e 2061 6d70 6c69 7475 6465 5f6c  e in amplitude_l
+0000bff0: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
+0000c000: 2069 6620 616d 706c 6974 7564 6520 3c20   if amplitude < 
+0000c010: 303a 0a20 2020 2020 2020 2020 2020 2020  0:.             
+0000c020: 2020 2072 6169 7365 2056 616c 7565 4572     raise ValueEr
+0000c030: 726f 7228 0a20 2020 2020 2020 2020 2020  ror(.           
+0000c040: 2020 2020 2020 2020 2022 4e65 6761 7469           "Negati
+0000c050: 7665 2063 7572 7265 6e74 7320 6172 6520  ve currents are 
+0000c060: 6e6f 7420 616c 6c6f 7765 642e 2055 7365  not allowed. Use
+0000c070: 2074 6865 2070 6861 7365 202b 2031 3830   the phase + 180
+0000c080: 2064 6567 7265 6520 746f 2067 656e 6572   degree to gener
+0000c090: 6174 6520 6120 6e65 6761 7469 7665 2063  ate a negative c
+0000c0a0: 7572 7265 6e74 2e22 290a 0a20 2020 2020  urrent.")..     
+0000c0b0: 2020 2073 656c 662e 6665 6d6d 745f 7072     self.femmt_pr
+0000c0c0: 696e 7428 6622 5c6e 2d2d 2d5c 6e22 0a20  int(f"\n---\n". 
+0000c0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c0e0: 2020 2020 2020 2020 6622 4578 6369 7461          f"Excita
+0000c0f0: 7469 6f6e 3a20 5c6e 220a 2020 2020 2020  tion: \n".      
+0000c100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c110: 2020 2066 2246 7265 7175 656e 6379 3a20     f"Frequency: 
+0000c120: 7b66 7265 7175 656e 6379 7d5c 6e22 0a20  {frequency}\n". 
+0000c130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c140: 2020 2020 2020 2020 6622 4375 7272 656e          f"Curren
+0000c150: 7428 7329 3a20 7b61 6d70 6c69 7475 6465  t(s): {amplitude
+0000c160: 5f6c 6973 747d 5c6e 220a 2020 2020 2020  _list}\n".      
+0000c170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c180: 2020 2066 2250 6861 7365 2873 293a 207b     f"Phase(s): {
+0000c190: 7068 6173 655f 6465 675f 6c69 7374 7d5c  phase_deg_list}\
+0000c1a0: 6e22 290a 0a20 2020 2020 2020 2023 202d  n")..        # -
+0000c1b0: 2d20 4578 6369 7461 7469 6f6e 202d 2d0a  - Excitation --.
+0000c1c0: 2020 2020 2020 2020 7365 6c66 2e66 6c61          self.fla
+0000c1d0: 675f 6578 6369 7461 7469 6f6e 5f74 7970  g_excitation_typ
+0000c1e0: 6520 3d20 6578 5f74 7970 6520 2023 2027  e = ex_type  # '
+0000c1f0: 6375 7272 656e 7427 2c20 2763 7572 7265  current', 'curre
+0000c200: 6e74 5f64 656e 7369 7479 272c 2027 766f  nt_density', 'vo
+0000c210: 6c74 6167 6527 0a20 2020 2020 2020 2069  ltage'.        i
+0000c220: 6620 7365 6c66 2e63 6f72 652e 7065 726d  f self.core.perm
+0000c230: 6561 6269 6c69 7479 5b22 6461 7461 736f  eability["dataso
+0000c240: 7572 6365 225d 2021 3d20 4d61 7465 7269  urce"] != Materi
+0000c250: 616c 4461 7461 536f 7572 6365 2e43 7573  alDataSource.Cus
+0000c260: 746f 6d3a 0a20 2020 2020 2020 2020 2020  tom:.           
+0000c270: 2073 656c 662e 636f 7265 2e75 7064 6174   self.core.updat
+0000c280: 655f 636f 7265 5f6d 6174 6572 6961 6c5f  e_core_material_
+0000c290: 7072 6f5f 6669 6c65 2866 7265 7175 656e  pro_file(frequen
+0000c2a0: 6379 2c20 7365 6c66 2e66 696c 655f 6461  cy, self.file_da
+0000c2b0: 7461 2e65 6c65 6374 726f 5f6d 6167 6e65  ta.electro_magne
+0000c2c0: 7469 635f 666f 6c64 6572 5f70 6174 682c  tic_folder_path,
+0000c2d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000c2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c310: 2020 2020 2020 2020 2020 706c 6f74 5f69            plot_i
-0000c320: 6e74 6572 706f 6c61 7469 6f6e 2920 2023  nterpolation)  #
-0000c330: 2066 7265 7175 656e 6379 2075 7064 6174   frequency updat
-0000c340: 6520 746f 2063 6f72 6520 636c 6173 730a  e to core class.
-0000c350: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0000c360: 636f 7265 2e70 6572 6d69 7474 6976 6974  core.permittivit
-0000c370: 795b 2264 6174 6173 6f75 7263 6522 5d20  y["datasource"] 
-0000c380: 213d 204d 6174 6572 6961 6c44 6174 6153  != MaterialDataS
-0000c390: 6f75 7263 652e 4375 7374 6f6d 3a0a 2020  ource.Custom:.  
-0000c3a0: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-0000c3b0: 6f72 652e 7570 6461 7465 5f73 6967 6d61  ore.update_sigma
-0000c3c0: 2866 7265 7175 656e 6379 290a 2020 2020  (frequency).    
-0000c3d0: 2020 2020 2320 4861 7320 7468 6520 7573      # Has the us
-0000c3e0: 6572 2070 726f 7669 6465 6420 6120 6c69  er provided a li
-0000c3f0: 7374 206f 6620 7068 6173 6520 616e 676c  st of phase angl
-0000c400: 6573 3f0a 2020 2020 2020 2020 7068 6173  es?.        phas
-0000c410: 655f 6465 675f 6c69 7374 203d 2070 6861  e_deg_list = pha
-0000c420: 7365 5f64 6567 5f6c 6973 7420 6f72 205b  se_deg_list or [
-0000c430: 5d0a 2020 2020 2020 2020 2320 7068 6173  ].        # phas
-0000c440: 655f 6465 675f 6c69 7374 203d 206e 702e  e_deg_list = np.
-0000c450: 6173 6172 7261 7928 7068 6173 655f 6465  asarray(phase_de
-0000c460: 675f 6c69 7374 290a 0a20 2020 2020 2020  g_list)..       
-0000c470: 2066 6f72 206e 756d 2069 6e20 7261 6e67   for num in rang
-0000c480: 6528 6c65 6e28 7365 6c66 2e77 696e 6469  e(len(self.windi
-0000c490: 6e67 7329 293a 0a0a 2020 2020 2020 2020  ngs)):..        
-0000c4a0: 2020 2020 2320 496d 706f 7365 6420 6375      # Imposed cu
-0000c4b0: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
-0000c4c0: 2020 6966 2073 656c 662e 666c 6167 5f65    if self.flag_e
-0000c4d0: 7863 6974 6174 696f 6e5f 7479 7065 203d  xcitation_type =
-0000c4e0: 3d20 2763 7572 7265 6e74 273a 0a20 2020  = 'current':.   
-0000c4f0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0000c500: 6c65 6e28 7068 6173 655f 6465 675f 6c69  len(phase_deg_li
-0000c510: 7374 2920 3d3d 2030 3a0a 2020 2020 2020  st) == 0:.      
-0000c520: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0000c530: 2073 656c 662e 636f 6d70 6f6e 656e 745f   self.component_
-0000c540: 7479 7065 203d 3d20 436f 6d70 6f6e 656e  type == Componen
-0000c550: 7454 7970 652e 496e 6475 6374 6f72 3a0a  tType.Inductor:.
-0000c560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c570: 2020 2020 2020 2020 2320 4465 6669 6e65          # Define
-0000c580: 2063 6f6d 706c 6578 2063 7572 7265 6e74   complex current
-0000c590: 2070 6861 736f 7220 6173 2072 6561 6c20   phasor as real 
-0000c5a0: 7661 6c75 650a 2020 2020 2020 2020 2020  value.          
-0000c5b0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000c5c0: 6c66 2e63 7572 7265 6e74 5b6e 756d 5d20  lf.current[num] 
-0000c5d0: 3d20 636f 6d70 6c65 7828 616d 706c 6974  = complex(amplit
-0000c5e0: 7564 655f 6c69 7374 5b6e 756d 5d2c 2030  ude_list[num], 0
-0000c5f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0000c600: 2020 2020 2020 2020 2020 7068 6173 655f            phase_
-0000c610: 6465 675f 6c69 7374 2e61 7070 656e 6428  deg_list.append(
-0000c620: 3029 2020 2320 7365 7420 746f 207a 6572  0)  # set to zer
-0000c630: 6f0a 0a20 2020 2020 2020 2020 2020 2020  o..             
-0000c640: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0000c650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c660: 2020 2020 2072 6169 7365 2056 616c 7565       raise Value
-0000c670: 4572 726f 7228 224d 6973 7369 6e67 2070  Error("Missing p
-0000c680: 6861 7365 7320 696e 7369 6465 2065 7863  hases inside exc
-0000c690: 6974 6174 696f 6e2c 2065 2e67 2e20 2770  itation, e.g. 'p
-0000c6a0: 6861 7365 5f64 6567 5f6c 6973 7420 3d20  hase_deg_list = 
-0000c6b0: 5b30 2c20 3138 305d 272e 2022 290a 2020  [0, 180]'. ").  
-0000c6c0: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000c6d0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000c6e0: 2020 2020 2020 2020 7365 6c66 2e70 6861          self.pha
-0000c6f0: 7365 5f64 6567 203d 2070 6861 7365 5f64  se_deg = phase_d
-0000c700: 6567 5f6c 6973 740a 2020 2020 2020 2020  eg_list.        
-0000c710: 2020 2020 2020 2020 2020 2020 2320 4465              # De
-0000c720: 6669 6e65 2063 6f6d 706c 6578 2063 7572  fine complex cur
-0000c730: 7265 6e74 2070 6861 736f 7220 6173 2065  rent phasor as e
-0000c740: 7863 6974 6174 696f 6e0a 2020 2020 2020  xcitation.      
-0000c750: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0000c760: 6c66 2e63 7572 7265 6e74 5b6e 756d 5d20  lf.current[num] 
-0000c770: 3d20 636f 6d70 6c65 7828 616d 706c 6974  = complex(amplit
-0000c780: 7564 655f 6c69 7374 5b6e 756d 5d20 2a20  ude_list[num] * 
-0000c790: 6e70 2e63 6f73 286e 702e 6465 6732 7261  np.cos(np.deg2ra
-0000c7a0: 6428 7068 6173 655f 6465 675f 6c69 7374  d(phase_deg_list
-0000c7b0: 5b6e 756d 5d29 292c 0a20 2020 2020 2020  [num])),.       
+0000c300: 2020 2020 2070 6c6f 745f 696e 7465 7270       plot_interp
+0000c310: 6f6c 6174 696f 6e29 2020 2320 6672 6571  olation)  # freq
+0000c320: 7565 6e63 7920 7570 6461 7465 2074 6f20  uency update to 
+0000c330: 636f 7265 2063 6c61 7373 0a20 2020 2020  core class.     
+0000c340: 2020 2069 6620 7365 6c66 2e63 6f72 652e     if self.core.
+0000c350: 7065 726d 6974 7469 7669 7479 5b22 6461  permittivity["da
+0000c360: 7461 736f 7572 6365 225d 2021 3d20 4d61  tasource"] != Ma
+0000c370: 7465 7269 616c 4461 7461 536f 7572 6365  terialDataSource
+0000c380: 2e43 7573 746f 6d3a 0a20 2020 2020 2020  .Custom:.       
+0000c390: 2020 2020 2073 656c 662e 636f 7265 2e75       self.core.u
+0000c3a0: 7064 6174 655f 7369 676d 6128 6672 6571  pdate_sigma(freq
+0000c3b0: 7565 6e63 7929 0a20 2020 2020 2020 2023  uency).        #
+0000c3c0: 2048 6173 2074 6865 2075 7365 7220 7072   Has the user pr
+0000c3d0: 6f76 6964 6564 2061 206c 6973 7420 6f66  ovided a list of
+0000c3e0: 2070 6861 7365 2061 6e67 6c65 733f 0a20   phase angles?. 
+0000c3f0: 2020 2020 2020 2070 6861 7365 5f64 6567         phase_deg
+0000c400: 5f6c 6973 7420 3d20 7068 6173 655f 6465  _list = phase_de
+0000c410: 675f 6c69 7374 206f 7220 5b5d 0a20 2020  g_list or [].   
+0000c420: 2020 2020 2023 2070 6861 7365 5f64 6567       # phase_deg
+0000c430: 5f6c 6973 7420 3d20 6e70 2e61 7361 7272  _list = np.asarr
+0000c440: 6179 2870 6861 7365 5f64 6567 5f6c 6973  ay(phase_deg_lis
+0000c450: 7429 0a0a 2020 2020 2020 2020 666f 7220  t)..        for 
+0000c460: 6e75 6d20 696e 2072 616e 6765 286c 656e  num in range(len
+0000c470: 2873 656c 662e 7769 6e64 696e 6773 2929  (self.windings))
+0000c480: 3a0a 0a20 2020 2020 2020 2020 2020 2023  :..            #
+0000c490: 2049 6d70 6f73 6564 2063 7572 7265 6e74   Imposed current
+0000c4a0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0000c4b0: 7365 6c66 2e66 6c61 675f 6578 6369 7461  self.flag_excita
+0000c4c0: 7469 6f6e 5f74 7970 6520 3d3d 2027 6375  tion_type == 'cu
+0000c4d0: 7272 656e 7427 3a0a 2020 2020 2020 2020  rrent':.        
+0000c4e0: 2020 2020 2020 2020 6966 206c 656e 2870          if len(p
+0000c4f0: 6861 7365 5f64 6567 5f6c 6973 7429 203d  hase_deg_list) =
+0000c500: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
+0000c510: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+0000c520: 2e63 6f6d 706f 6e65 6e74 5f74 7970 6520  .component_type 
+0000c530: 3d3d 2043 6f6d 706f 6e65 6e74 5479 7065  == ComponentType
+0000c540: 2e49 6e64 7563 746f 723a 0a20 2020 2020  .Inductor:.     
+0000c550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c560: 2020 2023 2044 6566 696e 6520 636f 6d70     # Define comp
+0000c570: 6c65 7820 6375 7272 656e 7420 7068 6173  lex current phas
+0000c580: 6f72 2061 7320 7265 616c 2076 616c 7565  or as real value
+0000c590: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c5a0: 2020 2020 2020 2020 2073 656c 662e 6375           self.cu
+0000c5b0: 7272 656e 745b 6e75 6d5d 203d 2063 6f6d  rrent[num] = com
+0000c5c0: 706c 6578 2861 6d70 6c69 7475 6465 5f6c  plex(amplitude_l
+0000c5d0: 6973 745b 6e75 6d5d 2c20 3029 0a20 2020  ist[num], 0).   
+0000c5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c5f0: 2020 2020 2070 6861 7365 5f64 6567 5f6c       phase_deg_l
+0000c600: 6973 742e 6170 7065 6e64 2830 2920 2023  ist.append(0)  #
+0000c610: 2073 6574 2074 6f20 7a65 726f 0a0a 2020   set to zero..  
+0000c620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c630: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000c640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c650: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+0000c660: 2822 4d69 7373 696e 6720 7068 6173 6573  ("Missing phases
+0000c670: 2069 6e73 6964 6520 6578 6369 7461 7469   inside excitati
+0000c680: 6f6e 2c20 652e 672e 2027 7068 6173 655f  on, e.g. 'phase_
+0000c690: 6465 675f 6c69 7374 203d 205b 302c 2031  deg_list = [0, 1
+0000c6a0: 3830 5d27 2e20 2229 0a20 2020 2020 2020  80]'. ").       
+0000c6b0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0000c6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c6d0: 2020 2073 656c 662e 7068 6173 655f 6465     self.phase_de
+0000c6e0: 6720 3d20 7068 6173 655f 6465 675f 6c69  g = phase_deg_li
+0000c6f0: 7374 0a20 2020 2020 2020 2020 2020 2020  st.             
+0000c700: 2020 2020 2020 2023 2044 6566 696e 6520         # Define 
+0000c710: 636f 6d70 6c65 7820 6375 7272 656e 7420  complex current 
+0000c720: 7068 6173 6f72 2061 7320 6578 6369 7461  phasor as excita
+0000c730: 7469 6f6e 0a20 2020 2020 2020 2020 2020  tion.           
+0000c740: 2020 2020 2020 2020 2073 656c 662e 6375           self.cu
+0000c750: 7272 656e 745b 6e75 6d5d 203d 2063 6f6d  rrent[num] = com
+0000c760: 706c 6578 2861 6d70 6c69 7475 6465 5f6c  plex(amplitude_l
+0000c770: 6973 745b 6e75 6d5d 202a 206e 702e 636f  ist[num] * np.co
+0000c780: 7328 6e70 2e64 6567 3272 6164 2870 6861  s(np.deg2rad(pha
+0000c790: 7365 5f64 6567 5f6c 6973 745b 6e75 6d5d  se_deg_list[num]
+0000c7a0: 2929 2c0a 2020 2020 2020 2020 2020 2020  )),.            
+0000c7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000c7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c7e0: 2020 2020 2020 2020 2061 6d70 6c69 7475           amplitu
-0000c7f0: 6465 5f6c 6973 745b 6e75 6d5d 202a 206e  de_list[num] * n
-0000c800: 702e 7369 6e28 6e70 2e64 6567 3272 6164  p.sin(np.deg2rad
-0000c810: 2870 6861 7365 5f64 6567 5f6c 6973 745b  (phase_deg_list[
-0000c820: 6e75 6d5d 2929 290a 0a20 2020 2020 2020  num])))..       
-0000c830: 2023 2049 6d70 6f73 6564 2063 7572 7265   # Imposed curre
-0000c840: 6e74 2064 656e 7369 7479 0a20 2020 2020  nt density.     
-0000c850: 2020 2069 6620 7365 6c66 2e66 6c61 675f     if self.flag_
-0000c860: 6578 6369 7461 7469 6f6e 5f74 7970 6520  excitation_type 
-0000c870: 3d3d 2027 6375 7272 656e 745f 6465 6e73  == 'current_dens
-0000c880: 6974 7927 3a0a 2020 2020 2020 2020 2020  ity':.          
-0000c890: 2020 7261 6973 6520 4e6f 7449 6d70 6c65    raise NotImple
-0000c8a0: 6d65 6e74 6564 4572 726f 720a 0a20 2020  mentedError..   
-0000c8b0: 2020 2020 2023 2049 6d70 6f73 6564 2076       # Imposed v
-0000c8c0: 6f6c 7461 6765 0a20 2020 2020 2020 2069  oltage.        i
-0000c8d0: 6620 7365 6c66 2e66 6c61 675f 6578 6369  f self.flag_exci
-0000c8e0: 7461 7469 6f6e 5f74 7970 6520 3d3d 2027  tation_type == '
-0000c8f0: 766f 6c74 6167 6527 3a0a 2020 2020 2020  voltage':.      
-0000c900: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
-0000c910: 6d70 6c65 6d65 6e74 6564 4572 726f 720a  mplementedError.
-0000c920: 0a20 2020 2020 2020 2023 202d 2d20 4672  .        # -- Fr
-0000c930: 6571 7565 6e63 7920 2d2d 0a0a 2020 2020  equency --..    
-0000c940: 2020 2020 7365 6c66 2e66 7265 7175 656e      self.frequen
-0000c950: 6379 203d 2066 7265 7175 656e 6379 2020  cy = frequency  
-0000c960: 2320 696e 2048 7a0a 0a20 2020 2020 2020  # in Hz..       
-0000c970: 2023 2044 6566 696e 6520 7265 6475 6365   # Define reduce
-0000c980: 6420 6672 6571 7565 6e63 7920 2875 7365  d frequency (use
-0000c990: 6420 666f 7220 686f 6d6f 6765 6e69 7a61  d for homogeniza
-0000c9a0: 7469 6f6e 2074 6563 686e 6971 7565 290a  tion technique).
-0000c9b0: 2020 2020 2020 2020 2320 7365 6c66 2e72          # self.r
-0000c9c0: 6564 5f66 7265 7120 3d20 6e70 2e65 6d70  ed_freq = np.emp
-0000c9d0: 7479 2832 290a 2020 2020 2020 2020 7365  ty(2).        se
-0000c9e0: 6c66 2e72 6564 5f66 7265 7120 3d20 5b5d  lf.red_freq = []
-0000c9f0: 0a20 2020 2020 2020 2066 6f72 205f 2069  .        for _ i
-0000ca00: 6e20 7261 6e67 6528 6c65 6e28 7365 6c66  n range(len(self
-0000ca10: 2e77 696e 6469 6e67 7329 293a 0a20 2020  .windings)):.   
-0000ca20: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-0000ca30: 645f 6672 6571 2e61 7070 656e 6428 5b5d  d_freq.append([]
-0000ca40: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
-0000ca50: 6c66 2e66 7265 7175 656e 6379 2021 3d20  lf.frequency != 
-0000ca60: 303a 0a20 2020 2020 2020 2020 2020 2073  0:.            s
-0000ca70: 656c 662e 6465 6c74 6120 3d20 6e70 2e73  elf.delta = np.s
-0000ca80: 7172 7428 3220 2f20 2832 202a 2073 656c  qrt(2 / (2 * sel
-0000ca90: 662e 6672 6571 7565 6e63 7920 2a20 6e70  f.frequency * np
-0000caa0: 2e70 6920 2a20 7365 6c66 2e77 696e 6469  .pi * self.windi
-0000cab0: 6e67 735b 0a20 2020 2020 2020 2020 2020  ngs[.           
-0000cac0: 2020 2020 2030 5d2e 636f 6e64 5f73 6967       0].cond_sig
-0000cad0: 6d61 202a 206d 755f 3029 2920 2023 2054  ma * mu_0))  # T
-0000cae0: 4f44 4f3a 2064 6973 7469 6e67 7569 7368  ODO: distinguish
-0000caf0: 2062 6574 7765 656e 206d 6174 6572 6961   between materia
-0000cb00: 6c20 636f 6e64 7563 7469 7669 7469 6573  l conductivities
-0000cb10: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
-0000cb20: 206e 756d 2069 6e20 7261 6e67 6528 6c65   num in range(le
-0000cb30: 6e28 7365 6c66 2e77 696e 6469 6e67 7329  n(self.windings)
-0000cb40: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-0000cb50: 2020 2069 6620 7365 6c66 2e77 696e 6469     if self.windi
-0000cb60: 6e67 735b 6e75 6d5d 2e63 6f6e 6475 6374  ngs[num].conduct
-0000cb70: 6f72 5f74 7970 6520 3d3d 2043 6f6e 6475  or_type == Condu
-0000cb80: 6374 6f72 5479 7065 2e52 6f75 6e64 4c69  ctorType.RoundLi
-0000cb90: 747a 3a0a 2020 2020 2020 2020 2020 2020  tz:.            
-0000cba0: 2020 2020 2020 2020 7365 6c66 2e72 6564          self.red
-0000cbb0: 5f66 7265 715b 6e75 6d5d 203d 2073 656c  _freq[num] = sel
-0000cbc0: 662e 7769 6e64 696e 6773 5b6e 756d 5d2e  f.windings[num].
-0000cbd0: 7374 7261 6e64 5f72 6164 6975 7320 2f20  strand_radius / 
-0000cbe0: 7365 6c66 2e64 656c 7461 0a20 2020 2020  self.delta.     
-0000cbf0: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-0000cc00: 7365 6c66 2e77 696e 6469 6e67 735b 6e75  self.windings[nu
-0000cc10: 6d5d 2e63 6f6e 6475 6374 6f72 5f74 7970  m].conductor_typ
-0000cc20: 6520 3d3d 2043 6f6e 6475 6374 6f72 5479  e == ConductorTy
-0000cc30: 7065 2e52 6f75 6e64 536f 6c69 643a 0a20  pe.RoundSolid:. 
-0000cc40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cc50: 2020 2073 656c 662e 7265 645f 6672 6571     self.red_freq
-0000cc60: 5b6e 756d 5d20 3d20 7365 6c66 2e77 696e  [num] = self.win
-0000cc70: 6469 6e67 735b 6e75 6d5d 2e63 6f6e 6475  dings[num].condu
-0000cc80: 6374 6f72 5f72 6164 6975 7320 2f20 7365  ctor_radius / se
-0000cc90: 6c66 2e64 656c 7461 0a20 2020 2020 2020  lf.delta.       
-0000cca0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0000ccb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ccc0: 2020 2073 656c 662e 6665 6d6d 745f 7072     self.femmt_pr
-0000ccd0: 696e 7428 2252 6564 7563 6564 2046 7265  int("Reduced Fre
-0000cce0: 7175 656e 6379 2064 6f65 7320 6e6f 7420  quency does not 
-0000ccf0: 6861 7665 2061 2070 6879 7369 6361 6c20  have a physical 
-0000cd00: 7661 6c75 6520 6865 7265 2229 0a20 2020  value here").   
-0000cd10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd20: 2073 656c 662e 6665 6d6d 745f 7072 696e   self.femmt_prin
-0000cd30: 7428 7365 6c66 2e77 696e 6469 6e67 735b  t(self.windings[
-0000cd40: 6e75 6d5d 2e63 6f6e 6475 6374 6f72 5f74  num].conductor_t
-0000cd50: 7970 6529 0a20 2020 2020 2020 2020 2020  ype).           
-0000cd60: 2020 2020 2020 2020 2073 656c 662e 7265           self.re
-0000cd70: 645f 6672 6571 5b0a 2020 2020 2020 2020  d_freq[.        
-0000cd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cd90: 6e75 6d5d 203d 2031 2020 2320 544f 444f  num] = 1  # TODO
-0000cda0: 3a20 646f 6573 6e27 7420 6d61 6b65 2073  : doesn't make s
-0000cdb0: 656e 7365 206c 696b 6520 7468 6973 202d  ense like this -
-0000cdc0: 3e20 7265 7772 6974 6520 666f 7265 2063  > rewrite fore c
-0000cdd0: 6f6e 6475 6374 6f72 2077 696e 6469 6e67  onductor winding
-0000cde0: 7320 7368 6170 650a 2020 2020 2020 2020  s shape.        
-0000cdf0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000ce00: 2020 2320 4443 2063 6173 650a 2020 2020    # DC case.    
-0000ce10: 2020 2020 2020 2020 7365 6c66 2e64 656c          self.del
-0000ce20: 7461 203d 2031 6532 3020 2023 2072 616e  ta = 1e20  # ran
-0000ce30: 646f 6d20 6875 6765 2076 616c 7565 0a20  dom huge value. 
-0000ce40: 2020 2020 2020 2020 2020 2066 6f72 206e             for n
-0000ce50: 756d 2069 6e20 7261 6e67 6528 6c65 6e28  um in range(len(
-0000ce60: 7365 6c66 2e77 696e 6469 6e67 7329 293a  self.windings)):
-0000ce70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ce80: 2073 656c 662e 7265 645f 6672 6571 5b6e   self.red_freq[n
-0000ce90: 756d 5d20 3d20 300a 0a20 2020 2064 6566  um] = 0..    def
-0000cea0: 2065 7863 6974 6174 696f 6e5f 7469 6d65   excitation_time
-0000ceb0: 5f64 6f6d 6169 6e28 7365 6c66 2c20 6375  _domain(self, cu
-0000cec0: 7272 656e 745f 6c69 7374 3a20 4c69 7374  rrent_list: List
-0000ced0: 5b4c 6973 745b 666c 6f61 745d 5d2c 2074  [List[float]], t
-0000cee0: 696d 655f 6c69 7374 3a20 4c69 7374 5b66  ime_list: List[f
-0000cef0: 6c6f 6174 5d2c 0a20 2020 2020 2020 2020  loat],.         
-0000cf00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf10: 2020 2020 2020 6e75 6d62 6572 5f6f 665f        number_of_
-0000cf20: 7065 7269 6f64 733a 2069 6e74 2c20 6578  periods: int, ex
-0000cf30: 5f74 7970 653a 2073 7472 203d 2027 6375  _type: str = 'cu
-0000cf40: 7272 656e 7427 2c0a 2020 2020 2020 2020  rrent',.        
-0000cf50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cf60: 2020 2020 2020 2070 6c6f 745f 696e 7465         plot_inte
-0000cf70: 7270 6f6c 6174 696f 6e3a 2062 6f6f 6c20  rpolation: bool 
-0000cf80: 3d20 4661 6c73 652c 2069 6d70 6f73 6564  = False, imposed
-0000cf90: 5f72 6564 5f66 3d30 293a 0a20 2020 2020  _red_f=0):.     
-0000cfa0: 2020 2022 2222 0a20 2020 2020 2020 2045     """.        E
-0000cfb0: 7863 6974 6573 2074 6865 2065 6c65 6374  xcites the elect
-0000cfc0: 726f 6d61 676e 6574 6963 2070 726f 626c  romagnetic probl
-0000cfd0: 656d 2069 6e20 7468 6520 7469 6d65 2064  em in the time d
-0000cfe0: 6f6d 6169 6e20 7769 7468 2073 7065 6369  omain with speci
-0000cff0: 6669 6564 2063 7572 7265 6e74 2061 6e64  fied current and
-0000d000: 2074 696d 6520 7365 7474 696e 6773 2e0a   time settings..
-0000d010: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000d020: 6672 6571 7565 6e63 793a 2054 6865 2066  frequency: The f
-0000d030: 7265 7175 656e 6379 206f 6620 7468 6520  requency of the 
-0000d040: 6578 6369 7461 7469 6f6e 2069 6e20 487a  excitation in Hz
-0000d050: 2e0a 2020 2020 2020 2020 3a74 7970 6520  ..        :type 
-0000d060: 6672 6571 7565 6e63 793a 2066 6c6f 6174  frequency: float
-0000d070: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0000d080: 6375 7272 656e 745f 6c69 7374 3a20 4120  current_list: A 
-0000d090: 6e65 7374 6564 206c 6973 7420 636f 6e74  nested list cont
-0000d0a0: 6169 6e69 6e67 2063 7572 7265 6e74 2076  aining current v
-0000d0b0: 616c 7565 7320 666f 7220 6561 6368 2074  alues for each t
-0000d0c0: 696d 6520 7374 6570 2061 6e64 2077 696e  ime step and win
-0000d0d0: 6469 6e67 2e0a 2020 2020 2020 2020 3a74  ding..        :t
-0000d0e0: 7970 6520 6375 7272 656e 745f 6c69 7374  ype current_list
-0000d0f0: 3a20 4c69 7374 5b4c 6973 745b 666c 6f61  : List[List[floa
-0000d100: 745d 5d0a 2020 2020 2020 2020 3a70 6172  t]].        :par
-0000d110: 616d 2074 696d 655f 6c69 7374 3a20 4120  am time_list: A 
-0000d120: 6e65 7374 6564 206c 6973 7420 636f 6e74  nested list cont
-0000d130: 6169 6e69 6e67 2074 6865 2063 6f72 7265  aining the corre
-0000d140: 7370 6f6e 6469 6e67 2074 696d 6520 7661  sponding time va
-0000d150: 6c75 6573 2066 6f72 2065 6163 6820 6375  lues for each cu
-0000d160: 7272 656e 7420 7661 6c75 652e 0a20 2020  rrent value..   
-0000d170: 2020 2020 203a 7479 7065 2074 696d 655f       :type time_
-0000d180: 6c69 7374 3a20 4c69 7374 5b66 6c6f 6174  list: List[float
-0000d190: 5d0a 2020 2020 2020 2020 3a70 6172 616d  ].        :param
-0000d1a0: 206e 756d 6265 725f 6f66 5f70 6572 696f   number_of_perio
-0000d1b0: 6473 3a20 5468 6520 746f 7461 6c20 6e75  ds: The total nu
-0000d1c0: 6d62 6572 206f 6620 7065 7269 6f64 7320  mber of periods 
-0000d1d0: 7769 7468 696e 2074 6865 2070 726f 7669  within the provi
-0000d1e0: 6465 6420 7469 6d65 2070 6572 696f 6420  ded time period 
-0000d1f0: 6f66 2073 696d 756c 6174 696f 6e2e 0a20  of simulation.. 
-0000d200: 2020 2020 2020 203a 7479 7065 206e 756d         :type num
-0000d210: 6265 725f 6f66 5f70 6572 696f 6473 3a20  ber_of_periods: 
-0000d220: 696e 740a 2020 2020 2020 2020 3a70 6172  int.        :par
-0000d230: 616d 2070 6861 7365 5f64 6567 5f6c 6973  am phase_deg_lis
-0000d240: 743a 2043 7572 7265 6e74 2070 6861 7365  t: Current phase
-0000d250: 7320 696e 2064 6567 7265 6573 2061 6363  s in degrees acc
-0000d260: 6f72 6469 6e67 2074 6f20 7468 6520 6375  ording to the cu
-0000d270: 7272 656e 7420 616d 706c 6974 7564 6573  rrent amplitudes
-0000d280: 2028 6163 636f 7264 696e 6720 746f 2077   (according to w
-0000d290: 696e 6469 6e67 7329 2e0a 2020 2020 2020  indings)..      
-0000d2a0: 2020 3a74 7970 6520 7068 6173 655f 6465    :type phase_de
-0000d2b0: 675f 6c69 7374 3a20 4c69 7374 0a20 2020  g_list: List.   
-0000d2c0: 2020 2020 203a 7061 7261 6d20 6578 5f74       :param ex_t
-0000d2d0: 7970 653a 2045 7863 6974 6174 696f 6e20  ype: Excitation 
-0000d2e0: 7479 7065 2e20 2763 7572 7265 6e74 2720  type. 'current' 
-0000d2f0: 696d 706c 656d 656e 7465 6420 6f6e 6c79  implemented only
-0000d300: 2e20 4675 7475 7265 2075 7365 206d 6179  . Future use may
-0000d310: 2069 6e63 6c75 6465 2027 766f 6c74 6167   include 'voltag
-0000d320: 6527 2061 6e64 2027 6375 7272 656e 745f  e' and 'current_
-0000d330: 6465 6e73 6974 7927 2e0a 2020 2020 2020  density'..      
-0000d340: 2020 3a74 7970 6520 6578 5f74 7970 653a    :type ex_type:
-0000d350: 2073 7472 0a20 2020 2020 2020 203a 7061   str.        :pa
-0000d360: 7261 6d20 706c 6f74 5f69 6e74 6572 706f  ram plot_interpo
-0000d370: 6c61 7469 6f6e 3a20 4966 2054 7275 652c  lation: If True,
-0000d380: 2070 6c6f 7420 7468 6520 696e 7465 7270   plot the interp
-0000d390: 6f6c 6174 696f 6e20 6265 7477 6565 6e20  olation between 
-0000d3a0: 7468 6520 7072 6f76 6964 6564 2063 7572  the provided cur
-0000d3b0: 7265 6e74 2076 616c 7565 732e 0a20 2020  rent values..   
-0000d3c0: 2020 2020 203a 7479 7065 2070 6c6f 745f       :type plot_
-0000d3d0: 696e 7465 7270 6f6c 6174 696f 6e3a 2062  interpolation: b
-0000d3e0: 6f6f 6c0a 2020 2020 2020 2020 3a70 6172  ool.        :par
-0000d3f0: 616d 2069 6d70 6f73 6564 5f72 6564 5f66  am imposed_red_f
-0000d400: 3a20 416e 206f 7074 696f 6e61 6c20 7061  : An optional pa
-0000d410: 7261 6d65 7465 7220 666f 7220 6675 7475  rameter for futu
-0000d420: 7265 2075 7365 2e0a 2020 2020 2020 2020  re use..        
-0000d430: 3a74 7970 6520 696d 706f 7365 645f 7265  :type imposed_re
-0000d440: 645f 663a 2066 6c6f 6174 0a20 2020 2020  d_f: float.     
-0000d450: 2020 2022 2222 0a20 2020 2020 2020 2069     """.        i
-0000d460: 6620 616e 7928 6c65 6e28 7375 626c 6973  f any(len(sublis
-0000d470: 7429 2021 3d20 6c65 6e28 7469 6d65 5f6c  t) != len(time_l
-0000d480: 6973 7429 2066 6f72 2073 7562 6c69 7374  ist) for sublist
-0000d490: 2069 6e20 6375 7272 656e 745f 6c69 7374   in current_list
-0000d4a0: 293a 0a20 2020 2020 2020 2020 2020 2072  ):.            r
-0000d4b0: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-0000d4c0: 2254 6865 206c 656e 6774 6820 6f66 2061  "The length of a
-0000d4d0: 7420 6c65 6173 7420 6f6e 6520 7375 626c  t least one subl
-0000d4e0: 6973 7420 696e 2063 7572 7265 6e74 5f6c  ist in current_l
-0000d4f0: 6973 7420 646f 6573 206e 6f74 206d 6174  ist does not mat
-0000d500: 6368 2074 6865 206c 656e 6774 6820 6f66  ch the length of
-0000d510: 2074 696d 655f 6c69 7374 2e22 290a 0a20   time_list.").. 
-0000d520: 2020 2020 2020 2073 656c 662e 6665 6d6d         self.femm
-0000d530: 745f 7072 696e 7428 6622 5c6e 2d2d 2d5c  t_print(f"\n---\
-0000d540: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
-0000d550: 2020 2020 2020 2020 2020 2020 6622 4578              f"Ex
-0000d560: 6369 7461 7469 6f6e 3a20 5c6e 220a 2020  citation: \n".  
-0000d570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d580: 2020 2020 2020 2066 224d 6178 696d 756d         f"Maximum
-0000d590: 2054 696d 6528 7365 6329 3a20 7b6e 756d   Time(sec): {num
-0000d5a0: 6265 725f 6f66 5f70 6572 696f 6473 7d5c  ber_of_periods}\
-0000d5b0: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
-0000d5c0: 2020 2020 2020 2020 2020 2020 6622 4375              f"Cu
-0000d5d0: 7272 656e 7428 7329 3a20 7b63 7572 7265  rrent(s): {curre
-0000d5e0: 6e74 5f6c 6973 747d 5c6e 220a 2020 2020  nt_list}\n".    
-0000d5f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d600: 2020 2020 2066 2254 696d 6528 7329 3a20       f"Time(s): 
-0000d610: 7b74 696d 655f 6c69 7374 7d5c 6e22 290a  {time_list}\n").
-0000d620: 2020 2020 2020 2020 7365 6c66 2e66 7265          self.fre
-0000d630: 7175 656e 6379 203d 2031 2f74 696d 655f  quency = 1/time_
-0000d640: 6c69 7374 5b2d 315d 0a20 2020 2020 2020  list[-1].       
-0000d650: 2023 202d 2d20 4578 6369 7461 7469 6f6e   # -- Excitation
-0000d660: 202d 2d0a 2020 2020 2020 2020 7365 6c66   --.        self
-0000d670: 2e66 6c61 675f 6578 6369 7461 7469 6f6e  .flag_excitation
-0000d680: 5f74 7970 6520 3d20 6578 5f74 7970 6520  _type = ex_type 
-0000d690: 2023 2027 6375 7272 656e 7427 2c20 2763   # 'current', 'c
-0000d6a0: 7572 7265 6e74 5f64 656e 7369 7479 272c  urrent_density',
-0000d6b0: 2027 766f 6c74 6167 6527 0a20 2020 2020   'voltage'.     
-0000d6c0: 2020 2069 6620 7365 6c66 2e63 6f72 652e     if self.core.
-0000d6d0: 7065 726d 6561 6269 6c69 7479 5b22 6461  permeability["da
-0000d6e0: 7461 736f 7572 6365 225d 2021 3d20 4d61  tasource"] != Ma
-0000d6f0: 7465 7269 616c 4461 7461 536f 7572 6365  terialDataSource
-0000d700: 2e43 7573 746f 6d3a 0a20 2020 2020 2020  .Custom:.       
-0000d710: 2020 2020 2073 656c 662e 636f 7265 2e75       self.core.u
-0000d720: 7064 6174 655f 636f 7265 5f6d 6174 6572  pdate_core_mater
-0000d730: 6961 6c5f 7072 6f5f 6669 6c65 2873 656c  ial_pro_file(sel
-0000d740: 662e 6672 6571 7565 6e63 792c 0a20 2020  f.frequency,.   
+0000c7d0: 2020 2020 616d 706c 6974 7564 655f 6c69      amplitude_li
+0000c7e0: 7374 5b6e 756d 5d20 2a20 6e70 2e73 696e  st[num] * np.sin
+0000c7f0: 286e 702e 6465 6732 7261 6428 7068 6173  (np.deg2rad(phas
+0000c800: 655f 6465 675f 6c69 7374 5b6e 756d 5d29  e_deg_list[num])
+0000c810: 2929 0a0a 2020 2020 2020 2020 2320 496d  ))..        # Im
+0000c820: 706f 7365 6420 6375 7272 656e 7420 6465  posed current de
+0000c830: 6e73 6974 790a 2020 2020 2020 2020 6966  nsity.        if
+0000c840: 2073 656c 662e 666c 6167 5f65 7863 6974   self.flag_excit
+0000c850: 6174 696f 6e5f 7479 7065 203d 3d20 2763  ation_type == 'c
+0000c860: 7572 7265 6e74 5f64 656e 7369 7479 273a  urrent_density':
+0000c870: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0000c880: 7365 204e 6f74 496d 706c 656d 656e 7465  se NotImplemente
+0000c890: 6445 7272 6f72 0a0a 2020 2020 2020 2020  dError..        
+0000c8a0: 2320 496d 706f 7365 6420 766f 6c74 6167  # Imposed voltag
+0000c8b0: 650a 2020 2020 2020 2020 6966 2073 656c  e.        if sel
+0000c8c0: 662e 666c 6167 5f65 7863 6974 6174 696f  f.flag_excitatio
+0000c8d0: 6e5f 7479 7065 203d 3d20 2776 6f6c 7461  n_type == 'volta
+0000c8e0: 6765 273a 0a20 2020 2020 2020 2020 2020  ge':.           
+0000c8f0: 2072 6169 7365 204e 6f74 496d 706c 656d   raise NotImplem
+0000c900: 656e 7465 6445 7272 6f72 0a0a 2020 2020  entedError..    
+0000c910: 2020 2020 2320 2d2d 2046 7265 7175 656e      # -- Frequen
+0000c920: 6379 202d 2d0a 0a20 2020 2020 2020 2073  cy --..        s
+0000c930: 656c 662e 6672 6571 7565 6e63 7920 3d20  elf.frequency = 
+0000c940: 6672 6571 7565 6e63 7920 2023 2069 6e20  frequency  # in 
+0000c950: 487a 0a0a 2020 2020 2020 2020 2320 4465  Hz..        # De
+0000c960: 6669 6e65 2072 6564 7563 6564 2066 7265  fine reduced fre
+0000c970: 7175 656e 6379 2028 7573 6564 2066 6f72  quency (used for
+0000c980: 2068 6f6d 6f67 656e 697a 6174 696f 6e20   homogenization 
+0000c990: 7465 6368 6e69 7175 6529 0a20 2020 2020  technique).     
+0000c9a0: 2020 2023 2073 656c 662e 7265 645f 6672     # self.red_fr
+0000c9b0: 6571 203d 206e 702e 656d 7074 7928 3229  eq = np.empty(2)
+0000c9c0: 0a20 2020 2020 2020 2073 656c 662e 7265  .        self.re
+0000c9d0: 645f 6672 6571 203d 205b 5d0a 2020 2020  d_freq = [].    
+0000c9e0: 2020 2020 666f 7220 5f20 696e 2072 616e      for _ in ran
+0000c9f0: 6765 286c 656e 2873 656c 662e 7769 6e64  ge(len(self.wind
+0000ca00: 696e 6773 2929 3a0a 2020 2020 2020 2020  ings)):.        
+0000ca10: 2020 2020 7365 6c66 2e72 6564 5f66 7265      self.red_fre
+0000ca20: 712e 6170 7065 6e64 285b 5d29 0a0a 2020  q.append([])..  
+0000ca30: 2020 2020 2020 6966 2073 656c 662e 6672        if self.fr
+0000ca40: 6571 7565 6e63 7920 213d 2030 3a0a 2020  equency != 0:.  
+0000ca50: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
+0000ca60: 656c 7461 203d 206e 702e 7371 7274 2832  elta = np.sqrt(2
+0000ca70: 202f 2028 3220 2a20 7365 6c66 2e66 7265   / (2 * self.fre
+0000ca80: 7175 656e 6379 202a 206e 702e 7069 202a  quency * np.pi *
+0000ca90: 2073 656c 662e 7769 6e64 696e 6773 5b0a   self.windings[.
+0000caa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cab0: 305d 2e63 6f6e 645f 7369 676d 6120 2a20  0].cond_sigma * 
+0000cac0: 6d75 5f30 2929 2020 2320 544f 444f 3a20  mu_0))  # TODO: 
+0000cad0: 6469 7374 696e 6775 6973 6820 6265 7477  distinguish betw
+0000cae0: 6565 6e20 6d61 7465 7269 616c 2063 6f6e  een material con
+0000caf0: 6475 6374 6976 6974 6965 730a 2020 2020  ductivities.    
+0000cb00: 2020 2020 2020 2020 666f 7220 6e75 6d20          for num 
+0000cb10: 696e 2072 616e 6765 286c 656e 2873 656c  in range(len(sel
+0000cb20: 662e 7769 6e64 696e 6773 2929 3a0a 2020  f.windings)):.  
+0000cb30: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0000cb40: 2073 656c 662e 7769 6e64 696e 6773 5b6e   self.windings[n
+0000cb50: 756d 5d2e 636f 6e64 7563 746f 725f 7479  um].conductor_ty
+0000cb60: 7065 203d 3d20 436f 6e64 7563 746f 7254  pe == ConductorT
+0000cb70: 7970 652e 526f 756e 644c 6974 7a3a 0a20  ype.RoundLitz:. 
+0000cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cb90: 2020 2073 656c 662e 7265 645f 6672 6571     self.red_freq
+0000cba0: 5b6e 756d 5d20 3d20 7365 6c66 2e77 696e  [num] = self.win
+0000cbb0: 6469 6e67 735b 6e75 6d5d 2e73 7472 616e  dings[num].stran
+0000cbc0: 645f 7261 6469 7573 202f 2073 656c 662e  d_radius / self.
+0000cbd0: 6465 6c74 610a 2020 2020 2020 2020 2020  delta.          
+0000cbe0: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
+0000cbf0: 7769 6e64 696e 6773 5b6e 756d 5d2e 636f  windings[num].co
+0000cc00: 6e64 7563 746f 725f 7479 7065 203d 3d20  nductor_type == 
+0000cc10: 436f 6e64 7563 746f 7254 7970 652e 526f  ConductorType.Ro
+0000cc20: 756e 6453 6f6c 6964 3a0a 2020 2020 2020  undSolid:.      
+0000cc30: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000cc40: 6c66 2e72 6564 5f66 7265 715b 6e75 6d5d  lf.red_freq[num]
+0000cc50: 203d 2073 656c 662e 7769 6e64 696e 6773   = self.windings
+0000cc60: 5b6e 756d 5d2e 636f 6e64 7563 746f 725f  [num].conductor_
+0000cc70: 7261 6469 7573 202f 2073 656c 662e 6465  radius / self.de
+0000cc80: 6c74 610a 2020 2020 2020 2020 2020 2020  lta.            
+0000cc90: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000cca0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000ccb0: 6c66 2e66 656d 6d74 5f70 7269 6e74 2822  lf.femmt_print("
+0000ccc0: 5265 6475 6365 6420 4672 6571 7565 6e63  Reduced Frequenc
+0000ccd0: 7920 646f 6573 206e 6f74 2068 6176 6520  y does not have 
+0000cce0: 6120 7068 7973 6963 616c 2076 616c 7565  a physical value
+0000ccf0: 2068 6572 6522 290a 2020 2020 2020 2020   here").        
+0000cd00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000cd10: 2e66 656d 6d74 5f70 7269 6e74 2873 656c  .femmt_print(sel
+0000cd20: 662e 7769 6e64 696e 6773 5b6e 756d 5d2e  f.windings[num].
+0000cd30: 636f 6e64 7563 746f 725f 7479 7065 290a  conductor_type).
+0000cd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cd50: 2020 2020 7365 6c66 2e72 6564 5f66 7265      self.red_fre
+0000cd60: 715b 0a20 2020 2020 2020 2020 2020 2020  q[.             
+0000cd70: 2020 2020 2020 2020 2020 206e 756d 5d20             num] 
+0000cd80: 3d20 3120 2023 2054 4f44 4f3a 2064 6f65  = 1  # TODO: doe
+0000cd90: 736e 2774 206d 616b 6520 7365 6e73 6520  sn't make sense 
+0000cda0: 6c69 6b65 2074 6869 7320 2d3e 2072 6577  like this -> rew
+0000cdb0: 7269 7465 2066 6f72 6520 636f 6e64 7563  rite fore conduc
+0000cdc0: 746f 7220 7769 6e64 696e 6773 2073 6861  tor windings sha
+0000cdd0: 7065 0a20 2020 2020 2020 2065 6c73 653a  pe.        else:
+0000cde0: 0a20 2020 2020 2020 2020 2020 2023 2044  .            # D
+0000cdf0: 4320 6361 7365 0a20 2020 2020 2020 2020  C case.         
+0000ce00: 2020 2073 656c 662e 6465 6c74 6120 3d20     self.delta = 
+0000ce10: 3165 3230 2020 2320 7261 6e64 6f6d 2068  1e20  # random h
+0000ce20: 7567 6520 7661 6c75 650a 2020 2020 2020  uge value.      
+0000ce30: 2020 2020 2020 666f 7220 6e75 6d20 696e        for num in
+0000ce40: 2072 616e 6765 286c 656e 2873 656c 662e   range(len(self.
+0000ce50: 7769 6e64 696e 6773 2929 3a0a 2020 2020  windings)):.    
+0000ce60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000ce70: 2e72 6564 5f66 7265 715b 6e75 6d5d 203d  .red_freq[num] =
+0000ce80: 2030 0a0a 2020 2020 6465 6620 6578 6369   0..    def exci
+0000ce90: 7461 7469 6f6e 5f74 696d 655f 646f 6d61  tation_time_doma
+0000cea0: 696e 2873 656c 662c 2063 7572 7265 6e74  in(self, current
+0000ceb0: 5f6c 6973 743a 204c 6973 745b 4c69 7374  _list: List[List
+0000cec0: 5b66 6c6f 6174 5d5d 2c20 7469 6d65 5f6c  [float]], time_l
+0000ced0: 6973 743a 204c 6973 745b 666c 6f61 745d  ist: List[float]
+0000cee0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000cef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cf00: 206e 756d 6265 725f 6f66 5f70 6572 696f   number_of_perio
+0000cf10: 6473 3a20 696e 742c 2065 785f 7479 7065  ds: int, ex_type
+0000cf20: 3a20 7374 7220 3d20 2763 7572 7265 6e74  : str = 'current
+0000cf30: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+0000cf40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cf50: 2020 706c 6f74 5f69 6e74 6572 706f 6c61    plot_interpola
+0000cf60: 7469 6f6e 3a20 626f 6f6c 203d 2046 616c  tion: bool = Fal
+0000cf70: 7365 2c20 696d 706f 7365 645f 7265 645f  se, imposed_red_
+0000cf80: 663d 3029 3a0a 2020 2020 2020 2020 2222  f=0):.        ""
+0000cf90: 220a 2020 2020 2020 2020 4578 6369 7465  ".        Excite
+0000cfa0: 7320 7468 6520 656c 6563 7472 6f6d 6167  s the electromag
+0000cfb0: 6e65 7469 6320 7072 6f62 6c65 6d20 696e  netic problem in
+0000cfc0: 2074 6865 2074 696d 6520 646f 6d61 696e   the time domain
+0000cfd0: 2077 6974 6820 7370 6563 6966 6965 6420   with specified 
+0000cfe0: 6375 7272 656e 7420 616e 6420 7469 6d65  current and time
+0000cff0: 2073 6574 7469 6e67 732e 0a0a 2020 2020   settings...    
+0000d000: 2020 2020 3a70 6172 616d 2066 7265 7175      :param frequ
+0000d010: 656e 6379 3a20 5468 6520 6672 6571 7565  ency: The freque
+0000d020: 6e63 7920 6f66 2074 6865 2065 7863 6974  ncy of the excit
+0000d030: 6174 696f 6e20 696e 2048 7a2e 0a20 2020  ation in Hz..   
+0000d040: 2020 2020 203a 7479 7065 2066 7265 7175       :type frequ
+0000d050: 656e 6379 3a20 666c 6f61 740a 2020 2020  ency: float.    
+0000d060: 2020 2020 3a70 6172 616d 2063 7572 7265      :param curre
+0000d070: 6e74 5f6c 6973 743a 2041 206e 6573 7465  nt_list: A neste
+0000d080: 6420 6c69 7374 2063 6f6e 7461 696e 696e  d list containin
+0000d090: 6720 6375 7272 656e 7420 7661 6c75 6573  g current values
+0000d0a0: 2066 6f72 2065 6163 6820 7469 6d65 2073   for each time s
+0000d0b0: 7465 7020 616e 6420 7769 6e64 696e 672e  tep and winding.
+0000d0c0: 0a20 2020 2020 2020 203a 7479 7065 2063  .        :type c
+0000d0d0: 7572 7265 6e74 5f6c 6973 743a 204c 6973  urrent_list: Lis
+0000d0e0: 745b 4c69 7374 5b66 6c6f 6174 5d5d 0a20  t[List[float]]. 
+0000d0f0: 2020 2020 2020 203a 7061 7261 6d20 7469         :param ti
+0000d100: 6d65 5f6c 6973 743a 2041 206e 6573 7465  me_list: A neste
+0000d110: 6420 6c69 7374 2063 6f6e 7461 696e 696e  d list containin
+0000d120: 6720 7468 6520 636f 7272 6573 706f 6e64  g the correspond
+0000d130: 696e 6720 7469 6d65 2076 616c 7565 7320  ing time values 
+0000d140: 666f 7220 6561 6368 2063 7572 7265 6e74  for each current
+0000d150: 2076 616c 7565 2e0a 2020 2020 2020 2020   value..        
+0000d160: 3a74 7970 6520 7469 6d65 5f6c 6973 743a  :type time_list:
+0000d170: 204c 6973 745b 666c 6f61 745d 0a20 2020   List[float].   
+0000d180: 2020 2020 203a 7061 7261 6d20 6e75 6d62       :param numb
+0000d190: 6572 5f6f 665f 7065 7269 6f64 733a 2054  er_of_periods: T
+0000d1a0: 6865 2074 6f74 616c 206e 756d 6265 7220  he total number 
+0000d1b0: 6f66 2070 6572 696f 6473 2077 6974 6869  of periods withi
+0000d1c0: 6e20 7468 6520 7072 6f76 6964 6564 2074  n the provided t
+0000d1d0: 696d 6520 7065 7269 6f64 206f 6620 7369  ime period of si
+0000d1e0: 6d75 6c61 7469 6f6e 2e0a 2020 2020 2020  mulation..      
+0000d1f0: 2020 3a74 7970 6520 6e75 6d62 6572 5f6f    :type number_o
+0000d200: 665f 7065 7269 6f64 733a 2069 6e74 0a20  f_periods: int. 
+0000d210: 2020 2020 2020 203a 7061 7261 6d20 7068         :param ph
+0000d220: 6173 655f 6465 675f 6c69 7374 3a20 4375  ase_deg_list: Cu
+0000d230: 7272 656e 7420 7068 6173 6573 2069 6e20  rrent phases in 
+0000d240: 6465 6772 6565 7320 6163 636f 7264 696e  degrees accordin
+0000d250: 6720 746f 2074 6865 2063 7572 7265 6e74  g to the current
+0000d260: 2061 6d70 6c69 7475 6465 7320 2861 6363   amplitudes (acc
+0000d270: 6f72 6469 6e67 2074 6f20 7769 6e64 696e  ording to windin
+0000d280: 6773 292e 0a20 2020 2020 2020 203a 7479  gs)..        :ty
+0000d290: 7065 2070 6861 7365 5f64 6567 5f6c 6973  pe phase_deg_lis
+0000d2a0: 743a 204c 6973 740a 2020 2020 2020 2020  t: List.        
+0000d2b0: 3a70 6172 616d 2065 785f 7479 7065 3a20  :param ex_type: 
+0000d2c0: 4578 6369 7461 7469 6f6e 2074 7970 652e  Excitation type.
+0000d2d0: 2027 6375 7272 656e 7427 2069 6d70 6c65   'current' imple
+0000d2e0: 6d65 6e74 6564 206f 6e6c 792e 2046 7574  mented only. Fut
+0000d2f0: 7572 6520 7573 6520 6d61 7920 696e 636c  ure use may incl
+0000d300: 7564 6520 2776 6f6c 7461 6765 2720 616e  ude 'voltage' an
+0000d310: 6420 2763 7572 7265 6e74 5f64 656e 7369  d 'current_densi
+0000d320: 7479 272e 0a20 2020 2020 2020 203a 7479  ty'..        :ty
+0000d330: 7065 2065 785f 7479 7065 3a20 7374 720a  pe ex_type: str.
+0000d340: 2020 2020 2020 2020 3a70 6172 616d 2070          :param p
+0000d350: 6c6f 745f 696e 7465 7270 6f6c 6174 696f  lot_interpolatio
+0000d360: 6e3a 2049 6620 5472 7565 2c20 706c 6f74  n: If True, plot
+0000d370: 2074 6865 2069 6e74 6572 706f 6c61 7469   the interpolati
+0000d380: 6f6e 2062 6574 7765 656e 2074 6865 2070  on between the p
+0000d390: 726f 7669 6465 6420 6375 7272 656e 7420  rovided current 
+0000d3a0: 7661 6c75 6573 2e0a 2020 2020 2020 2020  values..        
+0000d3b0: 3a74 7970 6520 706c 6f74 5f69 6e74 6572  :type plot_inter
+0000d3c0: 706f 6c61 7469 6f6e 3a20 626f 6f6c 0a20  polation: bool. 
+0000d3d0: 2020 2020 2020 203a 7061 7261 6d20 696d         :param im
+0000d3e0: 706f 7365 645f 7265 645f 663a 2041 6e20  posed_red_f: An 
+0000d3f0: 6f70 7469 6f6e 616c 2070 6172 616d 6574  optional paramet
+0000d400: 6572 2066 6f72 2066 7574 7572 6520 7573  er for future us
+0000d410: 652e 0a20 2020 2020 2020 203a 7479 7065  e..        :type
+0000d420: 2069 6d70 6f73 6564 5f72 6564 5f66 3a20   imposed_red_f: 
+0000d430: 666c 6f61 740a 2020 2020 2020 2020 2222  float.        ""
+0000d440: 220a 2020 2020 2020 2020 6966 2061 6e79  ".        if any
+0000d450: 286c 656e 2873 7562 6c69 7374 2920 213d  (len(sublist) !=
+0000d460: 206c 656e 2874 696d 655f 6c69 7374 2920   len(time_list) 
+0000d470: 666f 7220 7375 626c 6973 7420 696e 2063  for sublist in c
+0000d480: 7572 7265 6e74 5f6c 6973 7429 3a0a 2020  urrent_list):.  
+0000d490: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+0000d4a0: 5661 6c75 6545 7272 6f72 2822 5468 6520  ValueError("The 
+0000d4b0: 6c65 6e67 7468 206f 6620 6174 206c 6561  length of at lea
+0000d4c0: 7374 206f 6e65 2073 7562 6c69 7374 2069  st one sublist i
+0000d4d0: 6e20 6375 7272 656e 745f 6c69 7374 2064  n current_list d
+0000d4e0: 6f65 7320 6e6f 7420 6d61 7463 6820 7468  oes not match th
+0000d4f0: 6520 6c65 6e67 7468 206f 6620 7469 6d65  e length of time
+0000d500: 5f6c 6973 742e 2229 0a0a 2020 2020 2020  _list.")..      
+0000d510: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
+0000d520: 6e74 2866 225c 6e2d 2d2d 5c6e 220a 2020  nt(f"\n---\n".  
+0000d530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d540: 2020 2020 2020 2066 2245 7863 6974 6174         f"Excitat
+0000d550: 696f 6e3a 205c 6e22 0a20 2020 2020 2020  ion: \n".       
+0000d560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d570: 2020 6622 4d61 7869 6d75 6d20 5469 6d65    f"Maximum Time
+0000d580: 2873 6563 293a 207b 6e75 6d62 6572 5f6f  (sec): {number_o
+0000d590: 665f 7065 7269 6f64 737d 5c6e 220a 2020  f_periods}\n".  
+0000d5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d5b0: 2020 2020 2020 2066 2243 7572 7265 6e74         f"Current
+0000d5c0: 2873 293a 207b 6375 7272 656e 745f 6c69  (s): {current_li
+0000d5d0: 7374 7d5c 6e22 0a20 2020 2020 2020 2020  st}\n".         
+0000d5e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000d5f0: 6622 5469 6d65 2873 293a 207b 7469 6d65  f"Time(s): {time
+0000d600: 5f6c 6973 747d 5c6e 2229 0a20 2020 2020  _list}\n").     
+0000d610: 2020 2073 656c 662e 6672 6571 7565 6e63     self.frequenc
+0000d620: 7920 3d20 312f 7469 6d65 5f6c 6973 745b  y = 1/time_list[
+0000d630: 2d31 5d0a 2020 2020 2020 2020 2320 2d2d  -1].        # --
+0000d640: 2045 7863 6974 6174 696f 6e20 2d2d 0a20   Excitation --. 
+0000d650: 2020 2020 2020 2073 656c 662e 666c 6167         self.flag
+0000d660: 5f65 7863 6974 6174 696f 6e5f 7479 7065  _excitation_type
+0000d670: 203d 2065 785f 7479 7065 2020 2320 2763   = ex_type  # 'c
+0000d680: 7572 7265 6e74 272c 2027 6375 7272 656e  urrent', 'curren
+0000d690: 745f 6465 6e73 6974 7927 2c20 2776 6f6c  t_density', 'vol
+0000d6a0: 7461 6765 270a 2020 2020 2020 2020 6966  tage'.        if
+0000d6b0: 2073 656c 662e 636f 7265 2e70 6572 6d65   self.core.perme
+0000d6c0: 6162 696c 6974 795b 2264 6174 6173 6f75  ability["datasou
+0000d6d0: 7263 6522 5d20 213d 204d 6174 6572 6961  rce"] != Materia
+0000d6e0: 6c44 6174 6153 6f75 7263 652e 4375 7374  lDataSource.Cust
+0000d6f0: 6f6d 3a0a 2020 2020 2020 2020 2020 2020  om:.            
+0000d700: 7365 6c66 2e63 6f72 652e 7570 6461 7465  self.core.update
+0000d710: 5f63 6f72 655f 6d61 7465 7269 616c 5f70  _core_material_p
+0000d720: 726f 5f66 696c 6528 7365 6c66 2e66 7265  ro_file(self.fre
+0000d730: 7175 656e 6379 2c0a 2020 2020 2020 2020  quency,.        
+0000d740: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000d750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d780: 2073 656c 662e 6669 6c65 5f64 6174 612e   self.file_data.
-0000d790: 656c 6563 7472 6f5f 6d61 676e 6574 6963  electro_magnetic
-0000d7a0: 5f66 6f6c 6465 725f 7061 7468 2c0a 2020  _folder_path,.  
+0000d760: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000d770: 2e66 696c 655f 6461 7461 2e65 6c65 6374  .file_data.elect
+0000d780: 726f 5f6d 6167 6e65 7469 635f 666f 6c64  ro_magnetic_fold
+0000d790: 6572 5f70 6174 682c 0a20 2020 2020 2020  er_path,.       
+0000d7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000d7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d7e0: 2020 706c 6f74 5f69 6e74 6572 706f 6c61    plot_interpola
-0000d7f0: 7469 6f6e 2920 2023 2066 7265 7175 656e  tion)  # frequen
-0000d800: 6379 2075 7064 6174 6520 746f 2063 6f72  cy update to cor
-0000d810: 6520 636c 6173 730a 2020 2020 2020 2020  e class.        
-0000d820: 6966 2073 656c 662e 636f 7265 2e70 6572  if self.core.per
-0000d830: 6d69 7474 6976 6974 795b 2264 6174 6173  mittivity["datas
-0000d840: 6f75 7263 6522 5d20 213d 204d 6174 6572  ource"] != Mater
-0000d850: 6961 6c44 6174 6153 6f75 7263 652e 4375  ialDataSource.Cu
-0000d860: 7374 6f6d 3a0a 2020 2020 2020 2020 2020  stom:.          
-0000d870: 2020 7365 6c66 2e63 6f72 652e 7570 6461    self.core.upda
-0000d880: 7465 5f73 6967 6d61 2873 656c 662e 6672  te_sigma(self.fr
-0000d890: 6571 7565 6e63 7929 0a20 2020 2020 2020  equency).       
-0000d8a0: 2023 2074 696d 6520 7369 6d75 6c61 7469   # time simulati
-0000d8b0: 6f6e 2070 6172 616d 6574 6572 730a 2020  on parameters.  
-0000d8c0: 2020 2020 2020 7365 6c66 2e69 6e69 7469        self.initi
-0000d8d0: 616c 5f74 696d 6520 3d20 3020 2023 2064  al_time = 0  # d
-0000d8e0: 6566 696e 6564 2030 0a20 2020 2020 2020  efined 0.       
-0000d8f0: 2073 656c 662e 7374 6570 5f74 696d 6520   self.step_time 
-0000d900: 3d20 7469 6d65 5f6c 6973 745b 315d 2020  = time_list[1]  
-0000d910: 2320 636f 6e76 656e 7469 6f6e 2121 2120  # convention!!! 
-0000d920: 666f 7220 6669 7865 6420 7469 6d65 2073  for fixed time s
-0000d930: 7465 7073 0a20 2020 2020 2020 2073 656c  teps.        sel
-0000d940: 662e 7469 6d65 5f70 6572 696f 6420 3d20  f.time_period = 
-0000d950: 7469 6d65 5f6c 6973 745b 2d31 5d0a 2020  time_list[-1].  
-0000d960: 2020 2020 2020 7072 696e 7428 6622 7b31        print(f"{1
-0000d970: 2f73 656c 662e 6672 6571 7565 6e63 7920  /self.frequency 
-0000d980: 3d20 7d22 290a 2020 2020 2020 2020 7072  = }").        pr
-0000d990: 696e 7428 6622 7b74 696d 655f 6c69 7374  int(f"{time_list
-0000d9a0: 5b2d 315d 203d 207d 2229 0a20 2020 2020  [-1] = }").     
-0000d9b0: 2020 2073 656c 662e 6e62 5f73 7465 7073     self.nb_steps
-0000d9c0: 5f70 6572 5f70 6572 696f 6465 203d 206c  _per_periode = l
-0000d9d0: 656e 2874 696d 655f 6c69 7374 290a 2020  en(time_list).  
-0000d9e0: 2020 2020 2020 7365 6c66 2e6d 6178 5f74        self.max_t
-0000d9f0: 696d 6520 3d20 6e75 6d62 6572 5f6f 665f  ime = number_of_
-0000da00: 7065 7269 6f64 7320 2a20 2873 656c 662e  periods * (self.
-0000da10: 7469 6d65 5f70 6572 696f 6420 2b20 7365  time_period + se
-0000da20: 6c66 2e73 7465 705f 7469 6d65 290a 2020  lf.step_time).  
-0000da30: 2020 2020 2020 2320 6375 7272 656e 7420        # current 
-0000da40: 6578 6369 7461 7469 6f6e 0a20 2020 2020  excitation.     
-0000da50: 2020 2066 6f72 206e 756d 2069 6e20 7261     for num in ra
-0000da60: 6e67 6528 6c65 6e28 7365 6c66 2e77 696e  nge(len(self.win
-0000da70: 6469 6e67 7329 293a 0a20 2020 2020 2020  dings)):.       
-0000da80: 2020 2020 2069 6620 7365 6c66 2e66 6c61       if self.fla
-0000da90: 675f 6578 6369 7461 7469 6f6e 5f74 7970  g_excitation_typ
-0000daa0: 6520 3d3d 2027 6375 7272 656e 7427 3a0a  e == 'current':.
-0000dab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000dac0: 6966 2073 656c 662e 666c 6167 5f65 7863  if self.flag_exc
-0000dad0: 6974 6174 696f 6e5f 7479 7065 203d 3d20  itation_type == 
-0000dae0: 2763 7572 7265 6e74 273a 0a20 2020 2020  'current':.     
-0000daf0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0000db00: 2073 656c 662e 6375 7272 656e 745b 6e75   self.current[nu
-0000db10: 6d5d 203d 2063 7572 7265 6e74 5f6c 6973  m] = current_lis
-0000db20: 745b 6e75 6d5d 0a20 2020 2020 2020 2020  t[num].         
-0000db30: 2020 2020 2020 2020 2020 2023 2073 656c             # sel
-0000db40: 662e 7469 6d65 203d 2074 696d 655f 6c69  f.time = time_li
-0000db50: 7374 2020 2320 6465 6669 6e65 2074 6865  st  # define the
-0000db60: 2074 696d 6520 6c69 7374 0a20 2020 2020   time list.     
-0000db70: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000db80: 656c 662e 6375 7272 656e 745b 6e75 6d5d  elf.current[num]
-0000db90: 203d 206e 756d 6265 725f 6f66 5f70 6572   = number_of_per
-0000dba0: 696f 6473 202a 2063 7572 7265 6e74 5f6c  iods * current_l
-0000dbb0: 6973 745b 6e75 6d5d 2020 2320 6465 6669  ist[num]  # defi
-0000dbc0: 6e65 2074 6865 2063 7572 7265 6e74 2076  ne the current v
-0000dbd0: 6563 746f 7220 2820 6c69 7374 206f 6620  ector ( list of 
-0000dbe0: 6c69 7374 290a 2020 2020 2020 2020 2320  list).        # 
-0000dbf0: 4974 6572 6174 6520 6f76 6572 2074 6865  Iterate over the
-0000dc00: 206e 756d 6265 7220 6f66 2070 6572 696f   number of perio
-0000dc10: 6473 0a20 2020 2020 2020 2066 6f72 2070  ds.        for p
-0000dc20: 6572 696f 6420 696e 2072 616e 6765 286e  eriod in range(n
-0000dc30: 756d 6265 725f 6f66 5f70 6572 696f 6473  umber_of_periods
-0000dc40: 293a 0a20 2020 2020 2020 2020 2020 2023  ):.            #
-0000dc50: 2049 7465 7261 7465 206f 7665 7220 7468   Iterate over th
-0000dc60: 6520 6f72 6967 696e 616c 5f74 696d 655f  e original_time_
-0000dc70: 6c69 7374 0a20 2020 2020 2020 2020 2020  list.           
-0000dc80: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-0000dc90: 6c65 6e28 7469 6d65 5f6c 6973 7429 293a  len(time_list)):
-0000dca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000dcb0: 2023 2043 616c 6375 6c61 7465 2065 6163   # Calculate eac
-0000dcc0: 6820 7469 6d65 2076 616c 7565 2061 6e64  h time value and
-0000dcd0: 2061 7070 656e 6420 6974 2074 6f20 7365   append it to se
-0000dce0: 6c66 2e74 696d 6520 746f 2064 6561 6c20  lf.time to deal 
-0000dcf0: 7769 7468 206d 6f72 6520 6f6e 6520 7065  with more one pe
-0000dd00: 7269 6f64 0a20 2020 2020 2020 2020 2020  riod.           
-0000dd10: 2020 2020 2074 696d 655f 7661 6c75 6520       time_value 
-0000dd20: 3d20 7469 6d65 5f6c 6973 745b 6920 2520  = time_list[i % 
-0000dd30: 6c65 6e28 7469 6d65 5f6c 6973 7429 5d20  len(time_list)] 
-0000dd40: 2b20 7065 7269 6f64 202a 206c 656e 2874  + period * len(t
-0000dd50: 696d 655f 6c69 7374 2920 2a20 7365 6c66  ime_list) * self
-0000dd60: 2e73 7465 705f 7469 6d65 0a20 2020 2020  .step_time.     
-0000dd70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000dd80: 7469 6d65 2e61 7070 656e 6428 7469 6d65  time.append(time
-0000dd90: 5f76 616c 7565 290a 2020 2020 2020 2020  _value).        
-0000dda0: 2320 6e75 6d62 6572 206f 6620 7374 6570  # number of step
-0000ddb0: 730a 2020 2020 2020 2020 7365 6c66 2e6e  s.        self.n
-0000ddc0: 625f 7374 6570 7320 3d20 6c65 6e28 7365  b_steps = len(se
-0000ddd0: 6c66 2e74 696d 6529 0a20 2020 2020 2020  lf.time).       
-0000dde0: 2023 2049 6d70 6f73 6564 2063 7572 7265   # Imposed curre
-0000ddf0: 6e74 2064 656e 7369 7479 0a20 2020 2020  nt density.     
-0000de00: 2020 2069 6620 7365 6c66 2e66 6c61 675f     if self.flag_
-0000de10: 6578 6369 7461 7469 6f6e 5f74 7970 6520  excitation_type 
-0000de20: 3d3d 2027 6375 7272 656e 745f 6465 6e73  == 'current_dens
-0000de30: 6974 7927 3a0a 2020 2020 2020 2020 2020  ity':.          
-0000de40: 2020 7261 6973 6520 4e6f 7449 6d70 6c65    raise NotImple
-0000de50: 6d65 6e74 6564 4572 726f 720a 0a20 2020  mentedError..   
-0000de60: 2020 2020 2023 2049 6d70 6f73 6564 2076       # Imposed v
-0000de70: 6f6c 7461 6765 0a20 2020 2020 2020 2069  oltage.        i
-0000de80: 6620 7365 6c66 2e66 6c61 675f 6578 6369  f self.flag_exci
-0000de90: 7461 7469 6f6e 5f74 7970 6520 3d3d 2027  tation_type == '
-0000dea0: 766f 6c74 6167 6527 3a0a 2020 2020 2020  voltage':.      
-0000deb0: 2020 2020 2020 7261 6973 6520 4e6f 7449        raise NotI
-0000dec0: 6d70 6c65 6d65 6e74 6564 4572 726f 720a  mplementedError.
-0000ded0: 0a20 2020 2020 2020 2023 202d 2d20 4672  .        # -- Fr
-0000dee0: 6571 7565 6e63 7920 2d2d 0a0a 2020 2020  equency --..    
-0000def0: 2020 2020 2320 4465 6669 6e65 2072 6564      # Define red
-0000df00: 7563 6564 2066 7265 7175 656e 6379 2028  uced frequency (
-0000df10: 7573 6564 2066 6f72 2068 6f6d 6f67 656e  used for homogen
-0000df20: 697a 6174 696f 6e20 7465 6368 6e69 7175  ization techniqu
-0000df30: 6529 0a20 2020 2020 2020 2023 2073 656c  e).        # sel
-0000df40: 662e 7265 645f 6672 6571 203d 206e 702e  f.red_freq = np.
-0000df50: 656d 7074 7928 3229 0a20 2020 2020 2020  empty(2).       
-0000df60: 2073 656c 662e 7265 645f 6672 6571 203d   self.red_freq =
-0000df70: 205b 5d0a 2020 2020 2020 2020 666f 7220   [].        for 
-0000df80: 5f20 696e 2072 616e 6765 286c 656e 2873  _ in range(len(s
-0000df90: 656c 662e 7769 6e64 696e 6773 2929 3a0a  elf.windings)):.
-0000dfa0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000dfb0: 2e72 6564 5f66 7265 712e 6170 7065 6e64  .red_freq.append
-0000dfc0: 285b 5d29 0a0a 2020 2020 2020 2020 6966  ([])..        if
-0000dfd0: 2073 656c 662e 6672 6571 7565 6e63 7920   self.frequency 
-0000dfe0: 213d 2030 3a0a 2020 2020 2020 2020 2020  != 0:.          
-0000dff0: 2020 7365 6c66 2e64 656c 7461 203d 206e    self.delta = n
-0000e000: 702e 7371 7274 2832 202f 2028 3220 2a20  p.sqrt(2 / (2 * 
-0000e010: 7365 6c66 2e66 7265 7175 656e 6379 202a  self.frequency *
-0000e020: 206e 702e 7069 202a 2073 656c 662e 7769   np.pi * self.wi
-0000e030: 6e64 696e 6773 5b0a 2020 2020 2020 2020  ndings[.        
-0000e040: 2020 2020 2020 2020 305d 2e63 6f6e 645f          0].cond_
-0000e050: 7369 676d 6120 2a20 6d75 5f30 2929 2020  sigma * mu_0))  
-0000e060: 2320 544f 444f 3a20 6469 7374 696e 6775  # TODO: distingu
-0000e070: 6973 6820 6265 7477 6565 6e20 6d61 7465  ish between mate
-0000e080: 7269 616c 2063 6f6e 6475 6374 6976 6974  rial conductivit
-0000e090: 6965 730a 2020 2020 2020 2020 2020 2020  ies.            
-0000e0a0: 666f 7220 6e75 6d20 696e 2072 616e 6765  for num in range
-0000e0b0: 286c 656e 2873 656c 662e 7769 6e64 696e  (len(self.windin
-0000e0c0: 6773 2929 3a0a 2020 2020 2020 2020 2020  gs)):.          
-0000e0d0: 2020 2020 2020 6966 2073 656c 662e 7769        if self.wi
-0000e0e0: 6e64 696e 6773 5b6e 756d 5d2e 636f 6e64  ndings[num].cond
-0000e0f0: 7563 746f 725f 7479 7065 203d 3d20 436f  uctor_type == Co
-0000e100: 6e64 7563 746f 7254 7970 652e 526f 756e  nductorType.Roun
-0000e110: 644c 6974 7a3a 0a20 2020 2020 2020 2020  dLitz:.         
-0000e120: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000e130: 7265 645f 6672 6571 5b6e 756d 5d20 3d20  red_freq[num] = 
-0000e140: 7365 6c66 2e77 696e 6469 6e67 735b 6e75  self.windings[nu
-0000e150: 6d5d 2e73 7472 616e 645f 7261 6469 7573  m].strand_radius
-0000e160: 202f 2073 656c 662e 6465 6c74 610a 2020   / self.delta.  
-0000e170: 2020 2020 2020 2020 2020 2020 2020 656c                el
-0000e180: 6966 2073 656c 662e 7769 6e64 696e 6773  if self.windings
-0000e190: 5b6e 756d 5d2e 636f 6e64 7563 746f 725f  [num].conductor_
-0000e1a0: 7479 7065 203d 3d20 436f 6e64 7563 746f  type == Conducto
-0000e1b0: 7254 7970 652e 526f 756e 6453 6f6c 6964  rType.RoundSolid
-0000e1c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000e1d0: 2020 2020 2020 7365 6c66 2e72 6564 5f66        self.red_f
-0000e1e0: 7265 715b 6e75 6d5d 203d 2073 656c 662e  req[num] = self.
-0000e1f0: 7769 6e64 696e 6773 5b6e 756d 5d2e 636f  windings[num].co
-0000e200: 6e64 7563 746f 725f 7261 6469 7573 202f  nductor_radius /
-0000e210: 2073 656c 662e 6465 6c74 610a 2020 2020   self.delta.    
-0000e220: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0000e230: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0000e240: 2020 2020 2020 7365 6c66 2e66 656d 6d74        self.femmt
-0000e250: 5f70 7269 6e74 2822 5265 6475 6365 6420  _print("Reduced 
-0000e260: 4672 6571 7565 6e63 7920 646f 6573 206e  Frequency does n
-0000e270: 6f74 2068 6176 6520 6120 7068 7973 6963  ot have a physic
-0000e280: 616c 2076 616c 7565 2068 6572 6522 290a  al value here").
-0000e290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e2a0: 2020 2020 7365 6c66 2e66 656d 6d74 5f70      self.femmt_p
-0000e2b0: 7269 6e74 2873 656c 662e 7769 6e64 696e  rint(self.windin
-0000e2c0: 6773 5b6e 756d 5d2e 636f 6e64 7563 746f  gs[num].conducto
-0000e2d0: 725f 7479 7065 290a 2020 2020 2020 2020  r_type).        
-0000e2e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000e2f0: 2e72 6564 5f66 7265 715b 0a20 2020 2020  .red_freq[.     
-0000e300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e310: 2020 206e 756d 5d20 3d20 3120 2023 2054     num] = 1  # T
-0000e320: 4f44 4f3a 2064 6f65 736e 2774 206d 616b  ODO: doesn't mak
-0000e330: 6520 7365 6e73 6520 6c69 6b65 2074 6869  e sense like thi
-0000e340: 7320 2d3e 2072 6577 7269 7465 2066 6f72  s -> rewrite for
-0000e350: 6520 636f 6e64 7563 746f 7220 7769 6e64  e conductor wind
-0000e360: 696e 6773 2073 6861 7065 0a20 2020 2020  ings shape.     
-0000e370: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0000e380: 2020 2020 2023 2044 4320 6361 7365 0a20       # DC case. 
-0000e390: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000e3a0: 6465 6c74 6120 3d20 3165 3230 2020 2320  delta = 1e20  # 
-0000e3b0: 7261 6e64 6f6d 2068 7567 6520 7661 6c75  random huge valu
-0000e3c0: 650a 2020 2020 2020 2020 2020 2020 666f  e.            fo
-0000e3d0: 7220 6e75 6d20 696e 2072 616e 6765 286c  r num in range(l
-0000e3e0: 656e 2873 656c 662e 7769 6e64 696e 6773  en(self.windings
-0000e3f0: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-0000e400: 2020 2020 7365 6c66 2e72 6564 5f66 7265      self.red_fre
-0000e410: 715b 6e75 6d5d 203d 2030 0a0a 2020 2020  q[num] = 0..    
-0000e420: 6465 6620 7369 6d75 6c61 7465 2873 656c  def simulate(sel
-0000e430: 6629 3a0a 2020 2020 2020 2020 2222 2249  f):.        """I
-0000e440: 6e69 7469 616c 697a 6520 6120 6f6e 656c  nitialize a onel
-0000e450: 6162 2063 6c69 656e 742e 2050 726f 7669  ab client. Provi
-0000e460: 6465 7320 7468 6520 4765 7444 5020 6261  des the GetDP ba
-0000e470: 7365 6420 736f 6c76 6572 2077 6974 6820  sed solver with 
-0000e480: 7468 6520 6372 6561 7465 6420 6d65 7368  the created mesh
-0000e490: 2066 696c 652e 2222 220a 2020 2020 2020   file.""".      
-0000e4a0: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
-0000e4b0: 6e74 2822 5c6e 2d2d 2d5c 6e22 0a20 2020  nt("\n---\n".   
-0000e4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e4d0: 2020 2020 2020 2249 6e69 7469 616c 697a        "Initializ
-0000e4e0: 6520 4f4e 454c 4142 2041 5049 5c6e 220a  e ONELAB API\n".
-0000e4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e500: 2020 2020 2020 2020 2022 5275 6e20 5369           "Run Si
-0000e510: 6d75 6c61 7469 6f6e 5c6e 2229 0a20 2020  mulation\n").   
-0000e520: 2020 2020 2073 656c 662e 6c6f 675f 6d61       self.log_ma
-0000e530: 7465 7269 616c 5f70 726f 7065 7274 6965  terial_propertie
-0000e540: 7328 290a 0a20 2020 2020 2020 2023 202d  s()..        # -
-0000e550: 2d20 5369 6d75 6c61 7469 6f6e 202d 2d0a  - Simulation --.
-0000e560: 2020 2020 2020 2020 2320 6372 6561 7465          # create
-0000e570: 2061 206e 6577 206f 6e65 6c61 6220 636c   a new onelab cl
-0000e580: 6965 6e74 0a0a 2020 2020 2020 2020 2320  ient..        # 
-0000e590: 496e 6974 6961 6c20 436c 6561 7269 6e67  Initial Clearing
-0000e5a0: 206f 6620 676d 7368 2064 6174 610a 2020   of gmsh data.  
-0000e5b0: 2020 2020 2020 676d 7368 2e63 6c65 6172        gmsh.clear
-0000e5c0: 2829 0a0a 2020 2020 2020 2020 2320 6765  ()..        # ge
-0000e5d0: 7420 6d6f 6465 6c20 6669 6c65 206e 616d  t model file nam
-0000e5e0: 6573 2077 6974 6820 636f 7272 6563 7420  es with correct 
-0000e5f0: 7061 7468 0a0a 2020 2020 2020 2020 736f  path..        so
-0000e600: 6c76 6572 5f66 7265 7120 3d20 6f73 2e70  lver_freq = os.p
-0000e610: 6174 682e 6a6f 696e 2873 656c 662e 6669  ath.join(self.fi
-0000e620: 6c65 5f64 6174 612e 656c 6563 7472 6f5f  le_data.electro_
-0000e630: 6d61 676e 6574 6963 5f66 6f6c 6465 725f  magnetic_folder_
-0000e640: 7061 7468 2c20 2269 6e64 5f61 7869 5f70  path, "ind_axi_p
-0000e650: 7974 686f 6e5f 636f 6e74 726f 6c6c 6564  ython_controlled
-0000e660: 2e70 726f 2229 0a20 2020 2020 2020 2073  .pro").        s
-0000e670: 6f6c 7665 725f 7469 6d65 203d 206f 732e  olver_time = os.
-0000e680: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
-0000e690: 696c 655f 6461 7461 2e65 6c65 6374 726f  ile_data.electro
-0000e6a0: 5f6d 6167 6e65 7469 635f 666f 6c64 6572  _magnetic_folder
-0000e6b0: 5f70 6174 682c 2022 696e 645f 6178 695f  _path, "ind_axi_
-0000e6c0: 7079 7468 6f6e 5f63 6f6e 7472 6f6c 6c65  python_controlle
-0000e6d0: 645f 7469 6d65 2e70 726f 2229 0a0a 2020  d_time.pro")..  
-0000e6e0: 2020 2020 2020 6f73 2e63 6864 6972 2873        os.chdir(s
-0000e6f0: 656c 662e 6669 6c65 5f64 6174 612e 776f  elf.file_data.wo
-0000e700: 726b 696e 675f 6469 7265 6374 6f72 7929  rking_directory)
-0000e710: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
-0000e720: 662e 7665 7262 6f73 6974 7920 3d3d 2056  f.verbosity == V
-0000e730: 6572 626f 7369 7479 2e53 696c 656e 743a  erbosity.Silent:
-0000e740: 0a20 2020 2020 2020 2020 2020 2076 6572  .            ver
-0000e750: 626f 7365 203d 2022 2d76 6572 626f 7365  bose = "-verbose
-0000e760: 2031 220a 2020 2020 2020 2020 656c 7365   1".        else
-0000e770: 3a0a 2020 2020 2020 2020 2020 2020 7665  :.            ve
-0000e780: 7262 6f73 6520 3d20 222d 7665 7262 6f73  rbose = "-verbos
-0000e790: 6520 3522 0a0a 2020 2020 2020 2020 746f  e 5"..        to
-0000e7a0: 5f66 696c 655f 7374 7220 3d20 2222 0a20  _file_str = "". 
-0000e7b0: 2020 2020 2020 2069 6620 7365 6c66 2e76         if self.v
-0000e7c0: 6572 626f 7369 7479 203d 3d20 5665 7262  erbosity == Verb
-0000e7d0: 6f73 6974 792e 546f 4669 6c65 3a0a 2020  osity.ToFile:.  
-0000e7e0: 2020 2020 2020 2020 2020 746f 5f66 696c            to_fil
-0000e7f0: 655f 7374 7220 3d20 2220 3e20 2220 2b20  e_str = " > " + 
-0000e800: 7365 6c66 2e66 696c 655f 6461 7461 2e67  self.file_data.g
-0000e810: 6574 6470 5f6c 6f67 0a0a 2020 2020 2020  etdp_log..      
-0000e820: 2020 2320 5275 6e20 7369 6d75 6c61 7469    # Run simulati
-0000e830: 6f6e 7320 6173 2073 7562 2063 6c69 656e  ons as sub clien
-0000e840: 7473 2028 6e6f 6e2d 626c 6f63 6b69 6e67  ts (non-blocking
-0000e850: 3f3f 290a 2020 2020 2020 2020 6765 7464  ??).        getd
-0000e860: 705f 6669 6c65 7061 7468 203d 206f 732e  p_filepath = os.
-0000e870: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
-0000e880: 696c 655f 6461 7461 2e6f 6e65 6c61 625f  ile_data.onelab_
-0000e890: 666f 6c64 6572 5f70 6174 682c 2022 6765  folder_path, "ge
-0000e8a0: 7464 7022 290a 2020 2020 2020 2020 6966  tdp").        if
-0000e8b0: 2073 656c 662e 7369 6d75 6c61 7469 6f6e   self.simulation
-0000e8c0: 5f74 7970 6520 3d3d 2053 696d 756c 6174  _type == Simulat
-0000e8d0: 696f 6e54 7970 652e 4672 6571 446f 6d61  ionType.FreqDoma
-0000e8e0: 696e 3a0a 2020 2020 2020 2020 2020 2020  in:.            
-0000e8f0: 7365 6c66 2e6f 6e65 6c61 625f 636c 6965  self.onelab_clie
-0000e900: 6e74 2e72 756e 5375 6243 6c69 656e 7428  nt.runSubClient(
-0000e910: 226d 7947 6574 4450 222c 2067 6574 6470  "myGetDP", getdp
-0000e920: 5f66 696c 6570 6174 6820 2b20 2220 2220  _filepath + " " 
-0000e930: 2b20 736f 6c76 6572 5f66 7265 7120 2b20  + solver_freq + 
-0000e940: 2220 2d6d 7368 2022 202b 205c 0a20 2020  " -msh " + \.   
+0000d7c0: 2020 2020 2020 2020 2020 2020 2070 6c6f               plo
+0000d7d0: 745f 696e 7465 7270 6f6c 6174 696f 6e29  t_interpolation)
+0000d7e0: 2020 2320 6672 6571 7565 6e63 7920 7570    # frequency up
+0000d7f0: 6461 7465 2074 6f20 636f 7265 2063 6c61  date to core cla
+0000d800: 7373 0a20 2020 2020 2020 2069 6620 7365  ss.        if se
+0000d810: 6c66 2e63 6f72 652e 7065 726d 6974 7469  lf.core.permitti
+0000d820: 7669 7479 5b22 6461 7461 736f 7572 6365  vity["datasource
+0000d830: 225d 2021 3d20 4d61 7465 7269 616c 4461  "] != MaterialDa
+0000d840: 7461 536f 7572 6365 2e43 7573 746f 6d3a  taSource.Custom:
+0000d850: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000d860: 662e 636f 7265 2e75 7064 6174 655f 7369  f.core.update_si
+0000d870: 676d 6128 7365 6c66 2e66 7265 7175 656e  gma(self.frequen
+0000d880: 6379 290a 2020 2020 2020 2020 2320 7469  cy).        # ti
+0000d890: 6d65 2073 696d 756c 6174 696f 6e20 7061  me simulation pa
+0000d8a0: 7261 6d65 7465 7273 0a20 2020 2020 2020  rameters.       
+0000d8b0: 2073 656c 662e 696e 6974 6961 6c5f 7469   self.initial_ti
+0000d8c0: 6d65 203d 2030 2020 2320 6465 6669 6e65  me = 0  # define
+0000d8d0: 6420 300a 2020 2020 2020 2020 7365 6c66  d 0.        self
+0000d8e0: 2e73 7465 705f 7469 6d65 203d 2074 696d  .step_time = tim
+0000d8f0: 655f 6c69 7374 5b31 5d20 2023 2063 6f6e  e_list[1]  # con
+0000d900: 7665 6e74 696f 6e21 2121 2066 6f72 2066  vention!!! for f
+0000d910: 6978 6564 2074 696d 6520 7374 6570 730a  ixed time steps.
+0000d920: 2020 2020 2020 2020 7365 6c66 2e74 696d          self.tim
+0000d930: 655f 7065 7269 6f64 203d 2074 696d 655f  e_period = time_
+0000d940: 6c69 7374 5b2d 315d 0a20 2020 2020 2020  list[-1].       
+0000d950: 2070 7269 6e74 2866 227b 312f 7365 6c66   print(f"{1/self
+0000d960: 2e66 7265 7175 656e 6379 3d7d 2229 0a20  .frequency=}"). 
+0000d970: 2020 2020 2020 2070 7269 6e74 2866 227b         print(f"{
+0000d980: 7469 6d65 5f6c 6973 745b 2d31 5d3d 7d22  time_list[-1]=}"
+0000d990: 290a 2020 2020 2020 2020 7365 6c66 2e6e  ).        self.n
+0000d9a0: 625f 7374 6570 735f 7065 725f 7065 7269  b_steps_per_peri
+0000d9b0: 6f64 203d 206c 656e 2874 696d 655f 6c69  od = len(time_li
+0000d9c0: 7374 290a 2020 2020 2020 2020 7365 6c66  st).        self
+0000d9d0: 2e6d 6178 5f74 696d 6520 3d20 6e75 6d62  .max_time = numb
+0000d9e0: 6572 5f6f 665f 7065 7269 6f64 7320 2a20  er_of_periods * 
+0000d9f0: 2873 656c 662e 7469 6d65 5f70 6572 696f  (self.time_perio
+0000da00: 6420 2b20 7365 6c66 2e73 7465 705f 7469  d + self.step_ti
+0000da10: 6d65 290a 2020 2020 2020 2020 2320 6375  me).        # cu
+0000da20: 7272 656e 7420 6578 6369 7461 7469 6f6e  rrent excitation
+0000da30: 0a20 2020 2020 2020 2066 6f72 206e 756d  .        for num
+0000da40: 2069 6e20 7261 6e67 6528 6c65 6e28 7365   in range(len(se
+0000da50: 6c66 2e77 696e 6469 6e67 7329 293a 0a20  lf.windings)):. 
+0000da60: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+0000da70: 6c66 2e66 6c61 675f 6578 6369 7461 7469  lf.flag_excitati
+0000da80: 6f6e 5f74 7970 6520 3d3d 2027 6375 7272  on_type == 'curr
+0000da90: 656e 7427 3a0a 2020 2020 2020 2020 2020  ent':.          
+0000daa0: 2020 2020 2020 6966 2073 656c 662e 666c        if self.fl
+0000dab0: 6167 5f65 7863 6974 6174 696f 6e5f 7479  ag_excitation_ty
+0000dac0: 7065 203d 3d20 2763 7572 7265 6e74 273a  pe == 'current':
+0000dad0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dae0: 2020 2020 2023 2073 656c 662e 6375 7272       # self.curr
+0000daf0: 656e 745b 6e75 6d5d 203d 2063 7572 7265  ent[num] = curre
+0000db00: 6e74 5f6c 6973 745b 6e75 6d5d 0a20 2020  nt_list[num].   
+0000db10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000db20: 2023 2073 656c 662e 7469 6d65 203d 2074   # self.time = t
+0000db30: 696d 655f 6c69 7374 2020 2320 6465 6669  ime_list  # defi
+0000db40: 6e65 2074 6865 2074 696d 6520 6c69 7374  ne the time list
+0000db50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000db60: 2020 2020 2073 656c 662e 6375 7272 656e       self.curren
+0000db70: 745b 6e75 6d5d 203d 206e 756d 6265 725f  t[num] = number_
+0000db80: 6f66 5f70 6572 696f 6473 202a 2063 7572  of_periods * cur
+0000db90: 7265 6e74 5f6c 6973 745b 6e75 6d5d 2020  rent_list[num]  
+0000dba0: 2320 6465 6669 6e65 2074 6865 2063 7572  # define the cur
+0000dbb0: 7265 6e74 2076 6563 746f 7220 2820 6c69  rent vector ( li
+0000dbc0: 7374 206f 6620 6c69 7374 290a 2020 2020  st of list).    
+0000dbd0: 2020 2020 2320 4974 6572 6174 6520 6f76      # Iterate ov
+0000dbe0: 6572 2074 6865 206e 756d 6265 7220 6f66  er the number of
+0000dbf0: 2070 6572 696f 6473 0a20 2020 2020 2020   periods.       
+0000dc00: 2066 6f72 2070 6572 696f 6420 696e 2072   for period in r
+0000dc10: 616e 6765 286e 756d 6265 725f 6f66 5f70  ange(number_of_p
+0000dc20: 6572 696f 6473 293a 0a20 2020 2020 2020  eriods):.       
+0000dc30: 2020 2020 2023 2049 7465 7261 7465 206f       # Iterate o
+0000dc40: 7665 7220 7468 6520 6f72 6967 696e 616c  ver the original
+0000dc50: 5f74 696d 655f 6c69 7374 0a20 2020 2020  _time_list.     
+0000dc60: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+0000dc70: 7261 6e67 6528 6c65 6e28 7469 6d65 5f6c  range(len(time_l
+0000dc80: 6973 7429 293a 0a20 2020 2020 2020 2020  ist)):.         
+0000dc90: 2020 2020 2020 2023 2043 616c 6375 6c61         # Calcula
+0000dca0: 7465 2065 6163 6820 7469 6d65 2076 616c  te each time val
+0000dcb0: 7565 2061 6e64 2061 7070 656e 6420 6974  ue and append it
+0000dcc0: 2074 6f20 7365 6c66 2e74 696d 6520 746f   to self.time to
+0000dcd0: 2064 6561 6c20 7769 7468 206d 6f72 6520   deal with more 
+0000dce0: 6f6e 6520 7065 7269 6f64 0a20 2020 2020  one period.     
+0000dcf0: 2020 2020 2020 2020 2020 2074 696d 655f             time_
+0000dd00: 7661 6c75 6520 3d20 7469 6d65 5f6c 6973  value = time_lis
+0000dd10: 745b 6920 2520 6c65 6e28 7469 6d65 5f6c  t[i % len(time_l
+0000dd20: 6973 7429 5d20 2b20 7065 7269 6f64 202a  ist)] + period *
+0000dd30: 206c 656e 2874 696d 655f 6c69 7374 2920   len(time_list) 
+0000dd40: 2a20 7365 6c66 2e73 7465 705f 7469 6d65  * self.step_time
+0000dd50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dd60: 2073 656c 662e 7469 6d65 2e61 7070 656e   self.time.appen
+0000dd70: 6428 7469 6d65 5f76 616c 7565 290a 2020  d(time_value).  
+0000dd80: 2020 2020 2020 2320 6e75 6d62 6572 206f        # number o
+0000dd90: 6620 7374 6570 730a 2020 2020 2020 2020  f steps.        
+0000dda0: 7365 6c66 2e6e 625f 7374 6570 7320 3d20  self.nb_steps = 
+0000ddb0: 6c65 6e28 7365 6c66 2e74 696d 6529 0a20  len(self.time). 
+0000ddc0: 2020 2020 2020 2023 2049 6d70 6f73 6564         # Imposed
+0000ddd0: 2063 7572 7265 6e74 2064 656e 7369 7479   current density
+0000dde0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0000ddf0: 2e66 6c61 675f 6578 6369 7461 7469 6f6e  .flag_excitation
+0000de00: 5f74 7970 6520 3d3d 2027 6375 7272 656e  _type == 'curren
+0000de10: 745f 6465 6e73 6974 7927 3a0a 2020 2020  t_density':.    
+0000de20: 2020 2020 2020 2020 7261 6973 6520 4e6f          raise No
+0000de30: 7449 6d70 6c65 6d65 6e74 6564 4572 726f  tImplementedErro
+0000de40: 720a 0a20 2020 2020 2020 2023 2049 6d70  r..        # Imp
+0000de50: 6f73 6564 2076 6f6c 7461 6765 0a20 2020  osed voltage.   
+0000de60: 2020 2020 2069 6620 7365 6c66 2e66 6c61       if self.fla
+0000de70: 675f 6578 6369 7461 7469 6f6e 5f74 7970  g_excitation_typ
+0000de80: 6520 3d3d 2027 766f 6c74 6167 6527 3a0a  e == 'voltage':.
+0000de90: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000dea0: 6520 4e6f 7449 6d70 6c65 6d65 6e74 6564  e NotImplemented
+0000deb0: 4572 726f 720a 0a20 2020 2020 2020 2023  Error..        #
+0000dec0: 202d 2d20 4672 6571 7565 6e63 7920 2d2d   -- Frequency --
+0000ded0: 0a0a 2020 2020 2020 2020 2320 4465 6669  ..        # Defi
+0000dee0: 6e65 2072 6564 7563 6564 2066 7265 7175  ne reduced frequ
+0000def0: 656e 6379 2028 7573 6564 2066 6f72 2068  ency (used for h
+0000df00: 6f6d 6f67 656e 697a 6174 696f 6e20 7465  omogenization te
+0000df10: 6368 6e69 7175 6529 0a20 2020 2020 2020  chnique).       
+0000df20: 2023 2073 656c 662e 7265 645f 6672 6571   # self.red_freq
+0000df30: 203d 206e 702e 656d 7074 7928 3229 0a20   = np.empty(2). 
+0000df40: 2020 2020 2020 2073 656c 662e 7265 645f         self.red_
+0000df50: 6672 6571 203d 205b 5d0a 2020 2020 2020  freq = [].      
+0000df60: 2020 666f 7220 5f20 696e 2072 616e 6765    for _ in range
+0000df70: 286c 656e 2873 656c 662e 7769 6e64 696e  (len(self.windin
+0000df80: 6773 2929 3a0a 2020 2020 2020 2020 2020  gs)):.          
+0000df90: 2020 7365 6c66 2e72 6564 5f66 7265 712e    self.red_freq.
+0000dfa0: 6170 7065 6e64 285b 5d29 0a0a 2020 2020  append([])..    
+0000dfb0: 2020 2020 6966 2073 656c 662e 6672 6571      if self.freq
+0000dfc0: 7565 6e63 7920 213d 2030 3a0a 2020 2020  uency != 0:.    
+0000dfd0: 2020 2020 2020 2020 7365 6c66 2e64 656c          self.del
+0000dfe0: 7461 203d 206e 702e 7371 7274 2832 202f  ta = np.sqrt(2 /
+0000dff0: 2028 3220 2a20 7365 6c66 2e66 7265 7175   (2 * self.frequ
+0000e000: 656e 6379 202a 206e 702e 7069 202a 2073  ency * np.pi * s
+0000e010: 656c 662e 7769 6e64 696e 6773 5b0a 2020  elf.windings[.  
+0000e020: 2020 2020 2020 2020 2020 2020 2020 305d                0]
+0000e030: 2e63 6f6e 645f 7369 676d 6120 2a20 6d75  .cond_sigma * mu
+0000e040: 5f30 2929 2020 2320 544f 444f 3a20 6469  _0))  # TODO: di
+0000e050: 7374 696e 6775 6973 6820 6265 7477 6565  stinguish betwee
+0000e060: 6e20 6d61 7465 7269 616c 2063 6f6e 6475  n material condu
+0000e070: 6374 6976 6974 6965 730a 2020 2020 2020  ctivities.      
+0000e080: 2020 2020 2020 666f 7220 6e75 6d20 696e        for num in
+0000e090: 2072 616e 6765 286c 656e 2873 656c 662e   range(len(self.
+0000e0a0: 7769 6e64 696e 6773 2929 3a0a 2020 2020  windings)):.    
+0000e0b0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0000e0c0: 656c 662e 7769 6e64 696e 6773 5b6e 756d  elf.windings[num
+0000e0d0: 5d2e 636f 6e64 7563 746f 725f 7479 7065  ].conductor_type
+0000e0e0: 203d 3d20 436f 6e64 7563 746f 7254 7970   == ConductorTyp
+0000e0f0: 652e 526f 756e 644c 6974 7a3a 0a20 2020  e.RoundLitz:.   
+0000e100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e110: 2073 656c 662e 7265 645f 6672 6571 5b6e   self.red_freq[n
+0000e120: 756d 5d20 3d20 7365 6c66 2e77 696e 6469  um] = self.windi
+0000e130: 6e67 735b 6e75 6d5d 2e73 7472 616e 645f  ngs[num].strand_
+0000e140: 7261 6469 7573 202f 2073 656c 662e 6465  radius / self.de
+0000e150: 6c74 610a 2020 2020 2020 2020 2020 2020  lta.            
+0000e160: 2020 2020 656c 6966 2073 656c 662e 7769      elif self.wi
+0000e170: 6e64 696e 6773 5b6e 756d 5d2e 636f 6e64  ndings[num].cond
+0000e180: 7563 746f 725f 7479 7065 203d 3d20 436f  uctor_type == Co
+0000e190: 6e64 7563 746f 7254 7970 652e 526f 756e  nductorType.Roun
+0000e1a0: 6453 6f6c 6964 3a0a 2020 2020 2020 2020  dSolid:.        
+0000e1b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000e1c0: 2e72 6564 5f66 7265 715b 6e75 6d5d 203d  .red_freq[num] =
+0000e1d0: 2073 656c 662e 7769 6e64 696e 6773 5b6e   self.windings[n
+0000e1e0: 756d 5d2e 636f 6e64 7563 746f 725f 7261  um].conductor_ra
+0000e1f0: 6469 7573 202f 2073 656c 662e 6465 6c74  dius / self.delt
+0000e200: 610a 2020 2020 2020 2020 2020 2020 2020  a.              
+0000e210: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0000e220: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000e230: 2e66 656d 6d74 5f70 7269 6e74 2822 5265  .femmt_print("Re
+0000e240: 6475 6365 6420 4672 6571 7565 6e63 7920  duced Frequency 
+0000e250: 646f 6573 206e 6f74 2068 6176 6520 6120  does not have a 
+0000e260: 7068 7973 6963 616c 2076 616c 7565 2068  physical value h
+0000e270: 6572 6522 290a 2020 2020 2020 2020 2020  ere").          
+0000e280: 2020 2020 2020 2020 2020 7365 6c66 2e66            self.f
+0000e290: 656d 6d74 5f70 7269 6e74 2873 656c 662e  emmt_print(self.
+0000e2a0: 7769 6e64 696e 6773 5b6e 756d 5d2e 636f  windings[num].co
+0000e2b0: 6e64 7563 746f 725f 7479 7065 290a 2020  nductor_type).  
+0000e2c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e2d0: 2020 7365 6c66 2e72 6564 5f66 7265 715b    self.red_freq[
+0000e2e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000e2f0: 2020 2020 2020 2020 206e 756d 5d20 3d20           num] = 
+0000e300: 3120 2023 2054 4f44 4f3a 2064 6f65 736e  1  # TODO: doesn
+0000e310: 2774 206d 616b 6520 7365 6e73 6520 6c69  't make sense li
+0000e320: 6b65 2074 6869 7320 2d3e 2072 6577 7269  ke this -> rewri
+0000e330: 7465 2066 6f72 6520 636f 6e64 7563 746f  te fore conducto
+0000e340: 7220 7769 6e64 696e 6773 2073 6861 7065  r windings shape
+0000e350: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000e360: 2020 2020 2020 2020 2020 2023 2044 4320             # DC 
+0000e370: 6361 7365 0a20 2020 2020 2020 2020 2020  case.           
+0000e380: 2073 656c 662e 6465 6c74 6120 3d20 3165   self.delta = 1e
+0000e390: 3230 2020 2320 7261 6e64 6f6d 2068 7567  20  # random hug
+0000e3a0: 6520 7661 6c75 650a 2020 2020 2020 2020  e value.        
+0000e3b0: 2020 2020 666f 7220 6e75 6d20 696e 2072      for num in r
+0000e3c0: 616e 6765 286c 656e 2873 656c 662e 7769  ange(len(self.wi
+0000e3d0: 6e64 696e 6773 2929 3a0a 2020 2020 2020  ndings)):.      
+0000e3e0: 2020 2020 2020 2020 2020 7365 6c66 2e72            self.r
+0000e3f0: 6564 5f66 7265 715b 6e75 6d5d 203d 2030  ed_freq[num] = 0
+0000e400: 0a0a 2020 2020 6465 6620 7369 6d75 6c61  ..    def simula
+0000e410: 7465 2873 656c 6629 3a0a 2020 2020 2020  te(self):.      
+0000e420: 2020 2222 2249 6e69 7469 616c 697a 6520    """Initialize 
+0000e430: 7468 6520 6f6e 656c 6162 2063 6c69 656e  the onelab clien
+0000e440: 742e 2050 726f 7669 6465 7320 7468 6520  t. Provides the 
+0000e450: 4765 7444 5020 6261 7365 6420 736f 6c76  GetDP based solv
+0000e460: 6572 2077 6974 6820 7468 6520 6372 6561  er with the crea
+0000e470: 7465 6420 6d65 7368 2066 696c 652e 2222  ted mesh file.""
+0000e480: 220a 2020 2020 2020 2020 7365 6c66 2e66  ".        self.f
+0000e490: 656d 6d74 5f70 7269 6e74 2822 5c6e 2d2d  emmt_print("\n--
+0000e4a0: 2d5c 6e22 0a20 2020 2020 2020 2020 2020  -\n".           
+0000e4b0: 2020 2020 2020 2020 2020 2020 2020 2249                "I
+0000e4c0: 6e69 7469 616c 697a 6520 4f4e 454c 4142  nitialize ONELAB
+0000e4d0: 2041 5049 5c6e 220a 2020 2020 2020 2020   API\n".        
+0000e4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e4f0: 2022 5275 6e20 5369 6d75 6c61 7469 6f6e   "Run Simulation
+0000e500: 5c6e 2229 0a20 2020 2020 2020 2073 656c  \n").        sel
+0000e510: 662e 6c6f 675f 6d61 7465 7269 616c 5f70  f.log_material_p
+0000e520: 726f 7065 7274 6965 7328 290a 0a20 2020  roperties()..   
+0000e530: 2020 2020 2023 202d 2d20 5369 6d75 6c61       # -- Simula
+0000e540: 7469 6f6e 202d 2d0a 2020 2020 2020 2020  tion --.        
+0000e550: 2320 6372 6561 7465 2061 206e 6577 206f  # create a new o
+0000e560: 6e65 6c61 6220 636c 6965 6e74 0a0a 2020  nelab client..  
+0000e570: 2020 2020 2020 2320 496e 6974 6961 6c20        # Initial 
+0000e580: 436c 6561 7269 6e67 206f 6620 676d 7368  Clearing of gmsh
+0000e590: 2064 6174 610a 2020 2020 2020 2020 676d   data.        gm
+0000e5a0: 7368 2e63 6c65 6172 2829 0a0a 2020 2020  sh.clear()..    
+0000e5b0: 2020 2020 2320 6765 7420 6d6f 6465 6c20      # get model 
+0000e5c0: 6669 6c65 206e 616d 6573 2077 6974 6820  file names with 
+0000e5d0: 636f 7272 6563 7420 7061 7468 0a0a 2020  correct path..  
+0000e5e0: 2020 2020 2020 736f 6c76 6572 5f66 7265        solver_fre
+0000e5f0: 7120 3d20 6f73 2e70 6174 682e 6a6f 696e  q = os.path.join
+0000e600: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
+0000e610: 656c 6563 7472 6f5f 6d61 676e 6574 6963  electro_magnetic
+0000e620: 5f66 6f6c 6465 725f 7061 7468 2c20 2269  _folder_path, "i
+0000e630: 6e64 5f61 7869 5f70 7974 686f 6e5f 636f  nd_axi_python_co
+0000e640: 6e74 726f 6c6c 6564 2e70 726f 2229 0a20  ntrolled.pro"). 
+0000e650: 2020 2020 2020 2073 6f6c 7665 725f 7469         solver_ti
+0000e660: 6d65 203d 206f 732e 7061 7468 2e6a 6f69  me = os.path.joi
+0000e670: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
+0000e680: 2e65 6c65 6374 726f 5f6d 6167 6e65 7469  .electro_magneti
+0000e690: 635f 666f 6c64 6572 5f70 6174 682c 2022  c_folder_path, "
+0000e6a0: 696e 645f 6178 695f 7079 7468 6f6e 5f63  ind_axi_python_c
+0000e6b0: 6f6e 7472 6f6c 6c65 645f 7469 6d65 2e70  ontrolled_time.p
+0000e6c0: 726f 2229 0a0a 2020 2020 2020 2020 6f73  ro")..        os
+0000e6d0: 2e63 6864 6972 2873 656c 662e 6669 6c65  .chdir(self.file
+0000e6e0: 5f64 6174 612e 776f 726b 696e 675f 6469  _data.working_di
+0000e6f0: 7265 6374 6f72 7929 0a0a 2020 2020 2020  rectory)..      
+0000e700: 2020 6966 2073 656c 662e 7665 7262 6f73    if self.verbos
+0000e710: 6974 7920 3d3d 2056 6572 626f 7369 7479  ity == Verbosity
+0000e720: 2e53 696c 656e 743a 0a20 2020 2020 2020  .Silent:.       
+0000e730: 2020 2020 2076 6572 626f 7365 203d 2022       verbose = "
+0000e740: 2d76 6572 626f 7365 2031 220a 2020 2020  -verbose 1".    
+0000e750: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000e760: 2020 2020 2020 7665 7262 6f73 6520 3d20        verbose = 
+0000e770: 222d 7665 7262 6f73 6520 3522 0a0a 2020  "-verbose 5"..  
+0000e780: 2020 2020 2020 746f 5f66 696c 655f 7374        to_file_st
+0000e790: 7220 3d20 2222 0a20 2020 2020 2020 2069  r = "".        i
+0000e7a0: 6620 7365 6c66 2e76 6572 626f 7369 7479  f self.verbosity
+0000e7b0: 203d 3d20 5665 7262 6f73 6974 792e 546f   == Verbosity.To
+0000e7c0: 4669 6c65 3a0a 2020 2020 2020 2020 2020  File:.          
+0000e7d0: 2020 746f 5f66 696c 655f 7374 7220 3d20    to_file_str = 
+0000e7e0: 2220 3e20 2220 2b20 7365 6c66 2e66 696c  " > " + self.fil
+0000e7f0: 655f 6461 7461 2e67 6574 6470 5f6c 6f67  e_data.getdp_log
+0000e800: 0a0a 2020 2020 2020 2020 2320 5275 6e20  ..        # Run 
+0000e810: 7369 6d75 6c61 7469 6f6e 7320 6173 2073  simulations as s
+0000e820: 7562 2063 6c69 656e 7473 2028 6e6f 6e2d  ub clients (non-
+0000e830: 626c 6f63 6b69 6e67 3f3f 290a 2020 2020  blocking??).    
+0000e840: 2020 2020 6765 7464 705f 6669 6c65 7061      getdp_filepa
+0000e850: 7468 203d 206f 732e 7061 7468 2e6a 6f69  th = os.path.joi
+0000e860: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
+0000e870: 2e6f 6e65 6c61 625f 666f 6c64 6572 5f70  .onelab_folder_p
+0000e880: 6174 682c 2022 6765 7464 7022 290a 2020  ath, "getdp").  
+0000e890: 2020 2020 2020 6966 2073 656c 662e 7369        if self.si
+0000e8a0: 6d75 6c61 7469 6f6e 5f74 7970 6520 3d3d  mulation_type ==
+0000e8b0: 2053 696d 756c 6174 696f 6e54 7970 652e   SimulationType.
+0000e8c0: 4672 6571 446f 6d61 696e 3a0a 2020 2020  FreqDomain:.    
+0000e8d0: 2020 2020 2020 2020 7365 6c66 2e6f 6e65          self.one
+0000e8e0: 6c61 625f 636c 6965 6e74 2e72 756e 5375  lab_client.runSu
+0000e8f0: 6243 6c69 656e 7428 226d 7947 6574 4450  bClient("myGetDP
+0000e900: 222c 2067 6574 6470 5f66 696c 6570 6174  ", getdp_filepat
+0000e910: 6820 2b20 2220 2220 2b20 736f 6c76 6572  h + " " + solver
+0000e920: 5f66 7265 7120 2b20 2220 2d6d 7368 2022  _freq + " -msh "
+0000e930: 202b 205c 0a20 2020 2020 2020 2020 2020   + \.           
+0000e940: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000e950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e970: 2020 2020 2020 2020 2073 656c 662e 6669           self.fi
-0000e980: 6c65 5f64 6174 612e 655f 6d5f 6d65 7368  le_data.e_m_mesh
-0000e990: 5f66 696c 6520 2b20 2220 2d73 6f6c 7665  _file + " -solve
-0000e9a0: 2041 6e61 6c79 7369 7320 2d76 3220 2220   Analysis -v2 " 
-0000e9b0: 2b20 7665 7262 6f73 6520 2b20 746f 5f66  + verbose + to_f
-0000e9c0: 696c 655f 7374 7229 0a20 2020 2020 2020  ile_str).       
-0000e9d0: 2069 6620 7365 6c66 2e73 696d 756c 6174   if self.simulat
-0000e9e0: 696f 6e5f 7479 7065 203d 3d20 5369 6d75  ion_type == Simu
-0000e9f0: 6c61 7469 6f6e 5479 7065 2e54 696d 6544  lationType.TimeD
-0000ea00: 6f6d 6169 6e3a 0a20 2020 2020 2020 2020  omain:.         
-0000ea10: 2020 2023 2074 6865 2074 776f 2063 6f6d     # the two com
-0000ea20: 6d61 6e64 7320 776f 726b 2062 7574 2073  mands work but s
-0000ea30: 6f6d 6520 6368 616e 6765 7320 7368 6f75  ome changes shou
-0000ea40: 6c64 2062 6520 646f 6e65 2069 6e20 6669  ld be done in fi
-0000ea50: 656c 6473 5f74 696d 652e 7072 6f0a 2020  elds_time.pro.  
-0000ea60: 2020 2020 2020 2020 2020 7365 6c66 2e6f            self.o
-0000ea70: 6e65 6c61 625f 636c 6965 6e74 2e72 756e  nelab_client.run
-0000ea80: 5375 6243 6c69 656e 7428 226d 7947 6574  SubClient("myGet
-0000ea90: 4450 222c 2067 6574 6470 5f66 696c 6570  DP", getdp_filep
-0000eaa0: 6174 6820 2b20 2220 2220 2b20 736f 6c76  ath + " " + solv
-0000eab0: 6572 5f74 696d 6520 2b20 2220 2d6d 7368  er_time + " -msh
-0000eac0: 2022 202b 2073 656c 662e 6669 6c65 5f64   " + self.file_d
-0000ead0: 6174 612e 655f 6d5f 6d65 7368 5f66 696c  ata.e_m_mesh_fil
-0000eae0: 6520 2b20 5c0a 2020 2020 2020 2020 2020  e + \.          
-0000eaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000eb10: 2020 2220 2d73 6f6c 7665 2041 6e61 6c79    " -solve Analy
-0000eb20: 7369 7320 2d70 6f73 204d 6170 5f6c 6f63  sis -pos Map_loc
-0000eb30: 616c 2020 2220 2b20 7665 7262 6f73 6520  al  " + verbose 
-0000eb40: 2b20 746f 5f66 696c 655f 7374 7229 0a20  + to_file_str). 
-0000eb50: 2020 2020 2020 2020 2020 2023 2073 656c             # sel
-0000eb60: 662e 6f6e 656c 6162 5f63 6c69 656e 742e  f.onelab_client.
-0000eb70: 7275 6e53 7562 436c 6965 6e74 2822 6d79  runSubClient("my
-0000eb80: 4765 7444 5022 2c20 6765 7464 705f 6669  GetDP", getdp_fi
-0000eb90: 6c65 7061 7468 202b 2022 2022 202b 2073  lepath + " " + s
-0000eba0: 6f6c 7665 7220 2b20 2220 2d6d 7368 2022  olver + " -msh "
-0000ebb0: 202b 2073 656c 662e 6669 6c65 5f64 6174   + self.file_dat
-0000ebc0: 612e 655f 6d5f 6d65 7368 5f66 696c 6520  a.e_m_mesh_file 
-0000ebd0: 2b0a 2020 2020 2020 2020 2020 2020 2320  +.            # 
-0000ebe0: 2220 2d73 6f6c 7665 2041 6e61 6c79 7369  " -solve Analysi
-0000ebf0: 7320 2d76 3220 2220 2b20 7665 7262 6f73  s -v2 " + verbos
-0000ec00: 6529 2023 2066 7265 6569 6e67 2073 6f6c  e) # freeing sol
-0000ec10: 7574 696f 6e73 0a0a 2020 2020 6465 6620  utions..    def 
-0000ec20: 7772 6974 655f 7369 6d75 6c61 7469 6f6e  write_simulation
-0000ec30: 5f70 6172 616d 6574 6572 735f 746f 5f70  _parameters_to_p
-0000ec40: 726f 5f66 696c 6573 2873 656c 6629 3a0a  ro_files(self):.
-0000ec50: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000ec60: 2020 2020 496e 7465 7261 6374 696f 6e20      Interaction 
-0000ec70: 6265 7477 6565 6e20 7079 7468 6f6e 2061  between python a
-0000ec80: 6e64 2050 726f 6c6f 6720 6669 6c65 732e  nd Prolog files.
-0000ec90: 0a0a 2020 2020 2020 2020 5772 6974 6573  ..        Writes
-0000eca0: 2074 6865 2073 696d 756c 6174 696f 6e20   the simulation 
-0000ecb0: 7061 7261 6d65 7465 7273 2074 6f20 2e70  parameters to .p
-0000ecc0: 726f 2d66 696c 6573 0a0a 2020 2020 2020  ro-files..      
-0000ecd0: 2020 5061 7261 6d65 7465 722e 7072 6f3a    Parameter.pro:
-0000ece0: 2069 6e63 6c75 6465 7320 6d61 7465 7269   includes materi
-0000ecf0: 616c 2070 726f 7065 7274 6965 732c 2063  al properties, c
-0000ed00: 7572 7265 6e74 732c 2070 6861 7365 732c  urrents, phases,
-0000ed10: 202e 2e2e 0a20 2020 2020 2020 2070 6f73   ....        pos
-0000ed20: 7471 7561 6e74 6974 6965 732e 7072 6f3a  tquantities.pro:
-0000ed30: 2069 6e63 6c75 6465 7320 6469 7265 6374   includes direct
-0000ed40: 696f 6e73 2074 6f20 7374 6f72 6520 7468  ions to store th
-0000ed50: 6520 7261 7720 7265 7375 6c74 7320 6672  e raw results fr
-0000ed60: 6f6d 2074 6865 2046 454d 2073 696d 756c  om the FEM simul
-0000ed70: 6174 696f 6e0a 0a20 2020 2020 2020 2022  ation..        "
-0000ed80: 2222 0a20 2020 2020 2020 2023 2041 6c6c  "".        # All
-0000ed90: 2073 6861 7265 6420 636f 6e74 726f 6c20   shared control 
-0000eda0: 7661 7269 6162 6c65 7320 616e 6420 7061  variables and pa
-0000edb0: 7261 6d65 7465 7273 2061 7265 2070 6173  rameters are pas
-0000edc0: 7365 6420 746f 2061 2074 656d 706f 7261  sed to a tempora
-0000edd0: 7279 2050 726f 6c6f 6720 6669 6c65 0a20  ry Prolog file. 
-0000ede0: 2020 2020 2020 2073 656c 662e 6665 6d6d         self.femm
-0000edf0: 745f 7072 696e 7428 225c 6e2d 2d2d 5c6e  t_print("\n---\n
-0000ee00: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0000ee10: 2020 2020 2020 2020 2020 2022 5772 6974             "Writ
-0000ee20: 6520 7369 6d75 6c61 7469 6f6e 2070 6172  e simulation par
-0000ee30: 616d 6574 6572 7320 746f 202e 7072 6f20  ameters to .pro 
-0000ee40: 6669 6c65 7320 2866 696c 6520 636f 6d6d  files (file comm
-0000ee50: 756e 6963 6174 696f 6e29 2e5c 6e22 290a  unication).\n").
-0000ee60: 0a20 2020 2020 2020 2023 2057 7269 7465  .        # Write
-0000ee70: 2069 6e69 7469 616c 697a 6174 696f 6e20   initialization 
-0000ee80: 7061 7261 6d65 7465 7273 2066 6f72 2073  parameters for s
-0000ee90: 696d 756c 6174 696f 6e20 696e 2027 5061  imulation in 'Pa
-0000eea0: 7261 6d65 7465 722e 7072 6f27 2066 696c  rameter.pro' fil
-0000eeb0: 650a 2020 2020 2020 2020 7365 6c66 2e77  e.        self.w
-0000eec0: 7269 7465 5f65 6c65 6374 726f 5f6d 6167  rite_electro_mag
-0000eed0: 6e65 7469 635f 7061 7261 6d65 7465 725f  netic_parameter_
-0000eee0: 7072 6f28 290a 0a20 2020 2020 2020 2023  pro()..        #
-0000eef0: 2057 7269 7465 2070 6f73 7470 726f 6365   Write postproce
-0000ef00: 7373 696e 6720 7061 7261 6d65 7465 7273  ssing parameters
-0000ef10: 2069 6e20 2770 6f73 7471 7561 6e74 6974   in 'postquantit
-0000ef20: 6965 732e 7072 6f27 2066 696c 650a 2020  ies.pro' file.  
-0000ef30: 2020 2020 2020 7365 6c66 2e77 7269 7465        self.write
-0000ef40: 5f65 6c65 6374 726f 5f6d 6167 6e65 7469  _electro_magneti
-0000ef50: 635f 706f 7374 5f70 726f 2829 0a0a 2020  c_post_pro()..  
-0000ef60: 2020 6465 6620 6f76 6572 7772 6974 655f    def overwrite_
-0000ef70: 636f 6e64 7563 746f 7273 5f77 6974 685f  conductors_with_
-0000ef80: 6169 7228 7365 6c66 2c20 7068 7973 6963  air(self, physic
-0000ef90: 616c 5f73 7572 6661 6365 735f 746f 5f6f  al_surfaces_to_o
-0000efa0: 7665 7277 7269 7465 3a20 6c69 7374 293a  verwrite: list):
-0000efb0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0000efc0: 2020 2020 2045 5850 4552 494d 454e 5441       EXPERIMENTA
-0000efd0: 4c2e 0a0a 2020 2020 2020 2020 3a72 6574  L...        :ret
-0000efe0: 7572 6e3a 0a20 2020 2020 2020 2022 2222  urn:.        """
-0000eff0: 0a20 2020 2020 2020 2069 6620 5472 7565  .        if True
-0000f000: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-0000f010: 7468 206f 7065 6e28 6f73 2e70 6174 682e  th open(os.path.
-0000f020: 6a6f 696e 286f 732e 7061 7468 2e6a 6f69  join(os.path.joi
-0000f030: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
-0000f040: 2e65 5f6d 5f6d 6573 685f 6669 6c65 2929  .e_m_mesh_file))
-0000f050: 2c20 2272 2229 2061 7320 6d65 7368 5f66  , "r") as mesh_f
-0000f060: 696c 653a 0a20 2020 2020 2020 2020 2020  ile:.           
-0000f070: 2020 2020 206d 6573 685f 6461 7461 203d       mesh_data =
-0000f080: 206d 6573 685f 6669 6c65 2e72 6561 6428   mesh_file.read(
-0000f090: 290a 0a20 2020 2020 2020 2020 2020 2066  )..            f
-0000f0a0: 6f72 2070 7320 696e 2070 6879 7369 6361  or ps in physica
-0000f0b0: 6c5f 7375 7266 6163 6573 5f74 6f5f 6f76  l_surfaces_to_ov
-0000f0c0: 6572 7772 6974 653a 0a20 2020 2020 2020  erwrite:.       
-0000f0d0: 2020 2020 2020 2020 2023 206d 6573 685f           # mesh_
-0000f0e0: 6461 7461 203d 206d 6573 685f 6461 7461  data = mesh_data
-0000f0f0: 2e72 6570 6c61 6365 2866 2731 207b 7073  .replace(f'1 {ps
-0000f100: 7d20 3427 2c20 6627 3120 7b70 732b 3130  } 4', f'1 {ps+10
-0000f110: 3030 3030 307d 2034 2729 0a20 2020 2020  00000} 4').     
-0000f120: 2020 2020 2020 2020 2020 206d 6573 685f             mesh_
-0000f130: 6461 7461 203d 206d 6573 685f 6461 7461  data = mesh_data
-0000f140: 2e72 6570 6c61 6365 2866 2731 207b 7073  .replace(f'1 {ps
-0000f150: 7d20 3427 2c20 6627 3120 7b70 7320 2b20  } 4', f'1 {ps + 
-0000f160: 3130 3030 3030 307d 2034 2729 0a0a 2020  1000000} 4')..  
-0000f170: 2020 2020 2020 2020 2020 7769 7468 206f            with o
-0000f180: 7065 6e28 6f73 2e70 6174 682e 6a6f 696e  pen(os.path.join
-0000f190: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
-0000f1a0: 6c66 2e66 696c 655f 6461 7461 2e65 5f6d  lf.file_data.e_m
-0000f1b0: 5f6d 6573 685f 6669 6c65 2929 2c20 2277  _mesh_file)), "w
-0000f1c0: 2229 2061 7320 6d65 7368 5f66 696c 653a  ") as mesh_file:
-0000f1d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f1e0: 206d 6573 685f 6669 6c65 2e77 7269 7465   mesh_file.write
-0000f1f0: 286d 6573 685f 6461 7461 290a 0a20 2020  (mesh_data)..   
-0000f200: 2064 6566 206f 7665 7277 7269 7465 5f61   def overwrite_a
-0000f210: 6972 5f63 6f6e 6475 6374 6f72 735f 7769  ir_conductors_wi
-0000f220: 7468 5f63 6f6e 6475 6374 6f72 7328 7365  th_conductors(se
-0000f230: 6c66 2c20 7068 7973 6963 616c 5f73 7572  lf, physical_sur
-0000f240: 6661 6365 735f 746f 5f6f 7665 7277 7269  faces_to_overwri
-0000f250: 7465 3a20 6c69 7374 293a 0a20 2020 2020  te: list):.     
-0000f260: 2020 2022 2222 0a20 2020 2020 2020 204f     """.        O
-0000f270: 7665 7277 7269 7465 2063 6f6e 6475 6374  verwrite conduct
-0000f280: 6f72 7320 6d61 6465 206f 6620 6169 7220  ors made of air 
-0000f290: 7769 7468 2072 6561 6c20 636f 6e64 7563  with real conduc
-0000f2a0: 746f 7273 2e20 4578 7065 7269 6d65 6e74  tors. Experiment
-0000f2b0: 616c 2e20 4461 6e67 6572 2c20 7573 6520  al. Danger, use 
-0000f2c0: 7769 7468 2063 6172 652e 0a0a 2020 2020  with care...    
-0000f2d0: 2020 2020 3a72 6574 7572 6e3a 0a20 2020      :return:.   
-0000f2e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000f2f0: 2069 6620 5472 7565 3a0a 2020 2020 2020   if True:.      
-0000f300: 2020 2020 2020 7769 7468 206f 7065 6e28        with open(
-0000f310: 6f73 2e70 6174 682e 6a6f 696e 286f 732e  os.path.join(os.
-0000f320: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
-0000f330: 696c 655f 6461 7461 2e65 5f6d 5f6d 6573  ile_data.e_m_mes
-0000f340: 685f 6669 6c65 2929 2c20 2272 2229 2061  h_file)), "r") a
-0000f350: 7320 6d65 7368 5f66 696c 653a 0a20 2020  s mesh_file:.   
-0000f360: 2020 2020 2020 2020 2020 2020 206d 6573               mes
-0000f370: 685f 6461 7461 203d 206d 6573 685f 6669  h_data = mesh_fi
-0000f380: 6c65 2e72 6561 6428 290a 0a20 2020 2020  le.read()..     
-0000f390: 2020 2020 2020 2066 6f72 2070 7320 696e         for ps in
-0000f3a0: 2070 6879 7369 6361 6c5f 7375 7266 6163   physical_surfac
-0000f3b0: 6573 5f74 6f5f 6f76 6572 7772 6974 653a  es_to_overwrite:
-0000f3c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000f3d0: 206d 6573 685f 6461 7461 203d 206d 6573   mesh_data = mes
-0000f3e0: 685f 6461 7461 2e72 6570 6c61 6365 2866  h_data.replace(f
-0000f3f0: 2731 207b 7073 7d20 3427 2c20 6627 3120  '1 {ps} 4', f'1 
-0000f400: 7b70 7320 2d20 3130 3030 3030 307d 2034  {ps - 1000000} 4
-0000f410: 2729 0a0a 2020 2020 2020 2020 2020 2020  ')..            
-0000f420: 7769 7468 206f 7065 6e28 6f73 2e70 6174  with open(os.pat
-0000f430: 682e 6a6f 696e 286f 732e 7061 7468 2e6a  h.join(os.path.j
-0000f440: 6f69 6e28 7365 6c66 2e66 696c 655f 6461  oin(self.file_da
-0000f450: 7461 2e65 5f6d 5f6d 6573 685f 6669 6c65  ta.e_m_mesh_file
-0000f460: 2929 2c20 2277 2229 2061 7320 6d65 7368  )), "w") as mesh
-0000f470: 5f66 696c 653a 0a20 2020 2020 2020 2020  _file:.         
-0000f480: 2020 2020 2020 206d 6573 685f 6669 6c65         mesh_file
-0000f490: 2e77 7269 7465 286d 6573 685f 6461 7461  .write(mesh_data
-0000f4a0: 290a 0a20 2020 2064 6566 2073 696e 676c  )..    def singl
-0000f4b0: 655f 7369 6d75 6c61 7469 6f6e 2873 656c  e_simulation(sel
-0000f4c0: 662c 2066 7265 713a 2066 6c6f 6174 2c20  f, freq: float, 
-0000f4d0: 6375 7272 656e 743a 204c 6973 745b 666c  current: List[fl
-0000f4e0: 6f61 745d 2c20 7068 695f 6465 673a 204c  oat], phi_deg: L
-0000f4f0: 6973 745b 666c 6f61 745d 203d 204e 6f6e  ist[float] = Non
-0000f500: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-0000f510: 2020 2020 2020 2020 2020 2020 2070 6c6f               plo
-0000f520: 745f 696e 7465 7270 6f6c 6174 696f 6e3a  t_interpolation:
-0000f530: 2062 6f6f 6c20 3d20 4661 6c73 652c 2073   bool = False, s
-0000f540: 686f 775f 6665 6d5f 7369 6d75 6c61 7469  how_fem_simulati
-0000f550: 6f6e 5f72 6573 756c 7473 3a20 626f 6f6c  on_results: bool
-0000f560: 203d 2054 7275 652c 0a20 2020 2020 2020   = True,.       
-0000f570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000f580: 2020 2062 656e 6368 6d61 726b 3a20 626f     benchmark: bo
-0000f590: 6f6c 203d 2046 616c 7365 293a 0a20 2020  ol = False):.   
-0000f5a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0000f5b0: 2053 7461 7274 2061 205f 7369 6e67 6c65   Start a _single
-0000f5c0: 5f20 656c 6563 7472 6f6d 6167 6e65 7469  _ electromagneti
-0000f5d0: 6320 4f4e 454c 4142 2073 696d 756c 6174  c ONELAB simulat
-0000f5e0: 696f 6e2e 0a0a 2020 2020 2020 2020 3a70  ion...        :p
-0000f5f0: 6172 616d 2070 6c6f 745f 696e 7465 7270  aram plot_interp
-0000f600: 6f6c 6174 696f 6e3a 0a20 2020 2020 2020  olation:.       
-0000f610: 203a 7061 7261 6d20 6672 6571 3a20 6672   :param freq: fr
-0000f620: 6571 7565 6e63 7920 746f 2073 696d 756c  equency to simul
-0000f630: 6174 650a 2020 2020 2020 2020 3a74 7970  ate.        :typ
-0000f640: 6520 6672 6571 3a20 666c 6f61 740a 2020  e freq: float.  
-0000f650: 2020 2020 2020 3a70 6172 616d 2063 7572        :param cur
-0000f660: 7265 6e74 3a20 6375 7272 656e 7420 746f  rent: current to
-0000f670: 2073 696d 756c 6174 650a 2020 2020 2020   simulate.      
-0000f680: 2020 3a70 6172 616d 2070 6869 5f64 6567    :param phi_deg
-0000f690: 3a20 7068 6173 6520 616e 676c 6520 696e  : phase angle in
-0000f6a0: 2064 6567 7265 650a 2020 2020 2020 2020   degree.        
-0000f6b0: 3a74 7970 6520 7068 695f 6465 673a 204c  :type phi_deg: L
-0000f6c0: 6973 745b 666c 6f61 745d 0a20 2020 2020  ist[float].     
-0000f6d0: 2020 203a 7061 7261 6d20 7368 6f77 5f66     :param show_f
-0000f6e0: 656d 5f73 696d 756c 6174 696f 6e5f 7265  em_simulation_re
-0000f6f0: 7375 6c74 733a 2053 6574 2074 6f20 5472  sults: Set to Tr
-0000f700: 7565 2074 6f20 7368 6f77 2074 6865 2073  ue to show the s
-0000f710: 696d 756c 6174 696f 6e20 7265 7375 6c74  imulation result
-0000f720: 7320 6166 7465 7220 7468 6520 7369 6d75  s after the simu
-0000f730: 6c61 7469 6f6e 2068 6173 2066 696e 6973  lation has finis
-0000f740: 6865 640a 2020 2020 2020 2020 3a74 7970  hed.        :typ
-0000f750: 6520 7368 6f77 5f66 656d 5f73 696d 756c  e show_fem_simul
-0000f760: 6174 696f 6e5f 7265 7375 6c74 733a 2062  ation_results: b
-0000f770: 6f6f 6c0a 2020 2020 2020 2020 2222 220a  ool.        """.
-0000f780: 2020 2020 2020 2020 2320 6e65 6761 7469          # negati
-0000f790: 7665 2063 7572 7265 6e74 7320 6172 6520  ve currents are 
-0000f7a0: 6e6f 7420 616c 6c6f 7765 6420 616e 6420  not allowed and 
-0000f7b0: 6c65 6164 2074 6f20 7772 6f6e 6720 7369  lead to wrong si
-0000f7c0: 6d75 6c61 7469 6f6e 2072 6573 756c 7473  mulation results
-0000f7d0: 2e20 4368 6563 6b20 666f 7220 7468 6973  . Check for this
-0000f7e0: 2e0a 2020 2020 2020 2020 2320 7468 6973  ..        # this
-0000f7f0: 206d 6573 7361 6765 2061 7070 6561 7273   message appears
-0000f800: 2062 6566 6f72 6520 6d65 7368 696e 6720   before meshing 
-0000f810: 616e 6420 6265 666f 7265 2073 696d 756c  and before simul
-0000f820: 6174 696f 6e0a 2020 2020 2020 2020 2320  ation.        # 
-0000f830: 7468 6572 6520 6973 2061 6e6f 7468 6572  there is another
-0000f840: 2056 616c 7565 4572 726f 7220 7269 7369   ValueError risi
-0000f850: 6e67 2069 6e73 6964 6520 6578 6369 7461  ng inside excita
-0000f860: 7469 6f6e 2829 2d6d 6574 686f 6420 666f  tion()-method fo
-0000f870: 7220 7361 6665 7479 2028 6275 7420 6166  r safety (but af
-0000f880: 7465 7220 6d65 7368 696e 6729 2e0a 2020  ter meshing)..  
-0000f890: 2020 2020 2020 6966 206e 6f74 2069 7369        if not isi
-0000f8a0: 6e73 7461 6e63 6528 6375 7272 656e 742c  nstance(current,
-0000f8b0: 206c 6973 7429 3a0a 2020 2020 2020 2020   list):.        
-0000f8c0: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
-0000f8d0: 696f 6e28 2254 6865 2063 7572 7265 6e74  ion("The current
-0000f8e0: 206d 7573 7420 6265 2067 6976 656e 2069   must be given i
-0000f8f0: 6e20 6120 6c69 7374 2e22 290a 2020 2020  n a list.").    
-0000f900: 2020 2020 666f 7220 6375 7272 656e 745f      for current_
-0000f910: 7661 6c75 6520 696e 2063 7572 7265 6e74  value in current
-0000f920: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
-0000f930: 2063 7572 7265 6e74 5f76 616c 7565 203c   current_value <
-0000f940: 2030 3a0a 2020 2020 2020 2020 2020 2020   0:.            
-0000f950: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-0000f960: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
-0000f970: 2020 2020 2020 2020 2020 224e 6567 6174            "Negat
-0000f980: 6976 6520 6375 7272 656e 7473 2061 7265  ive currents are
-0000f990: 206e 6f74 2061 6c6c 6f77 6564 2e20 5573   not allowed. Us
-0000f9a0: 6520 7468 6520 7068 6173 6520 2b20 3138  e the phase + 18
-0000f9b0: 3020 6465 6772 6565 2074 6f20 6765 6e65  0 degree to gene
-0000f9c0: 7261 7465 2061 206e 6567 6174 6976 6520  rate a negative 
-0000f9d0: 6375 7272 656e 742e 2229 0a0a 2020 2020  current.")..    
-0000f9e0: 2020 2020 7068 695f 6465 6720 3d20 7068      phi_deg = ph
-0000f9f0: 695f 6465 6720 6f72 205b 5d0a 2020 2020  i_deg or [].    
-0000fa00: 2020 2020 6966 2062 656e 6368 6d61 726b      if benchmark
-0000fa10: 3a0a 2020 2020 2020 2020 2020 2020 7374  :.            st
-0000fa20: 6172 745f 7469 6d65 203d 2074 696d 652e  art_time = time.
-0000fa30: 7469 6d65 2829 0a20 2020 2020 2020 2020  time().         
-0000fa40: 2020 2073 656c 662e 6d65 7368 2e67 656e     self.mesh.gen
-0000fa50: 6572 6174 655f 656c 6563 7472 6f5f 6d61  erate_electro_ma
-0000fa60: 676e 6574 6963 5f6d 6573 6828 290a 2020  gnetic_mesh().  
-0000fa70: 2020 2020 2020 2020 2020 6765 6e65 7261            genera
-0000fa80: 7465 5f65 6c65 6374 726f 5f6d 6167 6e65  te_electro_magne
-0000fa90: 7469 635f 6d65 7368 5f74 696d 6520 3d20  tic_mesh_time = 
-0000faa0: 7469 6d65 2e74 696d 6528 2920 2d20 7374  time.time() - st
-0000fab0: 6172 745f 7469 6d65 0a0a 2020 2020 2020  art_time..      
-0000fac0: 2020 2020 2020 7374 6172 745f 7469 6d65        start_time
-0000fad0: 203d 2074 696d 652e 7469 6d65 2829 0a20   = time.time(). 
-0000fae0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000faf0: 6578 6369 7461 7469 6f6e 2866 7265 7175  excitation(frequ
-0000fb00: 656e 6379 3d66 7265 712c 2061 6d70 6c69  ency=freq, ampli
-0000fb10: 7475 6465 5f6c 6973 743d 6375 7272 656e  tude_list=curren
-0000fb20: 742c 2070 6861 7365 5f64 6567 5f6c 6973  t, phase_deg_lis
-0000fb30: 743d 7068 695f 6465 672c 0a20 2020 2020  t=phi_deg,.     
-0000fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000fb50: 2020 2020 2020 2070 6c6f 745f 696e 7465         plot_inte
-0000fb60: 7270 6f6c 6174 696f 6e3d 706c 6f74 5f69  rpolation=plot_i
-0000fb70: 6e74 6572 706f 6c61 7469 6f6e 2920 2023  nterpolation)  #
-0000fb80: 2066 7265 7175 656e 6379 2061 6e64 2063   frequency and c
-0000fb90: 7572 7265 6e74 0a20 2020 2020 2020 2020  urrent.         
-0000fba0: 2020 2073 656c 662e 6368 6563 6b5f 6372     self.check_cr
-0000fbb0: 6561 7465 5f65 6d70 7479 5f6d 6174 6572  eate_empty_mater
-0000fbc0: 6961 6c5f 6c6f 6728 290a 2020 2020 2020  ial_log().      
-0000fbd0: 2020 2020 2020 7365 6c66 2e63 6865 636b        self.check
-0000fbe0: 5f6d 6f64 656c 5f6d 7173 5f63 6f6e 6469  _model_mqs_condi
-0000fbf0: 7469 6f6e 2829 0a20 2020 2020 2020 2020  tion().         
-0000fc00: 2020 2073 656c 662e 7772 6974 655f 7369     self.write_si
-0000fc10: 6d75 6c61 7469 6f6e 5f70 6172 616d 6574  mulation_paramet
-0000fc20: 6572 735f 746f 5f70 726f 5f66 696c 6573  ers_to_pro_files
-0000fc30: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
-0000fc40: 656c 662e 6765 6e65 7261 7465 5f6c 6f61  elf.generate_loa
-0000fc50: 645f 6c69 747a 5f61 7070 726f 7869 6d61  d_litz_approxima
-0000fc60: 7469 6f6e 5f70 6172 616d 6574 6572 7328  tion_parameters(
-0000fc70: 290a 0a20 2020 2020 2020 2020 2020 2070  )..            p
-0000fc80: 7265 7061 7265 5f73 696d 756c 6174 696f  repare_simulatio
-0000fc90: 6e5f 7469 6d65 203d 2074 696d 652e 7469  n_time = time.ti
-0000fca0: 6d65 2829 202d 2073 7461 7274 5f74 696d  me() - start_tim
-0000fcb0: 650a 0a20 2020 2020 2020 2020 2020 2073  e..            s
-0000fcc0: 7461 7274 5f74 696d 6520 3d20 7469 6d65  tart_time = time
-0000fcd0: 2e74 696d 6528 290a 2020 2020 2020 2020  .time().        
-0000fce0: 2020 2020 7365 6c66 2e73 696d 756c 6174      self.simulat
-0000fcf0: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-0000fd00: 7265 616c 5f73 696d 756c 6174 696f 6e5f  real_simulation_
-0000fd10: 7469 6d65 203d 2074 696d 652e 7469 6d65  time = time.time
-0000fd20: 2829 202d 2073 7461 7274 5f74 696d 650a  () - start_time.
-0000fd30: 0a20 2020 2020 2020 2020 2020 2073 7461  .            sta
-0000fd40: 7274 5f74 696d 6520 3d20 7469 6d65 2e74  rt_time = time.t
-0000fd50: 696d 6528 290a 2020 2020 2020 2020 2020  ime().          
-0000fd60: 2020 7365 6c66 2e63 616c 6375 6c61 7465    self.calculate
-0000fd70: 5f61 6e64 5f77 7269 7465 5f66 7265 715f  _and_write_freq_
-0000fd80: 646f 6d61 696e 5f6c 6f67 2829 2020 2320  domain_log()  # 
-0000fd90: 544f 444f 3a20 7265 7573 6520 6365 6e74  TODO: reuse cent
-0000fda0: 6572 2074 6170 7065 640a 2020 2020 2020  er tapped.      
-0000fdb0: 2020 2020 2020 6c6f 6767 696e 675f 7469        logging_ti
-0000fdc0: 6d65 203d 2074 696d 652e 7469 6d65 2829  me = time.time()
-0000fdd0: 202d 2073 7461 7274 5f74 696d 650a 2020   - start_time.  
-0000fde0: 2020 2020 2020 2020 2020 6966 2073 686f            if sho
-0000fdf0: 775f 6665 6d5f 7369 6d75 6c61 7469 6f6e  w_fem_simulation
-0000fe00: 5f72 6573 756c 7473 3a0a 2020 2020 2020  _results:.      
-0000fe10: 2020 2020 2020 2020 2020 7365 6c66 2e76            self.v
-0000fe20: 6973 7561 6c69 7a65 2829 0a0a 2020 2020  isualize()..    
-0000fe30: 2020 2020 2020 2020 7265 7475 726e 2067          return g
-0000fe40: 656e 6572 6174 655f 656c 6563 7472 6f5f  enerate_electro_
-0000fe50: 6d61 676e 6574 6963 5f6d 6573 685f 7469  magnetic_mesh_ti
-0000fe60: 6d65 2c20 7072 6570 6172 655f 7369 6d75  me, prepare_simu
-0000fe70: 6c61 7469 6f6e 5f74 696d 652c 2072 6561  lation_time, rea
-0000fe80: 6c5f 7369 6d75 6c61 7469 6f6e 5f74 696d  l_simulation_tim
-0000fe90: 652c 206c 6f67 6769 6e67 5f74 696d 650a  e, logging_time.
-0000fea0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000feb0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0000fec0: 6573 682e 6765 6e65 7261 7465 5f65 6c65  esh.generate_ele
-0000fed0: 6374 726f 5f6d 6167 6e65 7469 635f 6d65  ctro_magnetic_me
-0000fee0: 7368 2829 0a20 2020 2020 2020 2020 2020  sh().           
-0000fef0: 2073 656c 662e 6578 6369 7461 7469 6f6e   self.excitation
-0000ff00: 2866 7265 7175 656e 6379 3d66 7265 712c  (frequency=freq,
-0000ff10: 2061 6d70 6c69 7475 6465 5f6c 6973 743d   amplitude_list=
-0000ff20: 6375 7272 656e 742c 2070 6861 7365 5f64  current, phase_d
-0000ff30: 6567 5f6c 6973 743d 7068 695f 6465 672c  eg_list=phi_deg,
-0000ff40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000ff50: 2020 2020 2020 2020 2020 2020 2070 6c6f               plo
-0000ff60: 745f 696e 7465 7270 6f6c 6174 696f 6e3d  t_interpolation=
-0000ff70: 706c 6f74 5f69 6e74 6572 706f 6c61 7469  plot_interpolati
-0000ff80: 6f6e 2920 2023 2066 7265 7175 656e 6379  on)  # frequency
-0000ff90: 2061 6e64 2063 7572 7265 6e74 0a20 2020   and current.   
-0000ffa0: 2020 2020 2020 2020 2073 656c 662e 6368           self.ch
-0000ffb0: 6563 6b5f 6372 6561 7465 5f65 6d70 7479  eck_create_empty
-0000ffc0: 5f6d 6174 6572 6961 6c5f 6c6f 6728 290a  _material_log().
-0000ffd0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000ffe0: 2e63 6865 636b 5f6d 6f64 656c 5f6d 7173  .check_model_mqs
-0000fff0: 5f63 6f6e 6469 7469 6f6e 2829 0a20 2020  _condition().   
-00010000: 2020 2020 2020 2020 2073 656c 662e 7772           self.wr
-00010010: 6974 655f 7369 6d75 6c61 7469 6f6e 5f70  ite_simulation_p
-00010020: 6172 616d 6574 6572 735f 746f 5f70 726f  arameters_to_pro
-00010030: 5f66 696c 6573 2829 0a20 2020 2020 2020  _files().       
-00010040: 2020 2020 2073 656c 662e 6765 6e65 7261       self.genera
-00010050: 7465 5f6c 6f61 645f 6c69 747a 5f61 7070  te_load_litz_app
-00010060: 726f 7869 6d61 7469 6f6e 5f70 6172 616d  roximation_param
-00010070: 6574 6572 7328 290a 2020 2020 2020 2020  eters().        
-00010080: 2020 2020 7365 6c66 2e73 696d 756c 6174      self.simulat
-00010090: 6528 290a 2020 2020 2020 2020 2020 2020  e().            
-000100a0: 7365 6c66 2e63 616c 6375 6c61 7465 5f61  self.calculate_a
-000100b0: 6e64 5f77 7269 7465 5f66 7265 715f 646f  nd_write_freq_do
-000100c0: 6d61 696e 5f6c 6f67 2829 2020 2320 544f  main_log()  # TO
-000100d0: 444f 3a20 7265 7573 6520 6365 6e74 6572  DO: reuse center
-000100e0: 2074 6170 7065 640a 2020 2020 2020 2020   tapped.        
-000100f0: 2020 2020 6966 2073 686f 775f 6665 6d5f      if show_fem_
-00010100: 7369 6d75 6c61 7469 6f6e 5f72 6573 756c  simulation_resul
-00010110: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-00010120: 2020 2020 7365 6c66 2e76 6973 7561 6c69      self.visuali
-00010130: 7a65 2829 0a0a 2020 2020 6465 6620 7469  ze()..    def ti
-00010140: 6d65 5f64 6f6d 6169 6e5f 7369 6d75 6c61  me_domain_simula
-00010150: 7469 6f6e 2873 656c 662c 2063 7572 7265  tion(self, curre
-00010160: 6e74 5f70 6572 696f 645f 7665 633a 204c  nt_period_vec: L
-00010170: 6973 745b 4c69 7374 5b66 6c6f 6174 5d5d  ist[List[float]]
-00010180: 2c20 7469 6d65 5f70 6572 696f 645f 7665  , time_period_ve
-00010190: 633a 204c 6973 745b 666c 6f61 745d 2c0a  c: List[float],.
-000101a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000101b0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-000101c0: 756d 6265 725f 6f66 5f70 6572 696f 6473  umber_of_periods
-000101d0: 3a20 696e 742c 0a20 2020 2020 2020 2020  : int,.         
-000101e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000101f0: 2020 2020 2020 706c 6f74 5f69 6e74 6572        plot_inter
-00010200: 706f 6c61 7469 6f6e 3a20 626f 6f6c 203d  polation: bool =
-00010210: 2046 616c 7365 2c20 7368 6f77 5f66 656d   False, show_fem
-00010220: 5f73 696d 756c 6174 696f 6e5f 7265 7375  _simulation_resu
-00010230: 6c74 733a 2062 6f6f 6c20 3d20 5472 7565  lts: bool = True
-00010240: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00010250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010260: 2073 686f 775f 726f 6c6c 696e 675f 6176   show_rolling_av
-00010270: 6572 6167 653a 2062 6f6f 6c20 3d20 5472  erage: bool = Tr
-00010280: 7565 2c20 726f 6c6c 696e 675f 6176 675f  ue, rolling_avg_
-00010290: 7769 6e64 6f77 5f73 697a 653a 2069 6e74  window_size: int
-000102a0: 203d 2035 2c20 6265 6e63 686d 6172 6b3a   = 5, benchmark:
-000102b0: 2062 6f6f 6c20 3d20 4661 6c73 6529 3a0a   bool = False):.
-000102c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000102d0: 2020 2020 5374 6172 7420 6120 7469 6d65      Start a time
-000102e0: 5f64 6f6d 6169 6e20 2065 6c65 6374 726f  _domain  electro
-000102f0: 6d61 676e 6574 6963 204f 4e45 4c41 4220  magnetic ONELAB 
-00010300: 7369 6d75 6c61 7469 6f6e 2e0a 0a20 2020  simulation...   
-00010310: 2020 2020 203a 7061 7261 6d20 706c 6f74       :param plot
-00010320: 5f69 6e74 6572 706f 6c61 7469 6f6e 3a0a  _interpolation:.
-00010330: 2020 2020 2020 2020 3a70 6172 616d 2066          :param f
-00010340: 7265 713a 2066 7265 7175 656e 6379 2074  req: frequency t
-00010350: 6f20 7369 6d75 6c61 7465 0a20 2020 2020  o simulate.     
-00010360: 2020 203a 7479 7065 2066 7265 713a 2066     :type freq: f
-00010370: 6c6f 6174 0a20 2020 2020 2020 203a 7061  loat.        :pa
-00010380: 7261 6d20 6375 7272 656e 745f 7065 7269  ram current_peri
-00010390: 6f64 5f76 6563 3a20 6375 7272 656e 7420  od_vec: current 
-000103a0: 746f 2073 696d 756c 6174 650a 2020 2020  to simulate.    
-000103b0: 2020 2020 3a70 6172 616d 2074 696d 655f      :param time_
-000103c0: 7065 7269 6f64 5f76 6563 3a20 7469 6d65  period_vec: time
-000103d0: 206c 6973 740a 2020 2020 2020 2020 3a70   list.        :p
-000103e0: 6172 616d 206e 756d 6265 725f 6f66 5f70  aram number_of_p
-000103f0: 6572 696f 6473 3a20 7065 7269 6f64 7320  eriods: periods 
-00010400: 2831 2c20 322c 2033 2c2e 2e2e 290a 2020  (1, 2, 3,...).  
-00010410: 2020 2020 2020 3a70 6172 616d 2070 6869        :param phi
-00010420: 5f64 6567 3a20 7068 6173 6520 616e 676c  _deg: phase angl
-00010430: 6520 696e 2064 6567 7265 650a 2020 2020  e in degree.    
-00010440: 2020 2020 3a74 7970 6520 7068 695f 6465      :type phi_de
-00010450: 673a 204c 6973 745b 666c 6f61 745d 0a20  g: List[float]. 
-00010460: 2020 2020 2020 203a 7061 7261 6d20 7368         :param sh
-00010470: 6f77 5f66 656d 5f73 696d 756c 6174 696f  ow_fem_simulatio
-00010480: 6e5f 7265 7375 6c74 733a 2053 6574 2074  n_results: Set t
-00010490: 6f20 5472 7565 2074 6f20 7368 6f77 2074  o True to show t
-000104a0: 6865 2073 696d 756c 6174 696f 6e20 7265  he simulation re
-000104b0: 7375 6c74 7320 6166 7465 7220 7468 6520  sults after the 
-000104c0: 7369 6d75 6c61 7469 6f6e 2068 6173 2066  simulation has f
-000104d0: 696e 6973 6865 640a 2020 2020 2020 2020  inished.        
-000104e0: 3a74 7970 6520 7368 6f77 5f66 656d 5f73  :type show_fem_s
-000104f0: 696d 756c 6174 696f 6e5f 7265 7375 6c74  imulation_result
-00010500: 733a 2062 6f6f 6c0a 2020 2020 2020 2020  s: bool.        
-00010510: 3a70 6172 616d 2073 686f 775f 726f 6c6c  :param show_roll
-00010520: 696e 675f 6176 6572 6167 653a 2073 6574  ing_average: set
-00010530: 2074 6f20 5472 7565 2074 6f20 7368 6f77   to True to show
-00010540: 2074 6865 2064 796e 616d 6963 2061 7665   the dynamic ave
-00010550: 7261 6765 0a20 2020 2020 2020 203a 7479  rage.        :ty
-00010560: 7065 2073 686f 775f 726f 6c6c 696e 675f  pe show_rolling_
-00010570: 6176 6572 6167 653a 2062 6f6f 6c0a 2020  average: bool.  
-00010580: 2020 2020 2020 3a70 6172 616d 2072 6f6c        :param rol
-00010590: 6c69 6e67 5f61 7667 5f77 696e 646f 775f  ling_avg_window_
-000105a0: 7369 7a65 3a20 686f 7720 6d61 6e79 2064  size: how many d
-000105b0: 6174 6120 706f 696e 7473 2075 7365 6420  ata points used 
-000105c0: 696e 2065 6163 6820 6361 6c63 756c 6174  in each calculat
-000105d0: 696f 6e20 6f66 2074 6865 2061 7665 7261  ion of the avera
-000105e0: 6765 0a20 2020 2020 2020 203a 7061 7261  ge.        :para
-000105f0: 6d20 6265 6e63 686d 6172 6b3a 202e 2e2e  m benchmark: ...
-00010600: 2e0a 2020 2020 2020 2020 3a74 7970 6520  ..        :type 
-00010610: 6265 6e63 686d 6172 6b3a 2062 6f6f 6c0a  benchmark: bool.
-00010620: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010630: 2020 2020 2073 656c 662e 6368 6563 6b5f       self.check_
-00010640: 6372 6561 7465 5f65 6d70 7479 5f6d 6174  create_empty_mat
-00010650: 6572 6961 6c5f 6c6f 6728 290a 0a20 2020  erial_log()..   
-00010660: 2020 2020 2069 6620 6265 6e63 686d 6172       if benchmar
-00010670: 6b3a 0a20 2020 2020 2020 2020 2020 2073  k:.            s
-00010680: 7461 7274 5f74 696d 6520 3d20 7469 6d65  tart_time = time
-00010690: 2e74 696d 6528 290a 2020 2020 2020 2020  .time().        
-000106a0: 2020 2020 7365 6c66 2e6d 6573 682e 6765      self.mesh.ge
-000106b0: 6e65 7261 7465 5f65 6c65 6374 726f 5f6d  nerate_electro_m
-000106c0: 6167 6e65 7469 635f 6d65 7368 2829 0a20  agnetic_mesh(). 
-000106d0: 2020 2020 2020 2020 2020 2067 656e 6572             gener
-000106e0: 6174 655f 656c 6563 7472 6f5f 6d61 676e  ate_electro_magn
-000106f0: 6574 6963 5f6d 6573 685f 7469 6d65 203d  etic_mesh_time =
-00010700: 2074 696d 652e 7469 6d65 2829 202d 2073   time.time() - s
-00010710: 7461 7274 5f74 696d 650a 0a20 2020 2020  tart_time..     
-00010720: 2020 2020 2020 2073 7461 7274 5f74 696d         start_tim
-00010730: 6520 3d20 7469 6d65 2e74 696d 6528 290a  e = time.time().
-00010740: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010750: 2e65 7863 6974 6174 696f 6e5f 7469 6d65  .excitation_time
-00010760: 5f64 6f6d 6169 6e28 6375 7272 656e 745f  _domain(current_
-00010770: 6c69 7374 3d63 7572 7265 6e74 5f70 6572  list=current_per
-00010780: 696f 645f 7665 632c 2074 696d 655f 6c69  iod_vec, time_li
-00010790: 7374 3d74 696d 655f 7065 7269 6f64 5f76  st=time_period_v
-000107a0: 6563 2c0a 2020 2020 2020 2020 2020 2020  ec,.            
-000107b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000107c0: 2020 2020 2020 2020 2020 2020 6e75 6d62              numb
-000107d0: 6572 5f6f 665f 7065 7269 6f64 733d 6e75  er_of_periods=nu
-000107e0: 6d62 6572 5f6f 665f 7065 7269 6f64 732c  mber_of_periods,
-000107f0: 2070 6c6f 745f 696e 7465 7270 6f6c 6174   plot_interpolat
-00010800: 696f 6e3d 706c 6f74 5f69 6e74 6572 706f  ion=plot_interpo
-00010810: 6c61 7469 6f6e 290a 0a20 2020 2020 2020  lation)..       
-00010820: 2020 2020 2073 656c 662e 6368 6563 6b5f       self.check_
-00010830: 6d6f 6465 6c5f 6d71 735f 636f 6e64 6974  model_mqs_condit
-00010840: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
-00010850: 2020 7365 6c66 2e77 7269 7465 5f73 696d    self.write_sim
-00010860: 756c 6174 696f 6e5f 7061 7261 6d65 7465  ulation_paramete
-00010870: 7273 5f74 6f5f 7072 6f5f 6669 6c65 7328  rs_to_pro_files(
-00010880: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00010890: 6c66 2e67 656e 6572 6174 655f 6c6f 6164  lf.generate_load
-000108a0: 5f6c 6974 7a5f 6170 7072 6f78 696d 6174  _litz_approximat
-000108b0: 696f 6e5f 7061 7261 6d65 7465 7273 2829  ion_parameters()
-000108c0: 0a0a 2020 2020 2020 2020 2020 2020 7072  ..            pr
-000108d0: 6570 6172 655f 7369 6d75 6c61 7469 6f6e  epare_simulation
-000108e0: 5f74 696d 6520 3d20 7469 6d65 2e74 696d  _time = time.tim
-000108f0: 6528 2920 2d20 7374 6172 745f 7469 6d65  e() - start_time
-00010900: 0a0a 2020 2020 2020 2020 2020 2020 7374  ..            st
-00010910: 6172 745f 7469 6d65 203d 2074 696d 652e  art_time = time.
-00010920: 7469 6d65 2829 0a20 2020 2020 2020 2020  time().         
-00010930: 2020 2073 656c 662e 7369 6d75 6c61 7465     self.simulate
-00010940: 2829 0a20 2020 2020 2020 2020 2020 2072  ().            r
-00010950: 6561 6c5f 7369 6d75 6c61 7469 6f6e 5f74  eal_simulation_t
-00010960: 696d 6520 3d20 7469 6d65 2e74 696d 6528  ime = time.time(
-00010970: 2920 2d20 7374 6172 745f 7469 6d65 0a0a  ) - start_time..
-00010980: 2020 2020 2020 2020 2020 2020 7374 6172              star
-00010990: 745f 7469 6d65 203d 2074 696d 652e 7469  t_time = time.ti
-000109a0: 6d65 2829 0a20 2020 2020 2020 2020 2020  me().           
-000109b0: 206c 6f67 6769 6e67 5f74 696d 6520 3d20   logging_time = 
-000109c0: 7469 6d65 2e74 696d 6528 2920 2d20 7374  time.time() - st
-000109d0: 6172 745f 7469 6d65 0a20 2020 2020 2020  art_time.       
-000109e0: 2020 2020 2073 656c 662e 6361 6c63 756c       self.calcul
-000109f0: 6174 655f 6176 6572 6167 655f 6669 6c65  ate_average_file
-00010a00: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
-00010a10: 7365 6c66 2e63 616c 6375 6c61 7465 5f61  self.calculate_a
-00010a20: 6e64 5f77 7269 7465 5f74 696d 655f 646f  nd_write_time_do
-00010a30: 6d61 696e 5f6c 6f67 2829 2020 2320 544f  main_log()  # TO
-00010a40: 444f 3a20 7265 7573 6520 6365 6e74 6572  DO: reuse center
-00010a50: 2074 6170 7065 640a 2020 2020 2020 2020   tapped.        
-00010a60: 2020 2020 6966 2073 686f 775f 6665 6d5f      if show_fem_
-00010a70: 7369 6d75 6c61 7469 6f6e 5f72 6573 756c  simulation_resul
-00010a80: 7473 3a0a 2020 2020 2020 2020 2020 2020  ts:.            
-00010a90: 2020 2020 7365 6c66 2e76 6973 7561 6c69      self.visuali
-00010aa0: 7a65 2829 0a20 2020 2020 2020 2020 2020  ze().           
-00010ab0: 2069 6620 7368 6f77 5f72 6f6c 6c69 6e67   if show_rolling
-00010ac0: 5f61 7665 7261 6765 3a0a 2020 2020 2020  _average:.      
-00010ad0: 2020 2020 2020 2020 2020 7365 6c66 2e67            self.g
-00010ae0: 6574 5f72 6f6c 6c69 6e67 5f61 7665 7261  et_rolling_avera
-00010af0: 6765 2877 696e 646f 775f 7369 7a65 3d72  ge(window_size=r
-00010b00: 6f6c 6c69 6e67 5f61 7667 5f77 696e 646f  olling_avg_windo
-00010b10: 775f 7369 7a65 290a 0a20 2020 2020 2020  w_size)..       
-00010b20: 2020 2020 2072 6574 7572 6e20 6765 6e65       return gene
-00010b30: 7261 7465 5f65 6c65 6374 726f 5f6d 6167  rate_electro_mag
-00010b40: 6e65 7469 635f 6d65 7368 5f74 696d 652c  netic_mesh_time,
-00010b50: 2070 7265 7061 7265 5f73 696d 756c 6174   prepare_simulat
-00010b60: 696f 6e5f 7469 6d65 2c20 7265 616c 5f73  ion_time, real_s
-00010b70: 696d 756c 6174 696f 6e5f 7469 6d65 2c20  imulation_time, 
-00010b80: 6c6f 6767 696e 675f 7469 6d65 0a20 2020  logging_time.   
-00010b90: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-00010ba0: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
-00010bb0: 2e67 656e 6572 6174 655f 656c 6563 7472  .generate_electr
-00010bc0: 6f5f 6d61 676e 6574 6963 5f6d 6573 6828  o_magnetic_mesh(
-00010bd0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00010be0: 6c66 2e65 7863 6974 6174 696f 6e5f 7469  lf.excitation_ti
-00010bf0: 6d65 5f64 6f6d 6169 6e28 6375 7272 656e  me_domain(curren
-00010c00: 745f 6c69 7374 3d63 7572 7265 6e74 5f70  t_list=current_p
-00010c10: 6572 696f 645f 7665 632c 2074 696d 655f  eriod_vec, time_
-00010c20: 6c69 7374 3d74 696d 655f 7065 7269 6f64  list=time_period
-00010c30: 5f76 6563 2c0a 2020 2020 2020 2020 2020  _vec,.          
-00010c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010c50: 2020 2020 2020 2020 2020 2020 2020 6e75                nu
-00010c60: 6d62 6572 5f6f 665f 7065 7269 6f64 733d  mber_of_periods=
-00010c70: 6e75 6d62 6572 5f6f 665f 7065 7269 6f64  number_of_period
-00010c80: 732c 2070 6c6f 745f 696e 7465 7270 6f6c  s, plot_interpol
-00010c90: 6174 696f 6e3d 706c 6f74 5f69 6e74 6572  ation=plot_inter
-00010ca0: 706f 6c61 7469 6f6e 290a 2020 2020 2020  polation).      
-00010cb0: 2020 2020 2020 7365 6c66 2e63 6865 636b        self.check
-00010cc0: 5f6d 6f64 656c 5f6d 7173 5f63 6f6e 6469  _model_mqs_condi
-00010cd0: 7469 6f6e 2829 0a20 2020 2020 2020 2020  tion().         
-00010ce0: 2020 2073 656c 662e 7772 6974 655f 7369     self.write_si
-00010cf0: 6d75 6c61 7469 6f6e 5f70 6172 616d 6574  mulation_paramet
-00010d00: 6572 735f 746f 5f70 726f 5f66 696c 6573  ers_to_pro_files
-00010d10: 2829 0a20 2020 2020 2020 2020 2020 2073  ().            s
-00010d20: 656c 662e 6765 6e65 7261 7465 5f6c 6f61  elf.generate_loa
-00010d30: 645f 6c69 747a 5f61 7070 726f 7869 6d61  d_litz_approxima
-00010d40: 7469 6f6e 5f70 6172 616d 6574 6572 7328  tion_parameters(
-00010d50: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00010d60: 6c66 2e73 696d 756c 6174 6528 290a 2020  lf.simulate().  
-00010d70: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
-00010d80: 616c 6375 6c61 7465 5f61 7665 7261 6765  alculate_average
-00010d90: 5f66 696c 6573 2829 0a20 2020 2020 2020  _files().       
-00010da0: 2020 2020 2073 656c 662e 6361 6c63 756c       self.calcul
-00010db0: 6174 655f 616e 645f 7772 6974 655f 7469  ate_and_write_ti
-00010dc0: 6d65 5f64 6f6d 6169 6e5f 6c6f 6728 2920  me_domain_log() 
-00010dd0: 2023 2054 4f44 4f3a 2072 6575 7365 2063   # TODO: reuse c
-00010de0: 656e 7465 7220 7461 7070 6564 0a0a 2020  enter tapped..  
-00010df0: 2020 2020 2020 2020 2020 6966 2073 686f            if sho
-00010e00: 775f 6665 6d5f 7369 6d75 6c61 7469 6f6e  w_fem_simulation
-00010e10: 5f72 6573 756c 7473 3a0a 2020 2020 2020  _results:.      
-00010e20: 2020 2020 2020 2020 2020 7365 6c66 2e76            self.v
-00010e30: 6973 7561 6c69 7a65 2829 0a20 2020 2020  isualize().     
-00010e40: 2020 2020 2020 2069 6620 7368 6f77 5f72         if show_r
-00010e50: 6f6c 6c69 6e67 5f61 7665 7261 6765 3a0a  olling_average:.
-00010e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010e70: 7365 6c66 2e67 6574 5f72 6f6c 6c69 6e67  self.get_rolling
-00010e80: 5f61 7665 7261 6765 2877 696e 646f 775f  _average(window_
-00010e90: 7369 7a65 3d72 6f6c 6c69 6e67 5f61 7667  size=rolling_avg
-00010ea0: 5f77 696e 646f 775f 7369 7a65 290a 0a20  _window_size).. 
-00010eb0: 2020 2064 6566 2065 7863 6974 6174 696f     def excitatio
-00010ec0: 6e5f 7377 6565 7028 7365 6c66 2c20 6672  n_sweep(self, fr
-00010ed0: 6571 7565 6e63 795f 6c69 7374 3a20 4c69  equency_list: Li
-00010ee0: 7374 2c20 6375 7272 656e 745f 6c69 7374  st, current_list
-00010ef0: 5f6c 6973 743a 204c 6973 742c 2070 6869  _list: List, phi
-00010f00: 5f64 6567 5f6c 6973 745f 6c69 7374 3a20  _deg_list_list: 
-00010f10: 4c69 7374 2c0a 2020 2020 2020 2020 2020  List,.          
-00010f20: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00010f30: 686f 775f 6c61 7374 5f66 656d 5f73 696d  how_last_fem_sim
-00010f40: 756c 6174 696f 6e3a 2062 6f6f 6c20 3d20  ulation: bool = 
-00010f50: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
-00010f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00010f70: 6578 6369 7461 7469 6f6e 5f6d 6573 6869  excitation_meshi
-00010f80: 6e67 5f74 7970 653a 2045 7863 6974 6174  ng_type: Excitat
-00010f90: 696f 6e4d 6573 6869 6e67 5479 7065 203d  ionMeshingType =
-00010fa0: 204e 6f6e 652c 2073 6b69 6e5f 6d65 7368   None, skin_mesh
-00010fb0: 5f66 6163 746f 723a 2066 6c6f 6174 203d  _factor: float =
-00010fc0: 2030 2e35 2c0a 2020 2020 2020 2020 2020   0.5,.          
-00010fd0: 2020 2020 2020 2020 2020 2020 2020 2076                 v
-00010fe0: 6973 7561 6c69 7a65 5f62 6566 6f72 653a  isualize_before:
-00010ff0: 2062 6f6f 6c20 3d20 4661 6c73 652c 2073   bool = False, s
-00011000: 6176 655f 706e 673a 2062 6f6f 6c20 3d20  ave_png: bool = 
-00011010: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
-00011020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011030: 636f 6c6f 725f 7363 6865 6d65 3a20 4469  color_scheme: Di
-00011040: 6374 203d 2066 662e 636f 6c6f 7273 5f66  ct = ff.colors_f
-00011050: 656d 6d74 5f64 6566 6175 6c74 2c0a 2020  emmt_default,.  
-00011060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011070: 2020 2020 2020 2063 6f6c 6f72 735f 6765         colors_ge
-00011080: 6f6d 6574 7279 3a20 4469 6374 203d 2066  ometry: Dict = f
-00011090: 662e 636f 6c6f 7273 5f67 656f 6d65 7472  f.colors_geometr
-000110a0: 795f 6665 6d6d 745f 6465 6661 756c 742c  y_femmt_default,
-000110b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000110c0: 2020 2020 2020 2020 2020 696e 6475 6374            induct
-000110d0: 616e 6365 5f64 6963 743a 2044 6963 7420  ance_dict: Dict 
-000110e0: 3d20 4e6f 6e65 2c20 636f 7265 5f68 7973  = None, core_hys
-000110f0: 745f 6c6f 7373 3a20 4c69 7374 5b66 6c6f  t_loss: List[flo
-00011100: 6174 5d20 7c20 6e70 2e6e 6461 7272 6179  at] | np.ndarray
-00011110: 203d 204e 6f6e 6529 202d 3e20 4e6f 6e65   = None) -> None
-00011120: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00011130: 2020 2020 2020 5065 7266 6f72 6d20 6120        Perform a 
-00011140: 7377 6565 7020 7369 6d75 6c61 7469 6f6e  sweep simulation
-00011150: 2066 6f72 2066 7265 7175 656e 6379 2d63   for frequency-c
-00011160: 7572 7265 6e74 2070 6169 7273 2e0a 0a20  urrent pairs... 
-00011170: 2020 2020 2020 2042 6f74 6820 7661 6c75         Both valu
-00011180: 6573 2063 616e 2062 6520 7061 7373 6564  es can be passed
-00011190: 2069 6e20 6c69 7374 7320 6f66 2074 6865   in lists of the
-000111a0: 2073 616d 6520 6c65 6e67 7468 2e20 5468   same length. Th
-000111b0: 6520 6d65 7368 2069 7320 6f6e 6c79 2063  e mesh is only c
-000111c0: 7265 6174 6564 206f 6e65 7320 2866 6173  reated ones (fas
-000111d0: 7420 7377 6565 7029 210a 0a20 2020 2020  t sweep)!..     
-000111e0: 2020 203a 4578 616d 706c 6520 436f 6465     :Example Code
-000111f0: 2066 6f72 2049 6e64 7563 746f 723a 0a0a   for Inductor:..
-00011200: 2020 2020 2020 2020 3e3e 3e20 696d 706f          >>> impo
-00011210: 7274 2066 656d 6d74 2061 7320 666d 740a  rt femmt as fmt.
-00011220: 2020 2020 2020 2020 3e3e 3e20 6673 5f6c          >>> fs_l
-00011230: 6973 7420 3d20 5b30 2c20 3130 3030 302c  ist = [0, 10000,
-00011240: 2033 3030 3030 2c20 3630 3030 302c 2031   30000, 60000, 1
-00011250: 3030 3030 302c 2031 3530 3030 305d 0a20  00000, 150000]. 
-00011260: 2020 2020 2020 203e 3e3e 2061 6d70 6c69         >>> ampli
-00011270: 7475 6465 5f6c 6973 745f 6c69 7374 203d  tude_list_list =
-00011280: 205b 5b31 305d 2c20 5b32 5d2c 205b 315d   [[10], [2], [1]
-00011290: 2c20 5b30 2e35 5d2c 205b 302e 325d 2c20  , [0.5], [0.2], 
-000112a0: 5b30 2e31 5d5d 0a20 2020 2020 2020 203e  [0.1]].        >
-000112b0: 3e3e 2070 6861 7365 5f6c 6973 745f 6c69  >> phase_list_li
-000112c0: 7374 203d 205b 5b30 5d2c 205b 3130 5d2c  st = [[0], [10],
-000112d0: 205b 3230 5d2c 205b 3330 5d2c 205b 3430   [20], [30], [40
-000112e0: 5d2c 205b 3530 5d5d 0a20 2020 2020 2020  ], [50]].       
-000112f0: 203e 3e3e 2067 656f 2e65 7863 6974 6174   >>> geo.excitat
-00011300: 696f 6e5f 7377 6565 7028 6672 6571 7565  ion_sweep(freque
-00011310: 6e63 795f 6c69 7374 3d66 735f 6c69 7374  ncy_list=fs_list
-00011320: 2c20 6375 7272 656e 745f 6c69 7374 5f6c  , current_list_l
-00011330: 6973 743d 616d 706c 6974 7564 655f 6c69  ist=amplitude_li
-00011340: 7374 5f6c 6973 742c 0a20 2020 2020 2020  st_list,.       
-00011350: 203e 3e3e 2020 2020 2070 6869 5f64 6567   >>>     phi_deg
-00011360: 5f6c 6973 745f 6c69 7374 3d70 6861 7365  _list_list=phase
-00011370: 5f6c 6973 745f 6c69 7374 290a 0a20 2020  _list_list)..   
-00011380: 2020 2020 203a 4578 616d 706c 6520 436f       :Example Co
-00011390: 6465 2066 6f72 2054 7261 6e73 666f 726d  de for Transform
-000113a0: 6572 2077 6974 6820 3220 7769 6e64 696e  er with 2 windin
-000113b0: 6773 3a0a 0a20 2020 2020 2020 203e 3e3e  gs:..        >>>
-000113c0: 2069 6d70 6f72 7420 6665 6d6d 7420 6173   import femmt as
-000113d0: 2066 6d74 0a20 2020 2020 2020 203e 3e3e   fmt.        >>>
-000113e0: 2066 735f 6c69 7374 203d 205b 302c 2031   fs_list = [0, 1
-000113f0: 3030 3030 2c20 3330 3030 302c 2036 3030  0000, 30000, 600
-00011400: 3030 2c20 3130 3030 3030 2c20 3135 3030  00, 100000, 1500
-00011410: 3030 5d0a 2020 2020 2020 2020 3e3e 3e20  00].        >>> 
-00011420: 616d 706c 6974 7564 655f 6c69 7374 5f6c  amplitude_list_l
-00011430: 6973 7420 3d20 5b5b 3130 2c20 325d 2c20  ist = [[10, 2], 
-00011440: 5b32 2c20 315d 2c20 5b31 2c20 302e 355d  [2, 1], [1, 0.5]
-00011450: 2c20 5b30 2e35 2c20 302e 3235 5d2c 205b  , [0.5, 0.25], [
-00011460: 302e 322c 2030 2e31 5d2c 205b 302e 312c  0.2, 0.1], [0.1,
-00011470: 2030 2e30 355d 5d0a 2020 2020 2020 2020   0.05]].        
-00011480: 3e3e 3e20 7068 6173 655f 6c69 7374 5f6c  >>> phase_list_l
-00011490: 6973 7420 3d20 5b5b 302c 2031 3730 5d2c  ist = [[0, 170],
-000114a0: 205b 3130 2c20 3138 305d 2c20 5b32 302c   [10, 180], [20,
-000114b0: 2031 3930 5d2c 205b 3330 2c20 3230 305d   190], [30, 200]
-000114c0: 2c20 5b34 302c 2032 3130 5d2c 205b 3530  , [40, 210], [50
-000114d0: 2c20 3232 305d 5d0a 2020 2020 2020 2020  , 220]].        
-000114e0: 3e3e 3e20 6765 6f2e 6578 6369 7461 7469  >>> geo.excitati
-000114f0: 6f6e 5f73 7765 6570 2866 7265 7175 656e  on_sweep(frequen
-00011500: 6379 5f6c 6973 743d 6673 5f6c 6973 742c  cy_list=fs_list,
-00011510: 2063 7572 7265 6e74 5f6c 6973 745f 6c69   current_list_li
-00011520: 7374 3d61 6d70 6c69 7475 6465 5f6c 6973  st=amplitude_lis
-00011530: 745f 6c69 7374 2c0a 2020 2020 2020 2020  t_list,.        
-00011540: 3e3e 3e20 2020 2020 7068 695f 6465 675f  >>>     phi_deg_
-00011550: 6c69 7374 5f6c 6973 743d 7068 6173 655f  list_list=phase_
-00011560: 6c69 7374 5f6c 6973 7429 0a0a 2020 2020  list_list)..    
-00011570: 2020 2020 3a70 6172 616d 2066 7265 7175      :param frequ
-00011580: 656e 6379 5f6c 6973 743a 2046 7265 7175  ency_list: Frequ
-00011590: 656e 6379 2069 6e20 6120 6c69 7374 0a20  ency in a list. 
-000115a0: 2020 2020 2020 203a 7479 7065 2066 7265         :type fre
-000115b0: 7175 656e 6379 5f6c 6973 743a 204c 6973  quency_list: Lis
-000115c0: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
-000115d0: 2063 7572 7265 6e74 5f6c 6973 745f 6c69   current_list_li
-000115e0: 7374 3a20 6375 7272 656e 7420 616d 706c  st: current ampl
-000115f0: 6974 7564 652c 206d 7573 7420 6265 2061  itude, must be a
-00011600: 206c 6973 7420 696e 2061 206c 6973 742c   list in a list,
-00011610: 2073 6565 2065 7861 6d70 6c65 210a 2020   see example!.  
-00011620: 2020 2020 2020 3a74 7970 6520 6375 7272        :type curr
-00011630: 656e 745f 6c69 7374 5f6c 6973 743a 204c  ent_list_list: L
-00011640: 6973 740a 2020 2020 2020 2020 3a70 6172  ist.        :par
-00011650: 616d 2070 6869 5f64 6567 5f6c 6973 745f  am phi_deg_list_
-00011660: 6c69 7374 3a20 7068 6173 6520 696e 2064  list: phase in d
-00011670: 6567 7265 652c 206d 7573 7420 6265 2061  egree, must be a
-00011680: 206c 6973 7420 696e 2061 206c 6973 742c   list in a list,
-00011690: 2073 6565 2065 7861 6d70 6c65 210a 2020   see example!.  
-000116a0: 2020 2020 2020 3a74 7970 6520 7068 695f        :type phi_
-000116b0: 6465 675f 6c69 7374 5f6c 6973 743a 204c  deg_list_list: L
-000116c0: 6973 740a 2020 2020 2020 2020 3a70 6172  ist.        :par
-000116d0: 616d 2073 686f 775f 6c61 7374 5f66 656d  am show_last_fem
-000116e0: 5f73 696d 756c 6174 696f 6e3a 2073 686f  _simulation: sho
-000116f0: 7773 206c 6173 7420 7369 6d75 6c61 7469  ws last simulati
-00011700: 6f6e 2069 6e20 676d 7368 2069 6620 7365  on in gmsh if se
-00011710: 7420 746f 2054 7275 650a 2020 2020 2020  t to True.      
-00011720: 2020 3a74 7970 6520 7368 6f77 5f6c 6173    :type show_las
-00011730: 745f 6665 6d5f 7369 6d75 6c61 7469 6f6e  t_fem_simulation
-00011740: 3a20 626f 6f6c 0a20 2020 2020 2020 203a  : bool.        :
-00011750: 7061 7261 6d20 7669 7375 616c 697a 655f  param visualize_
-00011760: 6265 666f 7265 3a20 7368 6f77 2067 656e  before: show gen
-00011770: 6172 6174 6564 206d 6573 6820 6265 666f  arated mesh befo
-00011780: 7265 2074 6865 2073 696d 756c 6174 696f  re the simulatio
-00011790: 6e20 6973 2072 756e 0a20 2020 2020 2020  n is run.       
-000117a0: 203a 7479 7065 2076 6973 7561 6c69 7a65   :type visualize
-000117b0: 5f62 6566 6f72 653a 2062 6f6f 6c0a 2020  _before: bool.  
-000117c0: 2020 2020 2020 3a70 6172 616d 2063 6f6c        :param col
-000117d0: 6f72 5f73 6368 656d 653a 2063 6f6c 6f72  or_scheme: color
-000117e0: 6669 6c65 2028 6465 6669 6e69 7469 6f6e  file (definition
-000117f0: 2066 6f72 2072 6564 2c20 6772 6565 6e2c   for red, green,
-00011800: 2062 6c75 652c 202e 2e2e 290a 2020 2020   blue, ...).    
-00011810: 2020 2020 3a74 7970 6520 636f 6c6f 725f      :type color_
-00011820: 7363 6865 6d65 3a20 4469 6374 0a20 2020  scheme: Dict.   
-00011830: 2020 2020 203a 7061 7261 6d20 636f 6c6f       :param colo
-00011840: 7273 5f67 656f 6d65 7472 793a 2064 6566  rs_geometry: def
-00011850: 696e 6974 696f 6e20 666f 7220 652e 672e  inition for e.g.
-00011860: 2063 6f72 6520 6973 2067 7265 792c 2077   core is grey, w
-00011870: 696e 6469 6e67 2069 7320 6f72 616e 6765  inding is orange
-00011880: 2c20 2e2e 2e0a 2020 2020 2020 2020 3a74  , ....        :t
-00011890: 7970 6520 636f 6c6f 7273 5f67 656f 6d65  ype colors_geome
-000118a0: 7472 793a 2044 6963 740a 2020 2020 2020  try: Dict.      
-000118b0: 2020 3a70 6172 616d 2073 6176 655f 706e    :param save_pn
-000118c0: 673a 2054 7275 6520 746f 2073 6176 6520  g: True to save 
-000118d0: 6120 2e70 6e67 0a20 2020 2020 2020 203a  a .png.        :
-000118e0: 7479 7065 2073 6176 655f 706e 673a 2062  type save_png: b
-000118f0: 6f6f 6c0a 2020 2020 2020 2020 3a70 6172  ool.        :par
-00011900: 616d 2069 6e64 7563 7461 6e63 655f 6469  am inductance_di
-00011910: 6374 3a20 7265 7375 6c74 2064 6963 7469  ct: result dicti
-00011920: 6f6e 6172 7920 6672 6f6d 2067 6574 5f69  onary from get_i
-00011930: 6e64 7563 7461 6e63 6573 2829 2d66 756e  nductances()-fun
-00011940: 6374 696f 6e0a 2020 2020 2020 2020 3a74  ction.        :t
-00011950: 7970 6520 696e 6475 6374 616e 6365 5f64  ype inductance_d
-00011960: 6963 743a 2044 6963 740a 2020 2020 2020  ict: Dict.      
-00011970: 2020 3a70 6172 616d 2063 6f72 655f 6879    :param core_hy
-00011980: 7374 5f6c 6f73 733a 204c 6973 7420 7769  st_loss: List wi
-00011990: 7468 2068 7973 7465 7265 7369 7320 6c69  th hysteresis li
-000119a0: 7374 2e20 4966 2067 6976 656e 2c20 7468  st. If given, th
-000119b0: 6520 6879 7374 6572 6573 6973 206c 6f73  e hysteresis los
-000119c0: 7365 7320 696e 2074 6869 7320 6675 6e63  ses in this func
-000119d0: 7469 6f6e 2062 650a 2020 2020 2020 2020  tion be.        
-000119e0: 2020 2020 6f76 6572 7772 6974 7465 6e20      overwritten 
-000119f0: 696e 2074 6865 2072 6573 756c 7420 6c6f  in the result lo
-00011a00: 672e 0a20 2020 2020 2020 203a 7479 7065  g..        :type
-00011a10: 2063 6f72 655f 6879 7374 5f6c 6f73 733a   core_hyst_loss:
-00011a20: 204c 6973 740a 2020 2020 2020 2020 2222   List.        ""
-00011a30: 220a 2020 2020 2020 2020 2320 6e65 6761  ".        # nega
-00011a40: 7469 7665 2063 7572 7265 6e74 7320 6172  tive currents ar
-00011a50: 6520 6e6f 7420 616c 6c6f 7765 6420 616e  e not allowed an
-00011a60: 6420 6c65 6164 2074 6f20 7772 6f6e 6720  d lead to wrong 
-00011a70: 7369 6d75 6c61 7469 6f6e 2072 6573 756c  simulation resul
-00011a80: 7473 2e20 4368 6563 6b20 666f 7220 7468  ts. Check for th
-00011a90: 6973 2e0a 2020 2020 2020 2020 2320 7468  is..        # th
-00011aa0: 6973 206d 6573 7361 6765 2061 7070 6561  is message appea
-00011ab0: 7273 2062 6566 6f72 6520 6d65 7368 696e  rs before meshin
-00011ac0: 6720 616e 6420 6265 666f 7265 2073 696d  g and before sim
-00011ad0: 756c 6174 696f 6e0a 2020 2020 2020 2020  ulation.        
-00011ae0: 2320 7468 6572 6520 6973 2061 6e6f 7468  # there is anoth
-00011af0: 6572 2056 616c 7565 4572 726f 7220 7269  er ValueError ri
-00011b00: 7369 6e67 2069 6e73 6964 6520 6578 6369  sing inside exci
-00011b10: 7461 7469 6f6e 2829 2d6d 6574 686f 6420  tation()-method 
-00011b20: 666f 7220 7361 6665 7479 2028 6275 7420  for safety (but 
-00011b30: 6166 7465 7220 6d65 7368 696e 6729 2e0a  after meshing)..
-00011b40: 2020 2020 2020 2020 666f 7220 6375 7272          for curr
-00011b50: 656e 745f 6c69 7374 2069 6e20 6375 7272  ent_list in curr
-00011b60: 656e 745f 6c69 7374 5f6c 6973 743a 0a20  ent_list_list:. 
-00011b70: 2020 2020 2020 2020 2020 2066 6f72 2063             for c
-00011b80: 7572 7265 6e74 2069 6e20 6375 7272 656e  urrent in curren
-00011b90: 745f 6c69 7374 3a0a 2020 2020 2020 2020  t_list:.        
-00011ba0: 2020 2020 2020 2020 6966 2063 7572 7265          if curre
-00011bb0: 6e74 203c 2030 3a0a 2020 2020 2020 2020  nt < 0:.        
-00011bc0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
-00011bd0: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
-00011be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011bf0: 2020 2020 2020 224e 6567 6174 6976 6520        "Negative 
-00011c00: 6375 7272 656e 7473 2061 7265 206e 6f74  currents are not
-00011c10: 2061 6c6c 6f77 6564 2e20 5573 6520 7468   allowed. Use th
-00011c20: 6520 7068 6173 6520 2b20 3138 3020 6465  e phase + 180 de
-00011c30: 6772 6565 2074 6f20 6765 6e65 7261 7465  gree to generate
-00011c40: 2061 206e 6567 6174 6976 6520 6375 7272   a negative curr
-00011c50: 656e 742e 2229 0a0a 2020 2020 2020 2020  ent.")..        
-00011c60: 2320 6672 6571 7565 6e63 6965 7320 3d20  # frequencies = 
-00011c70: 6672 6571 7565 6e63 6965 7320 6f72 205b  frequencies or [
-00011c80: 5d0a 2020 2020 2020 2020 2320 6375 7272  ].        # curr
-00011c90: 656e 7473 203d 2063 7572 7265 6e74 7320  ents = currents 
-00011ca0: 6f72 205b 5d0a 2020 2020 2020 2020 2320  or [].        # 
-00011cb0: 7068 6920 3d20 7068 6920 6f72 205b 5d0a  phi = phi or [].
-00011cc0: 2020 2020 2020 2020 6966 2073 686f 775f          if show_
-00011cd0: 6c61 7374 5f66 656d 5f73 696d 756c 6174  last_fem_simulat
-00011ce0: 696f 6e3a 0a20 2020 2020 2020 2020 2020  ion:.           
-00011cf0: 2073 656c 662e 706c 6f74 5f66 6965 6c64   self.plot_field
-00011d00: 7320 3d20 2273 7461 6e64 6172 6422 0a20  s = "standard". 
-00011d10: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-00011d20: 2020 2020 2020 2020 2073 656c 662e 706c           self.pl
-00011d30: 6f74 5f66 6965 6c64 7320 3d20 4661 6c73  ot_fields = Fals
-00011d40: 650a 0a20 2020 2020 2020 2073 656c 662e  e..        self.
-00011d50: 6368 6563 6b5f 6372 6561 7465 5f65 6d70  check_create_emp
-00011d60: 7479 5f6d 6174 6572 6961 6c5f 6c6f 6728  ty_material_log(
-00011d70: 290a 0a20 2020 2020 2020 2023 2049 6620  )..        # If 
-00011d80: 6f6e 6520 636f 6e64 7563 746f 7220 6973  one conductor is
-00011d90: 2073 6f6c 6964 2061 6e64 206e 6f20 6d65   solid and no me
-00011da0: 7368 696e 6720 7479 7065 2069 7320 6769  shing type is gi
-00011db0: 7665 6e20 7468 656e 2063 6861 6e67 6520  ven then change 
-00011dc0: 7468 6520 6d65 7368 696e 6720 7479 7065  the meshing type
-00011dd0: 2074 6f20 4d65 7368 4561 6368 4672 6571   to MeshEachFreq
-00011de0: 7565 6e63 790a 2020 2020 2020 2020 2320  uency.        # 
-00011df0: 496e 2063 6173 6520 6f66 206c 6974 7a20  In case of litz 
-00011e00: 7769 7265 2c20 6f6e 6c79 2074 6865 206c  wire, only the l
-00011e10: 6f77 6573 7420 6672 6571 7565 6e63 7920  owest frequency 
-00011e20: 6973 206d 6573 6865 6420 2866 7265 7175  is meshed (frequ
-00011e30: 656e 6379 2069 6e64 6563 656e 7420 6475  ency indecent du
-00011e40: 6520 746f 206c 6974 7a2d 6170 7072 6f78  e to litz-approx
-00011e50: 696d 6174 696f 6e29 0a20 2020 2020 2020  imation).       
-00011e60: 2069 6620 6578 6369 7461 7469 6f6e 5f6d   if excitation_m
-00011e70: 6573 6869 6e67 5f74 7970 6520 6973 204e  eshing_type is N
-00011e80: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-00011e90: 2066 6f72 2077 696e 6469 6e67 2069 6e20   for winding in 
-00011ea0: 7365 6c66 2e77 696e 6469 6e67 733a 0a20  self.windings:. 
-00011eb0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00011ec0: 6620 7769 6e64 696e 672e 636f 6e64 7563  f winding.conduc
-00011ed0: 746f 725f 7479 7065 203d 3d20 436f 6e64  tor_type == Cond
-00011ee0: 7563 746f 7254 7970 652e 526f 756e 6453  uctorType.RoundS
-00011ef0: 6f6c 6964 3a0a 2020 2020 2020 2020 2020  olid:.          
-00011f00: 2020 2020 2020 2020 2020 6578 6369 7461            excita
-00011f10: 7469 6f6e 5f6d 6573 6869 6e67 5f74 7970  tion_meshing_typ
-00011f20: 6520 3d20 4578 6369 7461 7469 6f6e 4d65  e = ExcitationMe
-00011f30: 7368 696e 6754 7970 652e 4d65 7368 4561  shingType.MeshEa
-00011f40: 6368 4672 6571 7565 6e63 790a 2020 2020  chFrequency.    
-00011f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f60: 6272 6561 6b0a 2020 2020 2020 2020 2020  break.          
-00011f70: 2020 2020 2020 6966 2077 696e 6469 6e67        if winding
-00011f80: 2e63 6f6e 6475 6374 6f72 5f74 7970 6520  .conductor_type 
-00011f90: 3d3d 2043 6f6e 6475 6374 6f72 5479 7065  == ConductorType
-00011fa0: 2e52 6f75 6e64 4c69 747a 3a0a 2020 2020  .RoundLitz:.    
-00011fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011fc0: 6578 6369 7461 7469 6f6e 5f6d 6573 6869  excitation_meshi
-00011fd0: 6e67 5f74 7970 6520 3d20 4578 6369 7461  ng_type = Excita
-00011fe0: 7469 6f6e 4d65 7368 696e 6754 7970 652e  tionMeshingType.
-00011ff0: 4d65 7368 4f6e 6c79 4c6f 7765 7374 4672  MeshOnlyLowestFr
-00012000: 6571 7565 6e63 790a 0a20 2020 2020 2020  equency..       
-00012010: 2069 6620 6578 6369 7461 7469 6f6e 5f6d   if excitation_m
-00012020: 6573 6869 6e67 5f74 7970 6520 3d3d 2045  eshing_type == E
-00012030: 7863 6974 6174 696f 6e4d 6573 6869 6e67  xcitationMeshing
-00012040: 5479 7065 2e4d 6573 6845 6163 6846 7265  Type.MeshEachFre
-00012050: 7175 656e 6379 3a0a 2020 2020 2020 2020  quency:.        
-00012060: 2020 2020 666f 7220 636f 756e 745f 6672      for count_fr
-00012070: 6571 7565 6e63 792c 205f 2069 6e20 656e  equency, _ in en
-00012080: 756d 6572 6174 6528 6672 6571 7565 6e63  umerate(frequenc
-00012090: 795f 6c69 7374 293a 0a20 2020 2020 2020  y_list):.       
-000120a0: 2020 2020 2020 2020 2073 656c 662e 6869           self.hi
-000120b0: 6768 5f6c 6576 656c 5f67 656f 5f67 656e  gh_level_geo_gen
-000120c0: 2866 7265 7175 656e 6379 3d66 7265 7175  (frequency=frequ
-000120d0: 656e 6379 5f6c 6973 745b 636f 756e 745f  ency_list[count_
-000120e0: 6672 6571 7565 6e63 795d 2c20 736b 696e  frequency], skin
-000120f0: 5f6d 6573 685f 6661 6374 6f72 3d73 6b69  _mesh_factor=ski
-00012100: 6e5f 6d65 7368 5f66 6163 746f 7229 0a20  n_mesh_factor). 
-00012110: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00012120: 656c 662e 6d65 7368 2e67 656e 6572 6174  elf.mesh.generat
-00012130: 655f 6879 6272 6964 5f6d 6573 6828 636f  e_hybrid_mesh(co
-00012140: 6c6f 725f 7363 6865 6d65 2c20 636f 6c6f  lor_scheme, colo
-00012150: 7273 5f67 656f 6d65 7472 792c 2076 6973  rs_geometry, vis
-00012160: 7561 6c69 7a65 5f62 6566 6f72 653d 7669  ualize_before=vi
-00012170: 7375 616c 697a 655f 6265 666f 7265 2c0a  sualize_before,.
+0000e960: 2073 656c 662e 6669 6c65 5f64 6174 612e   self.file_data.
+0000e970: 655f 6d5f 6d65 7368 5f66 696c 6520 2b20  e_m_mesh_file + 
+0000e980: 2220 2d73 6f6c 7665 2041 6e61 6c79 7369  " -solve Analysi
+0000e990: 7320 2d76 3220 2220 2b20 7665 7262 6f73  s -v2 " + verbos
+0000e9a0: 6520 2b20 746f 5f66 696c 655f 7374 7229  e + to_file_str)
+0000e9b0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0000e9c0: 2e73 696d 756c 6174 696f 6e5f 7479 7065  .simulation_type
+0000e9d0: 203d 3d20 5369 6d75 6c61 7469 6f6e 5479   == SimulationTy
+0000e9e0: 7065 2e54 696d 6544 6f6d 6169 6e3a 0a20  pe.TimeDomain:. 
+0000e9f0: 2020 2020 2020 2020 2020 2023 2074 6865             # the
+0000ea00: 2074 776f 2063 6f6d 6d61 6e64 7320 776f   two commands wo
+0000ea10: 726b 2062 7574 2073 6f6d 6520 6368 616e  rk but some chan
+0000ea20: 6765 7320 7368 6f75 6c64 2062 6520 646f  ges should be do
+0000ea30: 6e65 2069 6e20 6669 656c 6473 5f74 696d  ne in fields_tim
+0000ea40: 652e 7072 6f0a 2020 2020 2020 2020 2020  e.pro.          
+0000ea50: 2020 7365 6c66 2e6f 6e65 6c61 625f 636c    self.onelab_cl
+0000ea60: 6965 6e74 2e72 756e 5375 6243 6c69 656e  ient.runSubClien
+0000ea70: 7428 226d 7947 6574 4450 222c 2067 6574  t("myGetDP", get
+0000ea80: 6470 5f66 696c 6570 6174 6820 2b20 2220  dp_filepath + " 
+0000ea90: 2220 2b20 736f 6c76 6572 5f74 696d 6520  " + solver_time 
+0000eaa0: 2b20 2220 2d6d 7368 2022 202b 2073 656c  + " -msh " + sel
+0000eab0: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
+0000eac0: 6d65 7368 5f66 696c 6520 2b20 5c0a 2020  mesh_file + \.  
+0000ead0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eaf0: 2020 2020 2020 2020 2020 2220 2d73 6f6c            " -sol
+0000eb00: 7665 2041 6e61 6c79 7369 7320 2d70 6f73  ve Analysis -pos
+0000eb10: 204d 6170 5f6c 6f63 616c 2020 2220 2b20   Map_local  " + 
+0000eb20: 7665 7262 6f73 6520 2b20 746f 5f66 696c  verbose + to_fil
+0000eb30: 655f 7374 7229 0a20 2020 2020 2020 2020  e_str).         
+0000eb40: 2020 2023 2073 656c 662e 6f6e 656c 6162     # self.onelab
+0000eb50: 5f63 6c69 656e 742e 7275 6e53 7562 436c  _client.runSubCl
+0000eb60: 6965 6e74 2822 6d79 4765 7444 5022 2c20  ient("myGetDP", 
+0000eb70: 6765 7464 705f 6669 6c65 7061 7468 202b  getdp_filepath +
+0000eb80: 2022 2022 202b 2073 6f6c 7665 7220 2b20   " " + solver + 
+0000eb90: 2220 2d6d 7368 2022 202b 2073 656c 662e  " -msh " + self.
+0000eba0: 6669 6c65 5f64 6174 612e 655f 6d5f 6d65  file_data.e_m_me
+0000ebb0: 7368 5f66 696c 6520 2b0a 2020 2020 2020  sh_file +.      
+0000ebc0: 2020 2020 2020 2320 2220 2d73 6f6c 7665        # " -solve
+0000ebd0: 2041 6e61 6c79 7369 7320 2d76 3220 2220   Analysis -v2 " 
+0000ebe0: 2b20 7665 7262 6f73 6529 2023 2066 7265  + verbose) # fre
+0000ebf0: 6569 6e67 2073 6f6c 7574 696f 6e73 0a0a  eing solutions..
+0000ec00: 2020 2020 6465 6620 7772 6974 655f 7369      def write_si
+0000ec10: 6d75 6c61 7469 6f6e 5f70 6172 616d 6574  mulation_paramet
+0000ec20: 6572 735f 746f 5f70 726f 5f66 696c 6573  ers_to_pro_files
+0000ec30: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000ec40: 2222 220a 2020 2020 2020 2020 496e 7465  """.        Inte
+0000ec50: 7261 6374 696f 6e20 6265 7477 6565 6e20  raction between 
+0000ec60: 7079 7468 6f6e 2061 6e64 2050 726f 6c6f  python and Prolo
+0000ec70: 6720 6669 6c65 732e 0a0a 2020 2020 2020  g files...      
+0000ec80: 2020 5772 6974 6573 2074 6865 2073 696d    Writes the sim
+0000ec90: 756c 6174 696f 6e20 7061 7261 6d65 7465  ulation paramete
+0000eca0: 7273 2074 6f20 2e70 726f 2d66 696c 6573  rs to .pro-files
+0000ecb0: 0a0a 2020 2020 2020 2020 5061 7261 6d65  ..        Parame
+0000ecc0: 7465 722e 7072 6f3a 2069 6e63 6c75 6465  ter.pro: include
+0000ecd0: 7320 6d61 7465 7269 616c 2070 726f 7065  s material prope
+0000ece0: 7274 6965 732c 2063 7572 7265 6e74 732c  rties, currents,
+0000ecf0: 2070 6861 7365 732c 202e 2e2e 0a20 2020   phases, ....   
+0000ed00: 2020 2020 2070 6f73 7471 7561 6e74 6974       postquantit
+0000ed10: 6965 732e 7072 6f3a 2069 6e63 6c75 6465  ies.pro: include
+0000ed20: 7320 6469 7265 6374 696f 6e73 2074 6f20  s directions to 
+0000ed30: 7374 6f72 6520 7468 6520 7261 7720 7265  store the raw re
+0000ed40: 7375 6c74 7320 6672 6f6d 2074 6865 2046  sults from the F
+0000ed50: 454d 2073 696d 756c 6174 696f 6e0a 0a20  EM simulation.. 
+0000ed60: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0000ed70: 2020 2023 2041 6c6c 2073 6861 7265 6420     # All shared 
+0000ed80: 636f 6e74 726f 6c20 7661 7269 6162 6c65  control variable
+0000ed90: 7320 616e 6420 7061 7261 6d65 7465 7273  s and parameters
+0000eda0: 2061 7265 2070 6173 7365 6420 746f 2061   are passed to a
+0000edb0: 2074 656d 706f 7261 7279 2050 726f 6c6f   temporary Prolo
+0000edc0: 6720 6669 6c65 0a20 2020 2020 2020 2073  g file.        s
+0000edd0: 656c 662e 6665 6d6d 745f 7072 696e 7428  elf.femmt_print(
+0000ede0: 225c 6e2d 2d2d 5c6e 220a 2020 2020 2020  "\n---\n".      
+0000edf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ee00: 2020 2022 5772 6974 6520 7369 6d75 6c61     "Write simula
+0000ee10: 7469 6f6e 2070 6172 616d 6574 6572 7320  tion parameters 
+0000ee20: 746f 202e 7072 6f20 6669 6c65 7320 2866  to .pro files (f
+0000ee30: 696c 6520 636f 6d6d 756e 6963 6174 696f  ile communicatio
+0000ee40: 6e29 2e5c 6e22 290a 0a20 2020 2020 2020  n).\n")..       
+0000ee50: 2023 2057 7269 7465 2069 6e69 7469 616c   # Write initial
+0000ee60: 697a 6174 696f 6e20 7061 7261 6d65 7465  ization paramete
+0000ee70: 7273 2066 6f72 2073 696d 756c 6174 696f  rs for simulatio
+0000ee80: 6e20 696e 2027 5061 7261 6d65 7465 722e  n in 'Parameter.
+0000ee90: 7072 6f27 2066 696c 650a 2020 2020 2020  pro' file.      
+0000eea0: 2020 7365 6c66 2e77 7269 7465 5f65 6c65    self.write_ele
+0000eeb0: 6374 726f 5f6d 6167 6e65 7469 635f 7061  ctro_magnetic_pa
+0000eec0: 7261 6d65 7465 725f 7072 6f28 290a 0a20  rameter_pro().. 
+0000eed0: 2020 2020 2020 2023 2057 7269 7465 2070         # Write p
+0000eee0: 6f73 7470 726f 6365 7373 696e 6720 7061  ostprocessing pa
+0000eef0: 7261 6d65 7465 7273 2069 6e20 2770 6f73  rameters in 'pos
+0000ef00: 7471 7561 6e74 6974 6965 732e 7072 6f27  tquantities.pro'
+0000ef10: 2066 696c 650a 2020 2020 2020 2020 7365   file.        se
+0000ef20: 6c66 2e77 7269 7465 5f65 6c65 6374 726f  lf.write_electro
+0000ef30: 5f6d 6167 6e65 7469 635f 706f 7374 5f70  _magnetic_post_p
+0000ef40: 726f 2829 0a0a 2020 2020 6465 6620 6f76  ro()..    def ov
+0000ef50: 6572 7772 6974 655f 636f 6e64 7563 746f  erwrite_conducto
+0000ef60: 7273 5f77 6974 685f 6169 7228 7365 6c66  rs_with_air(self
+0000ef70: 2c20 7068 7973 6963 616c 5f73 7572 6661  , physical_surfa
+0000ef80: 6365 735f 746f 5f6f 7665 7277 7269 7465  ces_to_overwrite
+0000ef90: 3a20 6c69 7374 293a 0a20 2020 2020 2020  : list):.       
+0000efa0: 2022 2222 0a20 2020 2020 2020 2045 5850   """.        EXP
+0000efb0: 4552 494d 454e 5441 4c2e 0a0a 2020 2020  ERIMENTAL...    
+0000efc0: 2020 2020 3a72 6574 7572 6e3a 0a20 2020      :return:.   
+0000efd0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000efe0: 2069 6620 5472 7565 3a0a 2020 2020 2020   if True:.      
+0000eff0: 2020 2020 2020 7769 7468 206f 7065 6e28        with open(
+0000f000: 6f73 2e70 6174 682e 6a6f 696e 286f 732e  os.path.join(os.
+0000f010: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
+0000f020: 696c 655f 6461 7461 2e65 5f6d 5f6d 6573  ile_data.e_m_mes
+0000f030: 685f 6669 6c65 2929 2c20 2272 2229 2061  h_file)), "r") a
+0000f040: 7320 6d65 7368 5f66 696c 653a 0a20 2020  s mesh_file:.   
+0000f050: 2020 2020 2020 2020 2020 2020 206d 6573               mes
+0000f060: 685f 6461 7461 203d 206d 6573 685f 6669  h_data = mesh_fi
+0000f070: 6c65 2e72 6561 6428 290a 0a20 2020 2020  le.read()..     
+0000f080: 2020 2020 2020 2066 6f72 2070 7320 696e         for ps in
+0000f090: 2070 6879 7369 6361 6c5f 7375 7266 6163   physical_surfac
+0000f0a0: 6573 5f74 6f5f 6f76 6572 7772 6974 653a  es_to_overwrite:
+0000f0b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f0c0: 2023 206d 6573 685f 6461 7461 203d 206d   # mesh_data = m
+0000f0d0: 6573 685f 6461 7461 2e72 6570 6c61 6365  esh_data.replace
+0000f0e0: 2866 2731 207b 7073 7d20 3427 2c20 6627  (f'1 {ps} 4', f'
+0000f0f0: 3120 7b70 732b 3130 3030 3030 307d 2034  1 {ps+1000000} 4
+0000f100: 2729 0a20 2020 2020 2020 2020 2020 2020  ').             
+0000f110: 2020 206d 6573 685f 6461 7461 203d 206d     mesh_data = m
+0000f120: 6573 685f 6461 7461 2e72 6570 6c61 6365  esh_data.replace
+0000f130: 2866 2731 207b 7073 7d20 3427 2c20 6627  (f'1 {ps} 4', f'
+0000f140: 3120 7b70 7320 2b20 3130 3030 3030 307d  1 {ps + 1000000}
+0000f150: 2034 2729 0a0a 2020 2020 2020 2020 2020   4')..          
+0000f160: 2020 7769 7468 206f 7065 6e28 6f73 2e70    with open(os.p
+0000f170: 6174 682e 6a6f 696e 286f 732e 7061 7468  ath.join(os.path
+0000f180: 2e6a 6f69 6e28 7365 6c66 2e66 696c 655f  .join(self.file_
+0000f190: 6461 7461 2e65 5f6d 5f6d 6573 685f 6669  data.e_m_mesh_fi
+0000f1a0: 6c65 2929 2c20 2277 2229 2061 7320 6d65  le)), "w") as me
+0000f1b0: 7368 5f66 696c 653a 0a20 2020 2020 2020  sh_file:.       
+0000f1c0: 2020 2020 2020 2020 206d 6573 685f 6669           mesh_fi
+0000f1d0: 6c65 2e77 7269 7465 286d 6573 685f 6461  le.write(mesh_da
+0000f1e0: 7461 290a 0a20 2020 2064 6566 206f 7665  ta)..    def ove
+0000f1f0: 7277 7269 7465 5f61 6972 5f63 6f6e 6475  rwrite_air_condu
+0000f200: 6374 6f72 735f 7769 7468 5f63 6f6e 6475  ctors_with_condu
+0000f210: 6374 6f72 7328 7365 6c66 2c20 7068 7973  ctors(self, phys
+0000f220: 6963 616c 5f73 7572 6661 6365 735f 746f  ical_surfaces_to
+0000f230: 5f6f 7665 7277 7269 7465 3a20 6c69 7374  _overwrite: list
+0000f240: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0000f250: 2020 2020 2020 204f 7665 7277 7269 7465         Overwrite
+0000f260: 2063 6f6e 6475 6374 6f72 7320 6d61 6465   conductors made
+0000f270: 206f 6620 6169 7220 7769 7468 2072 6561   of air with rea
+0000f280: 6c20 636f 6e64 7563 746f 7273 2e20 4578  l conductors. Ex
+0000f290: 7065 7269 6d65 6e74 616c 2e20 4461 6e67  perimental. Dang
+0000f2a0: 6572 2c20 7573 6520 7769 7468 2063 6172  er, use with car
+0000f2b0: 652e 0a0a 2020 2020 2020 2020 3a72 6574  e...        :ret
+0000f2c0: 7572 6e3a 0a20 2020 2020 2020 2022 2222  urn:.        """
+0000f2d0: 0a20 2020 2020 2020 2069 6620 5472 7565  .        if True
+0000f2e0: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
+0000f2f0: 7468 206f 7065 6e28 6f73 2e70 6174 682e  th open(os.path.
+0000f300: 6a6f 696e 286f 732e 7061 7468 2e6a 6f69  join(os.path.joi
+0000f310: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
+0000f320: 2e65 5f6d 5f6d 6573 685f 6669 6c65 2929  .e_m_mesh_file))
+0000f330: 2c20 2272 2229 2061 7320 6d65 7368 5f66  , "r") as mesh_f
+0000f340: 696c 653a 0a20 2020 2020 2020 2020 2020  ile:.           
+0000f350: 2020 2020 206d 6573 685f 6461 7461 203d       mesh_data =
+0000f360: 206d 6573 685f 6669 6c65 2e72 6561 6428   mesh_file.read(
+0000f370: 290a 0a20 2020 2020 2020 2020 2020 2066  )..            f
+0000f380: 6f72 2070 7320 696e 2070 6879 7369 6361  or ps in physica
+0000f390: 6c5f 7375 7266 6163 6573 5f74 6f5f 6f76  l_surfaces_to_ov
+0000f3a0: 6572 7772 6974 653a 0a20 2020 2020 2020  erwrite:.       
+0000f3b0: 2020 2020 2020 2020 206d 6573 685f 6461           mesh_da
+0000f3c0: 7461 203d 206d 6573 685f 6461 7461 2e72  ta = mesh_data.r
+0000f3d0: 6570 6c61 6365 2866 2731 207b 7073 7d20  eplace(f'1 {ps} 
+0000f3e0: 3427 2c20 6627 3120 7b70 7320 2d20 3130  4', f'1 {ps - 10
+0000f3f0: 3030 3030 307d 2034 2729 0a0a 2020 2020  00000} 4')..    
+0000f400: 2020 2020 2020 2020 7769 7468 206f 7065          with ope
+0000f410: 6e28 6f73 2e70 6174 682e 6a6f 696e 286f  n(os.path.join(o
+0000f420: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
+0000f430: 2e66 696c 655f 6461 7461 2e65 5f6d 5f6d  .file_data.e_m_m
+0000f440: 6573 685f 6669 6c65 2929 2c20 2277 2229  esh_file)), "w")
+0000f450: 2061 7320 6d65 7368 5f66 696c 653a 0a20   as mesh_file:. 
+0000f460: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0000f470: 6573 685f 6669 6c65 2e77 7269 7465 286d  esh_file.write(m
+0000f480: 6573 685f 6461 7461 290a 0a20 2020 2064  esh_data)..    d
+0000f490: 6566 2073 696e 676c 655f 7369 6d75 6c61  ef single_simula
+0000f4a0: 7469 6f6e 2873 656c 662c 2066 7265 713a  tion(self, freq:
+0000f4b0: 2066 6c6f 6174 2c20 6375 7272 656e 743a   float, current:
+0000f4c0: 204c 6973 745b 666c 6f61 745d 2c20 7068   List[float], ph
+0000f4d0: 695f 6465 673a 204c 6973 745b 666c 6f61  i_deg: List[floa
+0000f4e0: 745d 203d 204e 6f6e 652c 0a20 2020 2020  t] = None,.     
+0000f4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f500: 2020 2020 2070 6c6f 745f 696e 7465 7270       plot_interp
+0000f510: 6f6c 6174 696f 6e3a 2062 6f6f 6c20 3d20  olation: bool = 
+0000f520: 4661 6c73 652c 2073 686f 775f 6665 6d5f  False, show_fem_
+0000f530: 7369 6d75 6c61 7469 6f6e 5f72 6573 756c  simulation_resul
+0000f540: 7473 3a20 626f 6f6c 203d 2054 7275 652c  ts: bool = True,
+0000f550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000f560: 2020 2020 2020 2020 2020 2062 656e 6368             bench
+0000f570: 6d61 726b 3a20 626f 6f6c 203d 2046 616c  mark: bool = Fal
+0000f580: 7365 293a 0a20 2020 2020 2020 2022 2222  se):.        """
+0000f590: 0a20 2020 2020 2020 2053 7461 7274 2061  .        Start a
+0000f5a0: 205f 7369 6e67 6c65 5f20 656c 6563 7472   _single_ electr
+0000f5b0: 6f6d 6167 6e65 7469 6320 4f4e 454c 4142  omagnetic ONELAB
+0000f5c0: 2073 696d 756c 6174 696f 6e2e 0a0a 2020   simulation...  
+0000f5d0: 2020 2020 2020 3a70 6172 616d 2070 6c6f        :param plo
+0000f5e0: 745f 696e 7465 7270 6f6c 6174 696f 6e3a  t_interpolation:
+0000f5f0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0000f600: 6672 6571 3a20 6672 6571 7565 6e63 7920  freq: frequency 
+0000f610: 746f 2073 696d 756c 6174 650a 2020 2020  to simulate.    
+0000f620: 2020 2020 3a74 7970 6520 6672 6571 3a20      :type freq: 
+0000f630: 666c 6f61 740a 2020 2020 2020 2020 3a70  float.        :p
+0000f640: 6172 616d 2063 7572 7265 6e74 3a20 6375  aram current: cu
+0000f650: 7272 656e 7420 746f 2073 696d 756c 6174  rrent to simulat
+0000f660: 650a 2020 2020 2020 2020 3a70 6172 616d  e.        :param
+0000f670: 2070 6869 5f64 6567 3a20 7068 6173 6520   phi_deg: phase 
+0000f680: 616e 676c 6520 696e 2064 6567 7265 650a  angle in degree.
+0000f690: 2020 2020 2020 2020 3a74 7970 6520 7068          :type ph
+0000f6a0: 695f 6465 673a 204c 6973 745b 666c 6f61  i_deg: List[floa
+0000f6b0: 745d 0a20 2020 2020 2020 203a 7061 7261  t].        :para
+0000f6c0: 6d20 7368 6f77 5f66 656d 5f73 696d 756c  m show_fem_simul
+0000f6d0: 6174 696f 6e5f 7265 7375 6c74 733a 2053  ation_results: S
+0000f6e0: 6574 2074 6f20 5472 7565 2074 6f20 7368  et to True to sh
+0000f6f0: 6f77 2074 6865 2073 696d 756c 6174 696f  ow the simulatio
+0000f700: 6e20 7265 7375 6c74 7320 6166 7465 7220  n results after 
+0000f710: 7468 6520 7369 6d75 6c61 7469 6f6e 2068  the simulation h
+0000f720: 6173 2066 696e 6973 6865 640a 2020 2020  as finished.    
+0000f730: 2020 2020 3a74 7970 6520 7368 6f77 5f66      :type show_f
+0000f740: 656d 5f73 696d 756c 6174 696f 6e5f 7265  em_simulation_re
+0000f750: 7375 6c74 733a 2062 6f6f 6c0a 2020 2020  sults: bool.    
+0000f760: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000f770: 2320 6e65 6761 7469 7665 2063 7572 7265  # negative curre
+0000f780: 6e74 7320 6172 6520 6e6f 7420 616c 6c6f  nts are not allo
+0000f790: 7765 6420 616e 6420 6c65 6164 2074 6f20  wed and lead to 
+0000f7a0: 7772 6f6e 6720 7369 6d75 6c61 7469 6f6e  wrong simulation
+0000f7b0: 2072 6573 756c 7473 2e20 4368 6563 6b20   results. Check 
+0000f7c0: 666f 7220 7468 6973 2e0a 2020 2020 2020  for this..      
+0000f7d0: 2020 2320 7468 6973 206d 6573 7361 6765    # this message
+0000f7e0: 2061 7070 6561 7273 2062 6566 6f72 6520   appears before 
+0000f7f0: 6d65 7368 696e 6720 616e 6420 6265 666f  meshing and befo
+0000f800: 7265 2073 696d 756c 6174 696f 6e0a 2020  re simulation.  
+0000f810: 2020 2020 2020 2320 7468 6572 6520 6973        # there is
+0000f820: 2061 6e6f 7468 6572 2056 616c 7565 4572   another ValueEr
+0000f830: 726f 7220 7269 7369 6e67 2069 6e73 6964  ror rising insid
+0000f840: 6520 6578 6369 7461 7469 6f6e 2829 2d6d  e excitation()-m
+0000f850: 6574 686f 6420 666f 7220 7361 6665 7479  ethod for safety
+0000f860: 2028 6275 7420 6166 7465 7220 6d65 7368   (but after mesh
+0000f870: 696e 6729 2e0a 2020 2020 2020 2020 6966  ing)..        if
+0000f880: 206e 6f74 2069 7369 6e73 7461 6e63 6528   not isinstance(
+0000f890: 6375 7272 656e 742c 206c 6973 7429 3a0a  current, list):.
+0000f8a0: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000f8b0: 6520 4578 6365 7074 696f 6e28 2254 6865  e Exception("The
+0000f8c0: 2063 7572 7265 6e74 206d 7573 7420 6265   current must be
+0000f8d0: 2067 6976 656e 2069 6e20 6120 6c69 7374   given in a list
+0000f8e0: 2e22 290a 2020 2020 2020 2020 666f 7220  .").        for 
+0000f8f0: 6375 7272 656e 745f 7661 6c75 6520 696e  current_value in
+0000f900: 2063 7572 7265 6e74 3a0a 2020 2020 2020   current:.      
+0000f910: 2020 2020 2020 6966 2063 7572 7265 6e74        if current
+0000f920: 5f76 616c 7565 203c 2030 3a0a 2020 2020  _value < 0:.    
+0000f930: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0000f940: 6520 5661 6c75 6545 7272 6f72 280a 2020  e ValueError(.  
+0000f950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f960: 2020 224e 6567 6174 6976 6520 6375 7272    "Negative curr
+0000f970: 656e 7473 2061 7265 206e 6f74 2061 6c6c  ents are not all
+0000f980: 6f77 6564 2e20 5573 6520 7468 6520 7068  owed. Use the ph
+0000f990: 6173 6520 2b20 3138 3020 6465 6772 6565  ase + 180 degree
+0000f9a0: 2074 6f20 6765 6e65 7261 7465 2061 206e   to generate a n
+0000f9b0: 6567 6174 6976 6520 6375 7272 656e 742e  egative current.
+0000f9c0: 2229 0a0a 2020 2020 2020 2020 7068 695f  ")..        phi_
+0000f9d0: 6465 6720 3d20 7068 695f 6465 6720 6f72  deg = phi_deg or
+0000f9e0: 205b 5d0a 2020 2020 2020 2020 6966 2062   [].        if b
+0000f9f0: 656e 6368 6d61 726b 3a0a 2020 2020 2020  enchmark:.      
+0000fa00: 2020 2020 2020 7374 6172 745f 7469 6d65        start_time
+0000fa10: 203d 2074 696d 652e 7469 6d65 2829 0a20   = time.time(). 
+0000fa20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000fa30: 6d65 7368 2e67 656e 6572 6174 655f 656c  mesh.generate_el
+0000fa40: 6563 7472 6f5f 6d61 676e 6574 6963 5f6d  ectro_magnetic_m
+0000fa50: 6573 6828 290a 2020 2020 2020 2020 2020  esh().          
+0000fa60: 2020 6765 6e65 7261 7465 5f65 6c65 6374    generate_elect
+0000fa70: 726f 5f6d 6167 6e65 7469 635f 6d65 7368  ro_magnetic_mesh
+0000fa80: 5f74 696d 6520 3d20 7469 6d65 2e74 696d  _time = time.tim
+0000fa90: 6528 2920 2d20 7374 6172 745f 7469 6d65  e() - start_time
+0000faa0: 0a0a 2020 2020 2020 2020 2020 2020 7374  ..            st
+0000fab0: 6172 745f 7469 6d65 203d 2074 696d 652e  art_time = time.
+0000fac0: 7469 6d65 2829 0a20 2020 2020 2020 2020  time().         
+0000fad0: 2020 2073 656c 662e 6578 6369 7461 7469     self.excitati
+0000fae0: 6f6e 2866 7265 7175 656e 6379 3d66 7265  on(frequency=fre
+0000faf0: 712c 2061 6d70 6c69 7475 6465 5f6c 6973  q, amplitude_lis
+0000fb00: 743d 6375 7272 656e 742c 2070 6861 7365  t=current, phase
+0000fb10: 5f64 6567 5f6c 6973 743d 7068 695f 6465  _deg_list=phi_de
+0000fb20: 672c 0a20 2020 2020 2020 2020 2020 2020  g,.             
+0000fb30: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+0000fb40: 6c6f 745f 696e 7465 7270 6f6c 6174 696f  lot_interpolatio
+0000fb50: 6e3d 706c 6f74 5f69 6e74 6572 706f 6c61  n=plot_interpola
+0000fb60: 7469 6f6e 2920 2023 2066 7265 7175 656e  tion)  # frequen
+0000fb70: 6379 2061 6e64 2063 7572 7265 6e74 0a20  cy and current. 
+0000fb80: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000fb90: 6368 6563 6b5f 6372 6561 7465 5f65 6d70  check_create_emp
+0000fba0: 7479 5f6d 6174 6572 6961 6c5f 6c6f 6728  ty_material_log(
+0000fbb0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0000fbc0: 6c66 2e63 6865 636b 5f6d 6f64 656c 5f6d  lf.check_model_m
+0000fbd0: 7173 5f63 6f6e 6469 7469 6f6e 2829 0a20  qs_condition(). 
+0000fbe0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000fbf0: 7772 6974 655f 7369 6d75 6c61 7469 6f6e  write_simulation
+0000fc00: 5f70 6172 616d 6574 6572 735f 746f 5f70  _parameters_to_p
+0000fc10: 726f 5f66 696c 6573 2829 0a20 2020 2020  ro_files().     
+0000fc20: 2020 2020 2020 2073 656c 662e 6765 6e65         self.gene
+0000fc30: 7261 7465 5f6c 6f61 645f 6c69 747a 5f61  rate_load_litz_a
+0000fc40: 7070 726f 7869 6d61 7469 6f6e 5f70 6172  pproximation_par
+0000fc50: 616d 6574 6572 7328 290a 0a20 2020 2020  ameters()..     
+0000fc60: 2020 2020 2020 2070 7265 7061 7265 5f73         prepare_s
+0000fc70: 696d 756c 6174 696f 6e5f 7469 6d65 203d  imulation_time =
+0000fc80: 2074 696d 652e 7469 6d65 2829 202d 2073   time.time() - s
+0000fc90: 7461 7274 5f74 696d 650a 0a20 2020 2020  tart_time..     
+0000fca0: 2020 2020 2020 2073 7461 7274 5f74 696d         start_tim
+0000fcb0: 6520 3d20 7469 6d65 2e74 696d 6528 290a  e = time.time().
+0000fcc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000fcd0: 2e73 696d 756c 6174 6528 290a 2020 2020  .simulate().    
+0000fce0: 2020 2020 2020 2020 7265 616c 5f73 696d          real_sim
+0000fcf0: 756c 6174 696f 6e5f 7469 6d65 203d 2074  ulation_time = t
+0000fd00: 696d 652e 7469 6d65 2829 202d 2073 7461  ime.time() - sta
+0000fd10: 7274 5f74 696d 650a 0a20 2020 2020 2020  rt_time..       
+0000fd20: 2020 2020 2073 7461 7274 5f74 696d 6520       start_time 
+0000fd30: 3d20 7469 6d65 2e74 696d 6528 290a 2020  = time.time().  
+0000fd40: 2020 2020 2020 2020 2020 7365 6c66 2e63            self.c
+0000fd50: 616c 6375 6c61 7465 5f61 6e64 5f77 7269  alculate_and_wri
+0000fd60: 7465 5f66 7265 715f 646f 6d61 696e 5f6c  te_freq_domain_l
+0000fd70: 6f67 2829 2020 2320 544f 444f 3a20 7265  og()  # TODO: re
+0000fd80: 7573 6520 6365 6e74 6572 2074 6170 7065  use center tappe
+0000fd90: 640a 2020 2020 2020 2020 2020 2020 6c6f  d.            lo
+0000fda0: 6767 696e 675f 7469 6d65 203d 2074 696d  gging_time = tim
+0000fdb0: 652e 7469 6d65 2829 202d 2073 7461 7274  e.time() - start
+0000fdc0: 5f74 696d 650a 2020 2020 2020 2020 2020  _time.          
+0000fdd0: 2020 6966 2073 686f 775f 6665 6d5f 7369    if show_fem_si
+0000fde0: 6d75 6c61 7469 6f6e 5f72 6573 756c 7473  mulation_results
+0000fdf0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0000fe00: 2020 7365 6c66 2e76 6973 7561 6c69 7a65    self.visualize
+0000fe10: 2829 0a0a 2020 2020 2020 2020 2020 2020  ()..            
+0000fe20: 7265 7475 726e 2067 656e 6572 6174 655f  return generate_
+0000fe30: 656c 6563 7472 6f5f 6d61 676e 6574 6963  electro_magnetic
+0000fe40: 5f6d 6573 685f 7469 6d65 2c20 7072 6570  _mesh_time, prep
+0000fe50: 6172 655f 7369 6d75 6c61 7469 6f6e 5f74  are_simulation_t
+0000fe60: 696d 652c 2072 6561 6c5f 7369 6d75 6c61  ime, real_simula
+0000fe70: 7469 6f6e 5f74 696d 652c 206c 6f67 6769  tion_time, loggi
+0000fe80: 6e67 5f74 696d 650a 2020 2020 2020 2020  ng_time.        
+0000fe90: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000fea0: 2020 7365 6c66 2e6d 6573 682e 6765 6e65    self.mesh.gene
+0000feb0: 7261 7465 5f65 6c65 6374 726f 5f6d 6167  rate_electro_mag
+0000fec0: 6e65 7469 635f 6d65 7368 2829 0a20 2020  netic_mesh().   
+0000fed0: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
+0000fee0: 6369 7461 7469 6f6e 2866 7265 7175 656e  citation(frequen
+0000fef0: 6379 3d66 7265 712c 2061 6d70 6c69 7475  cy=freq, amplitu
+0000ff00: 6465 5f6c 6973 743d 6375 7272 656e 742c  de_list=current,
+0000ff10: 2070 6861 7365 5f64 6567 5f6c 6973 743d   phase_deg_list=
+0000ff20: 7068 695f 6465 672c 0a20 2020 2020 2020  phi_deg,.       
+0000ff30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ff40: 2020 2020 2070 6c6f 745f 696e 7465 7270       plot_interp
+0000ff50: 6f6c 6174 696f 6e3d 706c 6f74 5f69 6e74  olation=plot_int
+0000ff60: 6572 706f 6c61 7469 6f6e 2920 2023 2066  erpolation)  # f
+0000ff70: 7265 7175 656e 6379 2061 6e64 2063 7572  requency and cur
+0000ff80: 7265 6e74 0a20 2020 2020 2020 2020 2020  rent.           
+0000ff90: 2073 656c 662e 6368 6563 6b5f 6372 6561   self.check_crea
+0000ffa0: 7465 5f65 6d70 7479 5f6d 6174 6572 6961  te_empty_materia
+0000ffb0: 6c5f 6c6f 6728 290a 2020 2020 2020 2020  l_log().        
+0000ffc0: 2020 2020 7365 6c66 2e63 6865 636b 5f6d      self.check_m
+0000ffd0: 6f64 656c 5f6d 7173 5f63 6f6e 6469 7469  odel_mqs_conditi
+0000ffe0: 6f6e 2829 0a20 2020 2020 2020 2020 2020  on().           
+0000fff0: 2073 656c 662e 7772 6974 655f 7369 6d75   self.write_simu
+00010000: 6c61 7469 6f6e 5f70 6172 616d 6574 6572  lation_parameter
+00010010: 735f 746f 5f70 726f 5f66 696c 6573 2829  s_to_pro_files()
+00010020: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00010030: 662e 6765 6e65 7261 7465 5f6c 6f61 645f  f.generate_load_
+00010040: 6c69 747a 5f61 7070 726f 7869 6d61 7469  litz_approximati
+00010050: 6f6e 5f70 6172 616d 6574 6572 7328 290a  on_parameters().
+00010060: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010070: 2e73 696d 756c 6174 6528 290a 2020 2020  .simulate().    
+00010080: 2020 2020 2020 2020 7365 6c66 2e63 616c          self.cal
+00010090: 6375 6c61 7465 5f61 6e64 5f77 7269 7465  culate_and_write
+000100a0: 5f66 7265 715f 646f 6d61 696e 5f6c 6f67  _freq_domain_log
+000100b0: 2829 2020 2320 544f 444f 3a20 7265 7573  ()  # TODO: reus
+000100c0: 6520 6365 6e74 6572 2074 6170 7065 640a  e center tapped.
+000100d0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+000100e0: 686f 775f 6665 6d5f 7369 6d75 6c61 7469  how_fem_simulati
+000100f0: 6f6e 5f72 6573 756c 7473 3a0a 2020 2020  on_results:.    
+00010100: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010110: 2e76 6973 7561 6c69 7a65 2829 0a0a 2020  .visualize()..  
+00010120: 2020 6465 6620 7469 6d65 5f64 6f6d 6169    def time_domai
+00010130: 6e5f 7369 6d75 6c61 7469 6f6e 2873 656c  n_simulation(sel
+00010140: 662c 2063 7572 7265 6e74 5f70 6572 696f  f, current_perio
+00010150: 645f 7665 633a 204c 6973 745b 4c69 7374  d_vec: List[List
+00010160: 5b66 6c6f 6174 5d5d 2c20 7469 6d65 5f70  [float]], time_p
+00010170: 6572 696f 645f 7665 633a 204c 6973 745b  eriod_vec: List[
+00010180: 666c 6f61 745d 2c0a 2020 2020 2020 2020  float],.        
+00010190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000101a0: 2020 2020 2020 206e 756d 6265 725f 6f66         number_of
+000101b0: 5f70 6572 696f 6473 3a20 696e 742c 0a20  _periods: int,. 
+000101c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000101d0: 2020 2020 2020 2020 2020 2020 2020 706c                pl
+000101e0: 6f74 5f69 6e74 6572 706f 6c61 7469 6f6e  ot_interpolation
+000101f0: 3a20 626f 6f6c 203d 2046 616c 7365 2c20  : bool = False, 
+00010200: 7368 6f77 5f66 656d 5f73 696d 756c 6174  show_fem_simulat
+00010210: 696f 6e5f 7265 7375 6c74 733a 2062 6f6f  ion_results: boo
+00010220: 6c20 3d20 5472 7565 2c0a 2020 2020 2020  l = True,.      
+00010230: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010240: 2020 2020 2020 2020 2073 686f 775f 726f           show_ro
+00010250: 6c6c 696e 675f 6176 6572 6167 653a 2062  lling_average: b
+00010260: 6f6f 6c20 3d20 5472 7565 2c20 726f 6c6c  ool = True, roll
+00010270: 696e 675f 6176 675f 7769 6e64 6f77 5f73  ing_avg_window_s
+00010280: 697a 653a 2069 6e74 203d 2035 2c20 6265  ize: int = 5, be
+00010290: 6e63 686d 6172 6b3a 2062 6f6f 6c20 3d20  nchmark: bool = 
+000102a0: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
+000102b0: 2222 220a 2020 2020 2020 2020 5374 6172  """.        Star
+000102c0: 7420 6120 7469 6d65 5f64 6f6d 6169 6e20  t a time_domain 
+000102d0: 2065 6c65 6374 726f 6d61 676e 6574 6963   electromagnetic
+000102e0: 204f 4e45 4c41 4220 7369 6d75 6c61 7469   ONELAB simulati
+000102f0: 6f6e 2e0a 0a20 2020 2020 2020 203a 7061  on...        :pa
+00010300: 7261 6d20 706c 6f74 5f69 6e74 6572 706f  ram plot_interpo
+00010310: 6c61 7469 6f6e 3a0a 2020 2020 2020 2020  lation:.        
+00010320: 3a70 6172 616d 2066 7265 713a 2066 7265  :param freq: fre
+00010330: 7175 656e 6379 2074 6f20 7369 6d75 6c61  quency to simula
+00010340: 7465 0a20 2020 2020 2020 203a 7479 7065  te.        :type
+00010350: 2066 7265 713a 2066 6c6f 6174 0a20 2020   freq: float.   
+00010360: 2020 2020 203a 7061 7261 6d20 6375 7272       :param curr
+00010370: 656e 745f 7065 7269 6f64 5f76 6563 3a20  ent_period_vec: 
+00010380: 6375 7272 656e 7420 746f 2073 696d 756c  current to simul
+00010390: 6174 650a 2020 2020 2020 2020 3a70 6172  ate.        :par
+000103a0: 616d 2074 696d 655f 7065 7269 6f64 5f76  am time_period_v
+000103b0: 6563 3a20 7469 6d65 206c 6973 740a 2020  ec: time list.  
+000103c0: 2020 2020 2020 3a70 6172 616d 206e 756d        :param num
+000103d0: 6265 725f 6f66 5f70 6572 696f 6473 3a20  ber_of_periods: 
+000103e0: 7065 7269 6f64 7320 2831 2c20 322c 2033  periods (1, 2, 3
+000103f0: 2c2e 2e2e 290a 2020 2020 2020 2020 3a70  ,...).        :p
+00010400: 6172 616d 2070 6869 5f64 6567 3a20 7068  aram phi_deg: ph
+00010410: 6173 6520 616e 676c 6520 696e 2064 6567  ase angle in deg
+00010420: 7265 650a 2020 2020 2020 2020 3a74 7970  ree.        :typ
+00010430: 6520 7068 695f 6465 673a 204c 6973 745b  e phi_deg: List[
+00010440: 666c 6f61 745d 0a20 2020 2020 2020 203a  float].        :
+00010450: 7061 7261 6d20 7368 6f77 5f66 656d 5f73  param show_fem_s
+00010460: 696d 756c 6174 696f 6e5f 7265 7375 6c74  imulation_result
+00010470: 733a 2053 6574 2074 6f20 5472 7565 2074  s: Set to True t
+00010480: 6f20 7368 6f77 2074 6865 2073 696d 756c  o show the simul
+00010490: 6174 696f 6e20 7265 7375 6c74 7320 6166  ation results af
+000104a0: 7465 7220 7468 6520 7369 6d75 6c61 7469  ter the simulati
+000104b0: 6f6e 2068 6173 2066 696e 6973 6865 640a  on has finished.
+000104c0: 2020 2020 2020 2020 3a74 7970 6520 7368          :type sh
+000104d0: 6f77 5f66 656d 5f73 696d 756c 6174 696f  ow_fem_simulatio
+000104e0: 6e5f 7265 7375 6c74 733a 2062 6f6f 6c0a  n_results: bool.
+000104f0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+00010500: 686f 775f 726f 6c6c 696e 675f 6176 6572  how_rolling_aver
+00010510: 6167 653a 2073 6574 2074 6f20 5472 7565  age: set to True
+00010520: 2074 6f20 7368 6f77 2074 6865 2064 796e   to show the dyn
+00010530: 616d 6963 2061 7665 7261 6765 0a20 2020  amic average.   
+00010540: 2020 2020 203a 7479 7065 2073 686f 775f       :type show_
+00010550: 726f 6c6c 696e 675f 6176 6572 6167 653a  rolling_average:
+00010560: 2062 6f6f 6c0a 2020 2020 2020 2020 3a70   bool.        :p
+00010570: 6172 616d 2072 6f6c 6c69 6e67 5f61 7667  aram rolling_avg
+00010580: 5f77 696e 646f 775f 7369 7a65 3a20 686f  _window_size: ho
+00010590: 7720 6d61 6e79 2064 6174 6120 706f 696e  w many data poin
+000105a0: 7473 2075 7365 6420 696e 2065 6163 6820  ts used in each 
+000105b0: 6361 6c63 756c 6174 696f 6e20 6f66 2074  calculation of t
+000105c0: 6865 2061 7665 7261 6765 0a20 2020 2020  he average.     
+000105d0: 2020 203a 7061 7261 6d20 6265 6e63 686d     :param benchm
+000105e0: 6172 6b3a 202e 2e2e 2e0a 2020 2020 2020  ark: .....      
+000105f0: 2020 3a74 7970 6520 6265 6e63 686d 6172    :type benchmar
+00010600: 6b3a 2062 6f6f 6c0a 0a20 2020 2020 2020  k: bool..       
+00010610: 2022 2222 0a20 2020 2020 2020 2073 656c   """.        sel
+00010620: 662e 6368 6563 6b5f 6372 6561 7465 5f65  f.check_create_e
+00010630: 6d70 7479 5f6d 6174 6572 6961 6c5f 6c6f  mpty_material_lo
+00010640: 6728 290a 0a20 2020 2020 2020 2069 6620  g()..        if 
+00010650: 6265 6e63 686d 6172 6b3a 0a20 2020 2020  benchmark:.     
+00010660: 2020 2020 2020 2073 7461 7274 5f74 696d         start_tim
+00010670: 6520 3d20 7469 6d65 2e74 696d 6528 290a  e = time.time().
+00010680: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010690: 2e6d 6573 682e 6765 6e65 7261 7465 5f65  .mesh.generate_e
+000106a0: 6c65 6374 726f 5f6d 6167 6e65 7469 635f  lectro_magnetic_
+000106b0: 6d65 7368 2829 0a20 2020 2020 2020 2020  mesh().         
+000106c0: 2020 2067 656e 6572 6174 655f 656c 6563     generate_elec
+000106d0: 7472 6f5f 6d61 676e 6574 6963 5f6d 6573  tro_magnetic_mes
+000106e0: 685f 7469 6d65 203d 2074 696d 652e 7469  h_time = time.ti
+000106f0: 6d65 2829 202d 2073 7461 7274 5f74 696d  me() - start_tim
+00010700: 650a 0a20 2020 2020 2020 2020 2020 2073  e..            s
+00010710: 7461 7274 5f74 696d 6520 3d20 7469 6d65  tart_time = time
+00010720: 2e74 696d 6528 290a 2020 2020 2020 2020  .time().        
+00010730: 2020 2020 7365 6c66 2e65 7863 6974 6174      self.excitat
+00010740: 696f 6e5f 7469 6d65 5f64 6f6d 6169 6e28  ion_time_domain(
+00010750: 6375 7272 656e 745f 6c69 7374 3d63 7572  current_list=cur
+00010760: 7265 6e74 5f70 6572 696f 645f 7665 632c  rent_period_vec,
+00010770: 2074 696d 655f 6c69 7374 3d74 696d 655f   time_list=time_
+00010780: 7065 7269 6f64 5f76 6563 2c0a 2020 2020  period_vec,.    
+00010790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000107b0: 2020 2020 6e75 6d62 6572 5f6f 665f 7065      number_of_pe
+000107c0: 7269 6f64 733d 6e75 6d62 6572 5f6f 665f  riods=number_of_
+000107d0: 7065 7269 6f64 732c 2070 6c6f 745f 696e  periods, plot_in
+000107e0: 7465 7270 6f6c 6174 696f 6e3d 706c 6f74  terpolation=plot
+000107f0: 5f69 6e74 6572 706f 6c61 7469 6f6e 290a  _interpolation).
+00010800: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00010810: 662e 6368 6563 6b5f 6d6f 6465 6c5f 6d71  f.check_model_mq
+00010820: 735f 636f 6e64 6974 696f 6e28 290a 2020  s_condition().  
+00010830: 2020 2020 2020 2020 2020 7365 6c66 2e77            self.w
+00010840: 7269 7465 5f73 696d 756c 6174 696f 6e5f  rite_simulation_
+00010850: 7061 7261 6d65 7465 7273 5f74 6f5f 7072  parameters_to_pr
+00010860: 6f5f 6669 6c65 7328 290a 2020 2020 2020  o_files().      
+00010870: 2020 2020 2020 7365 6c66 2e67 656e 6572        self.gener
+00010880: 6174 655f 6c6f 6164 5f6c 6974 7a5f 6170  ate_load_litz_ap
+00010890: 7072 6f78 696d 6174 696f 6e5f 7061 7261  proximation_para
+000108a0: 6d65 7465 7273 2829 0a0a 2020 2020 2020  meters()..      
+000108b0: 2020 2020 2020 7072 6570 6172 655f 7369        prepare_si
+000108c0: 6d75 6c61 7469 6f6e 5f74 696d 6520 3d20  mulation_time = 
+000108d0: 7469 6d65 2e74 696d 6528 2920 2d20 7374  time.time() - st
+000108e0: 6172 745f 7469 6d65 0a0a 2020 2020 2020  art_time..      
+000108f0: 2020 2020 2020 7374 6172 745f 7469 6d65        start_time
+00010900: 203d 2074 696d 652e 7469 6d65 2829 0a20   = time.time(). 
+00010910: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010920: 7369 6d75 6c61 7465 2829 0a20 2020 2020  simulate().     
+00010930: 2020 2020 2020 2072 6561 6c5f 7369 6d75         real_simu
+00010940: 6c61 7469 6f6e 5f74 696d 6520 3d20 7469  lation_time = ti
+00010950: 6d65 2e74 696d 6528 2920 2d20 7374 6172  me.time() - star
+00010960: 745f 7469 6d65 0a0a 2020 2020 2020 2020  t_time..        
+00010970: 2020 2020 7374 6172 745f 7469 6d65 203d      start_time =
+00010980: 2074 696d 652e 7469 6d65 2829 0a20 2020   time.time().   
+00010990: 2020 2020 2020 2020 206c 6f67 6769 6e67           logging
+000109a0: 5f74 696d 6520 3d20 7469 6d65 2e74 696d  _time = time.tim
+000109b0: 6528 2920 2d20 7374 6172 745f 7469 6d65  e() - start_time
+000109c0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000109d0: 662e 6361 6c63 756c 6174 655f 6176 6572  f.calculate_aver
+000109e0: 6167 655f 6669 6c65 7328 290a 2020 2020  age_files().    
+000109f0: 2020 2020 2020 2020 7365 6c66 2e63 616c          self.cal
+00010a00: 6375 6c61 7465 5f61 6e64 5f77 7269 7465  culate_and_write
+00010a10: 5f74 696d 655f 646f 6d61 696e 5f6c 6f67  _time_domain_log
+00010a20: 2829 2020 2320 544f 444f 3a20 7265 7573  ()  # TODO: reus
+00010a30: 6520 6365 6e74 6572 2074 6170 7065 640a  e center tapped.
+00010a40: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00010a50: 686f 775f 6665 6d5f 7369 6d75 6c61 7469  how_fem_simulati
+00010a60: 6f6e 5f72 6573 756c 7473 3a0a 2020 2020  on_results:.    
+00010a70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010a80: 2e76 6973 7561 6c69 7a65 2829 0a20 2020  .visualize().   
+00010a90: 2020 2020 2020 2020 2069 6620 7368 6f77           if show
+00010aa0: 5f72 6f6c 6c69 6e67 5f61 7665 7261 6765  _rolling_average
+00010ab0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010ac0: 2020 7365 6c66 2e67 6574 5f72 6f6c 6c69    self.get_rolli
+00010ad0: 6e67 5f61 7665 7261 6765 2877 696e 646f  ng_average(windo
+00010ae0: 775f 7369 7a65 3d72 6f6c 6c69 6e67 5f61  w_size=rolling_a
+00010af0: 7667 5f77 696e 646f 775f 7369 7a65 290a  vg_window_size).
+00010b00: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
+00010b10: 7572 6e20 6765 6e65 7261 7465 5f65 6c65  urn generate_ele
+00010b20: 6374 726f 5f6d 6167 6e65 7469 635f 6d65  ctro_magnetic_me
+00010b30: 7368 5f74 696d 652c 2070 7265 7061 7265  sh_time, prepare
+00010b40: 5f73 696d 756c 6174 696f 6e5f 7469 6d65  _simulation_time
+00010b50: 2c20 7265 616c 5f73 696d 756c 6174 696f  , real_simulatio
+00010b60: 6e5f 7469 6d65 2c20 6c6f 6767 696e 675f  n_time, logging_
+00010b70: 7469 6d65 0a20 2020 2020 2020 2065 6c73  time.        els
+00010b80: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
+00010b90: 656c 662e 6d65 7368 2e67 656e 6572 6174  elf.mesh.generat
+00010ba0: 655f 656c 6563 7472 6f5f 6d61 676e 6574  e_electro_magnet
+00010bb0: 6963 5f6d 6573 6828 290a 2020 2020 2020  ic_mesh().      
+00010bc0: 2020 2020 2020 7365 6c66 2e65 7863 6974        self.excit
+00010bd0: 6174 696f 6e5f 7469 6d65 5f64 6f6d 6169  ation_time_domai
+00010be0: 6e28 6375 7272 656e 745f 6c69 7374 3d63  n(current_list=c
+00010bf0: 7572 7265 6e74 5f70 6572 696f 645f 7665  urrent_period_ve
+00010c00: 632c 2074 696d 655f 6c69 7374 3d74 696d  c, time_list=tim
+00010c10: 655f 7065 7269 6f64 5f76 6563 2c0a 2020  e_period_vec,.  
+00010c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010c40: 2020 2020 2020 6e75 6d62 6572 5f6f 665f        number_of_
+00010c50: 7065 7269 6f64 733d 6e75 6d62 6572 5f6f  periods=number_o
+00010c60: 665f 7065 7269 6f64 732c 2070 6c6f 745f  f_periods, plot_
+00010c70: 696e 7465 7270 6f6c 6174 696f 6e3d 706c  interpolation=pl
+00010c80: 6f74 5f69 6e74 6572 706f 6c61 7469 6f6e  ot_interpolation
+00010c90: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+00010ca0: 6c66 2e63 6865 636b 5f6d 6f64 656c 5f6d  lf.check_model_m
+00010cb0: 7173 5f63 6f6e 6469 7469 6f6e 2829 0a20  qs_condition(). 
+00010cc0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010cd0: 7772 6974 655f 7369 6d75 6c61 7469 6f6e  write_simulation
+00010ce0: 5f70 6172 616d 6574 6572 735f 746f 5f70  _parameters_to_p
+00010cf0: 726f 5f66 696c 6573 2829 0a20 2020 2020  ro_files().     
+00010d00: 2020 2020 2020 2073 656c 662e 6765 6e65         self.gene
+00010d10: 7261 7465 5f6c 6f61 645f 6c69 747a 5f61  rate_load_litz_a
+00010d20: 7070 726f 7869 6d61 7469 6f6e 5f70 6172  pproximation_par
+00010d30: 616d 6574 6572 7328 290a 2020 2020 2020  ameters().      
+00010d40: 2020 2020 2020 7365 6c66 2e73 696d 756c        self.simul
+00010d50: 6174 6528 290a 2020 2020 2020 2020 2020  ate().          
+00010d60: 2020 7365 6c66 2e63 616c 6375 6c61 7465    self.calculate
+00010d70: 5f61 7665 7261 6765 5f66 696c 6573 2829  _average_files()
+00010d80: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00010d90: 662e 6361 6c63 756c 6174 655f 616e 645f  f.calculate_and_
+00010da0: 7772 6974 655f 7469 6d65 5f64 6f6d 6169  write_time_domai
+00010db0: 6e5f 6c6f 6728 2920 2023 2054 4f44 4f3a  n_log()  # TODO:
+00010dc0: 2072 6575 7365 2063 656e 7465 7220 7461   reuse center ta
+00010dd0: 7070 6564 0a0a 2020 2020 2020 2020 2020  pped..          
+00010de0: 2020 6966 2073 686f 775f 6665 6d5f 7369    if show_fem_si
+00010df0: 6d75 6c61 7469 6f6e 5f72 6573 756c 7473  mulation_results
+00010e00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00010e10: 2020 7365 6c66 2e76 6973 7561 6c69 7a65    self.visualize
+00010e20: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+00010e30: 6620 7368 6f77 5f72 6f6c 6c69 6e67 5f61  f show_rolling_a
+00010e40: 7665 7261 6765 3a0a 2020 2020 2020 2020  verage:.        
+00010e50: 2020 2020 2020 2020 7365 6c66 2e67 6574          self.get
+00010e60: 5f72 6f6c 6c69 6e67 5f61 7665 7261 6765  _rolling_average
+00010e70: 2877 696e 646f 775f 7369 7a65 3d72 6f6c  (window_size=rol
+00010e80: 6c69 6e67 5f61 7667 5f77 696e 646f 775f  ling_avg_window_
+00010e90: 7369 7a65 290a 0a20 2020 2064 6566 2065  size)..    def e
+00010ea0: 7863 6974 6174 696f 6e5f 7377 6565 7028  xcitation_sweep(
+00010eb0: 7365 6c66 2c20 6672 6571 7565 6e63 795f  self, frequency_
+00010ec0: 6c69 7374 3a20 4c69 7374 2c20 6375 7272  list: List, curr
+00010ed0: 656e 745f 6c69 7374 5f6c 6973 743a 204c  ent_list_list: L
+00010ee0: 6973 742c 2070 6869 5f64 6567 5f6c 6973  ist, phi_deg_lis
+00010ef0: 745f 6c69 7374 3a20 4c69 7374 2c0a 2020  t_list: List,.  
+00010f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f10: 2020 2020 2020 2073 686f 775f 6c61 7374         show_last
+00010f20: 5f66 656d 5f73 696d 756c 6174 696f 6e3a  _fem_simulation:
+00010f30: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+00010f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010f50: 2020 2020 2020 2020 6578 6369 7461 7469          excitati
+00010f60: 6f6e 5f6d 6573 6869 6e67 5f74 7970 653a  on_meshing_type:
+00010f70: 2045 7863 6974 6174 696f 6e4d 6573 6869   ExcitationMeshi
+00010f80: 6e67 5479 7065 203d 204e 6f6e 652c 2073  ngType = None, s
+00010f90: 6b69 6e5f 6d65 7368 5f66 6163 746f 723a  kin_mesh_factor:
+00010fa0: 2066 6c6f 6174 203d 2030 2e35 2c0a 2020   float = 0.5,.  
+00010fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00010fc0: 2020 2020 2020 2076 6973 7561 6c69 7a65         visualize
+00010fd0: 5f62 6566 6f72 653a 2062 6f6f 6c20 3d20  _before: bool = 
+00010fe0: 4661 6c73 652c 2073 6176 655f 706e 673a  False, save_png:
+00010ff0: 2062 6f6f 6c20 3d20 4661 6c73 652c 0a20   bool = False,. 
+00011000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011010: 2020 2020 2020 2020 636f 6c6f 725f 7363          color_sc
+00011020: 6865 6d65 3a20 4469 6374 203d 2066 662e  heme: Dict = ff.
+00011030: 636f 6c6f 7273 5f66 656d 6d74 5f64 6566  colors_femmt_def
+00011040: 6175 6c74 2c0a 2020 2020 2020 2020 2020  ault,.          
+00011050: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00011060: 6f6c 6f72 735f 6765 6f6d 6574 7279 3a20  olors_geometry: 
+00011070: 4469 6374 203d 2066 662e 636f 6c6f 7273  Dict = ff.colors
+00011080: 5f67 656f 6d65 7472 795f 6665 6d6d 745f  _geometry_femmt_
+00011090: 6465 6661 756c 742c 0a20 2020 2020 2020  default,.       
+000110a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000110b0: 2020 696e 6475 6374 616e 6365 5f64 6963    inductance_dic
+000110c0: 743a 2044 6963 7420 3d20 4e6f 6e65 2c20  t: Dict = None, 
+000110d0: 636f 7265 5f68 7973 745f 6c6f 7373 3a20  core_hyst_loss: 
+000110e0: 4c69 7374 5b66 6c6f 6174 5d20 7c20 6e70  List[float] | np
+000110f0: 2e6e 6461 7272 6179 203d 204e 6f6e 6529  .ndarray = None)
+00011100: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+00011110: 2020 2222 220a 2020 2020 2020 2020 5065    """.        Pe
+00011120: 7266 6f72 6d20 6120 7377 6565 7020 7369  rform a sweep si
+00011130: 6d75 6c61 7469 6f6e 2066 6f72 2066 7265  mulation for fre
+00011140: 7175 656e 6379 2d63 7572 7265 6e74 2070  quency-current p
+00011150: 6169 7273 2e0a 0a20 2020 2020 2020 2042  airs...        B
+00011160: 6f74 6820 7661 6c75 6573 2063 616e 2062  oth values can b
+00011170: 6520 7061 7373 6564 2069 6e20 6c69 7374  e passed in list
+00011180: 7320 6f66 2074 6865 2073 616d 6520 6c65  s of the same le
+00011190: 6e67 7468 2e20 5468 6520 6d65 7368 2069  ngth. The mesh i
+000111a0: 7320 6f6e 6c79 2063 7265 6174 6564 206f  s only created o
+000111b0: 6e65 7320 2866 6173 7420 7377 6565 7029  nes (fast sweep)
+000111c0: 210a 0a20 2020 2020 2020 203a 4578 616d  !..        :Exam
+000111d0: 706c 6520 436f 6465 2066 6f72 2049 6e64  ple Code for Ind
+000111e0: 7563 746f 723a 0a0a 2020 2020 2020 2020  uctor:..        
+000111f0: 3e3e 3e20 696d 706f 7274 2066 656d 6d74  >>> import femmt
+00011200: 2061 7320 666d 740a 2020 2020 2020 2020   as fmt.        
+00011210: 3e3e 3e20 6673 5f6c 6973 7420 3d20 5b30  >>> fs_list = [0
+00011220: 2c20 3130 3030 302c 2033 3030 3030 2c20  , 10000, 30000, 
+00011230: 3630 3030 302c 2031 3030 3030 302c 2031  60000, 100000, 1
+00011240: 3530 3030 305d 0a20 2020 2020 2020 203e  50000].        >
+00011250: 3e3e 2061 6d70 6c69 7475 6465 5f6c 6973  >> amplitude_lis
+00011260: 745f 6c69 7374 203d 205b 5b31 305d 2c20  t_list = [[10], 
+00011270: 5b32 5d2c 205b 315d 2c20 5b30 2e35 5d2c  [2], [1], [0.5],
+00011280: 205b 302e 325d 2c20 5b30 2e31 5d5d 0a20   [0.2], [0.1]]. 
+00011290: 2020 2020 2020 203e 3e3e 2070 6861 7365         >>> phase
+000112a0: 5f6c 6973 745f 6c69 7374 203d 205b 5b30  _list_list = [[0
+000112b0: 5d2c 205b 3130 5d2c 205b 3230 5d2c 205b  ], [10], [20], [
+000112c0: 3330 5d2c 205b 3430 5d2c 205b 3530 5d5d  30], [40], [50]]
+000112d0: 0a20 2020 2020 2020 203e 3e3e 2067 656f  .        >>> geo
+000112e0: 2e65 7863 6974 6174 696f 6e5f 7377 6565  .excitation_swee
+000112f0: 7028 6672 6571 7565 6e63 795f 6c69 7374  p(frequency_list
+00011300: 3d66 735f 6c69 7374 2c20 6375 7272 656e  =fs_list, curren
+00011310: 745f 6c69 7374 5f6c 6973 743d 616d 706c  t_list_list=ampl
+00011320: 6974 7564 655f 6c69 7374 5f6c 6973 742c  itude_list_list,
+00011330: 0a20 2020 2020 2020 203e 3e3e 2020 2020  .        >>>    
+00011340: 2070 6869 5f64 6567 5f6c 6973 745f 6c69   phi_deg_list_li
+00011350: 7374 3d70 6861 7365 5f6c 6973 745f 6c69  st=phase_list_li
+00011360: 7374 290a 0a20 2020 2020 2020 203a 4578  st)..        :Ex
+00011370: 616d 706c 6520 436f 6465 2066 6f72 2054  ample Code for T
+00011380: 7261 6e73 666f 726d 6572 2077 6974 6820  ransformer with 
+00011390: 3220 7769 6e64 696e 6773 3a0a 0a20 2020  2 windings:..   
+000113a0: 2020 2020 203e 3e3e 2069 6d70 6f72 7420       >>> import 
+000113b0: 6665 6d6d 7420 6173 2066 6d74 0a20 2020  femmt as fmt.   
+000113c0: 2020 2020 203e 3e3e 2066 735f 6c69 7374       >>> fs_list
+000113d0: 203d 205b 302c 2031 3030 3030 2c20 3330   = [0, 10000, 30
+000113e0: 3030 302c 2036 3030 3030 2c20 3130 3030  000, 60000, 1000
+000113f0: 3030 2c20 3135 3030 3030 5d0a 2020 2020  00, 150000].    
+00011400: 2020 2020 3e3e 3e20 616d 706c 6974 7564      >>> amplitud
+00011410: 655f 6c69 7374 5f6c 6973 7420 3d20 5b5b  e_list_list = [[
+00011420: 3130 2c20 325d 2c20 5b32 2c20 315d 2c20  10, 2], [2, 1], 
+00011430: 5b31 2c20 302e 355d 2c20 5b30 2e35 2c20  [1, 0.5], [0.5, 
+00011440: 302e 3235 5d2c 205b 302e 322c 2030 2e31  0.25], [0.2, 0.1
+00011450: 5d2c 205b 302e 312c 2030 2e30 355d 5d0a  ], [0.1, 0.05]].
+00011460: 2020 2020 2020 2020 3e3e 3e20 7068 6173          >>> phas
+00011470: 655f 6c69 7374 5f6c 6973 7420 3d20 5b5b  e_list_list = [[
+00011480: 302c 2031 3730 5d2c 205b 3130 2c20 3138  0, 170], [10, 18
+00011490: 305d 2c20 5b32 302c 2031 3930 5d2c 205b  0], [20, 190], [
+000114a0: 3330 2c20 3230 305d 2c20 5b34 302c 2032  30, 200], [40, 2
+000114b0: 3130 5d2c 205b 3530 2c20 3232 305d 5d0a  10], [50, 220]].
+000114c0: 2020 2020 2020 2020 3e3e 3e20 6765 6f2e          >>> geo.
+000114d0: 6578 6369 7461 7469 6f6e 5f73 7765 6570  excitation_sweep
+000114e0: 2866 7265 7175 656e 6379 5f6c 6973 743d  (frequency_list=
+000114f0: 6673 5f6c 6973 742c 2063 7572 7265 6e74  fs_list, current
+00011500: 5f6c 6973 745f 6c69 7374 3d61 6d70 6c69  _list_list=ampli
+00011510: 7475 6465 5f6c 6973 745f 6c69 7374 2c0a  tude_list_list,.
+00011520: 2020 2020 2020 2020 3e3e 3e20 2020 2020          >>>     
+00011530: 7068 695f 6465 675f 6c69 7374 5f6c 6973  phi_deg_list_lis
+00011540: 743d 7068 6173 655f 6c69 7374 5f6c 6973  t=phase_list_lis
+00011550: 7429 0a0a 2020 2020 2020 2020 3a70 6172  t)..        :par
+00011560: 616d 2066 7265 7175 656e 6379 5f6c 6973  am frequency_lis
+00011570: 743a 2046 7265 7175 656e 6379 2069 6e20  t: Frequency in 
+00011580: 6120 6c69 7374 0a20 2020 2020 2020 203a  a list.        :
+00011590: 7479 7065 2066 7265 7175 656e 6379 5f6c  type frequency_l
+000115a0: 6973 743a 204c 6973 740a 2020 2020 2020  ist: List.      
+000115b0: 2020 3a70 6172 616d 2063 7572 7265 6e74    :param current
+000115c0: 5f6c 6973 745f 6c69 7374 3a20 6375 7272  _list_list: curr
+000115d0: 656e 7420 616d 706c 6974 7564 652c 206d  ent amplitude, m
+000115e0: 7573 7420 6265 2061 206c 6973 7420 696e  ust be a list in
+000115f0: 2061 206c 6973 742c 2073 6565 2065 7861   a list, see exa
+00011600: 6d70 6c65 210a 2020 2020 2020 2020 3a74  mple!.        :t
+00011610: 7970 6520 6375 7272 656e 745f 6c69 7374  ype current_list
+00011620: 5f6c 6973 743a 204c 6973 740a 2020 2020  _list: List.    
+00011630: 2020 2020 3a70 6172 616d 2070 6869 5f64      :param phi_d
+00011640: 6567 5f6c 6973 745f 6c69 7374 3a20 7068  eg_list_list: ph
+00011650: 6173 6520 696e 2064 6567 7265 652c 206d  ase in degree, m
+00011660: 7573 7420 6265 2061 206c 6973 7420 696e  ust be a list in
+00011670: 2061 206c 6973 742c 2073 6565 2065 7861   a list, see exa
+00011680: 6d70 6c65 210a 2020 2020 2020 2020 3a74  mple!.        :t
+00011690: 7970 6520 7068 695f 6465 675f 6c69 7374  ype phi_deg_list
+000116a0: 5f6c 6973 743a 204c 6973 740a 2020 2020  _list: List.    
+000116b0: 2020 2020 3a70 6172 616d 2073 686f 775f      :param show_
+000116c0: 6c61 7374 5f66 656d 5f73 696d 756c 6174  last_fem_simulat
+000116d0: 696f 6e3a 2073 686f 7773 206c 6173 7420  ion: shows last 
+000116e0: 7369 6d75 6c61 7469 6f6e 2069 6e20 676d  simulation in gm
+000116f0: 7368 2069 6620 7365 7420 746f 2054 7275  sh if set to Tru
+00011700: 650a 2020 2020 2020 2020 3a74 7970 6520  e.        :type 
+00011710: 7368 6f77 5f6c 6173 745f 6665 6d5f 7369  show_last_fem_si
+00011720: 6d75 6c61 7469 6f6e 3a20 626f 6f6c 0a20  mulation: bool. 
+00011730: 2020 2020 2020 203a 7061 7261 6d20 7669         :param vi
+00011740: 7375 616c 697a 655f 6265 666f 7265 3a20  sualize_before: 
+00011750: 7368 6f77 2067 656e 6172 6174 6564 206d  show genarated m
+00011760: 6573 6820 6265 666f 7265 2074 6865 2073  esh before the s
+00011770: 696d 756c 6174 696f 6e20 6973 2072 756e  imulation is run
+00011780: 0a20 2020 2020 2020 203a 7479 7065 2076  .        :type v
+00011790: 6973 7561 6c69 7a65 5f62 6566 6f72 653a  isualize_before:
+000117a0: 2062 6f6f 6c0a 2020 2020 2020 2020 3a70   bool.        :p
+000117b0: 6172 616d 2063 6f6c 6f72 5f73 6368 656d  aram color_schem
+000117c0: 653a 2063 6f6c 6f72 6669 6c65 2028 6465  e: colorfile (de
+000117d0: 6669 6e69 7469 6f6e 2066 6f72 2072 6564  finition for red
+000117e0: 2c20 6772 6565 6e2c 2062 6c75 652c 202e  , green, blue, .
+000117f0: 2e2e 290a 2020 2020 2020 2020 3a74 7970  ..).        :typ
+00011800: 6520 636f 6c6f 725f 7363 6865 6d65 3a20  e color_scheme: 
+00011810: 4469 6374 0a20 2020 2020 2020 203a 7061  Dict.        :pa
+00011820: 7261 6d20 636f 6c6f 7273 5f67 656f 6d65  ram colors_geome
+00011830: 7472 793a 2064 6566 696e 6974 696f 6e20  try: definition 
+00011840: 666f 7220 652e 672e 2063 6f72 6520 6973  for e.g. core is
+00011850: 2067 7265 792c 2077 696e 6469 6e67 2069   grey, winding i
+00011860: 7320 6f72 616e 6765 2c20 2e2e 2e0a 2020  s orange, ....  
+00011870: 2020 2020 2020 3a74 7970 6520 636f 6c6f        :type colo
+00011880: 7273 5f67 656f 6d65 7472 793a 2044 6963  rs_geometry: Dic
+00011890: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
+000118a0: 2073 6176 655f 706e 673a 2054 7275 6520   save_png: True 
+000118b0: 746f 2073 6176 6520 6120 2e70 6e67 0a20  to save a .png. 
+000118c0: 2020 2020 2020 203a 7479 7065 2073 6176         :type sav
+000118d0: 655f 706e 673a 2062 6f6f 6c0a 2020 2020  e_png: bool.    
+000118e0: 2020 2020 3a70 6172 616d 2069 6e64 7563      :param induc
+000118f0: 7461 6e63 655f 6469 6374 3a20 7265 7375  tance_dict: resu
+00011900: 6c74 2064 6963 7469 6f6e 6172 7920 6672  lt dictionary fr
+00011910: 6f6d 2067 6574 5f69 6e64 7563 7461 6e63  om get_inductanc
+00011920: 6573 2829 2d66 756e 6374 696f 6e0a 2020  es()-function.  
+00011930: 2020 2020 2020 3a74 7970 6520 696e 6475        :type indu
+00011940: 6374 616e 6365 5f64 6963 743a 2044 6963  ctance_dict: Dic
+00011950: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
+00011960: 2063 6f72 655f 6879 7374 5f6c 6f73 733a   core_hyst_loss:
+00011970: 204c 6973 7420 7769 7468 2068 7973 7465   List with hyste
+00011980: 7265 7369 7320 6c69 7374 2e20 4966 2067  resis list. If g
+00011990: 6976 656e 2c20 7468 6520 6879 7374 6572  iven, the hyster
+000119a0: 6573 6973 206c 6f73 7365 7320 696e 2074  esis losses in t
+000119b0: 6869 7320 6675 6e63 7469 6f6e 2062 650a  his function be.
+000119c0: 2020 2020 2020 2020 2020 2020 6f76 6572              over
+000119d0: 7772 6974 7465 6e20 696e 2074 6865 2072  written in the r
+000119e0: 6573 756c 7420 6c6f 672e 0a20 2020 2020  esult log..     
+000119f0: 2020 203a 7479 7065 2063 6f72 655f 6879     :type core_hy
+00011a00: 7374 5f6c 6f73 733a 204c 6973 740a 2020  st_loss: List.  
+00011a10: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00011a20: 2020 2320 6e65 6761 7469 7665 2063 7572    # negative cur
+00011a30: 7265 6e74 7320 6172 6520 6e6f 7420 616c  rents are not al
+00011a40: 6c6f 7765 6420 616e 6420 6c65 6164 2074  lowed and lead t
+00011a50: 6f20 7772 6f6e 6720 7369 6d75 6c61 7469  o wrong simulati
+00011a60: 6f6e 2072 6573 756c 7473 2e20 4368 6563  on results. Chec
+00011a70: 6b20 666f 7220 7468 6973 2e0a 2020 2020  k for this..    
+00011a80: 2020 2020 2320 7468 6973 206d 6573 7361      # this messa
+00011a90: 6765 2061 7070 6561 7273 2062 6566 6f72  ge appears befor
+00011aa0: 6520 6d65 7368 696e 6720 616e 6420 6265  e meshing and be
+00011ab0: 666f 7265 2073 696d 756c 6174 696f 6e0a  fore simulation.
+00011ac0: 2020 2020 2020 2020 2320 7468 6572 6520          # there 
+00011ad0: 6973 2061 6e6f 7468 6572 2056 616c 7565  is another Value
+00011ae0: 4572 726f 7220 7269 7369 6e67 2069 6e73  Error rising ins
+00011af0: 6964 6520 6578 6369 7461 7469 6f6e 2829  ide excitation()
+00011b00: 2d6d 6574 686f 6420 666f 7220 7361 6665  -method for safe
+00011b10: 7479 2028 6275 7420 6166 7465 7220 6d65  ty (but after me
+00011b20: 7368 696e 6729 2e0a 2020 2020 2020 2020  shing)..        
+00011b30: 666f 7220 6375 7272 656e 745f 6c69 7374  for current_list
+00011b40: 2069 6e20 6375 7272 656e 745f 6c69 7374   in current_list
+00011b50: 5f6c 6973 743a 0a20 2020 2020 2020 2020  _list:.         
+00011b60: 2020 2066 6f72 2063 7572 7265 6e74 2069     for current i
+00011b70: 6e20 6375 7272 656e 745f 6c69 7374 3a0a  n current_list:.
+00011b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011b90: 6966 2063 7572 7265 6e74 203c 2030 3a0a  if current < 0:.
+00011ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011bb0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
+00011bc0: 7272 6f72 280a 2020 2020 2020 2020 2020  rror(.          
+00011bd0: 2020 2020 2020 2020 2020 2020 2020 224e                "N
+00011be0: 6567 6174 6976 6520 6375 7272 656e 7473  egative currents
+00011bf0: 2061 7265 206e 6f74 2061 6c6c 6f77 6564   are not allowed
+00011c00: 2e20 5573 6520 7468 6520 7068 6173 6520  . Use the phase 
+00011c10: 2b20 3138 3020 6465 6772 6565 2074 6f20  + 180 degree to 
+00011c20: 6765 6e65 7261 7465 2061 206e 6567 6174  generate a negat
+00011c30: 6976 6520 6375 7272 656e 742e 2229 0a0a  ive current.")..
+00011c40: 2020 2020 2020 2020 2320 6672 6571 7565          # freque
+00011c50: 6e63 6965 7320 3d20 6672 6571 7565 6e63  ncies = frequenc
+00011c60: 6965 7320 6f72 205b 5d0a 2020 2020 2020  ies or [].      
+00011c70: 2020 2320 6375 7272 656e 7473 203d 2063    # currents = c
+00011c80: 7572 7265 6e74 7320 6f72 205b 5d0a 2020  urrents or [].  
+00011c90: 2020 2020 2020 2320 7068 6920 3d20 7068        # phi = ph
+00011ca0: 6920 6f72 205b 5d0a 2020 2020 2020 2020  i or [].        
+00011cb0: 6966 2073 686f 775f 6c61 7374 5f66 656d  if show_last_fem
+00011cc0: 5f73 696d 756c 6174 696f 6e3a 0a20 2020  _simulation:.   
+00011cd0: 2020 2020 2020 2020 2073 656c 662e 706c           self.pl
+00011ce0: 6f74 5f66 6965 6c64 7320 3d20 2273 7461  ot_fields = "sta
+00011cf0: 6e64 6172 6422 0a20 2020 2020 2020 2065  ndard".        e
+00011d00: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+00011d10: 2073 656c 662e 706c 6f74 5f66 6965 6c64   self.plot_field
+00011d20: 7320 3d20 4661 6c73 650a 0a20 2020 2020  s = False..     
+00011d30: 2020 2073 656c 662e 6368 6563 6b5f 6372     self.check_cr
+00011d40: 6561 7465 5f65 6d70 7479 5f6d 6174 6572  eate_empty_mater
+00011d50: 6961 6c5f 6c6f 6728 290a 0a20 2020 2020  ial_log()..     
+00011d60: 2020 2023 2049 6620 6f6e 6520 636f 6e64     # If one cond
+00011d70: 7563 746f 7220 6973 2073 6f6c 6964 2061  uctor is solid a
+00011d80: 6e64 206e 6f20 6d65 7368 696e 6720 7479  nd no meshing ty
+00011d90: 7065 2069 7320 6769 7665 6e20 7468 656e  pe is given then
+00011da0: 2063 6861 6e67 6520 7468 6520 6d65 7368   change the mesh
+00011db0: 696e 6720 7479 7065 2074 6f20 4d65 7368  ing type to Mesh
+00011dc0: 4561 6368 4672 6571 7565 6e63 790a 2020  EachFrequency.  
+00011dd0: 2020 2020 2020 2320 496e 2063 6173 6520        # In case 
+00011de0: 6f66 206c 6974 7a20 7769 7265 2c20 6f6e  of litz wire, on
+00011df0: 6c79 2074 6865 206c 6f77 6573 7420 6672  ly the lowest fr
+00011e00: 6571 7565 6e63 7920 6973 206d 6573 6865  equency is meshe
+00011e10: 6420 2866 7265 7175 656e 6379 2069 6e64  d (frequency ind
+00011e20: 6563 656e 7420 6475 6520 746f 206c 6974  ecent due to lit
+00011e30: 7a2d 6170 7072 6f78 696d 6174 696f 6e29  z-approximation)
+00011e40: 0a20 2020 2020 2020 2069 6620 6578 6369  .        if exci
+00011e50: 7461 7469 6f6e 5f6d 6573 6869 6e67 5f74  tation_meshing_t
+00011e60: 7970 6520 6973 204e 6f6e 653a 0a20 2020  ype is None:.   
+00011e70: 2020 2020 2020 2020 2066 6f72 2077 696e           for win
+00011e80: 6469 6e67 2069 6e20 7365 6c66 2e77 696e  ding in self.win
+00011e90: 6469 6e67 733a 0a20 2020 2020 2020 2020  dings:.         
+00011ea0: 2020 2020 2020 2069 6620 7769 6e64 696e         if windin
+00011eb0: 672e 636f 6e64 7563 746f 725f 7479 7065  g.conductor_type
+00011ec0: 203d 3d20 436f 6e64 7563 746f 7254 7970   == ConductorTyp
+00011ed0: 652e 526f 756e 6453 6f6c 6964 3a0a 2020  e.RoundSolid:.  
+00011ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00011ef0: 2020 6578 6369 7461 7469 6f6e 5f6d 6573    excitation_mes
+00011f00: 6869 6e67 5f74 7970 6520 3d20 4578 6369  hing_type = Exci
+00011f10: 7461 7469 6f6e 4d65 7368 696e 6754 7970  tationMeshingTyp
+00011f20: 652e 4d65 7368 4561 6368 4672 6571 7565  e.MeshEachFreque
+00011f30: 6e63 790a 2020 2020 2020 2020 2020 2020  ncy.            
+00011f40: 2020 2020 2020 2020 6272 6561 6b0a 2020          break.  
+00011f50: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00011f60: 2077 696e 6469 6e67 2e63 6f6e 6475 6374   winding.conduct
+00011f70: 6f72 5f74 7970 6520 3d3d 2043 6f6e 6475  or_type == Condu
+00011f80: 6374 6f72 5479 7065 2e52 6f75 6e64 4c69  ctorType.RoundLi
+00011f90: 747a 3a0a 2020 2020 2020 2020 2020 2020  tz:.            
+00011fa0: 2020 2020 2020 2020 6578 6369 7461 7469          excitati
+00011fb0: 6f6e 5f6d 6573 6869 6e67 5f74 7970 6520  on_meshing_type 
+00011fc0: 3d20 4578 6369 7461 7469 6f6e 4d65 7368  = ExcitationMesh
+00011fd0: 696e 6754 7970 652e 4d65 7368 4f6e 6c79  ingType.MeshOnly
+00011fe0: 4c6f 7765 7374 4672 6571 7565 6e63 790a  LowestFrequency.
+00011ff0: 0a20 2020 2020 2020 2069 6620 6578 6369  .        if exci
+00012000: 7461 7469 6f6e 5f6d 6573 6869 6e67 5f74  tation_meshing_t
+00012010: 7970 6520 3d3d 2045 7863 6974 6174 696f  ype == Excitatio
+00012020: 6e4d 6573 6869 6e67 5479 7065 2e4d 6573  nMeshingType.Mes
+00012030: 6845 6163 6846 7265 7175 656e 6379 3a0a  hEachFrequency:.
+00012040: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00012050: 636f 756e 745f 6672 6571 7565 6e63 792c  count_frequency,
+00012060: 205f 2069 6e20 656e 756d 6572 6174 6528   _ in enumerate(
+00012070: 6672 6571 7565 6e63 795f 6c69 7374 293a  frequency_list):
+00012080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012090: 2073 656c 662e 6869 6768 5f6c 6576 656c   self.high_level
+000120a0: 5f67 656f 5f67 656e 2866 7265 7175 656e  _geo_gen(frequen
+000120b0: 6379 3d66 7265 7175 656e 6379 5f6c 6973  cy=frequency_lis
+000120c0: 745b 636f 756e 745f 6672 6571 7565 6e63  t[count_frequenc
+000120d0: 795d 2c20 736b 696e 5f6d 6573 685f 6661  y], skin_mesh_fa
+000120e0: 6374 6f72 3d73 6b69 6e5f 6d65 7368 5f66  ctor=skin_mesh_f
+000120f0: 6163 746f 7229 0a20 2020 2020 2020 2020  actor).         
+00012100: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
+00012110: 2e67 656e 6572 6174 655f 6879 6272 6964  .generate_hybrid
+00012120: 5f6d 6573 6828 636f 6c6f 725f 7363 6865  _mesh(color_sche
+00012130: 6d65 2c20 636f 6c6f 7273 5f67 656f 6d65  me, colors_geome
+00012140: 7472 792c 2076 6973 7561 6c69 7a65 5f62  try, visualize_b
+00012150: 6566 6f72 653d 7669 7375 616c 697a 655f  efore=visualize_
+00012160: 6265 666f 7265 2c0a 2020 2020 2020 2020  before,.        
+00012170: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00012180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000121a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000121b0: 6176 655f 706e 673d 7361 7665 5f70 6e67  ave_png=save_png
-000121c0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000121d0: 2020 7365 6c66 2e6d 6573 682e 6765 6e65    self.mesh.gene
-000121e0: 7261 7465 5f65 6c65 6374 726f 5f6d 6167  rate_electro_mag
-000121f0: 6e65 7469 635f 6d65 7368 2829 0a0a 2020  netic_mesh()..  
-00012200: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00012210: 6c66 2e65 7863 6974 6174 696f 6e28 6672  lf.excitation(fr
-00012220: 6571 7565 6e63 793d 6672 6571 7565 6e63  equency=frequenc
-00012230: 795f 6c69 7374 5b63 6f75 6e74 5f66 7265  y_list[count_fre
-00012240: 7175 656e 6379 5d2c 0a20 2020 2020 2020  quency],.       
-00012250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012260: 2020 2020 2020 2020 2061 6d70 6c69 7475           amplitu
-00012270: 6465 5f6c 6973 743d 6375 7272 656e 745f  de_list=current_
-00012280: 6c69 7374 5f6c 6973 745b 636f 756e 745f  list_list[count_
-00012290: 6672 6571 7565 6e63 795d 2c0a 2020 2020  frequency],.    
-000122a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000122b0: 2020 2020 2020 2020 2020 2020 7068 6173              phas
-000122c0: 655f 6465 675f 6c69 7374 3d70 6869 5f64  e_deg_list=phi_d
-000122d0: 6567 5f6c 6973 745f 6c69 7374 5b63 6f75  eg_list_list[cou
-000122e0: 6e74 5f66 7265 7175 656e 6379 5d29 2020  nt_frequency])  
-000122f0: 2320 6672 6571 7565 6e63 7920 616e 6420  # frequency and 
-00012300: 6375 7272 656e 740a 2020 2020 2020 2020  current.        
-00012310: 2020 2020 2020 2020 6966 2063 6f75 6e74          if count
-00012320: 5f66 7265 7175 656e 6379 203d 3d20 303a  _frequency == 0:
-00012330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012340: 2020 2020 2073 656c 662e 6368 6563 6b5f       self.check_
-00012350: 6d6f 6465 6c5f 6d71 735f 636f 6e64 6974  model_mqs_condit
-00012360: 696f 6e28 290a 2020 2020 2020 2020 2020  ion().          
-00012370: 2020 2020 2020 7365 6c66 2e77 7269 7465        self.write
-00012380: 5f73 696d 756c 6174 696f 6e5f 7061 7261  _simulation_para
-00012390: 6d65 7465 7273 5f74 6f5f 7072 6f5f 6669  meters_to_pro_fi
-000123a0: 6c65 7328 290a 2020 2020 2020 2020 2020  les().          
-000123b0: 2020 2020 2020 7365 6c66 2e67 656e 6572        self.gener
-000123c0: 6174 655f 6c6f 6164 5f6c 6974 7a5f 6170  ate_load_litz_ap
-000123d0: 7072 6f78 696d 6174 696f 6e5f 7061 7261  proximation_para
-000123e0: 6d65 7465 7273 2829 0a20 2020 2020 2020  meters().       
-000123f0: 2020 2020 2020 2020 2073 656c 662e 7369           self.si
-00012400: 6d75 6c61 7465 2829 0a20 2020 2020 2020  mulate().       
-00012410: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-00012420: 2020 2069 6620 6578 6369 7461 7469 6f6e     if excitation
-00012430: 5f6d 6573 6869 6e67 5f74 7970 6520 3d3d  _meshing_type ==
-00012440: 2045 7863 6974 6174 696f 6e4d 6573 6869   ExcitationMeshi
-00012450: 6e67 5479 7065 2e4d 6573 684f 6e6c 7948  ngType.MeshOnlyH
-00012460: 6967 6865 7374 4672 6571 7565 6e63 793a  ighestFrequency:
-00012470: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00012480: 2073 656c 662e 6869 6768 5f6c 6576 656c   self.high_level
-00012490: 5f67 656f 5f67 656e 2866 7265 7175 656e  _geo_gen(frequen
-000124a0: 6379 3d6d 6178 2866 7265 7175 656e 6379  cy=max(frequency
-000124b0: 5f6c 6973 7429 2c20 736b 696e 5f6d 6573  _list), skin_mes
-000124c0: 685f 6661 6374 6f72 3d73 6b69 6e5f 6d65  h_factor=skin_me
-000124d0: 7368 5f66 6163 746f 7229 0a20 2020 2020  sh_factor).     
-000124e0: 2020 2020 2020 2065 6c69 6620 6578 6369         elif exci
-000124f0: 7461 7469 6f6e 5f6d 6573 6869 6e67 5f74  tation_meshing_t
-00012500: 7970 6520 3d3d 2045 7863 6974 6174 696f  ype == Excitatio
-00012510: 6e4d 6573 6869 6e67 5479 7065 2e4d 6573  nMeshingType.Mes
-00012520: 684f 6e6c 794c 6f77 6573 7446 7265 7175  hOnlyLowestFrequ
-00012530: 656e 6379 3a0a 2020 2020 2020 2020 2020  ency:.          
-00012540: 2020 2020 2020 7365 6c66 2e68 6967 685f        self.high_
-00012550: 6c65 7665 6c5f 6765 6f5f 6765 6e28 6672  level_geo_gen(fr
-00012560: 6571 7565 6e63 793d 6d69 6e28 6672 6571  equency=min(freq
-00012570: 7565 6e63 795f 6c69 7374 292c 2073 6b69  uency_list), ski
-00012580: 6e5f 6d65 7368 5f66 6163 746f 723d 736b  n_mesh_factor=sk
-00012590: 696e 5f6d 6573 685f 6661 6374 6f72 290a  in_mesh_factor).
-000125a0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-000125b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000125c0: 2020 7261 6973 6520 4578 6365 7074 696f    raise Exceptio
-000125d0: 6e28 6622 556e 6b6e 6f77 6e20 6578 6369  n(f"Unknown exci
-000125e0: 7461 7469 6f6e 206d 6573 6869 6e67 2074  tation meshing t
-000125f0: 7970 6520 7b65 7863 6974 6174 696f 6e5f  ype {excitation_
-00012600: 6d65 7368 696e 675f 7479 7065 7d22 290a  meshing_type}").
-00012610: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00012620: 2e6d 6573 682e 6765 6e65 7261 7465 5f68  .mesh.generate_h
-00012630: 7962 7269 645f 6d65 7368 2863 6f6c 6f72  ybrid_mesh(color
-00012640: 5f73 6368 656d 652c 2063 6f6c 6f72 735f  _scheme, colors_
-00012650: 6765 6f6d 6574 7279 2c20 7669 7375 616c  geometry, visual
-00012660: 697a 655f 6265 666f 7265 3d76 6973 7561  ize_before=visua
-00012670: 6c69 7a65 5f62 6566 6f72 652c 0a20 2020  lize_before,.   
+00012190: 2020 2020 2020 2073 6176 655f 706e 673d         save_png=
+000121a0: 7361 7665 5f70 6e67 290a 2020 2020 2020  save_png).      
+000121b0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+000121c0: 6573 682e 6765 6e65 7261 7465 5f65 6c65  esh.generate_ele
+000121d0: 6374 726f 5f6d 6167 6e65 7469 635f 6d65  ctro_magnetic_me
+000121e0: 7368 2829 0a0a 2020 2020 2020 2020 2020  sh()..          
+000121f0: 2020 2020 2020 7365 6c66 2e65 7863 6974        self.excit
+00012200: 6174 696f 6e28 6672 6571 7565 6e63 793d  ation(frequency=
+00012210: 6672 6571 7565 6e63 795f 6c69 7374 5b63  frequency_list[c
+00012220: 6f75 6e74 5f66 7265 7175 656e 6379 5d2c  ount_frequency],
+00012230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012250: 2061 6d70 6c69 7475 6465 5f6c 6973 743d   amplitude_list=
+00012260: 6375 7272 656e 745f 6c69 7374 5f6c 6973  current_list_lis
+00012270: 745b 636f 756e 745f 6672 6571 7565 6e63  t[count_frequenc
+00012280: 795d 2c0a 2020 2020 2020 2020 2020 2020  y],.            
+00012290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000122a0: 2020 2020 7068 6173 655f 6465 675f 6c69      phase_deg_li
+000122b0: 7374 3d70 6869 5f64 6567 5f6c 6973 745f  st=phi_deg_list_
+000122c0: 6c69 7374 5b63 6f75 6e74 5f66 7265 7175  list[count_frequ
+000122d0: 656e 6379 5d29 2020 2320 6672 6571 7565  ency])  # freque
+000122e0: 6e63 7920 616e 6420 6375 7272 656e 740a  ncy and current.
+000122f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012300: 6966 2063 6f75 6e74 5f66 7265 7175 656e  if count_frequen
+00012310: 6379 203d 3d20 303a 0a20 2020 2020 2020  cy == 0:.       
+00012320: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00012330: 662e 6368 6563 6b5f 6d6f 6465 6c5f 6d71  f.check_model_mq
+00012340: 735f 636f 6e64 6974 696f 6e28 290a 2020  s_condition().  
+00012350: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00012360: 6c66 2e77 7269 7465 5f73 696d 756c 6174  lf.write_simulat
+00012370: 696f 6e5f 7061 7261 6d65 7465 7273 5f74  ion_parameters_t
+00012380: 6f5f 7072 6f5f 6669 6c65 7328 290a 2020  o_pro_files().  
+00012390: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000123a0: 6c66 2e67 656e 6572 6174 655f 6c6f 6164  lf.generate_load
+000123b0: 5f6c 6974 7a5f 6170 7072 6f78 696d 6174  _litz_approximat
+000123c0: 696f 6e5f 7061 7261 6d65 7465 7273 2829  ion_parameters()
+000123d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000123e0: 2073 656c 662e 7369 6d75 6c61 7465 2829   self.simulate()
+000123f0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00012400: 2020 2020 2020 2020 2020 2069 6620 6578             if ex
+00012410: 6369 7461 7469 6f6e 5f6d 6573 6869 6e67  citation_meshing
+00012420: 5f74 7970 6520 3d3d 2045 7863 6974 6174  _type == Excitat
+00012430: 696f 6e4d 6573 6869 6e67 5479 7065 2e4d  ionMeshingType.M
+00012440: 6573 684f 6e6c 7948 6967 6865 7374 4672  eshOnlyHighestFr
+00012450: 6571 7565 6e63 793a 0a20 2020 2020 2020  equency:.       
+00012460: 2020 2020 2020 2020 2073 656c 662e 6869           self.hi
+00012470: 6768 5f6c 6576 656c 5f67 656f 5f67 656e  gh_level_geo_gen
+00012480: 2866 7265 7175 656e 6379 3d6d 6178 2866  (frequency=max(f
+00012490: 7265 7175 656e 6379 5f6c 6973 7429 2c20  requency_list), 
+000124a0: 736b 696e 5f6d 6573 685f 6661 6374 6f72  skin_mesh_factor
+000124b0: 3d73 6b69 6e5f 6d65 7368 5f66 6163 746f  =skin_mesh_facto
+000124c0: 7229 0a20 2020 2020 2020 2020 2020 2065  r).            e
+000124d0: 6c69 6620 6578 6369 7461 7469 6f6e 5f6d  lif excitation_m
+000124e0: 6573 6869 6e67 5f74 7970 6520 3d3d 2045  eshing_type == E
+000124f0: 7863 6974 6174 696f 6e4d 6573 6869 6e67  xcitationMeshing
+00012500: 5479 7065 2e4d 6573 684f 6e6c 794c 6f77  Type.MeshOnlyLow
+00012510: 6573 7446 7265 7175 656e 6379 3a0a 2020  estFrequency:.  
+00012520: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00012530: 6c66 2e68 6967 685f 6c65 7665 6c5f 6765  lf.high_level_ge
+00012540: 6f5f 6765 6e28 6672 6571 7565 6e63 793d  o_gen(frequency=
+00012550: 6d69 6e28 6672 6571 7565 6e63 795f 6c69  min(frequency_li
+00012560: 7374 292c 2073 6b69 6e5f 6d65 7368 5f66  st), skin_mesh_f
+00012570: 6163 746f 723d 736b 696e 5f6d 6573 685f  actor=skin_mesh_
+00012580: 6661 6374 6f72 290a 2020 2020 2020 2020  factor).        
+00012590: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+000125a0: 2020 2020 2020 2020 2020 7261 6973 6520            raise 
+000125b0: 4578 6365 7074 696f 6e28 6622 556e 6b6e  Exception(f"Unkn
+000125c0: 6f77 6e20 6578 6369 7461 7469 6f6e 206d  own excitation m
+000125d0: 6573 6869 6e67 2074 7970 6520 7b65 7863  eshing type {exc
+000125e0: 6974 6174 696f 6e5f 6d65 7368 696e 675f  itation_meshing_
+000125f0: 7479 7065 7d22 290a 2020 2020 2020 2020  type}").        
+00012600: 2020 2020 7365 6c66 2e6d 6573 682e 6765      self.mesh.ge
+00012610: 6e65 7261 7465 5f68 7962 7269 645f 6d65  nerate_hybrid_me
+00012620: 7368 2863 6f6c 6f72 5f73 6368 656d 652c  sh(color_scheme,
+00012630: 2063 6f6c 6f72 735f 6765 6f6d 6574 7279   colors_geometry
+00012640: 2c20 7669 7375 616c 697a 655f 6265 666f  , visualize_befo
+00012650: 7265 3d76 6973 7561 6c69 7a65 5f62 6566  re=visualize_bef
+00012660: 6f72 652c 0a20 2020 2020 2020 2020 2020  ore,.           
+00012670: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00012680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000126a0: 2020 2020 2020 2020 7361 7665 5f70 6e67          save_png
-000126b0: 3d73 6176 655f 706e 6729 0a20 2020 2020  =save_png).     
-000126c0: 2020 2020 2020 2073 656c 662e 6d65 7368         self.mesh
-000126d0: 2e67 656e 6572 6174 655f 656c 6563 7472  .generate_electr
-000126e0: 6f5f 6d61 676e 6574 6963 5f6d 6573 6828  o_magnetic_mesh(
-000126f0: 290a 0a20 2020 2020 2020 2020 2020 2063  )..            c
-00012700: 6865 636b 5f6d 6f64 656c 5f6d 7173 5f63  heck_model_mqs_c
-00012710: 6f6e 6469 7469 6f6e 5f61 6c72 6561 6479  ondition_already
-00012720: 5f70 6572 666f 726d 6564 203d 2046 616c  _performed = Fal
-00012730: 7365 0a20 2020 2020 2020 2020 2020 2066  se.            f
-00012740: 6f72 2063 6f75 6e74 5f66 7265 7175 656e  or count_frequen
-00012750: 6379 2c20 7661 6c75 655f 6672 6571 7565  cy, value_freque
-00012760: 6e63 7920 696e 2065 6e75 6d65 7261 7465  ncy in enumerate
-00012770: 2872 616e 6765 2830 2c20 6c65 6e28 6672  (range(0, len(fr
-00012780: 6571 7565 6e63 795f 6c69 7374 2929 293a  equency_list))):
-00012790: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000127a0: 2073 656c 662e 6578 6369 7461 7469 6f6e   self.excitation
-000127b0: 2866 7265 7175 656e 6379 3d66 7265 7175  (frequency=frequ
-000127c0: 656e 6379 5f6c 6973 745b 636f 756e 745f  ency_list[count_
-000127d0: 6672 6571 7565 6e63 795d 2c0a 2020 2020  frequency],.    
-000127e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000127f0: 2020 2020 2020 2020 2020 2020 616d 706c              ampl
-00012800: 6974 7564 655f 6c69 7374 3d63 7572 7265  itude_list=curre
-00012810: 6e74 5f6c 6973 745f 6c69 7374 5b63 6f75  nt_list_list[cou
-00012820: 6e74 5f66 7265 7175 656e 6379 5d2c 0a20  nt_frequency],. 
-00012830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012840: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00012850: 6861 7365 5f64 6567 5f6c 6973 743d 7068  hase_deg_list=ph
-00012860: 695f 6465 675f 6c69 7374 5f6c 6973 745b  i_deg_list_list[
-00012870: 636f 756e 745f 6672 6571 7565 6e63 795d  count_frequency]
-00012880: 2920 2023 2066 7265 7175 656e 6379 2061  )  # frequency a
-00012890: 6e64 2063 7572 7265 6e74 0a20 2020 2020  nd current.     
-000128a0: 2020 2020 2020 2020 2020 2069 6620 7661             if va
-000128b0: 6c75 655f 6672 6571 7565 6e63 7920 213d  lue_frequency !=
-000128c0: 2030 2061 6e64 206e 6f74 2063 6865 636b   0 and not check
-000128d0: 5f6d 6f64 656c 5f6d 7173 5f63 6f6e 6469  _model_mqs_condi
-000128e0: 7469 6f6e 5f61 6c72 6561 6479 5f70 6572  tion_already_per
-000128f0: 666f 726d 6564 3a0a 2020 2020 2020 2020  formed:.        
-00012900: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00012910: 2e63 6865 636b 5f6d 6f64 656c 5f6d 7173  .check_model_mqs
-00012920: 5f63 6f6e 6469 7469 6f6e 2829 0a20 2020  _condition().   
-00012930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012940: 2063 6865 636b 5f6d 6f64 656c 5f6d 7173   check_model_mqs
-00012950: 5f63 6f6e 6469 7469 6f6e 5f61 6c72 6561  _condition_alrea
-00012960: 6479 5f70 6572 666f 726d 6564 203d 2054  dy_performed = T
-00012970: 7275 650a 2020 2020 2020 2020 2020 2020  rue.            
-00012980: 2020 2020 7365 6c66 2e77 7269 7465 5f73      self.write_s
-00012990: 696d 756c 6174 696f 6e5f 7061 7261 6d65  imulation_parame
-000129a0: 7465 7273 5f74 6f5f 7072 6f5f 6669 6c65  ters_to_pro_file
-000129b0: 7328 290a 2020 2020 2020 2020 2020 2020  s().            
-000129c0: 2020 2020 7365 6c66 2e67 656e 6572 6174      self.generat
-000129d0: 655f 6c6f 6164 5f6c 6974 7a5f 6170 7072  e_load_litz_appr
-000129e0: 6f78 696d 6174 696f 6e5f 7061 7261 6d65  oximation_parame
-000129f0: 7465 7273 2829 0a20 2020 2020 2020 2020  ters().         
-00012a00: 2020 2020 2020 2073 656c 662e 7369 6d75         self.simu
-00012a10: 6c61 7465 2829 0a20 2020 2020 2020 2020  late().         
-00012a20: 2020 2020 2020 2023 2073 656c 662e 7669         # self.vi
-00012a30: 7375 616c 697a 6528 290a 2020 2020 2020  sualize().      
-00012a40: 2020 7365 6c66 2e77 7269 7465 5f61 6e64    self.write_and
-00012a50: 5f63 616c 6375 6c61 7465 5f63 6f6d 6d6f  _calculate_commo
-00012a60: 6e5f 6c6f 6728 696e 6475 6374 616e 6365  n_log(inductance
-00012a70: 5f64 6963 743d 696e 6475 6374 616e 6365  _dict=inductance
-00012a80: 5f64 6963 7429 0a20 2020 2020 2020 2073  _dict).        s
-00012a90: 656c 662e 6361 6c63 756c 6174 655f 616e  elf.calculate_an
-00012aa0: 645f 7772 6974 655f 6672 6571 5f64 6f6d  d_write_freq_dom
-00012ab0: 6169 6e5f 6c6f 6728 6e75 6d62 6572 5f66  ain_log(number_f
-00012ac0: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
-00012ad0: 696f 6e73 3d6c 656e 2866 7265 7175 656e  ions=len(frequen
-00012ae0: 6379 5f6c 6973 7429 2c20 6375 7272 656e  cy_list), curren
-00012af0: 745f 616d 706c 6974 7564 655f 6c69 7374  t_amplitude_list
-00012b00: 3d63 7572 7265 6e74 5f6c 6973 745f 6c69  =current_list_li
-00012b10: 7374 2c0a 2020 2020 2020 2020 2020 2020  st,.            
-00012b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012b40: 2020 2020 2066 7265 7175 656e 6369 6573       frequencies
-00012b50: 3d66 7265 7175 656e 6379 5f6c 6973 742c  =frequency_list,
-00012b60: 2070 6861 7365 5f64 6567 5f6c 6973 743d   phase_deg_list=
-00012b70: 7068 695f 6465 675f 6c69 7374 5f6c 6973  phi_deg_list_lis
-00012b80: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
-00012b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012bb0: 2020 2020 636f 7265 5f68 7973 745f 6c6f      core_hyst_lo
-00012bc0: 7373 6573 3d63 6f72 655f 6879 7374 5f6c  sses=core_hyst_l
-00012bd0: 6f73 7329 0a0a 2020 2020 2020 2020 6966  oss)..        if
-00012be0: 2073 686f 775f 6c61 7374 5f66 656d 5f73   show_last_fem_s
-00012bf0: 696d 756c 6174 696f 6e3a 0a20 2020 2020  imulation:.     
-00012c00: 2020 2020 2020 2073 656c 662e 7772 6974         self.writ
-00012c10: 655f 7369 6d75 6c61 7469 6f6e 5f70 6172  e_simulation_par
-00012c20: 616d 6574 6572 735f 746f 5f70 726f 5f66  ameters_to_pro_f
-00012c30: 696c 6573 2829 0a20 2020 2020 2020 2020  iles().         
-00012c40: 2020 2073 656c 662e 7669 7375 616c 697a     self.visualiz
-00012c50: 6528 290a 0a20 2020 2064 6566 2063 6f6d  e()..    def com
-00012c60: 706f 6e65 6e74 5f73 7475 6479 2873 656c  ponent_study(sel
-00012c70: 662c 2074 696d 655f 6375 7272 656e 745f  f, time_current_
-00012c80: 7665 6374 6f72 733a 204c 6973 745b 4c69  vectors: List[Li
-00012c90: 7374 5b4c 6973 745b 666c 6f61 745d 5d5d  st[List[float]]]
-00012ca0: 2c20 6666 745f 6669 6c74 6572 5f76 616c  , fft_filter_val
-00012cb0: 7565 5f66 6163 746f 723a 2066 6c6f 6174  ue_factor: float
-00012cc0: 203d 2030 2e30 3129 3a0a 2020 2020 2020   = 0.01):.      
-00012cd0: 2020 2222 220a 2020 2020 2020 2020 4675    """.        Fu
-00012ce0: 6c6c 2073 7475 6479 2066 6f72 2074 6865  ll study for the
-00012cf0: 2063 6f6d 706f 6e65 6e74 3a20 696e 6475   component: indu
-00012d00: 6374 616e 6365 2076 616c 7565 7320 616e  ctance values an
-00012d10: 6420 6c6f 7373 6573 2e0a 0a20 2020 2020  d losses...     
-00012d20: 2020 203a 7061 7261 6d20 7469 6d65 5f63     :param time_c
-00012d30: 7572 7265 6e74 5f76 6563 746f 7273 3a20  urrent_vectors: 
-00012d40: 2e2e 2e2e 0a20 2020 2020 2020 203a 7479  .....        :ty
-00012d50: 7065 2074 696d 655f 6375 7272 656e 745f  pe time_current_
-00012d60: 7665 6374 6f72 733a 204c 6973 745b 4c69  vectors: List[Li
-00012d70: 7374 5b4c 6973 745b 666c 6f61 745d 5d0a  st[List[float]].
-00012d80: 2020 2020 2020 2020 3a70 6172 616d 2066          :param f
-00012d90: 6674 5f66 696c 7465 725f 7661 6c75 655f  ft_filter_value_
-00012da0: 6661 6374 6f72 3a20 4661 6374 6f72 2074  factor: Factor t
-00012db0: 6f20 6669 6c74 6572 2066 7265 7175 656e  o filter frequen
-00012dc0: 6369 6573 2066 726f 6d20 7468 6520 6666  cies from the ff
-00012dd0: 742e 2045 2e67 2e20 302e 3031 205b 6465  t. E.g. 0.01 [de
-00012de0: 6661 756c 745d 2072 656d 6f76 6573 2061  fault] removes a
-00012df0: 6c6c 0a20 2020 2020 2020 2020 2020 2061  ll.            a
-00012e00: 6d70 6c69 7475 6465 7320 6265 6c6f 7720  mplitudes below 
-00012e10: 3120 2520 6f66 2074 6865 206d 6178 696d  1 % of the maxim
-00012e20: 756d 2061 6d70 6c69 7475 6465 2066 726f  um amplitude fro
-00012e30: 6d20 7468 6520 7265 7375 6c74 2d66 7265  m the result-fre
-00012e40: 7175 656e 6379 206c 6973 740a 2020 2020  quency list.    
-00012e50: 2020 2020 3a74 7970 6520 6666 745f 6669      :type fft_fi
-00012e60: 6c74 6572 5f76 616c 7565 5f66 6163 746f  lter_value_facto
-00012e70: 723a 2066 6c6f 6174 0a0a 2020 2020 2020  r: float..      
-00012e80: 2020 2222 220a 2020 2020 2020 2020 2320    """.        # 
-00012e90: 7769 6e64 696e 6720 6c6f 7373 6573 0a20  winding losses. 
-00012ea0: 2020 2020 2020 2066 7265 7175 656e 6379         frequency
-00012eb0: 5f63 7572 7265 6e74 5f70 6861 7365 5f64  _current_phase_d
-00012ec0: 6567 5f6c 6973 7420 3d20 5b5d 0a0a 2020  eg_list = []..  
-00012ed0: 2020 2020 2020 2320 636f 6c6c 6563 7420        # collect 
-00012ee0: 7369 6d75 6c61 7469 6f6e 2069 6e70 7574  simulation input
-00012ef0: 2070 6172 616d 6574 6572 7320 6672 6f6d   parameters from
-00012f00: 2074 696d 655f 6375 7272 656e 745f 7665   time_current_ve
-00012f10: 6374 6f72 730a 2020 2020 2020 2020 6879  ctors.        hy
-00012f20: 7374 5f6c 6f73 735f 616d 706c 6974 7564  st_loss_amplitud
-00012f30: 6573 203d 205b 5d0a 2020 2020 2020 2020  es = [].        
-00012f40: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
-00012f50: 5f64 6567 203d 205b 5d0a 2020 2020 2020  _deg = [].      
-00012f60: 2020 6879 7374 5f66 7265 7175 656e 6379    hyst_frequency
-00012f70: 203d 2031 202f 2028 7469 6d65 5f63 7572   = 1 / (time_cur
-00012f80: 7265 6e74 5f76 6563 746f 7273 5b30 5d5b  rent_vectors[0][
-00012f90: 305d 5b2d 315d 290a 2020 2020 2020 2020  0][-1]).        
-00012fa0: 666f 7220 7469 6d65 5f63 7572 7265 6e74  for time_current
-00012fb0: 5f76 6563 746f 7220 696e 2074 696d 655f  _vector in time_
-00012fc0: 6375 7272 656e 745f 7665 6374 6f72 733a  current_vectors:
-00012fd0: 0a20 2020 2020 2020 2020 2020 2023 2063  .            # c
-00012fe0: 6f6c 6c65 6374 2077 696e 6469 6e67 206c  ollect winding l
-00012ff0: 6f73 7365 7320 7369 6d75 6c61 7469 6f6e  osses simulation
-00013000: 2069 6e70 7574 2070 6172 616d 6574 6572   input parameter
-00013010: 730a 2020 2020 2020 2020 2020 2020 5b66  s.            [f
-00013020: 7265 7175 656e 6379 5f6c 6973 742c 2061  requency_list, a
-00013030: 6d70 6c69 7475 6465 2c20 7068 695f 7261  mplitude, phi_ra
-00013040: 645d 203d 2066 662e 6666 7428 7469 6d65  d] = ff.fft(time
-00013050: 5f63 7572 7265 6e74 5f76 6563 746f 722c  _current_vector,
-00013060: 206d 6f64 653d 2774 696d 6527 2c0a 2020   mode='time',.  
+00012690: 7361 7665 5f70 6e67 3d73 6176 655f 706e  save_png=save_pn
+000126a0: 6729 0a20 2020 2020 2020 2020 2020 2073  g).            s
+000126b0: 656c 662e 6d65 7368 2e67 656e 6572 6174  elf.mesh.generat
+000126c0: 655f 656c 6563 7472 6f5f 6d61 676e 6574  e_electro_magnet
+000126d0: 6963 5f6d 6573 6828 290a 0a20 2020 2020  ic_mesh()..     
+000126e0: 2020 2020 2020 2063 6865 636b 5f6d 6f64         check_mod
+000126f0: 656c 5f6d 7173 5f63 6f6e 6469 7469 6f6e  el_mqs_condition
+00012700: 5f61 6c72 6561 6479 5f70 6572 666f 726d  _already_perform
+00012710: 6564 203d 2046 616c 7365 0a20 2020 2020  ed = False.     
+00012720: 2020 2020 2020 2066 6f72 2063 6f75 6e74         for count
+00012730: 5f66 7265 7175 656e 6379 2c20 7661 6c75  _frequency, valu
+00012740: 655f 6672 6571 7565 6e63 7920 696e 2065  e_frequency in e
+00012750: 6e75 6d65 7261 7465 2872 616e 6765 2830  numerate(range(0
+00012760: 2c20 6c65 6e28 6672 6571 7565 6e63 795f  , len(frequency_
+00012770: 6c69 7374 2929 293a 0a20 2020 2020 2020  list))):.       
+00012780: 2020 2020 2020 2020 2073 656c 662e 6578           self.ex
+00012790: 6369 7461 7469 6f6e 2866 7265 7175 656e  citation(frequen
+000127a0: 6379 3d66 7265 7175 656e 6379 5f6c 6973  cy=frequency_lis
+000127b0: 745b 636f 756e 745f 6672 6571 7565 6e63  t[count_frequenc
+000127c0: 795d 2c0a 2020 2020 2020 2020 2020 2020  y],.            
+000127d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000127e0: 2020 2020 616d 706c 6974 7564 655f 6c69      amplitude_li
+000127f0: 7374 3d63 7572 7265 6e74 5f6c 6973 745f  st=current_list_
+00012800: 6c69 7374 5b63 6f75 6e74 5f66 7265 7175  list[count_frequ
+00012810: 656e 6379 5d2c 0a20 2020 2020 2020 2020  ency],.         
+00012820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012830: 2020 2020 2020 2070 6861 7365 5f64 6567         phase_deg
+00012840: 5f6c 6973 743d 7068 695f 6465 675f 6c69  _list=phi_deg_li
+00012850: 7374 5f6c 6973 745b 636f 756e 745f 6672  st_list[count_fr
+00012860: 6571 7565 6e63 795d 2920 2023 2066 7265  equency])  # fre
+00012870: 7175 656e 6379 2061 6e64 2063 7572 7265  quency and curre
+00012880: 6e74 0a20 2020 2020 2020 2020 2020 2020  nt.             
+00012890: 2020 2069 6620 7661 6c75 655f 6672 6571     if value_freq
+000128a0: 7565 6e63 7920 213d 2030 2061 6e64 206e  uency != 0 and n
+000128b0: 6f74 2063 6865 636b 5f6d 6f64 656c 5f6d  ot check_model_m
+000128c0: 7173 5f63 6f6e 6469 7469 6f6e 5f61 6c72  qs_condition_alr
+000128d0: 6561 6479 5f70 6572 666f 726d 6564 3a0a  eady_performed:.
+000128e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000128f0: 2020 2020 7365 6c66 2e63 6865 636b 5f6d      self.check_m
+00012900: 6f64 656c 5f6d 7173 5f63 6f6e 6469 7469  odel_mqs_conditi
+00012910: 6f6e 2829 0a20 2020 2020 2020 2020 2020  on().           
+00012920: 2020 2020 2020 2020 2063 6865 636b 5f6d           check_m
+00012930: 6f64 656c 5f6d 7173 5f63 6f6e 6469 7469  odel_mqs_conditi
+00012940: 6f6e 5f61 6c72 6561 6479 5f70 6572 666f  on_already_perfo
+00012950: 726d 6564 203d 2054 7275 650a 2020 2020  rmed = True.    
+00012960: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00012970: 2e77 7269 7465 5f73 696d 756c 6174 696f  .write_simulatio
+00012980: 6e5f 7061 7261 6d65 7465 7273 5f74 6f5f  n_parameters_to_
+00012990: 7072 6f5f 6669 6c65 7328 290a 2020 2020  pro_files().    
+000129a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000129b0: 2e67 656e 6572 6174 655f 6c6f 6164 5f6c  .generate_load_l
+000129c0: 6974 7a5f 6170 7072 6f78 696d 6174 696f  itz_approximatio
+000129d0: 6e5f 7061 7261 6d65 7465 7273 2829 0a20  n_parameters(). 
+000129e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000129f0: 656c 662e 7369 6d75 6c61 7465 2829 0a20  elf.simulate(). 
+00012a00: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00012a10: 2073 656c 662e 7669 7375 616c 697a 6528   self.visualize(
+00012a20: 290a 2020 2020 2020 2020 7365 6c66 2e77  ).        self.w
+00012a30: 7269 7465 5f61 6e64 5f63 616c 6375 6c61  rite_and_calcula
+00012a40: 7465 5f63 6f6d 6d6f 6e5f 6c6f 6728 696e  te_common_log(in
+00012a50: 6475 6374 616e 6365 5f64 6963 743d 696e  ductance_dict=in
+00012a60: 6475 6374 616e 6365 5f64 6963 7429 0a20  ductance_dict). 
+00012a70: 2020 2020 2020 2073 656c 662e 6361 6c63         self.calc
+00012a80: 756c 6174 655f 616e 645f 7772 6974 655f  ulate_and_write_
+00012a90: 6672 6571 5f64 6f6d 6169 6e5f 6c6f 6728  freq_domain_log(
+00012aa0: 6e75 6d62 6572 5f66 7265 7175 656e 6379  number_frequency
+00012ab0: 5f73 696d 756c 6174 696f 6e73 3d6c 656e  _simulations=len
+00012ac0: 2866 7265 7175 656e 6379 5f6c 6973 7429  (frequency_list)
+00012ad0: 2c20 6375 7272 656e 745f 616d 706c 6974  , current_amplit
+00012ae0: 7564 655f 6c69 7374 3d63 7572 7265 6e74  ude_list=current
+00012af0: 5f6c 6973 745f 6c69 7374 2c0a 2020 2020  _list_list,.    
+00012b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b20: 2020 2020 2020 2020 2020 2020 2066 7265               fre
+00012b30: 7175 656e 6369 6573 3d66 7265 7175 656e  quencies=frequen
+00012b40: 6379 5f6c 6973 742c 2070 6861 7365 5f64  cy_list, phase_d
+00012b50: 6567 5f6c 6973 743d 7068 695f 6465 675f  eg_list=phi_deg_
+00012b60: 6c69 7374 5f6c 6973 742c 0a20 2020 2020  list_list,.     
+00012b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b90: 2020 2020 2020 2020 2020 2020 636f 7265              core
+00012ba0: 5f68 7973 745f 6c6f 7373 6573 3d63 6f72  _hyst_losses=cor
+00012bb0: 655f 6879 7374 5f6c 6f73 7329 0a0a 2020  e_hyst_loss)..  
+00012bc0: 2020 2020 2020 6966 2073 686f 775f 6c61        if show_la
+00012bd0: 7374 5f66 656d 5f73 696d 756c 6174 696f  st_fem_simulatio
+00012be0: 6e3a 0a20 2020 2020 2020 2020 2020 2073  n:.            s
+00012bf0: 656c 662e 7772 6974 655f 7369 6d75 6c61  elf.write_simula
+00012c00: 7469 6f6e 5f70 6172 616d 6574 6572 735f  tion_parameters_
+00012c10: 746f 5f70 726f 5f66 696c 6573 2829 0a20  to_pro_files(). 
+00012c20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00012c30: 7669 7375 616c 697a 6528 290a 0a20 2020  visualize()..   
+00012c40: 2064 6566 2063 6f6d 706f 6e65 6e74 5f73   def component_s
+00012c50: 7475 6479 2873 656c 662c 2074 696d 655f  tudy(self, time_
+00012c60: 6375 7272 656e 745f 7665 6374 6f72 733a  current_vectors:
+00012c70: 204c 6973 745b 4c69 7374 5b4c 6973 745b   List[List[List[
+00012c80: 666c 6f61 745d 5d5d 2c20 6666 745f 6669  float]]], fft_fi
+00012c90: 6c74 6572 5f76 616c 7565 5f66 6163 746f  lter_value_facto
+00012ca0: 723a 2066 6c6f 6174 203d 2030 2e30 3129  r: float = 0.01)
+00012cb0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00012cc0: 2020 2020 2020 4675 6c6c 2073 7475 6479        Full study
+00012cd0: 2066 6f72 2074 6865 2063 6f6d 706f 6e65   for the compone
+00012ce0: 6e74 3a20 696e 6475 6374 616e 6365 2076  nt: inductance v
+00012cf0: 616c 7565 7320 616e 6420 6c6f 7373 6573  alues and losses
+00012d00: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+00012d10: 6d20 7469 6d65 5f63 7572 7265 6e74 5f76  m time_current_v
+00012d20: 6563 746f 7273 3a20 2e2e 2e2e 0a20 2020  ectors: .....   
+00012d30: 2020 2020 203a 7479 7065 2074 696d 655f       :type time_
+00012d40: 6375 7272 656e 745f 7665 6374 6f72 733a  current_vectors:
+00012d50: 204c 6973 745b 4c69 7374 5b4c 6973 745b   List[List[List[
+00012d60: 666c 6f61 745d 5d5d 0a20 2020 2020 2020  float]]].       
+00012d70: 203a 7061 7261 6d20 6666 745f 6669 6c74   :param fft_filt
+00012d80: 6572 5f76 616c 7565 5f66 6163 746f 723a  er_value_factor:
+00012d90: 2046 6163 746f 7220 746f 2066 696c 7465   Factor to filte
+00012da0: 7220 6672 6571 7565 6e63 6965 7320 6672  r frequencies fr
+00012db0: 6f6d 2074 6865 2066 6674 2e20 452e 672e  om the fft. E.g.
+00012dc0: 2030 2e30 3120 5b64 6566 6175 6c74 5d20   0.01 [default] 
+00012dd0: 7265 6d6f 7665 7320 616c 6c0a 2020 2020  removes all.    
+00012de0: 2020 2020 2020 2020 616d 706c 6974 7564          amplitud
+00012df0: 6573 2062 656c 6f77 2031 2025 206f 6620  es below 1 % of 
+00012e00: 7468 6520 6d61 7869 6d75 6d20 616d 706c  the maximum ampl
+00012e10: 6974 7564 6520 6672 6f6d 2074 6865 2072  itude from the r
+00012e20: 6573 756c 742d 6672 6571 7565 6e63 7920  esult-frequency 
+00012e30: 6c69 7374 0a20 2020 2020 2020 203a 7479  list.        :ty
+00012e40: 7065 2066 6674 5f66 696c 7465 725f 7661  pe fft_filter_va
+00012e50: 6c75 655f 6661 6374 6f72 3a20 666c 6f61  lue_factor: floa
+00012e60: 740a 0a20 2020 2020 2020 2022 2222 0a20  t..        """. 
+00012e70: 2020 2020 2020 2023 2077 696e 6469 6e67         # winding
+00012e80: 206c 6f73 7365 730a 2020 2020 2020 2020   losses.        
+00012e90: 6672 6571 7565 6e63 795f 6375 7272 656e  frequency_curren
+00012ea0: 745f 7068 6173 655f 6465 675f 6c69 7374  t_phase_deg_list
+00012eb0: 203d 205b 5d0a 0a20 2020 2020 2020 2023   = []..        #
+00012ec0: 2063 6f6c 6c65 6374 2073 696d 756c 6174   collect simulat
+00012ed0: 696f 6e20 696e 7075 7420 7061 7261 6d65  ion input parame
+00012ee0: 7465 7273 2066 726f 6d20 7469 6d65 5f63  ters from time_c
+00012ef0: 7572 7265 6e74 5f76 6563 746f 7273 0a20  urrent_vectors. 
+00012f00: 2020 2020 2020 2068 7973 745f 6c6f 7373         hyst_loss
+00012f10: 5f61 6d70 6c69 7475 6465 7320 3d20 5b5d  _amplitudes = []
+00012f20: 0a20 2020 2020 2020 2068 7973 745f 6c6f  .        hyst_lo
+00012f30: 7373 5f70 6861 7365 735f 6465 6720 3d20  ss_phases_deg = 
+00012f40: 5b5d 0a20 2020 2020 2020 2068 7973 745f  [].        hyst_
+00012f50: 6672 6571 7565 6e63 7920 3d20 3120 2f20  frequency = 1 / 
+00012f60: 2874 696d 655f 6375 7272 656e 745f 7665  (time_current_ve
+00012f70: 6374 6f72 735b 305d 5b30 5d5b 2d31 5d29  ctors[0][0][-1])
+00012f80: 0a20 2020 2020 2020 2066 6f72 2074 696d  .        for tim
+00012f90: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
+00012fa0: 2069 6e20 7469 6d65 5f63 7572 7265 6e74   in time_current
+00012fb0: 5f76 6563 746f 7273 3a0a 2020 2020 2020  _vectors:.      
+00012fc0: 2020 2020 2020 2320 636f 6c6c 6563 7420        # collect 
+00012fd0: 7769 6e64 696e 6720 6c6f 7373 6573 2073  winding losses s
+00012fe0: 696d 756c 6174 696f 6e20 696e 7075 7420  imulation input 
+00012ff0: 7061 7261 6d65 7465 7273 0a20 2020 2020  parameters.     
+00013000: 2020 2020 2020 205b 6672 6571 7565 6e63         [frequenc
+00013010: 795f 6c69 7374 2c20 616d 706c 6974 7564  y_list, amplitud
+00013020: 652c 2070 6869 5f72 6164 5d20 3d20 6666  e, phi_rad] = ff
+00013030: 2e66 6674 2874 696d 655f 6375 7272 656e  .fft(time_curren
+00013040: 745f 7665 6374 6f72 2c20 6d6f 6465 3d27  t_vector, mode='
+00013050: 7469 6d65 272c 0a20 2020 2020 2020 2020  time',.         
+00013060: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00013070: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00013080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000130a0: 2020 2020 2020 2020 6669 6c74 6572 5f76          filter_v
-000130b0: 616c 7565 5f66 6163 746f 723d 6666 745f  alue_factor=fft_
-000130c0: 6669 6c74 6572 5f76 616c 7565 5f66 6163  filter_value_fac
-000130d0: 746f 7229 0a20 2020 2020 2020 2020 2020  tor).           
-000130e0: 2070 6869 5f64 6567 203d 206e 702e 7261   phi_deg = np.ra
-000130f0: 6432 6465 6728 7068 695f 7261 6429 0a20  d2deg(phi_rad). 
-00013100: 2020 2020 2020 2020 2020 2066 7265 7175             frequ
-00013110: 656e 6379 5f63 7572 7265 6e74 5f70 6861  ency_current_pha
-00013120: 7365 5f64 6567 5f6c 6973 742e 6170 7065  se_deg_list.appe
-00013130: 6e64 285b 6672 6571 7565 6e63 795f 6c69  nd([frequency_li
-00013140: 7374 2c20 616d 706c 6974 7564 652c 2070  st, amplitude, p
-00013150: 6869 5f64 6567 5d29 0a0a 2020 2020 2020  hi_deg])..      
-00013160: 2020 2020 2020 2320 636f 6c6c 6563 7420        # collect 
-00013170: 6879 7374 6572 6573 6973 206c 6f73 7320  hysteresis loss 
-00013180: 7369 6d75 6c61 7469 6f6e 2069 6e70 7574  simulation input
-00013190: 2070 6172 616d 6574 6572 730a 2020 2020   parameters.    
-000131a0: 2020 2020 2020 2020 6879 7374 5f6c 6f73          hyst_los
-000131b0: 735f 616d 706c 6974 7564 6573 2e61 7070  s_amplitudes.app
-000131c0: 656e 6428 6672 2e6d 6178 5f76 616c 7565  end(fr.max_value
-000131d0: 5f66 726f 6d5f 7661 6c75 655f 7665 6328  _from_value_vec(
-000131e0: 7469 6d65 5f63 7572 7265 6e74 5f76 6563  time_current_vec
-000131f0: 746f 725b 315d 295b 305d 290a 2020 2020  tor[1])[0]).    
-00013200: 2020 2020 2020 2020 6879 7374 5f6c 6f73          hyst_los
-00013210: 735f 7068 6173 6573 5f64 6567 2e61 7070  s_phases_deg.app
-00013220: 656e 6428 0a20 2020 2020 2020 2020 2020  end(.           
-00013230: 2020 2020 2066 722e 7068 6173 6573 5f64       fr.phases_d
-00013240: 6567 5f66 726f 6d5f 7469 6d65 5f63 7572  eg_from_time_cur
-00013250: 7265 6e74 2874 696d 655f 6375 7272 656e  rent(time_curren
-00013260: 745f 7665 6374 6f72 5b30 5d2c 2074 696d  t_vector[0], tim
-00013270: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
-00013280: 5b31 5d29 5b30 5d29 0a0a 2020 2020 2020  [1])[0])..      
-00013290: 2020 2320 6368 6563 6b20 6966 2061 6c6c    # check if all
-000132a0: 2066 7265 7175 656e 6379 2076 6563 746f   frequency vecto
-000132b0: 7273 2069 6e63 6c75 6465 2074 6865 2073  rs include the s
-000132c0: 616d 6520 6672 6571 7565 6e63 6965 730a  ame frequencies.
-000132d0: 2020 2020 2020 2020 666f 7220 636f 756e          for coun
-000132e0: 7420 696e 2072 616e 6765 286c 656e 2866  t in range(len(f
-000132f0: 7265 7175 656e 6379 5f63 7572 7265 6e74  requency_current
-00013300: 5f70 6861 7365 5f64 6567 5f6c 6973 7429  _phase_deg_list)
-00013310: 202d 2031 293a 0a20 2020 2020 2020 2020   - 1):.         
-00013320: 2020 2069 6620 6e6f 7420 6e70 2e61 7272     if not np.arr
-00013330: 6179 5f65 7175 616c 2866 7265 7175 656e  ay_equal(frequen
-00013340: 6379 5f63 7572 7265 6e74 5f70 6861 7365  cy_current_phase
-00013350: 5f64 6567 5f6c 6973 745b 636f 756e 745d  _deg_list[count]
-00013360: 5b30 5d2c 0a20 2020 2020 2020 2020 2020  [0],.           
-00013370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013380: 2020 2020 2020 2066 7265 7175 656e 6379         frequency
-00013390: 5f63 7572 7265 6e74 5f70 6861 7365 5f64  _current_phase_d
-000133a0: 6567 5f6c 6973 745b 636f 756e 7420 2b20  eg_list[count + 
-000133b0: 315d 5b30 5d29 3a0a 2020 2020 2020 2020  1][0]):.        
-000133c0: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-000133d0: 6c75 6545 7272 6f72 2822 4672 6571 7565  lueError("Freque
-000133e0: 6e63 7920 7665 6374 6f72 7320 666f 7220  ncy vectors for 
-000133f0: 6469 6666 6572 656e 7420 6375 7272 656e  different curren
-00013400: 7473 2061 7265 206e 6f74 2074 6865 2073  ts are not the s
-00013410: 616d 6521 2229 0a0a 2020 2020 2020 2020  ame!")..        
-00013420: 2320 7472 616e 7366 6572 2066 6f72 6d61  # transfer forma
-00013430: 7420 6672 6f6d 2066 6674 2829 2d6f 7574  t from fft()-out
-00013440: 7075 7420 746f 2065 7863 6974 6174 696f  put to excitatio
-00013450: 6e5f 7377 6565 7028 292d 696e 7075 740a  n_sweep()-input.
-00013460: 2020 2020 2020 2020 6375 7272 656e 745f          current_
-00013470: 6c69 7374 5f6c 6973 7420 3d20 5b5d 0a20  list_list = []. 
-00013480: 2020 2020 2020 2070 6869 5f64 6567 5f6c         phi_deg_l
-00013490: 6973 745f 6c69 7374 203d 205b 5d0a 2020  ist_list = [].  
-000134a0: 2020 2020 2020 666f 7220 636f 756e 745f        for count_
-000134b0: 6672 6571 7565 6e63 792c 205f 2069 6e20  frequency, _ in 
-000134c0: 656e 756d 6572 6174 6528 6672 6571 7565  enumerate(freque
-000134d0: 6e63 795f 6c69 7374 293a 0a20 2020 2020  ncy_list):.     
-000134e0: 2020 2020 2020 2063 7572 7265 6e74 735f         currents_
-000134f0: 7369 6e67 6c65 5f66 7265 7175 656e 6379  single_frequency
-00013500: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
-00013510: 2020 7068 695f 6465 675f 7369 6e67 6c65    phi_deg_single
-00013520: 5f66 7265 7175 656e 6379 203d 205b 5d0a  _frequency = [].
-00013530: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00013540: 636f 756e 745f 6375 7272 656e 742c 205f  count_current, _
-00013550: 2069 6e20 656e 756d 6572 6174 6528 7469   in enumerate(ti
-00013560: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
-00013570: 7273 293a 0a20 2020 2020 2020 2020 2020  rs):.           
-00013580: 2020 2020 2063 7572 7265 6e74 735f 7369       currents_si
-00013590: 6e67 6c65 5f66 7265 7175 656e 6379 2e61  ngle_frequency.a
-000135a0: 7070 656e 6428 6672 6571 7565 6e63 795f  ppend(frequency_
-000135b0: 6375 7272 656e 745f 7068 6173 655f 6465  current_phase_de
-000135c0: 675f 6c69 7374 5b63 6f75 6e74 5f63 7572  g_list[count_cur
-000135d0: 7265 6e74 5d5b 315d 5b63 6f75 6e74 5f66  rent][1][count_f
-000135e0: 7265 7175 656e 6379 5d29 0a20 2020 2020  requency]).     
-000135f0: 2020 2020 2020 2020 2020 2070 6869 5f64             phi_d
-00013600: 6567 5f73 696e 676c 655f 6672 6571 7565  eg_single_freque
-00013610: 6e63 792e 6170 7065 6e64 2866 7265 7175  ncy.append(frequ
-00013620: 656e 6379 5f63 7572 7265 6e74 5f70 6861  ency_current_pha
-00013630: 7365 5f64 6567 5f6c 6973 745b 636f 756e  se_deg_list[coun
-00013640: 745f 6375 7272 656e 745d 5b32 5d5b 636f  t_current][2][co
-00013650: 756e 745f 6672 6571 7565 6e63 795d 290a  unt_frequency]).
-00013660: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-00013670: 656e 745f 6c69 7374 5f6c 6973 742e 6170  ent_list_list.ap
-00013680: 7065 6e64 2863 7572 7265 6e74 735f 7369  pend(currents_si
-00013690: 6e67 6c65 5f66 7265 7175 656e 6379 290a  ngle_frequency).
-000136a0: 2020 2020 2020 2020 2020 2020 7068 695f              phi_
-000136b0: 6465 675f 6c69 7374 5f6c 6973 742e 6170  deg_list_list.ap
-000136c0: 7065 6e64 2870 6869 5f64 6567 5f73 696e  pend(phi_deg_sin
-000136d0: 676c 655f 6672 6571 7565 6e63 7929 0a0a  gle_frequency)..
-000136e0: 2020 2020 2020 2020 2320 6765 7420 7468          # get th
-000136f0: 6520 696e 6475 6374 616e 6365 0a20 2020  e inductance.   
-00013700: 2020 2020 2069 6e64 7563 7461 6e63 655f       inductance_
-00013710: 6469 6374 203d 2073 656c 662e 6765 745f  dict = self.get_
-00013720: 696e 6475 6374 616e 6365 7328 4930 3d31  inductances(I0=1
-00013730: 2c20 6f70 5f66 7265 7175 656e 6379 3d68  , op_frequency=h
-00013740: 7973 745f 6672 6571 7565 6e63 792c 2073  yst_frequency, s
-00013750: 6b69 6e5f 6d65 7368 5f66 6163 746f 723d  kin_mesh_factor=
-00013760: 3129 0a0a 2020 2020 2020 2020 2320 6361  1)..        # ca
-00013770: 6c63 756c 6174 6520 6879 7374 6572 6573  lculate hysteres
-00013780: 6973 206c 6f73 7365 730a 2020 2020 2020  is losses.      
-00013790: 2020 2320 7573 6520 6120 7369 6e67 6c65    # use a single
-000137a0: 2073 696d 756c 6174 696f 6e0a 2020 2020   simulation.    
-000137b0: 2020 2020 7365 6c66 2e67 656e 6572 6174      self.generat
-000137c0: 655f 6c6f 6164 5f6c 6974 7a5f 6170 7072  e_load_litz_appr
-000137d0: 6f78 696d 6174 696f 6e5f 7061 7261 6d65  oximation_parame
-000137e0: 7465 7273 2829 0a20 2020 2020 2020 2073  ters().        s
-000137f0: 656c 662e 6578 6369 7461 7469 6f6e 2866  elf.excitation(f
-00013800: 7265 7175 656e 6379 3d68 7973 745f 6672  requency=hyst_fr
-00013810: 6571 7565 6e63 792c 2061 6d70 6c69 7475  equency, amplitu
-00013820: 6465 5f6c 6973 743d 6879 7374 5f6c 6f73  de_list=hyst_los
-00013830: 735f 616d 706c 6974 7564 6573 2c0a 2020  s_amplitudes,.  
-00013840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013850: 2020 2020 2020 7068 6173 655f 6465 675f        phase_deg_
-00013860: 6c69 7374 3d68 7973 745f 6c6f 7373 5f70  list=hyst_loss_p
-00013870: 6861 7365 735f 6465 672c 2070 6c6f 745f  hases_deg, plot_
-00013880: 696e 7465 7270 6f6c 6174 696f 6e3d 4661  interpolation=Fa
-00013890: 6c73 6529 2020 2320 6672 6571 7565 6e63  lse)  # frequenc
-000138a0: 7920 616e 6420 6375 7272 656e 740a 2020  y and current.  
-000138b0: 2020 2020 2020 7365 6c66 2e63 6865 636b        self.check
-000138c0: 5f6d 6f64 656c 5f6d 7173 5f63 6f6e 6469  _model_mqs_condi
-000138d0: 7469 6f6e 2829 0a20 2020 2020 2020 2073  tion().        s
-000138e0: 656c 662e 7772 6974 655f 7369 6d75 6c61  elf.write_simula
-000138f0: 7469 6f6e 5f70 6172 616d 6574 6572 735f  tion_parameters_
-00013900: 746f 5f70 726f 5f66 696c 6573 2829 0a20  to_pro_files(). 
-00013910: 2020 2020 2020 2073 656c 662e 6765 6e65         self.gene
-00013920: 7261 7465 5f6c 6f61 645f 6c69 747a 5f61  rate_load_litz_a
-00013930: 7070 726f 7869 6d61 7469 6f6e 5f70 6172  pproximation_par
-00013940: 616d 6574 6572 7328 290a 2020 2020 2020  ameters().      
-00013950: 2020 7365 6c66 2e73 696d 756c 6174 6528    self.simulate(
-00013960: 290a 2020 2020 2020 2020 7365 6c66 2e63  ).        self.c
-00013970: 616c 6375 6c61 7465 5f61 6e64 5f77 7269  alculate_and_wri
-00013980: 7465 5f66 7265 715f 646f 6d61 696e 5f6c  te_freq_domain_l
-00013990: 6f67 2829 2020 2320 544f 444f 3a20 7265  og()  # TODO: re
-000139a0: 7573 6520 6365 6e74 6572 2074 6170 7065  use center tappe
-000139b0: 640a 2020 2020 2020 2020 2320 5b70 5f68  d.        # [p_h
-000139c0: 7973 745d 203d 2073 656c 662e 6c6f 6164  yst] = self.load
-000139d0: 5f72 6573 756c 7428 7265 735f 6e61 6d65  _result(res_name
-000139e0: 3d22 705f 6879 7374 2229 0a0a 2020 2020  ="p_hyst")..    
-000139f0: 2020 2020 2320 7265 6164 2074 6865 206c      # read the l
-00013a00: 6f67 206f 6620 7468 6520 7472 616e 7366  og of the transf
-00013a10: 6f72 6d65 7220 6c6f 7373 6573 0a20 2020  ormer losses.   
-00013a20: 2020 2020 206c 6f67 203d 2073 656c 662e       log = self.
-00013a30: 7265 6164 5f6c 6f67 2829 0a0a 2020 2020  read_log()..    
-00013a40: 2020 2020 2320 6669 6e64 206f 7574 2074      # find out t
-00013a50: 6865 206e 756d 6265 7220 6f66 2063 6f72  he number of cor
-00013a60: 6520 7061 7274 732c 2069 6e69 7420 636f  e parts, init co
-00013a70: 7265 2070 6172 7420 6c6f 7373 6573 2077  re part losses w
-00013a80: 6974 6820 7a65 726f 730a 2020 2020 2020  ith zeros.      
-00013a90: 2020 6e75 6d62 6572 5f6f 665f 636f 7265    number_of_core
-00013aa0: 5f70 6172 7473 203d 206c 656e 286c 6f67  _parts = len(log
-00013ab0: 5b22 7369 6e67 6c65 5f73 7765 6570 7322  ["single_sweeps"
-00013ac0: 5d5b 305d 5b27 636f 7265 5f70 6172 7473  ][0]['core_parts
-00013ad0: 275d 290a 2020 2020 2020 2020 705f 6879  ']).        p_hy
-00013ae0: 7374 5f63 6f72 655f 7061 7274 7320 3d20  st_core_parts = 
-00013af0: 6e70 2e7a 6572 6f73 286e 756d 6265 725f  np.zeros(number_
-00013b00: 6f66 5f63 6f72 655f 7061 7274 7329 0a0a  of_core_parts)..
-00013b10: 2020 2020 2020 2020 666f 7220 636f 7265          for core
-00013b20: 5f70 6172 7420 696e 2072 616e 6765 2831  _part in range(1
-00013b30: 2c20 6e75 6d62 6572 5f6f 665f 636f 7265  , number_of_core
-00013b40: 5f70 6172 7473 202b 2031 293a 0a20 2020  _parts + 1):.   
-00013b50: 2020 2020 2020 2020 2063 6f72 655f 7061           core_pa
-00013b60: 7274 5f68 7973 745f 6c6f 7373 203d 206c  rt_hyst_loss = l
-00013b70: 6f67 5b27 7369 6e67 6c65 5f73 7765 6570  og['single_sweep
-00013b80: 7327 5d5b 305d 5b27 636f 7265 5f70 6172  s'][0]['core_par
-00013b90: 7473 275d 5b66 2763 6f72 655f 7061 7274  ts'][f'core_part
-00013ba0: 5f7b 636f 7265 5f70 6172 747d 275d 5b27  _{core_part}']['
-00013bb0: 6879 7374 5f6c 6f73 7365 7327 5d0a 2020  hyst_losses'].  
-00013bc0: 2020 2020 2020 2020 2020 705f 6879 7374            p_hyst
-00013bd0: 5f63 6f72 655f 7061 7274 735b 636f 7265  _core_parts[core
-00013be0: 5f70 6172 7420 2d20 315d 202b 3d20 636f  _part - 1] += co
-00013bf0: 7265 5f70 6172 745f 6879 7374 5f6c 6f73  re_part_hyst_los
-00013c00: 730a 2020 2020 2020 2020 2320 4e6f 772c  s.        # Now,
-00013c10: 2070 5f68 7973 745f 636f 7265 5f70 6172   p_hyst_core_par
-00013c20: 7473 2069 6e63 6c75 6465 7320 7468 6520  ts includes the 
-00013c30: 6675 6c6c 2074 7261 6e73 666f 726d 6572  full transformer
-00013c40: 206c 6f73 7365 732e 0a0a 2020 2020 2020   losses...      
-00013c50: 2020 2320 6361 6c63 756c 6174 6520 7468    # calculate th
-00013c60: 6520 7769 6e64 696e 6720 6c6f 7373 6573  e winding losses
-00013c70: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
-00013c80: 6369 7461 7469 6f6e 5f73 7765 6570 2866  citation_sweep(f
-00013c90: 7265 7175 656e 6379 5f6c 6973 742c 2063  requency_list, c
-00013ca0: 7572 7265 6e74 5f6c 6973 745f 6c69 7374  urrent_list_list
-00013cb0: 2c20 7068 695f 6465 675f 6c69 7374 5f6c  , phi_deg_list_l
-00013cc0: 6973 742c 2069 6e64 7563 7461 6e63 655f  ist, inductance_
-00013cd0: 6469 6374 3d69 6e64 7563 7461 6e63 655f  dict=inductance_
-00013ce0: 6469 6374 2c0a 2020 2020 2020 2020 2020  dict,.          
-00013cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013d00: 2020 2020 636f 7265 5f68 7973 745f 6c6f      core_hyst_lo
-00013d10: 7373 3d70 5f68 7973 745f 636f 7265 5f70  ss=p_hyst_core_p
-00013d20: 6172 7473 290a 0a20 2020 2064 6566 2063  arts)..    def c
-00013d30: 656e 7465 725f 7461 7070 6564 5f70 7265  enter_tapped_pre
-00013d40: 5f73 7475 6479 2873 656c 662c 2074 696d  _study(self, tim
-00013d50: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
-00013d60: 733a 204c 6973 745b 4c69 7374 5b4c 6973  s: List[List[Lis
-00013d70: 745b 666c 6f61 745d 5d5d 2c20 706c 6f74  t[float]]], plot
-00013d80: 5f77 6176 6566 6f72 6d73 3a20 626f 6f6c  _waveforms: bool
-00013d90: 203d 2046 616c 7365 2c0a 2020 2020 2020   = False,.      
-00013da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013db0: 2020 2020 2020 2020 2020 6666 745f 6669            fft_fi
-00013dc0: 6c74 6572 5f76 616c 7565 5f66 6163 746f  lter_value_facto
-00013dd0: 723a 2066 6c6f 6174 203d 2030 2e30 3129  r: float = 0.01)
-00013de0: 202d 3e20 4469 6374 3a0a 2020 2020 2020   -> Dict:.      
-00013df0: 2020 2222 220a 2020 2020 2020 2020 4765    """.        Ge
-00013e00: 6e65 7261 7465 2074 6865 2063 7572 7265  nerate the curre
-00013e10: 6e74 2077 6176 6566 6f72 6d73 206e 6565  nt waveforms nee
-00013e20: 6465 6420 666f 7220 7468 6520 6365 6e74  ded for the cent
-00013e30: 6572 5f74 6170 7065 645f 7374 7564 7928  er_tapped_study(
-00013e40: 292e 0a0a 2020 2020 2020 2020 4173 206d  )...        As m
-00013e50: 6167 6e65 7469 7a69 6e67 2063 7572 7265  agnetizing curre
-00013e60: 6e74 7320 6172 6520 6f66 7465 6e20 6e6f  nts are often no
-00013e70: 6e2d 7369 6e75 736f 6964 616c 2c20 736f  n-sinusoidal, so
-00013e80: 6d65 2063 6f72 7265 6374 696f 6e73 2069  me corrections i
-00013e90: 6e20 7468 6520 7369 6d75 6c61 7469 6f6e  n the simulation
-00013ea0: 2063 7572 7265 6e74 2077 6176 6566 6f72   current wavefor
-00013eb0: 6d73 0a20 2020 2020 2020 2061 7265 206e  ms.        are n
-00013ec0: 6565 6465 642e 2054 6869 7320 6675 6e63  eeded. This func
-00013ed0: 7469 6f6e 2063 616c 6375 6c61 7465 7320  tion calculates 
-00013ee0: 7468 6520 6e65 7720 6375 7272 656e 7420  the new current 
-00013ef0: 7761 7665 666f 726d 7320 666f 7220 7468  waveforms for th
-00013f00: 6520 6365 6e74 6572 2074 6170 7065 6420  e center tapped 
-00013f10: 7374 7564 7920 746f 2067 6574 0a20 2020  study to get.   
-00013f20: 2020 2020 2069 6e64 7563 7461 6e63 6520       inductance 
-00013f30: 7661 6c75 6573 2061 6e64 2073 6f20 6f6e  values and so on
-00013f40: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
-00013f50: 6d20 7469 6d65 5f63 7572 7265 6e74 5f76  m time_current_v
-00013f60: 6563 746f 7273 3a20 7469 6d65 2d63 7572  ectors: time-cur
-00013f70: 7265 6e74 2076 6563 746f 7273 2066 6f72  rent vectors for
-00013f80: 2070 7269 6d61 7279 2061 6e64 2073 6563   primary and sec
-00013f90: 6f6e 6461 7279 0a20 2020 2020 2020 203a  ondary.        :
-00013fa0: 7479 7065 2074 696d 655f 6375 7272 656e  type time_curren
-00013fb0: 745f 7665 6374 6f72 733a 204c 6973 745b  t_vectors: List[
-00013fc0: 4c69 7374 5b4c 6973 745b 666c 6f61 745d  List[List[float]
-00013fd0: 5d5d 0a20 2020 2020 2020 203a 7061 7261  ]].        :para
-00013fe0: 6d20 706c 6f74 5f77 6176 6566 6f72 6d73  m plot_waveforms
-00013ff0: 3a20 5472 7565 2074 6f20 7761 7463 6820  : True to watch 
-00014000: 7468 6520 7072 652d 6361 6c63 756c 6174  the pre-calculat
-00014010: 6564 2077 6176 6566 6f72 6d73 0a20 2020  ed waveforms.   
-00014020: 2020 2020 203a 7479 7065 2070 6c6f 745f       :type plot_
-00014030: 7761 7665 666f 726d 733a 2062 6f6f 6c0a  waveforms: bool.
-00014040: 2020 2020 2020 2020 3a70 6172 616d 2066          :param f
-00014050: 6674 5f66 696c 7465 725f 7661 6c75 655f  ft_filter_value_
-00014060: 6661 6374 6f72 3a20 4661 6374 6f72 2074  factor: Factor t
-00014070: 6f20 6669 6c74 6572 2066 7265 7175 656e  o filter frequen
-00014080: 6369 6573 2066 726f 6d20 7468 6520 6666  cies from the ff
-00014090: 742e 2045 2e67 2e20 302e 3031 205b 6465  t. E.g. 0.01 [de
-000140a0: 6661 756c 745d 2072 656d 6f76 6573 2061  fault] removes a
-000140b0: 6c6c 0a20 2020 2020 2020 2020 2020 2061  ll.            a
-000140c0: 6d70 6c69 7475 6465 7320 6265 6c6f 7720  mplitudes below 
-000140d0: 3120 2520 6f66 2074 6865 206d 6178 696d  1 % of the maxim
-000140e0: 756d 2061 6d70 6c69 7475 6465 2066 726f  um amplitude fro
-000140f0: 6d20 7468 6520 7265 7375 6c74 2d66 7265  m the result-fre
-00014100: 7175 656e 6379 206c 6973 740a 2020 2020  quency list.    
-00014110: 2020 2020 3a74 7970 6520 6666 745f 6669      :type fft_fi
-00014120: 6c74 6572 5f76 616c 7565 5f66 6163 746f  lter_value_facto
-00014130: 723a 2066 6c6f 6174 0a20 2020 2020 2020  r: float.       
-00014140: 203a 7265 7475 726e 3a20 6e65 7720 6375   :return: new cu
-00014150: 7272 656e 7420 7761 7665 666f 726d 2076  rrent waveform v
-00014160: 6563 746f 720a 2020 2020 2020 2020 3a72  ector.        :r
-00014170: 7479 7065 3a20 4469 6374 0a0a 2020 2020  type: Dict..    
-00014180: 2020 2020 7265 7475 726e 2064 6963 743a      return dict:
-00014190: 0a20 2020 2020 2020 2063 656e 7465 725f  .        center_
-000141a0: 7461 7070 6564 5f73 7475 6479 5f65 7863  tapped_study_exc
-000141b0: 6974 6174 696f 6e20 3d20 7b0a 2020 2020  itation = {.    
-000141c0: 2020 2020 2020 2020 2268 7973 7465 7265          "hystere
-000141d0: 7369 7322 3a20 7b0a 2020 2020 2020 2020  sis": {.        
-000141e0: 2020 2020 2020 2020 2266 7265 7175 656e          "frequen
-000141f0: 6379 223a 204e 6f6e 652c 0a20 2020 2020  cy": None,.     
-00014200: 2020 2020 2020 2020 2020 2022 7472 616e             "tran
-00014210: 7366 6f72 6d65 7222 3a20 7b0a 2020 2020  sformer": {.    
-00014220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014230: 2263 7572 7265 6e74 5f61 6d70 6c69 7475  "current_amplitu
-00014240: 6465 7322 3a20 4e6f 6e65 2c0a 2020 2020  des": None,.    
-00014250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014260: 2263 7572 7265 6e74 5f70 6861 7365 735f  "current_phases_
-00014270: 6465 6722 3a20 4e6f 6e65 0a20 2020 2020  deg": None.     
-00014280: 2020 2020 2020 2020 2020 207d 2c0a 2020             },.  
-00014290: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000142a0: 686f 6b65 223a 207b 0a20 2020 2020 2020  hoke": {.       
-000142b0: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
-000142c0: 7272 656e 745f 616d 706c 6974 7564 6573  rrent_amplitudes
-000142d0: 223a 204e 6f6e 652c 0a20 2020 2020 2020  ": None,.       
-000142e0: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
-000142f0: 7272 656e 745f 7068 6173 6573 5f64 6567  rrent_phases_deg
-00014300: 223a 204e 6f6e 650a 2020 2020 2020 2020  ": None.        
-00014310: 2020 2020 2020 2020 7d0a 2020 2020 2020          }.      
-00014320: 2020 2020 2020 7d2c 0a20 2020 2020 2020        },.       
-00014330: 2020 2020 2022 6c69 6e65 6172 5f6c 6f73       "linear_los
-00014340: 7365 7322 3a20 7b0a 2020 2020 2020 2020  ses": {.        
-00014350: 2020 2020 2020 2020 2266 7265 7175 656e          "frequen
-00014360: 6369 6573 223a 204e 6f6e 652c 0a20 2020  cies": None,.   
-00014370: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
-00014380: 7272 656e 745f 616d 706c 6974 7564 6573  rrent_amplitudes
-00014390: 223a 204e 6f6e 652c 0a20 2020 2020 2020  ": None,.       
-000143a0: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
-000143b0: 745f 7068 6173 6573 5f64 6567 223a 204e  t_phases_deg": N
-000143c0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
-000143d0: 7d0a 2020 2020 2020 2020 7d0a 2020 2020  }.        }.    
-000143e0: 2020 2020 2222 220a 0a20 2020 2020 2020      """..       
-000143f0: 2064 6566 2068 7973 7465 7265 7369 735f   def hysteresis_
-00014400: 6c6f 7373 5f65 7863 6974 6174 696f 6e28  loss_excitation(
-00014410: 696e 7075 745f 7469 6d65 5f63 7572 7265  input_time_curre
-00014420: 6e74 5f76 6563 746f 7273 293a 0a20 2020  nt_vectors):.   
-00014430: 2020 2020 2020 2020 2023 2063 6f6c 6c65           # colle
-00014440: 6374 2073 696d 756c 6174 696f 6e20 696e  ct simulation in
-00014450: 7075 7420 7061 7261 6d65 7465 7273 2066  put parameters f
-00014460: 726f 6d20 7469 6d65 5f63 7572 7265 6e74  rom time_current
-00014470: 5f76 6563 746f 7273 0a20 2020 2020 2020  _vectors.       
-00014480: 2020 2020 2068 7973 745f 6c6f 7373 5f61       hyst_loss_a
-00014490: 6d70 6c69 7475 6465 7320 3d20 5b5d 0a20  mplitudes = []. 
-000144a0: 2020 2020 2020 2020 2020 2068 7973 745f             hyst_
-000144b0: 6c6f 7373 5f70 6861 7365 735f 6465 6720  loss_phases_deg 
-000144c0: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
-000144d0: 2068 7973 745f 6672 6571 7565 6e63 7920   hyst_frequency 
-000144e0: 3d20 3120 2f20 2869 6e70 7574 5f74 696d  = 1 / (input_tim
-000144f0: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
-00014500: 735b 305d 5b30 5d5b 2d31 5d29 0a20 2020  s[0][0][-1]).   
-00014510: 2020 2020 2020 2020 2066 6f72 2074 696d           for tim
-00014520: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
-00014530: 2069 6e20 696e 7075 745f 7469 6d65 5f63   in input_time_c
-00014540: 7572 7265 6e74 5f76 6563 746f 7273 3a0a  urrent_vectors:.
-00014550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014560: 2320 636f 6c6c 6563 7420 6879 7374 6572  # collect hyster
-00014570: 6573 6973 206c 6f73 7320 7369 6d75 6c61  esis loss simula
-00014580: 7469 6f6e 2069 6e70 7574 2070 6172 616d  tion input param
-00014590: 6574 6572 730a 2020 2020 2020 2020 2020  eters.          
-000145a0: 2020 2020 2020 6879 7374 5f6c 6f73 735f        hyst_loss_
-000145b0: 616d 706c 6974 7564 6573 2e61 7070 656e  amplitudes.appen
-000145c0: 6428 6672 2e6d 6178 5f76 616c 7565 5f66  d(fr.max_value_f
-000145d0: 726f 6d5f 7661 6c75 655f 7665 6328 7469  rom_value_vec(ti
-000145e0: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
-000145f0: 725b 315d 295b 305d 290a 2020 2020 2020  r[1])[0]).      
-00014600: 2020 2020 2020 2020 2020 6879 7374 5f6c            hyst_l
-00014610: 6f73 735f 7068 6173 6573 5f64 6567 2e61  oss_phases_deg.a
-00014620: 7070 656e 6428 0a20 2020 2020 2020 2020  ppend(.         
-00014630: 2020 2020 2020 2020 2020 2066 722e 7068             fr.ph
-00014640: 6173 6573 5f64 6567 5f66 726f 6d5f 7469  ases_deg_from_ti
-00014650: 6d65 5f63 7572 7265 6e74 2874 696d 655f  me_current(time_
-00014660: 6375 7272 656e 745f 7665 6374 6f72 5b30  current_vector[0
-00014670: 5d2c 2074 696d 655f 6375 7272 656e 745f  ], time_current_
-00014680: 7665 6374 6f72 5b31 5d29 5b30 5d29 0a20  vector[1])[0]). 
-00014690: 2020 2020 2020 2020 2020 2072 6574 7572             retur
-000146a0: 6e20 6879 7374 5f66 7265 7175 656e 6379  n hyst_frequency
-000146b0: 2c20 6879 7374 5f6c 6f73 735f 616d 706c  , hyst_loss_ampl
-000146c0: 6974 7564 6573 2c20 6879 7374 5f6c 6f73  itudes, hyst_los
-000146d0: 735f 7068 6173 6573 5f64 6567 0a0a 2020  s_phases_deg..  
-000146e0: 2020 2020 2020 6465 6620 7370 6c69 745f        def split_
-000146f0: 6879 7374 6572 6573 6973 5f6c 6f73 735f  hysteresis_loss_
-00014700: 6578 6369 7461 7469 6f6e 5f63 656e 7465  excitation_cente
-00014710: 725f 7461 7070 6564 2868 7973 745f 6672  r_tapped(hyst_fr
-00014720: 6571 7565 6e63 792c 2068 7973 745f 6c6f  equency, hyst_lo
-00014730: 7373 5f61 6d70 6c69 7475 6465 732c 2068  ss_amplitudes, h
-00014740: 7973 745f 6c6f 7373 5f70 6861 7365 735f  yst_loss_phases_
-00014750: 6465 6729 3a0a 2020 2020 2020 2020 2020  deg):.          
-00014760: 2020 2320 7072 696e 7428 6622 7b68 7973    # print(f"{hys
-00014770: 745f 6672 6571 7565 6e63 792c 2068 7973  t_frequency, hys
-00014780: 745f 6c6f 7373 5f61 6d70 6c69 7475 6465  t_loss_amplitude
-00014790: 732c 2068 7973 745f 6c6f 7373 5f70 6861  s, hyst_loss_pha
-000147a0: 7365 735f 6465 6720 3d20 7d22 290a 2020  ses_deg = }").  
-000147b0: 2020 2020 2020 2020 2020 6879 7374 5f6c            hyst_l
-000147c0: 6f73 735f 616d 706c 6974 7564 6573 5b2d  oss_amplitudes[-
-000147d0: 315d 203d 2068 7973 745f 6c6f 7373 5f61  1] = hyst_loss_a
-000147e0: 6d70 6c69 7475 6465 735b 2d31 5d20 2f20  mplitudes[-1] / 
-000147f0: 320a 2020 2020 2020 2020 2020 2020 6879  2.            hy
-00014800: 7374 5f6c 6f73 735f 616d 706c 6974 7564  st_loss_amplitud
-00014810: 6573 2e61 7070 656e 6428 6879 7374 5f6c  es.append(hyst_l
-00014820: 6f73 735f 616d 706c 6974 7564 6573 5b2d  oss_amplitudes[-
-00014830: 315d 290a 2020 2020 2020 2020 2020 2020  1]).            
-00014840: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
-00014850: 5f64 6567 2e61 7070 656e 6428 6879 7374  _deg.append(hyst
-00014860: 5f6c 6f73 735f 7068 6173 6573 5f64 6567  _loss_phases_deg
-00014870: 5b2d 315d 290a 2020 2020 2020 2020 2020  [-1]).          
-00014880: 2020 2320 7072 696e 7428 6622 7b68 7973    # print(f"{hys
-00014890: 745f 6672 6571 7565 6e63 792c 2068 7973  t_frequency, hys
-000148a0: 745f 6c6f 7373 5f61 6d70 6c69 7475 6465  t_loss_amplitude
-000148b0: 732c 2068 7973 745f 6c6f 7373 5f70 6861  s, hyst_loss_pha
-000148c0: 7365 735f 6465 6720 3d20 7d22 290a 2020  ses_deg = }").  
-000148d0: 2020 2020 2020 2020 2020 7265 7475 726e            return
-000148e0: 2068 7973 745f 6672 6571 7565 6e63 792c   hyst_frequency,
-000148f0: 2068 7973 745f 6c6f 7373 5f61 6d70 6c69   hyst_loss_ampli
-00014900: 7475 6465 732c 2068 7973 745f 6c6f 7373  tudes, hyst_loss
-00014910: 5f70 6861 7365 735f 6465 670a 0a20 2020  _phases_deg..   
-00014920: 2020 2020 2064 6566 2073 706c 6974 5f74       def split_t
-00014930: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
-00014940: 6f72 735f 6365 6e74 6572 5f74 6170 7065  ors_center_tappe
-00014950: 6428 7469 6d65 5f63 7572 7265 6e74 5f76  d(time_current_v
-00014960: 6563 746f 7273 3a20 4c69 7374 5b4c 6973  ectors: List[Lis
-00014970: 745b 4c69 7374 5b66 6c6f 6174 5d5d 5d29  t[List[float]]])
-00014980: 3a0a 2020 2020 2020 2020 2020 2020 2320  :.            # 
-00014990: 7072 696e 7428 6622 7b74 696d 655f 6375  print(f"{time_cu
-000149a0: 7272 656e 745f 7665 6374 6f72 7320 3d20  rrent_vectors = 
-000149b0: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
-000149c0: 706f 7369 7469 7665 5f73 6563 6f6e 6461  positive_seconda
-000149d0: 7279 5f63 7572 7265 6e74 203d 206e 702e  ry_current = np.
-000149e0: 636f 7079 2874 696d 655f 6375 7272 656e  copy(time_curren
-000149f0: 745f 7665 6374 6f72 735b 315d 5b31 5d29  t_vectors[1][1])
-00014a00: 0a20 2020 2020 2020 2020 2020 2070 6f73  .            pos
-00014a10: 6974 6976 655f 7365 636f 6e64 6172 795f  itive_secondary_
-00014a20: 6375 7272 656e 745b 706f 7369 7469 7665  current[positive
-00014a30: 5f73 6563 6f6e 6461 7279 5f63 7572 7265  _secondary_curre
-00014a40: 6e74 203c 2030 5d20 3d20 300a 2020 2020  nt < 0] = 0.    
-00014a50: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
-00014a60: 6622 7b70 6f73 6974 6976 655f 7365 636f  f"{positive_seco
-00014a70: 6e64 6172 795f 6375 7272 656e 7420 3d20  ndary_current = 
-00014a80: 7d22 290a 2020 2020 2020 2020 2020 2020  }").            
-00014a90: 6e65 6761 7469 7665 5f73 6563 6f6e 6461  negative_seconda
-00014aa0: 7279 5f63 7572 7265 6e74 203d 206e 702e  ry_current = np.
-00014ab0: 636f 7079 2874 696d 655f 6375 7272 656e  copy(time_curren
-00014ac0: 745f 7665 6374 6f72 735b 315d 5b31 5d29  t_vectors[1][1])
-00014ad0: 0a20 2020 2020 2020 2020 2020 206e 6567  .            neg
-00014ae0: 6174 6976 655f 7365 636f 6e64 6172 795f  ative_secondary_
-00014af0: 6375 7272 656e 745b 6e65 6761 7469 7665  current[negative
-00014b00: 5f73 6563 6f6e 6461 7279 5f63 7572 7265  _secondary_curre
-00014b10: 6e74 203e 2030 5d20 3d20 300a 2020 2020  nt > 0] = 0.    
-00014b20: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
-00014b30: 6622 7b6e 6567 6174 6976 655f 7365 636f  f"{negative_seco
-00014b40: 6e64 6172 795f 6375 7272 656e 7420 3d20  ndary_current = 
-00014b50: 7d22 290a 0a20 2020 2020 2020 2020 2020  }")..           
-00014b60: 2063 656e 7465 725f 7461 7070 6564 5f74   center_tapped_t
-00014b70: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
-00014b80: 6f72 7320 3d20 5b74 696d 655f 6375 7272  ors = [time_curr
-00014b90: 656e 745f 7665 6374 6f72 735b 305d 2c0a  ent_vectors[0],.
-00014ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014bd0: 2020 5b74 696d 655f 6375 7272 656e 745f    [time_current_
-00014be0: 7665 6374 6f72 735b 315d 5b30 5d2c 2070  vectors[1][0], p
-00014bf0: 6f73 6974 6976 655f 7365 636f 6e64 6172  ositive_secondar
-00014c00: 795f 6375 7272 656e 745d 2c0a 2020 2020  y_current],.    
-00014c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014c30: 2020 2020 2020 2020 2020 2020 2020 5b74                [t
-00014c40: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
-00014c50: 6f72 735b 315d 5b30 5d2c 206e 6567 6174  ors[1][0], negat
-00014c60: 6976 655f 7365 636f 6e64 6172 795f 6375  ive_secondary_cu
-00014c70: 7272 656e 745d 5d0a 0a20 2020 2020 2020  rrent]]..       
-00014c80: 2020 2020 2069 6620 706c 6f74 5f77 6176       if plot_wav
-00014c90: 6566 6f72 6d73 3a0a 2020 2020 2020 2020  eforms:.        
-00014ca0: 2020 2020 2020 2020 706c 742e 706c 6f74          plt.plot
-00014cb0: 2874 696d 655f 6375 7272 656e 745f 7665  (time_current_ve
-00014cc0: 6374 6f72 735b 315d 5b30 5d2c 206e 6567  ctors[1][0], neg
-00014cd0: 6174 6976 655f 7365 636f 6e64 6172 795f  ative_secondary_
-00014ce0: 6375 7272 656e 742c 206c 6162 656c 3d22  current, label="
-00014cf0: 6e65 6761 7469 7665 5f73 6563 6f6e 6461  negative_seconda
-00014d00: 7279 5f63 7572 7265 6e74 2229 0a20 2020  ry_current").   
-00014d10: 2020 2020 2020 2020 2020 2020 2070 6c74               plt
-00014d20: 2e70 6c6f 7428 7469 6d65 5f63 7572 7265  .plot(time_curre
-00014d30: 6e74 5f76 6563 746f 7273 5b31 5d5b 305d  nt_vectors[1][0]
-00014d40: 2c20 706f 7369 7469 7665 5f73 6563 6f6e  , positive_secon
-00014d50: 6461 7279 5f63 7572 7265 6e74 2c20 6c61  dary_current, la
-00014d60: 6265 6c3d 2270 6f73 6974 6976 655f 7365  bel="positive_se
-00014d70: 636f 6e64 6172 795f 6375 7272 656e 7422  condary_current"
-00014d80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00014d90: 2020 706c 742e 706c 6f74 2874 696d 655f    plt.plot(time_
-00014da0: 6375 7272 656e 745f 7665 6374 6f72 735b  current_vectors[
-00014db0: 305d 5b30 5d2c 2074 696d 655f 6375 7272  0][0], time_curr
-00014dc0: 656e 745f 7665 6374 6f72 735b 305d 5b31  ent_vectors[0][1
-00014dd0: 5d2c 206c 6162 656c 3d22 7072 696d 6172  ], label="primar
-00014de0: 795f 6375 7272 656e 7422 290a 2020 2020  y_current").    
-00014df0: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
-00014e00: 786c 6162 656c 2822 7469 6d65 202f 2073  xlabel("time / s
-00014e10: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-00014e20: 2020 2070 6c74 2e79 6c61 6265 6c28 2263     plt.ylabel("c
-00014e30: 7572 7265 6e74 202f 2041 2229 0a20 2020  urrent / A").   
-00014e40: 2020 2020 2020 2020 2020 2020 2070 6c74               plt
-00014e50: 2e67 7269 6428 290a 2020 2020 2020 2020  .grid().        
-00014e60: 2020 2020 2020 2020 706c 742e 6c65 6765          plt.lege
-00014e70: 6e64 2829 0a20 2020 2020 2020 2020 2020  nd().           
-00014e80: 2020 2020 2070 6c74 2e73 686f 7728 290a       plt.show().
-00014e90: 0a20 2020 2020 2020 2020 2020 2072 6574  .            ret
-00014ea0: 7572 6e20 6365 6e74 6572 5f74 6170 7065  urn center_tappe
-00014eb0: 645f 7469 6d65 5f63 7572 7265 6e74 5f76  d_time_current_v
-00014ec0: 6563 746f 7273 0a0a 2020 2020 2020 2020  ectors..        
-00014ed0: 6465 6620 6c69 6e65 6172 5f6c 6f73 735f  def linear_loss_
-00014ee0: 6578 6369 7461 7469 6f6e 2874 696d 655f  excitation(time_
-00014ef0: 6375 7272 656e 745f 7665 6374 6f72 733a  current_vectors:
-00014f00: 204c 6973 745b 4c69 7374 5b4c 6973 745b   List[List[List[
-00014f10: 666c 6f61 745d 5d5d 2c0a 2020 2020 2020  float]]],.      
-00014f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f30: 2020 2020 2020 2020 2020 2020 2066 6674               fft
-00014f40: 5f66 696c 7465 725f 7661 6c75 655f 6661  _filter_value_fa
-00014f50: 6374 6f72 3a20 666c 6f61 7420 3d20 302e  ctor: float = 0.
-00014f60: 3031 293a 0a20 2020 2020 2020 2020 2020  01):.           
-00014f70: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
-00014f80: 2050 6572 666f 726d 2046 4654 2074 6f20   Perform FFT to 
-00014f90: 6765 7420 7468 6520 7072 696d 6172 7920  get the primary 
-00014fa0: 616e 6420 7365 636f 6e64 6172 7920 6375  and secondary cu
-00014fb0: 7272 656e 7473 2074 6f20 6361 6c63 756c  rrents to calcul
-00014fc0: 6174 6520 7468 6520 7769 7265 206c 6f73  ate the wire los
-00014fd0: 7365 732e 0a0a 2020 2020 2020 2020 2020  ses...          
-00014fe0: 2020 5468 6573 6520 6c6f 7373 6573 2063    These losses c
-00014ff0: 616e 2062 6520 276c 696e 6561 7220 6164  an be 'linear ad
-00015000: 6465 6427 2074 6f20 6765 7420 7468 6520  ded' to get the 
-00015010: 746f 7461 6c20 7769 6e64 696e 6720 6c6f  total winding lo
-00015020: 7373 6573 2e0a 0a20 2020 2020 2020 2020  sses...         
-00015030: 2020 203a 7061 7261 6d20 7469 6d65 5f63     :param time_c
-00015040: 7572 7265 6e74 5f76 6563 746f 7273 3a20  urrent_vectors: 
-00015050: 7072 696d 6172 7920 616e 6420 7365 636f  primary and seco
-00015060: 6e64 6172 7920 6375 7272 656e 7420 7761  ndary current wa
-00015070: 7665 666f 726d 7320 6f76 6572 2074 696d  veforms over tim
-00015080: 650a 2020 2020 2020 2020 2020 2020 3a74  e.            :t
-00015090: 7970 6520 7469 6d65 5f63 7572 7265 6e74  ype time_current
-000150a0: 5f76 6563 746f 7273 3a20 4c69 7374 5b4c  _vectors: List[L
-000150b0: 6973 745b 4c69 7374 5b66 6c6f 6174 5d5d  ist[List[float]]
-000150c0: 5d0a 2020 2020 2020 2020 2020 2020 3a70  ].            :p
-000150d0: 6172 616d 2066 6674 5f66 696c 7465 725f  aram fft_filter_
-000150e0: 7661 6c75 655f 6661 6374 6f72 3a20 4661  value_factor: Fa
-000150f0: 6374 6f72 2074 6f20 6669 6c74 6572 2066  ctor to filter f
-00015100: 7265 7175 656e 6369 6573 2066 726f 6d20  requencies from 
-00015110: 7468 6520 6666 742e 2045 2e67 2e20 302e  the fft. E.g. 0.
-00015120: 3031 205b 6465 6661 756c 745d 0a20 2020  01 [default].   
-00015130: 2020 2020 2020 2020 2020 2020 2072 656d               rem
-00015140: 6f76 6573 2061 6c6c 2061 6d70 6c69 7475  oves all amplitu
-00015150: 6465 7320 6265 6c6f 7720 3120 2520 6f66  des below 1 % of
-00015160: 2074 6865 206d 6178 696d 756d 2061 6d70   the maximum amp
-00015170: 6c69 7475 6465 2066 726f 6d20 7468 6520  litude from the 
-00015180: 7265 7375 6c74 2d66 7265 7175 656e 6379  result-frequency
-00015190: 206c 6973 740a 2020 2020 2020 2020 2020   list.          
-000151a0: 2020 3a74 7970 6520 6666 745f 6669 6c74    :type fft_filt
-000151b0: 6572 5f76 616c 7565 5f66 6163 746f 723a  er_value_factor:
-000151c0: 2066 6c6f 6174 0a20 2020 2020 2020 2020   float.         
-000151d0: 2020 2022 2222 0a20 2020 2020 2020 2020     """.         
-000151e0: 2020 2023 2077 696e 6469 6e67 206c 6f73     # winding los
-000151f0: 7365 730a 2020 2020 2020 2020 2020 2020  ses.            
-00015200: 6672 6571 7565 6e63 795f 6375 7272 656e  frequency_curren
-00015210: 745f 7068 6173 655f 6465 675f 6c69 7374  t_phase_deg_list
-00015220: 203d 205b 5d0a 2020 2020 2020 2020 2020   = [].          
-00015230: 2020 2320 636f 6c6c 6563 7420 7769 6e64    # collect wind
-00015240: 696e 6720 6c6f 7373 6573 2073 696d 756c  ing losses simul
-00015250: 6174 696f 6e20 696e 7075 7420 7061 7261  ation input para
-00015260: 6d65 7465 7273 0a20 2020 2020 2020 2020  meters.         
-00015270: 2020 2066 6f72 2074 696d 655f 6375 7272     for time_curr
-00015280: 656e 745f 7665 6374 6f72 2069 6e20 7469  ent_vector in ti
-00015290: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
-000152a0: 7273 3a0a 2020 2020 2020 2020 2020 2020  rs:.            
-000152b0: 2020 2020 5b66 7265 7175 656e 6379 5f6c      [frequency_l
-000152c0: 6973 742c 2061 6d70 6c69 7475 6465 2c20  ist, amplitude, 
-000152d0: 7068 695f 7261 645d 203d 2066 662e 6666  phi_rad] = ff.ff
-000152e0: 7428 7469 6d65 5f63 7572 7265 6e74 5f76  t(time_current_v
-000152f0: 6563 746f 722c 206d 6f64 653d 2774 696d  ector, mode='tim
-00015300: 6527 2c0a 2020 2020 2020 2020 2020 2020  e',.            
-00015310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015340: 2020 6669 6c74 6572 5f76 616c 7565 5f66    filter_value_f
-00015350: 6163 746f 723d 6666 745f 6669 6c74 6572  actor=fft_filter
-00015360: 5f76 616c 7565 5f66 6163 746f 7229 0a20  _value_factor). 
-00015370: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-00015380: 6869 5f64 6567 203d 206e 702e 7261 6432  hi_deg = np.rad2
-00015390: 6465 6728 7068 695f 7261 6429 0a20 2020  deg(phi_rad).   
-000153a0: 2020 2020 2020 2020 2020 2020 2066 7265               fre
-000153b0: 7175 656e 6379 5f63 7572 7265 6e74 5f70  quency_current_p
-000153c0: 6861 7365 5f64 6567 5f6c 6973 742e 6170  hase_deg_list.ap
-000153d0: 7065 6e64 285b 6672 6571 7565 6e63 795f  pend([frequency_
-000153e0: 6c69 7374 2c20 616d 706c 6974 7564 652c  list, amplitude,
-000153f0: 2070 6869 5f64 6567 5d29 0a0a 2020 2020   phi_deg])..    
-00015400: 2020 2020 2020 2020 2320 6368 6563 6b20          # check 
-00015410: 6966 2061 6c6c 2066 7265 7175 656e 6379  if all frequency
-00015420: 2076 6563 746f 7273 2069 6e63 6c75 6465   vectors include
-00015430: 2074 6865 2073 616d 6520 6672 6571 7565   the same freque
-00015440: 6e63 6965 730a 2020 2020 2020 2020 2020  ncies.          
-00015450: 2020 2320 574f 524b 4152 4f55 4e44 3a20    # WORKAROUND: 
-00015460: 6966 2061 6e79 2066 7265 7175 656e 6379  if any frequency
-00015470: 2069 7320 6e6f 7420 696e 636c 7564 6564   is not included
-00015480: 2069 6e20 6f6e 6520 6f66 2074 6865 2076   in one of the v
-00015490: 6563 746f 7273 2069 7420 6973 0a20 2020  ectors it is.   
-000154a0: 2020 2020 2020 2020 2023 2061 6464 6564           # added
-000154b0: 2077 6974 6820 616d 706c 6974 7564 6520   with amplitude 
-000154c0: 203d 2030 2061 6e64 2070 6861 7365 203d   = 0 and phase =
-000154d0: 2030 0a20 2020 2020 2020 2020 2020 2023   0.            #
-000154e0: 2054 4f44 4f3a 2072 6563 616c 6375 6c61   TODO: recalcula
-000154f0: 7465 2074 6865 2066 6674 2061 7420 7468  te the fft at th
-00015500: 6520 226d 6973 7369 6e67 2066 7265 7175  e "missing frequ
-00015510: 656e 6369 6573 2061 6e64 2061 6464 2074  encies and add t
-00015520: 6865 6972 2076 616c 7565 732e 2e2e 0a20  heir values.... 
-00015530: 2020 2020 2020 2020 2020 2061 6c6c 5f66             all_f
-00015540: 7265 7175 656e 6369 6573 203d 2073 6574  requencies = set
-00015550: 2829 0a20 2020 2020 2020 2020 2020 2066  ().            f
-00015560: 6f72 2063 6f75 6e74 2069 6e20 7261 6e67  or count in rang
-00015570: 6528 6c65 6e28 6672 6571 7565 6e63 795f  e(len(frequency_
-00015580: 6375 7272 656e 745f 7068 6173 655f 6465  current_phase_de
-00015590: 675f 6c69 7374 2920 2d20 3129 3a0a 2020  g_list) - 1):.  
-000155a0: 2020 2020 2020 2020 2020 2020 2020 6966                if
-000155b0: 206e 6f74 206e 702e 6172 7261 795f 6571   not np.array_eq
-000155c0: 7561 6c28 6672 6571 7565 6e63 795f 6375  ual(frequency_cu
-000155d0: 7272 656e 745f 7068 6173 655f 6465 675f  rrent_phase_deg_
-000155e0: 6c69 7374 5b63 6f75 6e74 5d5b 305d 2c0a  list[count][0],.
-000155f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015610: 2020 2020 2020 6672 6571 7565 6e63 795f        frequency_
-00015620: 6375 7272 656e 745f 7068 6173 655f 6465  current_phase_de
-00015630: 675f 6c69 7374 5b63 6f75 6e74 202b 2031  g_list[count + 1
-00015640: 5d5b 305d 293a 0a20 2020 2020 2020 2020  ][0]):.         
-00015650: 2020 2020 2020 2020 2020 2023 2072 6169             # rai
-00015660: 7365 2056 616c 7565 4572 726f 7228 2246  se ValueError("F
-00015670: 7265 7175 656e 6379 2076 6563 746f 7273  requency vectors
-00015680: 2066 6f72 2064 6966 6665 7265 6e74 2063   for different c
-00015690: 7572 7265 6e74 7320 6172 6520 6e6f 7420  urrents are not 
-000156a0: 7468 6520 7361 6d65 2122 290a 2020 2020  the same!").    
-000156b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000156c0: 2320 7072 696e 7428 2246 7265 7175 656e  # print("Frequen
-000156d0: 6379 2076 6563 746f 7273 2066 6f72 2064  cy vectors for d
-000156e0: 6966 6665 7265 6e74 2063 7572 7265 6e74  ifferent current
-000156f0: 7320 6172 6520 6e6f 7420 7468 6520 7361  s are not the sa
-00015700: 6d65 2122 290a 2020 2020 2020 2020 2020  me!").          
-00015710: 2020 2020 2020 2020 2020 616c 6c5f 6672            all_fr
-00015720: 6571 7565 6e63 6965 7320 3d20 616c 6c5f  equencies = all_
-00015730: 6672 6571 7565 6e63 6965 7320 7c20 7365  frequencies | se
-00015740: 7428 6672 6571 7565 6e63 795f 6375 7272  t(frequency_curr
-00015750: 656e 745f 7068 6173 655f 6465 675f 6c69  ent_phase_deg_li
-00015760: 7374 5b63 6f75 6e74 5d5b 305d 2920 7c20  st[count][0]) | 
-00015770: 7365 7428 0a20 2020 2020 2020 2020 2020  set(.           
-00015780: 2020 2020 2020 2020 2020 2020 2066 7265               fre
-00015790: 7175 656e 6379 5f63 7572 7265 6e74 5f70  quency_current_p
-000157a0: 6861 7365 5f64 6567 5f6c 6973 745b 636f  hase_deg_list[co
-000157b0: 756e 7420 2b20 315d 5b30 5d29 0a20 2020  unt + 1][0]).   
-000157c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000157d0: 2023 2070 7269 6e74 2866 224f 7269 6769   # print(f"Origi
-000157e0: 6e61 6c3a 207b 6672 6571 7565 6e63 795f  nal: {frequency_
-000157f0: 6375 7272 656e 745f 7068 6173 655f 6465  current_phase_de
-00015800: 675f 6c69 7374 203d 207d 2229 0a0a 2020  g_list = }")..  
-00015810: 2020 2020 2020 2020 2020 666f 7220 6672            for fr
-00015820: 6571 7565 6e63 7920 696e 206c 6973 7428  equency in list(
-00015830: 616c 6c5f 6672 6571 7565 6e63 6965 7329  all_frequencies)
-00015840: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00015850: 2020 666f 7220 636f 756e 7420 696e 2072    for count in r
-00015860: 616e 6765 2830 2c20 6c65 6e28 6672 6571  ange(0, len(freq
-00015870: 7565 6e63 795f 6375 7272 656e 745f 7068  uency_current_ph
-00015880: 6173 655f 6465 675f 6c69 7374 2929 3a0a  ase_deg_list)):.
-00015890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000158a0: 2020 2020 6966 2066 7265 7175 656e 6379      if frequency
-000158b0: 206e 6f74 2069 6e20 6672 6571 7565 6e63   not in frequenc
-000158c0: 795f 6375 7272 656e 745f 7068 6173 655f  y_current_phase_
-000158d0: 6465 675f 6c69 7374 5b63 6f75 6e74 5d5b  deg_list[count][
-000158e0: 305d 3a0a 2020 2020 2020 2020 2020 2020  0]:.            
-000158f0: 2020 2020 2020 2020 2020 2020 6969 203d              ii =
-00015900: 206e 702e 7365 6172 6368 736f 7274 6564   np.searchsorted
-00015910: 2866 7265 7175 656e 6379 5f63 7572 7265  (frequency_curre
-00015920: 6e74 5f70 6861 7365 5f64 6567 5f6c 6973  nt_phase_deg_lis
-00015930: 745b 636f 756e 745d 5b30 5d2c 2066 7265  t[count][0], fre
-00015940: 7175 656e 6379 290a 2020 2020 2020 2020  quency).        
-00015950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015960: 6672 6571 7565 6e63 795f 6375 7272 656e  frequency_curren
-00015970: 745f 7068 6173 655f 6465 675f 6c69 7374  t_phase_deg_list
-00015980: 5b63 6f75 6e74 5d5b 305d 203d 206e 702e  [count][0] = np.
-00015990: 696e 7365 7274 280a 2020 2020 2020 2020  insert(.        
-000159a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000159b0: 2020 2020 6672 6571 7565 6e63 795f 6375      frequency_cu
-000159c0: 7272 656e 745f 7068 6173 655f 6465 675f  rrent_phase_deg_
-000159d0: 6c69 7374 5b63 6f75 6e74 5d5b 305d 2c20  list[count][0], 
-000159e0: 6969 2c20 6672 6571 7565 6e63 7929 0a20  ii, frequency). 
-000159f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015a00: 2020 2020 2020 2066 7265 7175 656e 6379         frequency
-00015a10: 5f63 7572 7265 6e74 5f70 6861 7365 5f64  _current_phase_d
-00015a20: 6567 5f6c 6973 745b 636f 756e 745d 5b31  eg_list[count][1
-00015a30: 5d20 3d20 6e70 2e69 6e73 6572 7428 0a20  ] = np.insert(. 
+00013090: 2066 696c 7465 725f 7661 6c75 655f 6661   filter_value_fa
+000130a0: 6374 6f72 3d66 6674 5f66 696c 7465 725f  ctor=fft_filter_
+000130b0: 7661 6c75 655f 6661 6374 6f72 290a 2020  value_factor).  
+000130c0: 2020 2020 2020 2020 2020 7068 695f 6465            phi_de
+000130d0: 6720 3d20 6e70 2e72 6164 3264 6567 2870  g = np.rad2deg(p
+000130e0: 6869 5f72 6164 290a 2020 2020 2020 2020  hi_rad).        
+000130f0: 2020 2020 6672 6571 7565 6e63 795f 6375      frequency_cu
+00013100: 7272 656e 745f 7068 6173 655f 6465 675f  rrent_phase_deg_
+00013110: 6c69 7374 2e61 7070 656e 6428 5b66 7265  list.append([fre
+00013120: 7175 656e 6379 5f6c 6973 742c 2061 6d70  quency_list, amp
+00013130: 6c69 7475 6465 2c20 7068 695f 6465 675d  litude, phi_deg]
+00013140: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+00013150: 2063 6f6c 6c65 6374 2068 7973 7465 7265   collect hystere
+00013160: 7369 7320 6c6f 7373 2073 696d 756c 6174  sis loss simulat
+00013170: 696f 6e20 696e 7075 7420 7061 7261 6d65  ion input parame
+00013180: 7465 7273 0a20 2020 2020 2020 2020 2020  ters.           
+00013190: 2068 7973 745f 6c6f 7373 5f61 6d70 6c69   hyst_loss_ampli
+000131a0: 7475 6465 732e 6170 7065 6e64 2866 722e  tudes.append(fr.
+000131b0: 6d61 785f 7661 6c75 655f 6672 6f6d 5f76  max_value_from_v
+000131c0: 616c 7565 5f76 6563 2874 696d 655f 6375  alue_vec(time_cu
+000131d0: 7272 656e 745f 7665 6374 6f72 5b31 5d29  rrent_vector[1])
+000131e0: 5b30 5d29 0a20 2020 2020 2020 2020 2020  [0]).           
+000131f0: 2068 7973 745f 6c6f 7373 5f70 6861 7365   hyst_loss_phase
+00013200: 735f 6465 672e 6170 7065 6e64 280a 2020  s_deg.append(.  
+00013210: 2020 2020 2020 2020 2020 2020 2020 6672                fr
+00013220: 2e70 6861 7365 735f 6465 675f 6672 6f6d  .phases_deg_from
+00013230: 5f74 696d 655f 6375 7272 656e 7428 7469  _time_current(ti
+00013240: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00013250: 725b 305d 2c20 7469 6d65 5f63 7572 7265  r[0], time_curre
+00013260: 6e74 5f76 6563 746f 725b 315d 295b 305d  nt_vector[1])[0]
+00013270: 290a 0a20 2020 2020 2020 2023 2063 6865  )..        # che
+00013280: 636b 2069 6620 616c 6c20 6672 6571 7565  ck if all freque
+00013290: 6e63 7920 7665 6374 6f72 7320 696e 636c  ncy vectors incl
+000132a0: 7564 6520 7468 6520 7361 6d65 2066 7265  ude the same fre
+000132b0: 7175 656e 6369 6573 0a20 2020 2020 2020  quencies.       
+000132c0: 2066 6f72 2063 6f75 6e74 2069 6e20 7261   for count in ra
+000132d0: 6e67 6528 6c65 6e28 6672 6571 7565 6e63  nge(len(frequenc
+000132e0: 795f 6375 7272 656e 745f 7068 6173 655f  y_current_phase_
+000132f0: 6465 675f 6c69 7374 2920 2d20 3129 3a0a  deg_list) - 1):.
+00013300: 2020 2020 2020 2020 2020 2020 6966 206e              if n
+00013310: 6f74 206e 702e 6172 7261 795f 6571 7561  ot np.array_equa
+00013320: 6c28 6672 6571 7565 6e63 795f 6375 7272  l(frequency_curr
+00013330: 656e 745f 7068 6173 655f 6465 675f 6c69  ent_phase_deg_li
+00013340: 7374 5b63 6f75 6e74 5d5b 305d 2c0a 2020  st[count][0],.  
+00013350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013370: 6672 6571 7565 6e63 795f 6375 7272 656e  frequency_curren
+00013380: 745f 7068 6173 655f 6465 675f 6c69 7374  t_phase_deg_list
+00013390: 5b63 6f75 6e74 202b 2031 5d5b 305d 293a  [count + 1][0]):
+000133a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000133b0: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
+000133c0: 7228 2246 7265 7175 656e 6379 2076 6563  r("Frequency vec
+000133d0: 746f 7273 2066 6f72 2064 6966 6665 7265  tors for differe
+000133e0: 6e74 2063 7572 7265 6e74 7320 6172 6520  nt currents are 
+000133f0: 6e6f 7420 7468 6520 7361 6d65 2122 290a  not the same!").
+00013400: 0a20 2020 2020 2020 2023 2074 7261 6e73  .        # trans
+00013410: 6665 7220 666f 726d 6174 2066 726f 6d20  fer format from 
+00013420: 6666 7428 292d 6f75 7470 7574 2074 6f20  fft()-output to 
+00013430: 6578 6369 7461 7469 6f6e 5f73 7765 6570  excitation_sweep
+00013440: 2829 2d69 6e70 7574 0a20 2020 2020 2020  ()-input.       
+00013450: 2063 7572 7265 6e74 5f6c 6973 745f 6c69   current_list_li
+00013460: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
+00013470: 7068 695f 6465 675f 6c69 7374 5f6c 6973  phi_deg_list_lis
+00013480: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
+00013490: 6f72 2063 6f75 6e74 5f66 7265 7175 656e  or count_frequen
+000134a0: 6379 2c20 5f20 696e 2065 6e75 6d65 7261  cy, _ in enumera
+000134b0: 7465 2866 7265 7175 656e 6379 5f6c 6973  te(frequency_lis
+000134c0: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+000134d0: 6375 7272 656e 7473 5f73 696e 676c 655f  currents_single_
+000134e0: 6672 6571 7565 6e63 7920 3d20 5b5d 0a20  frequency = []. 
+000134f0: 2020 2020 2020 2020 2020 2070 6869 5f64             phi_d
+00013500: 6567 5f73 696e 676c 655f 6672 6571 7565  eg_single_freque
+00013510: 6e63 7920 3d20 5b5d 0a20 2020 2020 2020  ncy = [].       
+00013520: 2020 2020 2066 6f72 2063 6f75 6e74 5f63       for count_c
+00013530: 7572 7265 6e74 2c20 5f20 696e 2065 6e75  urrent, _ in enu
+00013540: 6d65 7261 7465 2874 696d 655f 6375 7272  merate(time_curr
+00013550: 656e 745f 7665 6374 6f72 7329 3a0a 2020  ent_vectors):.  
+00013560: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+00013570: 7272 656e 7473 5f73 696e 676c 655f 6672  rrents_single_fr
+00013580: 6571 7565 6e63 792e 6170 7065 6e64 2866  equency.append(f
+00013590: 7265 7175 656e 6379 5f63 7572 7265 6e74  requency_current
+000135a0: 5f70 6861 7365 5f64 6567 5f6c 6973 745b  _phase_deg_list[
+000135b0: 636f 756e 745f 6375 7272 656e 745d 5b31  count_current][1
+000135c0: 5d5b 636f 756e 745f 6672 6571 7565 6e63  ][count_frequenc
+000135d0: 795d 290a 2020 2020 2020 2020 2020 2020  y]).            
+000135e0: 2020 2020 7068 695f 6465 675f 7369 6e67      phi_deg_sing
+000135f0: 6c65 5f66 7265 7175 656e 6379 2e61 7070  le_frequency.app
+00013600: 656e 6428 6672 6571 7565 6e63 795f 6375  end(frequency_cu
+00013610: 7272 656e 745f 7068 6173 655f 6465 675f  rrent_phase_deg_
+00013620: 6c69 7374 5b63 6f75 6e74 5f63 7572 7265  list[count_curre
+00013630: 6e74 5d5b 325d 5b63 6f75 6e74 5f66 7265  nt][2][count_fre
+00013640: 7175 656e 6379 5d29 0a20 2020 2020 2020  quency]).       
+00013650: 2020 2020 2063 7572 7265 6e74 5f6c 6973       current_lis
+00013660: 745f 6c69 7374 2e61 7070 656e 6428 6375  t_list.append(cu
+00013670: 7272 656e 7473 5f73 696e 676c 655f 6672  rrents_single_fr
+00013680: 6571 7565 6e63 7929 0a20 2020 2020 2020  equency).       
+00013690: 2020 2020 2070 6869 5f64 6567 5f6c 6973       phi_deg_lis
+000136a0: 745f 6c69 7374 2e61 7070 656e 6428 7068  t_list.append(ph
+000136b0: 695f 6465 675f 7369 6e67 6c65 5f66 7265  i_deg_single_fre
+000136c0: 7175 656e 6379 290a 0a20 2020 2020 2020  quency)..       
+000136d0: 2023 2067 6574 2074 6865 2069 6e64 7563   # get the induc
+000136e0: 7461 6e63 650a 2020 2020 2020 2020 696e  tance.        in
+000136f0: 6475 6374 616e 6365 5f64 6963 7420 3d20  ductance_dict = 
+00013700: 7365 6c66 2e67 6574 5f69 6e64 7563 7461  self.get_inducta
+00013710: 6e63 6573 2849 303d 312c 206f 705f 6672  nces(I0=1, op_fr
+00013720: 6571 7565 6e63 793d 6879 7374 5f66 7265  equency=hyst_fre
+00013730: 7175 656e 6379 2c20 736b 696e 5f6d 6573  quency, skin_mes
+00013740: 685f 6661 6374 6f72 3d31 290a 0a20 2020  h_factor=1)..   
+00013750: 2020 2020 2023 2063 616c 6375 6c61 7465       # calculate
+00013760: 2068 7973 7465 7265 7369 7320 6c6f 7373   hysteresis loss
+00013770: 6573 0a20 2020 2020 2020 2023 2075 7365  es.        # use
+00013780: 2061 2073 696e 676c 6520 7369 6d75 6c61   a single simula
+00013790: 7469 6f6e 0a20 2020 2020 2020 2073 656c  tion.        sel
+000137a0: 662e 6765 6e65 7261 7465 5f6c 6f61 645f  f.generate_load_
+000137b0: 6c69 747a 5f61 7070 726f 7869 6d61 7469  litz_approximati
+000137c0: 6f6e 5f70 6172 616d 6574 6572 7328 290a  on_parameters().
+000137d0: 2020 2020 2020 2020 7365 6c66 2e65 7863          self.exc
+000137e0: 6974 6174 696f 6e28 6672 6571 7565 6e63  itation(frequenc
+000137f0: 793d 6879 7374 5f66 7265 7175 656e 6379  y=hyst_frequency
+00013800: 2c20 616d 706c 6974 7564 655f 6c69 7374  , amplitude_list
+00013810: 3d68 7973 745f 6c6f 7373 5f61 6d70 6c69  =hyst_loss_ampli
+00013820: 7475 6465 732c 0a20 2020 2020 2020 2020  tudes,.         
+00013830: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00013840: 6861 7365 5f64 6567 5f6c 6973 743d 6879  hase_deg_list=hy
+00013850: 7374 5f6c 6f73 735f 7068 6173 6573 5f64  st_loss_phases_d
+00013860: 6567 2c20 706c 6f74 5f69 6e74 6572 706f  eg, plot_interpo
+00013870: 6c61 7469 6f6e 3d46 616c 7365 2920 2023  lation=False)  #
+00013880: 2066 7265 7175 656e 6379 2061 6e64 2063   frequency and c
+00013890: 7572 7265 6e74 0a20 2020 2020 2020 2073  urrent.        s
+000138a0: 656c 662e 6368 6563 6b5f 6d6f 6465 6c5f  elf.check_model_
+000138b0: 6d71 735f 636f 6e64 6974 696f 6e28 290a  mqs_condition().
+000138c0: 2020 2020 2020 2020 7365 6c66 2e77 7269          self.wri
+000138d0: 7465 5f73 696d 756c 6174 696f 6e5f 7061  te_simulation_pa
+000138e0: 7261 6d65 7465 7273 5f74 6f5f 7072 6f5f  rameters_to_pro_
+000138f0: 6669 6c65 7328 290a 2020 2020 2020 2020  files().        
+00013900: 7365 6c66 2e67 656e 6572 6174 655f 6c6f  self.generate_lo
+00013910: 6164 5f6c 6974 7a5f 6170 7072 6f78 696d  ad_litz_approxim
+00013920: 6174 696f 6e5f 7061 7261 6d65 7465 7273  ation_parameters
+00013930: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00013940: 7369 6d75 6c61 7465 2829 0a20 2020 2020  simulate().     
+00013950: 2020 2073 656c 662e 6361 6c63 756c 6174     self.calculat
+00013960: 655f 616e 645f 7772 6974 655f 6672 6571  e_and_write_freq
+00013970: 5f64 6f6d 6169 6e5f 6c6f 6728 2920 2023  _domain_log()  #
+00013980: 2054 4f44 4f3a 2072 6575 7365 2063 656e   TODO: reuse cen
+00013990: 7465 7220 7461 7070 6564 0a20 2020 2020  ter tapped.     
+000139a0: 2020 2023 205b 705f 6879 7374 5d20 3d20     # [p_hyst] = 
+000139b0: 7365 6c66 2e6c 6f61 645f 7265 7375 6c74  self.load_result
+000139c0: 2872 6573 5f6e 616d 653d 2270 5f68 7973  (res_name="p_hys
+000139d0: 7422 290a 0a20 2020 2020 2020 2023 2072  t")..        # r
+000139e0: 6561 6420 7468 6520 6c6f 6720 6f66 2074  ead the log of t
+000139f0: 6865 2074 7261 6e73 666f 726d 6572 206c  he transformer l
+00013a00: 6f73 7365 730a 2020 2020 2020 2020 6c6f  osses.        lo
+00013a10: 6720 3d20 7365 6c66 2e72 6561 645f 6c6f  g = self.read_lo
+00013a20: 6728 290a 0a20 2020 2020 2020 2023 2066  g()..        # f
+00013a30: 696e 6420 6f75 7420 7468 6520 6e75 6d62  ind out the numb
+00013a40: 6572 206f 6620 636f 7265 2070 6172 7473  er of core parts
+00013a50: 2c20 696e 6974 2063 6f72 6520 7061 7274  , init core part
+00013a60: 206c 6f73 7365 7320 7769 7468 207a 6572   losses with zer
+00013a70: 6f73 0a20 2020 2020 2020 206e 756d 6265  os.        numbe
+00013a80: 725f 6f66 5f63 6f72 655f 7061 7274 7320  r_of_core_parts 
+00013a90: 3d20 6c65 6e28 6c6f 675b 2273 696e 676c  = len(log["singl
+00013aa0: 655f 7377 6565 7073 225d 5b30 5d5b 2763  e_sweeps"][0]['c
+00013ab0: 6f72 655f 7061 7274 7327 5d29 0a20 2020  ore_parts']).   
+00013ac0: 2020 2020 2070 5f68 7973 745f 636f 7265       p_hyst_core
+00013ad0: 5f70 6172 7473 203d 206e 702e 7a65 726f  _parts = np.zero
+00013ae0: 7328 6e75 6d62 6572 5f6f 665f 636f 7265  s(number_of_core
+00013af0: 5f70 6172 7473 290a 0a20 2020 2020 2020  _parts)..       
+00013b00: 2066 6f72 2063 6f72 655f 7061 7274 2069   for core_part i
+00013b10: 6e20 7261 6e67 6528 312c 206e 756d 6265  n range(1, numbe
+00013b20: 725f 6f66 5f63 6f72 655f 7061 7274 7320  r_of_core_parts 
+00013b30: 2b20 3129 3a0a 2020 2020 2020 2020 2020  + 1):.          
+00013b40: 2020 636f 7265 5f70 6172 745f 6879 7374    core_part_hyst
+00013b50: 5f6c 6f73 7320 3d20 6c6f 675b 2773 696e  _loss = log['sin
+00013b60: 676c 655f 7377 6565 7073 275d 5b30 5d5b  gle_sweeps'][0][
+00013b70: 2763 6f72 655f 7061 7274 7327 5d5b 6627  'core_parts'][f'
+00013b80: 636f 7265 5f70 6172 745f 7b63 6f72 655f  core_part_{core_
+00013b90: 7061 7274 7d27 5d5b 2768 7973 745f 6c6f  part}']['hyst_lo
+00013ba0: 7373 6573 275d 0a20 2020 2020 2020 2020  sses'].         
+00013bb0: 2020 2070 5f68 7973 745f 636f 7265 5f70     p_hyst_core_p
+00013bc0: 6172 7473 5b63 6f72 655f 7061 7274 202d  arts[core_part -
+00013bd0: 2031 5d20 2b3d 2063 6f72 655f 7061 7274   1] += core_part
+00013be0: 5f68 7973 745f 6c6f 7373 0a20 2020 2020  _hyst_loss.     
+00013bf0: 2020 2023 204e 6f77 2c20 705f 6879 7374     # Now, p_hyst
+00013c00: 5f63 6f72 655f 7061 7274 7320 696e 636c  _core_parts incl
+00013c10: 7564 6573 2074 6865 2066 756c 6c20 7472  udes the full tr
+00013c20: 616e 7366 6f72 6d65 7220 6c6f 7373 6573  ansformer losses
+00013c30: 2e0a 0a20 2020 2020 2020 2023 2063 616c  ...        # cal
+00013c40: 6375 6c61 7465 2074 6865 2077 696e 6469  culate the windi
+00013c50: 6e67 206c 6f73 7365 730a 2020 2020 2020  ng losses.      
+00013c60: 2020 7365 6c66 2e65 7863 6974 6174 696f    self.excitatio
+00013c70: 6e5f 7377 6565 7028 6672 6571 7565 6e63  n_sweep(frequenc
+00013c80: 795f 6c69 7374 2c20 6375 7272 656e 745f  y_list, current_
+00013c90: 6c69 7374 5f6c 6973 742c 2070 6869 5f64  list_list, phi_d
+00013ca0: 6567 5f6c 6973 745f 6c69 7374 2c20 696e  eg_list_list, in
+00013cb0: 6475 6374 616e 6365 5f64 6963 743d 696e  ductance_dict=in
+00013cc0: 6475 6374 616e 6365 5f64 6963 742c 0a20  ductance_dict,. 
+00013cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ce0: 2020 2020 2020 2020 2020 2020 2063 6f72               cor
+00013cf0: 655f 6879 7374 5f6c 6f73 733d 705f 6879  e_hyst_loss=p_hy
+00013d00: 7374 5f63 6f72 655f 7061 7274 7329 0a0a  st_core_parts)..
+00013d10: 2020 2020 6465 6620 6365 6e74 6572 5f74      def center_t
+00013d20: 6170 7065 645f 7072 655f 7374 7564 7928  apped_pre_study(
+00013d30: 7365 6c66 2c20 7469 6d65 5f63 7572 7265  self, time_curre
+00013d40: 6e74 5f76 6563 746f 7273 3a20 4c69 7374  nt_vectors: List
+00013d50: 5b4c 6973 745b 4c69 7374 5b66 6c6f 6174  [List[List[float
+00013d60: 5d5d 5d2c 2070 6c6f 745f 7761 7665 666f  ]]], plot_wavefo
+00013d70: 726d 733a 2062 6f6f 6c20 3d20 4661 6c73  rms: bool = Fals
+00013d80: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00013d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013da0: 2020 2066 6674 5f66 696c 7465 725f 7661     fft_filter_va
+00013db0: 6c75 655f 6661 6374 6f72 3a20 666c 6f61  lue_factor: floa
+00013dc0: 7420 3d20 302e 3031 2920 2d3e 2044 6963  t = 0.01) -> Dic
+00013dd0: 743a 0a20 2020 2020 2020 2022 2222 0a20  t:.        """. 
+00013de0: 2020 2020 2020 2047 656e 6572 6174 6520         Generate 
+00013df0: 7468 6520 6375 7272 656e 7420 7761 7665  the current wave
+00013e00: 666f 726d 7320 6e65 6564 6564 2066 6f72  forms needed for
+00013e10: 2074 6865 2063 656e 7465 725f 7461 7070   the center_tapp
+00013e20: 6564 5f73 7475 6479 2829 2e0a 0a20 2020  ed_study()...   
+00013e30: 2020 2020 2041 7320 6d61 676e 6574 697a       As magnetiz
+00013e40: 696e 6720 6375 7272 656e 7473 2061 7265  ing currents are
+00013e50: 206f 6674 656e 206e 6f6e 2d73 696e 7573   often non-sinus
+00013e60: 6f69 6461 6c2c 2073 6f6d 6520 636f 7272  oidal, some corr
+00013e70: 6563 7469 6f6e 7320 696e 2074 6865 2073  ections in the s
+00013e80: 696d 756c 6174 696f 6e20 6375 7272 656e  imulation curren
+00013e90: 7420 7761 7665 666f 726d 730a 2020 2020  t waveforms.    
+00013ea0: 2020 2020 6172 6520 6e65 6564 6564 2e20      are needed. 
+00013eb0: 5468 6973 2066 756e 6374 696f 6e20 6361  This function ca
+00013ec0: 6c63 756c 6174 6573 2074 6865 206e 6577  lculates the new
+00013ed0: 2063 7572 7265 6e74 2077 6176 6566 6f72   current wavefor
+00013ee0: 6d73 2066 6f72 2074 6865 2063 656e 7465  ms for the cente
+00013ef0: 7220 7461 7070 6564 2073 7475 6479 2074  r tapped study t
+00013f00: 6f20 6765 740a 2020 2020 2020 2020 696e  o get.        in
+00013f10: 6475 6374 616e 6365 2076 616c 7565 7320  ductance values 
+00013f20: 616e 6420 736f 206f 6e2e 0a0a 2020 2020  and so on...    
+00013f30: 2020 2020 3a70 6172 616d 2074 696d 655f      :param time_
+00013f40: 6375 7272 656e 745f 7665 6374 6f72 733a  current_vectors:
+00013f50: 2074 696d 652d 6375 7272 656e 7420 7665   time-current ve
+00013f60: 6374 6f72 7320 666f 7220 7072 696d 6172  ctors for primar
+00013f70: 7920 616e 6420 7365 636f 6e64 6172 790a  y and secondary.
+00013f80: 2020 2020 2020 2020 3a74 7970 6520 7469          :type ti
+00013f90: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00013fa0: 7273 3a20 4c69 7374 5b4c 6973 745b 4c69  rs: List[List[Li
+00013fb0: 7374 5b66 6c6f 6174 5d5d 5d0a 2020 2020  st[float]]].    
+00013fc0: 2020 2020 3a70 6172 616d 2070 6c6f 745f      :param plot_
+00013fd0: 7761 7665 666f 726d 733a 2054 7275 6520  waveforms: True 
+00013fe0: 746f 2077 6174 6368 2074 6865 2070 7265  to watch the pre
+00013ff0: 2d63 616c 6375 6c61 7465 6420 7761 7665  -calculated wave
+00014000: 666f 726d 730a 2020 2020 2020 2020 3a74  forms.        :t
+00014010: 7970 6520 706c 6f74 5f77 6176 6566 6f72  ype plot_wavefor
+00014020: 6d73 3a20 626f 6f6c 0a20 2020 2020 2020  ms: bool.       
+00014030: 203a 7061 7261 6d20 6666 745f 6669 6c74   :param fft_filt
+00014040: 6572 5f76 616c 7565 5f66 6163 746f 723a  er_value_factor:
+00014050: 2046 6163 746f 7220 746f 2066 696c 7465   Factor to filte
+00014060: 7220 6672 6571 7565 6e63 6965 7320 6672  r frequencies fr
+00014070: 6f6d 2074 6865 2066 6674 2e20 452e 672e  om the fft. E.g.
+00014080: 2030 2e30 3120 5b64 6566 6175 6c74 5d20   0.01 [default] 
+00014090: 7265 6d6f 7665 7320 616c 6c0a 2020 2020  removes all.    
+000140a0: 2020 2020 2020 2020 616d 706c 6974 7564          amplitud
+000140b0: 6573 2062 656c 6f77 2031 2025 206f 6620  es below 1 % of 
+000140c0: 7468 6520 6d61 7869 6d75 6d20 616d 706c  the maximum ampl
+000140d0: 6974 7564 6520 6672 6f6d 2074 6865 2072  itude from the r
+000140e0: 6573 756c 742d 6672 6571 7565 6e63 7920  esult-frequency 
+000140f0: 6c69 7374 0a20 2020 2020 2020 203a 7479  list.        :ty
+00014100: 7065 2066 6674 5f66 696c 7465 725f 7661  pe fft_filter_va
+00014110: 6c75 655f 6661 6374 6f72 3a20 666c 6f61  lue_factor: floa
+00014120: 740a 2020 2020 2020 2020 3a72 6574 7572  t.        :retur
+00014130: 6e3a 206e 6577 2063 7572 7265 6e74 2077  n: new current w
+00014140: 6176 6566 6f72 6d20 7665 6374 6f72 0a20  aveform vector. 
+00014150: 2020 2020 2020 203a 7274 7970 653a 2044         :rtype: D
+00014160: 6963 740a 0a20 2020 2020 2020 2072 6574  ict..        ret
+00014170: 7572 6e20 6469 6374 3a0a 2020 2020 2020  urn dict:.      
+00014180: 2020 6365 6e74 6572 5f74 6170 7065 645f    center_tapped_
+00014190: 7374 7564 795f 6578 6369 7461 7469 6f6e  study_excitation
+000141a0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+000141b0: 2022 6879 7374 6572 6573 6973 223a 207b   "hysteresis": {
+000141c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000141d0: 2022 6672 6571 7565 6e63 7922 3a20 4e6f   "frequency": No
+000141e0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+000141f0: 2020 2020 2274 7261 6e73 666f 726d 6572      "transformer
+00014200: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+00014210: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
+00014220: 745f 616d 706c 6974 7564 6573 223a 204e  t_amplitudes": N
+00014230: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00014240: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
+00014250: 745f 7068 6173 6573 5f64 6567 223a 204e  t_phases_deg": N
+00014260: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+00014270: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+00014280: 2020 2020 2020 2022 6368 6f6b 6522 3a20         "choke": 
+00014290: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+000142a0: 2020 2020 2020 2263 7572 7265 6e74 5f61        "current_a
+000142b0: 6d70 6c69 7475 6465 7322 3a20 4e6f 6e65  mplitudes": None
+000142c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000142d0: 2020 2020 2020 2263 7572 7265 6e74 5f70        "current_p
+000142e0: 6861 7365 735f 6465 6722 3a20 4e6f 6e65  hases_deg": None
+000142f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014300: 207d 0a20 2020 2020 2020 2020 2020 207d   }.            }
+00014310: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
+00014320: 696e 6561 725f 6c6f 7373 6573 223a 207b  inear_losses": {
+00014330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00014340: 2022 6672 6571 7565 6e63 6965 7322 3a20   "frequencies": 
+00014350: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+00014360: 2020 2020 2020 2263 7572 7265 6e74 5f61        "current_a
+00014370: 6d70 6c69 7475 6465 7322 3a20 4e6f 6e65  mplitudes": None
+00014380: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00014390: 2020 2263 7572 7265 6e74 5f70 6861 7365    "current_phase
+000143a0: 735f 6465 6722 3a20 4e6f 6e65 0a20 2020  s_deg": None.   
+000143b0: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+000143c0: 2020 207d 0a20 2020 2020 2020 2022 2222     }.        """
+000143d0: 0a0a 2020 2020 2020 2020 6465 6620 6879  ..        def hy
+000143e0: 7374 6572 6573 6973 5f6c 6f73 735f 6578  steresis_loss_ex
+000143f0: 6369 7461 7469 6f6e 2869 6e70 7574 5f74  citation(input_t
+00014400: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
+00014410: 6f72 733a 204c 6973 745b 4c69 7374 5b4c  ors: List[List[L
+00014420: 6973 745b 666c 6f61 745d 5d5d 293a 0a20  ist[float]]]):. 
+00014430: 2020 2020 2020 2020 2020 2022 2222 0a20             """. 
+00014440: 2020 2020 2020 2020 2020 2043 6f6c 6c65             Colle
+00014450: 6374 2074 6865 2070 6561 6b20 6375 7272  ct the peak curr
+00014460: 656e 7420 616e 6420 7468 6520 636f 7272  ent and the corr
+00014470: 6573 706f 6e64 696e 6720 7068 6173 6520  esponding phase 
+00014480: 7368 6966 7420 666f 7220 7468 6520 6675  shift for the fu
+00014490: 6e64 616d 656e 7461 6c20 6672 6571 7565  ndamental freque
+000144a0: 6e63 7920 666f 7220 616c 6c20 7769 6e64  ncy for all wind
+000144b0: 696e 6773 2e0a 0a20 2020 2020 2020 2020  ings...         
+000144c0: 2020 2052 6573 756c 7473 2061 7265 2075     Results are u
+000144d0: 7365 6420 666f 7220 6361 6c63 756c 6174  sed for calculat
+000144e0: 696e 6720 7468 6520 6879 7374 6572 6573  ing the hysteres
+000144f0: 6973 206c 6f73 7365 7320 6279 2061 6e6f  is losses by ano
+00014500: 7468 6572 2066 756e 6374 696f 6e2e 0a20  ther function.. 
+00014510: 2020 2020 2020 2020 2020 2049 6e20 6361             In ca
+00014520: 7365 206f 6620 6120 6365 6e74 6572 2d74  se of a center-t
+00014530: 6170 7065 6420 7472 616e 7366 6f72 6d65  apped transforme
+00014540: 722c 2068 616c 6669 6e67 2074 6865 2061  r, halfing the a
+00014550: 6d70 6c69 7475 6573 2077 696c 6c20 6265  mplitues will be
+00014560: 2064 6f6e 6520 6279 2073 706c 6974 5f68   done by split_h
+00014570: 7973 7465 7265 7369 735f 6c6f 7373 5f65  ysteresis_loss_e
+00014580: 7863 6974 6174 696f 6e5f 6365 6e74 6572  xcitation_center
+00014590: 5f74 6170 7065 642e 0a0a 2020 2020 2020  _tapped...      
+000145a0: 2020 2020 2020 3a70 6172 616d 2069 6e70        :param inp
+000145b0: 7574 5f74 696d 655f 6375 7272 656e 745f  ut_time_current_
+000145c0: 7665 6374 6f72 733a 2065 2e67 2e20 5b5b  vectors: e.g. [[
+000145d0: 7469 6d65 5f76 6563 2c20 695f 7072 696d  time_vec, i_prim
+000145e0: 6172 795f 7665 635d 2c20 5b74 696d 655f  ary_vec], [time_
+000145f0: 7665 632c 2069 5f73 6563 6f6e 6461 7279  vec, i_secondary
+00014600: 5f76 6563 5d5d 0a20 2020 2020 2020 2020  _vec]].         
+00014610: 2020 203a 7479 7065 2069 6e70 7574 5f74     :type input_t
+00014620: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
+00014630: 6f72 733a 204c 6973 745b 4c69 7374 5b4c  ors: List[List[L
+00014640: 6973 745b 666c 6f61 745d 5d5d 0a20 2020  ist[float]]].   
+00014650: 2020 2020 2020 2020 2022 2222 0a20 2020           """.   
+00014660: 2020 2020 2020 2020 2023 2063 6f6c 6c65           # colle
+00014670: 6374 2073 696d 756c 6174 696f 6e20 696e  ct simulation in
+00014680: 7075 7420 7061 7261 6d65 7465 7273 2066  put parameters f
+00014690: 726f 6d20 7469 6d65 5f63 7572 7265 6e74  rom time_current
+000146a0: 5f76 6563 746f 7273 0a20 2020 2020 2020  _vectors.       
+000146b0: 2020 2020 2068 7973 745f 6c6f 7373 5f61       hyst_loss_a
+000146c0: 6d70 6c69 7475 6465 7320 3d20 5b5d 0a20  mplitudes = []. 
+000146d0: 2020 2020 2020 2020 2020 2068 7973 745f             hyst_
+000146e0: 6c6f 7373 5f70 6861 7365 735f 6465 6720  loss_phases_deg 
+000146f0: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
+00014700: 2068 7973 745f 6672 6571 7565 6e63 7920   hyst_frequency 
+00014710: 3d20 3120 2f20 2869 6e70 7574 5f74 696d  = 1 / (input_tim
+00014720: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
+00014730: 735b 305d 5b30 5d5b 2d31 5d29 0a20 2020  s[0][0][-1]).   
+00014740: 2020 2020 2020 2020 2066 6f72 2074 696d           for tim
+00014750: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
+00014760: 2069 6e20 696e 7075 745f 7469 6d65 5f63   in input_time_c
+00014770: 7572 7265 6e74 5f76 6563 746f 7273 3a0a  urrent_vectors:.
+00014780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014790: 2320 636f 6c6c 6563 7420 6879 7374 6572  # collect hyster
+000147a0: 6573 6973 206c 6f73 7320 7369 6d75 6c61  esis loss simula
+000147b0: 7469 6f6e 2069 6e70 7574 2070 6172 616d  tion input param
+000147c0: 6574 6572 730a 2020 2020 2020 2020 2020  eters.          
+000147d0: 2020 2020 2020 6879 7374 5f6c 6f73 735f        hyst_loss_
+000147e0: 616d 706c 6974 7564 6573 2e61 7070 656e  amplitudes.appen
+000147f0: 6428 6672 2e6d 6178 5f76 616c 7565 5f66  d(fr.max_value_f
+00014800: 726f 6d5f 7661 6c75 655f 7665 6328 7469  rom_value_vec(ti
+00014810: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00014820: 725b 315d 295b 305d 290a 2020 2020 2020  r[1])[0]).      
+00014830: 2020 2020 2020 2020 2020 6879 7374 5f6c            hyst_l
+00014840: 6f73 735f 7068 6173 6573 5f64 6567 2e61  oss_phases_deg.a
+00014850: 7070 656e 6428 0a20 2020 2020 2020 2020  ppend(.         
+00014860: 2020 2020 2020 2020 2020 2066 722e 7068             fr.ph
+00014870: 6173 6573 5f64 6567 5f66 726f 6d5f 7469  ases_deg_from_ti
+00014880: 6d65 5f63 7572 7265 6e74 2874 696d 655f  me_current(time_
+00014890: 6375 7272 656e 745f 7665 6374 6f72 5b30  current_vector[0
+000148a0: 5d2c 2074 696d 655f 6375 7272 656e 745f  ], time_current_
+000148b0: 7665 6374 6f72 5b31 5d29 5b30 5d29 0a20  vector[1])[0]). 
+000148c0: 2020 2020 2020 2020 2020 2072 6574 7572             retur
+000148d0: 6e20 6879 7374 5f66 7265 7175 656e 6379  n hyst_frequency
+000148e0: 2c20 6879 7374 5f6c 6f73 735f 616d 706c  , hyst_loss_ampl
+000148f0: 6974 7564 6573 2c20 6879 7374 5f6c 6f73  itudes, hyst_los
+00014900: 735f 7068 6173 6573 5f64 6567 0a0a 2020  s_phases_deg..  
+00014910: 2020 2020 2020 6465 6620 7370 6c69 745f        def split_
+00014920: 6879 7374 6572 6573 6973 5f6c 6f73 735f  hysteresis_loss_
+00014930: 6578 6369 7461 7469 6f6e 5f63 656e 7465  excitation_cente
+00014940: 725f 7461 7070 6564 2868 7973 745f 6672  r_tapped(hyst_fr
+00014950: 6571 7565 6e63 793a 204c 6973 742c 2068  equency: List, h
+00014960: 7973 745f 6c6f 7373 5f61 6d70 6c69 7475  yst_loss_amplitu
+00014970: 6465 733a 204c 6973 742c 2068 7973 745f  des: List, hyst_
+00014980: 6c6f 7373 5f70 6861 7365 735f 6465 673a  loss_phases_deg:
+00014990: 204c 6973 7429 3a0a 2020 2020 2020 2020   List):.        
+000149a0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000149b0: 2020 2020 5370 6c69 7420 7468 6520 6c61      Split the la
+000149c0: 7374 2077 696e 6469 6e67 2028 326e 6429  st winding (2nd)
+000149d0: 2070 6561 6b20 6375 7272 656e 7420 696e   peak current in
+000149e0: 746f 2068 616c 6620 616e 6420 6164 6420  to half and add 
+000149f0: 6120 3372 6420 7769 6e64 696e 6720 7769  a 3rd winding wi
+00014a00: 7468 2074 6865 2073 616d 6520 7661 6c75  th the same valu
+00014a10: 652e 0a0a 2020 2020 2020 2020 2020 2020  e...            
+00014a20: 3a70 6172 616d 2068 7973 745f 6672 6571  :param hyst_freq
+00014a30: 7565 6e63 793a 206c 6973 7420 7769 7468  uency: list with
+00014a40: 2074 6865 2066 756e 6461 6d65 6e74 616c   the fundamental
+00014a50: 2066 7265 7175 656e 6379 206f 6620 636f   frequency of co
+00014a60: 7265 206c 6f73 7365 730a 2020 2020 2020  re losses.      
+00014a70: 2020 2020 2020 3a74 7970 6520 6879 7374        :type hyst
+00014a80: 5f66 7265 7175 656e 6379 3a20 4c69 7374  _frequency: List
+00014a90: 0a20 2020 2020 2020 2020 2020 203a 7061  .            :pa
+00014aa0: 7261 6d20 6879 7374 5f6c 6f73 735f 616d  ram hyst_loss_am
+00014ab0: 706c 6974 7564 6573 3a20 616d 706c 6974  plitudes: amplit
+00014ac0: 7564 6573 2066 6f72 2061 6c6c 2077 696e  udes for all win
+00014ad0: 6469 6e67 7320 696e 2061 206c 6973 740a  dings in a list.
+00014ae0: 2020 2020 2020 2020 2020 2020 3a74 7970              :typ
+00014af0: 6520 6879 7374 5f6c 6f73 735f 616d 706c  e hyst_loss_ampl
+00014b00: 6974 7564 6573 3a20 4c69 7374 0a20 2020  itudes: List.   
+00014b10: 2020 2020 2020 2020 203a 7061 7261 6d20           :param 
+00014b20: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
+00014b30: 5f64 6567 3a20 7068 6173 6573 2069 6e20  _deg: phases in 
+00014b40: 6465 6772 6565 2066 6f72 2061 6c6c 2077  degree for all w
+00014b50: 696e 6469 6e67 7320 696e 2061 206c 6973  indings in a lis
+00014b60: 740a 2020 2020 2020 2020 2020 2020 3a74  t.            :t
+00014b70: 7970 6520 6879 7374 5f6c 6f73 735f 7068  ype hyst_loss_ph
+00014b80: 6173 6573 5f64 6567 3a20 4c69 7374 0a20  ases_deg: List. 
+00014b90: 2020 2020 2020 2020 2020 2022 2222 0a20             """. 
+00014ba0: 2020 2020 2020 2020 2020 2068 7973 745f             hyst_
+00014bb0: 6c6f 7373 5f61 6d70 6c69 7475 6465 735b  loss_amplitudes[
+00014bc0: 2d31 5d20 3d20 6879 7374 5f6c 6f73 735f  -1] = hyst_loss_
+00014bd0: 616d 706c 6974 7564 6573 5b2d 315d 202f  amplitudes[-1] /
+00014be0: 2032 0a20 2020 2020 2020 2020 2020 2068   2.            h
+00014bf0: 7973 745f 6c6f 7373 5f61 6d70 6c69 7475  yst_loss_amplitu
+00014c00: 6465 732e 6170 7065 6e64 2868 7973 745f  des.append(hyst_
+00014c10: 6c6f 7373 5f61 6d70 6c69 7475 6465 735b  loss_amplitudes[
+00014c20: 2d31 5d29 0a20 2020 2020 2020 2020 2020  -1]).           
+00014c30: 2068 7973 745f 6c6f 7373 5f70 6861 7365   hyst_loss_phase
+00014c40: 735f 6465 672e 6170 7065 6e64 2868 7973  s_deg.append(hys
+00014c50: 745f 6c6f 7373 5f70 6861 7365 735f 6465  t_loss_phases_de
+00014c60: 675b 2d31 5d29 0a20 2020 2020 2020 2020  g[-1]).         
+00014c70: 2020 2072 6574 7572 6e20 6879 7374 5f66     return hyst_f
+00014c80: 7265 7175 656e 6379 2c20 6879 7374 5f6c  requency, hyst_l
+00014c90: 6f73 735f 616d 706c 6974 7564 6573 2c20  oss_amplitudes, 
+00014ca0: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
+00014cb0: 5f64 6567 0a0a 2020 2020 2020 2020 6465  _deg..        de
+00014cc0: 6620 7370 6c69 745f 7469 6d65 5f63 7572  f split_time_cur
+00014cd0: 7265 6e74 5f76 6563 746f 7273 5f63 656e  rent_vectors_cen
+00014ce0: 7465 725f 7461 7070 6564 2874 696d 655f  ter_tapped(time_
+00014cf0: 6375 7272 656e 745f 7665 6374 6f72 733a  current_vectors:
+00014d00: 204c 6973 745b 4c69 7374 5b4c 6973 745b   List[List[List[
+00014d10: 666c 6f61 745d 5d5d 293a 0a20 2020 2020  float]]]):.     
+00014d20: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00014d30: 2020 2020 2020 2053 706c 6974 2074 6865         Split the
+00014d40: 2067 6976 656e 2074 696d 652d 6375 7272   given time-curr
+00014d50: 656e 7420 7665 6374 6f72 7320 2870 7269  ent vectors (pri
+00014d60: 6d61 7279 2061 6e64 2061 2063 6f6d 6d6f  mary and a commo
+00014d70: 6e20 7365 636f 6e64 6172 7929 2069 6e74  n secondary) int
+00014d80: 6f20 7072 696d 6172 792c 2073 6563 6f6e  o primary, secon
+00014d90: 6461 7279 2061 6e64 2074 6572 7469 6172  dary and tertiar
+00014da0: 7920 6375 7272 656e 742e 0a0a 2020 2020  y current...    
+00014db0: 2020 2020 2020 2020 3a70 6172 616d 2074          :param t
+00014dc0: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
+00014dd0: 6f72 733a 2065 2e67 2e20 5b5b 7469 6d65  ors: e.g. [[time
+00014de0: 5f76 6563 2c20 695f 7072 696d 6172 795f  _vec, i_primary_
+00014df0: 7665 635d 2c20 5b74 696d 655f 7665 632c  vec], [time_vec,
+00014e00: 2069 5f73 6563 6f6e 6461 7279 5f76 6563   i_secondary_vec
+00014e10: 5d5d 0a20 2020 2020 2020 2020 2020 203a  ]].            :
+00014e20: 7479 7065 2074 696d 655f 6375 7272 656e  type time_curren
+00014e30: 745f 7665 6374 6f72 733a 204c 6973 745b  t_vectors: List[
+00014e40: 4c69 7374 5b4c 6973 745b 666c 6f61 745d  List[List[float]
+00014e50: 5d5d 0a20 2020 2020 2020 2020 2020 2022  ]].            "
+00014e60: 2222 0a20 2020 2020 2020 2020 2020 2070  "".            p
+00014e70: 6f73 6974 6976 655f 7365 636f 6e64 6172  ositive_secondar
+00014e80: 795f 6375 7272 656e 7420 3d20 6e70 2e63  y_current = np.c
+00014e90: 6f70 7928 7469 6d65 5f63 7572 7265 6e74  opy(time_current
+00014ea0: 5f76 6563 746f 7273 5b31 5d5b 315d 290a  _vectors[1][1]).
+00014eb0: 2020 2020 2020 2020 2020 2020 706f 7369              posi
+00014ec0: 7469 7665 5f73 6563 6f6e 6461 7279 5f63  tive_secondary_c
+00014ed0: 7572 7265 6e74 5b70 6f73 6974 6976 655f  urrent[positive_
+00014ee0: 7365 636f 6e64 6172 795f 6375 7272 656e  secondary_curren
+00014ef0: 7420 3c20 305d 203d 2030 0a20 2020 2020  t < 0] = 0.     
+00014f00: 2020 2020 2020 206e 6567 6174 6976 655f         negative_
+00014f10: 7365 636f 6e64 6172 795f 6375 7272 656e  secondary_curren
+00014f20: 7420 3d20 6e70 2e63 6f70 7928 7469 6d65  t = np.copy(time
+00014f30: 5f63 7572 7265 6e74 5f76 6563 746f 7273  _current_vectors
+00014f40: 5b31 5d5b 315d 290a 2020 2020 2020 2020  [1][1]).        
+00014f50: 2020 2020 6e65 6761 7469 7665 5f73 6563      negative_sec
+00014f60: 6f6e 6461 7279 5f63 7572 7265 6e74 5b6e  ondary_current[n
+00014f70: 6567 6174 6976 655f 7365 636f 6e64 6172  egative_secondar
+00014f80: 795f 6375 7272 656e 7420 3e20 305d 203d  y_current > 0] =
+00014f90: 2030 0a0a 2020 2020 2020 2020 2020 2020   0..            
+00014fa0: 6365 6e74 6572 5f74 6170 7065 645f 7469  center_tapped_ti
+00014fb0: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00014fc0: 7273 203d 205b 7469 6d65 5f63 7572 7265  rs = [time_curre
+00014fd0: 6e74 5f76 6563 746f 7273 5b30 5d2c 0a20  nt_vectors[0],. 
+00014fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015010: 205b 7469 6d65 5f63 7572 7265 6e74 5f76   [time_current_v
+00015020: 6563 746f 7273 5b31 5d5b 305d 2c20 706f  ectors[1][0], po
+00015030: 7369 7469 7665 5f73 6563 6f6e 6461 7279  sitive_secondary
+00015040: 5f63 7572 7265 6e74 5d2c 0a20 2020 2020  _current],.     
+00015050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015070: 2020 2020 2020 2020 2020 2020 205b 7469               [ti
+00015080: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00015090: 7273 5b31 5d5b 305d 2c20 6e65 6761 7469  rs[1][0], negati
+000150a0: 7665 5f73 6563 6f6e 6461 7279 5f63 7572  ve_secondary_cur
+000150b0: 7265 6e74 5d5d 0a0a 2020 2020 2020 2020  rent]]..        
+000150c0: 2020 2020 6966 2070 6c6f 745f 7761 7665      if plot_wave
+000150d0: 666f 726d 733a 0a20 2020 2020 2020 2020  forms:.         
+000150e0: 2020 2020 2020 2070 6c74 2e70 6c6f 7428         plt.plot(
+000150f0: 7469 6d65 5f63 7572 7265 6e74 5f76 6563  time_current_vec
+00015100: 746f 7273 5b31 5d5b 305d 2c20 6e65 6761  tors[1][0], nega
+00015110: 7469 7665 5f73 6563 6f6e 6461 7279 5f63  tive_secondary_c
+00015120: 7572 7265 6e74 2c20 6c61 6265 6c3d 226e  urrent, label="n
+00015130: 6567 6174 6976 655f 7365 636f 6e64 6172  egative_secondar
+00015140: 795f 6375 7272 656e 7422 290a 2020 2020  y_current").    
+00015150: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+00015160: 706c 6f74 2874 696d 655f 6375 7272 656e  plot(time_curren
+00015170: 745f 7665 6374 6f72 735b 315d 5b30 5d2c  t_vectors[1][0],
+00015180: 2070 6f73 6974 6976 655f 7365 636f 6e64   positive_second
+00015190: 6172 795f 6375 7272 656e 742c 206c 6162  ary_current, lab
+000151a0: 656c 3d22 706f 7369 7469 7665 5f73 6563  el="positive_sec
+000151b0: 6f6e 6461 7279 5f63 7572 7265 6e74 2229  ondary_current")
+000151c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000151d0: 2070 6c74 2e70 6c6f 7428 7469 6d65 5f63   plt.plot(time_c
+000151e0: 7572 7265 6e74 5f76 6563 746f 7273 5b30  urrent_vectors[0
+000151f0: 5d5b 305d 2c20 7469 6d65 5f63 7572 7265  ][0], time_curre
+00015200: 6e74 5f76 6563 746f 7273 5b30 5d5b 315d  nt_vectors[0][1]
+00015210: 2c20 6c61 6265 6c3d 2270 7269 6d61 7279  , label="primary
+00015220: 5f63 7572 7265 6e74 2229 0a20 2020 2020  _current").     
+00015230: 2020 2020 2020 2020 2020 2070 6c74 2e78             plt.x
+00015240: 6c61 6265 6c28 2274 696d 6520 2f20 7322  label("time / s"
+00015250: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00015260: 2020 706c 742e 796c 6162 656c 2822 6375    plt.ylabel("cu
+00015270: 7272 656e 7420 2f20 4122 290a 2020 2020  rrent / A").    
+00015280: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+00015290: 6772 6964 2829 0a20 2020 2020 2020 2020  grid().         
+000152a0: 2020 2020 2020 2070 6c74 2e6c 6567 656e         plt.legen
+000152b0: 6428 290a 2020 2020 2020 2020 2020 2020  d().            
+000152c0: 2020 2020 706c 742e 7368 6f77 2829 0a0a      plt.show()..
+000152d0: 2020 2020 2020 2020 2020 2020 7265 7475              retu
+000152e0: 726e 2063 656e 7465 725f 7461 7070 6564  rn center_tapped
+000152f0: 5f74 696d 655f 6375 7272 656e 745f 7665  _time_current_ve
+00015300: 6374 6f72 730a 0a20 2020 2020 2020 2064  ctors..        d
+00015310: 6566 206c 696e 6561 725f 6c6f 7373 5f65  ef linear_loss_e
+00015320: 7863 6974 6174 696f 6e28 7469 6d65 5f63  xcitation(time_c
+00015330: 7572 7265 6e74 5f76 6563 746f 7273 3a20  urrent_vectors: 
+00015340: 4c69 7374 5b4c 6973 745b 4c69 7374 5b66  List[List[List[f
+00015350: 6c6f 6174 5d5d 5d2c 0a20 2020 2020 2020  loat]]],.       
+00015360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015370: 2020 2020 2020 2020 2020 2020 6666 745f              fft_
+00015380: 6669 6c74 6572 5f76 616c 7565 5f66 6163  filter_value_fac
+00015390: 746f 723a 2066 6c6f 6174 203d 2030 2e30  tor: float = 0.0
+000153a0: 3129 3a0a 2020 2020 2020 2020 2020 2020  1):.            
+000153b0: 2222 220a 2020 2020 2020 2020 2020 2020  """.            
+000153c0: 5065 7266 6f72 6d20 4646 5420 746f 2067  Perform FFT to g
+000153d0: 6574 2074 6865 2070 7269 6d61 7279 2061  et the primary a
+000153e0: 6e64 2073 6563 6f6e 6461 7279 2063 7572  nd secondary cur
+000153f0: 7265 6e74 7320 746f 2063 616c 6375 6c61  rents to calcula
+00015400: 7465 2074 6865 2077 6972 6520 6c6f 7373  te the wire loss
+00015410: 6573 2e0a 0a20 2020 2020 2020 2020 2020  es...           
+00015420: 2054 6865 7365 206c 6f73 7365 7320 6361   These losses ca
+00015430: 6e20 6265 2027 6c69 6e65 6172 2061 6464  n be 'linear add
+00015440: 6564 2720 746f 2067 6574 2074 6865 2074  ed' to get the t
+00015450: 6f74 616c 2077 696e 6469 6e67 206c 6f73  otal winding los
+00015460: 7365 732e 0a0a 2020 2020 2020 2020 2020  ses...          
+00015470: 2020 3a70 6172 616d 2074 696d 655f 6375    :param time_cu
+00015480: 7272 656e 745f 7665 6374 6f72 733a 2070  rrent_vectors: p
+00015490: 7269 6d61 7279 2061 6e64 2073 6563 6f6e  rimary and secon
+000154a0: 6461 7279 2063 7572 7265 6e74 2077 6176  dary current wav
+000154b0: 6566 6f72 6d73 206f 7665 7220 7469 6d65  eforms over time
+000154c0: 0a20 2020 2020 2020 2020 2020 203a 7479  .            :ty
+000154d0: 7065 2074 696d 655f 6375 7272 656e 745f  pe time_current_
+000154e0: 7665 6374 6f72 733a 204c 6973 745b 4c69  vectors: List[Li
+000154f0: 7374 5b4c 6973 745b 666c 6f61 745d 5d5d  st[List[float]]]
+00015500: 0a20 2020 2020 2020 2020 2020 203a 7061  .            :pa
+00015510: 7261 6d20 6666 745f 6669 6c74 6572 5f76  ram fft_filter_v
+00015520: 616c 7565 5f66 6163 746f 723a 2046 6163  alue_factor: Fac
+00015530: 746f 7220 746f 2066 696c 7465 7220 6672  tor to filter fr
+00015540: 6571 7565 6e63 6965 7320 6672 6f6d 2074  equencies from t
+00015550: 6865 2066 6674 2e20 452e 672e 2030 2e30  he fft. E.g. 0.0
+00015560: 3120 5b64 6566 6175 6c74 5d0a 2020 2020  1 [default].    
+00015570: 2020 2020 2020 2020 2020 2020 7265 6d6f              remo
+00015580: 7665 7320 616c 6c20 616d 706c 6974 7564  ves all amplitud
+00015590: 6573 2062 656c 6f77 2031 2025 206f 6620  es below 1 % of 
+000155a0: 7468 6520 6d61 7869 6d75 6d20 616d 706c  the maximum ampl
+000155b0: 6974 7564 6520 6672 6f6d 2074 6865 2072  itude from the r
+000155c0: 6573 756c 742d 6672 6571 7565 6e63 7920  esult-frequency 
+000155d0: 6c69 7374 0a20 2020 2020 2020 2020 2020  list.           
+000155e0: 203a 7479 7065 2066 6674 5f66 696c 7465   :type fft_filte
+000155f0: 725f 7661 6c75 655f 6661 6374 6f72 3a20  r_value_factor: 
+00015600: 666c 6f61 740a 2020 2020 2020 2020 2020  float.          
+00015610: 2020 2222 220a 2020 2020 2020 2020 2020    """.          
+00015620: 2020 2320 7769 6e64 696e 6720 6c6f 7373    # winding loss
+00015630: 6573 0a20 2020 2020 2020 2020 2020 2066  es.            f
+00015640: 7265 7175 656e 6379 5f63 7572 7265 6e74  requency_current
+00015650: 5f70 6861 7365 5f64 6567 5f6c 6973 7420  _phase_deg_list 
+00015660: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
+00015670: 2023 2063 6f6c 6c65 6374 2077 696e 6469   # collect windi
+00015680: 6e67 206c 6f73 7365 7320 7369 6d75 6c61  ng losses simula
+00015690: 7469 6f6e 2069 6e70 7574 2070 6172 616d  tion input param
+000156a0: 6574 6572 730a 2020 2020 2020 2020 2020  eters.          
+000156b0: 2020 666f 7220 7469 6d65 5f63 7572 7265    for time_curre
+000156c0: 6e74 5f76 6563 746f 7220 696e 2074 696d  nt_vector in tim
+000156d0: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
+000156e0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+000156f0: 2020 205b 6672 6571 7565 6e63 795f 6c69     [frequency_li
+00015700: 7374 2c20 616d 706c 6974 7564 652c 2070  st, amplitude, p
+00015710: 6869 5f72 6164 5d20 3d20 6666 2e66 6674  hi_rad] = ff.fft
+00015720: 2874 696d 655f 6375 7272 656e 745f 7665  (time_current_ve
+00015730: 6374 6f72 2c20 6d6f 6465 3d27 7469 6d65  ctor, mode='time
+00015740: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
+00015750: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015780: 2066 696c 7465 725f 7661 6c75 655f 6661   filter_value_fa
+00015790: 6374 6f72 3d66 6674 5f66 696c 7465 725f  ctor=fft_filter_
+000157a0: 7661 6c75 655f 6661 6374 6f72 290a 2020  value_factor).  
+000157b0: 2020 2020 2020 2020 2020 2020 2020 7068                ph
+000157c0: 695f 6465 6720 3d20 6e70 2e72 6164 3264  i_deg = np.rad2d
+000157d0: 6567 2870 6869 5f72 6164 290a 2020 2020  eg(phi_rad).    
+000157e0: 2020 2020 2020 2020 2020 2020 6672 6571              freq
+000157f0: 7565 6e63 795f 6375 7272 656e 745f 7068  uency_current_ph
+00015800: 6173 655f 6465 675f 6c69 7374 2e61 7070  ase_deg_list.app
+00015810: 656e 6428 5b66 7265 7175 656e 6379 5f6c  end([frequency_l
+00015820: 6973 742c 2061 6d70 6c69 7475 6465 2c20  ist, amplitude, 
+00015830: 7068 695f 6465 675d 290a 0a20 2020 2020  phi_deg])..     
+00015840: 2020 2020 2020 2023 2063 6865 636b 2069         # check i
+00015850: 6620 616c 6c20 6672 6571 7565 6e63 7920  f all frequency 
+00015860: 7665 6374 6f72 7320 696e 636c 7564 6520  vectors include 
+00015870: 7468 6520 7361 6d65 2066 7265 7175 656e  the same frequen
+00015880: 6369 6573 0a20 2020 2020 2020 2020 2020  cies.           
+00015890: 2023 2057 4f52 4b41 524f 554e 443a 2069   # WORKAROUND: i
+000158a0: 6620 616e 7920 6672 6571 7565 6e63 7920  f any frequency 
+000158b0: 6973 206e 6f74 2069 6e63 6c75 6465 6420  is not included 
+000158c0: 696e 206f 6e65 206f 6620 7468 6520 7665  in one of the ve
+000158d0: 6374 6f72 7320 6974 2069 730a 2020 2020  ctors it is.    
+000158e0: 2020 2020 2020 2020 2320 6164 6465 6420          # added 
+000158f0: 7769 7468 2061 6d70 6c69 7475 6465 2020  with amplitude  
+00015900: 3d20 3020 616e 6420 7068 6173 6520 3d20  = 0 and phase = 
+00015910: 300a 2020 2020 2020 2020 2020 2020 2320  0.            # 
+00015920: 544f 444f 3a20 7265 6361 6c63 756c 6174  TODO: recalculat
+00015930: 6520 7468 6520 6666 7420 6174 2074 6865  e the fft at the
+00015940: 2022 6d69 7373 696e 6720 6672 6571 7565   "missing freque
+00015950: 6e63 6965 7320 616e 6420 6164 6420 7468  ncies and add th
+00015960: 6569 7220 7661 6c75 6573 2e2e 2e0a 2020  eir values....  
+00015970: 2020 2020 2020 2020 2020 616c 6c5f 6672            all_fr
+00015980: 6571 7565 6e63 6965 7320 3d20 7365 7428  equencies = set(
+00015990: 290a 2020 2020 2020 2020 2020 2020 666f  ).            fo
+000159a0: 7220 636f 756e 7420 696e 2072 616e 6765  r count in range
+000159b0: 286c 656e 2866 7265 7175 656e 6379 5f63  (len(frequency_c
+000159c0: 7572 7265 6e74 5f70 6861 7365 5f64 6567  urrent_phase_deg
+000159d0: 5f6c 6973 7429 202d 2031 293a 0a20 2020  _list) - 1):.   
+000159e0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+000159f0: 6e6f 7420 6e70 2e61 7272 6179 5f65 7175  not np.array_equ
+00015a00: 616c 2866 7265 7175 656e 6379 5f63 7572  al(frequency_cur
+00015a10: 7265 6e74 5f70 6861 7365 5f64 6567 5f6c  rent_phase_deg_l
+00015a20: 6973 745b 636f 756e 745d 5b30 5d2c 0a20  ist[count][0],. 
+00015a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00015a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015a50: 2020 2020 2020 2020 2020 2066 7265 7175             frequ
-00015a60: 656e 6379 5f63 7572 7265 6e74 5f70 6861  ency_current_pha
-00015a70: 7365 5f64 6567 5f6c 6973 745b 636f 756e  se_deg_list[coun
-00015a80: 745d 5b31 5d2c 2069 692c 2030 290a 2020  t][1], ii, 0).  
-00015a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015aa0: 2020 2020 2020 6672 6571 7565 6e63 795f        frequency_
-00015ab0: 6375 7272 656e 745f 7068 6173 655f 6465  current_phase_de
-00015ac0: 675f 6c69 7374 5b63 6f75 6e74 5d5b 325d  g_list[count][2]
-00015ad0: 203d 206e 702e 696e 7365 7274 280a 2020   = np.insert(.  
-00015ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015af0: 2020 2020 2020 2020 2020 6672 6571 7565            freque
-00015b00: 6e63 795f 6375 7272 656e 745f 7068 6173  ncy_current_phas
-00015b10: 655f 6465 675f 6c69 7374 5b63 6f75 6e74  e_deg_list[count
-00015b20: 5d5b 325d 2c20 6969 2c20 3029 0a20 2020  ][2], ii, 0).   
-00015b30: 2020 2020 2020 2020 2023 2070 7269 6e74           # print
-00015b40: 2866 2243 6f72 7265 6374 6564 3a20 7b66  (f"Corrected: {f
-00015b50: 7265 7175 656e 6379 5f63 7572 7265 6e74  requency_current
-00015b60: 5f70 6861 7365 5f64 6567 5f6c 6973 7420  _phase_deg_list 
-00015b70: 3d20 7d22 290a 2020 2020 2020 2020 2020  = }").          
-00015b80: 2020 7265 7475 726e 2066 7265 7175 656e    return frequen
-00015b90: 6379 5f6c 6973 742c 2066 7265 7175 656e  cy_list, frequen
-00015ba0: 6379 5f63 7572 7265 6e74 5f70 6861 7365  cy_current_phase
-00015bb0: 5f64 6567 5f6c 6973 740a 0a20 2020 2020  _deg_list..     
-00015bc0: 2020 2063 656e 7465 725f 7461 7070 6564     center_tapped
-00015bd0: 5f73 7475 6479 5f65 7863 6974 6174 696f  _study_excitatio
-00015be0: 6e20 3d20 7b0a 2020 2020 2020 2020 2020  n = {.          
-00015bf0: 2020 2268 7973 7465 7265 7369 7322 3a20    "hysteresis": 
-00015c00: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-00015c10: 2020 2266 7265 7175 656e 6379 223a 204e    "frequency": N
-00015c20: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00015c30: 2020 2020 2022 7472 616e 7366 6f72 6d65       "transforme
-00015c40: 7222 3a20 7b0a 2020 2020 2020 2020 2020  r": {.          
-00015c50: 2020 2020 2020 2020 2020 2263 7572 7265            "curre
-00015c60: 6e74 5f61 6d70 6c69 7475 6465 7322 3a20  nt_amplitudes": 
-00015c70: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-00015c80: 2020 2020 2020 2020 2020 2263 7572 7265            "curre
-00015c90: 6e74 5f70 6861 7365 735f 6465 6722 3a20  nt_phases_deg": 
-00015ca0: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
-00015cb0: 2020 2020 207d 2c0a 2020 2020 2020 2020       },.        
-00015cc0: 2020 2020 2020 2020 2263 686f 6b65 223a          "choke":
-00015cd0: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
-00015ce0: 2020 2020 2020 2022 6375 7272 656e 745f         "current_
-00015cf0: 616d 706c 6974 7564 6573 223a 204e 6f6e  amplitudes": Non
-00015d00: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00015d10: 2020 2020 2020 2022 6375 7272 656e 745f         "current_
-00015d20: 7068 6173 6573 5f64 6567 223a 204e 6f6e  phases_deg": Non
-00015d30: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00015d40: 2020 7d0a 2020 2020 2020 2020 2020 2020    }.            
-00015d50: 7d2c 0a20 2020 2020 2020 2020 2020 2022  },.            "
-00015d60: 6c69 6e65 6172 5f6c 6f73 7365 7322 3a20  linear_losses": 
-00015d70: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
-00015d80: 2020 2266 7265 7175 656e 6369 6573 223a    "frequencies":
-00015d90: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
-00015da0: 2020 2020 2020 2022 6375 7272 656e 745f         "current_
-00015db0: 616d 706c 6974 7564 6573 223a 204e 6f6e  amplitudes": Non
-00015dc0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00015dd0: 2020 2022 6375 7272 656e 745f 7068 6173     "current_phas
-00015de0: 6573 5f64 6567 223a 204e 6f6e 650a 2020  es_deg": None.  
-00015df0: 2020 2020 2020 2020 2020 7d0a 2020 2020            }.    
-00015e00: 2020 2020 7d0a 0a20 2020 2020 2020 2023      }..        #
-00015e10: 2048 7973 7465 7265 7369 7320 4c6f 7373   Hysteresis Loss
-00015e20: 2045 7863 6974 6174 696f 6e0a 2020 2020   Excitation.    
-00015e30: 2020 2020 7469 6d65 5f63 7572 7265 6e74      time_current
-00015e40: 5f76 6563 746f 7273 5b31 5d5b 315d 203d  _vectors[1][1] =
-00015e50: 2074 696d 655f 6375 7272 656e 745f 7665   time_current_ve
-00015e60: 6374 6f72 735b 315d 5b31 5d20 2a20 282d  ctors[1][1] * (-
-00015e70: 3129 0a20 2020 2020 2020 2068 7973 745f  1).        hyst_
-00015e80: 6672 6571 7565 6e63 792c 2068 7973 745f  frequency, hyst_
-00015e90: 6c6f 7373 5f61 6d70 6c69 7475 6465 732c  loss_amplitudes,
-00015ea0: 2068 7973 745f 6c6f 7373 5f70 6861 7365   hyst_loss_phase
-00015eb0: 735f 6465 6720 3d20 6879 7374 6572 6573  s_deg = hysteres
-00015ec0: 6973 5f6c 6f73 735f 6578 6369 7461 7469  is_loss_excitati
-00015ed0: 6f6e 2874 696d 655f 6375 7272 656e 745f  on(time_current_
-00015ee0: 7665 6374 6f72 7329 0a20 2020 2020 2020  vectors).       
-00015ef0: 2068 7973 745f 6672 6571 7565 6e63 792c   hyst_frequency,
-00015f00: 2068 7973 745f 6c6f 7373 5f61 6d70 6c69   hyst_loss_ampli
-00015f10: 7475 6465 732c 2068 7973 745f 6c6f 7373  tudes, hyst_loss
-00015f20: 5f70 6861 7365 735f 6465 6720 3d20 7370  _phases_deg = sp
-00015f30: 6c69 745f 6879 7374 6572 6573 6973 5f6c  lit_hysteresis_l
-00015f40: 6f73 735f 6578 6369 7461 7469 6f6e 5f63  oss_excitation_c
-00015f50: 656e 7465 725f 7461 7070 6564 280a 2020  enter_tapped(.  
-00015f60: 2020 2020 2020 2020 2020 6879 7374 5f66            hyst_f
-00015f70: 7265 7175 656e 6379 2c20 6879 7374 5f6c  requency, hyst_l
-00015f80: 6f73 735f 616d 706c 6974 7564 6573 2c20  oss_amplitudes, 
-00015f90: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
-00015fa0: 5f64 6567 290a 2020 2020 2020 2020 6365  _deg).        ce
-00015fb0: 6e74 6572 5f74 6170 7065 645f 7374 7564  nter_tapped_stud
-00015fc0: 795f 6578 6369 7461 7469 6f6e 5b22 6879  y_excitation["hy
-00015fd0: 7374 6572 6573 6973 225d 5b22 6672 6571  steresis"]["freq
-00015fe0: 7565 6e63 7922 5d20 3d20 6879 7374 5f66  uency"] = hyst_f
-00015ff0: 7265 7175 656e 6379 0a0a 2020 2020 2020  requency..      
-00016000: 2020 6966 2070 6c6f 745f 7761 7665 666f    if plot_wavefo
-00016010: 726d 733a 0a20 2020 2020 2020 2020 2020  rms:.           
-00016020: 2069 5f31 203d 2068 7973 745f 6c6f 7373   i_1 = hyst_loss
-00016030: 5f61 6d70 6c69 7475 6465 735b 305d 202a  _amplitudes[0] *
-00016040: 206e 702e 636f 7328 0a20 2020 2020 2020   np.cos(.       
-00016050: 2020 2020 2020 2020 2074 696d 655f 6375           time_cu
-00016060: 7272 656e 745f 7665 6374 6f72 735b 305d  rrent_vectors[0]
-00016070: 5b30 5d20 2a20 3220 2a20 6e70 2e70 6920  [0] * 2 * np.pi 
-00016080: 2a20 6879 7374 5f66 7265 7175 656e 6379  * hyst_frequency
-00016090: 202d 206e 702e 6465 6732 7261 6428 6879   - np.deg2rad(hy
-000160a0: 7374 5f6c 6f73 735f 7068 6173 6573 5f64  st_loss_phases_d
-000160b0: 6567 5b30 5d29 290a 2020 2020 2020 2020  eg[0])).        
-000160c0: 2020 2020 695f 3220 3d20 6879 7374 5f6c      i_2 = hyst_l
-000160d0: 6f73 735f 616d 706c 6974 7564 6573 5b31  oss_amplitudes[1
-000160e0: 5d20 2a20 6e70 2e63 6f73 280a 2020 2020  ] * np.cos(.    
-000160f0: 2020 2020 2020 2020 2020 2020 7469 6d65              time
-00016100: 5f63 7572 7265 6e74 5f76 6563 746f 7273  _current_vectors
-00016110: 5b30 5d5b 305d 202a 2032 202a 206e 702e  [0][0] * 2 * np.
-00016120: 7069 202a 2068 7973 745f 6672 6571 7565  pi * hyst_freque
-00016130: 6e63 7920 2d20 6e70 2e64 6567 3272 6164  ncy - np.deg2rad
-00016140: 2868 7973 745f 6c6f 7373 5f70 6861 7365  (hyst_loss_phase
-00016150: 735f 6465 675b 315d 2929 0a20 2020 2020  s_deg[1])).     
-00016160: 2020 2020 2020 2070 6c74 2e70 6c6f 7428         plt.plot(
-00016170: 7469 6d65 5f63 7572 7265 6e74 5f76 6563  time_current_vec
-00016180: 746f 7273 5b30 5d5b 305d 2c20 695f 312c  tors[0][0], i_1,
-00016190: 206c 6162 656c 3d22 695f 3122 290a 2020   label="i_1").  
-000161a0: 2020 2020 2020 2020 2020 706c 742e 706c            plt.pl
-000161b0: 6f74 2874 696d 655f 6375 7272 656e 745f  ot(time_current_
-000161c0: 7665 6374 6f72 735b 305d 5b30 5d2c 2069  vectors[0][0], i
-000161d0: 5f32 2c20 222d 222c 206c 6162 656c 3d22  _2, "-", label="
-000161e0: 695f 3222 290a 2020 2020 2020 2020 2020  i_2").          
-000161f0: 2020 706c 742e 786c 6162 656c 2822 7469    plt.xlabel("ti
-00016200: 6d65 202f 2073 2229 0a20 2020 2020 2020  me / s").       
-00016210: 2020 2020 2070 6c74 2e79 6c61 6265 6c28       plt.ylabel(
-00016220: 2263 7572 7265 6e74 202f 2041 2229 0a20  "current / A"). 
-00016230: 2020 2020 2020 2020 2020 2070 6c74 2e67             plt.g
-00016240: 7269 6428 290a 2020 2020 2020 2020 2020  rid().          
-00016250: 2020 706c 742e 6c65 6765 6e64 2829 0a20    plt.legend(). 
-00016260: 2020 2020 2020 2020 2020 2070 6c74 2e73             plt.s
-00016270: 686f 7728 290a 0a20 2020 2020 2020 2023  how()..        #
-00016280: 2063 616c 6375 6c61 7465 2068 7973 7465   calculate hyste
-00016290: 7265 7369 7320 6c6f 7373 6573 2069 6e20  resis losses in 
-000162a0: 7468 6520 7866 6d72 0a20 2020 2020 2020  the xfmr.       
-000162b0: 2078 666d 725f 7363 616c 6520 3d20 312e   xfmr_scale = 1.
-000162c0: 370a 2020 2020 2020 2020 6365 6e74 6572  7.        center
-000162d0: 5f74 6170 7065 645f 7374 7564 795f 6578  _tapped_study_ex
-000162e0: 6369 7461 7469 6f6e 5b22 6879 7374 6572  citation["hyster
-000162f0: 6573 6973 225d 5b22 7472 616e 7366 6f72  esis"]["transfor
-00016300: 6d65 7222 5d5b 2263 7572 7265 6e74 5f61  mer"]["current_a
-00016310: 6d70 6c69 7475 6465 7322 5d20 3d20 6c69  mplitudes"] = li
-00016320: 7374 280a 2020 2020 2020 2020 2020 2020  st(.            
-00016330: 6e70 2e61 7272 6179 2868 7973 745f 6c6f  np.array(hyst_lo
-00016340: 7373 5f61 6d70 6c69 7475 6465 7329 202a  ss_amplitudes) *
-00016350: 2078 666d 725f 7363 616c 6529 0a20 2020   xfmr_scale).   
-00016360: 2020 2020 2063 656e 7465 725f 7461 7070       center_tapp
-00016370: 6564 5f73 7475 6479 5f65 7863 6974 6174  ed_study_excitat
-00016380: 696f 6e5b 2268 7973 7465 7265 7369 7322  ion["hysteresis"
-00016390: 5d5b 2274 7261 6e73 666f 726d 6572 225d  ]["transformer"]
-000163a0: 5b22 6375 7272 656e 745f 7068 6173 6573  ["current_phases
-000163b0: 5f64 6567 225d 203d 2068 7973 745f 6c6f  _deg"] = hyst_lo
-000163c0: 7373 5f70 6861 7365 735f 6465 670a 0a20  ss_phases_deg.. 
-000163d0: 2020 2020 2020 2023 2063 616c 6375 6c61         # calcula
-000163e0: 7465 2068 7973 7465 7265 7369 7320 6c6f  te hysteresis lo
-000163f0: 7373 6573 2069 6e20 7468 6520 6368 6f6b  sses in the chok
-00016400: 650a 2020 2020 2020 2020 6368 6f6b 655f  e.        choke_
-00016410: 6879 7374 5f6c 6f73 735f 616d 706c 6974  hyst_loss_amplit
-00016420: 7564 6573 203d 2068 7973 745f 6c6f 7373  udes = hyst_loss
-00016430: 5f61 6d70 6c69 7475 6465 730a 2020 2020  _amplitudes.    
-00016440: 2020 2020 6368 6f6b 655f 6879 7374 5f6c      choke_hyst_l
-00016450: 6f73 735f 616d 706c 6974 7564 6573 5b31  oss_amplitudes[1
-00016460: 5d20 3d20 6368 6f6b 655f 6879 7374 5f6c  ] = choke_hyst_l
-00016470: 6f73 735f 616d 706c 6974 7564 6573 5b30  oss_amplitudes[0
-00016480: 5d20 2a20 370a 2020 2020 2020 2020 6368  ] * 7.        ch
-00016490: 6f6b 655f 6879 7374 5f6c 6f73 735f 616d  oke_hyst_loss_am
-000164a0: 706c 6974 7564 6573 5b32 5d20 3d20 6368  plitudes[2] = ch
-000164b0: 6f6b 655f 6879 7374 5f6c 6f73 735f 616d  oke_hyst_loss_am
-000164c0: 706c 6974 7564 6573 5b30 5d20 2a20 370a  plitudes[0] * 7.
-000164d0: 2020 2020 2020 2020 6365 6e74 6572 5f74          center_t
-000164e0: 6170 7065 645f 7374 7564 795f 6578 6369  apped_study_exci
-000164f0: 7461 7469 6f6e 5b22 6879 7374 6572 6573  tation["hysteres
-00016500: 6973 225d 5b22 6368 6f6b 6522 5d5b 2263  is"]["choke"]["c
-00016510: 7572 7265 6e74 5f61 6d70 6c69 7475 6465  urrent_amplitude
-00016520: 7322 5d20 3d20 6368 6f6b 655f 6879 7374  s"] = choke_hyst
-00016530: 5f6c 6f73 735f 616d 706c 6974 7564 6573  _loss_amplitudes
-00016540: 0a20 2020 2020 2020 2063 656e 7465 725f  .        center_
-00016550: 7461 7070 6564 5f73 7475 6479 5f65 7863  tapped_study_exc
-00016560: 6974 6174 696f 6e5b 2268 7973 7465 7265  itation["hystere
-00016570: 7369 7322 5d5b 2263 686f 6b65 225d 5b22  sis"]["choke"]["
-00016580: 6375 7272 656e 745f 7068 6173 6573 5f64  current_phases_d
-00016590: 6567 225d 203d 205b 302c 2031 3830 2c20  eg"] = [0, 180, 
-000165a0: 3138 305d 0a0a 2020 2020 2020 2020 2320  180]..        # 
-000165b0: 4c69 6e65 6172 204c 6f73 7320 4578 6369  Linear Loss Exci
-000165c0: 7461 7469 6f6e 0a20 2020 2020 2020 2074  tation.        t
-000165d0: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
-000165e0: 6f72 7320 3d20 7370 6c69 745f 7469 6d65  ors = split_time
-000165f0: 5f63 7572 7265 6e74 5f76 6563 746f 7273  _current_vectors
-00016600: 5f63 656e 7465 725f 7461 7070 6564 2874  _center_tapped(t
-00016610: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
-00016620: 6f72 7329 0a20 2020 2020 2020 2066 7265  ors).        fre
-00016630: 7175 656e 6379 5f6c 6973 742c 2066 7265  quency_list, fre
-00016640: 7175 656e 6379 5f63 7572 7265 6e74 5f70  quency_current_p
-00016650: 6861 7365 5f64 6567 5f6c 6973 7420 3d20  hase_deg_list = 
-00016660: 6c69 6e65 6172 5f6c 6f73 735f 6578 6369  linear_loss_exci
-00016670: 7461 7469 6f6e 2874 696d 655f 6375 7272  tation(time_curr
-00016680: 656e 745f 7665 6374 6f72 732c 0a20 2020  ent_vectors,.   
-00016690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166d0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-000166e0: 6674 5f66 696c 7465 725f 7661 6c75 655f  ft_filter_value_
-000166f0: 6661 6374 6f72 290a 0a20 2020 2020 2020  factor)..       
-00016700: 2069 6620 706c 6f74 5f77 6176 6566 6f72   if plot_wavefor
-00016710: 6d73 3a0a 2020 2020 2020 2020 2020 2020  ms:.            
-00016720: 695f 3120 3d20 6879 7374 5f6c 6f73 735f  i_1 = hyst_loss_
-00016730: 616d 706c 6974 7564 6573 5b30 5d20 2a20  amplitudes[0] * 
-00016740: 6e70 2e63 6f73 280a 2020 2020 2020 2020  np.cos(.        
-00016750: 2020 2020 2020 2020 7469 6d65 5f63 7572          time_cur
-00016760: 7265 6e74 5f76 6563 746f 7273 5b30 5d5b  rent_vectors[0][
-00016770: 305d 202a 2032 202a 206e 702e 7069 202a  0] * 2 * np.pi *
-00016780: 2068 7973 745f 6672 6571 7565 6e63 7920   hyst_frequency 
-00016790: 2d20 6e70 2e64 6567 3272 6164 2868 7973  - np.deg2rad(hys
-000167a0: 745f 6c6f 7373 5f70 6861 7365 735f 6465  t_loss_phases_de
-000167b0: 675b 305d 2929 0a20 2020 2020 2020 2020  g[0])).         
-000167c0: 2020 2069 5f32 203d 2068 7973 745f 6c6f     i_2 = hyst_lo
-000167d0: 7373 5f61 6d70 6c69 7475 6465 735b 315d  ss_amplitudes[1]
-000167e0: 202a 206e 702e 636f 7328 0a20 2020 2020   * np.cos(.     
-000167f0: 2020 2020 2020 2020 2020 2074 696d 655f             time_
-00016800: 6375 7272 656e 745f 7665 6374 6f72 735b  current_vectors[
-00016810: 305d 5b30 5d20 2a20 3220 2a20 6e70 2e70  0][0] * 2 * np.p
-00016820: 6920 2a20 6879 7374 5f66 7265 7175 656e  i * hyst_frequen
-00016830: 6379 202d 206e 702e 6465 6732 7261 6428  cy - np.deg2rad(
-00016840: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
-00016850: 5f64 6567 5b31 5d29 290a 2020 2020 2020  _deg[1])).      
-00016860: 2020 2020 2020 695f 3320 3d20 6879 7374        i_3 = hyst
-00016870: 5f6c 6f73 735f 616d 706c 6974 7564 6573  _loss_amplitudes
-00016880: 5b32 5d20 2a20 6e70 2e63 6f73 280a 2020  [2] * np.cos(.  
-00016890: 2020 2020 2020 2020 2020 2020 2020 7469                ti
-000168a0: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
-000168b0: 7273 5b30 5d5b 305d 202a 2032 202a 206e  rs[0][0] * 2 * n
-000168c0: 702e 7069 202a 2068 7973 745f 6672 6571  p.pi * hyst_freq
-000168d0: 7565 6e63 7920 2d20 6e70 2e64 6567 3272  uency - np.deg2r
-000168e0: 6164 2868 7973 745f 6c6f 7373 5f70 6861  ad(hyst_loss_pha
-000168f0: 7365 735f 6465 675b 325d 2929 0a20 2020  ses_deg[2])).   
-00016900: 2020 2020 2020 2020 2070 6c74 2e70 6c6f           plt.plo
-00016910: 7428 7469 6d65 5f63 7572 7265 6e74 5f76  t(time_current_v
-00016920: 6563 746f 7273 5b30 5d5b 305d 2c20 695f  ectors[0][0], i_
-00016930: 312c 206c 6162 656c 3d22 695f 3122 290a  1, label="i_1").
-00016940: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
-00016950: 706c 6f74 2874 696d 655f 6375 7272 656e  plot(time_curren
-00016960: 745f 7665 6374 6f72 735b 305d 5b30 5d2c  t_vectors[0][0],
-00016970: 2069 5f32 2c20 222d 222c 206c 6162 656c   i_2, "-", label
-00016980: 3d22 695f 3222 290a 2020 2020 2020 2020  ="i_2").        
-00016990: 2020 2020 706c 742e 706c 6f74 2874 696d      plt.plot(tim
-000169a0: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
-000169b0: 735b 305d 5b30 5d2c 2069 5f33 2c20 222d  s[0][0], i_3, "-
-000169c0: 2d22 2c20 6c61 6265 6c3d 2269 5f33 2229  -", label="i_3")
-000169d0: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
-000169e0: 2e78 6c61 6265 6c28 2274 696d 6520 2f20  .xlabel("time / 
-000169f0: 7322 290a 2020 2020 2020 2020 2020 2020  s").            
-00016a00: 706c 742e 796c 6162 656c 2822 6375 7272  plt.ylabel("curr
-00016a10: 656e 7420 2f20 4122 290a 2020 2020 2020  ent / A").      
-00016a20: 2020 2020 2020 706c 742e 6772 6964 2829        plt.grid()
-00016a30: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
-00016a40: 2e6c 6567 656e 6428 290a 2020 2020 2020  .legend().      
-00016a50: 2020 2020 2020 706c 742e 7368 6f77 2829        plt.show()
-00016a60: 0a0a 2020 2020 2020 2020 2320 7472 616e  ..        # tran
-00016a70: 7366 6572 2066 6f72 6d61 7420 6672 6f6d  sfer format from
-00016a80: 2066 6674 2829 2d6f 7574 7075 7420 746f   fft()-output to
-00016a90: 2065 7863 6974 6174 696f 6e5f 7377 6565   excitation_swee
-00016aa0: 7028 292d 696e 7075 740a 2020 2020 2020  p()-input.      
-00016ab0: 2020 6375 7272 656e 745f 6c69 7374 5f6c    current_list_l
-00016ac0: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
-00016ad0: 2070 6869 5f64 6567 5f6c 6973 745f 6c69   phi_deg_list_li
-00016ae0: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
-00016af0: 666f 7220 636f 756e 745f 6672 6571 7565  for count_freque
-00016b00: 6e63 792c 205f 2069 6e20 656e 756d 6572  ncy, _ in enumer
-00016b10: 6174 6528 6672 6571 7565 6e63 795f 6c69  ate(frequency_li
-00016b20: 7374 293a 0a20 2020 2020 2020 2020 2020  st):.           
-00016b30: 2063 7572 7265 6e74 735f 7369 6e67 6c65   currents_single
-00016b40: 5f66 7265 7175 656e 6379 203d 205b 5d0a  _frequency = [].
-00016b50: 2020 2020 2020 2020 2020 2020 7068 695f              phi_
-00016b60: 6465 675f 7369 6e67 6c65 5f66 7265 7175  deg_single_frequ
-00016b70: 656e 6379 203d 205b 5d0a 2020 2020 2020  ency = [].      
-00016b80: 2020 2020 2020 666f 7220 636f 756e 745f        for count_
-00016b90: 6375 7272 656e 742c 205f 2069 6e20 656e  current, _ in en
-00016ba0: 756d 6572 6174 6528 7469 6d65 5f63 7572  umerate(time_cur
-00016bb0: 7265 6e74 5f76 6563 746f 7273 293a 0a20  rent_vectors):. 
-00016bc0: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00016bd0: 7572 7265 6e74 735f 7369 6e67 6c65 5f66  urrents_single_f
-00016be0: 7265 7175 656e 6379 2e61 7070 656e 6428  requency.append(
-00016bf0: 6672 6571 7565 6e63 795f 6375 7272 656e  frequency_curren
-00016c00: 745f 7068 6173 655f 6465 675f 6c69 7374  t_phase_deg_list
-00016c10: 5b63 6f75 6e74 5f63 7572 7265 6e74 5d5b  [count_current][
-00016c20: 315d 5b63 6f75 6e74 5f66 7265 7175 656e  1][count_frequen
-00016c30: 6379 5d29 0a20 2020 2020 2020 2020 2020  cy]).           
-00016c40: 2020 2020 2070 6869 5f64 6567 5f73 696e       phi_deg_sin
-00016c50: 676c 655f 6672 6571 7565 6e63 792e 6170  gle_frequency.ap
-00016c60: 7065 6e64 2866 7265 7175 656e 6379 5f63  pend(frequency_c
-00016c70: 7572 7265 6e74 5f70 6861 7365 5f64 6567  urrent_phase_deg
-00016c80: 5f6c 6973 745b 636f 756e 745f 6375 7272  _list[count_curr
-00016c90: 656e 745d 5b32 5d5b 636f 756e 745f 6672  ent][2][count_fr
-00016ca0: 6571 7565 6e63 795d 290a 2020 2020 2020  equency]).      
-00016cb0: 2020 2020 2020 6375 7272 656e 745f 6c69        current_li
-00016cc0: 7374 5f6c 6973 742e 6170 7065 6e64 2863  st_list.append(c
-00016cd0: 7572 7265 6e74 735f 7369 6e67 6c65 5f66  urrents_single_f
-00016ce0: 7265 7175 656e 6379 290a 2020 2020 2020  requency).      
-00016cf0: 2020 2020 2020 7068 695f 6465 675f 6c69        phi_deg_li
-00016d00: 7374 5f6c 6973 742e 6170 7065 6e64 2870  st_list.append(p
-00016d10: 6869 5f64 6567 5f73 696e 676c 655f 6672  hi_deg_single_fr
-00016d20: 6571 7565 6e63 7929 0a20 2020 2020 2020  equency).       
-00016d30: 2063 656e 7465 725f 7461 7070 6564 5f73   center_tapped_s
-00016d40: 7475 6479 5f65 7863 6974 6174 696f 6e5b  tudy_excitation[
-00016d50: 226c 696e 6561 725f 6c6f 7373 6573 225d  "linear_losses"]
-00016d60: 5b22 6672 6571 7565 6e63 6965 7322 5d20  ["frequencies"] 
-00016d70: 3d20 6c69 7374 2866 7265 7175 656e 6379  = list(frequency
-00016d80: 5f6c 6973 7429 0a20 2020 2020 2020 2063  _list).        c
-00016d90: 656e 7465 725f 7461 7070 6564 5f73 7475  enter_tapped_stu
-00016da0: 6479 5f65 7863 6974 6174 696f 6e5b 226c  dy_excitation["l
-00016db0: 696e 6561 725f 6c6f 7373 6573 225d 5b22  inear_losses"]["
-00016dc0: 6375 7272 656e 745f 616d 706c 6974 7564  current_amplitud
-00016dd0: 6573 225d 203d 2063 7572 7265 6e74 5f6c  es"] = current_l
-00016de0: 6973 745f 6c69 7374 0a20 2020 2020 2020  ist_list.       
-00016df0: 2063 656e 7465 725f 7461 7070 6564 5f73   center_tapped_s
-00016e00: 7475 6479 5f65 7863 6974 6174 696f 6e5b  tudy_excitation[
-00016e10: 226c 696e 6561 725f 6c6f 7373 6573 225d  "linear_losses"]
-00016e20: 5b22 6375 7272 656e 745f 7068 6173 6573  ["current_phases
-00016e30: 5f64 6567 225d 203d 2070 6869 5f64 6567  _deg"] = phi_deg
-00016e40: 5f6c 6973 745f 6c69 7374 0a0a 2020 2020  _list_list..    
-00016e50: 2020 2020 7265 7475 726e 2063 656e 7465      return cente
-00016e60: 725f 7461 7070 6564 5f73 7475 6479 5f65  r_tapped_study_e
-00016e70: 7863 6974 6174 696f 6e0a 0a20 2020 2064  xcitation..    d
-00016e80: 6566 2073 7461 636b 6564 5f63 6f72 655f  ef stacked_core_
-00016e90: 6365 6e74 6572 5f74 6170 7065 645f 7374  center_tapped_st
-00016ea0: 7564 7928 7365 6c66 2c20 6365 6e74 6572  udy(self, center
-00016eb0: 5f74 6170 7065 645f 7374 7564 795f 6578  _tapped_study_ex
-00016ec0: 6369 7461 7469 6f6e 2c20 6e75 6d62 6572  citation, number
-00016ed0: 5f70 7269 6d61 7279 5f63 6f69 6c5f 7475  _primary_coil_tu
-00016ee0: 726e 733a 2069 6e74 203d 204e 6f6e 652c  rns: int = None,
-00016ef0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016f10: 2020 2020 2020 2020 2020 6e6f 6e5f 7369            non_si
-00016f20: 6e65 5f68 7973 7465 7265 7369 735f 636f  ne_hysteresis_co
-00016f30: 7272 6563 7469 6f6e 3a20 626f 6f6c 203d  rrection: bool =
-00016f40: 2046 616c 7365 293a 0a20 2020 2020 2020   False):.       
-00016f50: 2022 2222 0a20 2020 2020 2020 2043 6f6d   """.        Com
-00016f60: 7072 6568 656e 7369 7665 2063 6f6d 706f  prehensive compo
-00016f70: 6e65 6e74 2061 6e61 6c79 7369 7320 666f  nent analysis fo
-00016f80: 7220 6365 6e74 6572 2074 6170 7065 6420  r center tapped 
-00016f90: 7472 616e 7366 6f72 6d65 7273 2077 6974  transformers wit
-00016fa0: 6820 6465 6469 6361 7465 6420 6368 6f6b  h dedicated chok
-00016fb0: 652e 0a0a 2020 2020 2020 2020 3a70 6172  e...        :par
-00016fc0: 616d 206e 6f6e 5f73 696e 655f 6879 7374  am non_sine_hyst
-00016fd0: 6572 6573 6973 5f63 6f72 7265 6374 696f  eresis_correctio
-00016fe0: 6e3a 2054 7275 6520 746f 2065 6e61 626c  n: True to enabl
-00016ff0: 6520 7468 6520 6e6f 6e2d 7369 6e75 736f  e the non-sinuso
-00017000: 6964 616c 2068 7973 7465 7265 7369 7320  idal hysteresis 
-00017010: 636f 7272 6563 7469 6f6e 2066 6163 746f  correction facto
-00017020: 720a 2020 2020 2020 2020 3a70 6172 616d  r.        :param
-00017030: 2063 656e 7465 725f 7461 7070 6564 5f73   center_tapped_s
-00017040: 7475 6479 5f65 7863 6974 6174 696f 6e3a  tudy_excitation:
-00017050: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00017060: 6e75 6d62 6572 5f70 7269 6d61 7279 5f63  number_primary_c
-00017070: 6f69 6c5f 7475 726e 733a 206e 756d 6265  oil_turns: numbe
-00017080: 7220 6f66 2070 7269 6d61 7279 2063 6f69  r of primary coi
-00017090: 6c20 7475 726e 732e 204e 6565 6465 6420  l turns. Needed 
-000170a0: 6475 6520 746f 2061 2073 7065 6369 616c  due to a special
-000170b0: 2074 7269 636b 2074 6f20 6765 7420 7468   trick to get th
-000170c0: 650a 2020 2020 2020 2020 2020 2020 7472  e.            tr
-000170d0: 616e 7366 6f72 6d65 7220 6c6f 7373 6573  ansformer losses
-000170e0: 2077 6974 686f 7574 2065 6666 6563 7420   without effect 
-000170f0: 6f66 2074 6865 2063 686f 6b65 0a20 2020  of the choke.   
-00017100: 2020 2020 203a 7479 7065 206e 756d 6265       :type numbe
-00017110: 725f 7072 696d 6172 795f 636f 696c 5f74  r_primary_coil_t
-00017120: 7572 6e73 3a20 696e 740a 2020 2020 2020  urns: int.      
-00017130: 2020 3a72 6574 7572 6e3a 0a20 2020 2020    :return:.     
-00017140: 2020 2022 2222 0a0a 2020 2020 2020 2020     """..        
-00017150: 6465 6620 6661 6374 6f72 5f74 7269 616e  def factor_trian
-00017160: 6775 6c61 725f 6879 7374 6572 6573 6973  gular_hysteresis
-00017170: 5f6c 6f73 735f 6947 5345 2844 2c20 616c  _loss_iGSE(D, al
-00017180: 7068 6129 3a0a 2020 2020 2020 2020 2020  pha):.          
-00017190: 2020 6e6f 6d69 6e61 746f 7220 3d20 3220    nominator = 2 
-000171a0: 2a20 2844 202a 2a20 2831 202d 2061 6c70  * (D ** (1 - alp
-000171b0: 6861 2920 2b20 2831 202d 2044 2920 2a2a  ha) + (1 - D) **
-000171c0: 2028 3120 2d20 616c 7068 6129 290a 2020   (1 - alpha)).  
-000171d0: 2020 2020 2020 2020 2020 7468 6574 6120            theta 
-000171e0: 3d20 6e70 2e6c 696e 7370 6163 6528 302c  = np.linspace(0,
-000171f0: 2032 202a 206e 702e 7069 2c20 3130 3029   2 * np.pi, 100)
-00017200: 0a20 2020 2020 2020 2020 2020 2069 6e74  .            int
-00017210: 6567 7261 6e74 203d 206e 702e 6162 7328  egrant = np.abs(
-00017220: 6e70 2e63 6f73 2874 6865 7461 2929 202a  np.cos(theta)) *
-00017230: 2a20 616c 7068 610a 2020 2020 2020 2020  * alpha.        
-00017240: 2020 2020 6465 6e6f 6d69 6e61 746f 7220      denominator 
-00017250: 3d20 6e70 2e70 6920 2a2a 2028 616c 7068  = np.pi ** (alph
-00017260: 6120 2d20 3129 202a 206e 702e 7472 6170  a - 1) * np.trap
-00017270: 7a28 696e 7465 6772 616e 742c 2078 3d74  z(integrant, x=t
-00017280: 6865 7461 290a 2020 2020 2020 2020 2020  heta).          
-00017290: 2020 7265 7475 726e 206e 6f6d 696e 6174    return nominat
-000172a0: 6f72 202f 2064 656e 6f6d 696e 6174 6f72  or / denominator
-000172b0: 0a0a 2020 2020 2020 2020 2320 6765 7420  ..        # get 
-000172c0: 7468 6520 696e 6475 6374 616e 6365 0a20  the inductance. 
-000172d0: 2020 2020 2020 2069 6e64 7563 7461 6e63         inductanc
-000172e0: 655f 6469 6374 203d 2073 656c 662e 6765  e_dict = self.ge
-000172f0: 745f 696e 6475 6374 616e 6365 7328 4930  t_inductances(I0
-00017300: 3d31 2c20 736b 696e 5f6d 6573 685f 6661  =1, skin_mesh_fa
-00017310: 6374 6f72 3d31 2c0a 2020 2020 2020 2020  ctor=1,.        
-00017320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015a50: 2020 2020 2066 7265 7175 656e 6379 5f63       frequency_c
+00015a60: 7572 7265 6e74 5f70 6861 7365 5f64 6567  urrent_phase_deg
+00015a70: 5f6c 6973 745b 636f 756e 7420 2b20 315d  _list[count + 1]
+00015a80: 5b30 5d29 3a0a 2020 2020 2020 2020 2020  [0]):.          
+00015a90: 2020 2020 2020 2020 2020 2320 7261 6973            # rais
+00015aa0: 6520 5661 6c75 6545 7272 6f72 2822 4672  e ValueError("Fr
+00015ab0: 6571 7565 6e63 7920 7665 6374 6f72 7320  equency vectors 
+00015ac0: 666f 7220 6469 6666 6572 656e 7420 6375  for different cu
+00015ad0: 7272 656e 7473 2061 7265 206e 6f74 2074  rrents are not t
+00015ae0: 6865 2073 616d 6521 2229 0a20 2020 2020  he same!").     
+00015af0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00015b00: 2070 7269 6e74 2822 4672 6571 7565 6e63   print("Frequenc
+00015b10: 7920 7665 6374 6f72 7320 666f 7220 6469  y vectors for di
+00015b20: 6666 6572 656e 7420 6375 7272 656e 7473  fferent currents
+00015b30: 2061 7265 206e 6f74 2074 6865 2073 616d   are not the sam
+00015b40: 6521 2229 0a20 2020 2020 2020 2020 2020  e!").           
+00015b50: 2020 2020 2020 2020 2061 6c6c 5f66 7265           all_fre
+00015b60: 7175 656e 6369 6573 203d 2061 6c6c 5f66  quencies = all_f
+00015b70: 7265 7175 656e 6369 6573 207c 2073 6574  requencies | set
+00015b80: 2866 7265 7175 656e 6379 5f63 7572 7265  (frequency_curre
+00015b90: 6e74 5f70 6861 7365 5f64 6567 5f6c 6973  nt_phase_deg_lis
+00015ba0: 745b 636f 756e 745d 5b30 5d29 207c 2073  t[count][0]) | s
+00015bb0: 6574 280a 2020 2020 2020 2020 2020 2020  et(.            
+00015bc0: 2020 2020 2020 2020 2020 2020 6672 6571              freq
+00015bd0: 7565 6e63 795f 6375 7272 656e 745f 7068  uency_current_ph
+00015be0: 6173 655f 6465 675f 6c69 7374 5b63 6f75  ase_deg_list[cou
+00015bf0: 6e74 202b 2031 5d5b 305d 290a 2020 2020  nt + 1][0]).    
+00015c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015c10: 2320 7072 696e 7428 6622 4f72 6967 696e  # print(f"Origin
+00015c20: 616c 3a20 7b66 7265 7175 656e 6379 5f63  al: {frequency_c
+00015c30: 7572 7265 6e74 5f70 6861 7365 5f64 6567  urrent_phase_deg
+00015c40: 5f6c 6973 7420 3d20 7d22 290a 0a20 2020  _list = }")..   
+00015c50: 2020 2020 2020 2020 2066 6f72 2066 7265           for fre
+00015c60: 7175 656e 6379 2069 6e20 6c69 7374 2861  quency in list(a
+00015c70: 6c6c 5f66 7265 7175 656e 6369 6573 293a  ll_frequencies):
+00015c80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00015c90: 2066 6f72 2063 6f75 6e74 2069 6e20 7261   for count in ra
+00015ca0: 6e67 6528 302c 206c 656e 2866 7265 7175  nge(0, len(frequ
+00015cb0: 656e 6379 5f63 7572 7265 6e74 5f70 6861  ency_current_pha
+00015cc0: 7365 5f64 6567 5f6c 6973 7429 293a 0a20  se_deg_list)):. 
+00015cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ce0: 2020 2069 6620 6672 6571 7565 6e63 7920     if frequency 
+00015cf0: 6e6f 7420 696e 2066 7265 7175 656e 6379  not in frequency
+00015d00: 5f63 7572 7265 6e74 5f70 6861 7365 5f64  _current_phase_d
+00015d10: 6567 5f6c 6973 745b 636f 756e 745d 5b30  eg_list[count][0
+00015d20: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
+00015d30: 2020 2020 2020 2020 2020 2069 6920 3d20             ii = 
+00015d40: 6e70 2e73 6561 7263 6873 6f72 7465 6428  np.searchsorted(
+00015d50: 6672 6571 7565 6e63 795f 6375 7272 656e  frequency_curren
+00015d60: 745f 7068 6173 655f 6465 675f 6c69 7374  t_phase_deg_list
+00015d70: 5b63 6f75 6e74 5d5b 305d 2c20 6672 6571  [count][0], freq
+00015d80: 7565 6e63 7929 0a20 2020 2020 2020 2020  uency).         
+00015d90: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00015da0: 7265 7175 656e 6379 5f63 7572 7265 6e74  requency_current
+00015db0: 5f70 6861 7365 5f64 6567 5f6c 6973 745b  _phase_deg_list[
+00015dc0: 636f 756e 745d 5b30 5d20 3d20 6e70 2e69  count][0] = np.i
+00015dd0: 6e73 6572 7428 0a20 2020 2020 2020 2020  nsert(.         
+00015de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015df0: 2020 2066 7265 7175 656e 6379 5f63 7572     frequency_cur
+00015e00: 7265 6e74 5f70 6861 7365 5f64 6567 5f6c  rent_phase_deg_l
+00015e10: 6973 745b 636f 756e 745d 5b30 5d2c 2069  ist[count][0], i
+00015e20: 692c 2066 7265 7175 656e 6379 290a 2020  i, frequency).  
+00015e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015e40: 2020 2020 2020 6672 6571 7565 6e63 795f        frequency_
+00015e50: 6375 7272 656e 745f 7068 6173 655f 6465  current_phase_de
+00015e60: 675f 6c69 7374 5b63 6f75 6e74 5d5b 315d  g_list[count][1]
+00015e70: 203d 206e 702e 696e 7365 7274 280a 2020   = np.insert(.  
+00015e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015e90: 2020 2020 2020 2020 2020 6672 6571 7565            freque
+00015ea0: 6e63 795f 6375 7272 656e 745f 7068 6173  ncy_current_phas
+00015eb0: 655f 6465 675f 6c69 7374 5b63 6f75 6e74  e_deg_list[count
+00015ec0: 5d5b 315d 2c20 6969 2c20 3029 0a20 2020  ][1], ii, 0).   
+00015ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ee0: 2020 2020 2066 7265 7175 656e 6379 5f63       frequency_c
+00015ef0: 7572 7265 6e74 5f70 6861 7365 5f64 6567  urrent_phase_deg
+00015f00: 5f6c 6973 745b 636f 756e 745d 5b32 5d20  _list[count][2] 
+00015f10: 3d20 6e70 2e69 6e73 6572 7428 0a20 2020  = np.insert(.   
+00015f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015f30: 2020 2020 2020 2020 2066 7265 7175 656e           frequen
+00015f40: 6379 5f63 7572 7265 6e74 5f70 6861 7365  cy_current_phase
+00015f50: 5f64 6567 5f6c 6973 745b 636f 756e 745d  _deg_list[count]
+00015f60: 5b32 5d2c 2069 692c 2030 290a 2020 2020  [2], ii, 0).    
+00015f70: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
+00015f80: 6622 436f 7272 6563 7465 643a 207b 6672  f"Corrected: {fr
+00015f90: 6571 7565 6e63 795f 6375 7272 656e 745f  equency_current_
+00015fa0: 7068 6173 655f 6465 675f 6c69 7374 203d  phase_deg_list =
+00015fb0: 207d 2229 0a20 2020 2020 2020 2020 2020   }").           
+00015fc0: 2072 6574 7572 6e20 6672 6571 7565 6e63   return frequenc
+00015fd0: 795f 6c69 7374 2c20 6672 6571 7565 6e63  y_list, frequenc
+00015fe0: 795f 6375 7272 656e 745f 7068 6173 655f  y_current_phase_
+00015ff0: 6465 675f 6c69 7374 0a0a 2020 2020 2020  deg_list..      
+00016000: 2020 6365 6e74 6572 5f74 6170 7065 645f    center_tapped_
+00016010: 7374 7564 795f 6578 6369 7461 7469 6f6e  study_excitation
+00016020: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
+00016030: 2022 6879 7374 6572 6573 6973 223a 207b   "hysteresis": {
+00016040: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016050: 2022 6672 6571 7565 6e63 7922 3a20 4e6f   "frequency": No
+00016060: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+00016070: 2020 2020 2274 7261 6e73 666f 726d 6572      "transformer
+00016080: 223a 207b 0a20 2020 2020 2020 2020 2020  ": {.           
+00016090: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
+000160a0: 745f 616d 706c 6974 7564 6573 223a 204e  t_amplitudes": N
+000160b0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+000160c0: 2020 2020 2020 2020 2022 6375 7272 656e           "curren
+000160d0: 745f 7068 6173 6573 5f64 6567 223a 204e  t_phases_deg": N
+000160e0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+000160f0: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+00016100: 2020 2020 2020 2022 6368 6f6b 6522 3a20         "choke": 
+00016110: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+00016120: 2020 2020 2020 2263 7572 7265 6e74 5f61        "current_a
+00016130: 6d70 6c69 7475 6465 7322 3a20 4e6f 6e65  mplitudes": None
+00016140: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00016150: 2020 2020 2020 2263 7572 7265 6e74 5f70        "current_p
+00016160: 6861 7365 735f 6465 6722 3a20 4e6f 6e65  hases_deg": None
+00016170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016180: 207d 0a20 2020 2020 2020 2020 2020 207d   }.            }
+00016190: 2c0a 2020 2020 2020 2020 2020 2020 226c  ,.            "l
+000161a0: 696e 6561 725f 6c6f 7373 6573 223a 207b  inear_losses": {
+000161b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000161c0: 2022 6672 6571 7565 6e63 6965 7322 3a20   "frequencies": 
+000161d0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+000161e0: 2020 2020 2020 2263 7572 7265 6e74 5f61        "current_a
+000161f0: 6d70 6c69 7475 6465 7322 3a20 4e6f 6e65  mplitudes": None
+00016200: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00016210: 2020 2263 7572 7265 6e74 5f70 6861 7365    "current_phase
+00016220: 735f 6465 6722 3a20 4e6f 6e65 0a20 2020  s_deg": None.   
+00016230: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
+00016240: 2020 207d 0a0a 2020 2020 2020 2020 2320     }..        # 
+00016250: 4879 7374 6572 6573 6973 204c 6f73 7320  Hysteresis Loss 
+00016260: 4578 6369 7461 7469 6f6e 0a20 2020 2020  Excitation.     
+00016270: 2020 2074 696d 655f 6375 7272 656e 745f     time_current_
+00016280: 7665 6374 6f72 735b 315d 5b31 5d20 3d20  vectors[1][1] = 
+00016290: 7469 6d65 5f63 7572 7265 6e74 5f76 6563  time_current_vec
+000162a0: 746f 7273 5b31 5d5b 315d 202a 2028 2d31  tors[1][1] * (-1
+000162b0: 290a 2020 2020 2020 2020 6879 7374 5f66  ).        hyst_f
+000162c0: 7265 7175 656e 6379 2c20 6879 7374 5f6c  requency, hyst_l
+000162d0: 6f73 735f 616d 706c 6974 7564 6573 2c20  oss_amplitudes, 
+000162e0: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
+000162f0: 5f64 6567 203d 2068 7973 7465 7265 7369  _deg = hysteresi
+00016300: 735f 6c6f 7373 5f65 7863 6974 6174 696f  s_loss_excitatio
+00016310: 6e28 7469 6d65 5f63 7572 7265 6e74 5f76  n(time_current_v
+00016320: 6563 746f 7273 290a 2020 2020 2020 2020  ectors).        
+00016330: 6879 7374 5f66 7265 7175 656e 6379 2c20  hyst_frequency, 
+00016340: 6879 7374 5f6c 6f73 735f 616d 706c 6974  hyst_loss_amplit
+00016350: 7564 6573 2c20 6879 7374 5f6c 6f73 735f  udes, hyst_loss_
+00016360: 7068 6173 6573 5f64 6567 203d 2073 706c  phases_deg = spl
+00016370: 6974 5f68 7973 7465 7265 7369 735f 6c6f  it_hysteresis_lo
+00016380: 7373 5f65 7863 6974 6174 696f 6e5f 6365  ss_excitation_ce
+00016390: 6e74 6572 5f74 6170 7065 6428 0a20 2020  nter_tapped(.   
+000163a0: 2020 2020 2020 2020 2068 7973 745f 6672           hyst_fr
+000163b0: 6571 7565 6e63 792c 2068 7973 745f 6c6f  equency, hyst_lo
+000163c0: 7373 5f61 6d70 6c69 7475 6465 732c 2068  ss_amplitudes, h
+000163d0: 7973 745f 6c6f 7373 5f70 6861 7365 735f  yst_loss_phases_
+000163e0: 6465 6729 0a20 2020 2020 2020 2063 656e  deg).        cen
+000163f0: 7465 725f 7461 7070 6564 5f73 7475 6479  ter_tapped_study
+00016400: 5f65 7863 6974 6174 696f 6e5b 2268 7973  _excitation["hys
+00016410: 7465 7265 7369 7322 5d5b 2266 7265 7175  teresis"]["frequ
+00016420: 656e 6379 225d 203d 2068 7973 745f 6672  ency"] = hyst_fr
+00016430: 6571 7565 6e63 790a 0a20 2020 2020 2020  equency..       
+00016440: 2069 6620 706c 6f74 5f77 6176 6566 6f72   if plot_wavefor
+00016450: 6d73 3a0a 2020 2020 2020 2020 2020 2020  ms:.            
+00016460: 695f 3120 3d20 6879 7374 5f6c 6f73 735f  i_1 = hyst_loss_
+00016470: 616d 706c 6974 7564 6573 5b30 5d20 2a20  amplitudes[0] * 
+00016480: 6e70 2e63 6f73 280a 2020 2020 2020 2020  np.cos(.        
+00016490: 2020 2020 2020 2020 7469 6d65 5f63 7572          time_cur
+000164a0: 7265 6e74 5f76 6563 746f 7273 5b30 5d5b  rent_vectors[0][
+000164b0: 305d 202a 2032 202a 206e 702e 7069 202a  0] * 2 * np.pi *
+000164c0: 2068 7973 745f 6672 6571 7565 6e63 7920   hyst_frequency 
+000164d0: 2d20 6e70 2e64 6567 3272 6164 2868 7973  - np.deg2rad(hys
+000164e0: 745f 6c6f 7373 5f70 6861 7365 735f 6465  t_loss_phases_de
+000164f0: 675b 305d 2929 0a20 2020 2020 2020 2020  g[0])).         
+00016500: 2020 2069 5f32 203d 2068 7973 745f 6c6f     i_2 = hyst_lo
+00016510: 7373 5f61 6d70 6c69 7475 6465 735b 315d  ss_amplitudes[1]
+00016520: 202a 206e 702e 636f 7328 0a20 2020 2020   * np.cos(.     
+00016530: 2020 2020 2020 2020 2020 2074 696d 655f             time_
+00016540: 6375 7272 656e 745f 7665 6374 6f72 735b  current_vectors[
+00016550: 305d 5b30 5d20 2a20 3220 2a20 6e70 2e70  0][0] * 2 * np.p
+00016560: 6920 2a20 6879 7374 5f66 7265 7175 656e  i * hyst_frequen
+00016570: 6379 202d 206e 702e 6465 6732 7261 6428  cy - np.deg2rad(
+00016580: 6879 7374 5f6c 6f73 735f 7068 6173 6573  hyst_loss_phases
+00016590: 5f64 6567 5b31 5d29 290a 2020 2020 2020  _deg[1])).      
+000165a0: 2020 2020 2020 706c 742e 706c 6f74 2874        plt.plot(t
+000165b0: 696d 655f 6375 7272 656e 745f 7665 6374  ime_current_vect
+000165c0: 6f72 735b 305d 5b30 5d2c 2069 5f31 2c20  ors[0][0], i_1, 
+000165d0: 6c61 6265 6c3d 2269 5f31 2229 0a20 2020  label="i_1").   
+000165e0: 2020 2020 2020 2020 2070 6c74 2e70 6c6f           plt.plo
+000165f0: 7428 7469 6d65 5f63 7572 7265 6e74 5f76  t(time_current_v
+00016600: 6563 746f 7273 5b30 5d5b 305d 2c20 695f  ectors[0][0], i_
+00016610: 322c 2022 2d22 2c20 6c61 6265 6c3d 2269  2, "-", label="i
+00016620: 5f32 2229 0a20 2020 2020 2020 2020 2020  _2").           
+00016630: 2070 6c74 2e78 6c61 6265 6c28 2274 696d   plt.xlabel("tim
+00016640: 6520 2f20 7322 290a 2020 2020 2020 2020  e / s").        
+00016650: 2020 2020 706c 742e 796c 6162 656c 2822      plt.ylabel("
+00016660: 6375 7272 656e 7420 2f20 4122 290a 2020  current / A").  
+00016670: 2020 2020 2020 2020 2020 706c 742e 6772            plt.gr
+00016680: 6964 2829 0a20 2020 2020 2020 2020 2020  id().           
+00016690: 2070 6c74 2e6c 6567 656e 6428 290a 2020   plt.legend().  
+000166a0: 2020 2020 2020 2020 2020 706c 742e 7368            plt.sh
+000166b0: 6f77 2829 0a0a 2020 2020 2020 2020 2320  ow()..        # 
+000166c0: 6361 6c63 756c 6174 6520 6879 7374 6572  calculate hyster
+000166d0: 6573 6973 206c 6f73 7365 7320 696e 2074  esis losses in t
+000166e0: 6865 2078 666d 720a 2020 2020 2020 2020  he xfmr.        
+000166f0: 7866 6d72 5f73 6361 6c65 203d 2031 2e37  xfmr_scale = 1.7
+00016700: 0a20 2020 2020 2020 2063 656e 7465 725f  .        center_
+00016710: 7461 7070 6564 5f73 7475 6479 5f65 7863  tapped_study_exc
+00016720: 6974 6174 696f 6e5b 2268 7973 7465 7265  itation["hystere
+00016730: 7369 7322 5d5b 2274 7261 6e73 666f 726d  sis"]["transform
+00016740: 6572 225d 5b22 6375 7272 656e 745f 616d  er"]["current_am
+00016750: 706c 6974 7564 6573 225d 203d 206c 6973  plitudes"] = lis
+00016760: 7428 0a20 2020 2020 2020 2020 2020 206e  t(.            n
+00016770: 702e 6172 7261 7928 6879 7374 5f6c 6f73  p.array(hyst_los
+00016780: 735f 616d 706c 6974 7564 6573 2920 2a20  s_amplitudes) * 
+00016790: 7866 6d72 5f73 6361 6c65 290a 2020 2020  xfmr_scale).    
+000167a0: 2020 2020 6365 6e74 6572 5f74 6170 7065      center_tappe
+000167b0: 645f 7374 7564 795f 6578 6369 7461 7469  d_study_excitati
+000167c0: 6f6e 5b22 6879 7374 6572 6573 6973 225d  on["hysteresis"]
+000167d0: 5b22 7472 616e 7366 6f72 6d65 7222 5d5b  ["transformer"][
+000167e0: 2263 7572 7265 6e74 5f70 6861 7365 735f  "current_phases_
+000167f0: 6465 6722 5d20 3d20 6879 7374 5f6c 6f73  deg"] = hyst_los
+00016800: 735f 7068 6173 6573 5f64 6567 0a0a 2020  s_phases_deg..  
+00016810: 2020 2020 2020 2320 6361 6c63 756c 6174        # calculat
+00016820: 6520 6879 7374 6572 6573 6973 206c 6f73  e hysteresis los
+00016830: 7365 7320 696e 2074 6865 2063 686f 6b65  ses in the choke
+00016840: 0a20 2020 2020 2020 2063 686f 6b65 5f68  .        choke_h
+00016850: 7973 745f 6c6f 7373 5f61 6d70 6c69 7475  yst_loss_amplitu
+00016860: 6465 7320 3d20 6879 7374 5f6c 6f73 735f  des = hyst_loss_
+00016870: 616d 706c 6974 7564 6573 0a20 2020 2020  amplitudes.     
+00016880: 2020 2063 686f 6b65 5f68 7973 745f 6c6f     choke_hyst_lo
+00016890: 7373 5f61 6d70 6c69 7475 6465 735b 315d  ss_amplitudes[1]
+000168a0: 203d 2063 686f 6b65 5f68 7973 745f 6c6f   = choke_hyst_lo
+000168b0: 7373 5f61 6d70 6c69 7475 6465 735b 305d  ss_amplitudes[0]
+000168c0: 202a 2037 0a20 2020 2020 2020 2063 686f   * 7.        cho
+000168d0: 6b65 5f68 7973 745f 6c6f 7373 5f61 6d70  ke_hyst_loss_amp
+000168e0: 6c69 7475 6465 735b 325d 203d 2063 686f  litudes[2] = cho
+000168f0: 6b65 5f68 7973 745f 6c6f 7373 5f61 6d70  ke_hyst_loss_amp
+00016900: 6c69 7475 6465 735b 305d 202a 2037 0a20  litudes[0] * 7. 
+00016910: 2020 2020 2020 2063 656e 7465 725f 7461         center_ta
+00016920: 7070 6564 5f73 7475 6479 5f65 7863 6974  pped_study_excit
+00016930: 6174 696f 6e5b 2268 7973 7465 7265 7369  ation["hysteresi
+00016940: 7322 5d5b 2263 686f 6b65 225d 5b22 6375  s"]["choke"]["cu
+00016950: 7272 656e 745f 616d 706c 6974 7564 6573  rrent_amplitudes
+00016960: 225d 203d 2063 686f 6b65 5f68 7973 745f  "] = choke_hyst_
+00016970: 6c6f 7373 5f61 6d70 6c69 7475 6465 730a  loss_amplitudes.
+00016980: 2020 2020 2020 2020 6365 6e74 6572 5f74          center_t
+00016990: 6170 7065 645f 7374 7564 795f 6578 6369  apped_study_exci
+000169a0: 7461 7469 6f6e 5b22 6879 7374 6572 6573  tation["hysteres
+000169b0: 6973 225d 5b22 6368 6f6b 6522 5d5b 2263  is"]["choke"]["c
+000169c0: 7572 7265 6e74 5f70 6861 7365 735f 6465  urrent_phases_de
+000169d0: 6722 5d20 3d20 5b30 2c20 3138 302c 2031  g"] = [0, 180, 1
+000169e0: 3830 5d0a 0a20 2020 2020 2020 2023 204c  80]..        # L
+000169f0: 696e 6561 7220 4c6f 7373 2045 7863 6974  inear Loss Excit
+00016a00: 6174 696f 6e0a 2020 2020 2020 2020 7469  ation.        ti
+00016a10: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00016a20: 7273 203d 2073 706c 6974 5f74 696d 655f  rs = split_time_
+00016a30: 6375 7272 656e 745f 7665 6374 6f72 735f  current_vectors_
+00016a40: 6365 6e74 6572 5f74 6170 7065 6428 7469  center_tapped(ti
+00016a50: 6d65 5f63 7572 7265 6e74 5f76 6563 746f  me_current_vecto
+00016a60: 7273 290a 2020 2020 2020 2020 6672 6571  rs).        freq
+00016a70: 7565 6e63 795f 6c69 7374 2c20 6672 6571  uency_list, freq
+00016a80: 7565 6e63 795f 6375 7272 656e 745f 7068  uency_current_ph
+00016a90: 6173 655f 6465 675f 6c69 7374 203d 206c  ase_deg_list = l
+00016aa0: 696e 6561 725f 6c6f 7373 5f65 7863 6974  inear_loss_excit
+00016ab0: 6174 696f 6e28 7469 6d65 5f63 7572 7265  ation(time_curre
+00016ac0: 6e74 5f76 6563 746f 7273 2c0a 2020 2020  nt_vectors,.    
+00016ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016b10: 2020 2020 2020 2020 2020 2020 2020 6666                ff
+00016b20: 745f 6669 6c74 6572 5f76 616c 7565 5f66  t_filter_value_f
+00016b30: 6163 746f 7229 0a0a 2020 2020 2020 2020  actor)..        
+00016b40: 6966 2070 6c6f 745f 7761 7665 666f 726d  if plot_waveform
+00016b50: 733a 0a20 2020 2020 2020 2020 2020 2069  s:.            i
+00016b60: 5f31 203d 2068 7973 745f 6c6f 7373 5f61  _1 = hyst_loss_a
+00016b70: 6d70 6c69 7475 6465 735b 305d 202a 206e  mplitudes[0] * n
+00016b80: 702e 636f 7328 0a20 2020 2020 2020 2020  p.cos(.         
+00016b90: 2020 2020 2020 2074 696d 655f 6375 7272         time_curr
+00016ba0: 656e 745f 7665 6374 6f72 735b 305d 5b30  ent_vectors[0][0
+00016bb0: 5d20 2a20 3220 2a20 6e70 2e70 6920 2a20  ] * 2 * np.pi * 
+00016bc0: 6879 7374 5f66 7265 7175 656e 6379 202d  hyst_frequency -
+00016bd0: 206e 702e 6465 6732 7261 6428 6879 7374   np.deg2rad(hyst
+00016be0: 5f6c 6f73 735f 7068 6173 6573 5f64 6567  _loss_phases_deg
+00016bf0: 5b30 5d29 290a 2020 2020 2020 2020 2020  [0])).          
+00016c00: 2020 695f 3220 3d20 6879 7374 5f6c 6f73    i_2 = hyst_los
+00016c10: 735f 616d 706c 6974 7564 6573 5b31 5d20  s_amplitudes[1] 
+00016c20: 2a20 6e70 2e63 6f73 280a 2020 2020 2020  * np.cos(.      
+00016c30: 2020 2020 2020 2020 2020 7469 6d65 5f63            time_c
+00016c40: 7572 7265 6e74 5f76 6563 746f 7273 5b30  urrent_vectors[0
+00016c50: 5d5b 305d 202a 2032 202a 206e 702e 7069  ][0] * 2 * np.pi
+00016c60: 202a 2068 7973 745f 6672 6571 7565 6e63   * hyst_frequenc
+00016c70: 7920 2d20 6e70 2e64 6567 3272 6164 2868  y - np.deg2rad(h
+00016c80: 7973 745f 6c6f 7373 5f70 6861 7365 735f  yst_loss_phases_
+00016c90: 6465 675b 315d 2929 0a20 2020 2020 2020  deg[1])).       
+00016ca0: 2020 2020 2069 5f33 203d 2068 7973 745f       i_3 = hyst_
+00016cb0: 6c6f 7373 5f61 6d70 6c69 7475 6465 735b  loss_amplitudes[
+00016cc0: 325d 202a 206e 702e 636f 7328 0a20 2020  2] * np.cos(.   
+00016cd0: 2020 2020 2020 2020 2020 2020 2074 696d               tim
+00016ce0: 655f 6375 7272 656e 745f 7665 6374 6f72  e_current_vector
+00016cf0: 735b 305d 5b30 5d20 2a20 3220 2a20 6e70  s[0][0] * 2 * np
+00016d00: 2e70 6920 2a20 6879 7374 5f66 7265 7175  .pi * hyst_frequ
+00016d10: 656e 6379 202d 206e 702e 6465 6732 7261  ency - np.deg2ra
+00016d20: 6428 6879 7374 5f6c 6f73 735f 7068 6173  d(hyst_loss_phas
+00016d30: 6573 5f64 6567 5b32 5d29 290a 2020 2020  es_deg[2])).    
+00016d40: 2020 2020 2020 2020 706c 742e 706c 6f74          plt.plot
+00016d50: 2874 696d 655f 6375 7272 656e 745f 7665  (time_current_ve
+00016d60: 6374 6f72 735b 305d 5b30 5d2c 2069 5f31  ctors[0][0], i_1
+00016d70: 2c20 6c61 6265 6c3d 2269 5f31 2229 0a20  , label="i_1"). 
+00016d80: 2020 2020 2020 2020 2020 2070 6c74 2e70             plt.p
+00016d90: 6c6f 7428 7469 6d65 5f63 7572 7265 6e74  lot(time_current
+00016da0: 5f76 6563 746f 7273 5b30 5d5b 305d 2c20  _vectors[0][0], 
+00016db0: 695f 322c 2022 2d22 2c20 6c61 6265 6c3d  i_2, "-", label=
+00016dc0: 2269 5f32 2229 0a20 2020 2020 2020 2020  "i_2").         
+00016dd0: 2020 2070 6c74 2e70 6c6f 7428 7469 6d65     plt.plot(time
+00016de0: 5f63 7572 7265 6e74 5f76 6563 746f 7273  _current_vectors
+00016df0: 5b30 5d5b 305d 2c20 695f 332c 2022 2d2d  [0][0], i_3, "--
+00016e00: 222c 206c 6162 656c 3d22 695f 3322 290a  ", label="i_3").
+00016e10: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+00016e20: 786c 6162 656c 2822 7469 6d65 202f 2073  xlabel("time / s
+00016e30: 2229 0a20 2020 2020 2020 2020 2020 2070  ").            p
+00016e40: 6c74 2e79 6c61 6265 6c28 2263 7572 7265  lt.ylabel("curre
+00016e50: 6e74 202f 2041 2229 0a20 2020 2020 2020  nt / A").       
+00016e60: 2020 2020 2070 6c74 2e67 7269 6428 290a       plt.grid().
+00016e70: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
+00016e80: 6c65 6765 6e64 2829 0a20 2020 2020 2020  legend().       
+00016e90: 2020 2020 2070 6c74 2e73 686f 7728 290a       plt.show().
+00016ea0: 0a20 2020 2020 2020 2023 2074 7261 6e73  .        # trans
+00016eb0: 6665 7220 666f 726d 6174 2066 726f 6d20  fer format from 
+00016ec0: 6666 7428 292d 6f75 7470 7574 2074 6f20  fft()-output to 
+00016ed0: 6578 6369 7461 7469 6f6e 5f73 7765 6570  excitation_sweep
+00016ee0: 2829 2d69 6e70 7574 0a20 2020 2020 2020  ()-input.       
+00016ef0: 2063 7572 7265 6e74 5f6c 6973 745f 6c69   current_list_li
+00016f00: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
+00016f10: 7068 695f 6465 675f 6c69 7374 5f6c 6973  phi_deg_list_lis
+00016f20: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
+00016f30: 6f72 2063 6f75 6e74 5f66 7265 7175 656e  or count_frequen
+00016f40: 6379 2c20 5f20 696e 2065 6e75 6d65 7261  cy, _ in enumera
+00016f50: 7465 2866 7265 7175 656e 6379 5f6c 6973  te(frequency_lis
+00016f60: 7429 3a0a 2020 2020 2020 2020 2020 2020  t):.            
+00016f70: 6375 7272 656e 7473 5f73 696e 676c 655f  currents_single_
+00016f80: 6672 6571 7565 6e63 7920 3d20 5b5d 0a20  frequency = []. 
+00016f90: 2020 2020 2020 2020 2020 2070 6869 5f64             phi_d
+00016fa0: 6567 5f73 696e 676c 655f 6672 6571 7565  eg_single_freque
+00016fb0: 6e63 7920 3d20 5b5d 0a20 2020 2020 2020  ncy = [].       
+00016fc0: 2020 2020 2066 6f72 2063 6f75 6e74 5f63       for count_c
+00016fd0: 7572 7265 6e74 2c20 5f20 696e 2065 6e75  urrent, _ in enu
+00016fe0: 6d65 7261 7465 2874 696d 655f 6375 7272  merate(time_curr
+00016ff0: 656e 745f 7665 6374 6f72 7329 3a0a 2020  ent_vectors):.  
+00017000: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+00017010: 7272 656e 7473 5f73 696e 676c 655f 6672  rrents_single_fr
+00017020: 6571 7565 6e63 792e 6170 7065 6e64 2866  equency.append(f
+00017030: 7265 7175 656e 6379 5f63 7572 7265 6e74  requency_current
+00017040: 5f70 6861 7365 5f64 6567 5f6c 6973 745b  _phase_deg_list[
+00017050: 636f 756e 745f 6375 7272 656e 745d 5b31  count_current][1
+00017060: 5d5b 636f 756e 745f 6672 6571 7565 6e63  ][count_frequenc
+00017070: 795d 290a 2020 2020 2020 2020 2020 2020  y]).            
+00017080: 2020 2020 7068 695f 6465 675f 7369 6e67      phi_deg_sing
+00017090: 6c65 5f66 7265 7175 656e 6379 2e61 7070  le_frequency.app
+000170a0: 656e 6428 6672 6571 7565 6e63 795f 6375  end(frequency_cu
+000170b0: 7272 656e 745f 7068 6173 655f 6465 675f  rrent_phase_deg_
+000170c0: 6c69 7374 5b63 6f75 6e74 5f63 7572 7265  list[count_curre
+000170d0: 6e74 5d5b 325d 5b63 6f75 6e74 5f66 7265  nt][2][count_fre
+000170e0: 7175 656e 6379 5d29 0a20 2020 2020 2020  quency]).       
+000170f0: 2020 2020 2063 7572 7265 6e74 5f6c 6973       current_lis
+00017100: 745f 6c69 7374 2e61 7070 656e 6428 6375  t_list.append(cu
+00017110: 7272 656e 7473 5f73 696e 676c 655f 6672  rrents_single_fr
+00017120: 6571 7565 6e63 7929 0a20 2020 2020 2020  equency).       
+00017130: 2020 2020 2070 6869 5f64 6567 5f6c 6973       phi_deg_lis
+00017140: 745f 6c69 7374 2e61 7070 656e 6428 7068  t_list.append(ph
+00017150: 695f 6465 675f 7369 6e67 6c65 5f66 7265  i_deg_single_fre
+00017160: 7175 656e 6379 290a 2020 2020 2020 2020  quency).        
+00017170: 6365 6e74 6572 5f74 6170 7065 645f 7374  center_tapped_st
+00017180: 7564 795f 6578 6369 7461 7469 6f6e 5b22  udy_excitation["
+00017190: 6c69 6e65 6172 5f6c 6f73 7365 7322 5d5b  linear_losses"][
+000171a0: 2266 7265 7175 656e 6369 6573 225d 203d  "frequencies"] =
+000171b0: 206c 6973 7428 6672 6571 7565 6e63 795f   list(frequency_
+000171c0: 6c69 7374 290a 2020 2020 2020 2020 6365  list).        ce
+000171d0: 6e74 6572 5f74 6170 7065 645f 7374 7564  nter_tapped_stud
+000171e0: 795f 6578 6369 7461 7469 6f6e 5b22 6c69  y_excitation["li
+000171f0: 6e65 6172 5f6c 6f73 7365 7322 5d5b 2263  near_losses"]["c
+00017200: 7572 7265 6e74 5f61 6d70 6c69 7475 6465  urrent_amplitude
+00017210: 7322 5d20 3d20 6375 7272 656e 745f 6c69  s"] = current_li
+00017220: 7374 5f6c 6973 740a 2020 2020 2020 2020  st_list.        
+00017230: 6365 6e74 6572 5f74 6170 7065 645f 7374  center_tapped_st
+00017240: 7564 795f 6578 6369 7461 7469 6f6e 5b22  udy_excitation["
+00017250: 6c69 6e65 6172 5f6c 6f73 7365 7322 5d5b  linear_losses"][
+00017260: 2263 7572 7265 6e74 5f70 6861 7365 735f  "current_phases_
+00017270: 6465 6722 5d20 3d20 7068 695f 6465 675f  deg"] = phi_deg_
+00017280: 6c69 7374 5f6c 6973 740a 0a20 2020 2020  list_list..     
+00017290: 2020 2072 6574 7572 6e20 6365 6e74 6572     return center
+000172a0: 5f74 6170 7065 645f 7374 7564 795f 6578  _tapped_study_ex
+000172b0: 6369 7461 7469 6f6e 0a0a 2020 2020 6465  citation..    de
+000172c0: 6620 7374 6163 6b65 645f 636f 7265 5f63  f stacked_core_c
+000172d0: 656e 7465 725f 7461 7070 6564 5f73 7475  enter_tapped_stu
+000172e0: 6479 2873 656c 662c 2063 656e 7465 725f  dy(self, center_
+000172f0: 7461 7070 6564 5f73 7475 6479 5f65 7863  tapped_study_exc
+00017300: 6974 6174 696f 6e2c 206e 756d 6265 725f  itation, number_
+00017310: 7072 696d 6172 795f 636f 696c 5f74 7572  primary_coil_tur
+00017320: 6e73 3a20 696e 7420 3d20 4e6f 6e65 2c0a  ns: int = None,.
 00017330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017340: 2020 2020 2020 206f 705f 6672 6571 7565         op_freque
-00017350: 6e63 793d 6365 6e74 6572 5f74 6170 7065  ncy=center_tappe
-00017360: 645f 7374 7564 795f 6578 6369 7461 7469  d_study_excitati
-00017370: 6f6e 5b22 6879 7374 6572 6573 6973 225d  on["hysteresis"]
-00017380: 5b22 6672 6571 7565 6e63 7922 5d2c 0a20  ["frequency"],. 
-00017390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000173a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000173b0: 2020 2020 2020 2020 2020 2020 2020 7369                si
-000173c0: 6c65 6e74 3d73 656c 662e 7369 6c65 6e74  lent=self.silent
-000173d0: 290a 0a20 2020 2020 2020 2023 2049 6e69  )..        # Ini
-000173e0: 7469 616c 697a 6520 7468 6520 6879 7374  tialize the hyst
-000173f0: 6572 6573 6973 206c 6f73 7365 7320 7769  eresis losses wi
-00017400: 7468 207a 6572 6f0a 2020 2020 2020 2020  th zero.        
-00017410: 2320 4e6f 7465 3a20 546f 2063 616c 6375  # Note: To calcu
-00017420: 6c61 7465 2074 6865 2068 7973 7465 7265  late the hystere
-00017430: 7369 7320 6c6f 7373 6573 2c20 7477 6f20  sis losses, two 
-00017440: 7374 6570 7320 6172 6520 7065 7266 6f72  steps are perfor
-00017450: 6d65 643a 0a20 2020 2020 2020 2023 2020  med:.        #  
-00017460: 2020 2020 202a 2074 7261 6e73 666f 726d       * transform
-00017470: 6572 206c 6f73 7320 6361 6c63 756c 6174  er loss calculat
-00017480: 696f 6e20 2874 6865 7265 666f 7265 2c20  ion (therefore, 
-00017490: 7468 6520 6375 7272 656e 7420 696e 2074  the current in t
-000174a0: 6865 2069 6e64 7563 746f 7220 6973 2073  he inductor is s
-000174b0: 6574 2074 6f20 7a65 726f 292e 0a20 2020  et to zero)..   
-000174c0: 2020 2020 2023 2020 2020 2020 202a 2069       #       * i
-000174d0: 6e64 7563 746f 7220 6c6f 7373 2063 616c  nductor loss cal
-000174e0: 6375 6c61 7469 6f6e 0a0a 2020 2020 2020  culation..      
-000174f0: 2020 705f 6879 7374 5f63 6f72 655f 7061    p_hyst_core_pa
-00017500: 7274 7320 3d20 5b30 2c20 302c 2030 2c20  rts = [0, 0, 0, 
-00017510: 302c 2030 5d0a 0a20 2020 2020 2020 2023  0, 0]..        #
-00017520: 2046 726f 6d20 6865 7265 2c20 7468 6520   From here, the 
-00017530: 6879 7374 6572 6573 6973 206f 6620 7472  hysteresis of tr
-00017540: 616e 7366 6f72 6d65 7220 6973 2063 616c  ansformer is cal
-00017550: 6375 6c61 7465 640a 2020 2020 2020 2020  culated.        
-00017560: 7073 5f70 7269 6d61 7279 5f63 6f69 6c5f  ps_primary_coil_
-00017570: 7475 726e 7320 3d20 5b31 3530 3030 3020  turns = [150000 
-00017580: 2b20 6920 666f 7220 6920 696e 2072 616e  + i for i in ran
-00017590: 6765 286e 756d 6265 725f 7072 696d 6172  ge(number_primar
-000175a0: 795f 636f 696c 5f74 7572 6e73 295d 0a20  y_coil_turns)]. 
-000175b0: 2020 2020 2020 2073 656c 662e 6f76 6572         self.over
-000175c0: 7772 6974 655f 636f 6e64 7563 746f 7273  write_conductors
-000175d0: 5f77 6974 685f 6169 7228 7073 5f70 7269  _with_air(ps_pri
-000175e0: 6d61 7279 5f63 6f69 6c5f 7475 726e 7329  mary_coil_turns)
-000175f0: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
-00017600: 6369 7461 7469 6f6e 2866 7265 7175 656e  citation(frequen
-00017610: 6379 3d63 656e 7465 725f 7461 7070 6564  cy=center_tapped
-00017620: 5f73 7475 6479 5f65 7863 6974 6174 696f  _study_excitatio
-00017630: 6e5b 2268 7973 7465 7265 7369 7322 5d5b  n["hysteresis"][
-00017640: 2266 7265 7175 656e 6379 225d 2c0a 2020  "frequency"],.  
-00017650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017660: 2020 2020 2020 616d 706c 6974 7564 655f        amplitude_
-00017670: 6c69 7374 3d63 656e 7465 725f 7461 7070  list=center_tapp
-00017680: 6564 5f73 7475 6479 5f65 7863 6974 6174  ed_study_excitat
-00017690: 696f 6e5b 2268 7973 7465 7265 7369 7322  ion["hysteresis"
-000176a0: 5d5b 2274 7261 6e73 666f 726d 6572 225d  ]["transformer"]
-000176b0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-000176c0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-000176d0: 7572 7265 6e74 5f61 6d70 6c69 7475 6465  urrent_amplitude
-000176e0: 7322 5d2c 0a20 2020 2020 2020 2020 2020  s"],.           
-000176f0: 2020 2020 2020 2020 2020 2020 2070 6861               pha
-00017700: 7365 5f64 6567 5f6c 6973 743d 6365 6e74  se_deg_list=cent
-00017710: 6572 5f74 6170 7065 645f 7374 7564 795f  er_tapped_study_
-00017720: 6578 6369 7461 7469 6f6e 5b22 6879 7374  excitation["hyst
-00017730: 6572 6573 6973 225d 5b22 7472 616e 7366  eresis"]["transf
-00017740: 6f72 6d65 7222 5d5b 0a20 2020 2020 2020  ormer"][.       
-00017750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017760: 2020 2020 2022 6375 7272 656e 745f 7068       "current_ph
-00017770: 6173 6573 5f64 6567 225d 2c0a 2020 2020  ases_deg"],.    
-00017780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017790: 2020 2020 706c 6f74 5f69 6e74 6572 706f      plot_interpo
-000177a0: 6c61 7469 6f6e 3d46 616c 7365 290a 2020  lation=False).  
-000177b0: 2020 2020 2020 7365 6c66 2e77 7269 7465        self.write
-000177c0: 5f73 696d 756c 6174 696f 6e5f 7061 7261  _simulation_para
-000177d0: 6d65 7465 7273 5f74 6f5f 7072 6f5f 6669  meters_to_pro_fi
-000177e0: 6c65 7328 290a 2020 2020 2020 2020 7365  les().        se
-000177f0: 6c66 2e67 656e 6572 6174 655f 6c6f 6164  lf.generate_load
-00017800: 5f6c 6974 7a5f 6170 7072 6f78 696d 6174  _litz_approximat
-00017810: 696f 6e5f 7061 7261 6d65 7465 7273 2829  ion_parameters()
-00017820: 0a20 2020 2020 2020 2073 656c 662e 7369  .        self.si
-00017830: 6d75 6c61 7465 2829 0a20 2020 2020 2020  mulate().       
-00017840: 2073 656c 662e 6361 6c63 756c 6174 655f   self.calculate_
-00017850: 616e 645f 7772 6974 655f 6672 6571 5f64  and_write_freq_d
-00017860: 6f6d 6169 6e5f 6c6f 6728 2920 2023 2054  omain_log()  # T
-00017870: 4f44 4f3a 2072 6575 7365 2063 656e 7465  ODO: reuse cente
-00017880: 7220 7461 7070 6564 0a0a 2020 2020 2020  r tapped..      
-00017890: 2020 2320 7265 6164 2074 6865 206c 6f67    # read the log
-000178a0: 206f 6620 7468 6520 7472 616e 7366 6f72   of the transfor
-000178b0: 6d65 7220 6c6f 7373 6573 0a20 2020 2020  mer losses.     
-000178c0: 2020 206c 6f67 203d 2073 656c 662e 7265     log = self.re
-000178d0: 6164 5f6c 6f67 2829 0a20 2020 2020 2020  ad_log().       
-000178e0: 2066 6f72 2063 6f72 655f 7061 7274 2069   for core_part i
-000178f0: 6e20 5b31 2c20 322c 2033 2c20 345d 3a0a  n [1, 2, 3, 4]:.
-00017900: 2020 2020 2020 2020 2020 2020 636f 7265              core
-00017910: 5f70 6172 745f 6879 7374 5f6c 6f73 7320  _part_hyst_loss 
-00017920: 3d20 6c6f 675b 2773 696e 676c 655f 7377  = log['single_sw
-00017930: 6565 7073 275d 5b30 5d5b 2763 6f72 655f  eeps'][0]['core_
-00017940: 7061 7274 7327 5d5b 6627 636f 7265 5f70  parts'][f'core_p
-00017950: 6172 745f 7b63 6f72 655f 7061 7274 7d27  art_{core_part}'
-00017960: 5d5b 2768 7973 745f 6c6f 7373 6573 275d  ]['hyst_losses']
-00017970: 0a20 2020 2020 2020 2020 2020 2070 5f68  .            p_h
-00017980: 7973 745f 636f 7265 5f70 6172 7473 5b63  yst_core_parts[c
-00017990: 6f72 655f 7061 7274 202d 2031 5d20 2b3d  ore_part - 1] +=
-000179a0: 2063 6f72 655f 7061 7274 5f68 7973 745f   core_part_hyst_
-000179b0: 6c6f 7373 0a20 2020 2020 2020 2023 204e  loss.        # N
-000179c0: 6f77 2c20 705f 6879 7374 5f63 6f72 655f  ow, p_hyst_core_
-000179d0: 7061 7274 7320 696e 636c 7564 6573 2074  parts includes t
-000179e0: 6865 2066 756c 6c20 7472 616e 7366 6f72  he full transfor
-000179f0: 6d65 7220 6c6f 7373 6573 2e0a 0a20 2020  mer losses...   
-00017a00: 2020 2020 2069 6620 6e6f 6e5f 7369 6e65       if non_sine
-00017a10: 5f68 7973 7465 7265 7369 735f 636f 7272  _hysteresis_corr
-00017a20: 6563 7469 6f6e 3a0a 2020 2020 2020 2020  ection:.        
-00017a30: 2020 2020 7061 7373 0a20 2020 2020 2020      pass.       
-00017a40: 2020 2020 2023 2043 6f72 7265 6374 2074       # Correct t
-00017a50: 6865 2068 7973 7465 7265 7369 7320 6c6f  he hysteresis lo
-00017a60: 7373 2066 6f72 2074 6865 2074 7269 616e  ss for the trian
-00017a70: 6775 6c61 7220 7368 6170 6564 2066 6c75  gular shaped flu
-00017a80: 7820 6465 6e73 6974 7920 7761 7665 666f  x density wavefo
-00017a90: 726d 0a20 2020 2020 2020 2020 2020 2023  rm.            #
-00017aa0: 2061 6c70 6861 5f66 726f 6d5f 6462 2c20   alpha_from_db, 
-00017ab0: 6265 7461 5f66 726f 6d5f 6462 2c20 6b5f  beta_from_db, k_
-00017ac0: 6672 6f6d 5f64 6220 3d20 6d64 622e 4d61  from_db = mdb.Ma
-00017ad0: 7465 7269 616c 4461 7461 6261 7365 2866  terialDatabase(f
-00017ae0: 662e 7369 6c65 6e74 292e 6765 745f 7374  f.silent).get_st
-00017af0: 6569 6e6d 6574 7a28 0a20 2020 2020 2020  einmetz(.       
-00017b00: 2020 2020 2023 2074 656d 7065 7261 7475       # temperatu
-00017b10: 7265 3d73 656c 662e 636f 7265 2e74 656d  re=self.core.tem
-00017b20: 7065 7261 7475 7265 2c20 6d61 7465 7269  perature, materi
-00017b30: 616c 5f6e 616d 653d 7365 6c66 2e63 6f72  al_name=self.cor
-00017b40: 652e 6d61 7465 7269 616c 2c20 6461 7461  e.material, data
-00017b50: 736f 7572 6365 3d22 6d65 6173 7572 656d  source="measurem
-00017b60: 656e 7473 222c 0a20 2020 2020 2020 2020  ents",.         
-00017b70: 2020 2023 2064 6174 6174 7970 653d 6d64     # datatype=md
-00017b80: 622e 4d65 6173 7572 656d 656e 7444 6174  b.MeasurementDat
-00017b90: 6154 7970 652e 5374 6569 6e6d 6574 7a2c  aType.Steinmetz,
-00017ba0: 206d 6561 7375 7265 6d65 6e74 5f73 6574   measurement_set
-00017bb0: 7570 3d22 4c45 415f 4c4b 222c 696e 7465  up="LEA_LK",inte
-00017bc0: 7270 6f6c 6174 696f 6e5f 7479 7065 3d22  rpolation_type="
-00017bd0: 6c69 6e65 6172 2229 0a20 2020 2020 2020  linear").       
-00017be0: 2020 2020 2023 2070 5f68 7973 745f 636f       # p_hyst_co
-00017bf0: 7265 5f70 6172 7473 203d 2066 6163 746f  re_parts = facto
-00017c00: 725f 7472 6961 6e67 756c 6172 5f68 7973  r_triangular_hys
-00017c10: 7465 7265 7369 735f 6c6f 7373 5f69 4753  teresis_loss_iGS
-00017c20: 4528 443d 302e 352c 2061 6c70 6861 3d61  E(D=0.5, alpha=a
-00017c30: 6c70 6861 5f66 726f 6d5f 6462 2920 2a20  lpha_from_db) * 
-00017c40: 705f 6879 7374 5f63 6f72 655f 7061 7274  p_hyst_core_part
-00017c50: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
-00017c60: 7072 696e 7428 6622 7b70 5f68 7973 745f  print(f"{p_hyst_
-00017c70: 636f 7265 5f70 6172 7473 203d 207d 2229  core_parts = }")
-00017c80: 0a0a 2020 2020 2020 2020 2320 4672 6f6d  ..        # From
-00017c90: 2068 6572 6520 6f6e 2c20 696e 6475 6374   here on, induct
-00017ca0: 6f72 206c 6f73 7365 7320 6172 6520 6361  or losses are ca
-00017cb0: 6c63 756c 6174 6564 0a20 2020 2020 2020  lculated.       
-00017cc0: 2023 2054 6865 7265 666f 7265 2c20 7468   # Therefore, th
-00017cd0: 6520 6669 7273 7420 646f 6e65 206f 7665  e first done ove
-00017ce0: 7277 7269 7465 206f 6620 696e 6475 6374  rwrite of induct
-00017cf0: 6f72 2063 6f6e 6475 6374 6f72 7320 6973  or conductors is
-00017d00: 2072 6573 746f 7265 640a 2020 2020 2020   restored.      
-00017d10: 2020 7365 6c66 2e6f 7665 7277 7269 7465    self.overwrite
-00017d20: 5f61 6972 5f63 6f6e 6475 6374 6f72 735f  _air_conductors_
-00017d30: 7769 7468 5f63 6f6e 6475 6374 6f72 7328  with_conductors(
-00017d40: 6c69 7374 286e 702e 6172 7261 7928 7073  list(np.array(ps
-00017d50: 5f70 7269 6d61 7279 5f63 6f69 6c5f 7475  _primary_coil_tu
-00017d60: 726e 7329 202b 2031 3030 3030 3030 2929  rns) + 1000000))
-00017d70: 0a20 2020 2020 2020 2073 656c 662e 6578  .        self.ex
-00017d80: 6369 7461 7469 6f6e 2866 7265 7175 656e  citation(frequen
-00017d90: 6379 3d63 656e 7465 725f 7461 7070 6564  cy=center_tapped
-00017da0: 5f73 7475 6479 5f65 7863 6974 6174 696f  _study_excitatio
-00017db0: 6e5b 2268 7973 7465 7265 7369 7322 5d5b  n["hysteresis"][
-00017dc0: 2266 7265 7175 656e 6379 225d 2c0a 2020  "frequency"],.  
-00017dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017de0: 2020 2020 2020 616d 706c 6974 7564 655f        amplitude_
-00017df0: 6c69 7374 3d63 656e 7465 725f 7461 7070  list=center_tapp
-00017e00: 6564 5f73 7475 6479 5f65 7863 6974 6174  ed_study_excitat
-00017e10: 696f 6e5b 2268 7973 7465 7265 7369 7322  ion["hysteresis"
-00017e20: 5d5b 2263 686f 6b65 225d 5b22 6375 7272  ]["choke"]["curr
-00017e30: 656e 745f 616d 706c 6974 7564 6573 225d  ent_amplitudes"]
-00017e40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00017e50: 2020 2020 2020 2020 2020 7068 6173 655f            phase_
-00017e60: 6465 675f 6c69 7374 3d63 656e 7465 725f  deg_list=center_
-00017e70: 7461 7070 6564 5f73 7475 6479 5f65 7863  tapped_study_exc
-00017e80: 6974 6174 696f 6e5b 2268 7973 7465 7265  itation["hystere
-00017e90: 7369 7322 5d5b 2263 686f 6b65 225d 5b22  sis"]["choke"]["
-00017ea0: 6375 7272 656e 745f 7068 6173 6573 5f64  current_phases_d
-00017eb0: 6567 225d 2c0a 2020 2020 2020 2020 2020  eg"],.          
-00017ec0: 2020 2020 2020 2020 2020 2020 2020 706c                pl
-00017ed0: 6f74 5f69 6e74 6572 706f 6c61 7469 6f6e  ot_interpolation
-00017ee0: 3d46 616c 7365 290a 2020 2020 2020 2020  =False).        
-00017ef0: 7365 6c66 2e77 7269 7465 5f73 696d 756c  self.write_simul
-00017f00: 6174 696f 6e5f 7061 7261 6d65 7465 7273  ation_parameters
-00017f10: 5f74 6f5f 7072 6f5f 6669 6c65 7328 290a  _to_pro_files().
-00017f20: 2020 2020 2020 2020 7365 6c66 2e67 656e          self.gen
-00017f30: 6572 6174 655f 6c6f 6164 5f6c 6974 7a5f  erate_load_litz_
-00017f40: 6170 7072 6f78 696d 6174 696f 6e5f 7061  approximation_pa
-00017f50: 7261 6d65 7465 7273 2829 0a20 2020 2020  rameters().     
-00017f60: 2020 2073 656c 662e 7369 6d75 6c61 7465     self.simulate
-00017f70: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-00017f80: 6361 6c63 756c 6174 655f 616e 645f 7772  calculate_and_wr
-00017f90: 6974 655f 6672 6571 5f64 6f6d 6169 6e5f  ite_freq_domain_
-00017fa0: 6c6f 6728 2920 2023 2054 4f44 4f3a 2072  log()  # TODO: r
-00017fb0: 6575 7365 2063 656e 7465 7220 7461 7070  euse center tapp
-00017fc0: 6564 0a0a 2020 2020 2020 2020 2320 7265  ed..        # re
-00017fd0: 6164 2074 6865 206c 6f67 206f 6620 7468  ad the log of th
-00017fe0: 6520 696e 6475 6374 6f72 206c 6f73 7365  e inductor losse
-00017ff0: 730a 2020 2020 2020 2020 6c6f 6720 3d20  s.        log = 
-00018000: 7365 6c66 2e72 6561 645f 6c6f 6728 290a  self.read_log().
-00018010: 2020 2020 2020 2020 666f 7220 636f 7265          for core
-00018020: 5f70 6172 7420 696e 205b 332c 2034 2c20  _part in [3, 4, 
-00018030: 355d 3a0a 2020 2020 2020 2020 2020 2020  5]:.            
-00018040: 636f 7265 5f70 6172 745f 6879 7374 5f6c  core_part_hyst_l
-00018050: 6f73 7320 3d20 6c6f 675b 2773 696e 676c  oss = log['singl
-00018060: 655f 7377 6565 7073 275d 5b30 5d5b 2763  e_sweeps'][0]['c
-00018070: 6f72 655f 7061 7274 7327 5d5b 6627 636f  ore_parts'][f'co
-00018080: 7265 5f70 6172 745f 7b63 6f72 655f 7061  re_part_{core_pa
-00018090: 7274 7d27 5d5b 2768 7973 745f 6c6f 7373  rt}']['hyst_loss
-000180a0: 6573 275d 0a20 2020 2020 2020 2020 2020  es'].           
-000180b0: 2070 5f68 7973 745f 636f 7265 5f70 6172   p_hyst_core_par
-000180c0: 7473 5b63 6f72 655f 7061 7274 202d 2031  ts[core_part - 1
-000180d0: 5d20 2b3d 2063 6f72 655f 7061 7274 5f68  ] += core_part_h
-000180e0: 7973 745f 6c6f 7373 0a20 2020 2020 2020  yst_loss.       
-000180f0: 2023 2070 5f68 7973 745f 636f 7265 5f70   # p_hyst_core_p
-00018100: 6172 7473 2069 6e63 6c75 6465 7320 6e6f  arts includes no
-00018110: 7720 7468 6520 7472 616e 7366 6f72 6d65  w the transforme
-00018120: 7220 6c6f 7373 6573 2061 6e64 2074 6865  r losses and the
-00018130: 2069 6e64 7563 746f 7220 6c6f 7373 6573   inductor losses
-00018140: 0a0a 2020 2020 2020 2020 2320 6361 6c63  ..        # calc
-00018150: 756c 6174 6520 7468 6520 7769 6e64 696e  ulate the windin
-00018160: 6720 6c6f 7373 6573 2023 2054 4f44 4f3a  g losses # TODO:
-00018170: 2061 766f 6964 206d 6573 6869 6e67 2074   avoid meshing t
-00018180: 7769 6365 0a20 2020 2020 2020 2023 204e  wice.        # N
-00018190: 6f74 653a 2041 7320 7468 6520 7265 7375  ote: As the resu
-000181a0: 6c74 206c 6f67 2069 7320 6e6f 7720 7265  lt log is now re
-000181b0: 2d77 7269 7474 656e 2c20 7468 6520 6265  -written, the be
-000181c0: 666f 7265 2063 616c 6375 6c61 7465 6420  fore calculated 
-000181d0: 705f 6879 7374 5f63 6f72 655f 7061 7274  p_hyst_core_part
-000181e0: 7320 6973 2061 6464 6564 2069 6e74 6f20  s is added into 
-000181f0: 7468 6973 0a20 2020 2020 2020 2023 2072  this.        # r
-00018200: 6573 756c 742d 6c6f 6720 616c 736f 2074  esult-log also t
-00018210: 6865 2069 6e64 7563 7461 6e63 6520 6469  he inductance di
-00018220: 6374 2069 7320 6578 7465 726e 616c 6c79  ct is externally
-00018230: 2069 6e73 6572 7465 6420 696e 746f 2074   inserted into t
-00018240: 6865 2066 696e 616c 2072 6573 756c 7420  he final result 
-00018250: 6c6f 672e 0a20 2020 2020 2020 2023 2054  log..        # T
-00018260: 6865 2066 696e 616c 2072 6573 756c 7420  he final result 
-00018270: 6c6f 6720 6973 2077 7269 7474 656e 2061  log is written a
-00018280: 6674 6572 2074 6869 7320 7369 6d75 6c61  fter this simula
-00018290: 7469 6f6e 0a20 2020 2020 2020 2073 656c  tion.        sel
-000182a0: 662e 6578 6369 7461 7469 6f6e 5f73 7765  f.excitation_swe
-000182b0: 6570 2863 656e 7465 725f 7461 7070 6564  ep(center_tapped
-000182c0: 5f73 7475 6479 5f65 7863 6974 6174 696f  _study_excitatio
-000182d0: 6e5b 226c 696e 6561 725f 6c6f 7373 6573  n["linear_losses
-000182e0: 225d 5b22 6672 6571 7565 6e63 6965 7322  "]["frequencies"
-000182f0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00018300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018310: 2063 656e 7465 725f 7461 7070 6564 5f73   center_tapped_s
-00018320: 7475 6479 5f65 7863 6974 6174 696f 6e5b  tudy_excitation[
-00018330: 226c 696e 6561 725f 6c6f 7373 6573 225d  "linear_losses"]
-00018340: 5b22 6375 7272 656e 745f 616d 706c 6974  ["current_amplit
-00018350: 7564 6573 225d 2c0a 2020 2020 2020 2020  udes"],.        
-00018360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018370: 2020 2020 2020 6365 6e74 6572 5f74 6170        center_tap
-00018380: 7065 645f 7374 7564 795f 6578 6369 7461  ped_study_excita
-00018390: 7469 6f6e 5b22 6c69 6e65 6172 5f6c 6f73  tion["linear_los
-000183a0: 7365 7322 5d5b 2263 7572 7265 6e74 5f70  ses"]["current_p
-000183b0: 6861 7365 735f 6465 6722 5d2c 0a20 2020  hases_deg"],.   
-000183c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000183d0: 2020 2020 2020 2020 2020 2069 6e64 7563             induc
-000183e0: 7461 6e63 655f 6469 6374 3d69 6e64 7563  tance_dict=induc
-000183f0: 7461 6e63 655f 6469 6374 2c20 636f 7265  tance_dict, core
-00018400: 5f68 7973 745f 6c6f 7373 3d70 5f68 7973  _hyst_loss=p_hys
-00018410: 745f 636f 7265 5f70 6172 7473 290a 0a20  t_core_parts).. 
-00018420: 2020 2023 2020 2d20 202d 2020 2d20 202d     #  -  -  -  -
-00018430: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00018440: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00018450: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00018460: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-00018470: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-00018480: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-00018490: 2020 2d20 202d 0a20 2020 2023 2050 6f73    -  -.    # Pos
-000184a0: 742d 5072 6f63 6573 7369 6e67 0a20 2020  t-Processing.   
-000184b0: 2064 6566 2067 6574 5f69 6e64 7563 7461   def get_inducta
-000184c0: 6e63 6573 2873 656c 662c 2049 303a 2066  nces(self, I0: f
-000184d0: 6c6f 6174 2c20 6f70 5f66 7265 7175 656e  loat, op_frequen
-000184e0: 6379 3a20 666c 6f61 7420 3d20 302c 2073  cy: float = 0, s
-000184f0: 6b69 6e5f 6d65 7368 5f66 6163 746f 723a  kin_mesh_factor:
-00018500: 2066 6c6f 6174 203d 2031 2c0a 2020 2020   float = 1,.    
-00018510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018520: 2020 2020 7669 7375 616c 697a 655f 6c61      visualize_la
-00018530: 7374 5f66 656d 5f73 696d 756c 6174 696f  st_fem_simulatio
-00018540: 6e3a 2062 6f6f 6c20 3d20 4661 6c73 652c  n: bool = False,
-00018550: 2073 696c 656e 743a 2062 6f6f 6c20 3d20   silent: bool = 
-00018560: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
-00018570: 2222 220a 2020 2020 2020 2020 4765 7420  """.        Get 
-00018580: 696e 6475 6374 616e 6365 2076 616c 7565  inductance value
-00018590: 7320 666f 7220 322d 2061 6e64 2033 2d77  s for 2- and 3-w
-000185a0: 696e 6469 6e67 2074 7261 6e73 666f 726d  inding transform
-000185b0: 6572 2e0a 0a20 2020 2020 2020 2050 6572  er...        Per
-000185c0: 666f 726d 2027 6f70 656e 2720 7369 6d75  form 'open' simu
-000185d0: 6c61 7469 6f6e 7320 7769 7468 2069 6e70  lations with inp
-000185e0: 7574 2063 7572 7265 6e74 2066 6f72 2065  ut current for e
-000185f0: 6163 6820 7769 6e64 696e 6720 616e 6420  ach winding and 
-00018600: 6361 6c63 756c 6174 6573 2074 6865 2069  calculates the i
-00018610: 6e64 7563 7461 6e63 6520 6d61 7472 6978  nductance matrix
-00018620: 2061 6e64 0a20 2020 2020 2020 2074 6865   and.        the
-00018630: 2070 7269 6d61 7279 2063 6f6e 6365 6e74   primary concent
-00018640: 7261 7465 6420 6571 7569 7661 6c65 6e74  rated equivalent
-00018650: 2063 6972 6375 6974 2e0a 0a20 2020 2020   circuit...     
-00018660: 2020 202a 2032 2077 696e 6469 6e67 2074     * 2 winding t
-00018670: 7261 6e73 666f 726d 6572 3a0a 2020 2020  ransformer:.    
-00018680: 2020 2020 2020 2020 2d20 696e 6475 6374          - induct
-00018690: 616e 6365 206d 6174 7269 783a 204c 5f31  ance matrix: L_1
-000186a0: 5f31 2c20 4c5f 325f 3220 616e 6420 4d0a  _1, L_2_2 and M.
-000186b0: 2020 2020 2020 2020 2020 2020 2d20 7072              - pr
-000186c0: 696d 6172 7920 636f 6e63 656e 7472 6174  imary concentrat
-000186d0: 6564 2065 7175 6976 616c 656e 7420 6369  ed equivalent ci
-000186e0: 7263 7569 7473 3a20 6e5f 636f 6e63 2c20  rcuits: n_conc, 
-000186f0: 4c5f 735f 636f 6e63 2061 6e64 204c 5f68  L_s_conc and L_h
-00018700: 5f63 6f6e 630a 0a20 2020 2020 2020 202a  _conc..        *
-00018710: 2033 2077 696e 6469 6e67 2074 7261 6e73   3 winding trans
-00018720: 666f 726d 6572 0a20 2020 2020 2020 2020  former.         
-00018730: 2020 202d 2069 6e64 7563 7461 6e63 6520     - inductance 
-00018740: 6d61 7472 6978 3a20 4c5f 315f 312c 204c  matrix: L_1_1, L
-00018750: 5f32 5f32 2c20 4c5f 335f 332c 204d 5f31  _2_2, L_3_3, M_1
-00018760: 322c 204d 5f31 3320 616e 6420 4d5f 3233  2, M_13 and M_23
-00018770: 0a20 2020 2020 2020 2020 2020 202d 2053  .            - S
-00018780: 7472 6179 2049 6e64 7563 7461 6e63 6520  tray Inductance 
-00018790: 7769 7468 2027 5475 726e 7320 5261 7469  with 'Turns Rati
-000187a0: 6f27 206e 2061 7320 2754 7261 6e73 666f  o' n as 'Transfo
-000187b0: 726d 6174 696f 6e20 5261 7469 6f27 206e  rmation Ratio' n
-000187c0: 3220 616e 6420 6e33 3a20 4c5f 7331 2c20  2 and n3: L_s1, 
-000187d0: 4c5f 7332 2c20 4c5f 7333 2061 6e64 204c  L_s2, L_s3 and L
-000187e0: 5f68 0a0a 2020 2020 2020 2020 3a70 6172  _h..        :par
-000187f0: 616d 2076 6973 7561 6c69 7a65 5f6c 6173  am visualize_las
-00018800: 745f 6665 6d5f 7369 6d75 6c61 7469 6f6e  t_fem_simulation
-00018810: 3a20 5368 6f77 206c 6173 7420 4645 4d20  : Show last FEM 
-00018820: 7369 6d75 6c61 7469 6f6e 2072 6573 756c  simulation resul
-00018830: 742e 2044 6566 6175 6c74 7320 746f 2046  t. Defaults to F
-00018840: 616c 7365 2e0a 2020 2020 2020 2020 3a74  alse..        :t
-00018850: 7970 6520 7669 7375 616c 697a 655f 6c61  ype visualize_la
-00018860: 7374 5f66 656d 5f73 696d 756c 6174 696f  st_fem_simulatio
-00018870: 6e3a 2062 6f6f 6c0a 2020 2020 2020 2020  n: bool.        
-00018880: 3a70 6172 616d 2073 6b69 6e5f 6d65 7368  :param skin_mesh
-00018890: 5f66 6163 746f 723a 0a20 2020 2020 2020  _factor:.       
-000188a0: 203a 7479 7065 2073 6b69 6e5f 6d65 7368   :type skin_mesh
-000188b0: 5f66 6163 746f 723a 2062 6f6f 6c0a 2020  _factor: bool.  
-000188c0: 2020 2020 2020 3a70 6172 616d 2049 303a        :param I0:
-000188d0: 2065 7863 6974 696e 6720 7065 616b 2063   exciting peak c
-000188e0: 7572 7265 6e74 2069 6e20 412e 2046 6f72  urrent in A. For
-000188f0: 2061 6c6c 2074 7261 6e73 666f 726d 6572   all transformer
-00018900: 732c 2074 6869 7320 7661 6c75 6520 6973  s, this value is
-00018910: 2075 7365 6420 696e 2061 6c6c 2077 696e   used in all win
-00018920: 6469 6e67 732e 0a20 2020 2020 2020 203a  dings..        :
-00018930: 7479 7065 2049 303a 2066 6c6f 6174 0a20  type I0: float. 
-00018940: 2020 2020 2020 203a 7061 7261 6d20 6f70         :param op
-00018950: 5f66 7265 7175 656e 6379 3a20 6f70 6572  _frequency: oper
-00018960: 6174 696e 6720 6672 6571 7565 6e63 7920  ating frequency 
-00018970: 696e 2048 7a0a 2020 2020 2020 2020 3a74  in Hz.        :t
-00018980: 7970 6520 6f70 5f66 7265 7175 656e 6379  ype op_frequency
-00018990: 3a20 666c 6f61 740a 2020 2020 2020 2020  : float.        
-000189a0: 3a70 6172 616d 2073 696c 656e 743a 2054  :param silent: T
-000189b0: 7275 6520 666f 7220 6e6f 7420 7465 726d  rue for not term
-000189c0: 696e 616c 206f 7574 7075 740a 2020 2020  inal output.    
-000189d0: 2020 2020 3a74 7970 6520 7369 6c65 6e74      :type silent
-000189e0: 3a20 626f 6f6c 0a20 2020 2020 2020 2022  : bool.        "
-000189f0: 2222 0a20 2020 2020 2020 2069 6620 6c65  "".        if le
-00018a00: 6e28 7365 6c66 2e77 696e 6469 6e67 7329  n(self.windings)
-00018a10: 203d 3d20 313a 0a20 2020 2020 2020 2020   == 1:.         
-00018a20: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
-00018a30: 656d 656e 7465 6445 7272 6f72 280a 2020  ementedError(.  
-00018a40: 2020 2020 2020 2020 2020 2020 2020 2246                "F
-00018a50: 6f72 2069 6e64 7563 746f 722c 2074 6869  or inductor, thi
-00018a60: 7320 6675 6e63 7469 6f6e 2077 696c 6c20  s function will 
-00018a70: 6e6f 7420 6265 2069 6d70 6c65 6d65 6e74  not be implement
-00018a80: 6564 2e20 220a 2020 2020 2020 2020 2020  ed. ".          
-00018a90: 2020 2020 2020 2253 6565 2027 666c 7578        "See 'flux
-00018aa0: 5f6f 7665 725f 6375 7272 656e 7427 2069  _over_current' i
-00018ab0: 6e20 276c 6f67 5f65 6c65 6374 726f 5f6d  n 'log_electro_m
-00018ac0: 6167 6e65 7469 632e 6a73 6f6e 2720 2229  agnetic.json' ")
-00018ad0: 0a0a 2020 2020 2020 2020 656c 7365 3a0a  ..        else:.
-00018ae0: 2020 2020 2020 2020 2020 2020 2320 4461              # Da
-00018af0: 7461 2d67 656e 6572 6174 696f 6e20 7769  ta-generation wi
-00018b00: 7468 2046 454d 2073 696d 756c 6174 696f  th FEM simulatio
-00018b10: 6e73 0a20 2020 2020 2020 2020 2020 2073  ns.            s
-00018b20: 656c 662e 6869 6768 5f6c 6576 656c 5f67  elf.high_level_g
-00018b30: 656f 5f67 656e 2866 7265 7175 656e 6379  eo_gen(frequency
-00018b40: 3d6f 705f 6672 6571 7565 6e63 792c 2073  =op_frequency, s
-00018b50: 6b69 6e5f 6d65 7368 5f66 6163 746f 723d  kin_mesh_factor=
-00018b60: 736b 696e 5f6d 6573 685f 6661 6374 6f72  skin_mesh_factor
-00018b70: 290a 2020 2020 2020 2020 2020 2020 6672  ).            fr
-00018b80: 6571 7565 6e63 6965 732c 2063 7572 7265  equencies, curre
-00018b90: 6e74 732c 2070 6861 7365 7320 3d20 6666  nts, phases = ff
-00018ba0: 2e63 7265 6174 655f 6f70 656e 5f63 6972  .create_open_cir
-00018bb0: 6375 6974 5f65 7863 6974 6174 696f 6e5f  cuit_excitation_
-00018bc0: 7377 6565 7028 4930 2c20 6c65 6e28 7365  sweep(I0, len(se
-00018bd0: 6c66 2e77 696e 6469 6e67 7329 2c0a 2020  lf.windings),.  
-00018be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018c30: 2020 6f70 5f66 7265 7175 656e 6379 290a    op_frequency).
-00018c40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00018c50: 2e65 7863 6974 6174 696f 6e5f 7377 6565  .excitation_swee
-00018c60: 7028 6672 6571 7565 6e63 795f 6c69 7374  p(frequency_list
-00018c70: 3d66 7265 7175 656e 6369 6573 2c20 6375  =frequencies, cu
-00018c80: 7272 656e 745f 6c69 7374 5f6c 6973 743d  rrent_list_list=
-00018c90: 6375 7272 656e 7473 2c20 7068 695f 6465  currents, phi_de
-00018ca0: 675f 6c69 7374 5f6c 6973 743d 7068 6173  g_list_list=phas
-00018cb0: 6573 2c0a 2020 2020 2020 2020 2020 2020  es,.            
-00018cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018cd0: 2020 2020 2020 7368 6f77 5f6c 6173 745f        show_last_
-00018ce0: 6665 6d5f 7369 6d75 6c61 7469 6f6e 3d76  fem_simulation=v
-00018cf0: 6973 7561 6c69 7a65 5f6c 6173 745f 6665  isualize_last_fe
-00018d00: 6d5f 7369 6d75 6c61 7469 6f6e 290a 0a20  m_simulation).. 
-00018d10: 2020 2020 2020 2020 2020 2023 2050 6f73             # Pos
-00018d20: 742d 5072 6f63 6573 7369 6e67 0a20 2020  t-Processing.   
-00018d30: 2020 2020 2020 2020 206c 6f67 203d 2073           log = s
-00018d40: 656c 662e 7265 6164 5f6c 6f67 2829 0a20  elf.read_log(). 
-00018d50: 2020 2020 2020 2020 2020 2073 656c 665f             self_
-00018d60: 696e 6475 6374 616e 6365 7320 3d20 6666  inductances = ff
-00018d70: 2e67 6574 5f73 656c 665f 696e 6475 6374  .get_self_induct
-00018d80: 616e 6365 735f 6672 6f6d 5f6c 6f67 286c  ances_from_log(l
-00018d90: 6f67 290a 2020 2020 2020 2020 2020 2020  og).            
-00018da0: 666c 7578 5f6c 696e 6b61 6765 7320 3d20  flux_linkages = 
-00018db0: 6666 2e67 6574 5f66 6c75 785f 6c69 6e6b  ff.get_flux_link
-00018dc0: 6167 6573 5f66 726f 6d5f 6c6f 6728 6c6f  ages_from_log(lo
-00018dd0: 6729 0a20 2020 2020 2020 2020 2020 2063  g).            c
-00018de0: 6f75 706c 696e 675f 6d61 7472 6978 203d  oupling_matrix =
-00018df0: 2066 662e 6765 745f 636f 7570 6c69 6e67   ff.get_coupling
-00018e00: 5f6d 6174 7269 7828 666c 7578 5f6c 696e  _matrix(flux_lin
-00018e10: 6b61 6765 7329 0a20 2020 2020 2020 2020  kages).         
-00018e20: 2020 206d 6561 6e5f 636f 7570 6c69 6e67     mean_coupling
-00018e30: 5f66 6163 746f 7273 203d 2066 662e 6765  _factors = ff.ge
-00018e40: 745f 6d65 616e 5f63 6f75 706c 696e 675f  t_mean_coupling_
-00018e50: 6661 6374 6f72 7328 636f 7570 6c69 6e67  factors(coupling
-00018e60: 5f6d 6174 7269 7829 0a20 2020 2020 2020  _matrix).       
-00018e70: 2020 2020 2069 6e64 7563 7461 6e63 655f       inductance_
-00018e80: 6d61 7472 6978 203d 2066 662e 6765 745f  matrix = ff.get_
-00018e90: 696e 6475 6374 616e 6365 5f6d 6174 7269  inductance_matri
-00018ea0: 7828 7365 6c66 5f69 6e64 7563 7461 6e63  x(self_inductanc
-00018eb0: 6573 2c20 6d65 616e 5f63 6f75 706c 696e  es, mean_couplin
-00018ec0: 675f 6661 6374 6f72 732c 2063 6f75 706c  g_factors, coupl
-00018ed0: 696e 675f 6d61 7472 6978 290a 0a20 2020  ing_matrix)..   
-00018ee0: 2020 2020 2020 2020 2069 6620 6e6f 7420           if not 
-00018ef0: 7369 6c65 6e74 3a0a 2020 2020 2020 2020  silent:.        
-00018f00: 2020 2020 2020 2020 6666 2e76 6973 7561          ff.visua
-00018f10: 6c69 7a65 5f73 656c 665f 696e 6475 6374  lize_self_induct
-00018f20: 616e 6365 7328 7365 6c66 5f69 6e64 7563  ances(self_induc
-00018f30: 7461 6e63 6573 2c20 666c 7578 5f6c 696e  tances, flux_lin
-00018f40: 6b61 6765 732c 2073 696c 656e 743d 7365  kages, silent=se
-00018f50: 6c66 2e73 696c 656e 7429 0a20 2020 2020  lf.silent).     
-00018f60: 2020 2020 2020 2020 2020 2066 662e 7669             ff.vi
-00018f70: 7375 616c 697a 655f 7365 6c66 5f72 6573  sualize_self_res
-00018f80: 6973 7461 6e63 6573 2873 656c 665f 696e  istances(self_in
-00018f90: 6475 6374 616e 6365 732c 2066 6c75 785f  ductances, flux_
-00018fa0: 6c69 6e6b 6167 6573 2c20 6f70 5f66 7265  linkages, op_fre
-00018fb0: 7175 656e 6379 2c20 7369 6c65 6e74 3d73  quency, silent=s
-00018fc0: 656c 662e 7369 6c65 6e74 290a 2020 2020  elf.silent).    
-00018fd0: 2020 2020 2020 2020 2020 2020 6666 2e76              ff.v
-00018fe0: 6973 7561 6c69 7a65 5f66 6c75 785f 6c69  isualize_flux_li
-00018ff0: 6e6b 6167 6573 2866 6c75 785f 6c69 6e6b  nkages(flux_link
-00019000: 6167 6573 2c20 7369 6c65 6e74 3d73 656c  ages, silent=sel
-00019010: 662e 7369 6c65 6e74 290a 2020 2020 2020  f.silent).      
-00019020: 2020 2020 2020 2020 2020 2320 7669 7375            # visu
-00019030: 616c 697a 655f 636f 7570 6c69 6e67 5f66  alize_coupling_f
-00019040: 6163 746f 7273 2863 6f75 706c 696e 675f  actors(coupling_
-00019050: 6d61 7472 6978 290a 2020 2020 2020 2020  matrix).        
-00019060: 2020 2020 2020 2020 6666 2e76 6973 7561          ff.visua
-00019070: 6c69 7a65 5f6d 6561 6e5f 636f 7570 6c69  lize_mean_coupli
-00019080: 6e67 5f66 6163 746f 7273 286d 6561 6e5f  ng_factors(mean_
-00019090: 636f 7570 6c69 6e67 5f66 6163 746f 7273  coupling_factors
-000190a0: 2c20 7369 6c65 6e74 3d73 656c 662e 7369  , silent=self.si
-000190b0: 6c65 6e74 290a 2020 2020 2020 2020 2020  lent).          
-000190c0: 2020 2020 2020 2320 7669 7375 616c 697a        # visualiz
-000190d0: 655f 6d65 616e 5f6d 7574 7561 6c5f 696e  e_mean_mutual_in
-000190e0: 6475 6374 616e 6365 7328 696e 6475 6374  ductances(induct
-000190f0: 616e 6365 5f6d 6174 7269 7829 0a20 2020  ance_matrix).   
-00019100: 2020 2020 2020 2020 2020 2020 2023 2076               # v
-00019110: 6973 7561 6c69 7a65 5f6d 7574 7561 6c5f  isualize_mutual_
-00019120: 696e 6475 6374 616e 6365 7328 7365 6c66  inductances(self
-00019130: 5f69 6e64 7563 7461 6e63 6573 2c20 636f  _inductances, co
-00019140: 7570 6c69 6e67 5f6d 6174 7269 7829 0a20  upling_matrix). 
-00019150: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00019160: 662e 7669 7375 616c 697a 655f 696e 6475  f.visualize_indu
-00019170: 6374 616e 6365 5f6d 6174 7269 7828 696e  ctance_matrix(in
-00019180: 6475 6374 616e 6365 5f6d 6174 7269 782c  ductance_matrix,
-00019190: 2073 696c 656e 743d 7365 6c66 2e73 696c   silent=self.sil
-000191a0: 656e 7429 0a20 2020 2020 2020 2020 2020  ent).           
-000191b0: 2020 2020 2023 2070 7269 6e74 286e 702e       # print(np.
-000191c0: 6172 7261 7928 696e 6475 6374 616e 6365  array(inductance
-000191d0: 5f6d 6174 7269 7829 2e72 6561 6c29 0a20  _matrix).real). 
-000191e0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000191f0: 2070 7269 6e74 2822 2229 0a20 2020 2020   print("").     
-00019200: 2020 2020 2020 2020 2020 2023 2070 7269             # pri
-00019210: 6e74 286e 702e 6172 7261 7928 696e 6475  nt(np.array(indu
-00019220: 6374 616e 6365 5f6d 6174 7269 7829 2e69  ctance_matrix).i
-00019230: 6d61 6729 0a0a 2020 2020 2020 2020 6966  mag)..        if
-00019240: 206c 656e 2873 656c 662e 7769 6e64 696e   len(self.windin
-00019250: 6773 2920 3d3d 2032 3a0a 2020 2020 2020  gs) == 2:.      
-00019260: 2020 2020 2020 2320 5365 6c66 2069 6e64        # Self ind
-00019270: 7563 7461 6e63 6573 0a20 2020 2020 2020  uctances.       
-00019280: 2020 2020 2073 656c 662e 4c5f 315f 3120       self.L_1_1 
-00019290: 3d20 7365 6c66 5f69 6e64 7563 7461 6e63  = self_inductanc
-000192a0: 6573 5b30 5d2e 7265 616c 0a20 2020 2020  es[0].real.     
-000192b0: 2020 2020 2020 2073 656c 662e 4c5f 325f         self.L_2_
-000192c0: 3220 3d20 7365 6c66 5f69 6e64 7563 7461  2 = self_inducta
-000192d0: 6e63 6573 5b31 5d2e 7265 616c 0a0a 2020  nces[1].real..  
-000192e0: 2020 2020 2020 2020 2020 2320 4d61 696e            # Main
-000192f0: 2f43 6f75 6e74 6572 2049 6e64 7563 7461  /Counter Inducta
-00019300: 6e63 650a 2020 2020 2020 2020 2020 2020  nce.            
-00019310: 7365 6c66 2e4d 203d 2069 6e64 7563 7461  self.M = inducta
-00019320: 6e63 655f 6d61 7472 6978 5b30 5d5b 315d  nce_matrix[0][1]
-00019330: 2e72 6561 6c0a 0a20 2020 2020 2020 2020  .real..         
-00019340: 2020 2023 204d 6561 6e20 636f 7570 6c69     # Mean coupli
-00019350: 6e67 2066 6163 746f 720a 2020 2020 2020  ng factor.      
-00019360: 2020 2020 2020 6b20 3d20 6d65 616e 5f63        k = mean_c
-00019370: 6f75 706c 696e 675f 6661 6374 6f72 735b  oupling_factors[
-00019380: 305d 5b31 5d0a 0a20 2020 2020 2020 2020  0][1]..         
-00019390: 2020 2023 2023 2032 2077 696e 6469 6e67     # # 2 winding
-000193a0: 2074 7261 6e73 666f 726d 6572 0a20 2020   transformer.   
-000193b0: 2020 2020 2020 2020 2023 2023 2054 7572           # # Tur
-000193c0: 6e73 2052 6174 696f 206e 3d4e 312f 4e32  ns Ratio n=N1/N2
-000193d0: 0a20 2020 2020 2020 2020 2020 2023 2070  .            # p
-000193e0: 7269 6d61 7279 5f74 7572 6e73 203d 2030  rimary_turns = 0
-000193f0: 0a20 2020 2020 2020 2020 2020 2023 2073  .            # s
-00019400: 6563 6f6e 6461 7279 5f74 7572 6e73 203d  econdary_turns =
-00019410: 2030 0a20 2020 2020 2020 2020 2020 2023   0.            #
-00019420: 2066 6f72 2077 7720 696e 2073 656c 662e   for ww in self.
-00019430: 7769 6e64 696e 675f 7769 6e64 6f77 733a  winding_windows:
-00019440: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
-00019450: 2020 2066 6f72 2076 7777 2069 6e20 7777     for vww in ww
-00019460: 2e76 6972 7475 616c 5f77 696e 6469 6e67  .virtual_winding
-00019470: 5f77 696e 646f 7773 3a0a 2020 2020 2020  _windows:.      
-00019480: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-00019490: 7072 696d 6172 795f 7475 726e 7320 2b3d  primary_turns +=
-000194a0: 2076 7777 2e74 7572 6e73 5b30 5d0a 2020   vww.turns[0].  
-000194b0: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-000194c0: 2020 2020 7365 636f 6e64 6172 795f 7475      secondary_tu
-000194d0: 726e 7320 2b3d 2076 7777 2e74 7572 6e73  rns += vww.turns
-000194e0: 5b31 5d0a 2020 2020 2020 2020 2020 2020  [1].            
-000194f0: 2320 6e20 3d20 7072 696d 6172 795f 7475  # n = primary_tu
-00019500: 726e 7320 2f20 7365 636f 6e64 6172 795f  rns / secondary_
-00019510: 7475 726e 730a 2020 2020 2020 2020 2020  turns.          
-00019520: 2020 230a 2020 2020 2020 2020 2020 2020    #.            
-00019530: 2320 7365 6c66 2e66 656d 6d74 5f70 7269  # self.femmt_pri
-00019540: 6e74 2866 225c 6e22 0a20 2020 2020 2020  nt(f"\n".       
-00019550: 2020 2020 2023 2020 2020 2020 2020 2020       #          
-00019560: 2020 2020 2020 6622 5475 726e 7320 5261        f"Turns Ra
-00019570: 7469 6f3a 5c6e 220a 2020 2020 2020 2020  tio:\n".        
-00019580: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00019590: 2020 2020 2066 226e 203d 207b 6e7d 5c6e       f"n = {n}\n
-000195a0: 220a 2020 2020 2020 2020 2020 2020 2320  ".            # 
-000195b0: 2020 2020 2020 2020 2020 2020 2020 2029                 )
-000195c0: 0a20 2020 2020 2020 2020 2020 2023 0a20  .            #. 
-000195d0: 2020 2020 2020 2020 2020 2023 0a20 2020             #.   
-000195e0: 2020 2020 2020 2020 2023 206c 5f73 3120           # l_s1 
-000195f0: 3d20 7365 6c66 2e4c 5f31 5f31 202d 2073  = self.L_1_1 - s
-00019600: 656c 662e 4d20 2a20 6e0a 2020 2020 2020  elf.M * n.      
-00019610: 2020 2020 2020 2320 6c5f 7332 203d 2073        # l_s2 = s
-00019620: 656c 662e 4c5f 325f 3220 2d20 7365 6c66  elf.L_2_2 - self
-00019630: 2e4d 202f 206e 0a20 2020 2020 2020 2020  .M / n.         
-00019640: 2020 2023 206c 5f68 203d 2073 656c 662e     # l_h = self.
-00019650: 4d20 2a20 6e0a 2020 2020 2020 2020 2020  M * n.          
-00019660: 2020 2320 7365 6c66 2e66 656d 6d74 5f70    # self.femmt_p
-00019670: 7269 6e74 2866 225c 6e22 0a20 2020 2020  rint(f"\n".     
-00019680: 2020 2020 2020 2023 2020 2020 2020 2020         #        
-00019690: 2020 2020 2020 2020 6622 542d 4543 4420          f"T-ECD 
-000196a0: 2870 7269 6d61 7279 2073 6964 6520 7472  (primary side tr
-000196b0: 616e 7366 6f72 6d65 6429 3a5c 6e22 0a20  ansformed):\n". 
-000196c0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
-000196d0: 2020 2020 2020 2020 2020 2020 6622 5b55              f"[U
-000196e0: 6e64 6572 2d64 6574 6572 6d69 6e65 6420  nder-determined 
-000196f0: 5379 7374 656d 3a20 2754 7261 6e73 666f  System: 'Transfo
-00019700: 726d 6174 696f 6e20 5261 7469 6f27 203a  rmation Ratio' :
-00019710: 3d20 2754 7572 6e73 2052 6174 696f 275d  = 'Turns Ratio']
-00019720: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00019730: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00019740: 2066 2220 2020 202d 2054 7261 6e73 666f   f"    - Transfo
-00019750: 726d 6174 696f 6e20 5261 7469 6f3a 206e  rmation Ratio: n
-00019760: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00019770: 2320 2020 2020 2020 2020 2020 2020 2020  #               
-00019780: 2066 2220 2020 202d 2050 7269 6d61 7279   f"    - Primary
-00019790: 2053 6964 6520 5374 7261 7920 496e 6475   Side Stray Indu
-000197a0: 6374 616e 6365 3a20 4c5f 7331 5c6e 220a  ctance: L_s1\n".
-000197b0: 2020 2020 2020 2020 2020 2020 2320 2020              #   
-000197c0: 2020 2020 2020 2020 2020 2020 2066 2220               f" 
-000197d0: 2020 202d 2053 6563 6f6e 6461 7279 2053     - Secondary S
-000197e0: 6964 6520 5374 7261 7920 496e 6475 6374  ide Stray Induct
-000197f0: 616e 6365 3a20 4c5f 7332 5c6e 220a 2020  ance: L_s2\n".  
-00019800: 2020 2020 2020 2020 2020 2320 2020 2020            #     
-00019810: 2020 2020 2020 2020 2020 2066 2220 2020             f"   
-00019820: 202d 2050 7269 6d61 7279 2053 6964 6520   - Primary Side 
-00019830: 4d61 696e 2049 6e64 7563 7461 6e63 653a  Main Inductance:
-00019840: 204c 5f68 5c6e 220a 2020 2020 2020 2020   L_h\n".        
-00019850: 2020 2020 2320 2020 2020 2020 2020 2020      #           
-00019860: 2020 2020 2066 226e 203a 3d20 6e20 3d20       f"n := n = 
-00019870: 7b6e 7d5c 6e22 0a20 2020 2020 2020 2020  {n}\n".         
-00019880: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00019890: 2020 2020 6622 4c5f 7331 203d 204c 5f31      f"L_s1 = L_1
-000198a0: 5f31 202d 204d 202a 206e 203d 207b 6c5f  _1 - M * n = {l_
-000198b0: 7331 7d5c 6e22 0a20 2020 2020 2020 2020  s1}\n".         
-000198c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-000198d0: 2020 2020 6622 4c5f 7332 203d 204c 5f32      f"L_s2 = L_2
-000198e0: 5f32 202d 204d 202f 206e 203d 207b 6c5f  _2 - M / n = {l_
-000198f0: 7332 7d5c 6e22 0a20 2020 2020 2020 2020  s2}\n".         
-00019900: 2020 2023 2020 2020 2020 2020 2020 2020     #            
-00019910: 2020 2020 6622 4c5f 6820 3d20 4d20 2a20      f"L_h = M * 
-00019920: 6e20 3d20 7b6c 5f68 7d5c 6e22 0a20 2020  n = {l_h}\n".   
-00019930: 2020 2020 2020 2020 2023 2020 2020 2020           #      
-00019940: 2020 2020 2020 2020 2020 290a 0a20 2020            )..   
-00019950: 2020 2020 2020 2020 2023 2053 7472 6179           # Stray
-00019960: 2049 6e64 7563 7461 6e63 6520 636f 6e63   Inductance conc
-00019970: 656e 7472 6174 6564 206f 6e20 5072 696d  entrated on Prim
-00019980: 6172 7920 5369 6465 0a20 2020 2020 2020  ary Side.       
-00019990: 2020 2020 2073 656c 662e 6e5f 636f 6e63       self.n_conc
-000199a0: 203d 2073 656c 662e 4d20 2f20 7365 6c66   = self.M / self
-000199b0: 2e4c 5f32 5f32 0a20 2020 2020 2020 2020  .L_2_2.         
-000199c0: 2020 2073 656c 662e 4c5f 735f 636f 6e63     self.L_s_conc
-000199d0: 203d 2028 3120 2d20 6b20 2a2a 2032 2920   = (1 - k ** 2) 
-000199e0: 2a20 7365 6c66 2e4c 5f31 5f31 0a20 2020  * self.L_1_1.   
-000199f0: 2020 2020 2020 2020 2073 656c 662e 4c5f           self.L_
-00019a00: 685f 636f 6e63 203d 2073 656c 662e 4d20  h_conc = self.M 
-00019a10: 2a2a 2032 202f 2073 656c 662e 4c5f 325f  ** 2 / self.L_2_
-00019a20: 320a 0a20 2020 2020 2020 2020 2020 2073  2..            s
-00019a30: 656c 662e 6665 6d6d 745f 7072 696e 7428  elf.femmt_print(
-00019a40: 6622 5c6e 220a 2020 2020 2020 2020 2020  f"\n".          
-00019a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019a60: 2020 2066 2254 2d45 4344 2028 7072 696d     f"T-ECD (prim
-00019a70: 6172 7920 7369 6465 2063 6f6e 6365 6e74  ary side concent
-00019a80: 7261 7465 6429 3a5c 6e22 0a20 2020 2020  rated):\n".     
-00019a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019aa0: 2020 2020 2020 2020 6622 5b55 6e64 6572          f"[Under
-00019ab0: 2d64 6574 6572 6d69 6e65 6420 5379 7374  -determined Syst
-00019ac0: 656d 3a20 6e20 3a3d 204d 202f 204c 5f32  em: n := M / L_2
-00019ad0: 5f32 2020 2d2d 3e20 204c 5f73 3220 3d20  _2  -->  L_s2 = 
-00019ae0: 4c5f 325f 3220 2d20 4d20 2f20 6e20 3d20  L_2_2 - M / n = 
-00019af0: 305d 5c6e 220a 2020 2020 2020 2020 2020  0]\n".          
-00019b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019b10: 2020 2066 2220 2020 202d 2054 7261 6e73     f"    - Trans
-00019b20: 666f 726d 6174 696f 6e20 5261 7469 6f3a  formation Ratio:
-00019b30: 206e 5c6e 220a 2020 2020 2020 2020 2020   n\n".          
-00019b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019b50: 2020 2066 2220 2020 202d 2028 5072 696d     f"    - (Prim
-00019b60: 6172 7929 2053 7472 6179 2049 6e64 7563  ary) Stray Induc
-00019b70: 7461 6e63 653a 204c 5f73 315c 6e22 0a20  tance: L_s1\n". 
-00019b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019b90: 2020 2020 2020 2020 2020 2020 6622 2020              f"  
-00019ba0: 2020 2d20 5072 696d 6172 7920 5369 6465    - Primary Side
-00019bb0: 204d 6169 6e20 496e 6475 6374 616e 6365   Main Inductance
-00019bc0: 3a20 4c5f 685c 6e22 0a20 2020 2020 2020  : L_h\n".       
-00019bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019be0: 2020 2020 2020 6622 6e20 3a3d 204d 202f        f"n := M /
-00019bf0: 204c 5f32 5f32 203d 206b 202a 2053 7172   L_2_2 = k * Sqr
-00019c00: 7428 4c5f 315f 3120 2f20 4c5f 325f 3229  t(L_1_1 / L_2_2)
-00019c10: 203d 207b 7365 6c66 2e6e 5f63 6f6e 637d   = {self.n_conc}
-00019c20: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-00019c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019c40: 2066 224c 5f73 3120 3d20 2831 202d 206b   f"L_s1 = (1 - k
-00019c50: 5e32 2920 2a20 4c5f 315f 3120 3d20 7b73  ^2) * L_1_1 = {s
-00019c60: 656c 662e 4c5f 735f 636f 6e63 7d5c 6e22  elf.L_s_conc}\n"
-00019c70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00019c80: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-00019c90: 4c5f 6820 3d20 4d5e 3220 2f20 4c5f 325f  L_h = M^2 / L_2_
-00019ca0: 3220 3d20 6b5e 3220 2a20 4c5f 315f 3120  2 = k^2 * L_1_1 
-00019cb0: 3d20 7b73 656c 662e 4c5f 685f 636f 6e63  = {self.L_h_conc
-00019cc0: 7d5c 6e22 0a20 2020 2020 2020 2020 2020  }\n".           
-00019cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00019ce0: 2020 290a 0a20 2020 2020 2020 2020 2020    )..           
-00019cf0: 2069 6e64 7563 7461 6e63 6520 3d20 5472   inductance = Tr
-00019d00: 616e 7366 6f72 6d65 7249 6e64 7563 7461  ansformerInducta
-00019d10: 6e63 6528 0a20 2020 2020 2020 2020 2020  nce(.           
-00019d20: 2020 2020 206c 5f68 5f63 6f6e 633d 7365       l_h_conc=se
-00019d30: 6c66 2e4c 5f68 5f63 6f6e 632c 0a20 2020  lf.L_h_conc,.   
-00019d40: 2020 2020 2020 2020 2020 2020 206c 5f73               l_s
-00019d50: 5f63 6f6e 633d 7365 6c66 2e4c 5f73 5f63  _conc=self.L_s_c
-00019d60: 6f6e 632c 0a20 2020 2020 2020 2020 2020  onc,.           
-00019d70: 2020 2020 206e 5f63 6f6e 633d 7365 6c66       n_conc=self
-00019d80: 2e6e 5f63 6f6e 632c 0a20 2020 2020 2020  .n_conc,.       
-00019d90: 2020 2020 2020 2020 204d 3d73 656c 662e           M=self.
-00019da0: 4d2c 0a20 2020 2020 2020 2020 2020 2020  M,.             
-00019db0: 2020 204c 5f31 5f31 3d73 656c 662e 4c5f     L_1_1=self.L_
-00019dc0: 315f 312c 0a20 2020 2020 2020 2020 2020  1_1,.           
-00019dd0: 2020 2020 204c 5f32 5f32 3d73 656c 662e       L_2_2=self.
-00019de0: 4c5f 325f 322c 0a20 2020 2020 2020 2020  L_2_2,.         
-00019df0: 2020 2029 0a0a 2020 2020 2020 2020 2020     )..          
-00019e00: 2020 7265 7475 726e 2064 6174 6163 6c61    return datacla
-00019e10: 7373 6573 2e61 7364 6963 7428 696e 6475  sses.asdict(indu
-00019e20: 6374 616e 6365 290a 0a20 2020 2020 2020  ctance)..       
-00019e30: 2069 6620 6c65 6e28 7365 6c66 2e77 696e   if len(self.win
-00019e40: 6469 6e67 7329 203d 3d20 333a 0a20 2020  dings) == 3:.   
-00019e50: 2020 2020 2020 2020 2023 2053 656c 6620           # Self 
-00019e60: 696e 6475 6374 616e 6365 730a 2020 2020  inductances.    
-00019e70: 2020 2020 2020 2020 7365 6c66 2e4c 5f31          self.L_1
-00019e80: 5f31 203d 2073 656c 665f 696e 6475 6374  _1 = self_induct
-00019e90: 616e 6365 735b 305d 2e72 6561 6c0a 2020  ances[0].real.  
-00019ea0: 2020 2020 2020 2020 2020 7365 6c66 2e4c            self.L
-00019eb0: 5f32 5f32 203d 2073 656c 665f 696e 6475  _2_2 = self_indu
-00019ec0: 6374 616e 6365 735b 315d 2e72 6561 6c0a  ctances[1].real.
-00019ed0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00019ee0: 2e4c 5f33 5f33 203d 2073 656c 665f 696e  .L_3_3 = self_in
-00019ef0: 6475 6374 616e 6365 735b 325d 2e72 6561  ductances[2].rea
-00019f00: 6c0a 0a20 2020 2020 2020 2020 2020 2023  l..            #
-00019f10: 204d 6169 6e2f 436f 756e 7465 7220 496e   Main/Counter In
-00019f20: 6475 6374 616e 6365 0a20 2020 2020 2020  ductance.       
-00019f30: 2020 2020 2073 656c 662e 4d5f 3132 203d       self.M_12 =
-00019f40: 2069 6e64 7563 7461 6e63 655f 6d61 7472   inductance_matr
-00019f50: 6978 5b30 5d5b 315d 2e72 6561 6c0a 2020  ix[0][1].real.  
-00019f60: 2020 2020 2020 2020 2020 7365 6c66 2e4d            self.M
-00019f70: 5f31 3320 3d20 696e 6475 6374 616e 6365  _13 = inductance
-00019f80: 5f6d 6174 7269 785b 305d 5b32 5d2e 7265  _matrix[0][2].re
-00019f90: 616c 0a20 2020 2020 2020 2020 2020 2073  al.            s
-00019fa0: 656c 662e 4d5f 3233 203d 2069 6e64 7563  elf.M_23 = induc
-00019fb0: 7461 6e63 655f 6d61 7472 6978 5b31 5d5b  tance_matrix[1][
-00019fc0: 325d 2e72 6561 6c0a 0a20 2020 2020 2020  2].real..       
-00019fd0: 2020 2020 2023 2053 7472 6179 2049 6e64       # Stray Ind
-00019fe0: 7563 7461 6e63 6520 7769 7468 2027 5475  uctance with 'Tu
-00019ff0: 726e 7320 5261 7469 6f27 206e 2061 7320  rns Ratio' n as 
-0001a000: 2754 7261 6e73 666f 726d 6174 696f 6e20  'Transformation 
-0001a010: 5261 7469 6f27 206e 3220 616e 6420 6e33  Ratio' n2 and n3
-0001a020: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001a030: 662e 4c5f 7331 203d 2073 656c 662e 4c5f  f.L_s1 = self.L_
-0001a040: 315f 3120 2d20 2873 656c 662e 4d5f 3132  1_1 - (self.M_12
-0001a050: 202a 2073 656c 662e 4d5f 3133 2920 2f20   * self.M_13) / 
-0001a060: 7365 6c66 2e4d 5f32 330a 2020 2020 2020  self.M_23.      
-0001a070: 2020 2020 2020 7365 6c66 2e4c 5f73 3220        self.L_s2 
-0001a080: 3d20 7365 6c66 2e4c 5f32 5f32 202d 2028  = self.L_2_2 - (
-0001a090: 7365 6c66 2e4d 5f31 3220 2a20 7365 6c66  self.M_12 * self
-0001a0a0: 2e4d 5f32 3329 202f 2073 656c 662e 4d5f  .M_23) / self.M_
-0001a0b0: 3133 0a20 2020 2020 2020 2020 2020 2073  13.            s
-0001a0c0: 656c 662e 4c5f 7333 203d 2073 656c 662e  elf.L_s3 = self.
-0001a0d0: 4c5f 335f 3320 2d20 2873 656c 662e 4d5f  L_3_3 - (self.M_
-0001a0e0: 3133 202a 2073 656c 662e 4d5f 3233 2920  13 * self.M_23) 
-0001a0f0: 2f20 7365 6c66 2e4d 5f31 320a 2020 2020  / self.M_12.    
-0001a100: 2020 2020 2020 2020 7365 6c66 2e4c 5f68          self.L_h
-0001a110: 203d 2028 7365 6c66 2e4d 5f31 3220 2a20   = (self.M_12 * 
-0001a120: 7365 6c66 2e4d 5f31 3329 202f 2073 656c  self.M_13) / sel
-0001a130: 662e 4d5f 3233 0a20 2020 2020 2020 2020  f.M_23.         
-0001a140: 2020 2073 656c 662e 6e5f 3132 203d 206e     self.n_12 = n
-0001a150: 702e 7371 7274 2873 656c 662e 4c5f 315f  p.sqrt(self.L_1_
-0001a160: 3120 2f20 7365 6c66 2e4c 5f32 5f32 2920  1 / self.L_2_2) 
-0001a170: 2023 2073 656c 662e 4d5f 3133 202f 2073   # self.M_13 / s
-0001a180: 656c 662e 4d5f 3233 0a20 2020 2020 2020  elf.M_23.       
-0001a190: 2020 2020 2073 656c 662e 6e5f 3133 203d       self.n_13 =
-0001a1a0: 206e 702e 7371 7274 2873 656c 662e 4c5f   np.sqrt(self.L_
-0001a1b0: 315f 3120 2f20 7365 6c66 2e4c 5f33 5f33  1_1 / self.L_3_3
-0001a1c0: 2920 2023 2073 656c 662e 4d5f 3132 202f  )  # self.M_12 /
-0001a1d0: 2073 656c 662e 4d5f 3233 0a20 2020 2020   self.M_23.     
-0001a1e0: 2020 2020 2020 2073 656c 662e 6e5f 3233         self.n_23
-0001a1f0: 203d 206e 702e 7371 7274 2873 656c 662e   = np.sqrt(self.
-0001a200: 4c5f 325f 3220 2f20 7365 6c66 2e4c 5f33  L_2_2 / self.L_3
-0001a210: 5f33 290a 0a20 2020 2020 2020 2020 2020  _3)..           
-0001a220: 2023 2053 686f 7274 6375 7420 496e 6475   # Shortcut Indu
-0001a230: 6374 616e 6365 730a 2020 2020 2020 2020  ctances.        
-0001a240: 2020 2020 7365 6c66 2e4c 5f73 3132 203d      self.L_s12 =
-0001a250: 2073 656c 662e 4c5f 7331 202b 2073 656c   self.L_s1 + sel
-0001a260: 662e 6e5f 3132 202a 2a20 3220 2a20 7365  f.n_12 ** 2 * se
-0001a270: 6c66 2e4c 5f73 320a 2020 2020 2020 2020  lf.L_s2.        
-0001a280: 2020 2020 7365 6c66 2e4c 5f73 3133 203d      self.L_s13 =
-0001a290: 2073 656c 662e 4c5f 7331 202b 2073 656c   self.L_s1 + sel
-0001a2a0: 662e 6e5f 3133 202a 2a20 3220 2a20 7365  f.n_13 ** 2 * se
-0001a2b0: 6c66 2e4c 5f73 330a 2020 2020 2020 2020  lf.L_s3.        
-0001a2c0: 2020 2020 7365 6c66 2e4c 5f73 3233 203d      self.L_s23 =
-0001a2d0: 2073 656c 662e 4c5f 7332 202b 2028 7365   self.L_s2 + (se
-0001a2e0: 6c66 2e6e 5f31 3320 2f20 7365 6c66 2e6e  lf.n_13 / self.n
-0001a2f0: 5f31 3229 202a 2a20 3220 2a20 7365 6c66  _12) ** 2 * self
-0001a300: 2e4c 5f73 330a 0a20 2020 2020 2020 2020  .L_s3..         
-0001a310: 2020 2073 656c 662e 6665 6d6d 745f 7072     self.femmt_pr
-0001a320: 696e 7428 6622 5c6e 220a 2020 2020 2020  int(f"\n".      
-0001a330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a340: 2020 2020 2020 2066 2254 2d45 4344 2028         f"T-ECD (
-0001a350: 4c68 206f 6e20 7072 696d 6172 7920 7369  Lh on primary si
-0001a360: 6465 293a 5c6e 220a 2020 2020 2020 2020  de):\n".        
-0001a370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a380: 2020 2020 2066 2220 2020 202d 2050 7269       f"    - Pri
-0001a390: 6d61 7279 2053 6964 6520 5374 7261 7920  mary Side Stray 
-0001a3a0: 496e 6475 6374 616e 6365 3a20 4c5f 7331  Inductance: L_s1
-0001a3b0: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
-0001a3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a3d0: 2066 2220 2020 202d 2053 6563 6f6e 6461   f"    - Seconda
-0001a3e0: 7279 2053 6964 6520 5374 7261 7920 496e  ry Side Stray In
-0001a3f0: 6475 6374 616e 6365 3a20 4c5f 7332 5c6e  ductance: L_s2\n
-0001a400: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0001a410: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001a420: 2220 2020 202d 2054 6572 7469 6172 7920  "    - Tertiary 
-0001a430: 5369 6465 2053 7472 6179 2049 6e64 7563  Side Stray Induc
-0001a440: 7461 6e63 653a 204c 5f73 335c 6e22 0a20  tance: L_s3\n". 
-0001a450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a460: 2020 2020 2020 2020 2020 2020 6622 2020              f"  
-0001a470: 2020 2d20 5472 616e 7366 6f72 6d61 7469    - Transformati
-0001a480: 6f6e 2052 6174 696f 2077 6974 6820 7265  on Ratio with re
-0001a490: 7370 6563 7420 746f 2074 6865 2070 7269  spect to the pri
-0001a4a0: 6d61 7279 2061 6e64 2074 6865 2053 6563  mary and the Sec
-0001a4b0: 6f6e 6461 7279 3a20 6e32 5c6e 220a 2020  ondary: n2\n".  
-0001a4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a4d0: 2020 2020 2020 2020 2020 2066 2220 2020             f"   
-0001a4e0: 202d 2054 7261 6e73 666f 726d 6174 696f   - Transformatio
-0001a4f0: 6e20 5261 7469 6f20 7769 7468 2072 6573  n Ratio with res
-0001a500: 7065 6374 2074 6f20 7468 6520 7072 696d  pect to the prim
-0001a510: 6172 7920 616e 6420 7468 6520 5465 7274  ary and the Tert
-0001a520: 6961 7279 3a20 6e33 5c6e 220a 2020 2020  iary: n3\n".    
-0001a530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a540: 2020 2020 2020 2020 2066 2220 2020 202d           f"    -
-0001a550: 2050 7269 6d61 7279 2053 6964 6520 4d61   Primary Side Ma
-0001a560: 696e 2049 6e64 7563 7461 6e63 653a 204c  in Inductance: L
-0001a570: 5f68 5c6e 220a 2020 2020 2020 2020 2020  _h\n".          
-0001a580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a590: 2020 2066 224c 5f73 3120 3d20 4c5f 315f     f"L_s1 = L_1_
-0001a5a0: 3120 2d20 4d5f 3132 202a 204d 5f31 3320  1 - M_12 * M_13 
-0001a5b0: 2f20 4d5f 3233 203d 207b 7365 6c66 2e4c  / M_23 = {self.L
-0001a5c0: 5f73 317d 5c6e 220a 2020 2020 2020 2020  _s1}\n".        
-0001a5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a5e0: 2020 2020 2066 224c 5f73 3220 3d20 4c5f       f"L_s2 = L_
-0001a5f0: 325f 3220 2d20 4d5f 3132 202a 204d 5f32  2_2 - M_12 * M_2
-0001a600: 3320 2f20 4d5f 3133 203d 207b 7365 6c66  3 / M_13 = {self
-0001a610: 2e4c 5f73 327d 5c6e 220a 2020 2020 2020  .L_s2}\n".      
-0001a620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a630: 2020 2020 2020 2066 224c 5f73 3320 3d20         f"L_s3 = 
-0001a640: 4c5f 335f 3320 2d20 4d5f 3133 202a 204d  L_3_3 - M_13 * M
-0001a650: 5f32 3320 2f20 4d5f 3132 203d 207b 7365  _23 / M_12 = {se
-0001a660: 6c66 2e4c 5f73 337d 5c6e 220a 2020 2020  lf.L_s3}\n".    
-0001a670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a680: 2020 2020 2020 2020 2066 226e 5f31 3220           f"n_12 
-0001a690: 3d20 6e70 2e73 7172 7428 7365 6c66 2e4c  = np.sqrt(self.L
-0001a6a0: 5f31 5f31 2f73 656c 662e 4c5f 325f 3229  _1_1/self.L_2_2)
-0001a6b0: 203d 207b 7365 6c66 2e6e 5f31 327d 5c6e   = {self.n_12}\n
-0001a6c0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-0001a6d0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001a6e0: 226e 5f31 3320 3d20 6e70 2e73 7172 7428  "n_13 = np.sqrt(
-0001a6f0: 7365 6c66 2e4c 5f31 5f31 2f73 656c 662e  self.L_1_1/self.
-0001a700: 4c5f 335f 3329 203d 207b 7365 6c66 2e6e  L_3_3) = {self.n
-0001a710: 5f31 337d 5c6e 220a 2020 2020 2020 2020  _13}\n".        
-0001a720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a730: 2020 2020 2066 226e 5f32 3320 3d20 6e70       f"n_23 = np
-0001a740: 2e73 7172 7428 7365 6c66 2e4c 5f32 5f32  .sqrt(self.L_2_2
-0001a750: 2f73 656c 662e 4c5f 335f 3329 203d 207b  /self.L_3_3) = {
-0001a760: 7365 6c66 2e6e 5f32 337d 5c6e 220a 2020  self.n_23}\n".  
+00017340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017350: 2020 2020 2020 2020 206e 6f6e 5f73 696e           non_sin
+00017360: 655f 6879 7374 6572 6573 6973 5f63 6f72  e_hysteresis_cor
+00017370: 7265 6374 696f 6e3a 2062 6f6f 6c20 3d20  rection: bool = 
+00017380: 4661 6c73 6529 3a0a 2020 2020 2020 2020  False):.        
+00017390: 2222 220a 2020 2020 2020 2020 436f 6d70  """.        Comp
+000173a0: 7265 6865 6e73 6976 6520 636f 6d70 6f6e  rehensive compon
+000173b0: 656e 7420 616e 616c 7973 6973 2066 6f72  ent analysis for
+000173c0: 2063 656e 7465 7220 7461 7070 6564 2074   center tapped t
+000173d0: 7261 6e73 666f 726d 6572 7320 7769 7468  ransformers with
+000173e0: 2064 6564 6963 6174 6564 2063 686f 6b65   dedicated choke
+000173f0: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+00017400: 6d20 6e6f 6e5f 7369 6e65 5f68 7973 7465  m non_sine_hyste
+00017410: 7265 7369 735f 636f 7272 6563 7469 6f6e  resis_correction
+00017420: 3a20 5472 7565 2074 6f20 656e 6162 6c65  : True to enable
+00017430: 2074 6865 206e 6f6e 2d73 696e 7573 6f69   the non-sinusoi
+00017440: 6461 6c20 6879 7374 6572 6573 6973 2063  dal hysteresis c
+00017450: 6f72 7265 6374 696f 6e20 6661 6374 6f72  orrection factor
+00017460: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00017470: 6365 6e74 6572 5f74 6170 7065 645f 7374  center_tapped_st
+00017480: 7564 795f 6578 6369 7461 7469 6f6e 3a0a  udy_excitation:.
+00017490: 2020 2020 2020 2020 3a70 6172 616d 206e          :param n
+000174a0: 756d 6265 725f 7072 696d 6172 795f 636f  umber_primary_co
+000174b0: 696c 5f74 7572 6e73 3a20 6e75 6d62 6572  il_turns: number
+000174c0: 206f 6620 7072 696d 6172 7920 636f 696c   of primary coil
+000174d0: 2074 7572 6e73 2e20 4e65 6564 6564 2064   turns. Needed d
+000174e0: 7565 2074 6f20 6120 7370 6563 6961 6c20  ue to a special 
+000174f0: 7472 6963 6b20 746f 2067 6574 2074 6865  trick to get the
+00017500: 0a20 2020 2020 2020 2020 2020 2074 7261  .            tra
+00017510: 6e73 666f 726d 6572 206c 6f73 7365 7320  nsformer losses 
+00017520: 7769 7468 6f75 7420 6566 6665 6374 206f  without effect o
+00017530: 6620 7468 6520 6368 6f6b 650a 2020 2020  f the choke.    
+00017540: 2020 2020 3a74 7970 6520 6e75 6d62 6572      :type number
+00017550: 5f70 7269 6d61 7279 5f63 6f69 6c5f 7475  _primary_coil_tu
+00017560: 726e 733a 2069 6e74 0a20 2020 2020 2020  rns: int.       
+00017570: 203a 7265 7475 726e 3a0a 2020 2020 2020   :return:.      
+00017580: 2020 2222 220a 0a20 2020 2020 2020 2064    """..        d
+00017590: 6566 2066 6163 746f 725f 7472 6961 6e67  ef factor_triang
+000175a0: 756c 6172 5f68 7973 7465 7265 7369 735f  ular_hysteresis_
+000175b0: 6c6f 7373 5f69 4753 4528 442c 2061 6c70  loss_iGSE(D, alp
+000175c0: 6861 293a 0a20 2020 2020 2020 2020 2020  ha):.           
+000175d0: 206e 6f6d 696e 6174 6f72 203d 2032 202a   nominator = 2 *
+000175e0: 2028 4420 2a2a 2028 3120 2d20 616c 7068   (D ** (1 - alph
+000175f0: 6129 202b 2028 3120 2d20 4429 202a 2a20  a) + (1 - D) ** 
+00017600: 2831 202d 2061 6c70 6861 2929 0a20 2020  (1 - alpha)).   
+00017610: 2020 2020 2020 2020 2074 6865 7461 203d           theta =
+00017620: 206e 702e 6c69 6e73 7061 6365 2830 2c20   np.linspace(0, 
+00017630: 3220 2a20 6e70 2e70 692c 2031 3030 290a  2 * np.pi, 100).
+00017640: 2020 2020 2020 2020 2020 2020 696e 7465              inte
+00017650: 6772 616e 7420 3d20 6e70 2e61 6273 286e  grant = np.abs(n
+00017660: 702e 636f 7328 7468 6574 6129 2920 2a2a  p.cos(theta)) **
+00017670: 2061 6c70 6861 0a20 2020 2020 2020 2020   alpha.         
+00017680: 2020 2064 656e 6f6d 696e 6174 6f72 203d     denominator =
+00017690: 206e 702e 7069 202a 2a20 2861 6c70 6861   np.pi ** (alpha
+000176a0: 202d 2031 2920 2a20 6e70 2e74 7261 707a   - 1) * np.trapz
+000176b0: 2869 6e74 6567 7261 6e74 2c20 783d 7468  (integrant, x=th
+000176c0: 6574 6129 0a20 2020 2020 2020 2020 2020  eta).           
+000176d0: 2072 6574 7572 6e20 6e6f 6d69 6e61 746f   return nominato
+000176e0: 7220 2f20 6465 6e6f 6d69 6e61 746f 720a  r / denominator.
+000176f0: 0a20 2020 2020 2020 2023 2067 6574 2074  .        # get t
+00017700: 6865 2069 6e64 7563 7461 6e63 650a 2020  he inductance.  
+00017710: 2020 2020 2020 696e 6475 6374 616e 6365        inductance
+00017720: 5f64 6963 7420 3d20 7365 6c66 2e67 6574  _dict = self.get
+00017730: 5f69 6e64 7563 7461 6e63 6573 2849 303d  _inductances(I0=
+00017740: 312c 2073 6b69 6e5f 6d65 7368 5f66 6163  1, skin_mesh_fac
+00017750: 746f 723d 312c 0a20 2020 2020 2020 2020  tor=1,.         
+00017760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017780: 2020 2020 2020 6f70 5f66 7265 7175 656e        op_frequen
+00017790: 6379 3d63 656e 7465 725f 7461 7070 6564  cy=center_tapped
+000177a0: 5f73 7475 6479 5f65 7863 6974 6174 696f  _study_excitatio
+000177b0: 6e5b 2268 7973 7465 7265 7369 7322 5d5b  n["hysteresis"][
+000177c0: 2266 7265 7175 656e 6379 225d 2c0a 2020  "frequency"],.  
+000177d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000177f0: 2020 2020 2020 2020 2020 2020 2073 696c               sil
+00017800: 656e 743d 7365 6c66 2e73 696c 656e 7429  ent=self.silent)
+00017810: 0a0a 2020 2020 2020 2020 2320 496e 6974  ..        # Init
+00017820: 6961 6c69 7a65 2074 6865 2068 7973 7465  ialize the hyste
+00017830: 7265 7369 7320 6c6f 7373 6573 2077 6974  resis losses wit
+00017840: 6820 7a65 726f 0a20 2020 2020 2020 2023  h zero.        #
+00017850: 204e 6f74 653a 2054 6f20 6361 6c63 756c   Note: To calcul
+00017860: 6174 6520 7468 6520 6879 7374 6572 6573  ate the hysteres
+00017870: 6973 206c 6f73 7365 732c 2074 776f 2073  is losses, two s
+00017880: 7465 7073 2061 7265 2070 6572 666f 726d  teps are perform
+00017890: 6564 3a0a 2020 2020 2020 2020 2320 2020  ed:.        #   
+000178a0: 2020 2020 2a20 7472 616e 7366 6f72 6d65      * transforme
+000178b0: 7220 6c6f 7373 2063 616c 6375 6c61 7469  r loss calculati
+000178c0: 6f6e 2028 7468 6572 6566 6f72 652c 2074  on (therefore, t
+000178d0: 6865 2063 7572 7265 6e74 2069 6e20 7468  he current in th
+000178e0: 6520 696e 6475 6374 6f72 2069 7320 7365  e inductor is se
+000178f0: 7420 746f 207a 6572 6f29 2e0a 2020 2020  t to zero)..    
+00017900: 2020 2020 2320 2020 2020 2020 2a20 696e      #       * in
+00017910: 6475 6374 6f72 206c 6f73 7320 6361 6c63  ductor loss calc
+00017920: 756c 6174 696f 6e0a 0a20 2020 2020 2020  ulation..       
+00017930: 2070 5f68 7973 745f 636f 7265 5f70 6172   p_hyst_core_par
+00017940: 7473 203d 205b 302c 2030 2c20 302c 2030  ts = [0, 0, 0, 0
+00017950: 2c20 305d 0a0a 2020 2020 2020 2020 2320  , 0]..        # 
+00017960: 4672 6f6d 2068 6572 652c 2074 6865 2068  From here, the h
+00017970: 7973 7465 7265 7369 7320 6f66 2074 7261  ysteresis of tra
+00017980: 6e73 666f 726d 6572 2069 7320 6361 6c63  nsformer is calc
+00017990: 756c 6174 6564 0a20 2020 2020 2020 2070  ulated.        p
+000179a0: 735f 7072 696d 6172 795f 636f 696c 5f74  s_primary_coil_t
+000179b0: 7572 6e73 203d 205b 3135 3030 3030 202b  urns = [150000 +
+000179c0: 2069 2066 6f72 2069 2069 6e20 7261 6e67   i for i in rang
+000179d0: 6528 6e75 6d62 6572 5f70 7269 6d61 7279  e(number_primary
+000179e0: 5f63 6f69 6c5f 7475 726e 7329 5d0a 2020  _coil_turns)].  
+000179f0: 2020 2020 2020 7365 6c66 2e6f 7665 7277        self.overw
+00017a00: 7269 7465 5f63 6f6e 6475 6374 6f72 735f  rite_conductors_
+00017a10: 7769 7468 5f61 6972 2870 735f 7072 696d  with_air(ps_prim
+00017a20: 6172 795f 636f 696c 5f74 7572 6e73 290a  ary_coil_turns).
+00017a30: 2020 2020 2020 2020 7365 6c66 2e65 7863          self.exc
+00017a40: 6974 6174 696f 6e28 6672 6571 7565 6e63  itation(frequenc
+00017a50: 793d 6365 6e74 6572 5f74 6170 7065 645f  y=center_tapped_
+00017a60: 7374 7564 795f 6578 6369 7461 7469 6f6e  study_excitation
+00017a70: 5b22 6879 7374 6572 6573 6973 225d 5b22  ["hysteresis"]["
+00017a80: 6672 6571 7565 6e63 7922 5d2c 0a20 2020  frequency"],.   
+00017a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017aa0: 2020 2020 2061 6d70 6c69 7475 6465 5f6c       amplitude_l
+00017ab0: 6973 743d 6365 6e74 6572 5f74 6170 7065  ist=center_tappe
+00017ac0: 645f 7374 7564 795f 6578 6369 7461 7469  d_study_excitati
+00017ad0: 6f6e 5b22 6879 7374 6572 6573 6973 225d  on["hysteresis"]
+00017ae0: 5b22 7472 616e 7366 6f72 6d65 7222 5d5b  ["transformer"][
+00017af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017b00: 2020 2020 2020 2020 2020 2020 2022 6375               "cu
+00017b10: 7272 656e 745f 616d 706c 6974 7564 6573  rrent_amplitudes
+00017b20: 225d 2c0a 2020 2020 2020 2020 2020 2020  "],.            
+00017b30: 2020 2020 2020 2020 2020 2020 7068 6173              phas
+00017b40: 655f 6465 675f 6c69 7374 3d63 656e 7465  e_deg_list=cente
+00017b50: 725f 7461 7070 6564 5f73 7475 6479 5f65  r_tapped_study_e
+00017b60: 7863 6974 6174 696f 6e5b 2268 7973 7465  xcitation["hyste
+00017b70: 7265 7369 7322 5d5b 2274 7261 6e73 666f  resis"]["transfo
+00017b80: 726d 6572 225d 5b0a 2020 2020 2020 2020  rmer"][.        
+00017b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ba0: 2020 2020 2263 7572 7265 6e74 5f70 6861      "current_pha
+00017bb0: 7365 735f 6465 6722 5d2c 0a20 2020 2020  ses_deg"],.     
+00017bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017bd0: 2020 2070 6c6f 745f 696e 7465 7270 6f6c     plot_interpol
+00017be0: 6174 696f 6e3d 4661 6c73 6529 0a20 2020  ation=False).   
+00017bf0: 2020 2020 2073 656c 662e 7772 6974 655f       self.write_
+00017c00: 7369 6d75 6c61 7469 6f6e 5f70 6172 616d  simulation_param
+00017c10: 6574 6572 735f 746f 5f70 726f 5f66 696c  eters_to_pro_fil
+00017c20: 6573 2829 0a20 2020 2020 2020 2073 656c  es().        sel
+00017c30: 662e 6765 6e65 7261 7465 5f6c 6f61 645f  f.generate_load_
+00017c40: 6c69 747a 5f61 7070 726f 7869 6d61 7469  litz_approximati
+00017c50: 6f6e 5f70 6172 616d 6574 6572 7328 290a  on_parameters().
+00017c60: 2020 2020 2020 2020 7365 6c66 2e73 696d          self.sim
+00017c70: 756c 6174 6528 290a 2020 2020 2020 2020  ulate().        
+00017c80: 7365 6c66 2e63 616c 6375 6c61 7465 5f61  self.calculate_a
+00017c90: 6e64 5f77 7269 7465 5f66 7265 715f 646f  nd_write_freq_do
+00017ca0: 6d61 696e 5f6c 6f67 2829 2020 2320 544f  main_log()  # TO
+00017cb0: 444f 3a20 7265 7573 6520 6365 6e74 6572  DO: reuse center
+00017cc0: 2074 6170 7065 640a 0a20 2020 2020 2020   tapped..       
+00017cd0: 2023 2072 6561 6420 7468 6520 6c6f 6720   # read the log 
+00017ce0: 6f66 2074 6865 2074 7261 6e73 666f 726d  of the transform
+00017cf0: 6572 206c 6f73 7365 730a 2020 2020 2020  er losses.      
+00017d00: 2020 6c6f 6720 3d20 7365 6c66 2e72 6561    log = self.rea
+00017d10: 645f 6c6f 6728 290a 2020 2020 2020 2020  d_log().        
+00017d20: 666f 7220 636f 7265 5f70 6172 7420 696e  for core_part in
+00017d30: 205b 312c 2032 2c20 332c 2034 5d3a 0a20   [1, 2, 3, 4]:. 
+00017d40: 2020 2020 2020 2020 2020 2063 6f72 655f             core_
+00017d50: 7061 7274 5f68 7973 745f 6c6f 7373 203d  part_hyst_loss =
+00017d60: 206c 6f67 5b27 7369 6e67 6c65 5f73 7765   log['single_swe
+00017d70: 6570 7327 5d5b 305d 5b27 636f 7265 5f70  eps'][0]['core_p
+00017d80: 6172 7473 275d 5b66 2763 6f72 655f 7061  arts'][f'core_pa
+00017d90: 7274 5f7b 636f 7265 5f70 6172 747d 275d  rt_{core_part}']
+00017da0: 5b27 6879 7374 5f6c 6f73 7365 7327 5d0a  ['hyst_losses'].
+00017db0: 2020 2020 2020 2020 2020 2020 705f 6879              p_hy
+00017dc0: 7374 5f63 6f72 655f 7061 7274 735b 636f  st_core_parts[co
+00017dd0: 7265 5f70 6172 7420 2d20 315d 202b 3d20  re_part - 1] += 
+00017de0: 636f 7265 5f70 6172 745f 6879 7374 5f6c  core_part_hyst_l
+00017df0: 6f73 730a 2020 2020 2020 2020 2320 4e6f  oss.        # No
+00017e00: 772c 2070 5f68 7973 745f 636f 7265 5f70  w, p_hyst_core_p
+00017e10: 6172 7473 2069 6e63 6c75 6465 7320 7468  arts includes th
+00017e20: 6520 6675 6c6c 2074 7261 6e73 666f 726d  e full transform
+00017e30: 6572 206c 6f73 7365 732e 0a0a 2020 2020  er losses...    
+00017e40: 2020 2020 6966 206e 6f6e 5f73 696e 655f      if non_sine_
+00017e50: 6879 7374 6572 6573 6973 5f63 6f72 7265  hysteresis_corre
+00017e60: 6374 696f 6e3a 0a20 2020 2020 2020 2020  ction:.         
+00017e70: 2020 2070 6173 730a 2020 2020 2020 2020     pass.        
+00017e80: 2020 2020 2320 436f 7272 6563 7420 7468      # Correct th
+00017e90: 6520 6879 7374 6572 6573 6973 206c 6f73  e hysteresis los
+00017ea0: 7320 666f 7220 7468 6520 7472 6961 6e67  s for the triang
+00017eb0: 756c 6172 2073 6861 7065 6420 666c 7578  ular shaped flux
+00017ec0: 2064 656e 7369 7479 2077 6176 6566 6f72   density wavefor
+00017ed0: 6d0a 2020 2020 2020 2020 2020 2020 2320  m.            # 
+00017ee0: 616c 7068 615f 6672 6f6d 5f64 622c 2062  alpha_from_db, b
+00017ef0: 6574 615f 6672 6f6d 5f64 622c 206b 5f66  eta_from_db, k_f
+00017f00: 726f 6d5f 6462 203d 206d 6462 2e4d 6174  rom_db = mdb.Mat
+00017f10: 6572 6961 6c44 6174 6162 6173 6528 6666  erialDatabase(ff
+00017f20: 2e73 696c 656e 7429 2e67 6574 5f73 7465  .silent).get_ste
+00017f30: 696e 6d65 747a 280a 2020 2020 2020 2020  inmetz(.        
+00017f40: 2020 2020 2320 7465 6d70 6572 6174 7572      # temperatur
+00017f50: 653d 7365 6c66 2e63 6f72 652e 7465 6d70  e=self.core.temp
+00017f60: 6572 6174 7572 652c 206d 6174 6572 6961  erature, materia
+00017f70: 6c5f 6e61 6d65 3d73 656c 662e 636f 7265  l_name=self.core
+00017f80: 2e6d 6174 6572 6961 6c2c 2064 6174 6173  .material, datas
+00017f90: 6f75 7263 653d 226d 6561 7375 7265 6d65  ource="measureme
+00017fa0: 6e74 7322 2c0a 2020 2020 2020 2020 2020  nts",.          
+00017fb0: 2020 2320 6461 7461 7479 7065 3d6d 6462    # datatype=mdb
+00017fc0: 2e4d 6561 7375 7265 6d65 6e74 4461 7461  .MeasurementData
+00017fd0: 5479 7065 2e53 7465 696e 6d65 747a 2c20  Type.Steinmetz, 
+00017fe0: 6d65 6173 7572 656d 656e 745f 7365 7475  measurement_setu
+00017ff0: 703d 224c 4541 5f4c 4b22 2c69 6e74 6572  p="LEA_LK",inter
+00018000: 706f 6c61 7469 6f6e 5f74 7970 653d 226c  polation_type="l
+00018010: 696e 6561 7222 290a 2020 2020 2020 2020  inear").        
+00018020: 2020 2020 2320 705f 6879 7374 5f63 6f72      # p_hyst_cor
+00018030: 655f 7061 7274 7320 3d20 6661 6374 6f72  e_parts = factor
+00018040: 5f74 7269 616e 6775 6c61 725f 6879 7374  _triangular_hyst
+00018050: 6572 6573 6973 5f6c 6f73 735f 6947 5345  eresis_loss_iGSE
+00018060: 2844 3d30 2e35 2c20 616c 7068 613d 616c  (D=0.5, alpha=al
+00018070: 7068 615f 6672 6f6d 5f64 6229 202a 2070  pha_from_db) * p
+00018080: 5f68 7973 745f 636f 7265 5f70 6172 7473  _hyst_core_parts
+00018090: 0a20 2020 2020 2020 2020 2020 2023 2070  .            # p
+000180a0: 7269 6e74 2866 227b 705f 6879 7374 5f63  rint(f"{p_hyst_c
+000180b0: 6f72 655f 7061 7274 7320 3d20 7d22 290a  ore_parts = }").
+000180c0: 0a20 2020 2020 2020 2023 2046 726f 6d20  .        # From 
+000180d0: 6865 7265 206f 6e2c 2069 6e64 7563 746f  here on, inducto
+000180e0: 7220 6c6f 7373 6573 2061 7265 2063 616c  r losses are cal
+000180f0: 6375 6c61 7465 640a 2020 2020 2020 2020  culated.        
+00018100: 2320 5468 6572 6566 6f72 652c 2074 6865  # Therefore, the
+00018110: 2066 6972 7374 2064 6f6e 6520 6f76 6572   first done over
+00018120: 7772 6974 6520 6f66 2069 6e64 7563 746f  write of inducto
+00018130: 7220 636f 6e64 7563 746f 7273 2069 7320  r conductors is 
+00018140: 7265 7374 6f72 6564 0a20 2020 2020 2020  restored.       
+00018150: 2073 656c 662e 6f76 6572 7772 6974 655f   self.overwrite_
+00018160: 6169 725f 636f 6e64 7563 746f 7273 5f77  air_conductors_w
+00018170: 6974 685f 636f 6e64 7563 746f 7273 286c  ith_conductors(l
+00018180: 6973 7428 6e70 2e61 7272 6179 2870 735f  ist(np.array(ps_
+00018190: 7072 696d 6172 795f 636f 696c 5f74 7572  primary_coil_tur
+000181a0: 6e73 2920 2b20 3130 3030 3030 3029 290a  ns) + 1000000)).
+000181b0: 2020 2020 2020 2020 7365 6c66 2e65 7863          self.exc
+000181c0: 6974 6174 696f 6e28 6672 6571 7565 6e63  itation(frequenc
+000181d0: 793d 6365 6e74 6572 5f74 6170 7065 645f  y=center_tapped_
+000181e0: 7374 7564 795f 6578 6369 7461 7469 6f6e  study_excitation
+000181f0: 5b22 6879 7374 6572 6573 6973 225d 5b22  ["hysteresis"]["
+00018200: 6672 6571 7565 6e63 7922 5d2c 0a20 2020  frequency"],.   
+00018210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018220: 2020 2020 2061 6d70 6c69 7475 6465 5f6c       amplitude_l
+00018230: 6973 743d 6365 6e74 6572 5f74 6170 7065  ist=center_tappe
+00018240: 645f 7374 7564 795f 6578 6369 7461 7469  d_study_excitati
+00018250: 6f6e 5b22 6879 7374 6572 6573 6973 225d  on["hysteresis"]
+00018260: 5b22 6368 6f6b 6522 5d5b 2263 7572 7265  ["choke"]["curre
+00018270: 6e74 5f61 6d70 6c69 7475 6465 7322 5d2c  nt_amplitudes"],
+00018280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018290: 2020 2020 2020 2020 2070 6861 7365 5f64           phase_d
+000182a0: 6567 5f6c 6973 743d 6365 6e74 6572 5f74  eg_list=center_t
+000182b0: 6170 7065 645f 7374 7564 795f 6578 6369  apped_study_exci
+000182c0: 7461 7469 6f6e 5b22 6879 7374 6572 6573  tation["hysteres
+000182d0: 6973 225d 5b22 6368 6f6b 6522 5d5b 2263  is"]["choke"]["c
+000182e0: 7572 7265 6e74 5f70 6861 7365 735f 6465  urrent_phases_de
+000182f0: 6722 5d2c 0a20 2020 2020 2020 2020 2020  g"],.           
+00018300: 2020 2020 2020 2020 2020 2020 2070 6c6f               plo
+00018310: 745f 696e 7465 7270 6f6c 6174 696f 6e3d  t_interpolation=
+00018320: 4661 6c73 6529 0a20 2020 2020 2020 2073  False).        s
+00018330: 656c 662e 7772 6974 655f 7369 6d75 6c61  elf.write_simula
+00018340: 7469 6f6e 5f70 6172 616d 6574 6572 735f  tion_parameters_
+00018350: 746f 5f70 726f 5f66 696c 6573 2829 0a20  to_pro_files(). 
+00018360: 2020 2020 2020 2073 656c 662e 6765 6e65         self.gene
+00018370: 7261 7465 5f6c 6f61 645f 6c69 747a 5f61  rate_load_litz_a
+00018380: 7070 726f 7869 6d61 7469 6f6e 5f70 6172  pproximation_par
+00018390: 616d 6574 6572 7328 290a 2020 2020 2020  ameters().      
+000183a0: 2020 7365 6c66 2e73 696d 756c 6174 6528    self.simulate(
+000183b0: 290a 2020 2020 2020 2020 7365 6c66 2e63  ).        self.c
+000183c0: 616c 6375 6c61 7465 5f61 6e64 5f77 7269  alculate_and_wri
+000183d0: 7465 5f66 7265 715f 646f 6d61 696e 5f6c  te_freq_domain_l
+000183e0: 6f67 2829 2020 2320 544f 444f 3a20 7265  og()  # TODO: re
+000183f0: 7573 6520 6365 6e74 6572 2074 6170 7065  use center tappe
+00018400: 640a 0a20 2020 2020 2020 2023 2072 6561  d..        # rea
+00018410: 6420 7468 6520 6c6f 6720 6f66 2074 6865  d the log of the
+00018420: 2069 6e64 7563 746f 7220 6c6f 7373 6573   inductor losses
+00018430: 0a20 2020 2020 2020 206c 6f67 203d 2073  .        log = s
+00018440: 656c 662e 7265 6164 5f6c 6f67 2829 0a20  elf.read_log(). 
+00018450: 2020 2020 2020 2066 6f72 2063 6f72 655f         for core_
+00018460: 7061 7274 2069 6e20 5b33 2c20 342c 2035  part in [3, 4, 5
+00018470: 5d3a 0a20 2020 2020 2020 2020 2020 2063  ]:.            c
+00018480: 6f72 655f 7061 7274 5f68 7973 745f 6c6f  ore_part_hyst_lo
+00018490: 7373 203d 206c 6f67 5b27 7369 6e67 6c65  ss = log['single
+000184a0: 5f73 7765 6570 7327 5d5b 305d 5b27 636f  _sweeps'][0]['co
+000184b0: 7265 5f70 6172 7473 275d 5b66 2763 6f72  re_parts'][f'cor
+000184c0: 655f 7061 7274 5f7b 636f 7265 5f70 6172  e_part_{core_par
+000184d0: 747d 275d 5b27 6879 7374 5f6c 6f73 7365  t}']['hyst_losse
+000184e0: 7327 5d0a 2020 2020 2020 2020 2020 2020  s'].            
+000184f0: 705f 6879 7374 5f63 6f72 655f 7061 7274  p_hyst_core_part
+00018500: 735b 636f 7265 5f70 6172 7420 2d20 315d  s[core_part - 1]
+00018510: 202b 3d20 636f 7265 5f70 6172 745f 6879   += core_part_hy
+00018520: 7374 5f6c 6f73 730a 2020 2020 2020 2020  st_loss.        
+00018530: 2320 705f 6879 7374 5f63 6f72 655f 7061  # p_hyst_core_pa
+00018540: 7274 7320 696e 636c 7564 6573 206e 6f77  rts includes now
+00018550: 2074 6865 2074 7261 6e73 666f 726d 6572   the transformer
+00018560: 206c 6f73 7365 7320 616e 6420 7468 6520   losses and the 
+00018570: 696e 6475 6374 6f72 206c 6f73 7365 730a  inductor losses.
+00018580: 0a20 2020 2020 2020 2023 2063 616c 6375  .        # calcu
+00018590: 6c61 7465 2074 6865 2077 696e 6469 6e67  late the winding
+000185a0: 206c 6f73 7365 7320 2320 544f 444f 3a20   losses # TODO: 
+000185b0: 6176 6f69 6420 6d65 7368 696e 6720 7477  avoid meshing tw
+000185c0: 6963 650a 2020 2020 2020 2020 2320 4e6f  ice.        # No
+000185d0: 7465 3a20 4173 2074 6865 2072 6573 756c  te: As the resul
+000185e0: 7420 6c6f 6720 6973 206e 6f77 2072 652d  t log is now re-
+000185f0: 7772 6974 7465 6e2c 2074 6865 2062 6566  written, the bef
+00018600: 6f72 6520 6361 6c63 756c 6174 6564 2070  ore calculated p
+00018610: 5f68 7973 745f 636f 7265 5f70 6172 7473  _hyst_core_parts
+00018620: 2069 7320 6164 6465 6420 696e 746f 2074   is added into t
+00018630: 6869 730a 2020 2020 2020 2020 2320 7265  his.        # re
+00018640: 7375 6c74 2d6c 6f67 2061 6c73 6f20 7468  sult-log also th
+00018650: 6520 696e 6475 6374 616e 6365 2064 6963  e inductance dic
+00018660: 7420 6973 2065 7874 6572 6e61 6c6c 7920  t is externally 
+00018670: 696e 7365 7274 6564 2069 6e74 6f20 7468  inserted into th
+00018680: 6520 6669 6e61 6c20 7265 7375 6c74 206c  e final result l
+00018690: 6f67 2e0a 2020 2020 2020 2020 2320 5468  og..        # Th
+000186a0: 6520 6669 6e61 6c20 7265 7375 6c74 206c  e final result l
+000186b0: 6f67 2069 7320 7772 6974 7465 6e20 6166  og is written af
+000186c0: 7465 7220 7468 6973 2073 696d 756c 6174  ter this simulat
+000186d0: 696f 6e0a 2020 2020 2020 2020 7365 6c66  ion.        self
+000186e0: 2e65 7863 6974 6174 696f 6e5f 7377 6565  .excitation_swee
+000186f0: 7028 6365 6e74 6572 5f74 6170 7065 645f  p(center_tapped_
+00018700: 7374 7564 795f 6578 6369 7461 7469 6f6e  study_excitation
+00018710: 5b22 6c69 6e65 6172 5f6c 6f73 7365 7322  ["linear_losses"
+00018720: 5d5b 2266 7265 7175 656e 6369 6573 225d  ]["frequencies"]
+00018730: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00018740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018750: 6365 6e74 6572 5f74 6170 7065 645f 7374  center_tapped_st
+00018760: 7564 795f 6578 6369 7461 7469 6f6e 5b22  udy_excitation["
+00018770: 6c69 6e65 6172 5f6c 6f73 7365 7322 5d5b  linear_losses"][
+00018780: 2263 7572 7265 6e74 5f61 6d70 6c69 7475  "current_amplitu
+00018790: 6465 7322 5d2c 0a20 2020 2020 2020 2020  des"],.         
+000187a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000187b0: 2020 2020 2063 656e 7465 725f 7461 7070       center_tapp
+000187c0: 6564 5f73 7475 6479 5f65 7863 6974 6174  ed_study_excitat
+000187d0: 696f 6e5b 226c 696e 6561 725f 6c6f 7373  ion["linear_loss
+000187e0: 6573 225d 5b22 6375 7272 656e 745f 7068  es"]["current_ph
+000187f0: 6173 6573 5f64 6567 225d 2c0a 2020 2020  ases_deg"],.    
+00018800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018810: 2020 2020 2020 2020 2020 696e 6475 6374            induct
+00018820: 616e 6365 5f64 6963 743d 696e 6475 6374  ance_dict=induct
+00018830: 616e 6365 5f64 6963 742c 2063 6f72 655f  ance_dict, core_
+00018840: 6879 7374 5f6c 6f73 733d 705f 6879 7374  hyst_loss=p_hyst
+00018850: 5f63 6f72 655f 7061 7274 7329 0a0a 2020  _core_parts)..  
+00018860: 2020 2320 202d 2020 2d20 202d 2020 2d20    #  -  -  -  - 
+00018870: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+00018880: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+00018890: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+000188a0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+000188b0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+000188c0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+000188d0: 202d 2020 2d0a 2020 2020 2320 506f 7374   -  -.    # Post
+000188e0: 2d50 726f 6365 7373 696e 670a 2020 2020  -Processing.    
+000188f0: 6465 6620 6765 745f 696e 6475 6374 616e  def get_inductan
+00018900: 6365 7328 7365 6c66 2c20 4930 3a20 666c  ces(self, I0: fl
+00018910: 6f61 742c 206f 705f 6672 6571 7565 6e63  oat, op_frequenc
+00018920: 793a 2066 6c6f 6174 203d 2030 2c20 736b  y: float = 0, sk
+00018930: 696e 5f6d 6573 685f 6661 6374 6f72 3a20  in_mesh_factor: 
+00018940: 666c 6f61 7420 3d20 312c 0a20 2020 2020  float = 1,.     
+00018950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018960: 2020 2076 6973 7561 6c69 7a65 5f6c 6173     visualize_las
+00018970: 745f 6665 6d5f 7369 6d75 6c61 7469 6f6e  t_fem_simulation
+00018980: 3a20 626f 6f6c 203d 2046 616c 7365 2c20  : bool = False, 
+00018990: 7369 6c65 6e74 3a20 626f 6f6c 203d 2046  silent: bool = F
+000189a0: 616c 7365 293a 0a20 2020 2020 2020 2022  alse):.        "
+000189b0: 2222 0a20 2020 2020 2020 2047 6574 2069  "".        Get i
+000189c0: 6e64 7563 7461 6e63 6520 7661 6c75 6573  nductance values
+000189d0: 2066 6f72 2032 2d20 616e 6420 332d 7769   for 2- and 3-wi
+000189e0: 6e64 696e 6720 7472 616e 7366 6f72 6d65  nding transforme
+000189f0: 722e 0a0a 2020 2020 2020 2020 5065 7266  r...        Perf
+00018a00: 6f72 6d20 276f 7065 6e27 2073 696d 756c  orm 'open' simul
+00018a10: 6174 696f 6e73 2077 6974 6820 696e 7075  ations with inpu
+00018a20: 7420 6375 7272 656e 7420 666f 7220 6561  t current for ea
+00018a30: 6368 2077 696e 6469 6e67 2061 6e64 2063  ch winding and c
+00018a40: 616c 6375 6c61 7465 7320 7468 6520 696e  alculates the in
+00018a50: 6475 6374 616e 6365 206d 6174 7269 7820  ductance matrix 
+00018a60: 616e 640a 2020 2020 2020 2020 7468 6520  and.        the 
+00018a70: 7072 696d 6172 7920 636f 6e63 656e 7472  primary concentr
+00018a80: 6174 6564 2065 7175 6976 616c 656e 7420  ated equivalent 
+00018a90: 6369 7263 7569 742e 0a0a 2020 2020 2020  circuit...      
+00018aa0: 2020 2a20 3220 7769 6e64 696e 6720 7472    * 2 winding tr
+00018ab0: 616e 7366 6f72 6d65 723a 0a20 2020 2020  ansformer:.     
+00018ac0: 2020 2020 2020 202d 2069 6e64 7563 7461         - inducta
+00018ad0: 6e63 6520 6d61 7472 6978 3a20 4c5f 315f  nce matrix: L_1_
+00018ae0: 312c 204c 5f32 5f32 2061 6e64 204d 0a20  1, L_2_2 and M. 
+00018af0: 2020 2020 2020 2020 2020 202d 2070 7269             - pri
+00018b00: 6d61 7279 2063 6f6e 6365 6e74 7261 7465  mary concentrate
+00018b10: 6420 6571 7569 7661 6c65 6e74 2063 6972  d equivalent cir
+00018b20: 6375 6974 733a 206e 5f63 6f6e 632c 204c  cuits: n_conc, L
+00018b30: 5f73 5f63 6f6e 6320 616e 6420 4c5f 685f  _s_conc and L_h_
+00018b40: 636f 6e63 0a0a 2020 2020 2020 2020 2a20  conc..        * 
+00018b50: 3320 7769 6e64 696e 6720 7472 616e 7366  3 winding transf
+00018b60: 6f72 6d65 720a 2020 2020 2020 2020 2020  ormer.          
+00018b70: 2020 2d20 696e 6475 6374 616e 6365 206d    - inductance m
+00018b80: 6174 7269 783a 204c 5f31 5f31 2c20 4c5f  atrix: L_1_1, L_
+00018b90: 325f 322c 204c 5f33 5f33 2c20 4d5f 3132  2_2, L_3_3, M_12
+00018ba0: 2c20 4d5f 3133 2061 6e64 204d 5f32 330a  , M_13 and M_23.
+00018bb0: 2020 2020 2020 2020 2020 2020 2d20 5374              - St
+00018bc0: 7261 7920 496e 6475 6374 616e 6365 2077  ray Inductance w
+00018bd0: 6974 6820 2754 7572 6e73 2052 6174 696f  ith 'Turns Ratio
+00018be0: 2720 6e20 6173 2027 5472 616e 7366 6f72  ' n as 'Transfor
+00018bf0: 6d61 7469 6f6e 2052 6174 696f 2720 6e32  mation Ratio' n2
+00018c00: 2061 6e64 206e 333a 204c 5f73 312c 204c   and n3: L_s1, L
+00018c10: 5f73 322c 204c 5f73 3320 616e 6420 4c5f  _s2, L_s3 and L_
+00018c20: 680a 0a20 2020 2020 2020 203a 7061 7261  h..        :para
+00018c30: 6d20 7669 7375 616c 697a 655f 6c61 7374  m visualize_last
+00018c40: 5f66 656d 5f73 696d 756c 6174 696f 6e3a  _fem_simulation:
+00018c50: 2053 686f 7720 6c61 7374 2046 454d 2073   Show last FEM s
+00018c60: 696d 756c 6174 696f 6e20 7265 7375 6c74  imulation result
+00018c70: 2e20 4465 6661 756c 7473 2074 6f20 4661  . Defaults to Fa
+00018c80: 6c73 652e 0a20 2020 2020 2020 203a 7479  lse..        :ty
+00018c90: 7065 2076 6973 7561 6c69 7a65 5f6c 6173  pe visualize_las
+00018ca0: 745f 6665 6d5f 7369 6d75 6c61 7469 6f6e  t_fem_simulation
+00018cb0: 3a20 626f 6f6c 0a20 2020 2020 2020 203a  : bool.        :
+00018cc0: 7061 7261 6d20 736b 696e 5f6d 6573 685f  param skin_mesh_
+00018cd0: 6661 6374 6f72 3a0a 2020 2020 2020 2020  factor:.        
+00018ce0: 3a74 7970 6520 736b 696e 5f6d 6573 685f  :type skin_mesh_
+00018cf0: 6661 6374 6f72 3a20 626f 6f6c 0a20 2020  factor: bool.   
+00018d00: 2020 2020 203a 7061 7261 6d20 4930 3a20       :param I0: 
+00018d10: 6578 6369 7469 6e67 2070 6561 6b20 6375  exciting peak cu
+00018d20: 7272 656e 7420 696e 2041 2e20 466f 7220  rrent in A. For 
+00018d30: 616c 6c20 7472 616e 7366 6f72 6d65 7273  all transformers
+00018d40: 2c20 7468 6973 2076 616c 7565 2069 7320  , this value is 
+00018d50: 7573 6564 2069 6e20 616c 6c20 7769 6e64  used in all wind
+00018d60: 696e 6773 2e0a 2020 2020 2020 2020 3a74  ings..        :t
+00018d70: 7970 6520 4930 3a20 666c 6f61 740a 2020  ype I0: float.  
+00018d80: 2020 2020 2020 3a70 6172 616d 206f 705f        :param op_
+00018d90: 6672 6571 7565 6e63 793a 206f 7065 7261  frequency: opera
+00018da0: 7469 6e67 2066 7265 7175 656e 6379 2069  ting frequency i
+00018db0: 6e20 487a 0a20 2020 2020 2020 203a 7479  n Hz.        :ty
+00018dc0: 7065 206f 705f 6672 6571 7565 6e63 793a  pe op_frequency:
+00018dd0: 2066 6c6f 6174 0a20 2020 2020 2020 203a   float.        :
+00018de0: 7061 7261 6d20 7369 6c65 6e74 3a20 5472  param silent: Tr
+00018df0: 7565 2066 6f72 206e 6f74 2074 6572 6d69  ue for not termi
+00018e00: 6e61 6c20 6f75 7470 7574 0a20 2020 2020  nal output.     
+00018e10: 2020 203a 7479 7065 2073 696c 656e 743a     :type silent:
+00018e20: 2062 6f6f 6c0a 2020 2020 2020 2020 2222   bool.        ""
+00018e30: 220a 2020 2020 2020 2020 6966 206c 656e  ".        if len
+00018e40: 2873 656c 662e 7769 6e64 696e 6773 2920  (self.windings) 
+00018e50: 3d3d 2031 3a0a 2020 2020 2020 2020 2020  == 1:.          
+00018e60: 2020 7261 6973 6520 4e6f 7449 6d70 6c65    raise NotImple
+00018e70: 6d65 6e74 6564 4572 726f 7228 0a20 2020  mentedError(.   
+00018e80: 2020 2020 2020 2020 2020 2020 2022 466f               "Fo
+00018e90: 7220 696e 6475 6374 6f72 2c20 7468 6973  r inductor, this
+00018ea0: 2066 756e 6374 696f 6e20 7769 6c6c 206e   function will n
+00018eb0: 6f74 2062 6520 696d 706c 656d 656e 7465  ot be implemente
+00018ec0: 642e 2022 0a20 2020 2020 2020 2020 2020  d. ".           
+00018ed0: 2020 2020 2022 5365 6520 2766 6c75 785f       "See 'flux_
+00018ee0: 6f76 6572 5f63 7572 7265 6e74 2720 696e  over_current' in
+00018ef0: 2027 6c6f 675f 656c 6563 7472 6f5f 6d61   'log_electro_ma
+00018f00: 676e 6574 6963 2e6a 736f 6e27 2022 290a  gnetic.json' ").
+00018f10: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00018f20: 2020 2020 2020 2020 2020 2023 2044 6174             # Dat
+00018f30: 612d 6765 6e65 7261 7469 6f6e 2077 6974  a-generation wit
+00018f40: 6820 4645 4d20 7369 6d75 6c61 7469 6f6e  h FEM simulation
+00018f50: 730a 2020 2020 2020 2020 2020 2020 7365  s.            se
+00018f60: 6c66 2e68 6967 685f 6c65 7665 6c5f 6765  lf.high_level_ge
+00018f70: 6f5f 6765 6e28 6672 6571 7565 6e63 793d  o_gen(frequency=
+00018f80: 6f70 5f66 7265 7175 656e 6379 2c20 736b  op_frequency, sk
+00018f90: 696e 5f6d 6573 685f 6661 6374 6f72 3d73  in_mesh_factor=s
+00018fa0: 6b69 6e5f 6d65 7368 5f66 6163 746f 7229  kin_mesh_factor)
+00018fb0: 0a20 2020 2020 2020 2020 2020 2066 7265  .            fre
+00018fc0: 7175 656e 6369 6573 2c20 6375 7272 656e  quencies, curren
+00018fd0: 7473 2c20 7068 6173 6573 203d 2066 662e  ts, phases = ff.
+00018fe0: 6372 6561 7465 5f6f 7065 6e5f 6369 7263  create_open_circ
+00018ff0: 7569 745f 6578 6369 7461 7469 6f6e 5f73  uit_excitation_s
+00019000: 7765 6570 2849 302c 206c 656e 2873 656c  weep(I0, len(sel
+00019010: 662e 7769 6e64 696e 6773 292c 0a20 2020  f.windings),.   
+00019020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019040: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019070: 206f 705f 6672 6571 7565 6e63 7929 0a20   op_frequency). 
+00019080: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00019090: 6578 6369 7461 7469 6f6e 5f73 7765 6570  excitation_sweep
+000190a0: 2866 7265 7175 656e 6379 5f6c 6973 743d  (frequency_list=
+000190b0: 6672 6571 7565 6e63 6965 732c 2063 7572  frequencies, cur
+000190c0: 7265 6e74 5f6c 6973 745f 6c69 7374 3d63  rent_list_list=c
+000190d0: 7572 7265 6e74 732c 2070 6869 5f64 6567  urrents, phi_deg
+000190e0: 5f6c 6973 745f 6c69 7374 3d70 6861 7365  _list_list=phase
+000190f0: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
+00019100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019110: 2020 2020 2073 686f 775f 6c61 7374 5f66       show_last_f
+00019120: 656d 5f73 696d 756c 6174 696f 6e3d 7669  em_simulation=vi
+00019130: 7375 616c 697a 655f 6c61 7374 5f66 656d  sualize_last_fem
+00019140: 5f73 696d 756c 6174 696f 6e29 0a0a 2020  _simulation)..  
+00019150: 2020 2020 2020 2020 2020 2320 506f 7374            # Post
+00019160: 2d50 726f 6365 7373 696e 670a 2020 2020  -Processing.    
+00019170: 2020 2020 2020 2020 6c6f 6720 3d20 7365          log = se
+00019180: 6c66 2e72 6561 645f 6c6f 6728 290a 2020  lf.read_log().  
+00019190: 2020 2020 2020 2020 2020 7365 6c66 5f69            self_i
+000191a0: 6e64 7563 7461 6e63 6573 203d 2066 662e  nductances = ff.
+000191b0: 6765 745f 7365 6c66 5f69 6e64 7563 7461  get_self_inducta
+000191c0: 6e63 6573 5f66 726f 6d5f 6c6f 6728 6c6f  nces_from_log(lo
+000191d0: 6729 0a20 2020 2020 2020 2020 2020 2066  g).            f
+000191e0: 6c75 785f 6c69 6e6b 6167 6573 203d 2066  lux_linkages = f
+000191f0: 662e 6765 745f 666c 7578 5f6c 696e 6b61  f.get_flux_linka
+00019200: 6765 735f 6672 6f6d 5f6c 6f67 286c 6f67  ges_from_log(log
+00019210: 290a 2020 2020 2020 2020 2020 2020 636f  ).            co
+00019220: 7570 6c69 6e67 5f6d 6174 7269 7820 3d20  upling_matrix = 
+00019230: 6666 2e67 6574 5f63 6f75 706c 696e 675f  ff.get_coupling_
+00019240: 6d61 7472 6978 2866 6c75 785f 6c69 6e6b  matrix(flux_link
+00019250: 6167 6573 290a 2020 2020 2020 2020 2020  ages).          
+00019260: 2020 6d65 616e 5f63 6f75 706c 696e 675f    mean_coupling_
+00019270: 6661 6374 6f72 7320 3d20 6666 2e67 6574  factors = ff.get
+00019280: 5f6d 6561 6e5f 636f 7570 6c69 6e67 5f66  _mean_coupling_f
+00019290: 6163 746f 7273 2863 6f75 706c 696e 675f  actors(coupling_
+000192a0: 6d61 7472 6978 290a 2020 2020 2020 2020  matrix).        
+000192b0: 2020 2020 696e 6475 6374 616e 6365 5f6d      inductance_m
+000192c0: 6174 7269 7820 3d20 6666 2e67 6574 5f69  atrix = ff.get_i
+000192d0: 6e64 7563 7461 6e63 655f 6d61 7472 6978  nductance_matrix
+000192e0: 2873 656c 665f 696e 6475 6374 616e 6365  (self_inductance
+000192f0: 732c 206d 6561 6e5f 636f 7570 6c69 6e67  s, mean_coupling
+00019300: 5f66 6163 746f 7273 2c20 636f 7570 6c69  _factors, coupli
+00019310: 6e67 5f6d 6174 7269 7829 0a0a 2020 2020  ng_matrix)..    
+00019320: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
+00019330: 696c 656e 743a 0a20 2020 2020 2020 2020  ilent:.         
+00019340: 2020 2020 2020 2066 662e 7669 7375 616c         ff.visual
+00019350: 697a 655f 7365 6c66 5f69 6e64 7563 7461  ize_self_inducta
+00019360: 6e63 6573 2873 656c 665f 696e 6475 6374  nces(self_induct
+00019370: 616e 6365 732c 2066 6c75 785f 6c69 6e6b  ances, flux_link
+00019380: 6167 6573 2c20 7369 6c65 6e74 3d73 656c  ages, silent=sel
+00019390: 662e 7369 6c65 6e74 290a 2020 2020 2020  f.silent).      
+000193a0: 2020 2020 2020 2020 2020 6666 2e76 6973            ff.vis
+000193b0: 7561 6c69 7a65 5f73 656c 665f 7265 7369  ualize_self_resi
+000193c0: 7374 616e 6365 7328 7365 6c66 5f69 6e64  stances(self_ind
+000193d0: 7563 7461 6e63 6573 2c20 666c 7578 5f6c  uctances, flux_l
+000193e0: 696e 6b61 6765 732c 206f 705f 6672 6571  inkages, op_freq
+000193f0: 7565 6e63 792c 2073 696c 656e 743d 7365  uency, silent=se
+00019400: 6c66 2e73 696c 656e 7429 0a20 2020 2020  lf.silent).     
+00019410: 2020 2020 2020 2020 2020 2066 662e 7669             ff.vi
+00019420: 7375 616c 697a 655f 666c 7578 5f6c 696e  sualize_flux_lin
+00019430: 6b61 6765 7328 666c 7578 5f6c 696e 6b61  kages(flux_linka
+00019440: 6765 732c 2073 696c 656e 743d 7365 6c66  ges, silent=self
+00019450: 2e73 696c 656e 7429 0a20 2020 2020 2020  .silent).       
+00019460: 2020 2020 2020 2020 2023 2076 6973 7561           # visua
+00019470: 6c69 7a65 5f63 6f75 706c 696e 675f 6661  lize_coupling_fa
+00019480: 6374 6f72 7328 636f 7570 6c69 6e67 5f6d  ctors(coupling_m
+00019490: 6174 7269 7829 0a20 2020 2020 2020 2020  atrix).         
+000194a0: 2020 2020 2020 2066 662e 7669 7375 616c         ff.visual
+000194b0: 697a 655f 6d65 616e 5f63 6f75 706c 696e  ize_mean_couplin
+000194c0: 675f 6661 6374 6f72 7328 6d65 616e 5f63  g_factors(mean_c
+000194d0: 6f75 706c 696e 675f 6661 6374 6f72 732c  oupling_factors,
+000194e0: 2073 696c 656e 743d 7365 6c66 2e73 696c   silent=self.sil
+000194f0: 656e 7429 0a20 2020 2020 2020 2020 2020  ent).           
+00019500: 2020 2020 2023 2076 6973 7561 6c69 7a65       # visualize
+00019510: 5f6d 6561 6e5f 6d75 7475 616c 5f69 6e64  _mean_mutual_ind
+00019520: 7563 7461 6e63 6573 2869 6e64 7563 7461  uctances(inducta
+00019530: 6e63 655f 6d61 7472 6978 290a 2020 2020  nce_matrix).    
+00019540: 2020 2020 2020 2020 2020 2020 2320 7669              # vi
+00019550: 7375 616c 697a 655f 6d75 7475 616c 5f69  sualize_mutual_i
+00019560: 6e64 7563 7461 6e63 6573 2873 656c 665f  nductances(self_
+00019570: 696e 6475 6374 616e 6365 732c 2063 6f75  inductances, cou
+00019580: 706c 696e 675f 6d61 7472 6978 290a 2020  pling_matrix).  
+00019590: 2020 2020 2020 2020 2020 2020 2020 6666                ff
+000195a0: 2e76 6973 7561 6c69 7a65 5f69 6e64 7563  .visualize_induc
+000195b0: 7461 6e63 655f 6d61 7472 6978 2869 6e64  tance_matrix(ind
+000195c0: 7563 7461 6e63 655f 6d61 7472 6978 2c20  uctance_matrix, 
+000195d0: 7369 6c65 6e74 3d73 656c 662e 7369 6c65  silent=self.sile
+000195e0: 6e74 290a 2020 2020 2020 2020 2020 2020  nt).            
+000195f0: 2020 2020 2320 7072 696e 7428 6e70 2e61      # print(np.a
+00019600: 7272 6179 2869 6e64 7563 7461 6e63 655f  rray(inductance_
+00019610: 6d61 7472 6978 292e 7265 616c 290a 2020  matrix).real).  
+00019620: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00019630: 7072 696e 7428 2222 290a 2020 2020 2020  print("").      
+00019640: 2020 2020 2020 2020 2020 2320 7072 696e            # prin
+00019650: 7428 6e70 2e61 7272 6179 2869 6e64 7563  t(np.array(induc
+00019660: 7461 6e63 655f 6d61 7472 6978 292e 696d  tance_matrix).im
+00019670: 6167 290a 0a20 2020 2020 2020 2069 6620  ag)..        if 
+00019680: 6c65 6e28 7365 6c66 2e77 696e 6469 6e67  len(self.winding
+00019690: 7329 203d 3d20 323a 0a20 2020 2020 2020  s) == 2:.       
+000196a0: 2020 2020 2023 2053 656c 6620 696e 6475       # Self indu
+000196b0: 6374 616e 6365 730a 2020 2020 2020 2020  ctances.        
+000196c0: 2020 2020 7365 6c66 2e4c 5f31 5f31 203d      self.L_1_1 =
+000196d0: 2073 656c 665f 696e 6475 6374 616e 6365   self_inductance
+000196e0: 735b 305d 2e72 6561 6c0a 2020 2020 2020  s[0].real.      
+000196f0: 2020 2020 2020 7365 6c66 2e4c 5f32 5f32        self.L_2_2
+00019700: 203d 2073 656c 665f 696e 6475 6374 616e   = self_inductan
+00019710: 6365 735b 315d 2e72 6561 6c0a 0a20 2020  ces[1].real..   
+00019720: 2020 2020 2020 2020 2023 204d 6169 6e2f           # Main/
+00019730: 436f 756e 7465 7220 496e 6475 6374 616e  Counter Inductan
+00019740: 6365 0a20 2020 2020 2020 2020 2020 2073  ce.            s
+00019750: 656c 662e 4d20 3d20 696e 6475 6374 616e  elf.M = inductan
+00019760: 6365 5f6d 6174 7269 785b 305d 5b31 5d2e  ce_matrix[0][1].
+00019770: 7265 616c 0a0a 2020 2020 2020 2020 2020  real..          
+00019780: 2020 2320 4d65 616e 2063 6f75 706c 696e    # Mean couplin
+00019790: 6720 6661 6374 6f72 0a20 2020 2020 2020  g factor.       
+000197a0: 2020 2020 206b 203d 206d 6561 6e5f 636f       k = mean_co
+000197b0: 7570 6c69 6e67 5f66 6163 746f 7273 5b30  upling_factors[0
+000197c0: 5d5b 315d 0a0a 2020 2020 2020 2020 2020  ][1]..          
+000197d0: 2020 2320 2320 3220 7769 6e64 696e 6720    # # 2 winding 
+000197e0: 7472 616e 7366 6f72 6d65 720a 2020 2020  transformer.    
+000197f0: 2020 2020 2020 2020 2320 2320 5475 726e          # # Turn
+00019800: 7320 5261 7469 6f20 6e3d 4e31 2f4e 320a  s Ratio n=N1/N2.
+00019810: 2020 2020 2020 2020 2020 2020 2320 7072              # pr
+00019820: 696d 6172 795f 7475 726e 7320 3d20 300a  imary_turns = 0.
+00019830: 2020 2020 2020 2020 2020 2020 2320 7365              # se
+00019840: 636f 6e64 6172 795f 7475 726e 7320 3d20  condary_turns = 
+00019850: 300a 2020 2020 2020 2020 2020 2020 2320  0.            # 
+00019860: 666f 7220 7777 2069 6e20 7365 6c66 2e77  for ww in self.w
+00019870: 696e 6469 6e67 5f77 696e 646f 7773 3a0a  inding_windows:.
+00019880: 2020 2020 2020 2020 2020 2020 2320 2020              #   
+00019890: 2020 666f 7220 7677 7720 696e 2077 772e    for vww in ww.
+000198a0: 7669 7274 7561 6c5f 7769 6e64 696e 675f  virtual_winding_
+000198b0: 7769 6e64 6f77 733a 0a20 2020 2020 2020  windows:.       
+000198c0: 2020 2020 2023 2020 2020 2020 2020 2070       #         p
+000198d0: 7269 6d61 7279 5f74 7572 6e73 202b 3d20  rimary_turns += 
+000198e0: 7677 772e 7475 726e 735b 305d 0a20 2020  vww.turns[0].   
+000198f0: 2020 2020 2020 2020 2023 2020 2020 2020           #      
+00019900: 2020 2073 6563 6f6e 6461 7279 5f74 7572     secondary_tur
+00019910: 6e73 202b 3d20 7677 772e 7475 726e 735b  ns += vww.turns[
+00019920: 315d 0a20 2020 2020 2020 2020 2020 2023  1].            #
+00019930: 206e 203d 2070 7269 6d61 7279 5f74 7572   n = primary_tur
+00019940: 6e73 202f 2073 6563 6f6e 6461 7279 5f74  ns / secondary_t
+00019950: 7572 6e73 0a20 2020 2020 2020 2020 2020  urns.           
+00019960: 2023 0a20 2020 2020 2020 2020 2020 2023   #.            #
+00019970: 2073 656c 662e 6665 6d6d 745f 7072 696e   self.femmt_prin
+00019980: 7428 6622 5c6e 220a 2020 2020 2020 2020  t(f"\n".        
+00019990: 2020 2020 2320 2020 2020 2020 2020 2020      #           
+000199a0: 2020 2020 2066 2254 7572 6e73 2052 6174       f"Turns Rat
+000199b0: 696f 3a5c 6e22 0a20 2020 2020 2020 2020  io:\n".         
+000199c0: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+000199d0: 2020 2020 6622 6e20 3d20 7b6e 7d5c 6e22      f"n = {n}\n"
+000199e0: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+000199f0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+00019a00: 2020 2020 2020 2020 2020 2020 230a 2020              #.  
+00019a10: 2020 2020 2020 2020 2020 230a 2020 2020            #.    
+00019a20: 2020 2020 2020 2020 2320 6c5f 7331 203d          # l_s1 =
+00019a30: 2073 656c 662e 4c5f 315f 3120 2d20 7365   self.L_1_1 - se
+00019a40: 6c66 2e4d 202a 206e 0a20 2020 2020 2020  lf.M * n.       
+00019a50: 2020 2020 2023 206c 5f73 3220 3d20 7365       # l_s2 = se
+00019a60: 6c66 2e4c 5f32 5f32 202d 2073 656c 662e  lf.L_2_2 - self.
+00019a70: 4d20 2f20 6e0a 2020 2020 2020 2020 2020  M / n.          
+00019a80: 2020 2320 6c5f 6820 3d20 7365 6c66 2e4d    # l_h = self.M
+00019a90: 202a 206e 0a20 2020 2020 2020 2020 2020   * n.           
+00019aa0: 2023 2073 656c 662e 6665 6d6d 745f 7072   # self.femmt_pr
+00019ab0: 696e 7428 6622 5c6e 220a 2020 2020 2020  int(f"\n".      
+00019ac0: 2020 2020 2020 2320 2020 2020 2020 2020        #         
+00019ad0: 2020 2020 2020 2066 2254 2d45 4344 2028         f"T-ECD (
+00019ae0: 7072 696d 6172 7920 7369 6465 2074 7261  primary side tra
+00019af0: 6e73 666f 726d 6564 293a 5c6e 220a 2020  nsformed):\n".  
+00019b00: 2020 2020 2020 2020 2020 2320 2020 2020            #     
+00019b10: 2020 2020 2020 2020 2020 2066 225b 556e             f"[Un
+00019b20: 6465 722d 6465 7465 726d 696e 6564 2053  der-determined S
+00019b30: 7973 7465 6d3a 2027 5472 616e 7366 6f72  ystem: 'Transfor
+00019b40: 6d61 7469 6f6e 2052 6174 696f 2720 3a3d  mation Ratio' :=
+00019b50: 2027 5475 726e 7320 5261 7469 6f27 5d5c   'Turns Ratio']\
+00019b60: 6e22 0a20 2020 2020 2020 2020 2020 2023  n".            #
+00019b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019b80: 6622 2020 2020 2d20 5472 616e 7366 6f72  f"    - Transfor
+00019b90: 6d61 7469 6f6e 2052 6174 696f 3a20 6e5c  mation Ratio: n\
+00019ba0: 6e22 0a20 2020 2020 2020 2020 2020 2023  n".            #
+00019bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019bc0: 6622 2020 2020 2d20 5072 696d 6172 7920  f"    - Primary 
+00019bd0: 5369 6465 2053 7472 6179 2049 6e64 7563  Side Stray Induc
+00019be0: 7461 6e63 653a 204c 5f73 315c 6e22 0a20  tance: L_s1\n". 
+00019bf0: 2020 2020 2020 2020 2020 2023 2020 2020             #    
+00019c00: 2020 2020 2020 2020 2020 2020 6622 2020              f"  
+00019c10: 2020 2d20 5365 636f 6e64 6172 7920 5369    - Secondary Si
+00019c20: 6465 2053 7472 6179 2049 6e64 7563 7461  de Stray Inducta
+00019c30: 6e63 653a 204c 5f73 325c 6e22 0a20 2020  nce: L_s2\n".   
+00019c40: 2020 2020 2020 2020 2023 2020 2020 2020           #      
+00019c50: 2020 2020 2020 2020 2020 6622 2020 2020            f"    
+00019c60: 2d20 5072 696d 6172 7920 5369 6465 204d  - Primary Side M
+00019c70: 6169 6e20 496e 6475 6374 616e 6365 3a20  ain Inductance: 
+00019c80: 4c5f 685c 6e22 0a20 2020 2020 2020 2020  L_h\n".         
+00019c90: 2020 2023 2020 2020 2020 2020 2020 2020     #            
+00019ca0: 2020 2020 6622 6e20 3a3d 206e 203d 207b      f"n := n = {
+00019cb0: 6e7d 5c6e 220a 2020 2020 2020 2020 2020  n}\n".          
+00019cc0: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00019cd0: 2020 2066 224c 5f73 3120 3d20 4c5f 315f     f"L_s1 = L_1_
+00019ce0: 3120 2d20 4d20 2a20 6e20 3d20 7b6c 5f73  1 - M * n = {l_s
+00019cf0: 317d 5c6e 220a 2020 2020 2020 2020 2020  1}\n".          
+00019d00: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00019d10: 2020 2066 224c 5f73 3220 3d20 4c5f 325f     f"L_s2 = L_2_
+00019d20: 3220 2d20 4d20 2f20 6e20 3d20 7b6c 5f73  2 - M / n = {l_s
+00019d30: 327d 5c6e 220a 2020 2020 2020 2020 2020  2}\n".          
+00019d40: 2020 2320 2020 2020 2020 2020 2020 2020    #             
+00019d50: 2020 2066 224c 5f68 203d 204d 202a 206e     f"L_h = M * n
+00019d60: 203d 207b 6c5f 687d 5c6e 220a 2020 2020   = {l_h}\n".    
+00019d70: 2020 2020 2020 2020 2320 2020 2020 2020          #       
+00019d80: 2020 2020 2020 2020 2029 0a0a 2020 2020           )..    
+00019d90: 2020 2020 2020 2020 2320 5374 7261 7920          # Stray 
+00019da0: 496e 6475 6374 616e 6365 2063 6f6e 6365  Inductance conce
+00019db0: 6e74 7261 7465 6420 6f6e 2050 7269 6d61  ntrated on Prima
+00019dc0: 7279 2053 6964 650a 2020 2020 2020 2020  ry Side.        
+00019dd0: 2020 2020 7365 6c66 2e6e 5f63 6f6e 6320      self.n_conc 
+00019de0: 3d20 7365 6c66 2e4d 202f 2073 656c 662e  = self.M / self.
+00019df0: 4c5f 325f 320a 2020 2020 2020 2020 2020  L_2_2.          
+00019e00: 2020 7365 6c66 2e4c 5f73 5f63 6f6e 6320    self.L_s_conc 
+00019e10: 3d20 2831 202d 206b 202a 2a20 3229 202a  = (1 - k ** 2) *
+00019e20: 2073 656c 662e 4c5f 315f 310a 2020 2020   self.L_1_1.    
+00019e30: 2020 2020 2020 2020 7365 6c66 2e4c 5f68          self.L_h
+00019e40: 5f63 6f6e 6320 3d20 7365 6c66 2e4d 202a  _conc = self.M *
+00019e50: 2a20 3220 2f20 7365 6c66 2e4c 5f32 5f32  * 2 / self.L_2_2
+00019e60: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+00019e70: 6c66 2e66 656d 6d74 5f70 7269 6e74 2866  lf.femmt_print(f
+00019e80: 225c 6e22 0a20 2020 2020 2020 2020 2020  "\n".           
+00019e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019ea0: 2020 6622 542d 4543 4420 2870 7269 6d61    f"T-ECD (prima
+00019eb0: 7279 2073 6964 6520 636f 6e63 656e 7472  ry side concentr
+00019ec0: 6174 6564 293a 5c6e 220a 2020 2020 2020  ated):\n".      
+00019ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019ee0: 2020 2020 2020 2066 225b 556e 6465 722d         f"[Under-
+00019ef0: 6465 7465 726d 696e 6564 2053 7973 7465  determined Syste
+00019f00: 6d3a 206e 203a 3d20 4d20 2f20 4c5f 325f  m: n := M / L_2_
+00019f10: 3220 202d 2d3e 2020 4c5f 7332 203d 204c  2  -->  L_s2 = L
+00019f20: 5f32 5f32 202d 204d 202f 206e 203d 2030  _2_2 - M / n = 0
+00019f30: 5d5c 6e22 0a20 2020 2020 2020 2020 2020  ]\n".           
+00019f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019f50: 2020 6622 2020 2020 2d20 5472 616e 7366    f"    - Transf
+00019f60: 6f72 6d61 7469 6f6e 2052 6174 696f 3a20  ormation Ratio: 
+00019f70: 6e5c 6e22 0a20 2020 2020 2020 2020 2020  n\n".           
+00019f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019f90: 2020 6622 2020 2020 2d20 2850 7269 6d61    f"    - (Prima
+00019fa0: 7279 2920 5374 7261 7920 496e 6475 6374  ry) Stray Induct
+00019fb0: 616e 6365 3a20 4c5f 7331 5c6e 220a 2020  ance: L_s1\n".  
+00019fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019fd0: 2020 2020 2020 2020 2020 2066 2220 2020             f"   
+00019fe0: 202d 2050 7269 6d61 7279 2053 6964 6520   - Primary Side 
+00019ff0: 4d61 696e 2049 6e64 7563 7461 6e63 653a  Main Inductance:
+0001a000: 204c 5f68 5c6e 220a 2020 2020 2020 2020   L_h\n".        
+0001a010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a020: 2020 2020 2066 226e 203a 3d20 4d20 2f20       f"n := M / 
+0001a030: 4c5f 325f 3220 3d20 6b20 2a20 5371 7274  L_2_2 = k * Sqrt
+0001a040: 284c 5f31 5f31 202f 204c 5f32 5f32 2920  (L_1_1 / L_2_2) 
+0001a050: 3d20 7b73 656c 662e 6e5f 636f 6e63 7d5c  = {self.n_conc}\
+0001a060: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
+0001a070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a080: 6622 4c5f 7331 203d 2028 3120 2d20 6b5e  f"L_s1 = (1 - k^
+0001a090: 3229 202a 204c 5f31 5f31 203d 207b 7365  2) * L_1_1 = {se
+0001a0a0: 6c66 2e4c 5f73 5f63 6f6e 637d 5c6e 220a  lf.L_s_conc}\n".
+0001a0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a0c0: 2020 2020 2020 2020 2020 2020 2066 224c               f"L
+0001a0d0: 5f68 203d 204d 5e32 202f 204c 5f32 5f32  _h = M^2 / L_2_2
+0001a0e0: 203d 206b 5e32 202a 204c 5f31 5f31 203d   = k^2 * L_1_1 =
+0001a0f0: 207b 7365 6c66 2e4c 5f68 5f63 6f6e 637d   {self.L_h_conc}
+0001a100: 5c6e 220a 2020 2020 2020 2020 2020 2020  \n".            
+0001a110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a120: 2029 0a0a 2020 2020 2020 2020 2020 2020   )..            
+0001a130: 696e 6475 6374 616e 6365 203d 2054 7261  inductance = Tra
+0001a140: 6e73 666f 726d 6572 496e 6475 6374 616e  nsformerInductan
+0001a150: 6365 280a 2020 2020 2020 2020 2020 2020  ce(.            
+0001a160: 2020 2020 6c5f 685f 636f 6e63 3d73 656c      l_h_conc=sel
+0001a170: 662e 4c5f 685f 636f 6e63 2c0a 2020 2020  f.L_h_conc,.    
+0001a180: 2020 2020 2020 2020 2020 2020 6c5f 735f              l_s_
+0001a190: 636f 6e63 3d73 656c 662e 4c5f 735f 636f  conc=self.L_s_co
+0001a1a0: 6e63 2c0a 2020 2020 2020 2020 2020 2020  nc,.            
+0001a1b0: 2020 2020 6e5f 636f 6e63 3d73 656c 662e      n_conc=self.
+0001a1c0: 6e5f 636f 6e63 2c0a 2020 2020 2020 2020  n_conc,.        
+0001a1d0: 2020 2020 2020 2020 4d3d 7365 6c66 2e4d          M=self.M
+0001a1e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0001a1f0: 2020 4c5f 315f 313d 7365 6c66 2e4c 5f31    L_1_1=self.L_1
+0001a200: 5f31 2c0a 2020 2020 2020 2020 2020 2020  _1,.            
+0001a210: 2020 2020 4c5f 325f 323d 7365 6c66 2e4c      L_2_2=self.L
+0001a220: 5f32 5f32 2c0a 2020 2020 2020 2020 2020  _2_2,.          
+0001a230: 2020 290a 0a20 2020 2020 2020 2020 2020    )..           
+0001a240: 2072 6574 7572 6e20 6461 7461 636c 6173   return dataclas
+0001a250: 7365 732e 6173 6469 6374 2869 6e64 7563  ses.asdict(induc
+0001a260: 7461 6e63 6529 0a0a 2020 2020 2020 2020  tance)..        
+0001a270: 6966 206c 656e 2873 656c 662e 7769 6e64  if len(self.wind
+0001a280: 696e 6773 2920 3d3d 2033 3a0a 2020 2020  ings) == 3:.    
+0001a290: 2020 2020 2020 2020 2320 5365 6c66 2069          # Self i
+0001a2a0: 6e64 7563 7461 6e63 6573 0a20 2020 2020  nductances.     
+0001a2b0: 2020 2020 2020 2073 656c 662e 4c5f 315f         self.L_1_
+0001a2c0: 3120 3d20 7365 6c66 5f69 6e64 7563 7461  1 = self_inducta
+0001a2d0: 6e63 6573 5b30 5d2e 7265 616c 0a20 2020  nces[0].real.   
+0001a2e0: 2020 2020 2020 2020 2073 656c 662e 4c5f           self.L_
+0001a2f0: 325f 3220 3d20 7365 6c66 5f69 6e64 7563  2_2 = self_induc
+0001a300: 7461 6e63 6573 5b31 5d2e 7265 616c 0a20  tances[1].real. 
+0001a310: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001a320: 4c5f 335f 3320 3d20 7365 6c66 5f69 6e64  L_3_3 = self_ind
+0001a330: 7563 7461 6e63 6573 5b32 5d2e 7265 616c  uctances[2].real
+0001a340: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+0001a350: 4d61 696e 2f43 6f75 6e74 6572 2049 6e64  Main/Counter Ind
+0001a360: 7563 7461 6e63 650a 2020 2020 2020 2020  uctance.        
+0001a370: 2020 2020 7365 6c66 2e4d 5f31 3220 3d20      self.M_12 = 
+0001a380: 696e 6475 6374 616e 6365 5f6d 6174 7269  inductance_matri
+0001a390: 785b 305d 5b31 5d2e 7265 616c 0a20 2020  x[0][1].real.   
+0001a3a0: 2020 2020 2020 2020 2073 656c 662e 4d5f           self.M_
+0001a3b0: 3133 203d 2069 6e64 7563 7461 6e63 655f  13 = inductance_
+0001a3c0: 6d61 7472 6978 5b30 5d5b 325d 2e72 6561  matrix[0][2].rea
+0001a3d0: 6c0a 2020 2020 2020 2020 2020 2020 7365  l.            se
+0001a3e0: 6c66 2e4d 5f32 3320 3d20 696e 6475 6374  lf.M_23 = induct
+0001a3f0: 616e 6365 5f6d 6174 7269 785b 315d 5b32  ance_matrix[1][2
+0001a400: 5d2e 7265 616c 0a0a 2020 2020 2020 2020  ].real..        
+0001a410: 2020 2020 2320 5374 7261 7920 496e 6475      # Stray Indu
+0001a420: 6374 616e 6365 2077 6974 6820 2754 7572  ctance with 'Tur
+0001a430: 6e73 2052 6174 696f 2720 6e20 6173 2027  ns Ratio' n as '
+0001a440: 5472 616e 7366 6f72 6d61 7469 6f6e 2052  Transformation R
+0001a450: 6174 696f 2720 6e32 2061 6e64 206e 330a  atio' n2 and n3.
+0001a460: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001a470: 2e4c 5f73 3120 3d20 7365 6c66 2e4c 5f31  .L_s1 = self.L_1
+0001a480: 5f31 202d 2028 7365 6c66 2e4d 5f31 3220  _1 - (self.M_12 
+0001a490: 2a20 7365 6c66 2e4d 5f31 3329 202f 2073  * self.M_13) / s
+0001a4a0: 656c 662e 4d5f 3233 0a20 2020 2020 2020  elf.M_23.       
+0001a4b0: 2020 2020 2073 656c 662e 4c5f 7332 203d       self.L_s2 =
+0001a4c0: 2073 656c 662e 4c5f 325f 3220 2d20 2873   self.L_2_2 - (s
+0001a4d0: 656c 662e 4d5f 3132 202a 2073 656c 662e  elf.M_12 * self.
+0001a4e0: 4d5f 3233 2920 2f20 7365 6c66 2e4d 5f31  M_23) / self.M_1
+0001a4f0: 330a 2020 2020 2020 2020 2020 2020 7365  3.            se
+0001a500: 6c66 2e4c 5f73 3320 3d20 7365 6c66 2e4c  lf.L_s3 = self.L
+0001a510: 5f33 5f33 202d 2028 7365 6c66 2e4d 5f31  _3_3 - (self.M_1
+0001a520: 3320 2a20 7365 6c66 2e4d 5f32 3329 202f  3 * self.M_23) /
+0001a530: 2073 656c 662e 4d5f 3132 0a20 2020 2020   self.M_12.     
+0001a540: 2020 2020 2020 2073 656c 662e 4c5f 6820         self.L_h 
+0001a550: 3d20 2873 656c 662e 4d5f 3132 202a 2073  = (self.M_12 * s
+0001a560: 656c 662e 4d5f 3133 2920 2f20 7365 6c66  elf.M_13) / self
+0001a570: 2e4d 5f32 330a 2020 2020 2020 2020 2020  .M_23.          
+0001a580: 2020 7365 6c66 2e6e 5f31 3220 3d20 6e70    self.n_12 = np
+0001a590: 2e73 7172 7428 7365 6c66 2e4c 5f31 5f31  .sqrt(self.L_1_1
+0001a5a0: 202f 2073 656c 662e 4c5f 325f 3229 2020   / self.L_2_2)  
+0001a5b0: 2320 7365 6c66 2e4d 5f31 3320 2f20 7365  # self.M_13 / se
+0001a5c0: 6c66 2e4d 5f32 330a 2020 2020 2020 2020  lf.M_23.        
+0001a5d0: 2020 2020 7365 6c66 2e6e 5f31 3320 3d20      self.n_13 = 
+0001a5e0: 6e70 2e73 7172 7428 7365 6c66 2e4c 5f31  np.sqrt(self.L_1
+0001a5f0: 5f31 202f 2073 656c 662e 4c5f 335f 3329  _1 / self.L_3_3)
+0001a600: 2020 2320 7365 6c66 2e4d 5f31 3220 2f20    # self.M_12 / 
+0001a610: 7365 6c66 2e4d 5f32 330a 2020 2020 2020  self.M_23.      
+0001a620: 2020 2020 2020 7365 6c66 2e6e 5f32 3320        self.n_23 
+0001a630: 3d20 6e70 2e73 7172 7428 7365 6c66 2e4c  = np.sqrt(self.L
+0001a640: 5f32 5f32 202f 2073 656c 662e 4c5f 335f  _2_2 / self.L_3_
+0001a650: 3329 0a0a 2020 2020 2020 2020 2020 2020  3)..            
+0001a660: 2320 5368 6f72 7463 7574 2049 6e64 7563  # Shortcut Induc
+0001a670: 7461 6e63 6573 0a20 2020 2020 2020 2020  tances.         
+0001a680: 2020 2073 656c 662e 4c5f 7331 3220 3d20     self.L_s12 = 
+0001a690: 7365 6c66 2e4c 5f73 3120 2b20 7365 6c66  self.L_s1 + self
+0001a6a0: 2e6e 5f31 3220 2a2a 2032 202a 2073 656c  .n_12 ** 2 * sel
+0001a6b0: 662e 4c5f 7332 0a20 2020 2020 2020 2020  f.L_s2.         
+0001a6c0: 2020 2073 656c 662e 4c5f 7331 3320 3d20     self.L_s13 = 
+0001a6d0: 7365 6c66 2e4c 5f73 3120 2b20 7365 6c66  self.L_s1 + self
+0001a6e0: 2e6e 5f31 3320 2a2a 2032 202a 2073 656c  .n_13 ** 2 * sel
+0001a6f0: 662e 4c5f 7333 0a20 2020 2020 2020 2020  f.L_s3.         
+0001a700: 2020 2073 656c 662e 4c5f 7332 3320 3d20     self.L_s23 = 
+0001a710: 7365 6c66 2e4c 5f73 3220 2b20 2873 656c  self.L_s2 + (sel
+0001a720: 662e 6e5f 3133 202f 2073 656c 662e 6e5f  f.n_13 / self.n_
+0001a730: 3132 2920 2a2a 2032 202a 2073 656c 662e  12) ** 2 * self.
+0001a740: 4c5f 7333 0a0a 2020 2020 2020 2020 2020  L_s3..          
+0001a750: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
+0001a760: 6e74 2866 225c 6e22 0a20 2020 2020 2020  nt(f"\n".       
 0001a770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a780: 2020 2020 2020 2020 2020 2066 224c 5f68             f"L_h
-0001a790: 203d 204d 5f31 3220 2a20 4d5f 3133 202f   = M_12 * M_13 /
-0001a7a0: 204d 5f32 3320 3d20 7b73 656c 662e 4c5f   M_23 = {self.L_
-0001a7b0: 687d 5c6e 5c6e 220a 2020 2020 2020 2020  h}\n\n".        
-0001a7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a7d0: 2020 2020 2066 2253 686f 7274 6375 7420       f"Shortcut 
-0001a7e0: 496e 6475 6374 616e 6365 7320 4c5f 736e  Inductances L_sn
-0001a7f0: 6d20 6d65 6173 7572 6564 206f 6e20 7769  m measured on wi
-0001a800: 6e64 696e 6720 6e20 7769 7468 2073 686f  nding n with sho
-0001a810: 7274 2061 7070 6c69 6564 2074 6f20 7769  rt applied to wi
-0001a820: 6e64 696e 6720 6d5c 6e22 0a20 2020 2020  nding m\n".     
-0001a830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a840: 2020 2020 2020 2020 6622 4c5f 7331 3220          f"L_s12 
-0001a850: 3d20 4c5f 7331 202b 206e 5f31 322a 2a32  = L_s1 + n_12**2
-0001a860: 202a 204c 5f73 3220 3d20 7b73 656c 662e   * L_s2 = {self.
-0001a870: 4c5f 7331 327d 5c6e 220a 2020 2020 2020  L_s12}\n".      
-0001a880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a890: 2020 2020 2020 2066 224c 5f73 3133 203d         f"L_s13 =
-0001a8a0: 204c 5f73 3120 2b20 6e5f 3133 2a2a 3220   L_s1 + n_13**2 
-0001a8b0: 2a20 4c5f 7333 203d 207b 7365 6c66 2e4c  * L_s3 = {self.L
-0001a8c0: 5f73 3133 7d5c 6e22 0a20 2020 2020 2020  _s13}\n".       
-0001a8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a8e0: 2020 2020 2020 6622 4c5f 7332 3320 3d20        f"L_s23 = 
-0001a8f0: 4c5f 7332 202b 2028 6e5f 3133 2f6e 5f31  L_s2 + (n_13/n_1
-0001a900: 3229 2a2a 3220 2a20 4c5f 7333 203d 207b  2)**2 * L_s3 = {
-0001a910: 7365 6c66 2e4c 5f73 3233 7d5c 6e22 0a20  self.L_s23}\n". 
-0001a920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001a930: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0001a940: 2020 2020 2020 2020 2020 2222 220a 2020            """.  
-0001a950: 2020 2020 2020 2020 2020 2320 5374 7261            # Stra
-0001a960: 7920 496e 6475 6374 616e 6365 2063 6f6e  y Inductance con
-0001a970: 6365 6e74 7261 7465 6420 6f6e 2050 7269  centrated on Pri
-0001a980: 6d61 7279 2053 6964 650a 2020 2020 2020  mary Side.      
-0001a990: 2020 2020 2020 7365 6c66 2e6e 5f63 6f6e        self.n_con
-0001a9a0: 6320 3d20 7365 6c66 2e4d 202f 2073 656c  c = self.M / sel
-0001a9b0: 662e 4c5f 325f 320a 2020 2020 2020 2020  f.L_2_2.        
-0001a9c0: 2020 2020 7365 6c66 2e4c 5f73 5f63 6f6e      self.L_s_con
-0001a9d0: 6320 3d20 2831 202d 206b 202a 2a20 3229  c = (1 - k ** 2)
-0001a9e0: 202a 2073 656c 662e 4c5f 315f 310a 2020   * self.L_1_1.  
-0001a9f0: 2020 2020 2020 2020 2020 7365 6c66 2e4c            self.L
-0001aa00: 5f68 5f63 6f6e 6320 3d20 7365 6c66 2e4d  _h_conc = self.M
-0001aa10: 202a 2a20 3220 2f20 7365 6c66 2e4c 5f32   ** 2 / self.L_2
-0001aa20: 5f32 0a0a 2020 2020 2020 2020 2020 2020  _2..            
-0001aa30: 7365 6c66 2e66 656d 6d74 5f70 7269 6e74  self.femmt_print
-0001aa40: 2866 225c 6e22 0a20 2020 2020 2020 2020  (f"\n".         
-0001aa50: 2020 2020 2020 2066 2254 2d45 4344 2028         f"T-ECD (
-0001aa60: 7072 696d 6172 7920 7369 6465 2063 6f6e  primary side con
-0001aa70: 6365 6e74 7261 7465 6429 3a5c 6e22 0a20  centrated):\n". 
-0001aa80: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001aa90: 225b 556e 6465 7264 6574 6572 6d69 6e65  "[Underdetermine
-0001aaa0: 6420 5379 7374 656d 3a20 6e20 3a3d 204d  d System: n := M
-0001aab0: 202f 204c 5f32 5f32 2020 2d2d 3e20 204c   / L_2_2  -->  L
-0001aac0: 5f73 3220 3d20 4c5f 325f 3220 2d20 4d20  _s2 = L_2_2 - M 
-0001aad0: 2f20 6e20 3d20 305d 5c6e 220a 2020 2020  / n = 0]\n".    
-0001aae0: 2020 2020 2020 2020 2020 2020 6622 2020              f"  
-0001aaf0: 2020 2d20 5472 616e 7366 6f72 6d61 7469    - Transformati
-0001ab00: 6f6e 2052 6174 696f 3a20 6e5c 6e22 0a20  on Ratio: n\n". 
-0001ab10: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001ab20: 2220 2020 202d 2028 5072 696d 6172 7929  "    - (Primary)
-0001ab30: 2053 7472 6179 2049 6e64 7563 7461 6e63   Stray Inductanc
-0001ab40: 653a 204c 5f73 315c 6e22 0a20 2020 2020  e: L_s1\n".     
-0001ab50: 2020 2020 2020 2020 2020 2066 2220 2020             f"   
-0001ab60: 202d 2050 7269 6d61 7279 2053 6964 6520   - Primary Side 
-0001ab70: 4d61 696e 2049 6e64 7563 7461 6e63 653a  Main Inductance:
-0001ab80: 204c 5f68 5c6e 220a 2020 2020 2020 2020   L_h\n".        
-0001ab90: 2020 2020 2020 2020 6622 6e20 3a3d 204d          f"n := M
-0001aba0: 202f 204c 5f32 5f32 203d 206b 202a 2053   / L_2_2 = k * S
-0001abb0: 7172 7428 4c5f 315f 3120 2f20 4c5f 325f  qrt(L_1_1 / L_2_
-0001abc0: 3229 203d 207b 7365 6c66 2e6e 5f63 6f6e  2) = {self.n_con
-0001abd0: 637d 5c6e 220a 2020 2020 2020 2020 2020  c}\n".          
-0001abe0: 2020 2020 2020 6622 4c5f 7331 203d 2028        f"L_s1 = (
-0001abf0: 3120 2d20 6b5e 3229 202a 204c 5f31 5f31  1 - k^2) * L_1_1
-0001ac00: 203d 207b 7365 6c66 2e4c 5f73 5f63 6f6e   = {self.L_s_con
-0001ac10: 637d 5c6e 220a 2020 2020 2020 2020 2020  c}\n".          
-0001ac20: 2020 2020 2020 6622 4c5f 6820 3d20 4d5e        f"L_h = M^
-0001ac30: 3220 2f20 4c5f 325f 3220 3d20 6b5e 3220  2 / L_2_2 = k^2 
-0001ac40: 2a20 4c5f 315f 3120 3d20 7b73 656c 662e  * L_1_1 = {self.
-0001ac50: 4c5f 685f 636f 6e63 7d5c 6e22 0a20 2020  L_h_conc}\n".   
-0001ac60: 2020 2020 2020 2020 2020 2020 2029 0a20               ). 
-0001ac70: 2020 2020 2020 2020 2020 2022 2222 0a0a             """..
-0001ac80: 2020 2020 2020 2020 2020 2020 696e 6475              indu
-0001ac90: 6374 616e 6365 7320 3d20 5468 7265 6557  ctances = ThreeW
-0001aca0: 696e 6469 6e67 5472 616e 7366 6f72 6d65  indingTransforme
-0001acb0: 7249 6e64 7563 7461 6e63 6528 0a20 2020  rInductance(.   
-0001acc0: 2020 2020 2020 2020 2020 2020 204d 5f31               M_1
-0001acd0: 323d 7365 6c66 2e4d 5f31 322c 0a20 2020  2=self.M_12,.   
-0001ace0: 2020 2020 2020 2020 2020 2020 204d 5f31               M_1
-0001acf0: 333d 7365 6c66 2e4d 5f31 332c 0a20 2020  3=self.M_13,.   
-0001ad00: 2020 2020 2020 2020 2020 2020 204d 5f32               M_2
-0001ad10: 333d 7365 6c66 2e4d 5f32 332c 0a20 2020  3=self.M_23,.   
-0001ad20: 2020 2020 2020 2020 2020 2020 204c 5f73               L_s
-0001ad30: 313d 7365 6c66 2e4c 5f73 312c 0a20 2020  1=self.L_s1,.   
-0001ad40: 2020 2020 2020 2020 2020 2020 204c 5f73               L_s
-0001ad50: 323d 7365 6c66 2e4c 5f73 322c 0a20 2020  2=self.L_s2,.   
-0001ad60: 2020 2020 2020 2020 2020 2020 204c 5f73               L_s
-0001ad70: 333d 7365 6c66 2e4c 5f73 332c 0a20 2020  3=self.L_s3,.   
-0001ad80: 2020 2020 2020 2020 2020 2020 204c 5f68               L_h
-0001ad90: 3d73 656c 662e 4c5f 682c 0a20 2020 2020  =self.L_h,.     
-0001ada0: 2020 2020 2020 2020 2020 206e 5f31 323d             n_12=
-0001adb0: 7365 6c66 2e6e 5f31 322c 0a20 2020 2020  self.n_12,.     
-0001adc0: 2020 2020 2020 2020 2020 206e 5f31 333d             n_13=
-0001add0: 7365 6c66 2e6e 5f31 332c 0a20 2020 2020  self.n_13,.     
-0001ade0: 2020 2020 2020 2020 2020 206e 5f32 333d             n_23=
-0001adf0: 7365 6c66 2e6e 5f32 332c 0a20 2020 2020  self.n_23,.     
-0001ae00: 2020 2020 2020 2020 2020 204c 5f73 3132             L_s12
-0001ae10: 3d73 656c 662e 4c5f 7331 322c 0a20 2020  =self.L_s12,.   
-0001ae20: 2020 2020 2020 2020 2020 2020 204c 5f73               L_s
-0001ae30: 3133 3d73 656c 662e 4c5f 7331 332c 0a20  13=self.L_s13,. 
-0001ae40: 2020 2020 2020 2020 2020 2020 2020 204c                 L
-0001ae50: 5f73 3233 3d73 656c 662e 4c5f 7332 330a  _s23=self.L_s23.
-0001ae60: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
-0001ae70: 2020 2020 2020 2020 2020 7265 7475 726e            return
-0001ae80: 2064 6174 6163 6c61 7373 6573 2e61 7364   dataclasses.asd
-0001ae90: 6963 7428 696e 6475 6374 616e 6365 7329  ict(inductances)
-0001aea0: 0a0a 2020 2020 2020 2020 2320 7365 6c66  ..        # self
-0001aeb0: 2e76 6973 7561 6c69 7a65 2829 0a0a 2020  .visualize()..  
-0001aec0: 2020 6465 6620 6765 745f 7374 6569 6e6d    def get_steinm
-0001aed0: 6574 7a5f 6c6f 7373 2873 656c 662c 2070  etz_loss(self, p
-0001aee0: 6561 6b5f 6375 7272 656e 743a 2066 6c6f  eak_current: flo
-0001aef0: 6174 203d 204e 6f6e 652c 206b 693a 2066  at = None, ki: f
-0001af00: 6c6f 6174 203d 2031 2c20 616c 7068 613a  loat = 1, alpha:
-0001af10: 2066 6c6f 6174 203d 2031 2e32 2c20 6265   float = 1.2, be
-0001af20: 7461 3a20 666c 6f61 7420 3d20 322e 322c  ta: float = 2.2,
-0001af30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001af40: 2020 2020 2020 2020 2020 2020 745f 7269              t_ri
-0001af50: 7365 3a20 666c 6f61 7420 3d20 3365 2d36  se: float = 3e-6
-0001af60: 2c20 745f 6661 6c6c 3a20 666c 6f61 7420  , t_fall: float 
-0001af70: 3d20 3365 2d36 2c0a 2020 2020 2020 2020  = 3e-6,.        
-0001af80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001af90: 2020 2066 5f73 7769 7463 683a 2066 6c6f     f_switch: flo
-0001afa0: 6174 203d 2031 3030 3030 302c 2073 6b69  at = 100000, ski
-0001afb0: 6e5f 6d65 7368 5f66 6163 746f 723a 2066  n_mesh_factor: f
-0001afc0: 6c6f 6174 203d 2030 2e35 293a 0a20 2020  loat = 0.5):.   
-0001afd0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0001afe0: 2047 6574 2063 6f72 6520 6c6f 7373 6573   Get core losses
-0001aff0: 2066 726f 6d20 7374 6569 6e6d 6574 7a20   from steinmetz 
-0001b000: 6170 7072 6f61 6368 2e0a 0a20 2020 2020  approach...     
-0001b010: 2020 203a 7061 7261 6d20 736b 696e 5f6d     :param skin_m
-0001b020: 6573 685f 6661 6374 6f72 3a0a 2020 2020  esh_factor:.    
-0001b030: 2020 2020 3a70 6172 616d 2070 6561 6b5f      :param peak_
-0001b040: 6375 7272 656e 743a 0a20 2020 2020 2020  current:.       
-0001b050: 203a 7061 7261 6d20 6b69 3a0a 2020 2020   :param ki:.    
-0001b060: 2020 2020 3a70 6172 616d 2061 6c70 6861      :param alpha
-0001b070: 3a0a 2020 2020 2020 2020 3a70 6172 616d  :.        :param
-0001b080: 2062 6574 613a 0a20 2020 2020 2020 203a   beta:.        :
-0001b090: 7061 7261 6d20 745f 7269 7365 3a0a 2020  param t_rise:.  
-0001b0a0: 2020 2020 2020 3a70 6172 616d 2074 5f66        :param t_f
-0001b0b0: 616c 6c3a 0a20 2020 2020 2020 203a 7061  all:.        :pa
-0001b0c0: 7261 6d20 665f 7377 6974 6368 3a0a 2020  ram f_switch:.  
-0001b0d0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001b0e0: 2020 7065 616b 5f63 7572 7265 6e74 203d    peak_current =
-0001b0f0: 2070 6561 6b5f 6375 7272 656e 7420 6f72   peak_current or
-0001b100: 205b 3130 2c20 3130 5d0a 0a20 2020 2020   [10, 10]..     
-0001b110: 2020 2073 656c 662e 636f 7265 2e73 7465     self.core.ste
-0001b120: 696e 6d65 747a 5f6c 6f73 7320 3d20 310a  inmetz_loss = 1.
-0001b130: 2020 2020 2020 2020 7365 6c66 2e49 7065          self.Ipe
-0001b140: 616b 203d 2070 6561 6b5f 6375 7272 656e  ak = peak_curren
-0001b150: 740a 2020 2020 2020 2020 7365 6c66 2e6b  t.        self.k
-0001b160: 6920 3d20 6b69 0a20 2020 2020 2020 2073  i = ki.        s
-0001b170: 656c 662e 616c 7068 6120 3d20 616c 7068  elf.alpha = alph
-0001b180: 610a 2020 2020 2020 2020 7365 6c66 2e62  a.        self.b
-0001b190: 6574 6120 3d20 6265 7461 0a20 2020 2020  eta = beta.     
-0001b1a0: 2020 2073 656c 662e 745f 7269 7365 203d     self.t_rise =
-0001b1b0: 2074 5f72 6973 650a 2020 2020 2020 2020   t_rise.        
-0001b1c0: 7365 6c66 2e74 5f66 616c 6c20 3d20 745f  self.t_fall = t_
-0001b1d0: 6661 6c6c 0a20 2020 2020 2020 2073 656c  fall.        sel
-0001b1e0: 662e 665f 7377 6974 6368 203d 2066 5f73  f.f_switch = f_s
-0001b1f0: 7769 7463 680a 0a20 2020 2020 2020 2023  witch..        #
-0001b200: 2054 4f44 4f3a 0a20 2020 2020 2020 2023   TODO:.        #
-0001b210: 2020 2d20 6b69 2063 616c 6375 6c61 7469    - ki calculati
-0001b220: 6f6e 0a20 2020 2020 2020 2023 2020 2d20  on.        #  - 
-0001b230: 616c 6c20 7069 6563 6577 6973 6520 6c69  all piecewise li
-0001b240: 6e65 6172 2066 756e 6374 696f 6e73 2028  near functions (
-0001b250: 745f 312c 2074 5f32 2c20 2e2e 2e20 7769  t_1, t_2, ... wi
-0001b260: 7468 2066 6f72 206c 6f6f 7020 696e 202e  th for loop in .
-0001b270: 7072 6f20 6669 6c65 290a 0a20 2020 2020  pro file)..     
-0001b280: 2020 2023 2043 616c 6c20 5369 6d75 6c61     # Call Simula
-0001b290: 7469 6f6e 0a20 2020 2020 2020 2023 2073  tion.        # s
-0001b2a0: 656c 662e 6869 6768 5f6c 6576 656c 5f67  elf.high_level_g
-0001b2b0: 656f 5f67 656e 2866 7265 7175 656e 6379  eo_gen(frequency
-0001b2c0: 3d30 2c20 736b 696e 5f6d 6573 685f 6661  =0, skin_mesh_fa
-0001b2d0: 6374 6f72 3d73 6b69 6e5f 6d65 7368 5f66  ctor=skin_mesh_f
-0001b2e0: 6163 746f 7229 0a20 2020 2020 2020 2023  actor).        #
-0001b2f0: 2073 656c 662e 6d65 7368 2e67 656e 6572   self.mesh.gener
-0001b300: 6174 655f 6d65 7368 2829 0a20 2020 2020  ate_mesh().     
-0001b310: 2020 2073 656c 662e 6578 6369 7461 7469     self.excitati
-0001b320: 6f6e 2866 7265 7175 656e 6379 3d66 5f73  on(frequency=f_s
-0001b330: 7769 7463 682c 2061 6d70 6c69 7475 6465  witch, amplitude
-0001b340: 5f6c 6973 743d 7065 616b 5f63 7572 7265  _list=peak_curre
-0001b350: 6e74 2c0a 2020 2020 2020 2020 2020 2020  nt,.            
-0001b360: 2020 2020 2020 2020 2020 2020 7068 6173              phas
-0001b370: 655f 6465 675f 6c69 7374 3d5b 302c 2031  e_deg_list=[0, 1
-0001b380: 3830 5d29 2020 2320 6672 6571 7565 6e63  80])  # frequenc
-0001b390: 7920 616e 6420 6375 7272 656e 740a 2020  y and current.  
-0001b3a0: 2020 2020 2020 7365 6c66 2e63 6865 636b        self.check
-0001b3b0: 5f6d 6f64 656c 5f6d 7173 5f63 6f6e 6469  _model_mqs_condi
-0001b3c0: 7469 6f6e 2829 0a20 2020 2020 2020 2073  tion().        s
-0001b3d0: 656c 662e 7772 6974 655f 7369 6d75 6c61  elf.write_simula
-0001b3e0: 7469 6f6e 5f70 6172 616d 6574 6572 735f  tion_parameters_
-0001b3f0: 746f 5f70 726f 5f66 696c 6573 2829 0a0a  to_pro_files()..
-0001b400: 2020 2020 6465 6620 7772 6974 655f 656c      def write_el
-0001b410: 6563 7472 6f5f 6d61 676e 6574 6963 5f70  ectro_magnetic_p
-0001b420: 6172 616d 6574 6572 5f70 726f 2873 656c  arameter_pro(sel
-0001b430: 6629 3a0a 2020 2020 2020 2020 2222 220a  f):.        """.
-0001b440: 2020 2020 2020 2020 5772 6974 6520 6d61          Write ma
-0001b450: 7465 7269 616c 7320 616e 6420 6f74 6865  terials and othe
-0001b460: 7220 7061 7261 6d65 7465 7273 2074 6f20  r parameters to 
-0001b470: 7468 6520 2250 6172 616d 6574 6572 2e70  the "Parameter.p
-0001b480: 726f 2220 6669 6c65 2e0a 0a20 2020 2020  ro" file...     
-0001b490: 2020 2054 6869 7320 6669 6c65 2069 7320     This file is 
-0001b4a0: 6765 6e65 7261 7465 6420 6279 2070 7974  generated by pyt
-0001b4b0: 686f 6e20 616e 6420 6973 2072 6561 6420  hon and is read 
-0001b4c0: 6279 2067 6d73 6820 746f 2068 616e 6420  by gmsh to hand 
-0001b4d0: 6f76 6572 2073 6f6d 6520 7061 7261 6d65  over some parame
-0001b4e0: 7465 7273 2e0a 0a20 2020 2020 2020 2053  ters...        S
-0001b4f0: 6f75 7263 6520 666f 7220 7468 6520 7061  ource for the pa
-0001b500: 7261 6d65 7465 7273 2069 7320 7468 6520  rameters is the 
-0001b510: 4d61 676e 6574 6963 436f 6d70 6f6e 656e  MagneticComponen
-0001b520: 7420 6f62 6a65 6374 2e0a 2020 2020 2020  t object..      
-0001b530: 2020 2222 220a 2020 2020 2020 2020 7465    """.        te
-0001b540: 7874 5f66 696c 6520 3d20 6f70 656e 286f  xt_file = open(o
-0001b550: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
-0001b560: 2e66 696c 655f 6461 7461 2e65 6c65 6374  .file_data.elect
-0001b570: 726f 5f6d 6167 6e65 7469 635f 666f 6c64  ro_magnetic_fold
-0001b580: 6572 5f70 6174 682c 2022 5061 7261 6d65  er_path, "Parame
-0001b590: 7465 722e 7072 6f22 292c 2022 7722 290a  ter.pro"), "w").
-0001b5a0: 0a20 2020 2020 2020 2023 204d 6167 6e65  .        # Magne
-0001b5b0: 7469 6320 436f 6d70 6f6e 656e 7420 5479  tic Component Ty
-0001b5c0: 7065 0a20 2020 2020 2020 2069 6620 7365  pe.        if se
-0001b5d0: 6c66 2e63 6f6d 706f 6e65 6e74 5f74 7970  lf.component_typ
-0001b5e0: 6520 3d3d 2043 6f6d 706f 6e65 6e74 5479  e == ComponentTy
-0001b5f0: 7065 2e49 6e64 7563 746f 723a 0a20 2020  pe.Inductor:.   
-0001b600: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001b610: 6c65 2e77 7269 7465 2822 4e75 6d62 6572  le.write("Number
-0001b620: 5f6f 665f 5769 6e64 696e 6773 203d 207b  _of_Windings = {
-0001b630: 7d3b 5c6e 222e 666f 726d 6174 286c 656e  };\n".format(len
-0001b640: 2873 656c 662e 7769 6e64 696e 6773 2929  (self.windings))
-0001b650: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
-0001b660: 6c66 2e63 6f6d 706f 6e65 6e74 5f74 7970  lf.component_typ
-0001b670: 6520 3d3d 2043 6f6d 706f 6e65 6e74 5479  e == ComponentTy
-0001b680: 7065 2e54 7261 6e73 666f 726d 6572 3a0a  pe.Transformer:.
-0001b690: 2020 2020 2020 2020 2020 2020 7465 7874              text
-0001b6a0: 5f66 696c 652e 7772 6974 6528 224e 756d  _file.write("Num
-0001b6b0: 6265 725f 6f66 5f57 696e 6469 6e67 7320  ber_of_Windings 
-0001b6c0: 3d20 7b7d 3b5c 6e22 2e66 6f72 6d61 7428  = {};\n".format(
-0001b6d0: 6c65 6e28 7365 6c66 2e77 696e 6469 6e67  len(self.winding
-0001b6e0: 7329 2929 0a0a 2020 2020 2020 2020 6966  s)))..        if
-0001b6f0: 2073 656c 662e 636f 6d70 6f6e 656e 745f   self.component_
-0001b700: 7479 7065 203d 3d20 436f 6d70 6f6e 656e  type == Componen
-0001b710: 7454 7970 652e 496e 7465 6772 6174 6564  tType.Integrated
-0001b720: 5472 616e 7366 6f72 6d65 723a 0a20 2020  Transformer:.   
-0001b730: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001b740: 6c65 2e77 7269 7465 2822 4e75 6d62 6572  le.write("Number
-0001b750: 5f6f 665f 5769 6e64 696e 6773 203d 207b  _of_Windings = {
-0001b760: 7d3b 5c6e 222e 666f 726d 6174 286c 656e  };\n".format(len
-0001b770: 2873 656c 662e 7769 6e64 696e 6773 2929  (self.windings))
-0001b780: 290a 0a20 2020 2020 2020 2069 6620 7365  )..        if se
-0001b790: 6c66 2e73 696d 756c 6174 696f 6e5f 7479  lf.simulation_ty
-0001b7a0: 7065 203d 3d20 5369 6d75 6c61 7469 6f6e  pe == Simulation
-0001b7b0: 5479 7065 2e46 7265 7144 6f6d 6169 6e3a  Type.FreqDomain:
-0001b7c0: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
-0001b7d0: 745f 6669 6c65 2e77 7269 7465 2822 466c  t_file.write("Fl
-0001b7e0: 6167 5f46 7265 715f 446f 6d61 696e 203d  ag_Freq_Domain =
-0001b7f0: 2031 3b5c 6e22 290a 2020 2020 2020 2020   1;\n").        
-0001b800: 2020 2020 7465 7874 5f66 696c 652e 7772      text_file.wr
-0001b810: 6974 6528 2246 6c61 675f 5469 6d65 5f44  ite("Flag_Time_D
-0001b820: 6f6d 6169 6e20 3d20 303b 5c6e 2229 0a20  omain = 0;\n"). 
-0001b830: 2020 2020 2020 2020 2020 2074 6578 745f             text_
-0001b840: 6669 6c65 2e77 7269 7465 2822 466c 6167  file.write("Flag
-0001b850: 5f53 7461 7469 6320 3d20 303b 5c6e 2229  _Static = 0;\n")
-0001b860: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
-0001b870: 662e 7369 6d75 6c61 7469 6f6e 5f74 7970  f.simulation_typ
-0001b880: 6520 3d3d 2053 696d 756c 6174 696f 6e54  e == SimulationT
-0001b890: 7970 652e 5469 6d65 446f 6d61 696e 3a0a  ype.TimeDomain:.
-0001b8a0: 2020 2020 2020 2020 2020 2020 7465 7874              text
-0001b8b0: 5f66 696c 652e 7772 6974 6528 2246 6c61  _file.write("Fla
-0001b8c0: 675f 5469 6d65 5f44 6f6d 6169 6e20 3d20  g_Time_Domain = 
-0001b8d0: 313b 5c6e 2229 0a20 2020 2020 2020 2020  1;\n").         
-0001b8e0: 2020 2074 6578 745f 6669 6c65 2e77 7269     text_file.wri
-0001b8f0: 7465 2822 466c 6167 5f46 7265 715f 446f  te("Flag_Freq_Do
-0001b900: 6d61 696e 203d 2030 3b5c 6e22 290a 2020  main = 0;\n").  
-0001b910: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
-0001b920: 696c 652e 7772 6974 6528 2246 6c61 675f  ile.write("Flag_
-0001b930: 5374 6174 6963 203d 2030 3b5c 6e22 290a  Static = 0;\n").
-0001b940: 0a20 2020 2020 2020 2023 2046 7265 7175  .        # Frequ
-0001b950: 656e 6379 0a20 2020 2020 2020 2074 6578  ency.        tex
-0001b960: 745f 6669 6c65 2e77 7269 7465 2822 4672  t_file.write("Fr
-0001b970: 6571 203d 2025 733b 5c6e 2220 2520 7365  eq = %s;\n" % se
-0001b980: 6c66 2e66 7265 7175 656e 6379 290a 2020  lf.frequency).  
-0001b990: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
-0001b9a0: 7772 6974 6528 6622 6465 6c74 6120 3d20  write(f"delta = 
-0001b9b0: 7b73 656c 662e 6465 6c74 617d 3b5c 6e22  {self.delta};\n"
-0001b9c0: 290a 0a20 2020 2020 2020 2023 2043 6f72  )..        # Cor
-0001b9d0: 6520 4c6f 7373 0a20 2020 2020 2020 2074  e Loss.        t
-0001b9e0: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
-0001b9f0: 2246 6c61 675f 5374 6569 6e6d 6574 7a5f  "Flag_Steinmetz_
-0001ba00: 6c6f 7373 203d 207b 7365 6c66 2e63 6f72  loss = {self.cor
-0001ba10: 652e 7374 6569 6e6d 6574 7a5f 6c6f 7373  e.steinmetz_loss
-0001ba20: 7d3b 5c6e 2229 0a20 2020 2020 2020 2074  };\n").        t
-0001ba30: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
-0001ba40: 2246 6c61 675f 4765 6e65 7261 6c69 7a65  "Flag_Generalize
-0001ba50: 645f 5374 6569 6e6d 6574 7a5f 6c6f 7373  d_Steinmetz_loss
-0001ba60: 203d 207b 7365 6c66 2e63 6f72 652e 6765   = {self.core.ge
-0001ba70: 6e65 7261 6c69 7a65 645f 7374 6569 6e6d  neralized_steinm
-0001ba80: 6574 7a5f 6c6f 7373 7d3b 5c6e 2229 0a0a  etz_loss};\n")..
-0001ba90: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-0001baa0: 636f 7265 2e73 6967 6d61 2021 3d20 3020  core.sigma != 0 
-0001bab0: 616e 6420 7365 6c66 2e63 6f72 652e 7369  and self.core.si
-0001bac0: 676d 6120 6973 206e 6f74 204e 6f6e 653a  gma is not None:
-0001bad0: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
-0001bae0: 745f 6669 6c65 2e77 7269 7465 2822 466c  t_file.write("Fl
-0001baf0: 6167 5f43 6f6e 6475 6374 696e 675f 436f  ag_Conducting_Co
-0001bb00: 7265 203d 2031 3b5c 6e22 290a 2020 2020  re = 1;\n").    
-0001bb10: 2020 2020 2020 2020 6966 2069 7369 6e73          if isins
-0001bb20: 7461 6e63 6528 7365 6c66 2e63 6f72 652e  tance(self.core.
-0001bb30: 7369 676d 612c 2073 7472 293a 0a20 2020  sigma, str):.   
-0001bb40: 2020 2020 2020 2020 2020 2020 2023 2054               # T
-0001bb50: 4f44 4f3a 204d 616b 6520 666f 6c6c 6f77  ODO: Make follow
-0001bb60: 696e 6720 6465 6669 6e69 7469 6f6e 2067  ing definition g
-0001bb70: 656e 6572 616c 0a20 2020 2020 2020 2020  eneral.         
-0001bb80: 2020 2020 2020 2023 2073 656c 662e 636f         # self.co
-0001bb90: 7265 2e73 6967 6d61 203d 2032 202a 206e  re.sigma = 2 * n
-0001bba0: 702e 7069 202a 2073 656c 662e 6672 6571  p.pi * self.freq
-0001bbb0: 7565 6e63 7920 2a20 6570 7369 6c6f 6e5f  uency * epsilon_
-0001bbc0: 3020 2a20 665f 4e39 355f 6572 5f69 6d61  0 * f_N95_er_ima
-0001bbd0: 6728 663d 7365 6c66 2e66 7265 7175 656e  g(f=self.frequen
-0001bbe0: 6379 2920 2b20 3120 2f20 360a 2020 2020  cy) + 1 / 6.    
-0001bbf0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001bc00: 2e63 6f72 652e 7369 676d 6120 3d20 3120  .core.sigma = 1 
-0001bc10: 2f20 360a 2020 2020 2020 2020 2020 2020  / 6.            
-0001bc20: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
-0001bc30: 6622 7369 676d 615f 636f 7265 203d 207b  f"sigma_core = {
-0001bc40: 7365 6c66 2e63 6f72 652e 7369 676d 612e  self.core.sigma.
-0001bc50: 7265 616c 7d3b 5c6e 2229 0a20 2020 2020  real};\n").     
-0001bc60: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
-0001bc70: 2e77 7269 7465 2866 2273 6967 6d61 5f63  .write(f"sigma_c
-0001bc80: 6f72 655f 696d 6167 203d 207b 7365 6c66  ore_imag = {self
-0001bc90: 2e63 6f72 652e 7369 676d 612e 696d 6167  .core.sigma.imag
-0001bca0: 7d3b 5c6e 2229 0a20 2020 2020 2020 2065  };\n").        e
-0001bcb0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0001bcc0: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
-0001bcd0: 2822 466c 6167 5f43 6f6e 6475 6374 696e  ("Flag_Conductin
-0001bce0: 675f 436f 7265 203d 2030 3b5c 6e22 290a  g_Core = 0;\n").
-0001bcf0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0001bd00: 2e63 6f72 652e 7374 6569 6e6d 6574 7a5f  .core.steinmetz_
-0001bd10: 6c6f 7373 3a0a 2020 2020 2020 2020 2020  loss:.          
+0001a780: 2020 2020 2020 6622 542d 4543 4420 284c        f"T-ECD (L
+0001a790: 6820 6f6e 2070 7269 6d61 7279 2073 6964  h on primary sid
+0001a7a0: 6529 3a5c 6e22 0a20 2020 2020 2020 2020  e):\n".         
+0001a7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a7c0: 2020 2020 6622 2020 2020 2d20 5072 696d      f"    - Prim
+0001a7d0: 6172 7920 5369 6465 2053 7472 6179 2049  ary Side Stray I
+0001a7e0: 6e64 7563 7461 6e63 653a 204c 5f73 315c  nductance: L_s1\
+0001a7f0: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
+0001a800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a810: 6622 2020 2020 2d20 5365 636f 6e64 6172  f"    - Secondar
+0001a820: 7920 5369 6465 2053 7472 6179 2049 6e64  y Side Stray Ind
+0001a830: 7563 7461 6e63 653a 204c 5f73 325c 6e22  uctance: L_s2\n"
+0001a840: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001a850: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001a860: 2020 2020 2d20 5465 7274 6961 7279 2053      - Tertiary S
+0001a870: 6964 6520 5374 7261 7920 496e 6475 6374  ide Stray Induct
+0001a880: 616e 6365 3a20 4c5f 7333 5c6e 220a 2020  ance: L_s3\n".  
+0001a890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a8a0: 2020 2020 2020 2020 2020 2066 2220 2020             f"   
+0001a8b0: 202d 2054 7261 6e73 666f 726d 6174 696f   - Transformatio
+0001a8c0: 6e20 5261 7469 6f20 7769 7468 2072 6573  n Ratio with res
+0001a8d0: 7065 6374 2074 6f20 7468 6520 7072 696d  pect to the prim
+0001a8e0: 6172 7920 616e 6420 7468 6520 5365 636f  ary and the Seco
+0001a8f0: 6e64 6172 793a 206e 325c 6e22 0a20 2020  ndary: n2\n".   
+0001a900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a910: 2020 2020 2020 2020 2020 6622 2020 2020            f"    
+0001a920: 2d20 5472 616e 7366 6f72 6d61 7469 6f6e  - Transformation
+0001a930: 2052 6174 696f 2077 6974 6820 7265 7370   Ratio with resp
+0001a940: 6563 7420 746f 2074 6865 2070 7269 6d61  ect to the prima
+0001a950: 7279 2061 6e64 2074 6865 2054 6572 7469  ry and the Terti
+0001a960: 6172 793a 206e 335c 6e22 0a20 2020 2020  ary: n3\n".     
+0001a970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a980: 2020 2020 2020 2020 6622 2020 2020 2d20          f"    - 
+0001a990: 5072 696d 6172 7920 5369 6465 204d 6169  Primary Side Mai
+0001a9a0: 6e20 496e 6475 6374 616e 6365 3a20 4c5f  n Inductance: L_
+0001a9b0: 685c 6e22 0a20 2020 2020 2020 2020 2020  h\n".           
+0001a9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001a9d0: 2020 6622 4c5f 7331 203d 204c 5f31 5f31    f"L_s1 = L_1_1
+0001a9e0: 202d 204d 5f31 3220 2a20 4d5f 3133 202f   - M_12 * M_13 /
+0001a9f0: 204d 5f32 3320 3d20 7b73 656c 662e 4c5f   M_23 = {self.L_
+0001aa00: 7331 7d5c 6e22 0a20 2020 2020 2020 2020  s1}\n".         
+0001aa10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa20: 2020 2020 6622 4c5f 7332 203d 204c 5f32      f"L_s2 = L_2
+0001aa30: 5f32 202d 204d 5f31 3220 2a20 4d5f 3233  _2 - M_12 * M_23
+0001aa40: 202f 204d 5f31 3320 3d20 7b73 656c 662e   / M_13 = {self.
+0001aa50: 4c5f 7332 7d5c 6e22 0a20 2020 2020 2020  L_s2}\n".       
+0001aa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aa70: 2020 2020 2020 6622 4c5f 7333 203d 204c        f"L_s3 = L
+0001aa80: 5f33 5f33 202d 204d 5f31 3320 2a20 4d5f  _3_3 - M_13 * M_
+0001aa90: 3233 202f 204d 5f31 3220 3d20 7b73 656c  23 / M_12 = {sel
+0001aaa0: 662e 4c5f 7333 7d5c 6e22 0a20 2020 2020  f.L_s3}\n".     
+0001aab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001aac0: 2020 2020 2020 2020 6622 6e5f 3132 203d          f"n_12 =
+0001aad0: 206e 702e 7371 7274 2873 656c 662e 4c5f   np.sqrt(self.L_
+0001aae0: 315f 312f 7365 6c66 2e4c 5f32 5f32 2920  1_1/self.L_2_2) 
+0001aaf0: 3d20 7b73 656c 662e 6e5f 3132 7d5c 6e22  = {self.n_12}\n"
+0001ab00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001ab10: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001ab20: 6e5f 3133 203d 206e 702e 7371 7274 2873  n_13 = np.sqrt(s
+0001ab30: 656c 662e 4c5f 315f 312f 7365 6c66 2e4c  elf.L_1_1/self.L
+0001ab40: 5f33 5f33 2920 3d20 7b73 656c 662e 6e5f  _3_3) = {self.n_
+0001ab50: 3133 7d5c 6e22 0a20 2020 2020 2020 2020  13}\n".         
+0001ab60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ab70: 2020 2020 6622 6e5f 3233 203d 206e 702e      f"n_23 = np.
+0001ab80: 7371 7274 2873 656c 662e 4c5f 325f 322f  sqrt(self.L_2_2/
+0001ab90: 7365 6c66 2e4c 5f33 5f33 2920 3d20 7b73  self.L_3_3) = {s
+0001aba0: 656c 662e 6e5f 3233 7d5c 6e22 0a20 2020  elf.n_23}\n".   
+0001abb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001abc0: 2020 2020 2020 2020 2020 6622 4c5f 6820            f"L_h 
+0001abd0: 3d20 4d5f 3132 202a 204d 5f31 3320 2f20  = M_12 * M_13 / 
+0001abe0: 4d5f 3233 203d 207b 7365 6c66 2e4c 5f68  M_23 = {self.L_h
+0001abf0: 7d5c 6e5c 6e22 0a20 2020 2020 2020 2020  }\n\n".         
+0001ac00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac10: 2020 2020 6622 5368 6f72 7463 7574 2049      f"Shortcut I
+0001ac20: 6e64 7563 7461 6e63 6573 204c 5f73 6e6d  nductances L_snm
+0001ac30: 206d 6561 7375 7265 6420 6f6e 2077 696e   measured on win
+0001ac40: 6469 6e67 206e 2077 6974 6820 7368 6f72  ding n with shor
+0001ac50: 7420 6170 706c 6965 6420 746f 2077 696e  t applied to win
+0001ac60: 6469 6e67 206d 5c6e 220a 2020 2020 2020  ding m\n".      
+0001ac70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ac80: 2020 2020 2020 2066 224c 5f73 3132 203d         f"L_s12 =
+0001ac90: 204c 5f73 3120 2b20 6e5f 3132 2a2a 3220   L_s1 + n_12**2 
+0001aca0: 2a20 4c5f 7332 203d 207b 7365 6c66 2e4c  * L_s2 = {self.L
+0001acb0: 5f73 3132 7d5c 6e22 0a20 2020 2020 2020  _s12}\n".       
+0001acc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001acd0: 2020 2020 2020 6622 4c5f 7331 3320 3d20        f"L_s13 = 
+0001ace0: 4c5f 7331 202b 206e 5f31 332a 2a32 202a  L_s1 + n_13**2 *
+0001acf0: 204c 5f73 3320 3d20 7b73 656c 662e 4c5f   L_s3 = {self.L_
+0001ad00: 7331 337d 5c6e 220a 2020 2020 2020 2020  s13}\n".        
+0001ad10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ad20: 2020 2020 2066 224c 5f73 3233 203d 204c       f"L_s23 = L
+0001ad30: 5f73 3220 2b20 286e 5f31 332f 6e5f 3132  _s2 + (n_13/n_12
+0001ad40: 292a 2a32 202a 204c 5f73 3320 3d20 7b73  )**2 * L_s3 = {s
+0001ad50: 656c 662e 4c5f 7332 337d 5c6e 220a 2020  elf.L_s23}\n".  
+0001ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ad70: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0001ad80: 2020 2020 2020 2020 2022 2222 0a20 2020           """.   
+0001ad90: 2020 2020 2020 2020 2023 2053 7472 6179           # Stray
+0001ada0: 2049 6e64 7563 7461 6e63 6520 636f 6e63   Inductance conc
+0001adb0: 656e 7472 6174 6564 206f 6e20 5072 696d  entrated on Prim
+0001adc0: 6172 7920 5369 6465 0a20 2020 2020 2020  ary Side.       
+0001add0: 2020 2020 2073 656c 662e 6e5f 636f 6e63       self.n_conc
+0001ade0: 203d 2073 656c 662e 4d20 2f20 7365 6c66   = self.M / self
+0001adf0: 2e4c 5f32 5f32 0a20 2020 2020 2020 2020  .L_2_2.         
+0001ae00: 2020 2073 656c 662e 4c5f 735f 636f 6e63     self.L_s_conc
+0001ae10: 203d 2028 3120 2d20 6b20 2a2a 2032 2920   = (1 - k ** 2) 
+0001ae20: 2a20 7365 6c66 2e4c 5f31 5f31 0a20 2020  * self.L_1_1.   
+0001ae30: 2020 2020 2020 2020 2073 656c 662e 4c5f           self.L_
+0001ae40: 685f 636f 6e63 203d 2073 656c 662e 4d20  h_conc = self.M 
+0001ae50: 2a2a 2032 202f 2073 656c 662e 4c5f 325f  ** 2 / self.L_2_
+0001ae60: 320a 0a20 2020 2020 2020 2020 2020 2073  2..            s
+0001ae70: 656c 662e 6665 6d6d 745f 7072 696e 7428  elf.femmt_print(
+0001ae80: 6622 5c6e 220a 2020 2020 2020 2020 2020  f"\n".          
+0001ae90: 2020 2020 2020 6622 542d 4543 4420 2870        f"T-ECD (p
+0001aea0: 7269 6d61 7279 2073 6964 6520 636f 6e63  rimary side conc
+0001aeb0: 656e 7472 6174 6564 293a 5c6e 220a 2020  entrated):\n".  
+0001aec0: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001aed0: 5b55 6e64 6572 6465 7465 726d 696e 6564  [Underdetermined
+0001aee0: 2053 7973 7465 6d3a 206e 203a 3d20 4d20   System: n := M 
+0001aef0: 2f20 4c5f 325f 3220 202d 2d3e 2020 4c5f  / L_2_2  -->  L_
+0001af00: 7332 203d 204c 5f32 5f32 202d 204d 202f  s2 = L_2_2 - M /
+0001af10: 206e 203d 2030 5d5c 6e22 0a20 2020 2020   n = 0]\n".     
+0001af20: 2020 2020 2020 2020 2020 2066 2220 2020             f"   
+0001af30: 202d 2054 7261 6e73 666f 726d 6174 696f   - Transformatio
+0001af40: 6e20 5261 7469 6f3a 206e 5c6e 220a 2020  n Ratio: n\n".  
+0001af50: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001af60: 2020 2020 2d20 2850 7269 6d61 7279 2920      - (Primary) 
+0001af70: 5374 7261 7920 496e 6475 6374 616e 6365  Stray Inductance
+0001af80: 3a20 4c5f 7331 5c6e 220a 2020 2020 2020  : L_s1\n".      
+0001af90: 2020 2020 2020 2020 2020 6622 2020 2020            f"    
+0001afa0: 2d20 5072 696d 6172 7920 5369 6465 204d  - Primary Side M
+0001afb0: 6169 6e20 496e 6475 6374 616e 6365 3a20  ain Inductance: 
+0001afc0: 4c5f 685c 6e22 0a20 2020 2020 2020 2020  L_h\n".         
+0001afd0: 2020 2020 2020 2066 226e 203a 3d20 4d20         f"n := M 
+0001afe0: 2f20 4c5f 325f 3220 3d20 6b20 2a20 5371  / L_2_2 = k * Sq
+0001aff0: 7274 284c 5f31 5f31 202f 204c 5f32 5f32  rt(L_1_1 / L_2_2
+0001b000: 2920 3d20 7b73 656c 662e 6e5f 636f 6e63  ) = {self.n_conc
+0001b010: 7d5c 6e22 0a20 2020 2020 2020 2020 2020  }\n".           
+0001b020: 2020 2020 2066 224c 5f73 3120 3d20 2831       f"L_s1 = (1
+0001b030: 202d 206b 5e32 2920 2a20 4c5f 315f 3120   - k^2) * L_1_1 
+0001b040: 3d20 7b73 656c 662e 4c5f 735f 636f 6e63  = {self.L_s_conc
+0001b050: 7d5c 6e22 0a20 2020 2020 2020 2020 2020  }\n".           
+0001b060: 2020 2020 2066 224c 5f68 203d 204d 5e32       f"L_h = M^2
+0001b070: 202f 204c 5f32 5f32 203d 206b 5e32 202a   / L_2_2 = k^2 *
+0001b080: 204c 5f31 5f31 203d 207b 7365 6c66 2e4c   L_1_1 = {self.L
+0001b090: 5f68 5f63 6f6e 637d 5c6e 220a 2020 2020  _h_conc}\n".    
+0001b0a0: 2020 2020 2020 2020 2020 2020 290a 2020              ).  
+0001b0b0: 2020 2020 2020 2020 2020 2222 220a 0a20            """.. 
+0001b0c0: 2020 2020 2020 2020 2020 2069 6e64 7563             induc
+0001b0d0: 7461 6e63 6573 203d 2054 6872 6565 5769  tances = ThreeWi
+0001b0e0: 6e64 696e 6754 7261 6e73 666f 726d 6572  ndingTransformer
+0001b0f0: 496e 6475 6374 616e 6365 280a 2020 2020  Inductance(.    
+0001b100: 2020 2020 2020 2020 2020 2020 4d5f 3132              M_12
+0001b110: 3d73 656c 662e 4d5f 3132 2c0a 2020 2020  =self.M_12,.    
+0001b120: 2020 2020 2020 2020 2020 2020 4d5f 3133              M_13
+0001b130: 3d73 656c 662e 4d5f 3133 2c0a 2020 2020  =self.M_13,.    
+0001b140: 2020 2020 2020 2020 2020 2020 4d5f 3233              M_23
+0001b150: 3d73 656c 662e 4d5f 3233 2c0a 2020 2020  =self.M_23,.    
+0001b160: 2020 2020 2020 2020 2020 2020 4c5f 7331              L_s1
+0001b170: 3d73 656c 662e 4c5f 7331 2c0a 2020 2020  =self.L_s1,.    
+0001b180: 2020 2020 2020 2020 2020 2020 4c5f 7332              L_s2
+0001b190: 3d73 656c 662e 4c5f 7332 2c0a 2020 2020  =self.L_s2,.    
+0001b1a0: 2020 2020 2020 2020 2020 2020 4c5f 7333              L_s3
+0001b1b0: 3d73 656c 662e 4c5f 7333 2c0a 2020 2020  =self.L_s3,.    
+0001b1c0: 2020 2020 2020 2020 2020 2020 4c5f 683d              L_h=
+0001b1d0: 7365 6c66 2e4c 5f68 2c0a 2020 2020 2020  self.L_h,.      
+0001b1e0: 2020 2020 2020 2020 2020 6e5f 3132 3d73            n_12=s
+0001b1f0: 656c 662e 6e5f 3132 2c0a 2020 2020 2020  elf.n_12,.      
+0001b200: 2020 2020 2020 2020 2020 6e5f 3133 3d73            n_13=s
+0001b210: 656c 662e 6e5f 3133 2c0a 2020 2020 2020  elf.n_13,.      
+0001b220: 2020 2020 2020 2020 2020 6e5f 3233 3d73            n_23=s
+0001b230: 656c 662e 6e5f 3233 2c0a 2020 2020 2020  elf.n_23,.      
+0001b240: 2020 2020 2020 2020 2020 4c5f 7331 323d            L_s12=
+0001b250: 7365 6c66 2e4c 5f73 3132 2c0a 2020 2020  self.L_s12,.    
+0001b260: 2020 2020 2020 2020 2020 2020 4c5f 7331              L_s1
+0001b270: 333d 7365 6c66 2e4c 5f73 3133 2c0a 2020  3=self.L_s13,.  
+0001b280: 2020 2020 2020 2020 2020 2020 2020 4c5f                L_
+0001b290: 7332 333d 7365 6c66 2e4c 5f73 3233 0a20  s23=self.L_s23. 
+0001b2a0: 2020 2020 2020 2020 2020 2029 0a20 2020             ).   
+0001b2b0: 2020 2020 2020 2020 2072 6574 7572 6e20           return 
+0001b2c0: 6461 7461 636c 6173 7365 732e 6173 6469  dataclasses.asdi
+0001b2d0: 6374 2869 6e64 7563 7461 6e63 6573 290a  ct(inductances).
+0001b2e0: 0a20 2020 2020 2020 2023 2073 656c 662e  .        # self.
+0001b2f0: 7669 7375 616c 697a 6528 290a 0a20 2020  visualize()..   
+0001b300: 2064 6566 2067 6574 5f73 7465 696e 6d65   def get_steinme
+0001b310: 747a 5f6c 6f73 7328 7365 6c66 2c20 7065  tz_loss(self, pe
+0001b320: 616b 5f63 7572 7265 6e74 3a20 666c 6f61  ak_current: floa
+0001b330: 7420 3d20 4e6f 6e65 2c20 6b69 3a20 666c  t = None, ki: fl
+0001b340: 6f61 7420 3d20 312c 2061 6c70 6861 3a20  oat = 1, alpha: 
+0001b350: 666c 6f61 7420 3d20 312e 322c 2062 6574  float = 1.2, bet
+0001b360: 613a 2066 6c6f 6174 203d 2032 2e32 2c0a  a: float = 2.2,.
+0001b370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b380: 2020 2020 2020 2020 2020 2074 5f72 6973             t_ris
+0001b390: 653a 2066 6c6f 6174 203d 2033 652d 362c  e: float = 3e-6,
+0001b3a0: 2074 5f66 616c 6c3a 2066 6c6f 6174 203d   t_fall: float =
+0001b3b0: 2033 652d 362c 0a20 2020 2020 2020 2020   3e-6,.         
+0001b3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b3d0: 2020 665f 7377 6974 6368 3a20 666c 6f61    f_switch: floa
+0001b3e0: 7420 3d20 3130 3030 3030 2c20 736b 696e  t = 100000, skin
+0001b3f0: 5f6d 6573 685f 6661 6374 6f72 3a20 666c  _mesh_factor: fl
+0001b400: 6f61 7420 3d20 302e 3529 3a0a 2020 2020  oat = 0.5):.    
+0001b410: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001b420: 4765 7420 636f 7265 206c 6f73 7365 7320  Get core losses 
+0001b430: 6672 6f6d 2073 7465 696e 6d65 747a 2061  from steinmetz a
+0001b440: 7070 726f 6163 682e 0a0a 2020 2020 2020  pproach...      
+0001b450: 2020 3a70 6172 616d 2073 6b69 6e5f 6d65    :param skin_me
+0001b460: 7368 5f66 6163 746f 723a 0a20 2020 2020  sh_factor:.     
+0001b470: 2020 203a 7061 7261 6d20 7065 616b 5f63     :param peak_c
+0001b480: 7572 7265 6e74 3a0a 2020 2020 2020 2020  urrent:.        
+0001b490: 3a70 6172 616d 206b 693a 0a20 2020 2020  :param ki:.     
+0001b4a0: 2020 203a 7061 7261 6d20 616c 7068 613a     :param alpha:
+0001b4b0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0001b4c0: 6265 7461 3a0a 2020 2020 2020 2020 3a70  beta:.        :p
+0001b4d0: 6172 616d 2074 5f72 6973 653a 0a20 2020  aram t_rise:.   
+0001b4e0: 2020 2020 203a 7061 7261 6d20 745f 6661       :param t_fa
+0001b4f0: 6c6c 3a0a 2020 2020 2020 2020 3a70 6172  ll:.        :par
+0001b500: 616d 2066 5f73 7769 7463 683a 0a20 2020  am f_switch:.   
+0001b510: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001b520: 2070 6561 6b5f 6375 7272 656e 7420 3d20   peak_current = 
+0001b530: 7065 616b 5f63 7572 7265 6e74 206f 7220  peak_current or 
+0001b540: 5b31 302c 2031 305d 0a0a 2020 2020 2020  [10, 10]..      
+0001b550: 2020 7365 6c66 2e63 6f72 652e 7374 6569    self.core.stei
+0001b560: 6e6d 6574 7a5f 6c6f 7373 203d 2031 0a20  nmetz_loss = 1. 
+0001b570: 2020 2020 2020 2073 656c 662e 4970 6561         self.Ipea
+0001b580: 6b20 3d20 7065 616b 5f63 7572 7265 6e74  k = peak_current
+0001b590: 0a20 2020 2020 2020 2073 656c 662e 6b69  .        self.ki
+0001b5a0: 203d 206b 690a 2020 2020 2020 2020 7365   = ki.        se
+0001b5b0: 6c66 2e61 6c70 6861 203d 2061 6c70 6861  lf.alpha = alpha
+0001b5c0: 0a20 2020 2020 2020 2073 656c 662e 6265  .        self.be
+0001b5d0: 7461 203d 2062 6574 610a 2020 2020 2020  ta = beta.      
+0001b5e0: 2020 7365 6c66 2e74 5f72 6973 6520 3d20    self.t_rise = 
+0001b5f0: 745f 7269 7365 0a20 2020 2020 2020 2073  t_rise.        s
+0001b600: 656c 662e 745f 6661 6c6c 203d 2074 5f66  elf.t_fall = t_f
+0001b610: 616c 6c0a 2020 2020 2020 2020 7365 6c66  all.        self
+0001b620: 2e66 5f73 7769 7463 6820 3d20 665f 7377  .f_switch = f_sw
+0001b630: 6974 6368 0a0a 2020 2020 2020 2020 2320  itch..        # 
+0001b640: 544f 444f 3a0a 2020 2020 2020 2020 2320  TODO:.        # 
+0001b650: 202d 206b 6920 6361 6c63 756c 6174 696f   - ki calculatio
+0001b660: 6e0a 2020 2020 2020 2020 2320 202d 2061  n.        #  - a
+0001b670: 6c6c 2070 6965 6365 7769 7365 206c 696e  ll piecewise lin
+0001b680: 6561 7220 6675 6e63 7469 6f6e 7320 2874  ear functions (t
+0001b690: 5f31 2c20 745f 322c 202e 2e2e 2077 6974  _1, t_2, ... wit
+0001b6a0: 6820 666f 7220 6c6f 6f70 2069 6e20 2e70  h for loop in .p
+0001b6b0: 726f 2066 696c 6529 0a0a 2020 2020 2020  ro file)..      
+0001b6c0: 2020 2320 4361 6c6c 2053 696d 756c 6174    # Call Simulat
+0001b6d0: 696f 6e0a 2020 2020 2020 2020 2320 7365  ion.        # se
+0001b6e0: 6c66 2e68 6967 685f 6c65 7665 6c5f 6765  lf.high_level_ge
+0001b6f0: 6f5f 6765 6e28 6672 6571 7565 6e63 793d  o_gen(frequency=
+0001b700: 302c 2073 6b69 6e5f 6d65 7368 5f66 6163  0, skin_mesh_fac
+0001b710: 746f 723d 736b 696e 5f6d 6573 685f 6661  tor=skin_mesh_fa
+0001b720: 6374 6f72 290a 2020 2020 2020 2020 2320  ctor).        # 
+0001b730: 7365 6c66 2e6d 6573 682e 6765 6e65 7261  self.mesh.genera
+0001b740: 7465 5f6d 6573 6828 290a 2020 2020 2020  te_mesh().      
+0001b750: 2020 7365 6c66 2e65 7863 6974 6174 696f    self.excitatio
+0001b760: 6e28 6672 6571 7565 6e63 793d 665f 7377  n(frequency=f_sw
+0001b770: 6974 6368 2c20 616d 706c 6974 7564 655f  itch, amplitude_
+0001b780: 6c69 7374 3d70 6561 6b5f 6375 7272 656e  list=peak_curren
+0001b790: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
+0001b7a0: 2020 2020 2020 2020 2020 2070 6861 7365             phase
+0001b7b0: 5f64 6567 5f6c 6973 743d 5b30 2c20 3138  _deg_list=[0, 18
+0001b7c0: 305d 2920 2023 2066 7265 7175 656e 6379  0])  # frequency
+0001b7d0: 2061 6e64 2063 7572 7265 6e74 0a20 2020   and current.   
+0001b7e0: 2020 2020 2073 656c 662e 6368 6563 6b5f       self.check_
+0001b7f0: 6d6f 6465 6c5f 6d71 735f 636f 6e64 6974  model_mqs_condit
+0001b800: 696f 6e28 290a 2020 2020 2020 2020 7365  ion().        se
+0001b810: 6c66 2e77 7269 7465 5f73 696d 756c 6174  lf.write_simulat
+0001b820: 696f 6e5f 7061 7261 6d65 7465 7273 5f74  ion_parameters_t
+0001b830: 6f5f 7072 6f5f 6669 6c65 7328 290a 0a20  o_pro_files().. 
+0001b840: 2020 2064 6566 2077 7269 7465 5f65 6c65     def write_ele
+0001b850: 6374 726f 5f6d 6167 6e65 7469 635f 7061  ctro_magnetic_pa
+0001b860: 7261 6d65 7465 725f 7072 6f28 7365 6c66  rameter_pro(self
+0001b870: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
+0001b880: 2020 2020 2020 2057 7269 7465 206d 6174         Write mat
+0001b890: 6572 6961 6c73 2061 6e64 206f 7468 6572  erials and other
+0001b8a0: 2070 6172 616d 6574 6572 7320 746f 2074   parameters to t
+0001b8b0: 6865 2022 5061 7261 6d65 7465 722e 7072  he "Parameter.pr
+0001b8c0: 6f22 2066 696c 652e 0a0a 2020 2020 2020  o" file...      
+0001b8d0: 2020 5468 6973 2066 696c 6520 6973 2067    This file is g
+0001b8e0: 656e 6572 6174 6564 2062 7920 7079 7468  enerated by pyth
+0001b8f0: 6f6e 2061 6e64 2069 7320 7265 6164 2062  on and is read b
+0001b900: 7920 676d 7368 2074 6f20 6861 6e64 206f  y gmsh to hand o
+0001b910: 7665 7220 736f 6d65 2070 6172 616d 6574  ver some paramet
+0001b920: 6572 732e 0a0a 2020 2020 2020 2020 536f  ers...        So
+0001b930: 7572 6365 2066 6f72 2074 6865 2070 6172  urce for the par
+0001b940: 616d 6574 6572 7320 6973 2074 6865 204d  ameters is the M
+0001b950: 6167 6e65 7469 6343 6f6d 706f 6e65 6e74  agneticComponent
+0001b960: 206f 626a 6563 742e 0a20 2020 2020 2020   object..       
+0001b970: 2022 2222 0a20 2020 2020 2020 2074 6578   """.        tex
+0001b980: 745f 6669 6c65 203d 206f 7065 6e28 6f73  t_file = open(os
+0001b990: 2e70 6174 682e 6a6f 696e 2873 656c 662e  .path.join(self.
+0001b9a0: 6669 6c65 5f64 6174 612e 656c 6563 7472  file_data.electr
+0001b9b0: 6f5f 6d61 676e 6574 6963 5f66 6f6c 6465  o_magnetic_folde
+0001b9c0: 725f 7061 7468 2c20 2250 6172 616d 6574  r_path, "Paramet
+0001b9d0: 6572 2e70 726f 2229 2c20 2277 2229 0a0a  er.pro"), "w")..
+0001b9e0: 2020 2020 2020 2020 2320 4d61 676e 6574          # Magnet
+0001b9f0: 6963 2043 6f6d 706f 6e65 6e74 2054 7970  ic Component Typ
+0001ba00: 650a 2020 2020 2020 2020 6966 2073 656c  e.        if sel
+0001ba10: 662e 636f 6d70 6f6e 656e 745f 7479 7065  f.component_type
+0001ba20: 203d 3d20 436f 6d70 6f6e 656e 7454 7970   == ComponentTyp
+0001ba30: 652e 496e 6475 6374 6f72 3a0a 2020 2020  e.Inductor:.    
+0001ba40: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001ba50: 652e 7772 6974 6528 224e 756d 6265 725f  e.write("Number_
+0001ba60: 6f66 5f57 696e 6469 6e67 7320 3d20 7b7d  of_Windings = {}
+0001ba70: 3b5c 6e22 2e66 6f72 6d61 7428 6c65 6e28  ;\n".format(len(
+0001ba80: 7365 6c66 2e77 696e 6469 6e67 7329 2929  self.windings)))
+0001ba90: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+0001baa0: 662e 636f 6d70 6f6e 656e 745f 7479 7065  f.component_type
+0001bab0: 203d 3d20 436f 6d70 6f6e 656e 7454 7970   == ComponentTyp
+0001bac0: 652e 5472 616e 7366 6f72 6d65 723a 0a20  e.Transformer:. 
+0001bad0: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0001bae0: 6669 6c65 2e77 7269 7465 2822 4e75 6d62  file.write("Numb
+0001baf0: 6572 5f6f 665f 5769 6e64 696e 6773 203d  er_of_Windings =
+0001bb00: 207b 7d3b 5c6e 222e 666f 726d 6174 286c   {};\n".format(l
+0001bb10: 656e 2873 656c 662e 7769 6e64 696e 6773  en(self.windings
+0001bb20: 2929 290a 0a20 2020 2020 2020 2069 6620  )))..        if 
+0001bb30: 7365 6c66 2e63 6f6d 706f 6e65 6e74 5f74  self.component_t
+0001bb40: 7970 6520 3d3d 2043 6f6d 706f 6e65 6e74  ype == Component
+0001bb50: 5479 7065 2e49 6e74 6567 7261 7465 6454  Type.IntegratedT
+0001bb60: 7261 6e73 666f 726d 6572 3a0a 2020 2020  ransformer:.    
+0001bb70: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001bb80: 652e 7772 6974 6528 224e 756d 6265 725f  e.write("Number_
+0001bb90: 6f66 5f57 696e 6469 6e67 7320 3d20 7b7d  of_Windings = {}
+0001bba0: 3b5c 6e22 2e66 6f72 6d61 7428 6c65 6e28  ;\n".format(len(
+0001bbb0: 7365 6c66 2e77 696e 6469 6e67 7329 2929  self.windings)))
+0001bbc0: 0a0a 2020 2020 2020 2020 6966 2073 656c  ..        if sel
+0001bbd0: 662e 7369 6d75 6c61 7469 6f6e 5f74 7970  f.simulation_typ
+0001bbe0: 6520 3d3d 2053 696d 756c 6174 696f 6e54  e == SimulationT
+0001bbf0: 7970 652e 4672 6571 446f 6d61 696e 3a0a  ype.FreqDomain:.
+0001bc00: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0001bc10: 5f66 696c 652e 7772 6974 6528 2246 6c61  _file.write("Fla
+0001bc20: 675f 4672 6571 5f44 6f6d 6169 6e20 3d20  g_Freq_Domain = 
+0001bc30: 313b 5c6e 2229 0a20 2020 2020 2020 2020  1;\n").         
+0001bc40: 2020 2074 6578 745f 6669 6c65 2e77 7269     text_file.wri
+0001bc50: 7465 2822 466c 6167 5f54 696d 655f 446f  te("Flag_Time_Do
+0001bc60: 6d61 696e 203d 2030 3b5c 6e22 290a 2020  main = 0;\n").  
+0001bc70: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
+0001bc80: 696c 652e 7772 6974 6528 2246 6c61 675f  ile.write("Flag_
+0001bc90: 5374 6174 6963 203d 2030 3b5c 6e22 290a  Static = 0;\n").
+0001bca0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001bcb0: 2e73 696d 756c 6174 696f 6e5f 7479 7065  .simulation_type
+0001bcc0: 203d 3d20 5369 6d75 6c61 7469 6f6e 5479   == SimulationTy
+0001bcd0: 7065 2e54 696d 6544 6f6d 6169 6e3a 0a20  pe.TimeDomain:. 
+0001bce0: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0001bcf0: 6669 6c65 2e77 7269 7465 2822 466c 6167  file.write("Flag
+0001bd00: 5f54 696d 655f 446f 6d61 696e 203d 2031  _Time_Domain = 1
+0001bd10: 3b5c 6e22 290a 2020 2020 2020 2020 2020  ;\n").          
 0001bd20: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001bd30: 6528 6622 6b69 203d 207b 7365 6c66 2e63  e(f"ki = {self.c
-0001bd40: 6f72 652e 6b69 7d3b 5c6e 2229 0a20 2020  ore.ki};\n").   
+0001bd30: 6528 2246 6c61 675f 4672 6571 5f44 6f6d  e("Flag_Freq_Dom
+0001bd40: 6169 6e20 3d20 303b 5c6e 2229 0a20 2020  ain = 0;\n").   
 0001bd50: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001bd60: 6c65 2e77 7269 7465 2866 2261 6c70 6861  le.write(f"alpha
-0001bd70: 203d 207b 7365 6c66 2e63 6f72 652e 616c   = {self.core.al
-0001bd80: 7068 617d 3b5c 6e22 290a 2020 2020 2020  pha};\n").      
-0001bd90: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
-0001bda0: 7772 6974 6528 6622 6265 7461 203d 207b  write(f"beta = {
-0001bdb0: 7365 6c66 2e63 6f72 652e 6265 7461 7d3b  self.core.beta};
-0001bdc0: 5c6e 2229 0a20 2020 2020 2020 2069 6620  \n").        if 
-0001bdd0: 7365 6c66 2e63 6f72 652e 6765 6e65 7261  self.core.genera
-0001bde0: 6c69 7a65 645f 7374 6569 6e6d 6574 7a5f  lized_steinmetz_
-0001bdf0: 6c6f 7373 3a0a 2020 2020 2020 2020 2020  loss:.          
-0001be00: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001be10: 6528 6622 745f 7269 7365 203d 207b 7365  e(f"t_rise = {se
-0001be20: 6c66 2e74 5f72 6973 657d 3b5c 6e22 290a  lf.t_rise};\n").
-0001be30: 2020 2020 2020 2020 2020 2020 7465 7874              text
-0001be40: 5f66 696c 652e 7772 6974 6528 6622 745f  _file.write(f"t_
-0001be50: 6661 6c6c 203d 207b 7365 6c66 2e74 5f66  fall = {self.t_f
-0001be60: 616c 6c7d 3b5c 6e22 290a 2020 2020 2020  all};\n").      
-0001be70: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
-0001be80: 7772 6974 6528 6622 665f 7377 6974 6368  write(f"f_switch
-0001be90: 203d 207b 7365 6c66 2e66 5f73 7769 7463   = {self.f_switc
-0001bea0: 687d 3b5c 6e22 290a 2020 2020 2020 2020  h};\n").        
-0001beb0: 2320 7469 6d65 2064 6f6d 6169 6e20 7061  # time domain pa
-0001bec0: 7261 6d65 7465 7273 0a20 2020 2020 2020  rameters.       
-0001bed0: 2069 6620 7365 6c66 2e73 696d 756c 6174   if self.simulat
-0001bee0: 696f 6e5f 7479 7065 203d 3d20 5369 6d75  ion_type == Simu
-0001bef0: 6c61 7469 6f6e 5479 7065 2e54 696d 6544  lationType.TimeD
-0001bf00: 6f6d 6169 6e3a 0a20 2020 2020 2020 2020  omain:.         
-0001bf10: 2020 2074 6578 745f 6669 6c65 2e77 7269     text_file.wri
-0001bf20: 7465 2866 2254 203d 207b 7365 6c66 2e74  te(f"T = {self.t
-0001bf30: 696d 655f 7065 7269 6f64 7d3b 5c6e 2229  ime_period};\n")
-0001bf40: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
-0001bf50: 745f 6669 6c65 2e77 7269 7465 2866 2274  t_file.write(f"t
-0001bf60: 696d 6530 203d 207b 7365 6c66 2e69 6e69  ime0 = {self.ini
-0001bf70: 7469 616c 5f74 696d 657d 3b5c 6e22 290a  tial_time};\n").
-0001bf80: 2020 2020 2020 2020 2020 2020 7465 7874              text
-0001bf90: 5f66 696c 652e 7772 6974 6528 6622 7469  _file.write(f"ti
-0001bfa0: 6d65 6d61 7820 3d20 7b73 656c 662e 6d61  memax = {self.ma
-0001bfb0: 785f 7469 6d65 7d3b 5c6e 2229 0a20 2020  x_time};\n").   
-0001bfc0: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001bfd0: 6c65 2e77 7269 7465 2866 224e 6253 7465  le.write(f"NbSte
-0001bfe0: 7073 5065 7250 6572 696f 6420 3d20 7b73  psPerPeriod = {s
-0001bff0: 656c 662e 6e62 5f73 7465 7073 5f70 6572  elf.nb_steps_per
-0001c000: 5f70 6572 696f 6465 7d3b 5c6e 2229 0a20  _periode};\n"). 
-0001c010: 2020 2020 2020 2020 2020 2074 6578 745f             text_
-0001c020: 6669 6c65 2e77 7269 7465 2866 224e 6253  file.write(f"NbS
-0001c030: 7465 7073 203d 207b 7365 6c66 2e6e 625f  teps = {self.nb_
-0001c040: 7374 6570 737d 3b5c 6e22 290a 2020 2020  steps};\n").    
-0001c050: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
-0001c060: 652e 7772 6974 6528 6622 6465 6c74 615f  e.write(f"delta_
-0001c070: 7420 3d20 7b73 656c 662e 7374 6570 5f74  t = {self.step_t
-0001c080: 696d 657d 3b5c 6e22 290a 2020 2020 2020  ime};\n").      
-0001c090: 2020 2020 2020 7469 6d65 5f76 616c 7565        time_value
-0001c0a0: 735f 7374 7220 3d20 272c 2027 2e6a 6f69  s_str = ', '.joi
-0001c0b0: 6e28 6d61 7028 7374 722c 2073 656c 662e  n(map(str, self.
-0001c0c0: 7469 6d65 2929 0a20 2020 2020 2020 2020  time)).         
-0001c0d0: 2020 2074 6578 745f 6669 6c65 2e77 7269     text_file.wri
-0001c0e0: 7465 2866 2254 696d 654c 6973 7420 3d20  te(f"TimeList = 
-0001c0f0: 7b7b 7b74 696d 655f 7661 6c75 6573 5f73  {{{time_values_s
-0001c100: 7472 7d7d 7d3b 5c6e 2229 2020 2320 5469  tr}}};\n")  # Ti
-0001c110: 6d65 4c69 7374 2069 7320 696e 7465 7270  meList is interp
-0001c120: 6f6c 6174 6564 2077 6974 6820 6375 7272  olated with curr
-0001c130: 656e 7420 6c69 7374 7320 696e 2074 6865  ent lists in the
-0001c140: 2073 6f6c 7665 720a 0a20 2020 2020 2020   solver..       
-0001c150: 2023 2043 6f6e 6475 6374 6f72 2073 7065   # Conductor spe
-0001c160: 6369 6669 6320 6465 6669 6e69 7469 6f6e  cific definition
-0001c170: 730a 2020 2020 2020 2020 666f 7220 7769  s.        for wi
-0001c180: 6e64 696e 675f 6e75 6d62 6572 2069 6e20  nding_number in 
-0001c190: 7261 6e67 6528 6c65 6e28 7365 6c66 2e77  range(len(self.w
-0001c1a0: 696e 6469 6e67 7329 293a 0a20 2020 2020  indings)):.     
-0001c1b0: 2020 2020 2020 2023 202d 2d20 436f 6e74         # -- Cont
-0001c1c0: 726f 6c20 466c 6167 7320 2d2d 0a20 2020  rol Flags --.   
-0001c1d0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-0001c1e0: 2e66 6c61 675f 6578 6369 7461 7469 6f6e  .flag_excitation
-0001c1f0: 5f74 7970 6520 3d3d 2027 6375 7272 656e  _type == 'curren
-0001c200: 7427 3a0a 2020 2020 2020 2020 2020 2020  t':.            
-0001c210: 2020 2020 7465 7874 5f66 696c 652e 7772      text_file.wr
-0001c220: 6974 6528 2246 6c61 675f 496d 706f 7365  ite("Flag_Impose
-0001c230: 6456 6f6c 7461 6765 203d 2030 3b5c 6e22  dVoltage = 0;\n"
-0001c240: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-0001c250: 2073 656c 662e 666c 6167 5f65 7863 6974   self.flag_excit
-0001c260: 6174 696f 6e5f 7479 7065 203d 3d20 2776  ation_type == 'v
-0001c270: 6f6c 7461 6765 273a 0a20 2020 2020 2020  oltage':.       
-0001c280: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001c290: 6c65 2e77 7269 7465 2822 466c 6167 5f49  le.write("Flag_I
-0001c2a0: 6d70 6f73 6564 566f 6c74 6167 6520 3d20  mposedVoltage = 
-0001c2b0: 313b 5c6e 2229 0a20 2020 2020 2020 2020  1;\n").         
-0001c2c0: 2020 2069 6620 7365 6c66 2e77 696e 6469     if self.windi
-0001c2d0: 6e67 735b 7769 6e64 696e 675f 6e75 6d62  ngs[winding_numb
-0001c2e0: 6572 5d2e 636f 6e64 7563 746f 725f 7479  er].conductor_ty
-0001c2f0: 7065 203d 3d20 436f 6e64 7563 746f 7254  pe == ConductorT
-0001c300: 7970 652e 526f 756e 644c 6974 7a3a 0a20  ype.RoundLitz:. 
-0001c310: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0001c320: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
-0001c330: 2246 6c61 675f 486f 6d6f 6765 6e69 7365  "Flag_Homogenise
-0001c340: 644d 6f64 656c 5f7b 7769 6e64 696e 675f  dModel_{winding_
-0001c350: 6e75 6d62 6572 202b 2031 7d20 3d20 313b  number + 1} = 1;
-0001c360: 5c6e 2229 0a20 2020 2020 2020 2020 2020  \n").           
-0001c370: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001c380: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
-0001c390: 2e77 7269 7465 2866 2246 6c61 675f 486f  .write(f"Flag_Ho
-0001c3a0: 6d6f 6765 6e69 7365 644d 6f64 656c 5f7b  mogenisedModel_{
-0001c3b0: 7769 6e64 696e 675f 6e75 6d62 6572 202b  winding_number +
-0001c3c0: 2031 7d20 3d20 303b 5c6e 2229 0a0a 2020   1} = 0;\n")..  
-0001c3d0: 2020 2020 2020 2020 2020 2320 2d2d 2047            # -- G
-0001c3e0: 656f 6d65 7472 7920 2d2d 0a20 2020 2020  eometry --.     
-0001c3f0: 2020 2020 2020 2023 2043 6f72 6520 5061         # Core Pa
-0001c400: 7274 730a 2020 2020 2020 2020 2020 2020  rts.            
-0001c410: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
-0001c420: 6622 6e43 6f72 6550 6172 7473 203d 207b  f"nCoreParts = {
-0001c430: 6c65 6e28 7365 6c66 2e6d 6573 682e 706c  len(self.mesh.pl
-0001c440: 616e 655f 7375 7266 6163 655f 636f 7265  ane_surface_core
-0001c450: 297d 3b5c 6e22 290a 0a20 2020 2020 2020  )};\n")..       
-0001c460: 2020 2020 2074 7572 6e73 203d 2066 662e       turns = ff.
-0001c470: 6765 745f 6e75 6d62 6572 5f6f 665f 7475  get_number_of_tu
-0001c480: 726e 735f 6f66 5f77 696e 6469 6e67 2877  rns_of_winding(w
-0001c490: 696e 6469 6e67 5f77 696e 646f 7773 3d73  inding_windows=s
-0001c4a0: 656c 662e 7769 6e64 696e 675f 7769 6e64  elf.winding_wind
-0001c4b0: 6f77 732c 2077 696e 6469 6e67 733d 7365  ows, windings=se
-0001c4c0: 6c66 2e77 696e 6469 6e67 732c 0a20 2020  lf.windings,.   
-0001c4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c500: 2020 2077 696e 6469 6e67 5f6e 756d 6265     winding_numbe
-0001c510: 723d 7769 6e64 696e 675f 6e75 6d62 6572  r=winding_number
-0001c520: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
-0001c530: 6620 7365 6c66 2e77 696e 6469 6e67 735b  f self.windings[
-0001c540: 7769 6e64 696e 675f 6e75 6d62 6572 5d2e  winding_number].
-0001c550: 7061 7261 6c6c 656c 3a0a 2020 2020 2020  parallel:.      
-0001c560: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
-0001c570: 696c 652e 7772 6974 6528 6622 4e62 7243  ile.write(f"NbrC
-0001c580: 6f6e 645f 7b77 696e 6469 6e67 5f6e 756d  ond_{winding_num
-0001c590: 6265 7220 2b20 317d 203d 2031 3b5c 6e22  ber + 1} = 1;\n"
-0001c5a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001c5b0: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001c5c0: 6528 6622 4172 6561 4365 6c6c 5f7b 7769  e(f"AreaCell_{wi
-0001c5d0: 6e64 696e 675f 6e75 6d62 6572 202b 2031  nding_number + 1
-0001c5e0: 7d20 3d20 7b73 656c 662e 7769 6e64 696e  } = {self.windin
-0001c5f0: 6773 5b77 696e 6469 6e67 5f6e 756d 6265  gs[winding_numbe
-0001c600: 725d 2e61 5f63 656c 6c20 2a20 7475 726e  r].a_cell * turn
-0001c610: 737d 3b5c 6e22 290a 2020 2020 2020 2020  s};\n").        
-0001c620: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001c630: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
-0001c640: 696c 652e 7772 6974 6528 6622 4e62 7243  ile.write(f"NbrC
-0001c650: 6f6e 645f 7b77 696e 6469 6e67 5f6e 756d  ond_{winding_num
-0001c660: 6265 7220 2b20 317d 203d 207b 7475 726e  ber + 1} = {turn
-0001c670: 737d 3b5c 6e22 290a 2020 2020 2020 2020  s};\n").        
-0001c680: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
-0001c690: 652e 7772 6974 6528 6622 4172 6561 4365  e.write(f"AreaCe
-0001c6a0: 6c6c 5f7b 7769 6e64 696e 675f 6e75 6d62  ll_{winding_numb
-0001c6b0: 6572 202b 2031 7d20 3d20 7b73 656c 662e  er + 1} = {self.
-0001c6c0: 7769 6e64 696e 6773 5b77 696e 6469 6e67  windings[winding
-0001c6d0: 5f6e 756d 6265 725d 2e61 5f63 656c 6c7d  _number].a_cell}
-0001c6e0: 3b5c 6e22 290a 0a20 2020 2020 2020 2020  ;\n")..         
-0001c6f0: 2020 2023 2046 6f72 2073 7472 616e 6465     # For strande
-0001c700: 6420 436f 6e64 7563 746f 7273 3a0a 2020  d Conductors:.  
-0001c710: 2020 2020 2020 2020 2020 2320 7465 7874            # text
-0001c720: 5f66 696c 652e 7772 6974 6528 6622 4e62  _file.write(f"Nb
-0001c730: 7273 7472 616e 6465 6443 6f6e 6420 3d20  rstrandedCond = 
-0001c740: 7b73 656c 662e 7475 726e 737d 3b5c 6e22  {self.turns};\n"
-0001c750: 2920 2023 2072 6564 756e 6461 6e74 0a20  )  # redundant. 
-0001c760: 2020 2020 2020 2020 2020 2069 6620 7365             if se
-0001c770: 6c66 2e77 696e 6469 6e67 735b 7769 6e64  lf.windings[wind
-0001c780: 696e 675f 6e75 6d62 6572 5d2e 636f 6e64  ing_number].cond
-0001c790: 7563 746f 725f 7479 7065 203d 3d20 436f  uctor_type == Co
-0001c7a0: 6e64 7563 746f 7254 7970 652e 526f 756e  nductorType.Roun
-0001c7b0: 644c 6974 7a3a 0a20 2020 2020 2020 2020  dLitz:.         
-0001c7c0: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
-0001c7d0: 2e77 7269 7465 2866 224e 6272 5374 7261  .write(f"NbrStra
-0001c7e0: 6e64 735f 7b77 696e 6469 6e67 5f6e 756d  nds_{winding_num
-0001c7f0: 6265 7220 2b20 317d 203d 207b 7365 6c66  ber + 1} = {self
-0001c800: 2e77 696e 6469 6e67 735b 7769 6e64 696e  .windings[windin
-0001c810: 675f 6e75 6d62 6572 5d2e 6e5f 7374 7261  g_number].n_stra
-0001c820: 6e64 737d 3b5c 6e22 290a 2020 2020 2020  nds};\n").      
-0001c830: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
-0001c840: 696c 652e 7772 6974 6528 6622 4669 6c6c  ile.write(f"Fill
-0001c850: 5f7b 7769 6e64 696e 675f 6e75 6d62 6572  _{winding_number
-0001c860: 202b 2031 7d20 3d20 7b73 656c 662e 7769   + 1} = {self.wi
-0001c870: 6e64 696e 6773 5b77 696e 6469 6e67 5f6e  ndings[winding_n
-0001c880: 756d 6265 725d 2e66 667d 3b5c 6e22 290a  umber].ff};\n").
-0001c890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001c8a0: 2320 2d2d 2d0a 2020 2020 2020 2020 2020  # ---.          
-0001c8b0: 2020 2020 2020 2320 4c69 747a 2041 7070        # Litz App
-0001c8c0: 726f 7869 6d61 7469 6f6e 2043 6f65 6666  roximation Coeff
-0001c8d0: 6963 6965 6e74 7320 7765 7265 2063 7265  icients were cre
-0001c8e0: 6174 6564 2077 6974 6820 3420 6c61 7965  ated with 4 laye
-0001c8f0: 7273 0a20 2020 2020 2020 2020 2020 2020  rs.             
-0001c900: 2020 2023 2054 6861 7427 7320 7768 7920     # That's why 
-0001c910: 6865 7265 2061 2068 6172 642d 636f 6465  here a hard-code
-0001c920: 6420 3420 6973 2069 6d70 6c65 6d65 6e74  d 4 is implement
-0001c930: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-0001c940: 2020 2023 2074 6578 745f 6669 6c65 2e77     # text_file.w
-0001c950: 7269 7465 2866 224e 6272 4c61 7965 7273  rite(f"NbrLayers
-0001c960: 7b6e 756d 2b31 7d20 3d20 7b73 656c 662e  {num+1} = {self.
-0001c970: 6e5f 6c61 7965 7273 5b6e 756d 5d7d 3b5c  n_layers[num]};\
-0001c980: 6e22 290a 2020 2020 2020 2020 2020 2020  n").            
-0001c990: 2020 2020 7465 7874 5f66 696c 652e 7772      text_file.wr
-0001c9a0: 6974 6528 6622 4e62 724c 6179 6572 735f  ite(f"NbrLayers_
-0001c9b0: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
-0001c9c0: 2b20 317d 203d 2034 3b5c 6e22 290a 0a20  + 1} = 4;\n").. 
-0001c9d0: 2020 2020 2020 2020 2020 2074 6578 745f             text_
-0001c9e0: 6669 6c65 2e77 7269 7465 2866 2252 635f  file.write(f"Rc_
-0001c9f0: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
-0001ca00: 2b20 317d 203d 207b 7365 6c66 2e77 696e  + 1} = {self.win
-0001ca10: 6469 6e67 735b 7769 6e64 696e 675f 6e75  dings[winding_nu
-0001ca20: 6d62 6572 5d2e 636f 6e64 7563 746f 725f  mber].conductor_
-0001ca30: 7261 6469 7573 7d3b 5c6e 2229 0a0a 2020  radius};\n")..  
-0001ca40: 2020 2020 2020 2020 2020 2320 2d2d 2045            # -- E
-0001ca50: 7863 6974 6174 696f 6e20 2d2d 0a20 2020  xcitation --.   
-0001ca60: 2020 2020 2020 2020 2023 2049 6d70 6f73           # Impos
-0001ca70: 6564 2063 7572 7265 6e74 2c20 6375 7272  ed current, curr
-0001ca80: 656e 7420 6465 6e73 6974 7920 6f72 2076  ent density or v
-0001ca90: 6f6c 7461 6765 0a20 2020 2020 2020 2020  oltage.         
-0001caa0: 2020 2069 6620 7365 6c66 2e66 6c61 675f     if self.flag_
-0001cab0: 6578 6369 7461 7469 6f6e 5f74 7970 6520  excitation_type 
-0001cac0: 3d3d 2027 6375 7272 656e 7427 3a0a 0a20  == 'current':.. 
-0001cad0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0001cae0: 6620 7365 6c66 2e73 696d 756c 6174 696f  f self.simulatio
-0001caf0: 6e5f 7479 7065 203d 3d20 5369 6d75 6c61  n_type == Simula
-0001cb00: 7469 6f6e 5479 7065 2e46 7265 7144 6f6d  tionType.FreqDom
-0001cb10: 6169 6e3a 0a20 2020 2020 2020 2020 2020  ain:.           
-0001cb20: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001cb30: 6c65 2e77 7269 7465 2866 2256 616c 5f45  le.write(f"Val_E
-0001cb40: 455f 7b77 696e 6469 6e67 5f6e 756d 6265  E_{winding_numbe
-0001cb50: 7220 2b20 317d 203d 207b 6162 7328 7365  r + 1} = {abs(se
-0001cb60: 6c66 2e63 7572 7265 6e74 5b77 696e 6469  lf.current[windi
-0001cb70: 6e67 5f6e 756d 6265 725d 297d 3b5c 6e22  ng_number])};\n"
-0001cb80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0001cb90: 2020 6966 2073 656c 662e 7369 6d75 6c61    if self.simula
-0001cba0: 7469 6f6e 5f74 7970 6520 3d3d 2053 696d  tion_type == Sim
-0001cbb0: 756c 6174 696f 6e54 7970 652e 5469 6d65  ulationType.Time
-0001cbc0: 446f 6d61 696e 3a0a 2020 2020 2020 2020  Domain:.        
-0001cbd0: 2020 2020 2020 2020 2020 2020 6375 7272              curr
-0001cbe0: 656e 745f 7661 6c75 6573 5f73 7472 203d  ent_values_str =
-0001cbf0: 2027 2c20 272e 6a6f 696e 286d 6170 2873   ', '.join(map(s
-0001cc00: 7472 2c20 7365 6c66 2e63 7572 7265 6e74  tr, self.current
-0001cc10: 5b77 696e 6469 6e67 5f6e 756d 6265 725d  [winding_number]
-0001cc20: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-0001cc30: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
-0001cc40: 2e77 7269 7465 2866 2243 7572 7265 6e74  .write(f"Current
-0001cc50: 4c69 7374 5f7b 7769 6e64 696e 675f 6e75  List_{winding_nu
-0001cc60: 6d62 6572 202b 2031 7d20 3d20 7b7b 7b63  mber + 1} = {{{c
-0001cc70: 7572 7265 6e74 5f76 616c 7565 735f 7374  urrent_values_st
-0001cc80: 727d 7d7d 3b5c 6e22 290a 2020 2020 2020  r}}};\n").      
-0001cc90: 2020 2020 2020 2020 2020 2020 2020 7465                te
-0001cca0: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
-0001ccb0: 5661 6c5f 4545 5f7b 7769 6e64 696e 675f  Val_EE_{winding_
-0001ccc0: 6e75 6d62 6572 202b 2031 7d20 3d20 313b  number + 1} = 1;
-0001ccd0: 5c6e 2229 0a0a 2020 2020 2020 2020 2020  \n")..          
-0001cce0: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
-0001ccf0: 7772 6974 6528 6622 5068 6173 655f 7b77  write(f"Phase_{w
-0001cd00: 696e 6469 6e67 5f6e 756d 6265 7220 2b20  inding_number + 
-0001cd10: 317d 203d 207b 6e70 2e64 6567 3272 6164  1} = {np.deg2rad
-0001cd20: 2873 656c 662e 7068 6173 655f 6465 675b  (self.phase_deg[
-0001cd30: 7769 6e64 696e 675f 6e75 6d62 6572 5d29  winding_number])
-0001cd40: 7d3b 5c6e 2229 0a20 2020 2020 2020 2020  };\n").         
-0001cd50: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
-0001cd60: 2e77 7269 7465 280a 2020 2020 2020 2020  .write(.        
-0001cd70: 2020 2020 2020 2020 2020 2020 6622 5061              f"Pa
-0001cd80: 7261 6c6c 656c 5f7b 7769 6e64 696e 675f  rallel_{winding_
-0001cd90: 6e75 6d62 6572 202b 2031 7d20 3d20 7b69  number + 1} = {i
-0001cda0: 6e74 2873 656c 662e 7769 6e64 696e 6773  nt(self.windings
-0001cdb0: 5b77 696e 6469 6e67 5f6e 756d 6265 725d  [winding_number]
-0001cdc0: 2e70 6172 616c 6c65 6c20 6973 2054 7275  .parallel is Tru
-0001cdd0: 6529 7d3b 5c6e 2229 0a0a 2020 2020 2020  e)};\n")..      
-0001cde0: 2020 2020 2020 6966 2073 656c 662e 666c        if self.fl
-0001cdf0: 6167 5f65 7863 6974 6174 696f 6e5f 7479  ag_excitation_ty
-0001ce00: 7065 203d 3d20 2763 7572 7265 6e74 5f64  pe == 'current_d
-0001ce10: 656e 7369 7479 273a 0a20 2020 2020 2020  ensity':.       
-0001ce20: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
-0001ce30: 6c65 2e77 7269 7465 2866 2256 616c 5f45  le.write(f"Val_E
-0001ce40: 455f 7b77 696e 6469 6e67 5f6e 756d 6265  E_{winding_numbe
-0001ce50: 7220 2b20 317d 203d 207b 7365 6c66 2e63  r + 1} = {self.c
-0001ce60: 7572 7265 6e74 5f64 656e 7369 7479 5b77  urrent_density[w
-0001ce70: 696e 6469 6e67 5f6e 756d 6265 725d 7d3b  inding_number]};
-0001ce80: 5c6e 2229 0a20 2020 2020 2020 2020 2020  \n").           
-0001ce90: 2020 2020 2072 6169 7365 204e 6f74 496d       raise NotIm
-0001cea0: 706c 656d 656e 7465 6445 7272 6f72 0a0a  plementedError..
-0001ceb0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0001cec0: 656c 662e 666c 6167 5f65 7863 6974 6174  elf.flag_excitat
-0001ced0: 696f 6e5f 7479 7065 203d 3d20 2776 6f6c  ion_type == 'vol
-0001cee0: 7461 6765 273a 0a20 2020 2020 2020 2020  tage':.         
-0001cef0: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
-0001cf00: 2e77 7269 7465 2866 2256 616c 5f45 455f  .write(f"Val_EE_
-0001cf10: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
-0001cf20: 2b20 317d 203d 207b 7365 6c66 2e76 6f6c  + 1} = {self.vol
-0001cf30: 7461 6765 5b77 696e 6469 6e67 5f6e 756d  tage[winding_num
-0001cf40: 6265 725d 7d3b 5c6e 2229 0a20 2020 2020  ber]};\n").     
-0001cf50: 2020 2020 2020 2020 2020 2072 6169 7365             raise
-0001cf60: 204e 6f74 496d 706c 656d 656e 7465 6445   NotImplementedE
-0001cf70: 7272 6f72 0a0a 2020 2020 2020 2020 2020  rror..          
-0001cf80: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
-0001cf90: 6e74 2866 2243 656c 6c20 7375 7266 6163  nt(f"Cell surfac
-0001cfa0: 6520 6172 6561 3a20 7b73 656c 662e 7769  e area: {self.wi
-0001cfb0: 6e64 696e 6773 5b77 696e 6469 6e67 5f6e  ndings[winding_n
-0001cfc0: 756d 6265 725d 2e61 5f63 656c 6c7d 205c  umber].a_cell} \
-0001cfd0: 6e22 0a20 2020 2020 2020 2020 2020 2020  n".             
-0001cfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001cff0: 6622 5265 6475 6365 6420 6672 6571 7565  f"Reduced freque
-0001d000: 6e63 793a 207b 7365 6c66 2e72 6564 5f66  ncy: {self.red_f
-0001d010: 7265 715b 7769 6e64 696e 675f 6e75 6d62  req[winding_numb
-0001d020: 6572 5d7d 2229 0a0a 2020 2020 2020 2020  er]}")..        
-0001d030: 2020 2020 6966 2073 656c 662e 7265 645f      if self.red_
-0001d040: 6672 6571 5b77 696e 6469 6e67 5f6e 756d  freq[winding_num
-0001d050: 6265 725d 203e 2031 2e32 3520 616e 6420  ber] > 1.25 and 
-0001d060: 7365 6c66 2e77 696e 6469 6e67 735b 7769  self.windings[wi
-0001d070: 6e64 696e 675f 6e75 6d62 6572 5d2e 636f  nding_number].co
-0001d080: 6e64 7563 746f 725f 7479 7065 203d 3d20  nductor_type == 
-0001d090: 436f 6e64 7563 746f 7254 7970 652e 526f  ConductorType.Ro
-0001d0a0: 756e 644c 6974 7a3a 0a20 2020 2020 2020  undLitz:.       
-0001d0b0: 2020 2020 2020 2020 2023 2054 4f44 4f3a           # TODO:
-0001d0c0: 2041 6c6c 6f77 2068 6967 6865 7220 7265   Allow higher re
-0001d0d0: 6475 6365 6420 6672 6571 7565 6e63 6965  duced frequencie
-0001d0e0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
-0001d0f0: 2020 7365 6c66 2e66 656d 6d74 5f70 7269    self.femmt_pri
-0001d100: 6e74 2822 4c69 747a 2043 6f65 6666 6963  nt("Litz Coeffic
-0001d110: 6965 6e74 7320 6f6e 6c79 2069 6d70 6c65  ients only imple
-0001d120: 6d65 6e74 6564 2066 6f72 2058 3c3d 312e  mented for X<=1.
-0001d130: 3235 2229 0a20 2020 2020 2020 2020 2020  25").           
-0001d140: 2020 2020 2072 6169 7365 2057 6172 6e69       raise Warni
-0001d150: 6e67 0a20 2020 2020 2020 2020 2020 2023  ng.            #
-0001d160: 2052 6564 7563 6564 2046 7265 7175 656e   Reduced Frequen
-0001d170: 6379 0a20 2020 2020 2020 2020 2020 2074  cy.            t
-0001d180: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
-0001d190: 2252 725f 7b77 696e 6469 6e67 5f6e 756d  "Rr_{winding_num
-0001d1a0: 6265 7220 2b20 317d 203d 207b 7365 6c66  ber + 1} = {self
-0001d1b0: 2e72 6564 5f66 7265 715b 7769 6e64 696e  .red_freq[windin
-0001d1c0: 675f 6e75 6d62 6572 5d7d 3b5c 6e22 290a  g_number]};\n").
-0001d1d0: 0a20 2020 2020 2020 2020 2020 2023 204d  .            # M
-0001d1e0: 6174 6572 6961 6c20 5072 6f70 6572 7469  aterial Properti
-0001d1f0: 6573 0a20 2020 2020 2020 2020 2020 2023  es.            #
-0001d200: 2043 6f6e 6475 6374 6f72 204d 6174 6572   Conductor Mater
-0001d210: 6961 6c0a 2020 2020 2020 2020 2020 2020  ial.            
-0001d220: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
-0001d230: 6622 7369 676d 615f 7769 6e64 696e 675f  f"sigma_winding_
-0001d240: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
-0001d250: 2b20 317d 203d 207b 7365 6c66 2e77 696e  + 1} = {self.win
-0001d260: 6469 6e67 735b 7769 6e64 696e 675f 6e75  dings[winding_nu
-0001d270: 6d62 6572 5d2e 636f 6e64 5f73 6967 6d61  mber].cond_sigma
-0001d280: 7d3b 5c6e 2229 0a0a 2020 2020 2020 2020  };\n")..        
-0001d290: 2320 2d2d 204d 6174 6572 6961 6c73 202d  # -- Materials -
-0001d2a0: 2d0a 0a20 2020 2020 2020 2023 204e 6174  -..        # Nat
-0001d2b0: 7572 6520 436f 6e73 7461 6e74 730a 2020  ure Constants.  
-0001d2c0: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
-0001d2d0: 7772 6974 6528 226d 7530 203d 2034 2e65  write("mu0 = 4.e
-0001d2e0: 2d37 202a 2050 693b 5c6e 2229 0a20 2020  -7 * Pi;\n").   
-0001d2f0: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
-0001d300: 7269 7465 2822 6e75 3020 3d20 3120 2f20  rite("nu0 = 1 / 
-0001d310: 6d75 303b 5c6e 2229 0a20 2020 2020 2020  mu0;\n").       
-0001d320: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
-0001d330: 2866 2265 3020 3d20 7b65 7073 696c 6f6e  (f"e0 = {epsilon
-0001d340: 5f30 7d3b 5c6e 2229 0a0a 2020 2020 2020  _0};\n")..      
-0001d350: 2020 2320 4d61 7465 7269 616c 2050 726f    # Material Pro
-0001d360: 7065 7274 6965 730a 0a20 2020 2020 2020  perties..       
-0001d370: 2023 2043 6f72 6520 4d61 7465 7269 616c   # Core Material
-0001d380: 0a20 2020 2020 2020 2023 2069 6620 7365  .        # if se
-0001d390: 6c66 2e66 7265 7175 656e 6379 203d 3d20  lf.frequency == 
-0001d3a0: 303a 0a20 2020 2020 2020 2069 6620 7365  0:.        if se
-0001d3b0: 6c66 2e63 6f72 652e 6e6f 6e5f 6c69 6e65  lf.core.non_line
-0001d3c0: 6172 3a0a 2020 2020 2020 2020 2020 2020  ar:.            
-0001d3d0: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
-0001d3e0: 2246 6c61 675f 4e4c 203d 2031 3b5c 6e22  "Flag_NL = 1;\n"
-0001d3f0: 290a 2020 2020 2020 2020 2020 2020 7465  ).            te
-0001d400: 7874 5f66 696c 652e 7772 6974 6528 0a20  xt_file.write(. 
-0001d410: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0001d420: 2243 6f72 655f 4d61 7465 7269 616c 203d  "Core_Material =
-0001d430: 207b 7365 6c66 2e63 6f72 652e 6d61 7465   {self.core.mate
-0001d440: 7269 616c 7d3b 5c6e 2229 2020 2320 7265  rial};\n")  # re
-0001d450: 6c61 7469 7665 2070 6572 6d65 6162 696c  lative permeabil
-0001d460: 6974 7920 6973 2064 6566 696e 6564 2061  ity is defined a
-0001d470: 7420 7369 6d75 6c61 7469 6f6e 2072 756e  t simulation run
-0001d480: 7469 6d65 0a20 2020 2020 2020 2020 2020  time.           
-0001d490: 2023 2074 6578 745f 6669 6c65 2e77 7269   # text_file.wri
-0001d4a0: 7465 2866 2246 6c61 675f 4e4c 203d 2030  te(f"Flag_NL = 0
-0001d4b0: 3b5c 6e22 290a 2020 2020 2020 2020 656c  ;\n").        el
-0001d4c0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0001d4d0: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
-0001d4e0: 2246 6c61 675f 4e4c 203d 2030 3b5c 6e22  "Flag_NL = 0;\n"
-0001d4f0: 290a 2020 2020 2020 2020 2020 2020 7465  ).            te
-0001d500: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
-0001d510: 6d75 7220 3d20 7b73 656c 662e 636f 7265  mur = {self.core
-0001d520: 2e6d 755f 725f 6162 737d 3b5c 6e22 2920  .mu_r_abs};\n") 
-0001d530: 2023 206d 7572 2069 7320 7072 6564 6566   # mur is predef
-0001d540: 696e 6564 2074 6f20 6120 6669 7865 6420  ined to a fixed 
-0001d550: 7661 6c75 650a 2020 2020 2020 2020 2020  value.          
-0001d560: 2020 6966 2073 656c 662e 636f 7265 2e70    if self.core.p
-0001d570: 6572 6d65 6162 696c 6974 795f 7479 7065  ermeability_type
-0001d580: 203d 3d20 5065 726d 6561 6269 6c69 7479   == Permeability
-0001d590: 5479 7065 2e46 726f 6d44 6174 613a 0a20  Type.FromData:. 
-0001d5a0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0001d5b0: 6578 745f 6669 6c65 2e77 7269 7465 2822  ext_file.write("
-0001d5c0: 466c 6167 5f50 6572 6d65 6162 696c 6974  Flag_Permeabilit
-0001d5d0: 795f 4672 6f6d 5f44 6174 6120 3d20 313b  y_From_Data = 1;
-0001d5e0: 5c6e 2229 2020 2320 6d75 7220 6973 2070  \n")  # mur is p
-0001d5f0: 7265 6465 6669 6e65 6420 746f 2061 2066  redefined to a f
-0001d600: 6978 6564 2076 616c 7565 0a20 2020 2020  ixed value.     
-0001d610: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0001d620: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-0001d630: 745f 6669 6c65 2e77 7269 7465 2822 466c  t_file.write("Fl
-0001d640: 6167 5f50 6572 6d65 6162 696c 6974 795f  ag_Permeability_
-0001d650: 4672 6f6d 5f44 6174 6120 3d20 303b 5c6e  From_Data = 0;\n
-0001d660: 2229 2020 2320 6d75 7220 6973 2070 7265  ")  # mur is pre
-0001d670: 6465 6669 6e65 6420 746f 2061 2066 6978  defined to a fix
-0001d680: 6564 2076 616c 7565 0a20 2020 2020 2020  ed value.       
-0001d690: 2020 2020 2069 6620 7365 6c66 2e63 6f72       if self.cor
-0001d6a0: 652e 7065 726d 6561 6269 6c69 7479 5f74  e.permeability_t
-0001d6b0: 7970 6520 3d3d 2050 6572 6d65 6162 696c  ype == Permeabil
-0001d6c0: 6974 7954 7970 652e 4669 7865 644c 6f73  ityType.FixedLos
-0001d6d0: 7341 6e67 6c65 3a0a 2020 2020 2020 2020  sAngle:.        
-0001d6e0: 2020 2020 2020 2020 2320 6c6f 7373 2061          # loss a
-0001d6f0: 6e67 6c65 2066 6f72 2063 6f6d 706c 6578  ngle for complex
-0001d700: 2072 6570 7265 7365 6e74 6174 696f 6e20   representation 
-0001d710: 6f66 2068 7973 7465 7265 7369 7320 6c6f  of hysteresis lo
-0001d720: 7373 0a20 2020 2020 2020 2020 2020 2020  ss.             
+0001bd60: 6c65 2e77 7269 7465 2822 466c 6167 5f53  le.write("Flag_S
+0001bd70: 7461 7469 6320 3d20 303b 5c6e 2229 0a0a  tatic = 0;\n")..
+0001bd80: 2020 2020 2020 2020 2320 4672 6571 7565          # Freque
+0001bd90: 6e63 790a 2020 2020 2020 2020 7465 7874  ncy.        text
+0001bda0: 5f66 696c 652e 7772 6974 6528 2246 7265  _file.write("Fre
+0001bdb0: 7120 3d20 2573 3b5c 6e22 2025 2073 656c  q = %s;\n" % sel
+0001bdc0: 662e 6672 6571 7565 6e63 7929 0a20 2020  f.frequency).   
+0001bdd0: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001bde0: 7269 7465 2866 2264 656c 7461 203d 207b  rite(f"delta = {
+0001bdf0: 7365 6c66 2e64 656c 7461 7d3b 5c6e 2229  self.delta};\n")
+0001be00: 0a0a 2020 2020 2020 2020 2320 436f 7265  ..        # Core
+0001be10: 204c 6f73 730a 2020 2020 2020 2020 7465   Loss.        te
+0001be20: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
+0001be30: 466c 6167 5f53 7465 696e 6d65 747a 5f6c  Flag_Steinmetz_l
+0001be40: 6f73 7320 3d20 7b73 656c 662e 636f 7265  oss = {self.core
+0001be50: 2e73 7465 696e 6d65 747a 5f6c 6f73 737d  .steinmetz_loss}
+0001be60: 3b5c 6e22 290a 2020 2020 2020 2020 7465  ;\n").        te
+0001be70: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
+0001be80: 466c 6167 5f47 656e 6572 616c 697a 6564  Flag_Generalized
+0001be90: 5f53 7465 696e 6d65 747a 5f6c 6f73 7320  _Steinmetz_loss 
+0001bea0: 3d20 7b73 656c 662e 636f 7265 2e67 656e  = {self.core.gen
+0001beb0: 6572 616c 697a 6564 5f73 7465 696e 6d65  eralized_steinme
+0001bec0: 747a 5f6c 6f73 737d 3b5c 6e22 290a 0a20  tz_loss};\n").. 
+0001bed0: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
+0001bee0: 6f72 652e 7369 676d 6120 213d 2030 2061  ore.sigma != 0 a
+0001bef0: 6e64 2073 656c 662e 636f 7265 2e73 6967  nd self.core.sig
+0001bf00: 6d61 2069 7320 6e6f 7420 4e6f 6e65 3a0a  ma is not None:.
+0001bf10: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0001bf20: 5f66 696c 652e 7772 6974 6528 2246 6c61  _file.write("Fla
+0001bf30: 675f 436f 6e64 7563 7469 6e67 5f43 6f72  g_Conducting_Cor
+0001bf40: 6520 3d20 313b 5c6e 2229 0a20 2020 2020  e = 1;\n").     
+0001bf50: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
+0001bf60: 616e 6365 2873 656c 662e 636f 7265 2e73  ance(self.core.s
+0001bf70: 6967 6d61 2c20 7374 7229 3a0a 2020 2020  igma, str):.    
+0001bf80: 2020 2020 2020 2020 2020 2020 2320 544f              # TO
+0001bf90: 444f 3a20 4d61 6b65 2066 6f6c 6c6f 7769  DO: Make followi
+0001bfa0: 6e67 2064 6566 696e 6974 696f 6e20 6765  ng definition ge
+0001bfb0: 6e65 7261 6c0a 2020 2020 2020 2020 2020  neral.          
+0001bfc0: 2020 2020 2020 2320 7365 6c66 2e63 6f72        # self.cor
+0001bfd0: 652e 7369 676d 6120 3d20 3220 2a20 6e70  e.sigma = 2 * np
+0001bfe0: 2e70 6920 2a20 7365 6c66 2e66 7265 7175  .pi * self.frequ
+0001bff0: 656e 6379 202a 2065 7073 696c 6f6e 5f30  ency * epsilon_0
+0001c000: 202a 2066 5f4e 3935 5f65 725f 696d 6167   * f_N95_er_imag
+0001c010: 2866 3d73 656c 662e 6672 6571 7565 6e63  (f=self.frequenc
+0001c020: 7929 202b 2031 202f 2036 0a20 2020 2020  y) + 1 / 6.     
+0001c030: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c040: 636f 7265 2e73 6967 6d61 203d 2031 202f  core.sigma = 1 /
+0001c050: 2036 0a20 2020 2020 2020 2020 2020 2074   6.            t
+0001c060: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
+0001c070: 2273 6967 6d61 5f63 6f72 6520 3d20 7b73  "sigma_core = {s
+0001c080: 656c 662e 636f 7265 2e73 6967 6d61 2e72  elf.core.sigma.r
+0001c090: 6561 6c7d 3b5c 6e22 290a 2020 2020 2020  eal};\n").      
+0001c0a0: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
+0001c0b0: 7772 6974 6528 6622 7369 676d 615f 636f  write(f"sigma_co
+0001c0c0: 7265 5f69 6d61 6720 3d20 7b73 656c 662e  re_imag = {self.
+0001c0d0: 636f 7265 2e73 6967 6d61 2e69 6d61 677d  core.sigma.imag}
+0001c0e0: 3b5c 6e22 290a 2020 2020 2020 2020 656c  ;\n").        el
+0001c0f0: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0001c100: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0001c110: 2246 6c61 675f 436f 6e64 7563 7469 6e67  "Flag_Conducting
+0001c120: 5f43 6f72 6520 3d20 303b 5c6e 2229 0a0a  _Core = 0;\n")..
+0001c130: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0001c140: 636f 7265 2e73 7465 696e 6d65 747a 5f6c  core.steinmetz_l
+0001c150: 6f73 733a 0a20 2020 2020 2020 2020 2020  oss:.           
+0001c160: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
+0001c170: 2866 226b 6920 3d20 7b73 656c 662e 636f  (f"ki = {self.co
+0001c180: 7265 2e6b 697d 3b5c 6e22 290a 2020 2020  re.ki};\n").    
+0001c190: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001c1a0: 652e 7772 6974 6528 6622 616c 7068 6120  e.write(f"alpha 
+0001c1b0: 3d20 7b73 656c 662e 636f 7265 2e61 6c70  = {self.core.alp
+0001c1c0: 6861 7d3b 5c6e 2229 0a20 2020 2020 2020  ha};\n").       
+0001c1d0: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001c1e0: 7269 7465 2866 2262 6574 6120 3d20 7b73  rite(f"beta = {s
+0001c1f0: 656c 662e 636f 7265 2e62 6574 617d 3b5c  elf.core.beta};\
+0001c200: 6e22 290a 2020 2020 2020 2020 6966 2073  n").        if s
+0001c210: 656c 662e 636f 7265 2e67 656e 6572 616c  elf.core.general
+0001c220: 697a 6564 5f73 7465 696e 6d65 747a 5f6c  ized_steinmetz_l
+0001c230: 6f73 733a 0a20 2020 2020 2020 2020 2020  oss:.           
+0001c240: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
+0001c250: 2866 2274 5f72 6973 6520 3d20 7b73 656c  (f"t_rise = {sel
+0001c260: 662e 745f 7269 7365 7d3b 5c6e 2229 0a20  f.t_rise};\n"). 
+0001c270: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0001c280: 6669 6c65 2e77 7269 7465 2866 2274 5f66  file.write(f"t_f
+0001c290: 616c 6c20 3d20 7b73 656c 662e 745f 6661  all = {self.t_fa
+0001c2a0: 6c6c 7d3b 5c6e 2229 0a20 2020 2020 2020  ll};\n").       
+0001c2b0: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001c2c0: 7269 7465 2866 2266 5f73 7769 7463 6820  rite(f"f_switch 
+0001c2d0: 3d20 7b73 656c 662e 665f 7377 6974 6368  = {self.f_switch
+0001c2e0: 7d3b 5c6e 2229 0a20 2020 2020 2020 2023  };\n").        #
+0001c2f0: 2074 696d 6520 646f 6d61 696e 2070 6172   time domain par
+0001c300: 616d 6574 6572 730a 2020 2020 2020 2020  ameters.        
+0001c310: 6966 2073 656c 662e 7369 6d75 6c61 7469  if self.simulati
+0001c320: 6f6e 5f74 7970 6520 3d3d 2053 696d 756c  on_type == Simul
+0001c330: 6174 696f 6e54 7970 652e 5469 6d65 446f  ationType.TimeDo
+0001c340: 6d61 696e 3a0a 2020 2020 2020 2020 2020  main:.          
+0001c350: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
+0001c360: 6528 6622 5420 3d20 7b73 656c 662e 7469  e(f"T = {self.ti
+0001c370: 6d65 5f70 6572 696f 647d 3b5c 6e22 290a  me_period};\n").
+0001c380: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0001c390: 5f66 696c 652e 7772 6974 6528 6622 7469  _file.write(f"ti
+0001c3a0: 6d65 3020 3d20 7b73 656c 662e 696e 6974  me0 = {self.init
+0001c3b0: 6961 6c5f 7469 6d65 7d3b 5c6e 2229 0a20  ial_time};\n"). 
+0001c3c0: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0001c3d0: 6669 6c65 2e77 7269 7465 2866 2274 696d  file.write(f"tim
+0001c3e0: 656d 6178 203d 207b 7365 6c66 2e6d 6178  emax = {self.max
+0001c3f0: 5f74 696d 657d 3b5c 6e22 290a 2020 2020  _time};\n").    
+0001c400: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001c410: 652e 7772 6974 6528 6622 4e62 5374 6570  e.write(f"NbStep
+0001c420: 7350 6572 5065 7269 6f64 203d 207b 7365  sPerPeriod = {se
+0001c430: 6c66 2e6e 625f 7374 6570 735f 7065 725f  lf.nb_steps_per_
+0001c440: 7065 7269 6f64 7d3b 5c6e 2229 0a20 2020  period};\n").   
+0001c450: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
+0001c460: 6c65 2e77 7269 7465 2866 224e 6253 7465  le.write(f"NbSte
+0001c470: 7073 203d 207b 7365 6c66 2e6e 625f 7374  ps = {self.nb_st
+0001c480: 6570 737d 3b5c 6e22 290a 2020 2020 2020  eps};\n").      
+0001c490: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
+0001c4a0: 7772 6974 6528 6622 6465 6c74 615f 7420  write(f"delta_t 
+0001c4b0: 3d20 7b73 656c 662e 7374 6570 5f74 696d  = {self.step_tim
+0001c4c0: 657d 3b5c 6e22 290a 2020 2020 2020 2020  e};\n").        
+0001c4d0: 2020 2020 7469 6d65 5f76 616c 7565 735f      time_values_
+0001c4e0: 7374 7220 3d20 272c 2027 2e6a 6f69 6e28  str = ', '.join(
+0001c4f0: 6d61 7028 7374 722c 2073 656c 662e 7469  map(str, self.ti
+0001c500: 6d65 2929 0a20 2020 2020 2020 2020 2020  me)).           
+0001c510: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
+0001c520: 2866 2254 696d 654c 6973 7420 3d20 7b7b  (f"TimeList = {{
+0001c530: 7b74 696d 655f 7661 6c75 6573 5f73 7472  {time_values_str
+0001c540: 7d7d 7d3b 5c6e 2229 2020 2320 5469 6d65  }}};\n")  # Time
+0001c550: 4c69 7374 2069 7320 696e 7465 7270 6f6c  List is interpol
+0001c560: 6174 6564 2077 6974 6820 6375 7272 656e  ated with curren
+0001c570: 7420 6c69 7374 7320 696e 2074 6865 2073  t lists in the s
+0001c580: 6f6c 7665 720a 0a20 2020 2020 2020 2023  olver..        #
+0001c590: 2043 6f6e 6475 6374 6f72 2073 7065 6369   Conductor speci
+0001c5a0: 6669 6320 6465 6669 6e69 7469 6f6e 730a  fic definitions.
+0001c5b0: 2020 2020 2020 2020 666f 7220 7769 6e64          for wind
+0001c5c0: 696e 675f 6e75 6d62 6572 2069 6e20 7261  ing_number in ra
+0001c5d0: 6e67 6528 6c65 6e28 7365 6c66 2e77 696e  nge(len(self.win
+0001c5e0: 6469 6e67 7329 293a 0a20 2020 2020 2020  dings)):.       
+0001c5f0: 2020 2020 2023 202d 2d20 436f 6e74 726f       # -- Contro
+0001c600: 6c20 466c 6167 7320 2d2d 0a20 2020 2020  l Flags --.     
+0001c610: 2020 2020 2020 2069 6620 7365 6c66 2e66         if self.f
+0001c620: 6c61 675f 6578 6369 7461 7469 6f6e 5f74  lag_excitation_t
+0001c630: 7970 6520 3d3d 2027 6375 7272 656e 7427  ype == 'current'
+0001c640: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001c650: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
+0001c660: 6528 2246 6c61 675f 496d 706f 7365 6456  e("Flag_ImposedV
+0001c670: 6f6c 7461 6765 203d 2030 3b5c 6e22 290a  oltage = 0;\n").
+0001c680: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+0001c690: 656c 662e 666c 6167 5f65 7863 6974 6174  elf.flag_excitat
+0001c6a0: 696f 6e5f 7479 7065 203d 3d20 2776 6f6c  ion_type == 'vol
+0001c6b0: 7461 6765 273a 0a20 2020 2020 2020 2020  tage':.         
+0001c6c0: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
+0001c6d0: 2e77 7269 7465 2822 466c 6167 5f49 6d70  .write("Flag_Imp
+0001c6e0: 6f73 6564 566f 6c74 6167 6520 3d20 313b  osedVoltage = 1;
+0001c6f0: 5c6e 2229 0a20 2020 2020 2020 2020 2020  \n").           
+0001c700: 2069 6620 7365 6c66 2e77 696e 6469 6e67   if self.winding
+0001c710: 735b 7769 6e64 696e 675f 6e75 6d62 6572  s[winding_number
+0001c720: 5d2e 636f 6e64 7563 746f 725f 7479 7065  ].conductor_type
+0001c730: 203d 3d20 436f 6e64 7563 746f 7254 7970   == ConductorTyp
+0001c740: 652e 526f 756e 644c 6974 7a3a 0a20 2020  e.RoundLitz:.   
+0001c750: 2020 2020 2020 2020 2020 2020 2074 6578               tex
+0001c760: 745f 6669 6c65 2e77 7269 7465 2866 2246  t_file.write(f"F
+0001c770: 6c61 675f 486f 6d6f 6765 6e69 7365 644d  lag_HomogenisedM
+0001c780: 6f64 656c 5f7b 7769 6e64 696e 675f 6e75  odel_{winding_nu
+0001c790: 6d62 6572 202b 2031 7d20 3d20 313b 5c6e  mber + 1} = 1;\n
+0001c7a0: 2229 0a20 2020 2020 2020 2020 2020 2065  ").            e
+0001c7b0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0001c7c0: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001c7d0: 7269 7465 2866 2246 6c61 675f 486f 6d6f  rite(f"Flag_Homo
+0001c7e0: 6765 6e69 7365 644d 6f64 656c 5f7b 7769  genisedModel_{wi
+0001c7f0: 6e64 696e 675f 6e75 6d62 6572 202b 2031  nding_number + 1
+0001c800: 7d20 3d20 303b 5c6e 2229 0a0a 2020 2020  } = 0;\n")..    
+0001c810: 2020 2020 2020 2020 2320 2d2d 2047 656f          # -- Geo
+0001c820: 6d65 7472 7920 2d2d 0a20 2020 2020 2020  metry --.       
+0001c830: 2020 2020 2023 2043 6f72 6520 5061 7274       # Core Part
+0001c840: 730a 2020 2020 2020 2020 2020 2020 7465  s.            te
+0001c850: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
+0001c860: 6e43 6f72 6550 6172 7473 203d 207b 6c65  nCoreParts = {le
+0001c870: 6e28 7365 6c66 2e6d 6573 682e 706c 616e  n(self.mesh.plan
+0001c880: 655f 7375 7266 6163 655f 636f 7265 297d  e_surface_core)}
+0001c890: 3b5c 6e22 290a 0a20 2020 2020 2020 2020  ;\n")..         
+0001c8a0: 2020 2074 7572 6e73 203d 2066 662e 6765     turns = ff.ge
+0001c8b0: 745f 6e75 6d62 6572 5f6f 665f 7475 726e  t_number_of_turn
+0001c8c0: 735f 6f66 5f77 696e 6469 6e67 2877 696e  s_of_winding(win
+0001c8d0: 6469 6e67 5f77 696e 646f 7773 3d73 656c  ding_windows=sel
+0001c8e0: 662e 7769 6e64 696e 675f 7769 6e64 6f77  f.winding_window
+0001c8f0: 732c 2077 696e 6469 6e67 733d 7365 6c66  s, windings=self
+0001c900: 2e77 696e 6469 6e67 732c 0a20 2020 2020  .windings,.     
+0001c910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c940: 2077 696e 6469 6e67 5f6e 756d 6265 723d   winding_number=
+0001c950: 7769 6e64 696e 675f 6e75 6d62 6572 290a  winding_number).
+0001c960: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+0001c970: 7365 6c66 2e77 696e 6469 6e67 735b 7769  self.windings[wi
+0001c980: 6e64 696e 675f 6e75 6d62 6572 5d2e 7061  nding_number].pa
+0001c990: 7261 6c6c 656c 3a0a 2020 2020 2020 2020  rallel:.        
+0001c9a0: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001c9b0: 652e 7772 6974 6528 6622 4e62 7243 6f6e  e.write(f"NbrCon
+0001c9c0: 645f 7b77 696e 6469 6e67 5f6e 756d 6265  d_{winding_numbe
+0001c9d0: 7220 2b20 317d 203d 2031 3b5c 6e22 290a  r + 1} = 1;\n").
+0001c9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001c9f0: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0001ca00: 6622 4172 6561 4365 6c6c 5f7b 7769 6e64  f"AreaCell_{wind
+0001ca10: 696e 675f 6e75 6d62 6572 202b 2031 7d20  ing_number + 1} 
+0001ca20: 3d20 7b73 656c 662e 7769 6e64 696e 6773  = {self.windings
+0001ca30: 5b77 696e 6469 6e67 5f6e 756d 6265 725d  [winding_number]
+0001ca40: 2e61 5f63 656c 6c20 2a20 7475 726e 737d  .a_cell * turns}
+0001ca50: 3b5c 6e22 290a 2020 2020 2020 2020 2020  ;\n").          
+0001ca60: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001ca70: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001ca80: 652e 7772 6974 6528 6622 4e62 7243 6f6e  e.write(f"NbrCon
+0001ca90: 645f 7b77 696e 6469 6e67 5f6e 756d 6265  d_{winding_numbe
+0001caa0: 7220 2b20 317d 203d 207b 7475 726e 737d  r + 1} = {turns}
+0001cab0: 3b5c 6e22 290a 2020 2020 2020 2020 2020  ;\n").          
+0001cac0: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
+0001cad0: 7772 6974 6528 6622 4172 6561 4365 6c6c  write(f"AreaCell
+0001cae0: 5f7b 7769 6e64 696e 675f 6e75 6d62 6572  _{winding_number
+0001caf0: 202b 2031 7d20 3d20 7b73 656c 662e 7769   + 1} = {self.wi
+0001cb00: 6e64 696e 6773 5b77 696e 6469 6e67 5f6e  ndings[winding_n
+0001cb10: 756d 6265 725d 2e61 5f63 656c 6c7d 3b5c  umber].a_cell};\
+0001cb20: 6e22 290a 0a20 2020 2020 2020 2020 2020  n")..           
+0001cb30: 2023 2046 6f72 2073 7472 616e 6465 6420   # For stranded 
+0001cb40: 436f 6e64 7563 746f 7273 3a0a 2020 2020  Conductors:.    
+0001cb50: 2020 2020 2020 2020 2320 7465 7874 5f66          # text_f
+0001cb60: 696c 652e 7772 6974 6528 6622 4e62 7273  ile.write(f"Nbrs
+0001cb70: 7472 616e 6465 6443 6f6e 6420 3d20 7b73  trandedCond = {s
+0001cb80: 656c 662e 7475 726e 737d 3b5c 6e22 2920  elf.turns};\n") 
+0001cb90: 2023 2072 6564 756e 6461 6e74 0a20 2020   # redundant.   
+0001cba0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+0001cbb0: 2e77 696e 6469 6e67 735b 7769 6e64 696e  .windings[windin
+0001cbc0: 675f 6e75 6d62 6572 5d2e 636f 6e64 7563  g_number].conduc
+0001cbd0: 746f 725f 7479 7065 203d 3d20 436f 6e64  tor_type == Cond
+0001cbe0: 7563 746f 7254 7970 652e 526f 756e 644c  uctorType.RoundL
+0001cbf0: 6974 7a3a 0a20 2020 2020 2020 2020 2020  itz:.           
+0001cc00: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001cc10: 7269 7465 2866 224e 6272 5374 7261 6e64  rite(f"NbrStrand
+0001cc20: 735f 7b77 696e 6469 6e67 5f6e 756d 6265  s_{winding_numbe
+0001cc30: 7220 2b20 317d 203d 207b 7365 6c66 2e77  r + 1} = {self.w
+0001cc40: 696e 6469 6e67 735b 7769 6e64 696e 675f  indings[winding_
+0001cc50: 6e75 6d62 6572 5d2e 6e5f 7374 7261 6e64  number].n_strand
+0001cc60: 737d 3b5c 6e22 290a 2020 2020 2020 2020  s};\n").        
+0001cc70: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001cc80: 652e 7772 6974 6528 6622 4669 6c6c 5f7b  e.write(f"Fill_{
+0001cc90: 7769 6e64 696e 675f 6e75 6d62 6572 202b  winding_number +
+0001cca0: 2031 7d20 3d20 7b73 656c 662e 7769 6e64   1} = {self.wind
+0001ccb0: 696e 6773 5b77 696e 6469 6e67 5f6e 756d  ings[winding_num
+0001ccc0: 6265 725d 2e66 667d 3b5c 6e22 290a 2020  ber].ff};\n").  
+0001ccd0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001cce0: 2d2d 2d0a 2020 2020 2020 2020 2020 2020  ---.            
+0001ccf0: 2020 2020 2320 4c69 747a 2041 7070 726f      # Litz Appro
+0001cd00: 7869 6d61 7469 6f6e 2043 6f65 6666 6963  ximation Coeffic
+0001cd10: 6965 6e74 7320 7765 7265 2063 7265 6174  ients were creat
+0001cd20: 6564 2077 6974 6820 3420 6c61 7965 7273  ed with 4 layers
+0001cd30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001cd40: 2023 2054 6861 7427 7320 7768 7920 6865   # That's why he
+0001cd50: 7265 2061 2068 6172 642d 636f 6465 6420  re a hard-coded 
+0001cd60: 3420 6973 2069 6d70 6c65 6d65 6e74 6564  4 is implemented
+0001cd70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001cd80: 2023 2074 6578 745f 6669 6c65 2e77 7269   # text_file.wri
+0001cd90: 7465 2866 224e 6272 4c61 7965 7273 7b6e  te(f"NbrLayers{n
+0001cda0: 756d 2b31 7d20 3d20 7b73 656c 662e 6e5f  um+1} = {self.n_
+0001cdb0: 6c61 7965 7273 5b6e 756d 5d7d 3b5c 6e22  layers[num]};\n"
+0001cdc0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001cdd0: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
+0001cde0: 6528 6622 4e62 724c 6179 6572 735f 7b77  e(f"NbrLayers_{w
+0001cdf0: 696e 6469 6e67 5f6e 756d 6265 7220 2b20  inding_number + 
+0001ce00: 317d 203d 2034 3b5c 6e22 290a 0a20 2020  1} = 4;\n")..   
+0001ce10: 2020 2020 2020 2020 2074 6578 745f 6669           text_fi
+0001ce20: 6c65 2e77 7269 7465 2866 2252 635f 7b77  le.write(f"Rc_{w
+0001ce30: 696e 6469 6e67 5f6e 756d 6265 7220 2b20  inding_number + 
+0001ce40: 317d 203d 207b 7365 6c66 2e77 696e 6469  1} = {self.windi
+0001ce50: 6e67 735b 7769 6e64 696e 675f 6e75 6d62  ngs[winding_numb
+0001ce60: 6572 5d2e 636f 6e64 7563 746f 725f 7261  er].conductor_ra
+0001ce70: 6469 7573 7d3b 5c6e 2229 0a0a 2020 2020  dius};\n")..    
+0001ce80: 2020 2020 2020 2020 2320 2d2d 2045 7863          # -- Exc
+0001ce90: 6974 6174 696f 6e20 2d2d 0a20 2020 2020  itation --.     
+0001cea0: 2020 2020 2020 2023 2049 6d70 6f73 6564         # Imposed
+0001ceb0: 2063 7572 7265 6e74 2c20 6375 7272 656e   current, curren
+0001cec0: 7420 6465 6e73 6974 7920 6f72 2076 6f6c  t density or vol
+0001ced0: 7461 6765 0a20 2020 2020 2020 2020 2020  tage.           
+0001cee0: 2069 6620 7365 6c66 2e66 6c61 675f 6578   if self.flag_ex
+0001cef0: 6369 7461 7469 6f6e 5f74 7970 6520 3d3d  citation_type ==
+0001cf00: 2027 6375 7272 656e 7427 3a0a 0a20 2020   'current':..   
+0001cf10: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0001cf20: 7365 6c66 2e73 696d 756c 6174 696f 6e5f  self.simulation_
+0001cf30: 7479 7065 203d 3d20 5369 6d75 6c61 7469  type == Simulati
+0001cf40: 6f6e 5479 7065 2e46 7265 7144 6f6d 6169  onType.FreqDomai
+0001cf50: 6e3a 0a20 2020 2020 2020 2020 2020 2020  n:.             
+0001cf60: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
+0001cf70: 2e77 7269 7465 2866 2256 616c 5f45 455f  .write(f"Val_EE_
+0001cf80: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
+0001cf90: 2b20 317d 203d 207b 6162 7328 7365 6c66  + 1} = {abs(self
+0001cfa0: 2e63 7572 7265 6e74 5b77 696e 6469 6e67  .current[winding
+0001cfb0: 5f6e 756d 6265 725d 297d 3b5c 6e22 290a  _number])};\n").
+0001cfc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cfd0: 6966 2073 656c 662e 7369 6d75 6c61 7469  if self.simulati
+0001cfe0: 6f6e 5f74 7970 6520 3d3d 2053 696d 756c  on_type == Simul
+0001cff0: 6174 696f 6e54 7970 652e 5469 6d65 446f  ationType.TimeDo
+0001d000: 6d61 696e 3a0a 2020 2020 2020 2020 2020  main:.          
+0001d010: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+0001d020: 745f 7661 6c75 6573 5f73 7472 203d 2027  t_values_str = '
+0001d030: 2c20 272e 6a6f 696e 286d 6170 2873 7472  , '.join(map(str
+0001d040: 2c20 7365 6c66 2e63 7572 7265 6e74 5b77  , self.current[w
+0001d050: 696e 6469 6e67 5f6e 756d 6265 725d 2929  inding_number]))
+0001d060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d070: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001d080: 7269 7465 2866 2243 7572 7265 6e74 4c69  rite(f"CurrentLi
+0001d090: 7374 5f7b 7769 6e64 696e 675f 6e75 6d62  st_{winding_numb
+0001d0a0: 6572 202b 2031 7d20 3d20 7b7b 7b63 7572  er + 1} = {{{cur
+0001d0b0: 7265 6e74 5f76 616c 7565 735f 7374 727d  rent_values_str}
+0001d0c0: 7d7d 3b5c 6e22 290a 2020 2020 2020 2020  }};\n").        
+0001d0d0: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0001d0e0: 5f66 696c 652e 7772 6974 6528 6622 5661  _file.write(f"Va
+0001d0f0: 6c5f 4545 5f7b 7769 6e64 696e 675f 6e75  l_EE_{winding_nu
+0001d100: 6d62 6572 202b 2031 7d20 3d20 313b 5c6e  mber + 1} = 1;\n
+0001d110: 2229 0a0a 2020 2020 2020 2020 2020 2020  ")..            
+0001d120: 2020 2020 7465 7874 5f66 696c 652e 7772      text_file.wr
+0001d130: 6974 6528 6622 5068 6173 655f 7b77 696e  ite(f"Phase_{win
+0001d140: 6469 6e67 5f6e 756d 6265 7220 2b20 317d  ding_number + 1}
+0001d150: 203d 207b 6e70 2e64 6567 3272 6164 2873   = {np.deg2rad(s
+0001d160: 656c 662e 7068 6173 655f 6465 675b 7769  elf.phase_deg[wi
+0001d170: 6e64 696e 675f 6e75 6d62 6572 5d29 7d3b  nding_number])};
+0001d180: 5c6e 2229 0a20 2020 2020 2020 2020 2020  \n").           
+0001d190: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001d1a0: 7269 7465 280a 2020 2020 2020 2020 2020  rite(.          
+0001d1b0: 2020 2020 2020 2020 2020 6622 5061 7261            f"Para
+0001d1c0: 6c6c 656c 5f7b 7769 6e64 696e 675f 6e75  llel_{winding_nu
+0001d1d0: 6d62 6572 202b 2031 7d20 3d20 7b69 6e74  mber + 1} = {int
+0001d1e0: 2873 656c 662e 7769 6e64 696e 6773 5b77  (self.windings[w
+0001d1f0: 696e 6469 6e67 5f6e 756d 6265 725d 2e70  inding_number].p
+0001d200: 6172 616c 6c65 6c20 6973 2054 7275 6529  arallel is True)
+0001d210: 7d3b 5c6e 2229 0a0a 2020 2020 2020 2020  };\n")..        
+0001d220: 2020 2020 6966 2073 656c 662e 666c 6167      if self.flag
+0001d230: 5f65 7863 6974 6174 696f 6e5f 7479 7065  _excitation_type
+0001d240: 203d 3d20 2763 7572 7265 6e74 5f64 656e   == 'current_den
+0001d250: 7369 7479 273a 0a20 2020 2020 2020 2020  sity':.         
+0001d260: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
+0001d270: 2e77 7269 7465 2866 2256 616c 5f45 455f  .write(f"Val_EE_
+0001d280: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
+0001d290: 2b20 317d 203d 207b 7365 6c66 2e63 7572  + 1} = {self.cur
+0001d2a0: 7265 6e74 5f64 656e 7369 7479 5b77 696e  rent_density[win
+0001d2b0: 6469 6e67 5f6e 756d 6265 725d 7d3b 5c6e  ding_number]};\n
+0001d2c0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001d2d0: 2020 2072 6169 7365 204e 6f74 496d 706c     raise NotImpl
+0001d2e0: 656d 656e 7465 6445 7272 6f72 0a0a 2020  ementedError..  
+0001d2f0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+0001d300: 662e 666c 6167 5f65 7863 6974 6174 696f  f.flag_excitatio
+0001d310: 6e5f 7479 7065 203d 3d20 2776 6f6c 7461  n_type == 'volta
+0001d320: 6765 273a 0a20 2020 2020 2020 2020 2020  ge':.           
+0001d330: 2020 2020 2074 6578 745f 6669 6c65 2e77       text_file.w
+0001d340: 7269 7465 2866 2256 616c 5f45 455f 7b77  rite(f"Val_EE_{w
+0001d350: 696e 6469 6e67 5f6e 756d 6265 7220 2b20  inding_number + 
+0001d360: 317d 203d 207b 7365 6c66 2e76 6f6c 7461  1} = {self.volta
+0001d370: 6765 5b77 696e 6469 6e67 5f6e 756d 6265  ge[winding_numbe
+0001d380: 725d 7d3b 5c6e 2229 0a20 2020 2020 2020  r]};\n").       
+0001d390: 2020 2020 2020 2020 2072 6169 7365 204e           raise N
+0001d3a0: 6f74 496d 706c 656d 656e 7465 6445 7272  otImplementedErr
+0001d3b0: 6f72 0a0a 2020 2020 2020 2020 2020 2020  or..            
+0001d3c0: 7365 6c66 2e66 656d 6d74 5f70 7269 6e74  self.femmt_print
+0001d3d0: 2866 2243 656c 6c20 7375 7266 6163 6520  (f"Cell surface 
+0001d3e0: 6172 6561 3a20 7b73 656c 662e 7769 6e64  area: {self.wind
+0001d3f0: 696e 6773 5b77 696e 6469 6e67 5f6e 756d  ings[winding_num
+0001d400: 6265 725d 2e61 5f63 656c 6c7d 205c 6e22  ber].a_cell} \n"
+0001d410: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001d420: 2020 2020 2020 2020 2020 2020 2020 6622                f"
+0001d430: 5265 6475 6365 6420 6672 6571 7565 6e63  Reduced frequenc
+0001d440: 793a 207b 7365 6c66 2e72 6564 5f66 7265  y: {self.red_fre
+0001d450: 715b 7769 6e64 696e 675f 6e75 6d62 6572  q[winding_number
+0001d460: 5d7d 2229 0a0a 2020 2020 2020 2020 2020  ]}")..          
+0001d470: 2020 6966 2073 656c 662e 7265 645f 6672    if self.red_fr
+0001d480: 6571 5b77 696e 6469 6e67 5f6e 756d 6265  eq[winding_numbe
+0001d490: 725d 203e 2031 2e32 3520 616e 6420 7365  r] > 1.25 and se
+0001d4a0: 6c66 2e77 696e 6469 6e67 735b 7769 6e64  lf.windings[wind
+0001d4b0: 696e 675f 6e75 6d62 6572 5d2e 636f 6e64  ing_number].cond
+0001d4c0: 7563 746f 725f 7479 7065 203d 3d20 436f  uctor_type == Co
+0001d4d0: 6e64 7563 746f 7254 7970 652e 526f 756e  nductorType.Roun
+0001d4e0: 644c 6974 7a3a 0a20 2020 2020 2020 2020  dLitz:.         
+0001d4f0: 2020 2020 2020 2023 2054 4f44 4f3a 2041         # TODO: A
+0001d500: 6c6c 6f77 2068 6967 6865 7220 7265 6475  llow higher redu
+0001d510: 6365 6420 6672 6571 7565 6e63 6965 730a  ced frequencies.
+0001d520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001d530: 7365 6c66 2e66 656d 6d74 5f70 7269 6e74  self.femmt_print
+0001d540: 2822 4c69 747a 2043 6f65 6666 6963 6965  ("Litz Coefficie
+0001d550: 6e74 7320 6f6e 6c79 2069 6d70 6c65 6d65  nts only impleme
+0001d560: 6e74 6564 2066 6f72 2058 3c3d 312e 3235  nted for X<=1.25
+0001d570: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0001d580: 2020 2072 6169 7365 2057 6172 6e69 6e67     raise Warning
+0001d590: 0a20 2020 2020 2020 2020 2020 2023 2052  .            # R
+0001d5a0: 6564 7563 6564 2046 7265 7175 656e 6379  educed Frequency
+0001d5b0: 0a20 2020 2020 2020 2020 2020 2074 6578  .            tex
+0001d5c0: 745f 6669 6c65 2e77 7269 7465 2866 2252  t_file.write(f"R
+0001d5d0: 725f 7b77 696e 6469 6e67 5f6e 756d 6265  r_{winding_numbe
+0001d5e0: 7220 2b20 317d 203d 207b 7365 6c66 2e72  r + 1} = {self.r
+0001d5f0: 6564 5f66 7265 715b 7769 6e64 696e 675f  ed_freq[winding_
+0001d600: 6e75 6d62 6572 5d7d 3b5c 6e22 290a 0a20  number]};\n").. 
+0001d610: 2020 2020 2020 2020 2020 2023 204d 6174             # Mat
+0001d620: 6572 6961 6c20 5072 6f70 6572 7469 6573  erial Properties
+0001d630: 0a20 2020 2020 2020 2020 2020 2023 2043  .            # C
+0001d640: 6f6e 6475 6374 6f72 204d 6174 6572 6961  onductor Materia
+0001d650: 6c0a 2020 2020 2020 2020 2020 2020 7465  l.            te
+0001d660: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
+0001d670: 7369 676d 615f 7769 6e64 696e 675f 7b77  sigma_winding_{w
+0001d680: 696e 6469 6e67 5f6e 756d 6265 7220 2b20  inding_number + 
+0001d690: 317d 203d 207b 7365 6c66 2e77 696e 6469  1} = {self.windi
+0001d6a0: 6e67 735b 7769 6e64 696e 675f 6e75 6d62  ngs[winding_numb
+0001d6b0: 6572 5d2e 636f 6e64 5f73 6967 6d61 7d3b  er].cond_sigma};
+0001d6c0: 5c6e 2229 0a0a 2020 2020 2020 2020 2320  \n")..        # 
+0001d6d0: 2d2d 204d 6174 6572 6961 6c73 202d 2d0a  -- Materials --.
+0001d6e0: 0a20 2020 2020 2020 2023 204e 6174 7572  .        # Natur
+0001d6f0: 6520 436f 6e73 7461 6e74 730a 2020 2020  e Constants.    
+0001d700: 2020 2020 7465 7874 5f66 696c 652e 7772      text_file.wr
+0001d710: 6974 6528 226d 7530 203d 2034 2e65 2d37  ite("mu0 = 4.e-7
+0001d720: 202a 2050 693b 5c6e 2229 0a20 2020 2020   * Pi;\n").     
 0001d730: 2020 2074 6578 745f 6669 6c65 2e77 7269     text_file.wri
-0001d740: 7465 2866 2270 6869 5f6d 755f 6465 6720  te(f"phi_mu_deg 
-0001d750: 3d20 7b73 656c 662e 636f 7265 2e70 6869  = {self.core.phi
-0001d760: 5f6d 755f 6465 677d 3b5c 6e22 290a 2020  _mu_deg};\n").  
-0001d770: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0001d780: 5265 616c 2070 6172 7420 6f66 2063 6f6d  Real part of com
-0001d790: 706c 6578 2070 6572 6d65 6162 696c 6974  plex permeabilit
-0001d7a0: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
-0001d7b0: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001d7c0: 6528 6622 6d75 725f 7265 616c 203d 207b  e(f"mur_real = {
-0001d7d0: 7365 6c66 2e63 6f72 652e 6d75 5f72 5f61  self.core.mu_r_a
-0001d7e0: 6273 202a 206e 702e 636f 7328 6e70 2e64  bs * np.cos(np.d
-0001d7f0: 6567 3272 6164 2873 656c 662e 636f 7265  eg2rad(self.core
-0001d800: 2e70 6869 5f6d 755f 6465 6729 297d 3b5c  .phi_mu_deg))};\
-0001d810: 6e22 290a 2020 2020 2020 2020 2020 2020  n").            
-0001d820: 2020 2020 2320 496d 6167 696e 6172 7920      # Imaginary 
-0001d830: 7061 7274 206f 6620 636f 6d70 6c65 7820  part of complex 
-0001d840: 7065 726d 6561 6269 6c69 7479 0a20 2020  permeability.   
-0001d850: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-0001d860: 745f 6669 6c65 2e77 7269 7465 280a 2020  t_file.write(.  
-0001d870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001d880: 2020 6622 6d75 725f 696d 6167 203d 207b    f"mur_imag = {
-0001d890: 7365 6c66 2e63 6f72 652e 6d75 5f72 5f61  self.core.mu_r_a
-0001d8a0: 6273 202a 206e 702e 7369 6e28 6e70 2e64  bs * np.sin(np.d
-0001d8b0: 6567 3272 6164 2873 656c 662e 636f 7265  eg2rad(self.core
-0001d8c0: 2e70 6869 5f6d 755f 6465 6729 297d 3b5c  .phi_mu_deg))};\
-0001d8d0: 6e22 290a 2020 2020 2020 2020 2020 2020  n").            
-0001d8e0: 2020 2020 2320 6c6f 7373 2061 6e67 6c65      # loss angle
-0001d8f0: 2066 6f72 2063 6f6d 706c 6578 2072 6570   for complex rep
-0001d900: 7265 7365 6e74 6174 696f 6e20 6f66 2068  resentation of h
-0001d910: 7973 7465 7265 7369 7320 6c6f 7373 0a20  ysteresis loss. 
-0001d920: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0001d930: 6578 745f 6669 6c65 2e77 7269 7465 2822  ext_file.write("
-0001d940: 466c 6167 5f46 6978 6564 5f4c 6f73 735f  Flag_Fixed_Loss_
-0001d950: 416e 676c 6520 3d20 313b 5c6e 2229 0a20  Angle = 1;\n"). 
-0001d960: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-0001d970: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001d980: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
-0001d990: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001d9a0: 2020 2020 2020 2246 6c61 675f 4669 7865        "Flag_Fixe
-0001d9b0: 645f 4c6f 7373 5f41 6e67 6c65 203d 2030  d_Loss_Angle = 0
-0001d9c0: 3b5c 6e22 2920 2023 206c 6f73 7320 616e  ;\n")  # loss an
-0001d9d0: 676c 6520 666f 7220 636f 6d70 6c65 7820  gle for complex 
-0001d9e0: 7265 7072 6573 656e 7461 7469 6f6e 206f  representation o
-0001d9f0: 6620 6879 7374 6572 6573 6973 206c 6f73  f hysteresis los
-0001da00: 730a 0a20 2020 2020 2020 2023 2069 6620  s..        # if 
-0001da10: 7365 6c66 2e66 7265 7175 656e 6379 2021  self.frequency !
-0001da20: 3d20 303a 0a20 2020 2020 2020 2023 2020  = 0:.        #  
-0001da30: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001da40: 6528 6622 466c 6167 5f4e 4c20 3d20 303b  e(f"Flag_NL = 0;
-0001da50: 5c6e 2229 0a20 2020 2020 2020 2023 2020  \n").        #  
-0001da60: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001da70: 6528 6622 6d75 7220 3d20 7b73 656c 662e  e(f"mur = {self.
-0001da80: 636f 7265 2e6d 755f 7265 6c7d 3b5c 6e22  core.mu_rel};\n"
-0001da90: 290a 0a20 2020 2020 2020 2074 6578 745f  )..        text_
-0001daa0: 6669 6c65 2e63 6c6f 7365 2829 0a0a 2020  file.close()..  
-0001dab0: 2020 6465 6620 7772 6974 655f 656c 6563    def write_elec
-0001dac0: 7472 6f5f 6d61 676e 6574 6963 5f70 6f73  tro_magnetic_pos
-0001dad0: 745f 7072 6f28 7365 6c66 293a 0a20 2020  t_pro(self):.   
-0001dae0: 2020 2020 2022 2222 5772 6974 6520 6669       """Write fi
-0001daf0: 656c 6420 736f 6c75 7469 6f6e 7320 696e  eld solutions in
-0001db00: 746f 2074 6865 2067 6976 656e 2066 6f6c  to the given fol
-0001db10: 6465 7220 7374 7275 6374 7572 652e 0a0a  der structure...
-0001db20: 2020 2020 2020 2020 4966 2073 656c 662e          If self.
-0001db30: 706c 6f74 5f66 6965 6c64 7320 3d3d 2027  plot_fields == '
-0001db40: 7374 616e 6461 7264 272c 2061 6c6c 2066  standard', all f
-0001db50: 6965 6c64 7320 6172 6520 7374 6f72 6564  ields are stored
-0001db60: 2066 6f72 2061 206c 6174 6572 2065 7272   for a later err
-0001db70: 6f72 2073 6561 7263 682e 0a20 2020 2020  or search..     
-0001db80: 2020 2022 2222 0a20 2020 2020 2020 2074     """.        t
-0001db90: 6578 745f 6669 6c65 203d 206f 7065 6e28  ext_file = open(
-0001dba0: 6f73 2e70 6174 682e 6a6f 696e 2873 656c  os.path.join(sel
-0001dbb0: 662e 6669 6c65 5f64 6174 612e 656c 6563  f.file_data.elec
-0001dbc0: 7472 6f5f 6d61 676e 6574 6963 5f66 6f6c  tro_magnetic_fol
-0001dbd0: 6465 725f 7061 7468 2c20 2270 6f73 7471  der_path, "postq
-0001dbe0: 7561 6e74 6974 6965 732e 7072 6f22 292c  uantities.pro"),
-0001dbf0: 2022 7722 290a 0a20 2020 2020 2020 2023   "w")..        #
-0001dc00: 2054 6869 7320 6973 206e 6565 6465 6420   This is needed 
-0001dc10: 6265 6361 7573 6520 7468 6520 6620 7374  because the f st
-0001dc20: 7269 6e67 2063 616e 7420 636f 6e74 6169  ring cant contai
-0001dc30: 6e20 6120 5c20 696e 207b 7d0a 2020 2020  n a \ in {}.    
-0001dc40: 2020 2020 6261 636b 736c 6173 6820 3d20      backslash = 
-0001dc50: 225c 5c22 0a0a 2020 2020 2020 2020 7465  "\\"..        te
-0001dc60: 7874 5f66 696c 652e 7772 6974 6528 6622  xt_file.write(f"
-0001dc70: 4469 7252 6573 203d 205c 227b 7365 6c66  DirRes = \"{self
-0001dc80: 2e66 696c 655f 6461 7461 2e72 6573 756c  .file_data.resul
-0001dc90: 7473 5f66 6f6c 6465 725f 7061 7468 2e72  ts_folder_path.r
-0001dca0: 6570 6c61 6365 2862 6163 6b73 6c61 7368  eplace(backslash
-0001dcb0: 2c20 272f 2729 7d2f 5c22 3b5c 6e22 290a  , '/')}/\";\n").
-0001dcc0: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
-0001dcd0: 652e 7772 6974 6528 6622 4469 7252 6573  e.write(f"DirRes
-0001dce0: 4669 656c 6473 203d 205c 227b 7365 6c66  Fields = \"{self
-0001dcf0: 2e66 696c 655f 6461 7461 2e65 5f6d 5f66  .file_data.e_m_f
-0001dd00: 6965 6c64 735f 666f 6c64 6572 5f70 6174  ields_folder_pat
-0001dd10: 682e 7265 706c 6163 6528 6261 636b 736c  h.replace(backsl
-0001dd20: 6173 682c 2027 2f27 297d 2f5c 223b 5c6e  ash, '/')}/\";\n
-0001dd30: 2229 0a20 2020 2020 2020 2074 6578 745f  ").        text_
-0001dd40: 6669 6c65 2e77 7269 7465 2866 2244 6972  file.write(f"Dir
-0001dd50: 5265 7356 616c 7320 3d20 5c22 7b73 656c  ResVals = \"{sel
-0001dd60: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
-0001dd70: 7661 6c75 6573 5f66 6f6c 6465 725f 7061  values_folder_pa
-0001dd80: 7468 2e72 6570 6c61 6365 2862 6163 6b73  th.replace(backs
-0001dd90: 6c61 7368 2c20 272f 2729 7d2f 5c22 3b5c  lash, '/')}/\";\
-0001dda0: 6e22 290a 2020 2020 2020 2020 7465 7874  n").        text
-0001ddb0: 5f66 696c 652e 7772 6974 6528 0a20 2020  _file.write(.   
-0001ddc0: 2020 2020 2020 2020 2066 2244 6972 5265           f"DirRe
-0001ddd0: 7356 616c 7343 6f72 6520 3d20 5c22 7b73  sValsCore = \"{s
-0001dde0: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
-0001ddf0: 6d5f 7661 6c75 6573 5f66 6f6c 6465 725f  m_values_folder_
-0001de00: 7061 7468 2e72 6570 6c61 6365 2862 6163  path.replace(bac
-0001de10: 6b73 6c61 7368 2c20 272f 2729 7d2f 636f  kslash, '/')}/co
-0001de20: 7265 5f70 6172 7473 2f5c 223b 5c6e 2229  re_parts/\";\n")
-0001de30: 0a20 2020 2020 2020 2066 6f72 2069 2069  .        for i i
-0001de40: 6e20 7261 6e67 6528 312c 206c 656e 2873  n range(1, len(s
-0001de50: 656c 662e 7769 6e64 696e 6773 2920 2b20  elf.windings) + 
-0001de60: 3129 3a0a 2020 2020 2020 2020 2020 2020  1):.            
+0001d740: 7465 2822 6e75 3020 3d20 3120 2f20 6d75  te("nu0 = 1 / mu
+0001d750: 303b 5c6e 2229 0a20 2020 2020 2020 2074  0;\n").        t
+0001d760: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
+0001d770: 2265 3020 3d20 7b65 7073 696c 6f6e 5f30  "e0 = {epsilon_0
+0001d780: 7d3b 5c6e 2229 0a0a 2020 2020 2020 2020  };\n")..        
+0001d790: 2320 4d61 7465 7269 616c 2050 726f 7065  # Material Prope
+0001d7a0: 7274 6965 730a 0a20 2020 2020 2020 2023  rties..        #
+0001d7b0: 2043 6f72 6520 4d61 7465 7269 616c 0a20   Core Material. 
+0001d7c0: 2020 2020 2020 2023 2069 6620 7365 6c66         # if self
+0001d7d0: 2e66 7265 7175 656e 6379 203d 3d20 303a  .frequency == 0:
+0001d7e0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001d7f0: 2e63 6f72 652e 6e6f 6e5f 6c69 6e65 6172  .core.non_linear
+0001d800: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+0001d810: 7874 5f66 696c 652e 7772 6974 6528 2246  xt_file.write("F
+0001d820: 6c61 675f 4e4c 203d 2031 3b5c 6e22 290a  lag_NL = 1;\n").
+0001d830: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0001d840: 5f66 696c 652e 7772 6974 6528 0a20 2020  _file.write(.   
+0001d850: 2020 2020 2020 2020 2020 2020 2066 2243               f"C
+0001d860: 6f72 655f 4d61 7465 7269 616c 203d 207b  ore_Material = {
+0001d870: 7365 6c66 2e63 6f72 652e 6d61 7465 7269  self.core.materi
+0001d880: 616c 7d3b 5c6e 2229 2020 2320 7265 6c61  al};\n")  # rela
+0001d890: 7469 7665 2070 6572 6d65 6162 696c 6974  tive permeabilit
+0001d8a0: 7920 6973 2064 6566 696e 6564 2061 7420  y is defined at 
+0001d8b0: 7369 6d75 6c61 7469 6f6e 2072 756e 7469  simulation runti
+0001d8c0: 6d65 0a20 2020 2020 2020 2020 2020 2023  me.            #
+0001d8d0: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
+0001d8e0: 2866 2246 6c61 675f 4e4c 203d 2030 3b5c  (f"Flag_NL = 0;\
+0001d8f0: 6e22 290a 2020 2020 2020 2020 656c 7365  n").        else
+0001d900: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+0001d910: 7874 5f66 696c 652e 7772 6974 6528 2246  xt_file.write("F
+0001d920: 6c61 675f 4e4c 203d 2030 3b5c 6e22 290a  lag_NL = 0;\n").
+0001d930: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0001d940: 5f66 696c 652e 7772 6974 6528 6622 6d75  _file.write(f"mu
+0001d950: 7220 3d20 7b73 656c 662e 636f 7265 2e6d  r = {self.core.m
+0001d960: 755f 725f 6162 737d 3b5c 6e22 2920 2023  u_r_abs};\n")  #
+0001d970: 206d 7572 2069 7320 7072 6564 6566 696e   mur is predefin
+0001d980: 6564 2074 6f20 6120 6669 7865 6420 7661  ed to a fixed va
+0001d990: 6c75 650a 2020 2020 2020 2020 2020 2020  lue.            
+0001d9a0: 6966 2073 656c 662e 636f 7265 2e70 6572  if self.core.per
+0001d9b0: 6d65 6162 696c 6974 795f 7479 7065 203d  meability_type =
+0001d9c0: 3d20 5065 726d 6561 6269 6c69 7479 5479  = PermeabilityTy
+0001d9d0: 7065 2e46 726f 6d44 6174 613a 0a20 2020  pe.FromData:.   
+0001d9e0: 2020 2020 2020 2020 2020 2020 2074 6578               tex
+0001d9f0: 745f 6669 6c65 2e77 7269 7465 2822 466c  t_file.write("Fl
+0001da00: 6167 5f50 6572 6d65 6162 696c 6974 795f  ag_Permeability_
+0001da10: 4672 6f6d 5f44 6174 6120 3d20 313b 5c6e  From_Data = 1;\n
+0001da20: 2229 2020 2320 6d75 7220 6973 2070 7265  ")  # mur is pre
+0001da30: 6465 6669 6e65 6420 746f 2061 2066 6978  defined to a fix
+0001da40: 6564 2076 616c 7565 0a20 2020 2020 2020  ed value.       
+0001da50: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+0001da60: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0001da70: 6669 6c65 2e77 7269 7465 2822 466c 6167  file.write("Flag
+0001da80: 5f50 6572 6d65 6162 696c 6974 795f 4672  _Permeability_Fr
+0001da90: 6f6d 5f44 6174 6120 3d20 303b 5c6e 2229  om_Data = 0;\n")
+0001daa0: 2020 2320 6d75 7220 6973 2070 7265 6465    # mur is prede
+0001dab0: 6669 6e65 6420 746f 2061 2066 6978 6564  fined to a fixed
+0001dac0: 2076 616c 7565 0a20 2020 2020 2020 2020   value.         
+0001dad0: 2020 2069 6620 7365 6c66 2e63 6f72 652e     if self.core.
+0001dae0: 7065 726d 6561 6269 6c69 7479 5f74 7970  permeability_typ
+0001daf0: 6520 3d3d 2050 6572 6d65 6162 696c 6974  e == Permeabilit
+0001db00: 7954 7970 652e 4669 7865 644c 6f73 7341  yType.FixedLossA
+0001db10: 6e67 6c65 3a0a 2020 2020 2020 2020 2020  ngle:.          
+0001db20: 2020 2020 2020 2320 6c6f 7373 2061 6e67        # loss ang
+0001db30: 6c65 2066 6f72 2063 6f6d 706c 6578 2072  le for complex r
+0001db40: 6570 7265 7365 6e74 6174 696f 6e20 6f66  epresentation of
+0001db50: 2068 7973 7465 7265 7369 7320 6c6f 7373   hysteresis loss
+0001db60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001db70: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
+0001db80: 2866 2270 6869 5f6d 755f 6465 6720 3d20  (f"phi_mu_deg = 
+0001db90: 7b73 656c 662e 636f 7265 2e70 6869 5f6d  {self.core.phi_m
+0001dba0: 755f 6465 677d 3b5c 6e22 290a 2020 2020  u_deg};\n").    
+0001dbb0: 2020 2020 2020 2020 2020 2020 2320 5265              # Re
+0001dbc0: 616c 2070 6172 7420 6f66 2063 6f6d 706c  al part of compl
+0001dbd0: 6578 2070 6572 6d65 6162 696c 6974 790a  ex permeability.
+0001dbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dbf0: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0001dc00: 6622 6d75 725f 7265 616c 203d 207b 7365  f"mur_real = {se
+0001dc10: 6c66 2e63 6f72 652e 6d75 5f72 5f61 6273  lf.core.mu_r_abs
+0001dc20: 202a 206e 702e 636f 7328 6e70 2e64 6567   * np.cos(np.deg
+0001dc30: 3272 6164 2873 656c 662e 636f 7265 2e70  2rad(self.core.p
+0001dc40: 6869 5f6d 755f 6465 6729 297d 3b5c 6e22  hi_mu_deg))};\n"
+0001dc50: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001dc60: 2020 2320 496d 6167 696e 6172 7920 7061    # Imaginary pa
+0001dc70: 7274 206f 6620 636f 6d70 6c65 7820 7065  rt of complex pe
+0001dc80: 726d 6561 6269 6c69 7479 0a20 2020 2020  rmeability.     
+0001dc90: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0001dca0: 6669 6c65 2e77 7269 7465 280a 2020 2020  file.write(.    
+0001dcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dcc0: 6622 6d75 725f 696d 6167 203d 207b 7365  f"mur_imag = {se
+0001dcd0: 6c66 2e63 6f72 652e 6d75 5f72 5f61 6273  lf.core.mu_r_abs
+0001dce0: 202a 206e 702e 7369 6e28 6e70 2e64 6567   * np.sin(np.deg
+0001dcf0: 3272 6164 2873 656c 662e 636f 7265 2e70  2rad(self.core.p
+0001dd00: 6869 5f6d 755f 6465 6729 297d 3b5c 6e22  hi_mu_deg))};\n"
+0001dd10: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001dd20: 2020 2320 6c6f 7373 2061 6e67 6c65 2066    # loss angle f
+0001dd30: 6f72 2063 6f6d 706c 6578 2072 6570 7265  or complex repre
+0001dd40: 7365 6e74 6174 696f 6e20 6f66 2068 7973  sentation of hys
+0001dd50: 7465 7265 7369 7320 6c6f 7373 0a20 2020  teresis loss.   
+0001dd60: 2020 2020 2020 2020 2020 2020 2074 6578               tex
+0001dd70: 745f 6669 6c65 2e77 7269 7465 2822 466c  t_file.write("Fl
+0001dd80: 6167 5f46 6978 6564 5f4c 6f73 735f 416e  ag_Fixed_Loss_An
+0001dd90: 676c 6520 3d20 313b 5c6e 2229 0a20 2020  gle = 1;\n").   
+0001dda0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
+0001ddb0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0001ddc0: 6578 745f 6669 6c65 2e77 7269 7465 280a  ext_file.write(.
+0001ddd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001dde0: 2020 2020 2246 6c61 675f 4669 7865 645f      "Flag_Fixed_
+0001ddf0: 4c6f 7373 5f41 6e67 6c65 203d 2030 3b5c  Loss_Angle = 0;\
+0001de00: 6e22 2920 2023 206c 6f73 7320 616e 676c  n")  # loss angl
+0001de10: 6520 666f 7220 636f 6d70 6c65 7820 7265  e for complex re
+0001de20: 7072 6573 656e 7461 7469 6f6e 206f 6620  presentation of 
+0001de30: 6879 7374 6572 6573 6973 206c 6f73 730a  hysteresis loss.
+0001de40: 0a20 2020 2020 2020 2023 2069 6620 7365  .        # if se
+0001de50: 6c66 2e66 7265 7175 656e 6379 2021 3d20  lf.frequency != 
+0001de60: 303a 0a20 2020 2020 2020 2023 2020 2020  0:.        #    
 0001de70: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
-0001de80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001de90: 2066 2244 6972 5265 7356 616c 7357 696e   f"DirResValsWin
-0001dea0: 6469 6e67 5f7b 697d 203d 205c 227b 7365  ding_{i} = \"{se
-0001deb0: 6c66 2e66 696c 655f 6461 7461 2e65 5f6d  lf.file_data.e_m
-0001dec0: 5f76 616c 7565 735f 666f 6c64 6572 5f70  _values_folder_p
-0001ded0: 6174 682e 7265 706c 6163 6528 6261 636b  ath.replace(back
-0001dee0: 736c 6173 682c 2027 2f27 297d 2f57 696e  slash, '/')}/Win
-0001def0: 6469 6e67 5f7b 697d 2f5c 223b 5c6e 2229  ding_{i}/\";\n")
-0001df00: 0a20 2020 2020 2020 2020 2020 2023 2074  .            # t
-0001df10: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
-0001df20: 2244 6972 5265 7356 616c 7353 6563 6f6e  "DirResValsSecon
-0001df30: 6461 7279 203d 205c 0a20 2020 2020 2020  dary = \.       
-0001df40: 2020 2020 2023 2022 7b73 656c 662e 6669       # "{self.fi
-0001df50: 6c65 5f64 6174 612e 655f 6d5f 7661 6c75  le_data.e_m_valu
-0001df60: 6573 5f66 6f6c 6465 725f 7061 7468 2e72  es_folder_path.r
-0001df70: 6570 6c61 6365 2862 6163 6b73 6c61 7368  eplace(backslash
-0001df80: 2c20 272f 2729 7d2f 5365 636f 6e64 6172  , '/')}/Secondar
-0001df90: 792f 5c22 3b5c 6e22 290a 2020 2020 2020  y/\";\n").      
-0001dfa0: 2020 2020 2020 2320 7465 7874 5f66 696c        # text_fil
-0001dfb0: 652e 7772 6974 6528 6622 4469 7252 6573  e.write(f"DirRes
-0001dfc0: 5661 6c73 5465 7274 6961 7279 203d 205c  ValsTertiary = \
-0001dfd0: 0a20 2020 2020 2020 2020 2020 2023 2022  .            # "
-0001dfe0: 7b73 656c 662e 6669 6c65 5f64 6174 612e  {self.file_data.
-0001dff0: 655f 6d5f 7661 6c75 6573 5f66 6f6c 6465  e_m_values_folde
-0001e000: 725f 7061 7468 2e72 6570 6c61 6365 2862  r_path.replace(b
-0001e010: 6163 6b73 6c61 7368 2c20 272f 2729 7d2f  ackslash, '/')}/
-0001e020: 5465 7274 6961 7279 2f5c 223b 5c6e 2229  Tertiary/\";\n")
-0001e030: 0a20 2020 2020 2020 2074 6578 745f 6669  .        text_fi
-0001e040: 6c65 2e77 7269 7465 2866 2244 6972 5265  le.write(f"DirRe
-0001e050: 7343 6972 6320 3d20 5c22 7b73 656c 662e  sCirc = \"{self.
-0001e060: 6669 6c65 5f64 6174 612e 655f 6d5f 6369  file_data.e_m_ci
-0001e070: 7263 7569 745f 666f 6c64 6572 5f70 6174  rcuit_folder_pat
-0001e080: 682e 7265 706c 6163 6528 6261 636b 736c  h.replace(backsl
-0001e090: 6173 682c 2027 2f27 297d 2f5c 223b 5c6e  ash, '/')}/\";\n
-0001e0a0: 2229 0a20 2020 2020 2020 2074 6578 745f  ").        text_
-0001e0b0: 6669 6c65 2e77 7269 7465 2866 224f 7074  file.write(f"Opt
-0001e0c0: 696f 6e50 6f73 203d 205c 227b 7365 6c66  ionPos = \"{self
-0001e0d0: 2e66 696c 655f 6461 7461 2e72 6573 756c  .file_data.resul
-0001e0e0: 7473 5f66 6f6c 6465 725f 7061 7468 2e72  ts_folder_path.r
-0001e0f0: 6570 6c61 6365 2862 6163 6b73 6c61 7368  eplace(backslash
-0001e100: 2c20 272f 2729 7d2f 6f70 7469 6f6e 2e70  , '/')}/option.p
-0001e110: 6f73 5c22 3b5c 6e22 290a 2020 2020 2020  os\";\n").      
-0001e120: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0001e130: 6528 0a20 2020 2020 2020 2020 2020 2066  e(.            f
-0001e140: 2244 6972 5374 7261 6e64 436f 6566 6620  "DirStrandCoeff 
-0001e150: 3d20 5c22 7b73 656c 662e 6669 6c65 5f64  = \"{self.file_d
-0001e160: 6174 612e 655f 6d5f 7374 7261 6e64 735f  ata.e_m_strands_
-0001e170: 636f 6566 6669 6369 656e 7473 5f66 6f6c  coefficients_fol
-0001e180: 6465 725f 7061 7468 2e72 6570 6c61 6365  der_path.replace
-0001e190: 2862 6163 6b73 6c61 7368 2c20 272f 2729  (backslash, '/')
-0001e1a0: 7d2f 5c22 3b5c 6e22 290a 0a20 2020 2020  }/\";\n")..     
-0001e1b0: 2020 2023 2056 6973 7561 6c69 7361 7469     # Visualisati
-0001e1c0: 6f6e 0a20 2020 2020 2020 2069 6620 7365  on.        if se
-0001e1d0: 6c66 2e70 6c6f 745f 6669 656c 6473 203d  lf.plot_fields =
-0001e1e0: 3d20 2273 7461 6e64 6172 6422 3a0a 2020  = "standard":.  
-0001e1f0: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
-0001e200: 696c 652e 7772 6974 6528 2246 6c61 675f  ile.write("Flag_
-0001e210: 7368 6f77 5f73 7461 6e64 6172 645f 6669  show_standard_fi
-0001e220: 656c 6473 203d 2031 3b5c 6e22 290a 2020  elds = 1;\n").  
-0001e230: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
-0001e240: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
-0001e250: 652e 7772 6974 6528 2246 6c61 675f 7368  e.write("Flag_sh
-0001e260: 6f77 5f73 7461 6e64 6172 645f 6669 656c  ow_standard_fiel
-0001e270: 6473 203d 2030 3b5c 6e22 290a 0a20 2020  ds = 0;\n")..   
-0001e280: 2020 2020 2074 6578 745f 6669 6c65 2e63       text_file.c
-0001e290: 6c6f 7365 2829 0a0a 2020 2020 6465 6620  lose()..    def 
-0001e2a0: 6361 6c63 756c 6174 655f 616e 645f 7772  calculate_and_wr
-0001e2b0: 6974 655f 6672 6571 5f64 6f6d 6169 6e5f  ite_freq_domain_
-0001e2c0: 6c6f 6728 7365 6c66 2c20 6e75 6d62 6572  log(self, number
-0001e2d0: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
-0001e2e0: 6174 696f 6e73 3a20 696e 7420 3d20 312c  ations: int = 1,
-0001e2f0: 2063 7572 7265 6e74 5f61 6d70 6c69 7475   current_amplitu
-0001e300: 6465 5f6c 6973 743a 204c 6973 7420 3d20  de_list: List = 
-0001e310: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
-0001e320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e340: 2020 7068 6173 655f 6465 675f 6c69 7374    phase_deg_list
-0001e350: 3a20 4c69 7374 203d 204e 6f6e 652c 2066  : List = None, f
-0001e360: 7265 7175 656e 6369 6573 3a20 4c69 7374  requencies: List
-0001e370: 203d 204e 6f6e 652c 0a20 2020 2020 2020   = None,.       
-0001e380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001e3a0: 2020 2020 2063 6f72 655f 6879 7374 5f6c       core_hyst_l
-0001e3b0: 6f73 7365 733a 204c 6973 745b 666c 6f61  osses: List[floa
-0001e3c0: 745d 203d 204e 6f6e 6529 3a0a 2020 2020  t] = None):.    
-0001e3d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001e3e0: 5265 6164 2062 6163 6b20 7468 6520 7265  Read back the re
-0001e3f0: 7375 6c74 7320 6672 6f6d 2074 6865 202e  sults from the .
-0001e400: 6461 7420 7265 7375 6c74 2066 696c 6573  dat result files
-0001e410: 2063 7265 6174 6564 2062 7920 7468 6520   created by the 
-0001e420: 4f4e 454c 4142 2073 696d 756c 6174 696f  ONELAB simulatio
-0001e430: 6e20 636c 6965 6e74 2e0a 0a20 2020 2020  n client...     
-0001e440: 2020 2053 746f 7265 7320 7468 6520 7265     Stores the re
-0001e450: 7375 6c74 7320 696e 2061 2072 6573 756c  sults in a resul
-0001e460: 7420 6469 6374 696f 6e61 7279 2028 4a53  t dictionary (JS
-0001e470: 4f4e 206c 6f67 2066 696c 6529 2e0a 0a20  ON log file)... 
-0001e480: 2020 2020 2020 2054 6869 7320 6669 6c65         This file
-0001e490: 2069 6e63 6c75 6465 733a 0a20 2020 2020   includes:.     
-0001e4a0: 2020 2020 2a20 7265 7375 6c74 7320 286c      * results (l
-0001e4b0: 6f73 7365 732c 202e 2e2e 2920 6f66 2074  osses, ...) of t
-0001e4c0: 6865 2073 696d 756c 6174 696f 6e0a 2020  he simulation.  
-0001e4d0: 2020 2020 2020 202a 2067 656f 6d65 7472         * geometr
-0001e4e0: 7920 7061 7261 6d65 7465 7273 206f 6620  y parameters of 
-0001e4f0: 7468 6520 6769 7665 6e20 7369 6d75 6c61  the given simula
-0001e500: 7469 6f6e 0a20 2020 2020 2020 2020 2a20  tion.         * 
-0001e510: 6f70 7469 6f6e 616c 2070 6172 616d 6574  optional paramet
-0001e520: 6572 7320 6361 6e20 6265 2061 6464 6564  ers can be added
-0001e530: 2074 6f20 7468 6520 6c6f 672c 206c 696b   to the log, lik
-0001e540: 6520 7468 6520 696e 6475 6374 616e 6365  e the inductance
-0001e550: 2076 616c 7565 7320 6f72 2074 6865 2063   values or the c
-0001e560: 6f72 6520 6879 7374 6572 6573 6973 206c  ore hysteresis l
-0001e570: 6f73 7365 7320 6672 6f6d 0a20 2020 2020  osses from.     
-0001e580: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0001e590: 7874 6572 6e61 6c20 7369 6d75 6c61 7469  xternal simulati
-0001e5a0: 6f6e 730a 0a20 2020 2020 2020 2041 6e20  ons..        An 
-0001e5b0: 696e 6475 6374 616e 6365 2064 6963 7469  inductance dicti
-0001e5c0: 6f6e 6172 7920 6973 206f 7074 696f 6e61  onary is optiona
-0001e5d0: 6c2c 2069 6e20 6361 7365 206f 6620 6765  l, in case of ge
-0001e5e0: 745f 696e 6475 6374 616e 6365 2829 2068  t_inductance() h
-0001e5f0: 6173 2062 6565 6e20 6361 6c63 756c 6174  as been calculat
-0001e600: 6564 2062 6566 6f72 652e 2049 6e20 7468  ed before. In th
-0001e610: 6973 2063 6173 652c 0a20 2020 2020 2020  is case,.       
-0001e620: 2074 6865 2067 6574 5f69 6e64 7563 7461   the get_inducta
-0001e630: 6e63 6528 292d 7265 7375 6c74 7320 6361  nce()-results ca
-0001e640: 6e20 6265 2067 6976 656e 2074 6f20 7468  n be given to th
-0001e650: 6973 2066 756e 6374 696f 6e20 746f 2062  is function to b
-0001e660: 6520 696e 636c 7564 6564 2069 6e74 6f20  e included into 
-0001e670: 7468 6520 7265 7375 6c74 2d6c 6f67 2e0a  the result-log..
-0001e680: 0a20 2020 2020 2020 2049 6e20 6361 7365  .        In case
-0001e690: 206f 6620 7365 7061 7261 7465 2063 616c   of separate cal
-0001e6a0: 6375 6c61 7465 6420 6879 7374 6572 6573  culated hysteres
-0001e6b0: 6973 206c 6f73 7365 7320 2865 2e67 2e20  is losses (e.g. 
-0001e6c0: 7472 6961 6e67 756c 6172 206d 6167 6e65  triangular magne
-0001e6d0: 7469 7a61 7469 6f6e 2063 7572 7265 6e74  tization current
-0001e6e0: 292c 2074 6869 7320 7661 6c75 6520 6361  ), this value ca
-0001e6f0: 6e20 6265 0a20 2020 2020 2020 2067 6976  n be.        giv
-0001e700: 656e 2061 7320 6120 7061 7261 6d65 7465  en as a paramete
-0001e710: 7220 616e 6420 7769 6c6c 206f 7665 7277  r and will overw
-0001e720: 7269 7465 2074 6865 2068 7973 7465 7265  rite the hystere
-0001e730: 7369 732d 6c6f 7373 2072 6573 756c 742e  sis-loss result.
-0001e740: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0001e750: 206e 756d 6265 725f 6672 6571 7565 6e63   number_frequenc
-0001e760: 795f 7369 6d75 6c61 7469 6f6e 733a 204e  y_simulations: N
-0001e770: 756d 6265 7220 6f66 2073 7765 6570 2069  umber of sweep i
-0001e780: 7465 7261 7469 6f6e 7320 7468 6174 2077  terations that w
-0001e790: 6572 6520 646f 6e65 2062 6566 6f72 652e  ere done before.
-0001e7a0: 2046 6f72 2061 2073 696e 676c 6520 7369   For a single si
-0001e7b0: 6d75 6c61 7469 6f6e 0a20 2020 2020 2020  mulation.       
-0001e7c0: 2020 2020 2073 7765 6570 5f6e 756d 6265       sweep_numbe
-0001e7d0: 7220 3d20 310a 2020 2020 2020 2020 3a74  r = 1.        :t
-0001e7e0: 7970 6520 6e75 6d62 6572 5f66 7265 7175  ype number_frequ
-0001e7f0: 656e 6379 5f73 696d 756c 6174 696f 6e73  ency_simulations
-0001e800: 3a20 696e 740a 2020 2020 2020 2020 3a70  : int.        :p
-0001e810: 6172 616d 2063 7572 7265 6e74 5f61 6d70  aram current_amp
-0001e820: 6c69 7475 6465 5f6c 6973 743a 2043 7572  litude_list: Cur
-0001e830: 7265 6e74 2076 616c 7565 7320 6f66 2074  rent values of t
-0001e840: 6865 2073 7765 6570 2069 7465 7261 7469  he sweep iterati
-0001e850: 6f6e 732e 204e 6f74 206e 6565 6465 6420  ons. Not needed 
-0001e860: 666f 7220 7369 6e67 6c65 2073 696d 756c  for single simul
-0001e870: 6174 696f 6e0a 2020 2020 2020 2020 3a74  ation.        :t
-0001e880: 7970 6520 6375 7272 656e 745f 616d 706c  ype current_ampl
-0001e890: 6974 7564 655f 6c69 7374 3a20 6c69 7374  itude_list: list
-0001e8a0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0001e8b0: 7068 6173 655f 6465 675f 6c69 7374 3a20  phase_deg_list: 
-0001e8c0: 5068 6173 6520 696e 2064 6567 7265 6520  Phase in degree 
-0001e8d0: 6c69 7374 2066 6f72 2066 7265 7175 656e  list for frequen
-0001e8e0: 6379 2073 7765 6570 732e 204e 6f74 206e  cy sweeps. Not n
-0001e8f0: 6565 6465 6420 666f 7220 7369 6e67 6c65  eeded for single
+0001de80: 6622 466c 6167 5f4e 4c20 3d20 303b 5c6e  f"Flag_NL = 0;\n
+0001de90: 2229 0a20 2020 2020 2020 2023 2020 2020  ").        #    
+0001dea0: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0001deb0: 6622 6d75 7220 3d20 7b73 656c 662e 636f  f"mur = {self.co
+0001dec0: 7265 2e6d 755f 7265 6c7d 3b5c 6e22 290a  re.mu_rel};\n").
+0001ded0: 0a20 2020 2020 2020 2074 6578 745f 6669  .        text_fi
+0001dee0: 6c65 2e63 6c6f 7365 2829 0a0a 2020 2020  le.close()..    
+0001def0: 6465 6620 7772 6974 655f 656c 6563 7472  def write_electr
+0001df00: 6f5f 6d61 676e 6574 6963 5f70 6f73 745f  o_magnetic_post_
+0001df10: 7072 6f28 7365 6c66 293a 0a20 2020 2020  pro(self):.     
+0001df20: 2020 2022 2222 5772 6974 6520 6669 656c     """Write fiel
+0001df30: 6420 736f 6c75 7469 6f6e 7320 696e 746f  d solutions into
+0001df40: 2074 6865 2067 6976 656e 2066 6f6c 6465   the given folde
+0001df50: 7220 7374 7275 6374 7572 652e 0a0a 2020  r structure...  
+0001df60: 2020 2020 2020 4966 2073 656c 662e 706c        If self.pl
+0001df70: 6f74 5f66 6965 6c64 7320 3d3d 2027 7374  ot_fields == 'st
+0001df80: 616e 6461 7264 272c 2061 6c6c 2066 6965  andard', all fie
+0001df90: 6c64 7320 6172 6520 7374 6f72 6564 2066  lds are stored f
+0001dfa0: 6f72 2061 206c 6174 6572 2065 7272 6f72  or a later error
+0001dfb0: 2073 6561 7263 682e 0a20 2020 2020 2020   search..       
+0001dfc0: 2022 2222 0a20 2020 2020 2020 2074 6578   """.        tex
+0001dfd0: 745f 6669 6c65 203d 206f 7065 6e28 6f73  t_file = open(os
+0001dfe0: 2e70 6174 682e 6a6f 696e 2873 656c 662e  .path.join(self.
+0001dff0: 6669 6c65 5f64 6174 612e 656c 6563 7472  file_data.electr
+0001e000: 6f5f 6d61 676e 6574 6963 5f66 6f6c 6465  o_magnetic_folde
+0001e010: 725f 7061 7468 2c20 2270 6f73 7471 7561  r_path, "postqua
+0001e020: 6e74 6974 6965 732e 7072 6f22 292c 2022  ntities.pro"), "
+0001e030: 7722 290a 0a20 2020 2020 2020 2023 2054  w")..        # T
+0001e040: 6869 7320 6973 206e 6565 6465 6420 6265  his is needed be
+0001e050: 6361 7573 6520 7468 6520 6620 7374 7269  cause the f stri
+0001e060: 6e67 2063 616e 7420 636f 6e74 6169 6e20  ng cant contain 
+0001e070: 6120 5c20 696e 207b 7d0a 2020 2020 2020  a \ in {}.      
+0001e080: 2020 6261 636b 736c 6173 6820 3d20 225c    backslash = "\
+0001e090: 5c22 0a0a 2020 2020 2020 2020 7465 7874  \"..        text
+0001e0a0: 5f66 696c 652e 7772 6974 6528 6622 4469  _file.write(f"Di
+0001e0b0: 7252 6573 203d 205c 227b 7365 6c66 2e66  rRes = \"{self.f
+0001e0c0: 696c 655f 6461 7461 2e72 6573 756c 7473  ile_data.results
+0001e0d0: 5f66 6f6c 6465 725f 7061 7468 2e72 6570  _folder_path.rep
+0001e0e0: 6c61 6365 2862 6163 6b73 6c61 7368 2c20  lace(backslash, 
+0001e0f0: 272f 2729 7d2f 5c22 3b5c 6e22 290a 2020  '/')}/\";\n").  
+0001e100: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
+0001e110: 7772 6974 6528 6622 4469 7252 6573 4669  write(f"DirResFi
+0001e120: 656c 6473 203d 205c 227b 7365 6c66 2e66  elds = \"{self.f
+0001e130: 696c 655f 6461 7461 2e65 5f6d 5f66 6965  ile_data.e_m_fie
+0001e140: 6c64 735f 666f 6c64 6572 5f70 6174 682e  lds_folder_path.
+0001e150: 7265 706c 6163 6528 6261 636b 736c 6173  replace(backslas
+0001e160: 682c 2027 2f27 297d 2f5c 223b 5c6e 2229  h, '/')}/\";\n")
+0001e170: 0a20 2020 2020 2020 2074 6578 745f 6669  .        text_fi
+0001e180: 6c65 2e77 7269 7465 2866 2244 6972 5265  le.write(f"DirRe
+0001e190: 7356 616c 7320 3d20 5c22 7b73 656c 662e  sVals = \"{self.
+0001e1a0: 6669 6c65 5f64 6174 612e 655f 6d5f 7661  file_data.e_m_va
+0001e1b0: 6c75 6573 5f66 6f6c 6465 725f 7061 7468  lues_folder_path
+0001e1c0: 2e72 6570 6c61 6365 2862 6163 6b73 6c61  .replace(backsla
+0001e1d0: 7368 2c20 272f 2729 7d2f 5c22 3b5c 6e22  sh, '/')}/\";\n"
+0001e1e0: 290a 2020 2020 2020 2020 7465 7874 5f66  ).        text_f
+0001e1f0: 696c 652e 7772 6974 6528 0a20 2020 2020  ile.write(.     
+0001e200: 2020 2020 2020 2066 2244 6972 5265 7356         f"DirResV
+0001e210: 616c 7343 6f72 6520 3d20 5c22 7b73 656c  alsCore = \"{sel
+0001e220: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
+0001e230: 7661 6c75 6573 5f66 6f6c 6465 725f 7061  values_folder_pa
+0001e240: 7468 2e72 6570 6c61 6365 2862 6163 6b73  th.replace(backs
+0001e250: 6c61 7368 2c20 272f 2729 7d2f 636f 7265  lash, '/')}/core
+0001e260: 5f70 6172 7473 2f5c 223b 5c6e 2229 0a20  _parts/\";\n"). 
+0001e270: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+0001e280: 7261 6e67 6528 312c 206c 656e 2873 656c  range(1, len(sel
+0001e290: 662e 7769 6e64 696e 6773 2920 2b20 3129  f.windings) + 1)
+0001e2a0: 3a0a 2020 2020 2020 2020 2020 2020 7465  :.            te
+0001e2b0: 7874 5f66 696c 652e 7772 6974 6528 0a20  xt_file.write(. 
+0001e2c0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0001e2d0: 2244 6972 5265 7356 616c 7357 696e 6469  "DirResValsWindi
+0001e2e0: 6e67 5f7b 697d 203d 205c 227b 7365 6c66  ng_{i} = \"{self
+0001e2f0: 2e66 696c 655f 6461 7461 2e65 5f6d 5f76  .file_data.e_m_v
+0001e300: 616c 7565 735f 666f 6c64 6572 5f70 6174  alues_folder_pat
+0001e310: 682e 7265 706c 6163 6528 6261 636b 736c  h.replace(backsl
+0001e320: 6173 682c 2027 2f27 297d 2f57 696e 6469  ash, '/')}/Windi
+0001e330: 6e67 5f7b 697d 2f5c 223b 5c6e 2229 0a20  ng_{i}/\";\n"). 
+0001e340: 2020 2020 2020 2020 2020 2023 2074 6578             # tex
+0001e350: 745f 6669 6c65 2e77 7269 7465 2866 2244  t_file.write(f"D
+0001e360: 6972 5265 7356 616c 7353 6563 6f6e 6461  irResValsSeconda
+0001e370: 7279 203d 205c 0a20 2020 2020 2020 2020  ry = \.         
+0001e380: 2020 2023 2022 7b73 656c 662e 6669 6c65     # "{self.file
+0001e390: 5f64 6174 612e 655f 6d5f 7661 6c75 6573  _data.e_m_values
+0001e3a0: 5f66 6f6c 6465 725f 7061 7468 2e72 6570  _folder_path.rep
+0001e3b0: 6c61 6365 2862 6163 6b73 6c61 7368 2c20  lace(backslash, 
+0001e3c0: 272f 2729 7d2f 5365 636f 6e64 6172 792f  '/')}/Secondary/
+0001e3d0: 5c22 3b5c 6e22 290a 2020 2020 2020 2020  \";\n").        
+0001e3e0: 2020 2020 2320 7465 7874 5f66 696c 652e      # text_file.
+0001e3f0: 7772 6974 6528 6622 4469 7252 6573 5661  write(f"DirResVa
+0001e400: 6c73 5465 7274 6961 7279 203d 205c 0a20  lsTertiary = \. 
+0001e410: 2020 2020 2020 2020 2020 2023 2022 7b73             # "{s
+0001e420: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
+0001e430: 6d5f 7661 6c75 6573 5f66 6f6c 6465 725f  m_values_folder_
+0001e440: 7061 7468 2e72 6570 6c61 6365 2862 6163  path.replace(bac
+0001e450: 6b73 6c61 7368 2c20 272f 2729 7d2f 5465  kslash, '/')}/Te
+0001e460: 7274 6961 7279 2f5c 223b 5c6e 2229 0a20  rtiary/\";\n"). 
+0001e470: 2020 2020 2020 2074 6578 745f 6669 6c65         text_file
+0001e480: 2e77 7269 7465 2866 2244 6972 5265 7343  .write(f"DirResC
+0001e490: 6972 6320 3d20 5c22 7b73 656c 662e 6669  irc = \"{self.fi
+0001e4a0: 6c65 5f64 6174 612e 655f 6d5f 6369 7263  le_data.e_m_circ
+0001e4b0: 7569 745f 666f 6c64 6572 5f70 6174 682e  uit_folder_path.
+0001e4c0: 7265 706c 6163 6528 6261 636b 736c 6173  replace(backslas
+0001e4d0: 682c 2027 2f27 297d 2f5c 223b 5c6e 2229  h, '/')}/\";\n")
+0001e4e0: 0a20 2020 2020 2020 2074 6578 745f 6669  .        text_fi
+0001e4f0: 6c65 2e77 7269 7465 2866 224f 7074 696f  le.write(f"Optio
+0001e500: 6e50 6f73 203d 205c 227b 7365 6c66 2e66  nPos = \"{self.f
+0001e510: 696c 655f 6461 7461 2e72 6573 756c 7473  ile_data.results
+0001e520: 5f66 6f6c 6465 725f 7061 7468 2e72 6570  _folder_path.rep
+0001e530: 6c61 6365 2862 6163 6b73 6c61 7368 2c20  lace(backslash, 
+0001e540: 272f 2729 7d2f 6f70 7469 6f6e 2e70 6f73  '/')}/option.pos
+0001e550: 5c22 3b5c 6e22 290a 2020 2020 2020 2020  \";\n").        
+0001e560: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0001e570: 0a20 2020 2020 2020 2020 2020 2066 2244  .            f"D
+0001e580: 6972 5374 7261 6e64 436f 6566 6620 3d20  irStrandCoeff = 
+0001e590: 5c22 7b73 656c 662e 6669 6c65 5f64 6174  \"{self.file_dat
+0001e5a0: 612e 655f 6d5f 7374 7261 6e64 735f 636f  a.e_m_strands_co
+0001e5b0: 6566 6669 6369 656e 7473 5f66 6f6c 6465  efficients_folde
+0001e5c0: 725f 7061 7468 2e72 6570 6c61 6365 2862  r_path.replace(b
+0001e5d0: 6163 6b73 6c61 7368 2c20 272f 2729 7d2f  ackslash, '/')}/
+0001e5e0: 5c22 3b5c 6e22 290a 0a20 2020 2020 2020  \";\n")..       
+0001e5f0: 2023 2056 6973 7561 6c69 7361 7469 6f6e   # Visualisation
+0001e600: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001e610: 2e70 6c6f 745f 6669 656c 6473 203d 3d20  .plot_fields == 
+0001e620: 2273 7461 6e64 6172 6422 3a0a 2020 2020  "standard":.    
+0001e630: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
+0001e640: 652e 7772 6974 6528 2246 6c61 675f 7368  e.write("Flag_sh
+0001e650: 6f77 5f73 7461 6e64 6172 645f 6669 656c  ow_standard_fiel
+0001e660: 6473 203d 2031 3b5c 6e22 290a 2020 2020  ds = 1;\n").    
+0001e670: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001e680: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
+0001e690: 7772 6974 6528 2246 6c61 675f 7368 6f77  write("Flag_show
+0001e6a0: 5f73 7461 6e64 6172 645f 6669 656c 6473  _standard_fields
+0001e6b0: 203d 2030 3b5c 6e22 290a 0a20 2020 2020   = 0;\n")..     
+0001e6c0: 2020 2074 6578 745f 6669 6c65 2e63 6c6f     text_file.clo
+0001e6d0: 7365 2829 0a0a 2020 2020 6465 6620 6361  se()..    def ca
+0001e6e0: 6c63 756c 6174 655f 616e 645f 7772 6974  lculate_and_writ
+0001e6f0: 655f 6672 6571 5f64 6f6d 6169 6e5f 6c6f  e_freq_domain_lo
+0001e700: 6728 7365 6c66 2c20 6e75 6d62 6572 5f66  g(self, number_f
+0001e710: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
+0001e720: 696f 6e73 3a20 696e 7420 3d20 312c 2063  ions: int = 1, c
+0001e730: 7572 7265 6e74 5f61 6d70 6c69 7475 6465  urrent_amplitude
+0001e740: 5f6c 6973 743a 204c 6973 7420 3d20 4e6f  _list: List = No
+0001e750: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+0001e760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e780: 7068 6173 655f 6465 675f 6c69 7374 3a20  phase_deg_list: 
+0001e790: 4c69 7374 203d 204e 6f6e 652c 2066 7265  List = None, fre
+0001e7a0: 7175 656e 6369 6573 3a20 4c69 7374 203d  quencies: List =
+0001e7b0: 204e 6f6e 652c 0a20 2020 2020 2020 2020   None,.         
+0001e7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001e7e0: 2020 2063 6f72 655f 6879 7374 5f6c 6f73     core_hyst_los
+0001e7f0: 7365 733a 204c 6973 745b 666c 6f61 745d  ses: List[float]
+0001e800: 203d 204e 6f6e 6529 3a0a 2020 2020 2020   = None):.      
+0001e810: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
+0001e820: 6164 2062 6163 6b20 7468 6520 7265 7375  ad back the resu
+0001e830: 6c74 7320 6672 6f6d 2074 6865 202e 6461  lts from the .da
+0001e840: 7420 7265 7375 6c74 2066 696c 6573 2063  t result files c
+0001e850: 7265 6174 6564 2062 7920 7468 6520 4f4e  reated by the ON
+0001e860: 454c 4142 2073 696d 756c 6174 696f 6e20  ELAB simulation 
+0001e870: 636c 6965 6e74 2e0a 0a20 2020 2020 2020  client...       
+0001e880: 2053 746f 7265 7320 7468 6520 7265 7375   Stores the resu
+0001e890: 6c74 7320 696e 2061 2072 6573 756c 7420  lts in a result 
+0001e8a0: 6469 6374 696f 6e61 7279 2028 4a53 4f4e  dictionary (JSON
+0001e8b0: 206c 6f67 2066 696c 6529 2e0a 0a20 2020   log file)...   
+0001e8c0: 2020 2020 2054 6869 7320 6669 6c65 2069       This file i
+0001e8d0: 6e63 6c75 6465 733a 0a20 2020 2020 2020  ncludes:.       
+0001e8e0: 2020 2a20 7265 7375 6c74 7320 286c 6f73    * results (los
+0001e8f0: 7365 732c 202e 2e2e 2920 6f66 2074 6865  ses, ...) of the
 0001e900: 2073 696d 756c 6174 696f 6e0a 2020 2020   simulation.    
-0001e910: 2020 2020 3a74 7970 6520 7068 6173 655f      :type phase_
-0001e920: 6465 675f 6c69 7374 3a20 6c69 7374 0a20  deg_list: list. 
-0001e930: 2020 2020 2020 203a 7061 7261 6d20 6672         :param fr
-0001e940: 6571 7565 6e63 6965 733a 2066 7265 7175  equencies: frequ
-0001e950: 656e 6369 6573 2076 616c 7565 7320 6f66  encies values of
-0001e960: 2074 6865 2073 7765 6570 2069 7465 7261   the sweep itera
-0001e970: 7469 6f6e 732e 204e 6f74 206e 6565 6465  tions. Not neede
-0001e980: 6420 666f 7220 7369 6e67 6c65 2073 696d  d for single sim
-0001e990: 756c 6174 696f 6e0a 2020 2020 2020 2020  ulation.        
-0001e9a0: 3a74 7970 6520 6672 6571 7565 6e63 6965  :type frequencie
-0001e9b0: 733a 206c 6973 740a 2020 2020 2020 2020  s: list.        
-0001e9c0: 3a70 6172 616d 2063 6f72 655f 6879 7374  :param core_hyst
-0001e9d0: 5f6c 6f73 7365 733a 204f 7074 696f 6e61  _losses: Optiona
-0001e9e0: 6c20 636f 7265 2068 7973 7465 7265 7369  l core hysteresi
-0001e9f0: 7320 6c6f 7373 6573 2076 616c 7565 2066  s losses value f
-0001ea00: 726f 6d20 616e 6f74 6865 7220 7369 6d75  rom another simu
-0001ea10: 6c61 7469 6f6e 2e20 4966 2061 2076 616c  lation. If a val
-0001ea20: 7565 2069 7320 6769 7665 6e2c 0a20 2020  ue is given,.   
-0001ea30: 2020 2020 2020 2020 2074 6865 2065 7874           the ext
-0001ea40: 6572 6e61 6c20 7661 6c75 6520 6973 2075  ernal value is u
-0001ea50: 7365 6420 696e 2074 6865 2072 6573 756c  sed in the resul
-0001ea60: 742d 6c6f 672e 204f 7468 6572 7769 7365  t-log. Otherwise
-0001ea70: 2c20 7468 6520 6879 7374 6572 6573 6973  , the hysteresis
-0001ea80: 206c 6f73 7365 7320 6f66 2074 6865 0a20   losses of the. 
-0001ea90: 2020 2020 2020 2020 2020 2066 756e 6461             funda
-0001eaa0: 6d65 6e74 616c 2066 7265 7175 656e 6379  mental frequency
-0001eab0: 2069 7320 7573 6564 0a20 2020 2020 2020   is used.       
-0001eac0: 203a 7479 7065 2063 6f72 655f 6879 7374   :type core_hyst
-0001ead0: 5f6c 6f73 7365 733a 204c 6973 745b 666c  _losses: List[fl
-0001eae0: 6f61 745d 0a20 2020 2020 2020 2022 2222  oat].        """
-0001eaf0: 0a20 2020 2020 2020 2066 756e 6461 6d65  .        fundame
-0001eb00: 6e74 616c 5f69 6e64 6578 203d 2030 2020  ntal_index = 0  
-0001eb10: 2320 696e 6465 7820 6f66 2074 6865 2066  # index of the f
-0001eb20: 756e 6461 6d65 6e74 616c 2066 7265 7175  undamental frequ
-0001eb30: 656e 6379 0a0a 2020 2020 2020 2020 6c6f  ency..        lo
-0001eb40: 675f 6469 6374 203d 207b 2273 696e 676c  g_dict = {"singl
-0001eb50: 655f 7377 6565 7073 223a 205b 5d2c 2022  e_sweeps": [], "
-0001eb60: 746f 7461 6c5f 6c6f 7373 6573 223a 207b  total_losses": {
-0001eb70: 7d2c 2022 7369 6d75 6c61 7469 6f6e 5f73  }, "simulation_s
-0001eb80: 6574 7469 6e67 7322 3a20 7b7d 7d0a 0a20  ettings": {}}.. 
-0001eb90: 2020 2020 2020 2066 6f72 2073 696e 676c         for singl
-0001eba0: 655f 7369 6d75 6c61 7469 6f6e 2069 6e20  e_simulation in 
-0001ebb0: 7261 6e67 6528 302c 206e 756d 6265 725f  range(0, number_
-0001ebc0: 6672 6571 7565 6e63 795f 7369 6d75 6c61  frequency_simula
-0001ebd0: 7469 6f6e 7329 3a0a 2020 2020 2020 2020  tions):.        
-0001ebe0: 2020 2020 2320 6372 6561 7465 2064 6963      # create dic
-0001ebf0: 7469 6f6e 6172 7920 7377 6565 705f 6469  tionary sweep_di
-0001ec00: 6374 2077 6974 6820 2757 696e 6469 6e67  ct with 'Winding
-0001ec10: 2720 6173 2061 206c 6973 7420 6f66 206d  ' as a list of m
-0001ec20: 3d6e 5f77 696e 6469 6e67 7320 7769 6e64  =n_windings wind
-0001ec30: 696e 675f 6469 6374 732e 0a20 2020 2020  ing_dicts..     
-0001ec40: 2020 2020 2020 2023 2053 696e 676c 6520         # Single 
-0001ec50: 7661 6c75 6573 2c20 7265 6365 6976 6564  values, received
-0001ec60: 2064 7572 696e 6720 6f6e 6520 6f66 2074   during one of t
-0001ec70: 6865 206e 3d73 7765 6570 5f6e 756d 6265  he n=sweep_numbe
-0001ec80: 7220 7369 6d75 6c61 7469 6f6e 732c 2061  r simulations, a
-0001ec90: 7265 2061 6464 6564 2061 7320 2763 6f72  re added as 'cor
-0001eca0: 655f 6564 6479 5f6c 6f73 7365 7327 2065  e_eddy_losses' e
-0001ecb0: 7463 2e0a 2020 2020 2020 2020 2020 2020  tc..            
-0001ecc0: 7377 6565 705f 6469 6374 203d 207b 7d0a  sweep_dict = {}.
-0001ecd0: 0a20 2020 2020 2020 2020 2020 2023 2046  .            # F
-0001ece0: 7265 7175 656e 6369 6573 0a20 2020 2020  requencies.     
-0001ecf0: 2020 2020 2020 2069 6620 6e75 6d62 6572         if number
-0001ed00: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
-0001ed10: 6174 696f 6e73 203e 2031 3a0a 2020 2020  ations > 1:.    
-0001ed20: 2020 2020 2020 2020 2020 2020 2320 7377              # sw
-0001ed30: 6565 705f 7369 6d75 6c61 7469 6f6e 202d  eep_simulation -
-0001ed40: 3e20 6765 7420 6672 6571 7565 6e63 6965  > get frequencie
-0001ed50: 7320 6672 6f6d 2070 6173 7365 6420 6375  s from passed cu
-0001ed60: 7272 656e 7473 0a20 2020 2020 2020 2020  rrents.         
-0001ed70: 2020 2020 2020 2073 7765 6570 5f64 6963         sweep_dic
-0001ed80: 745b 2266 225d 203d 2066 7265 7175 656e  t["f"] = frequen
-0001ed90: 6369 6573 5b73 696e 676c 655f 7369 6d75  cies[single_simu
-0001eda0: 6c61 7469 6f6e 5d0a 2020 2020 2020 2020  lation].        
-0001edb0: 2020 2020 2020 2020 6675 6e64 616d 656e          fundamen
-0001edc0: 7461 6c5f 696e 6465 7820 3d20 6e70 2e61  tal_index = np.a
-0001edd0: 7267 6d69 6e28 6e70 2e6d 612e 6d61 736b  rgmin(np.ma.mask
-0001ede0: 6564 5f77 6865 7265 286e 702e 6172 7261  ed_where(np.arra
-0001edf0: 7928 6672 6571 7565 6e63 6965 7329 203d  y(frequencies) =
-0001ee00: 3d20 302c 206e 702e 6172 7261 7928 6672  = 0, np.array(fr
-0001ee10: 6571 7565 6e63 6965 7329 2929 0a20 2020  equencies))).   
-0001ee20: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-0001ee30: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-0001ee40: 2073 696e 676c 655f 7369 6d75 6c61 7469   single_simulati
-0001ee50: 6f6e 202d 3e20 6765 7420 6672 6571 7565  on -> get freque
-0001ee60: 6e63 7920 6672 6f6d 2069 6e73 7461 6e63  ncy from instanc
-0001ee70: 6520 7661 7269 6162 6c65 0a20 2020 2020  e variable.     
-0001ee80: 2020 2020 2020 2020 2020 2073 7765 6570             sweep
-0001ee90: 5f64 6963 745b 2266 225d 203d 2073 656c  _dict["f"] = sel
-0001eea0: 662e 6672 6571 7565 6e63 790a 0a20 2020  f.frequency..   
-0001eeb0: 2020 2020 2020 2020 2023 2057 696e 6469           # Windi
-0001eec0: 6e67 206e 616d 6573 2061 7265 206e 6565  ng names are nee
-0001eed0: 6465 6420 746f 2066 696e 6420 7468 6520  ded to find the 
-0001eee0: 6c6f 6767 696e 6720 7061 7468 0a20 2020  logging path.   
-0001eef0: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-0001ef00: 5f6e 616d 6520 3d20 5b22 5769 6e64 696e  _name = ["Windin
-0001ef10: 675f 2220 2b20 7374 7228 6929 2066 6f72  g_" + str(i) for
-0001ef20: 2069 2069 6e20 7261 6e67 6528 312c 206c   i in range(1, l
-0001ef30: 656e 2873 656c 662e 7769 6e64 696e 6773  en(self.windings
-0001ef40: 2920 2b20 3129 5d0a 0a20 2020 2020 2020  ) + 1)]..       
-0001ef50: 2020 2020 2066 6f72 2077 696e 6469 6e67       for winding
-0001ef60: 5f6e 756d 6265 7220 696e 2072 616e 6765  _number in range
-0001ef70: 286c 656e 2873 656c 662e 7769 6e64 696e  (len(self.windin
-0001ef80: 6773 2929 3a0a 0a20 2020 2020 2020 2020  gs)):..         
-0001ef90: 2020 2020 2020 2023 2043 7265 6174 6520         # Create 
-0001efa0: 656d 7074 7920 7769 6e64 696e 6720 6469  empty winding di
-0001efb0: 6374 696f 6e61 7279 0a20 2020 2020 2020  ctionary.       
-0001efc0: 2020 2020 2020 2020 2023 2063 7265 6174           # creat
-0001efd0: 6520 6469 6374 696f 6e61 7279 2077 696e  e dictionary win
-0001efe0: 6469 6e67 5f64 6963 7420 7769 7468 2027  ding_dict with '
-0001eff0: 7475 726e 5f6c 6f73 7365 7327 2061 7320  turn_losses' as 
-0001f000: 6c69 7374 206f 6620 7468 6520 6a3d 6e75  list of the j=nu
-0001f010: 6d62 6572 5f74 7572 6e73 2074 7572 6e20  mber_turns turn 
-0001f020: 6c6f 7373 6573 2e0a 2020 2020 2020 2020  losses..        
-0001f030: 2020 2020 2020 2020 2320 5369 6e67 6c65          # Single
-0001f040: 2076 616c 7565 7320 7265 6c61 7465 6420   values related 
-0001f050: 746f 206f 6e65 2077 696e 6469 6e67 2061  to one winding a
-0001f060: 7265 2061 6464 6564 2061 7320 2777 696e  re added as 'win
-0001f070: 6469 6e67 5f6c 6f73 7365 7327 2065 7463  ding_losses' etc
-0001f080: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0001f090: 2020 7769 6e64 696e 675f 6469 6374 203d    winding_dict =
-0001f0a0: 207b 2274 7572 6e5f 6c6f 7373 6573 223a   {"turn_losses":
-0001f0b0: 205b 5d2c 0a20 2020 2020 2020 2020 2020   [],.           
-0001f0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f0d0: 2020 2020 2022 666c 7578 223a 205b 5d2c       "flux": [],
-0001f0e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0001f0f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f100: 2022 666c 7578 5f6f 7665 725f 6375 7272   "flux_over_curr
-0001f110: 656e 7422 3a20 5b5d 2c0a 2020 2020 2020  ent": [],.      
-0001f120: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f130: 2020 2020 2020 2020 2020 2256 223a 205b            "V": [
-0001f140: 5d7d 0a0a 2020 2020 2020 2020 2020 2020  ]}..            
-0001f150: 2020 2020 7475 726e 7320 3d20 6666 2e67      turns = ff.g
-0001f160: 6574 5f6e 756d 6265 725f 6f66 5f74 7572  et_number_of_tur
-0001f170: 6e73 5f6f 665f 7769 6e64 696e 6728 7769  ns_of_winding(wi
-0001f180: 6e64 696e 675f 7769 6e64 6f77 733d 7365  nding_windows=se
-0001f190: 6c66 2e77 696e 6469 6e67 5f77 696e 646f  lf.winding_windo
-0001f1a0: 7773 2c20 7769 6e64 696e 6773 3d73 656c  ws, windings=sel
-0001f1b0: 662e 7769 6e64 696e 6773 2c0a 2020 2020  f.windings,.    
-0001f1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f1f0: 2020 2020 2020 7769 6e64 696e 675f 6e75        winding_nu
-0001f200: 6d62 6572 3d77 696e 6469 6e67 5f6e 756d  mber=winding_num
-0001f210: 6265 7229 0a0a 2020 2020 2020 2020 2020  ber)..          
-0001f220: 2020 2020 2020 7769 6e64 696e 675f 6469        winding_di
-0001f230: 6374 5b22 6e75 6d62 6572 5f74 7572 6e73  ct["number_turns
-0001f240: 225d 203d 2074 7572 6e73 0a0a 2020 2020  "] = turns..    
-0001f250: 2020 2020 2020 2020 2020 2020 2320 4375              # Cu
-0001f260: 7272 656e 7473 0a20 2020 2020 2020 2020  rrents.         
-0001f270: 2020 2020 2020 2069 6620 6e75 6d62 6572         if number
-0001f280: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
-0001f290: 6174 696f 6e73 203e 2031 3a0a 2020 2020  ations > 1:.    
-0001f2a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f2b0: 2320 7377 6565 705f 7369 6d75 6c61 7469  # sweep_simulati
-0001f2c0: 6f6e 202d 3e20 6765 7420 6375 7272 656e  on -> get curren
-0001f2d0: 7473 2066 726f 6d20 7061 7373 6564 2063  ts from passed c
-0001f2e0: 7572 7265 6e74 732e 2043 6f6d 706c 6578  urrents. Complex
-0001f2f0: 2063 7572 7265 6e74 206e 6565 6473 2074   current needs t
-0001f300: 6f20 6265 2063 7265 6174 6564 2066 726f  o be created fro
-0001f310: 6d20 616d 706c 6974 7564 6520 616e 6420  m amplitude and 
-0001f320: 7068 6173 650a 2020 2020 2020 2020 2020  phase.          
-0001f330: 2020 2020 2020 2020 2020 636f 6d70 6c65            comple
-0001f340: 785f 6375 7272 656e 745f 7068 6173 6f72  x_current_phasor
-0001f350: 203d 2063 6f6d 706c 6578 280a 2020 2020   = complex(.    
-0001f360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f370: 2020 2020 6375 7272 656e 745f 616d 706c      current_ampl
-0001f380: 6974 7564 655f 6c69 7374 5b73 696e 676c  itude_list[singl
-0001f390: 655f 7369 6d75 6c61 7469 6f6e 5d5b 7769  e_simulation][wi
-0001f3a0: 6e64 696e 675f 6e75 6d62 6572 5d20 2a20  nding_number] * 
-0001f3b0: 6e70 2e63 6f73 286e 702e 6465 6732 7261  np.cos(np.deg2ra
-0001f3c0: 6428 7068 6173 655f 6465 675f 6c69 7374  d(phase_deg_list
-0001f3d0: 5b73 696e 676c 655f 7369 6d75 6c61 7469  [single_simulati
-0001f3e0: 6f6e 5d5b 7769 6e64 696e 675f 6e75 6d62  on][winding_numb
-0001f3f0: 6572 5d29 292c 0a20 2020 2020 2020 2020  er])),.         
-0001f400: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0001f410: 7572 7265 6e74 5f61 6d70 6c69 7475 6465  urrent_amplitude
-0001f420: 5f6c 6973 745b 7369 6e67 6c65 5f73 696d  _list[single_sim
-0001f430: 756c 6174 696f 6e5d 5b77 696e 6469 6e67  ulation][winding
-0001f440: 5f6e 756d 6265 725d 202a 206e 702e 7369  _number] * np.si
-0001f450: 6e28 6e70 2e64 6567 3272 6164 2870 6861  n(np.deg2rad(pha
-0001f460: 7365 5f64 6567 5f6c 6973 745b 7369 6e67  se_deg_list[sing
-0001f470: 6c65 5f73 696d 756c 6174 696f 6e5d 5b77  le_simulation][w
-0001f480: 696e 6469 6e67 5f6e 756d 6265 725d 2929  inding_number]))
-0001f490: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-0001f4a0: 2020 2020 2020 2023 2063 6f6d 706c 6578         # complex
-0001f4b0: 5f63 7572 7265 6e74 5f70 6861 736f 7220  _current_phasor 
-0001f4c0: 3d20 6375 7272 656e 745f 616d 706c 6974  = current_amplit
-0001f4d0: 7564 655f 6c69 7374 5b73 696e 676c 655f  ude_list[single_
-0001f4e0: 7369 6d75 6c61 7469 6f6e 5d5b 7769 6e64  simulation][wind
-0001f4f0: 696e 675f 6e75 6d62 6572 5d0a 2020 2020  ing_number].    
-0001f500: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001f510: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001f520: 2020 2020 2020 2320 7369 6e67 6c65 5f73        # single_s
-0001f530: 696d 756c 6174 696f 6e20 2d3e 2067 6574  imulation -> get
-0001f540: 2063 7572 7265 6e74 2066 726f 6d20 696e   current from in
-0001f550: 7374 616e 6365 2076 6172 6961 626c 650a  stance variable.
+0001e910: 2020 2020 202a 2067 656f 6d65 7472 7920       * geometry 
+0001e920: 7061 7261 6d65 7465 7273 206f 6620 7468  parameters of th
+0001e930: 6520 6769 7665 6e20 7369 6d75 6c61 7469  e given simulati
+0001e940: 6f6e 0a20 2020 2020 2020 2020 2a20 6f70  on.         * op
+0001e950: 7469 6f6e 616c 2070 6172 616d 6574 6572  tional parameter
+0001e960: 7320 6361 6e20 6265 2061 6464 6564 2074  s can be added t
+0001e970: 6f20 7468 6520 6c6f 672c 206c 696b 6520  o the log, like 
+0001e980: 7468 6520 696e 6475 6374 616e 6365 2076  the inductance v
+0001e990: 616c 7565 7320 6f72 2074 6865 2063 6f72  alues or the cor
+0001e9a0: 6520 6879 7374 6572 6573 6973 206c 6f73  e hysteresis los
+0001e9b0: 7365 7320 6672 6f6d 0a20 2020 2020 2020  ses from.       
+0001e9c0: 2020 2020 2020 2020 2020 2020 2065 7874               ext
+0001e9d0: 6572 6e61 6c20 7369 6d75 6c61 7469 6f6e  ernal simulation
+0001e9e0: 730a 0a20 2020 2020 2020 2041 6e20 696e  s..        An in
+0001e9f0: 6475 6374 616e 6365 2064 6963 7469 6f6e  ductance diction
+0001ea00: 6172 7920 6973 206f 7074 696f 6e61 6c2c  ary is optional,
+0001ea10: 2069 6e20 6361 7365 206f 6620 6765 745f   in case of get_
+0001ea20: 696e 6475 6374 616e 6365 2829 2068 6173  inductance() has
+0001ea30: 2062 6565 6e20 6361 6c63 756c 6174 6564   been calculated
+0001ea40: 2062 6566 6f72 652e 2049 6e20 7468 6973   before. In this
+0001ea50: 2063 6173 652c 0a20 2020 2020 2020 2074   case,.        t
+0001ea60: 6865 2067 6574 5f69 6e64 7563 7461 6e63  he get_inductanc
+0001ea70: 6528 292d 7265 7375 6c74 7320 6361 6e20  e()-results can 
+0001ea80: 6265 2067 6976 656e 2074 6f20 7468 6973  be given to this
+0001ea90: 2066 756e 6374 696f 6e20 746f 2062 6520   function to be 
+0001eaa0: 696e 636c 7564 6564 2069 6e74 6f20 7468  included into th
+0001eab0: 6520 7265 7375 6c74 2d6c 6f67 2e0a 0a20  e result-log... 
+0001eac0: 2020 2020 2020 2049 6e20 6361 7365 206f         In case o
+0001ead0: 6620 7365 7061 7261 7465 2063 616c 6375  f separate calcu
+0001eae0: 6c61 7465 6420 6879 7374 6572 6573 6973  lated hysteresis
+0001eaf0: 206c 6f73 7365 7320 2865 2e67 2e20 7472   losses (e.g. tr
+0001eb00: 6961 6e67 756c 6172 206d 6167 6e65 7469  iangular magneti
+0001eb10: 7a61 7469 6f6e 2063 7572 7265 6e74 292c  zation current),
+0001eb20: 2074 6869 7320 7661 6c75 6520 6361 6e20   this value can 
+0001eb30: 6265 0a20 2020 2020 2020 2067 6976 656e  be.        given
+0001eb40: 2061 7320 6120 7061 7261 6d65 7465 7220   as a parameter 
+0001eb50: 616e 6420 7769 6c6c 206f 7665 7277 7269  and will overwri
+0001eb60: 7465 2074 6865 2068 7973 7465 7265 7369  te the hysteresi
+0001eb70: 732d 6c6f 7373 2072 6573 756c 742e 0a0a  s-loss result...
+0001eb80: 2020 2020 2020 2020 3a70 6172 616d 206e          :param n
+0001eb90: 756d 6265 725f 6672 6571 7565 6e63 795f  umber_frequency_
+0001eba0: 7369 6d75 6c61 7469 6f6e 733a 204e 756d  simulations: Num
+0001ebb0: 6265 7220 6f66 2073 7765 6570 2069 7465  ber of sweep ite
+0001ebc0: 7261 7469 6f6e 7320 7468 6174 2077 6572  rations that wer
+0001ebd0: 6520 646f 6e65 2062 6566 6f72 652e 2046  e done before. F
+0001ebe0: 6f72 2061 2073 696e 676c 6520 7369 6d75  or a single simu
+0001ebf0: 6c61 7469 6f6e 0a20 2020 2020 2020 2020  lation.         
+0001ec00: 2020 2073 7765 6570 5f6e 756d 6265 7220     sweep_number 
+0001ec10: 3d20 310a 2020 2020 2020 2020 3a74 7970  = 1.        :typ
+0001ec20: 6520 6e75 6d62 6572 5f66 7265 7175 656e  e number_frequen
+0001ec30: 6379 5f73 696d 756c 6174 696f 6e73 3a20  cy_simulations: 
+0001ec40: 696e 740a 2020 2020 2020 2020 3a70 6172  int.        :par
+0001ec50: 616d 2063 7572 7265 6e74 5f61 6d70 6c69  am current_ampli
+0001ec60: 7475 6465 5f6c 6973 743a 2043 7572 7265  tude_list: Curre
+0001ec70: 6e74 2076 616c 7565 7320 6f66 2074 6865  nt values of the
+0001ec80: 2073 7765 6570 2069 7465 7261 7469 6f6e   sweep iteration
+0001ec90: 732e 204e 6f74 206e 6565 6465 6420 666f  s. Not needed fo
+0001eca0: 7220 7369 6e67 6c65 2073 696d 756c 6174  r single simulat
+0001ecb0: 696f 6e0a 2020 2020 2020 2020 3a74 7970  ion.        :typ
+0001ecc0: 6520 6375 7272 656e 745f 616d 706c 6974  e current_amplit
+0001ecd0: 7564 655f 6c69 7374 3a20 6c69 7374 0a20  ude_list: list. 
+0001ece0: 2020 2020 2020 203a 7061 7261 6d20 7068         :param ph
+0001ecf0: 6173 655f 6465 675f 6c69 7374 3a20 5068  ase_deg_list: Ph
+0001ed00: 6173 6520 696e 2064 6567 7265 6520 6c69  ase in degree li
+0001ed10: 7374 2066 6f72 2066 7265 7175 656e 6379  st for frequency
+0001ed20: 2073 7765 6570 732e 204e 6f74 206e 6565   sweeps. Not nee
+0001ed30: 6465 6420 666f 7220 7369 6e67 6c65 2073  ded for single s
+0001ed40: 696d 756c 6174 696f 6e0a 2020 2020 2020  imulation.      
+0001ed50: 2020 3a74 7970 6520 7068 6173 655f 6465    :type phase_de
+0001ed60: 675f 6c69 7374 3a20 6c69 7374 0a20 2020  g_list: list.   
+0001ed70: 2020 2020 203a 7061 7261 6d20 6672 6571       :param freq
+0001ed80: 7565 6e63 6965 733a 2066 7265 7175 656e  uencies: frequen
+0001ed90: 6369 6573 2076 616c 7565 7320 6f66 2074  cies values of t
+0001eda0: 6865 2073 7765 6570 2069 7465 7261 7469  he sweep iterati
+0001edb0: 6f6e 732e 204e 6f74 206e 6565 6465 6420  ons. Not needed 
+0001edc0: 666f 7220 7369 6e67 6c65 2073 696d 756c  for single simul
+0001edd0: 6174 696f 6e0a 2020 2020 2020 2020 3a74  ation.        :t
+0001ede0: 7970 6520 6672 6571 7565 6e63 6965 733a  ype frequencies:
+0001edf0: 206c 6973 740a 2020 2020 2020 2020 3a70   list.        :p
+0001ee00: 6172 616d 2063 6f72 655f 6879 7374 5f6c  aram core_hyst_l
+0001ee10: 6f73 7365 733a 204f 7074 696f 6e61 6c20  osses: Optional 
+0001ee20: 636f 7265 2068 7973 7465 7265 7369 7320  core hysteresis 
+0001ee30: 6c6f 7373 6573 2076 616c 7565 2066 726f  losses value fro
+0001ee40: 6d20 616e 6f74 6865 7220 7369 6d75 6c61  m another simula
+0001ee50: 7469 6f6e 2e20 4966 2061 2076 616c 7565  tion. If a value
+0001ee60: 2069 7320 6769 7665 6e2c 0a20 2020 2020   is given,.     
+0001ee70: 2020 2020 2020 2074 6865 2065 7874 6572         the exter
+0001ee80: 6e61 6c20 7661 6c75 6520 6973 2075 7365  nal value is use
+0001ee90: 6420 696e 2074 6865 2072 6573 756c 742d  d in the result-
+0001eea0: 6c6f 672e 204f 7468 6572 7769 7365 2c20  log. Otherwise, 
+0001eeb0: 7468 6520 6879 7374 6572 6573 6973 206c  the hysteresis l
+0001eec0: 6f73 7365 7320 6f66 2074 6865 0a20 2020  osses of the.   
+0001eed0: 2020 2020 2020 2020 2066 756e 6461 6d65           fundame
+0001eee0: 6e74 616c 2066 7265 7175 656e 6379 2069  ntal frequency i
+0001eef0: 7320 7573 6564 0a20 2020 2020 2020 203a  s used.        :
+0001ef00: 7479 7065 2063 6f72 655f 6879 7374 5f6c  type core_hyst_l
+0001ef10: 6f73 7365 733a 204c 6973 745b 666c 6f61  osses: List[floa
+0001ef20: 745d 0a20 2020 2020 2020 2022 2222 0a20  t].        """. 
+0001ef30: 2020 2020 2020 2066 756e 6461 6d65 6e74         fundament
+0001ef40: 616c 5f69 6e64 6578 203d 2030 2020 2320  al_index = 0  # 
+0001ef50: 696e 6465 7820 6f66 2074 6865 2066 756e  index of the fun
+0001ef60: 6461 6d65 6e74 616c 2066 7265 7175 656e  damental frequen
+0001ef70: 6379 0a0a 2020 2020 2020 2020 6c6f 675f  cy..        log_
+0001ef80: 6469 6374 203d 207b 2273 696e 676c 655f  dict = {"single_
+0001ef90: 7377 6565 7073 223a 205b 5d2c 2022 746f  sweeps": [], "to
+0001efa0: 7461 6c5f 6c6f 7373 6573 223a 207b 7d2c  tal_losses": {},
+0001efb0: 2022 7369 6d75 6c61 7469 6f6e 5f73 6574   "simulation_set
+0001efc0: 7469 6e67 7322 3a20 7b7d 7d0a 0a20 2020  tings": {}}..   
+0001efd0: 2020 2020 2066 6f72 2073 696e 676c 655f       for single_
+0001efe0: 7369 6d75 6c61 7469 6f6e 2069 6e20 7261  simulation in ra
+0001eff0: 6e67 6528 302c 206e 756d 6265 725f 6672  nge(0, number_fr
+0001f000: 6571 7565 6e63 795f 7369 6d75 6c61 7469  equency_simulati
+0001f010: 6f6e 7329 3a0a 2020 2020 2020 2020 2020  ons):.          
+0001f020: 2020 2320 6372 6561 7465 2064 6963 7469    # create dicti
+0001f030: 6f6e 6172 7920 7377 6565 705f 6469 6374  onary sweep_dict
+0001f040: 2077 6974 6820 2757 696e 6469 6e67 2720   with 'Winding' 
+0001f050: 6173 2061 206c 6973 7420 6f66 206d 3d6e  as a list of m=n
+0001f060: 5f77 696e 6469 6e67 7320 7769 6e64 696e  _windings windin
+0001f070: 675f 6469 6374 732e 0a20 2020 2020 2020  g_dicts..       
+0001f080: 2020 2020 2023 2053 696e 676c 6520 7661       # Single va
+0001f090: 6c75 6573 2c20 7265 6365 6976 6564 2064  lues, received d
+0001f0a0: 7572 696e 6720 6f6e 6520 6f66 2074 6865  uring one of the
+0001f0b0: 206e 3d73 7765 6570 5f6e 756d 6265 7220   n=sweep_number 
+0001f0c0: 7369 6d75 6c61 7469 6f6e 732c 2061 7265  simulations, are
+0001f0d0: 2061 6464 6564 2061 7320 2763 6f72 655f   added as 'core_
+0001f0e0: 6564 6479 5f6c 6f73 7365 7327 2065 7463  eddy_losses' etc
+0001f0f0: 2e0a 2020 2020 2020 2020 2020 2020 7377  ..            sw
+0001f100: 6565 705f 6469 6374 203d 207b 7d0a 0a20  eep_dict = {}.. 
+0001f110: 2020 2020 2020 2020 2020 2023 2046 7265             # Fre
+0001f120: 7175 656e 6369 6573 0a20 2020 2020 2020  quencies.       
+0001f130: 2020 2020 2069 6620 6e75 6d62 6572 5f66       if number_f
+0001f140: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
+0001f150: 696f 6e73 203e 2031 3a0a 2020 2020 2020  ions > 1:.      
+0001f160: 2020 2020 2020 2020 2020 2320 7377 6565            # swee
+0001f170: 705f 7369 6d75 6c61 7469 6f6e 202d 3e20  p_simulation -> 
+0001f180: 6765 7420 6672 6571 7565 6e63 6965 7320  get frequencies 
+0001f190: 6672 6f6d 2070 6173 7365 6420 6375 7272  from passed curr
+0001f1a0: 656e 7473 0a20 2020 2020 2020 2020 2020  ents.           
+0001f1b0: 2020 2020 2073 7765 6570 5f64 6963 745b       sweep_dict[
+0001f1c0: 2266 225d 203d 2066 7265 7175 656e 6369  "f"] = frequenci
+0001f1d0: 6573 5b73 696e 676c 655f 7369 6d75 6c61  es[single_simula
+0001f1e0: 7469 6f6e 5d0a 2020 2020 2020 2020 2020  tion].          
+0001f1f0: 2020 2020 2020 6675 6e64 616d 656e 7461        fundamenta
+0001f200: 6c5f 696e 6465 7820 3d20 6e70 2e61 7267  l_index = np.arg
+0001f210: 6d69 6e28 6e70 2e6d 612e 6d61 736b 6564  min(np.ma.masked
+0001f220: 5f77 6865 7265 286e 702e 6172 7261 7928  _where(np.array(
+0001f230: 6672 6571 7565 6e63 6965 7329 203d 3d20  frequencies) == 
+0001f240: 302c 206e 702e 6172 7261 7928 6672 6571  0, np.array(freq
+0001f250: 7565 6e63 6965 7329 2929 0a20 2020 2020  uencies))).     
+0001f260: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0001f270: 2020 2020 2020 2020 2020 2020 2023 2073               # s
+0001f280: 696e 676c 655f 7369 6d75 6c61 7469 6f6e  ingle_simulation
+0001f290: 202d 3e20 6765 7420 6672 6571 7565 6e63   -> get frequenc
+0001f2a0: 7920 6672 6f6d 2069 6e73 7461 6e63 6520  y from instance 
+0001f2b0: 7661 7269 6162 6c65 0a20 2020 2020 2020  variable.       
+0001f2c0: 2020 2020 2020 2020 2073 7765 6570 5f64           sweep_d
+0001f2d0: 6963 745b 2266 225d 203d 2073 656c 662e  ict["f"] = self.
+0001f2e0: 6672 6571 7565 6e63 790a 0a20 2020 2020  frequency..     
+0001f2f0: 2020 2020 2020 2023 2057 696e 6469 6e67         # Winding
+0001f300: 206e 616d 6573 2061 7265 206e 6565 6465   names are neede
+0001f310: 6420 746f 2066 696e 6420 7468 6520 6c6f  d to find the lo
+0001f320: 6767 696e 6720 7061 7468 0a20 2020 2020  gging path.     
+0001f330: 2020 2020 2020 2077 696e 6469 6e67 5f6e         winding_n
+0001f340: 616d 6520 3d20 5b22 5769 6e64 696e 675f  ame = ["Winding_
+0001f350: 2220 2b20 7374 7228 6929 2066 6f72 2069  " + str(i) for i
+0001f360: 2069 6e20 7261 6e67 6528 312c 206c 656e   in range(1, len
+0001f370: 2873 656c 662e 7769 6e64 696e 6773 2920  (self.windings) 
+0001f380: 2b20 3129 5d0a 0a20 2020 2020 2020 2020  + 1)]..         
+0001f390: 2020 2066 6f72 2077 696e 6469 6e67 5f6e     for winding_n
+0001f3a0: 756d 6265 7220 696e 2072 616e 6765 286c  umber in range(l
+0001f3b0: 656e 2873 656c 662e 7769 6e64 696e 6773  en(self.windings
+0001f3c0: 2929 3a0a 0a20 2020 2020 2020 2020 2020  )):..           
+0001f3d0: 2020 2020 2023 2043 7265 6174 6520 656d       # Create em
+0001f3e0: 7074 7920 7769 6e64 696e 6720 6469 6374  pty winding dict
+0001f3f0: 696f 6e61 7279 0a20 2020 2020 2020 2020  ionary.         
+0001f400: 2020 2020 2020 2023 2063 7265 6174 6520         # create 
+0001f410: 6469 6374 696f 6e61 7279 2077 696e 6469  dictionary windi
+0001f420: 6e67 5f64 6963 7420 7769 7468 2027 7475  ng_dict with 'tu
+0001f430: 726e 5f6c 6f73 7365 7327 2061 7320 6c69  rn_losses' as li
+0001f440: 7374 206f 6620 7468 6520 6a3d 6e75 6d62  st of the j=numb
+0001f450: 6572 5f74 7572 6e73 2074 7572 6e20 6c6f  er_turns turn lo
+0001f460: 7373 6573 2e0a 2020 2020 2020 2020 2020  sses..          
+0001f470: 2020 2020 2020 2320 5369 6e67 6c65 2076        # Single v
+0001f480: 616c 7565 7320 7265 6c61 7465 6420 746f  alues related to
+0001f490: 206f 6e65 2077 696e 6469 6e67 2061 7265   one winding are
+0001f4a0: 2061 6464 6564 2061 7320 2777 696e 6469   added as 'windi
+0001f4b0: 6e67 5f6c 6f73 7365 7327 2065 7463 2e0a  ng_losses' etc..
+0001f4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f4d0: 7769 6e64 696e 675f 6469 6374 203d 207b  winding_dict = {
+0001f4e0: 2274 7572 6e5f 6c6f 7373 6573 223a 205b  "turn_losses": [
+0001f4f0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+0001f500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f510: 2020 2022 666c 7578 223a 205b 5d2c 0a20     "flux": [],. 
+0001f520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f530: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0001f540: 666c 7578 5f6f 7665 725f 6375 7272 656e  flux_over_curren
+0001f550: 7422 3a20 5b5d 2c0a 2020 2020 2020 2020  t": [],.        
 0001f560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f570: 2020 2020 636f 6d70 6c65 785f 6375 7272      complex_curr
-0001f580: 656e 745f 7068 6173 6f72 203d 2073 656c  ent_phasor = sel
-0001f590: 662e 6375 7272 656e 745b 7769 6e64 696e  f.current[windin
-0001f5a0: 675f 6e75 6d62 6572 5d0a 0a20 2020 2020  g_number]..     
-0001f5b0: 2020 2020 2020 2020 2020 2023 2053 746f             # Sto
-0001f5c0: 7265 2063 6f6d 706c 6578 2076 616c 7565  re complex value
-0001f5d0: 2061 7320 6c69 7374 2069 6e20 6a73 6f6e   as list in json
-0001f5e0: 2028 6265 6361 7573 6520 6a73 6f6e 2069   (because json i
-0001f5f0: 7320 6e6f 7420 6e61 7469 7665 6c79 2063  s not natively c
-0001f600: 6170 6162 6c65 206f 6620 636f 6d70 6c65  apable of comple
-0001f610: 7820 7661 6c75 6573 290a 2020 2020 2020  x values).      
-0001f620: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-0001f630: 675f 6469 6374 5b22 4922 5d20 3d20 5b63  g_dict["I"] = [c
-0001f640: 6f6d 706c 6578 5f63 7572 7265 6e74 5f70  omplex_current_p
-0001f650: 6861 736f 722e 7265 616c 2c20 636f 6d70  hasor.real, comp
-0001f660: 6c65 785f 6375 7272 656e 745f 7068 6173  lex_current_phas
-0001f670: 6f72 2e69 6d61 675d 0a0a 2020 2020 2020  or.imag]..      
-0001f680: 2020 2020 2020 2020 2020 2320 4361 7365            # Case
-0001f690: 206c 6974 7a3a 204c 6f61 6420 686f 6d6f   litz: Load homo
-0001f6a0: 6765 6e69 7a65 6420 7265 7375 6c74 730a  genized results.
-0001f6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f6c0: 6966 2073 656c 662e 7769 6e64 696e 6773  if self.windings
-0001f6d0: 5b77 696e 6469 6e67 5f6e 756d 6265 725d  [winding_number]
-0001f6e0: 2e63 6f6e 6475 6374 6f72 5f74 7970 6520  .conductor_type 
-0001f6f0: 3d3d 2043 6f6e 6475 6374 6f72 5479 7065  == ConductorType
-0001f700: 2e52 6f75 6e64 4c69 747a 3a0a 2020 2020  .RoundLitz:.    
-0001f710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f720: 7769 6e64 696e 675f 6469 6374 5b22 7769  winding_dict["wi
-0001f730: 6e64 696e 675f 6c6f 7373 6573 225d 203d  nding_losses"] =
-0001f740: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
-0001f750: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001f760: 6c6f 6164 5f72 6573 756c 7428 7265 735f  load_result(res_
-0001f770: 6e61 6d65 3d66 226a 3248 5f7b 7769 6e64  name=f"j2H_{wind
-0001f780: 696e 675f 6e75 6d62 6572 202b 2031 7d22  ing_number + 1}"
-0001f790: 2c20 6c61 7374 5f6e 3d6e 756d 6265 725f  , last_n=number_
-0001f7a0: 6672 6571 7565 6e63 795f 7369 6d75 6c61  frequency_simula
-0001f7b0: 7469 6f6e 7329 5b0a 2020 2020 2020 2020  tions)[.        
-0001f7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f7d0: 2020 2020 7369 6e67 6c65 5f73 696d 756c      single_simul
-0001f7e0: 6174 696f 6e5d 0a20 2020 2020 2020 2020  ation].         
-0001f7f0: 2020 2020 2020 2020 2020 2066 6f72 2074             for t
-0001f800: 7572 6e20 696e 2072 616e 6765 2830 2c20  urn in range(0, 
-0001f810: 7769 6e64 696e 675f 6469 6374 5b22 6e75  winding_dict["nu
-0001f820: 6d62 6572 5f74 7572 6e73 225d 293a 0a20  mber_turns"]):. 
-0001f830: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f840: 2020 2020 2020 2077 696e 6469 6e67 5f64         winding_d
-0001f850: 6963 745b 2274 7572 6e5f 6c6f 7373 6573  ict["turn_losses
-0001f860: 225d 2e61 7070 656e 6428 0a20 2020 2020  "].append(.     
-0001f870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f880: 2020 2020 2020 2073 656c 662e 6c6f 6164         self.load
-0001f890: 5f72 6573 756c 7428 7265 735f 6e61 6d65  _result(res_name
-0001f8a0: 3d77 696e 6469 6e67 5f6e 616d 655b 7769  =winding_name[wi
-0001f8b0: 6e64 696e 675f 6e75 6d62 6572 5d20 2b20  nding_number] + 
-0001f8c0: 6622 2f4c 6f73 7365 735f 7475 726e 5f7b  f"/Losses_turn_{
-0001f8d0: 7475 726e 202b 2031 7d22 2c0a 2020 2020  turn + 1}",.    
-0001f8e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001f900: 2020 2020 2020 2020 206c 6173 745f 6e3d           last_n=
-0001f910: 6e75 6d62 6572 5f66 7265 7175 656e 6379  number_frequency
-0001f920: 5f73 696d 756c 6174 696f 6e73 295b 7369  _simulations)[si
-0001f930: 6e67 6c65 5f73 696d 756c 6174 696f 6e5d  ngle_simulation]
-0001f940: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-0001f950: 2020 2023 2043 6173 6520 536f 6c69 643a     # Case Solid:
-0001f960: 204c 6f61 6420 7265 7375 6c74 732c 2028   Load results, (
-0001f970: 7069 7466 616c 6c20 666f 7220 7061 7261  pitfall for para
-0001f980: 6c6c 656c 2077 696e 6469 6e67 7320 7265  llel windings re
-0001f990: 7375 6c74 7320 6172 6520 6f6e 6c79 2073  sults are only s
-0001f9a0: 746f 7265 6420 696e 206f 6e65 2074 7572  tored in one tur
-0001f9b0: 6e21 290a 2020 2020 2020 2020 2020 2020  n!).            
-0001f9c0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0001f9d0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-0001f9e0: 6e64 696e 675f 6469 6374 5b22 7769 6e64  nding_dict["wind
-0001f9f0: 696e 675f 6c6f 7373 6573 225d 203d 2073  ing_losses"] = s
-0001fa00: 656c 662e 6c6f 6164 5f72 6573 756c 7428  elf.load_result(
-0001fa10: 7265 735f 6e61 6d65 3d66 226a 3246 5f7b  res_name=f"j2F_{
-0001fa20: 7769 6e64 696e 675f 6e75 6d62 6572 202b  winding_number +
-0001fa30: 2031 7d22 2c0a 2020 2020 2020 2020 2020   1}",.          
-0001fa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fa50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fa70: 2020 2020 2020 2020 2020 2020 6c61 7374              last
-0001fa80: 5f6e 3d6e 756d 6265 725f 6672 6571 7565  _n=number_freque
-0001fa90: 6e63 795f 7369 6d75 6c61 7469 6f6e 7329  ncy_simulations)
-0001faa0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-0001fab0: 2020 2020 2020 2020 2020 7369 6e67 6c65            single
-0001fac0: 5f73 696d 756c 6174 696f 6e5d 0a20 2020  _simulation].   
-0001fad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fae0: 2069 6620 7365 6c66 2e77 696e 6469 6e67   if self.winding
-0001faf0: 735b 7769 6e64 696e 675f 6e75 6d62 6572  s[winding_number
-0001fb00: 5d2e 7061 7261 6c6c 656c 3a0a 2020 2020  ].parallel:.    
-0001fb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb20: 2020 2020 7769 6e64 696e 675f 6469 6374      winding_dict
-0001fb30: 5b22 7475 726e 5f6c 6f73 7365 7322 5d2e  ["turn_losses"].
-0001fb40: 6170 7065 6e64 280a 2020 2020 2020 2020  append(.        
-0001fb50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fb60: 2020 2020 7365 6c66 2e6c 6f61 645f 7265      self.load_re
-0001fb70: 7375 6c74 2872 6573 5f6e 616d 653d 7769  sult(res_name=wi
-0001fb80: 6e64 696e 675f 6e61 6d65 5b77 696e 6469  nding_name[windi
-0001fb90: 6e67 5f6e 756d 6265 725d 202b 2066 222f  ng_number] + f"/
-0001fba0: 4c6f 7373 6573 5f74 7572 6e5f 7b31 7d22  Losses_turn_{1}"
-0001fbb0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0001fbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fbd0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0001fbe0: 6173 745f 6e3d 6e75 6d62 6572 5f66 7265  ast_n=number_fre
-0001fbf0: 7175 656e 6379 5f73 696d 756c 6174 696f  quency_simulatio
-0001fc00: 6e73 295b 7369 6e67 6c65 5f73 696d 756c  ns)[single_simul
-0001fc10: 6174 696f 6e5d 290a 2020 2020 2020 2020  ation]).        
-0001fc20: 2020 2020 2020 2020 2020 2020 656c 7365              else
-0001fc30: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-0001fc40: 2020 2020 2020 2020 2020 666f 7220 7475            for tu
-0001fc50: 726e 2069 6e20 7261 6e67 6528 302c 2077  rn in range(0, w
-0001fc60: 696e 6469 6e67 5f64 6963 745b 226e 756d  inding_dict["num
-0001fc70: 6265 725f 7475 726e 7322 5d29 3a0a 2020  ber_turns"]):.  
-0001fc80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fc90: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-0001fca0: 675f 6469 6374 5b22 7475 726e 5f6c 6f73  g_dict["turn_los
-0001fcb0: 7365 7322 5d2e 6170 7065 6e64 280a 2020  ses"].append(.  
-0001fcc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fcd0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-0001fce0: 6c66 2e6c 6f61 645f 7265 7375 6c74 2872  lf.load_result(r
-0001fcf0: 6573 5f6e 616d 653d 7769 6e64 696e 675f  es_name=winding_
-0001fd00: 6e61 6d65 5b77 696e 6469 6e67 5f6e 756d  name[winding_num
-0001fd10: 6265 725d 202b 2066 222f 4c6f 7373 6573  ber] + f"/Losses
-0001fd20: 5f74 7572 6e5f 7b74 7572 6e20 2b20 317d  _turn_{turn + 1}
-0001fd30: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-0001fd40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fd60: 2020 2020 6c61 7374 5f6e 3d6e 756d 6265      last_n=numbe
-0001fd70: 725f 6672 6571 7565 6e63 795f 7369 6d75  r_frequency_simu
-0001fd80: 6c61 7469 6f6e 7329 5b73 696e 676c 655f  lations)[single_
-0001fd90: 7369 6d75 6c61 7469 6f6e 5d29 0a0a 2020  simulation])..  
-0001fda0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0001fdb0: 566f 6c74 6167 650a 2020 2020 2020 2020  Voltage.        
-0001fdc0: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
-0001fdd0: 6469 6374 5b22 5622 5d2e 6170 7065 6e64  dict["V"].append
-0001fde0: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
-0001fdf0: 2020 2020 2020 7365 6c66 2e6c 6f61 645f        self.load_
-0001fe00: 7265 7375 6c74 2872 6573 5f6e 616d 653d  result(res_name=
-0001fe10: 6622 566f 6c74 6167 655f 7b77 696e 6469  f"Voltage_{windi
-0001fe20: 6e67 5f6e 756d 6265 7220 2b20 317d 222c  ng_number + 1}",
-0001fe30: 2070 6172 743d 2272 6561 6c22 2c0a 2020   part="real",.  
-0001fe40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fe50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001fe60: 2020 206c 6173 745f 6e3d 6e75 6d62 6572     last_n=number
-0001fe70: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
-0001fe80: 6174 696f 6e73 295b 7369 6e67 6c65 5f73  ations)[single_s
-0001fe90: 696d 756c 6174 696f 6e5d 290a 2020 2020  imulation]).    
-0001fea0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-0001feb0: 696e 675f 6469 6374 5b22 5622 5d2e 6170  ing_dict["V"].ap
-0001fec0: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
-0001fed0: 2020 2020 2020 2020 2020 7365 6c66 2e6c            self.l
-0001fee0: 6f61 645f 7265 7375 6c74 2872 6573 5f6e  oad_result(res_n
-0001fef0: 616d 653d 6622 566f 6c74 6167 655f 7b77  ame=f"Voltage_{w
-0001ff00: 696e 6469 6e67 5f6e 756d 6265 7220 2b20  inding_number + 
-0001ff10: 317d 222c 2070 6172 743d 2269 6d61 6769  1}", part="imagi
-0001ff20: 6e61 7279 222c 0a20 2020 2020 2020 2020  nary",.         
-0001ff30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0001ff40: 2020 2020 2020 2020 2020 2020 6c61 7374              last
-0001ff50: 5f6e 3d6e 756d 6265 725f 6672 6571 7565  _n=number_freque
-0001ff60: 6e63 795f 7369 6d75 6c61 7469 6f6e 7329  ncy_simulations)
-0001ff70: 5b73 696e 676c 655f 7369 6d75 6c61 7469  [single_simulati
-0001ff80: 6f6e 5d29 0a20 2020 2020 2020 2020 2020  on]).           
-0001ff90: 2020 2020 2063 6f6d 706c 6578 5f76 6f6c       complex_vol
-0001ffa0: 7461 6765 5f70 6861 736f 7220 3d20 636f  tage_phasor = co
-0001ffb0: 6d70 6c65 7828 7769 6e64 696e 675f 6469  mplex(winding_di
-0001ffc0: 6374 5b22 5622 5d5b 305d 2c20 7769 6e64  ct["V"][0], wind
-0001ffd0: 696e 675f 6469 6374 5b22 5622 5d5b 315d  ing_dict["V"][1]
-0001ffe0: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
-0001fff0: 2020 2069 6620 636f 6d70 6c65 785f 6375     if complex_cu
-00020000: 7272 656e 745f 7068 6173 6f72 203d 3d20  rrent_phasor == 
-00020010: 3020 6f72 2073 7765 6570 5f64 6963 745b  0 or sweep_dict[
-00020020: 2266 225d 203d 3d20 303a 2020 2320 6966  "f"] == 0:  # if
-00020030: 2d73 7461 7465 6d65 6e74 2074 6f20 6176  -statement to av
-00020040: 6f69 6420 6469 7620 6279 207a 6572 6f20  oid div by zero 
-00020050: 6572 726f 720a 2020 2020 2020 2020 2020  error.          
-00020060: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-00020070: 675f 6469 6374 5b22 666c 7578 5f6f 7665  g_dict["flux_ove
-00020080: 725f 6375 7272 656e 7422 5d20 3d20 5b30  r_current"] = [0
-00020090: 2e30 2c20 302e 305d 0a20 2020 2020 2020  .0, 0.0].       
-000200a0: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-000200b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000200c0: 2020 2077 696e 6469 6e67 5f64 6963 745b     winding_dict[
-000200d0: 2266 6c75 785f 6f76 6572 5f63 7572 7265  "flux_over_curre
-000200e0: 6e74 225d 2e61 7070 656e 6428 0a20 2020  nt"].append(.   
-000200f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020100: 2020 2020 2028 636f 6d70 6c65 785f 766f       (complex_vo
-00020110: 6c74 6167 655f 7068 6173 6f72 202f 2028  ltage_phasor / (
-00020120: 636f 6d70 6c65 7828 302c 2031 2920 2a20  complex(0, 1) * 
-00020130: 3220 2a20 6e70 2e70 6920 2a20 636f 6d70  2 * np.pi * comp
-00020140: 6c65 785f 6375 7272 656e 745f 7068 6173  lex_current_phas
-00020150: 6f72 202a 2073 7765 6570 5f64 6963 745b  or * sweep_dict[
-00020160: 2266 225d 2929 2e72 6561 6c0a 2020 2020  "f"])).real.    
-00020170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020180: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00020190: 2020 2020 2020 7769 6e64 696e 675f 6469        winding_di
-000201a0: 6374 5b22 666c 7578 5f6f 7665 725f 6375  ct["flux_over_cu
-000201b0: 7272 656e 7422 5d2e 6170 7065 6e64 280a  rrent"].append(.
-000201c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000201d0: 2020 2020 2020 2020 2863 6f6d 706c 6578          (complex
-000201e0: 5f76 6f6c 7461 6765 5f70 6861 736f 7220  _voltage_phasor 
-000201f0: 2f20 2863 6f6d 706c 6578 2830 2c20 3129  / (complex(0, 1)
-00020200: 202a 2032 202a 206e 702e 7069 202a 2063   * 2 * np.pi * c
-00020210: 6f6d 706c 6578 5f63 7572 7265 6e74 5f70  omplex_current_p
-00020220: 6861 736f 7220 2a20 7377 6565 705f 6469  hasor * sweep_di
-00020230: 6374 5b22 6622 5d29 292e 696d 6167 0a20  ct["f"])).imag. 
-00020240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020250: 2020 2029 0a0a 2020 2020 2020 2020 2020     )..          
-00020260: 2020 2020 2020 2320 466c 7578 0a20 2020        # Flux.   
-00020270: 2020 2020 2020 2020 2020 2020 2077 696e               win
-00020280: 6469 6e67 5f64 6963 745b 2266 6c75 7822  ding_dict["flux"
-00020290: 5d2e 6170 7065 6e64 280a 2020 2020 2020  ].append(.      
-000202a0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000202b0: 6c66 2e6c 6f61 645f 7265 7375 6c74 2872  lf.load_result(r
-000202c0: 6573 5f6e 616d 653d 6622 466c 7578 5f4c  es_name=f"Flux_L
-000202d0: 696e 6b61 6765 5f7b 7769 6e64 696e 675f  inkage_{winding_
-000202e0: 6e75 6d62 6572 202b 2031 7d22 2c0a 2020  number + 1}",.  
-000202f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020310: 2020 206c 6173 745f 6e3d 6e75 6d62 6572     last_n=number
-00020320: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
-00020330: 6174 696f 6e73 295b 7369 6e67 6c65 5f73  ations)[single_s
-00020340: 696d 756c 6174 696f 6e5d 290a 2020 2020  imulation]).    
-00020350: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-00020360: 696e 675f 6469 6374 5b22 666c 7578 225d  ing_dict["flux"]
-00020370: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
-00020380: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00020390: 662e 6c6f 6164 5f72 6573 756c 7428 7265  f.load_result(re
-000203a0: 735f 6e61 6d65 3d66 2246 6c75 785f 4c69  s_name=f"Flux_Li
-000203b0: 6e6b 6167 655f 7b77 696e 6469 6e67 5f6e  nkage_{winding_n
-000203c0: 756d 6265 7220 2b20 317d 222c 2070 6172  umber + 1}", par
-000203d0: 743d 2269 6d61 6769 6e61 7279 222c 0a20  t="imaginary",. 
-000203e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000203f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020400: 2020 2020 6c61 7374 5f6e 3d6e 756d 6265      last_n=numbe
-00020410: 725f 6672 6571 7565 6e63 795f 7369 6d75  r_frequency_simu
-00020420: 6c61 7469 6f6e 7329 5b73 696e 676c 655f  lations)[single_
-00020430: 7369 6d75 6c61 7469 6f6e 5d29 0a0a 2020  simulation])..  
-00020440: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00020450: 506f 7765 720a 2020 2020 2020 2020 2020  Power.          
-00020460: 2020 2020 2020 2320 7573 696e 6720 2777        # using 'w
-00020470: 696e 6469 6e67 5f64 6963 745b 2256 225d  inding_dict["V"]
-00020480: 5b30 5d27 2074 6f20 6765 7420 6669 7273  [0]' to get firs
-00020490: 7420 656c 656d 656e 7420 2872 6561 6c20  t element (real 
-000204a0: 7061 7274 2920 6f66 2056 2e0a 2020 2020  part) of V..    
-000204b0: 2020 2020 2020 2020 2020 2020 2320 5573              # Us
-000204c0: 6520 7769 6e64 696e 675f 6469 6374 5b22  e winding_dict["
-000204d0: 4922 5d5b 305d 2074 6f20 6176 6f69 6420  I"][0] to avoid 
-000204e0: 7479 7065 6572 726f 720a 2020 2020 2020  typeerror.      
-000204f0: 2020 2020 2020 2020 2020 2320 4173 2046            # As F
-00020500: 454d 4d54 2075 7365 7320 7065 616b 2070  EMMT uses peak p
-00020510: 6f69 6e74 6572 732c 2061 6e64 2074 6865  ointers, and the
-00020520: 2070 6f77 6572 206e 6565 6473 2074 6f20   power needs to 
-00020530: 6265 2068 616c 6665 642e 0a20 2020 2020  be halfed..     
-00020540: 2020 2020 2020 2020 2020 2023 2069 5f72             # i_r
-00020550: 6d73 202a 2075 5f72 6d73 203d 2069 5f70  ms * u_rms = i_p
-00020560: 6561 6b20 2f20 7371 7274 2832 2920 2a20  eak / sqrt(2) * 
-00020570: 755f 7065 616b 202f 2073 7172 7428 3229  u_peak / sqrt(2)
-00020580: 203d 2069 5f70 6561 6b20 2a20 755f 7065   = i_peak * u_pe
-00020590: 616b 202f 2032 0a20 2020 2020 2020 2020  ak / 2.         
-000205a0: 2020 2020 2020 2023 204e 6f74 653a 2046         # Note: F
-000205b0: 6f72 2044 432d 7661 6c75 6573 2028 6672  or DC-values (fr
-000205c0: 6571 7565 6e63 7920 3d20 3029 2c20 524d  equency = 0), RM
-000205d0: 5320 7661 6c75 6520 6973 2073 616d 6520  S value is same 
-000205e0: 6173 2070 6561 6b20 7661 6c75 6520 616e  as peak value an
-000205f0: 6420 736f 2c20 6861 6c76 6520 6973 206e  d so, halve is n
-00020600: 6f74 2061 6c6c 6f77 6564 2e0a 2020 2020  ot allowed..    
-00020610: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00020620: 7765 6570 5f64 6963 745b 2266 225d 203d  weep_dict["f"] =
-00020630: 3d20 302e 303a 0a20 2020 2020 2020 2020  = 0.0:.         
-00020640: 2020 2020 2020 2020 2020 2023 2050 6f77             # Pow
-00020650: 6572 2063 616c 6375 6c61 7469 6f6e 2066  er calculation f
-00020660: 6f72 2044 4320 7661 6c75 6573 2e0a 2020  or DC values..  
-00020670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020680: 2020 7769 6e64 696e 675f 6469 6374 5b22    winding_dict["
-00020690: 5022 5d20 3d20 2863 6f6d 706c 6578 5f76  P"] = (complex_v
-000206a0: 6f6c 7461 6765 5f70 6861 736f 7220 2a20  oltage_phasor * 
-000206b0: 636f 6d70 6c65 785f 6375 7272 656e 745f  complex_current_
-000206c0: 7068 6173 6f72 2e63 6f6e 6a75 6761 7465  phasor.conjugate
-000206d0: 2829 292e 7265 616c 0a20 2020 2020 2020  ()).real.       
-000206e0: 2020 2020 2020 2020 2020 2020 2077 696e               win
-000206f0: 6469 6e67 5f64 6963 745b 2251 225d 203d  ding_dict["Q"] =
-00020700: 2028 636f 6d70 6c65 785f 766f 6c74 6167   (complex_voltag
-00020710: 655f 7068 6173 6f72 202a 2063 6f6d 706c  e_phasor * compl
-00020720: 6578 5f63 7572 7265 6e74 5f70 6861 736f  ex_current_phaso
-00020730: 722e 636f 6e6a 7567 6174 6528 2929 2e69  r.conjugate()).i
-00020740: 6d61 670a 2020 2020 2020 2020 2020 2020  mag.            
-00020750: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00020760: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00020770: 506f 7765 7220 6361 6c63 756c 6174 696f  Power calculatio
-00020780: 6e20 666f 7220 616c 6c20 6f74 6865 7220  n for all other 
-00020790: 4143 2076 616c 7565 730a 2020 2020 2020  AC values.      
-000207a0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-000207b0: 6e64 696e 675f 6469 6374 5b22 5022 5d20  nding_dict["P"] 
-000207c0: 3d20 2863 6f6d 706c 6578 5f76 6f6c 7461  = (complex_volta
-000207d0: 6765 5f70 6861 736f 7220 2a20 636f 6d70  ge_phasor * comp
-000207e0: 6c65 785f 6375 7272 656e 745f 7068 6173  lex_current_phas
-000207f0: 6f72 2e63 6f6e 6a75 6761 7465 2829 202f  or.conjugate() /
-00020800: 2032 292e 7265 616c 0a20 2020 2020 2020   2).real.       
-00020810: 2020 2020 2020 2020 2020 2020 2077 696e               win
-00020820: 6469 6e67 5f64 6963 745b 2251 225d 203d  ding_dict["Q"] =
-00020830: 2028 636f 6d70 6c65 785f 766f 6c74 6167   (complex_voltag
-00020840: 655f 7068 6173 6f72 202a 2063 6f6d 706c  e_phasor * compl
-00020850: 6578 5f63 7572 7265 6e74 5f70 6861 736f  ex_current_phaso
-00020860: 722e 636f 6e6a 7567 6174 6528 2920 2f20  r.conjugate() / 
-00020870: 3229 2e69 6d61 670a 2020 2020 2020 2020  2).imag.        
-00020880: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
-00020890: 6469 6374 5b22 5322 5d20 3d20 6e70 2e73  dict["S"] = np.s
-000208a0: 7172 7428 7769 6e64 696e 675f 6469 6374  qrt(winding_dict
-000208b0: 5b22 5022 5d20 2a2a 2032 202b 2077 696e  ["P"] ** 2 + win
-000208c0: 6469 6e67 5f64 6963 745b 2251 225d 202a  ding_dict["Q"] *
-000208d0: 2a20 3229 0a0a 2020 2020 2020 2020 2020  * 2)..          
-000208e0: 2020 2020 2020 7377 6565 705f 6469 6374        sweep_dict
-000208f0: 5b66 2277 696e 6469 6e67 7b77 696e 6469  [f"winding{windi
-00020900: 6e67 5f6e 756d 6265 7220 2b20 317d 225d  ng_number + 1}"]
-00020910: 203d 2077 696e 6469 6e67 5f64 6963 740a   = winding_dict.
-00020920: 0a20 2020 2020 2020 2020 2020 2023 2043  .            # C
-00020930: 6f72 6520 6c6f 7373 6573 2054 4f44 4f3a  ore losses TODO:
-00020940: 2043 686f 6f73 6520 6265 7477 6565 6e20   Choose between 
-00020950: 5374 6569 6e6d 6574 7a20 6f72 2063 6f6d  Steinmetz or com
-00020960: 706c 6578 2063 6f72 6520 6c6f 7373 6573  plex core losses
-00020970: 0a20 2020 2020 2020 2020 2020 2073 7765  .            swe
-00020980: 6570 5f64 6963 745b 2263 6f72 655f 6564  ep_dict["core_ed
-00020990: 6479 5f6c 6f73 7365 7322 5d20 3d20 5c0a  dy_losses"] = \.
-000209a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000209b0: 7365 6c66 2e6c 6f61 645f 7265 7375 6c74  self.load_result
-000209c0: 2872 6573 5f6e 616d 653d 2243 6f72 6545  (res_name="CoreE
-000209d0: 6464 7943 7572 7265 6e74 4c6f 7373 6573  ddyCurrentLosses
-000209e0: 222c 206c 6173 745f 6e3d 6e75 6d62 6572  ", last_n=number
-000209f0: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
-00020a00: 6174 696f 6e73 295b 7369 6e67 6c65 5f73  ations)[single_s
-00020a10: 696d 756c 6174 696f 6e5d 0a20 2020 2020  imulation].     
-00020a20: 2020 2020 2020 2073 7765 6570 5f64 6963         sweep_dic
-00020a30: 745b 2263 6f72 655f 6879 7374 5f6c 6f73  t["core_hyst_los
-00020a40: 7365 7322 5d20 3d20 7365 6c66 2e6c 6f61  ses"] = self.loa
-00020a50: 645f 7265 7375 6c74 2872 6573 5f6e 616d  d_result(res_nam
-00020a60: 653d 2270 5f68 7973 7422 2c20 6c61 7374  e="p_hyst", last
-00020a70: 5f6e 3d6e 756d 6265 725f 6672 6571 7565  _n=number_freque
-00020a80: 6e63 795f 7369 6d75 6c61 7469 6f6e 7329  ncy_simulations)
-00020a90: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00020aa0: 2020 7369 6e67 6c65 5f73 696d 756c 6174    single_simulat
-00020ab0: 696f 6e5d 0a0a 2020 2020 2020 2020 2020  ion]..          
-00020ac0: 2020 2320 436f 7265 2050 6172 7420 6c6f    # Core Part lo
-00020ad0: 7373 6573 0a20 2020 2020 2020 2020 2020  sses.           
-00020ae0: 2023 2049 6620 7468 6572 6520 6172 6520   # If there are 
-00020af0: 6d75 6c74 6970 6c65 2063 6f72 6520 7061  multiple core pa
-00020b00: 7274 732c 2063 616c 6375 6c61 7465 206c  rts, calculate l
-00020b10: 6f73 7365 7320 666f 7220 6561 6368 2070  osses for each p
-00020b20: 6172 7420 696e 6469 7669 6475 616c 6c79  art individually
-00020b30: 0a20 2020 2020 2020 2020 2020 2023 2074  .            # t
-00020b40: 6865 2063 6f72 6520 6c6f 7373 6573 2061  he core losses a
-00020b50: 7265 2063 616c 6375 6c61 7465 6420 6279  re calculated by
-00020b60: 2073 756d 6d69 6e67 2074 6865 2065 6464   summing the edd
-00020b70: 7920 616e 6420 6879 7374 206c 6f73 7365  y and hyst losse
-00020b80: 730a 0a20 2020 2020 2020 2020 2020 2073  s..            s
-00020b90: 7765 6570 5f64 6963 745b 2263 6f72 655f  weep_dict["core_
-00020ba0: 7061 7274 7322 5d20 3d20 7b7d 0a20 2020  parts"] = {}.   
-00020bb0: 2020 2020 2020 2020 2066 6f72 2063 6f72           for cor
-00020bc0: 655f 7061 7274 2069 6e20 7261 6e67 6528  e_part in range(
-00020bd0: 302c 206c 656e 2873 656c 662e 6d65 7368  0, len(self.mesh
-00020be0: 2e70 6c61 6e65 5f73 7572 6661 6365 5f63  .plane_surface_c
-00020bf0: 6f72 6529 293a 0a20 2020 2020 2020 2020  ore)):.         
-00020c00: 2020 2020 2020 2073 7765 6570 5f64 6963         sweep_dic
-00020c10: 745b 2263 6f72 655f 7061 7274 7322 5d5b  t["core_parts"][
-00020c20: 6622 636f 7265 5f70 6172 745f 7b63 6f72  f"core_part_{cor
-00020c30: 655f 7061 7274 202b 2031 7d22 5d20 3d20  e_part + 1}"] = 
-00020c40: 7b7d 0a20 2020 2020 2020 2020 2020 2020  {}.             
-00020c50: 2020 2073 7765 6570 5f64 6963 745b 2263     sweep_dict["c
-00020c60: 6f72 655f 7061 7274 7322 5d5b 6622 636f  ore_parts"][f"co
-00020c70: 7265 5f70 6172 745f 7b63 6f72 655f 7061  re_part_{core_pa
-00020c80: 7274 202b 2031 7d22 5d5b 2265 6464 795f  rt + 1}"]["eddy_
-00020c90: 6c6f 7373 6573 225d 203d 205c 0a20 2020  losses"] = \.   
-00020ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020cb0: 2073 656c 662e 6c6f 6164 5f72 6573 756c   self.load_resul
-00020cc0: 7428 7265 735f 6e61 6d65 3d66 2263 6f72  t(res_name=f"cor
-00020cd0: 655f 7061 7274 732f 436f 7265 4564 6479  e_parts/CoreEddy
-00020ce0: 4375 7272 656e 744c 6f73 7365 735f 7b63  CurrentLosses_{c
-00020cf0: 6f72 655f 7061 7274 202b 2031 7d22 2c0a  ore_part + 1}",.
-00020d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020d20: 2020 2020 206c 6173 745f 6e3d 6e75 6d62       last_n=numb
-00020d30: 6572 5f66 7265 7175 656e 6379 5f73 696d  er_frequency_sim
-00020d40: 756c 6174 696f 6e73 295b 7369 6e67 6c65  ulations)[single
-00020d50: 5f73 696d 756c 6174 696f 6e5d 0a20 2020  _simulation].   
-00020d60: 2020 2020 2020 2020 2020 2020 2073 7765               swe
-00020d70: 6570 5f64 6963 745b 2263 6f72 655f 7061  ep_dict["core_pa
-00020d80: 7274 7322 5d5b 6622 636f 7265 5f70 6172  rts"][f"core_par
-00020d90: 745f 7b63 6f72 655f 7061 7274 202b 2031  t_{core_part + 1
-00020da0: 7d22 5d5b 2268 7973 745f 6c6f 7373 6573  }"]["hyst_losses
-00020db0: 225d 203d 2073 656c 662e 6c6f 6164 5f72  "] = self.load_r
-00020dc0: 6573 756c 7428 0a20 2020 2020 2020 2020  esult(.         
-00020dd0: 2020 2020 2020 2020 2020 2072 6573 5f6e             res_n
-00020de0: 616d 653d 6622 636f 7265 5f70 6172 7473  ame=f"core_parts
-00020df0: 2f70 5f68 7973 745f 7b63 6f72 655f 7061  /p_hyst_{core_pa
-00020e00: 7274 202b 2031 7d22 2c20 6c61 7374 5f6e  rt + 1}", last_n
-00020e10: 3d6e 756d 6265 725f 6672 6571 7565 6e63  =number_frequenc
-00020e20: 795f 7369 6d75 6c61 7469 6f6e 7329 5b0a  y_simulations)[.
-00020e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020e40: 2020 2020 7369 6e67 6c65 5f73 696d 756c      single_simul
-00020e50: 6174 696f 6e5d 0a20 2020 2020 2020 2020  ation].         
-00020e60: 2020 2020 2020 2023 2066 696e 6469 6e67         # finding
-00020e70: 2074 6865 2074 6f74 616c 206c 6f73 7365   the total losse
-00020e80: 7320 666f 7220 6576 6572 7920 636f 7265  s for every core
-00020e90: 5f70 6172 740a 2020 2020 2020 2020 2020  _part.          
-00020ea0: 2020 2020 2020 6564 6479 203d 2073 7765        eddy = swe
-00020eb0: 6570 5f64 6963 745b 2263 6f72 655f 7061  ep_dict["core_pa
-00020ec0: 7274 7322 5d5b 6622 636f 7265 5f70 6172  rts"][f"core_par
-00020ed0: 745f 7b63 6f72 655f 7061 7274 202b 2031  t_{core_part + 1
-00020ee0: 7d22 5d5b 2265 6464 795f 6c6f 7373 6573  }"]["eddy_losses
-00020ef0: 225d 0a20 2020 2020 2020 2020 2020 2020  "].             
-00020f00: 2020 2068 7973 7420 3d20 7377 6565 705f     hyst = sweep_
-00020f10: 6469 6374 5b22 636f 7265 5f70 6172 7473  dict["core_parts
-00020f20: 225d 5b66 2263 6f72 655f 7061 7274 5f7b  "][f"core_part_{
-00020f30: 636f 7265 5f70 6172 7420 2b20 317d 225d  core_part + 1}"]
-00020f40: 5b22 6879 7374 5f6c 6f73 7365 7322 5d0a  ["hyst_losses"].
-00020f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020f60: 7377 6565 705f 6469 6374 5b22 636f 7265  sweep_dict["core
-00020f70: 5f70 6172 7473 225d 5b66 2263 6f72 655f  _parts"][f"core_
-00020f80: 7061 7274 5f7b 636f 7265 5f70 6172 7420  part_{core_part 
-00020f90: 2b20 317d 225d 5b66 2274 6f74 616c 5f63  + 1}"][f"total_c
-00020fa0: 6f72 655f 7061 7274 5f7b 636f 7265 5f70  ore_part_{core_p
-00020fb0: 6172 7420 2b20 317d 225d 203d 2065 6464  art + 1}"] = edd
-00020fc0: 7920 2b20 6879 7374 0a0a 2020 2020 2020  y + hyst..      
-00020fd0: 2020 2020 2020 2320 5375 6d20 6c6f 7373        # Sum loss
-00020fe0: 6573 206f 6620 616c 6c20 7769 6e64 696e  es of all windin
-00020ff0: 6773 206f 6620 6f6e 6520 7369 6e67 6c65  gs of one single
-00021000: 2072 756e 0a20 2020 2020 2020 2020 2020   run.           
-00021010: 2073 7765 6570 5f64 6963 745b 2261 6c6c   sweep_dict["all
-00021020: 5f77 696e 6469 6e67 5f6c 6f73 7365 7322  _winding_losses"
-00021030: 5d20 3d20 7375 6d28 0a20 2020 2020 2020  ] = sum(.       
-00021040: 2020 2020 2020 2020 2073 7765 6570 5f64           sweep_d
-00021050: 6963 745b 6622 7769 6e64 696e 677b 6420  ict[f"winding{d 
-00021060: 2b20 317d 225d 5b22 7769 6e64 696e 675f  + 1}"]["winding_
-00021070: 6c6f 7373 6573 225d 2066 6f72 2064 2069  losses"] for d i
-00021080: 6e20 7261 6e67 6528 6c65 6e28 7365 6c66  n range(len(self
-00021090: 2e77 696e 6469 6e67 7329 2929 0a0a 2020  .windings)))..  
-000210a0: 2020 2020 2020 2020 2020 6c6f 675f 6469            log_di
-000210b0: 6374 5b22 7369 6e67 6c65 5f73 7765 6570  ct["single_sweep
-000210c0: 7322 5d2e 6170 7065 6e64 2873 7765 6570  s"].append(sweep
-000210d0: 5f64 6963 7429 0a0a 2020 2020 2020 2020  _dict)..        
-000210e0: 2320 546f 7461 6c20 6c6f 7373 6573 206f  # Total losses o
-000210f0: 6620 6578 6369 7461 7469 6f6e 2073 7765  f excitation swe
-00021100: 6570 0a20 2020 2020 2020 2023 2053 756d  ep.        # Sum
-00021110: 206c 6f73 7365 7320 6f66 2061 6c6c 2073   losses of all s
-00021120: 7765 6570 2072 756e 732e 2046 6f72 2063  weep runs. For c
-00021130: 6f72 6520 6c6f 7373 6573 206a 7573 7420  ore losses just 
-00021140: 7573 6520 6879 7374 5f6c 6f73 7365 7320  use hyst_losses 
-00021150: 6f66 2074 6865 2066 756e 6461 6d65 6e74  of the fundament
-00021160: 616c 2066 7265 7175 656e 6379 2e0a 2020  al frequency..  
-00021170: 2020 2020 2020 2320 416c 736f 206e 6565        # Also nee
-00021180: 6465 6420 6173 2065 7863 6974 6174 696f  ded as excitatio
-00021190: 6e20 666f 7220 7374 6561 6479 2073 7461  n for steady sta
-000211a0: 7465 2074 6865 726d 616c 2073 696d 756c  te thermal simul
-000211b0: 6174 696f 6e73 0a0a 2020 2020 2020 2020  ations..        
-000211c0: 2320 5369 6e67 6c65 2057 696e 6469 6e67  # Single Winding
-000211d0: 730a 2020 2020 2020 2020 666f 7220 7769  s.        for wi
-000211e0: 6e64 696e 675f 6e75 6d62 6572 2069 6e20  nding_number in 
-000211f0: 7261 6e67 6528 6c65 6e28 7365 6c66 2e77  range(len(self.w
-00021200: 696e 6469 6e67 7329 293a 0a20 2020 2020  indings)):.     
-00021210: 2020 2020 2020 2023 204e 756d 6265 7220         # Number 
-00021220: 6f66 2074 7572 6e73 2070 6572 2063 6f6e  of turns per con
-00021230: 6475 6374 6f72 0a20 2020 2020 2020 2020  ductor.         
-00021240: 2020 2074 7572 6e73 203d 2030 0a20 2020     turns = 0.   
-00021250: 2020 2020 2020 2020 2066 6f72 2077 7720           for ww 
-00021260: 696e 2073 656c 662e 7769 6e64 696e 675f  in self.winding_
-00021270: 7769 6e64 6f77 733a 0a20 2020 2020 2020  windows:.       
-00021280: 2020 2020 2020 2020 2066 6f72 2076 7777           for vww
-00021290: 2069 6e20 7777 2e76 6972 7475 616c 5f77   in ww.virtual_w
-000212a0: 696e 6469 6e67 5f77 696e 646f 7773 3a0a  inding_windows:.
-000212b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000212c0: 2020 2020 666f 7220 636f 6e64 7563 746f      for conducto
-000212d0: 7220 696e 2076 7777 2e77 696e 6469 6e67  r in vww.winding
-000212e0: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-000212f0: 2020 2020 2020 2020 2020 2069 6620 636f             if co
-00021300: 6e64 7563 746f 722e 7769 6e64 696e 675f  nductor.winding_
-00021310: 6e75 6d62 6572 203d 3d20 7769 6e64 696e  number == windin
-00021320: 675f 6e75 6d62 6572 3a0a 2020 2020 2020  g_number:.      
-00021330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021340: 2020 2020 2020 7475 726e 7320 2b3d 2076        turns += v
-00021350: 7777 2e74 7572 6e73 5b63 6f6e 6475 6374  ww.turns[conduct
-00021360: 6f72 2e77 696e 6469 6e67 5f6e 756d 6265  or.winding_numbe
-00021370: 725d 0a0a 2020 2020 2020 2020 2020 2020  r]..            
-00021380: 6c6f 675f 6469 6374 5b22 746f 7461 6c5f  log_dict["total_
-00021390: 6c6f 7373 6573 225d 5b66 2277 696e 6469  losses"][f"windi
-000213a0: 6e67 7b77 696e 6469 6e67 5f6e 756d 6265  ng{winding_numbe
-000213b0: 7220 2b20 317d 225d 203d 207b 0a20 2020  r + 1}"] = {.   
-000213c0: 2020 2020 2020 2020 2020 2020 2022 746f               "to
-000213d0: 7461 6c22 3a20 7375 6d28 7375 6d28 6c6f  tal": sum(sum(lo
-000213e0: 675f 6469 6374 5b22 7369 6e67 6c65 5f73  g_dict["single_s
-000213f0: 7765 6570 7322 5d5b 645d 5b66 2277 696e  weeps"][d][f"win
-00021400: 6469 6e67 7b77 696e 6469 6e67 5f6e 756d  ding{winding_num
-00021410: 6265 7220 2b20 317d 225d 5b22 7475 726e  ber + 1}"]["turn
-00021420: 5f6c 6f73 7365 7322 5d29 2066 6f72 2064  _losses"]) for d
-00021430: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-00021440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021450: 2072 616e 6765 286c 656e 286c 6f67 5f64   range(len(log_d
-00021460: 6963 745b 2273 696e 676c 655f 7377 6565  ict["single_swee
-00021470: 7073 225d 2929 292c 0a20 2020 2020 2020  ps"]))),.       
-00021480: 2020 2020 2020 2020 2022 7475 726e 7322           "turns"
-00021490: 3a20 5b5d 0a20 2020 2020 2020 2020 2020  : [].           
-000214a0: 207d 0a20 2020 2020 2020 2020 2020 2069   }.            i
-000214b0: 6620 7365 6c66 2e77 696e 6469 6e67 735b  f self.windings[
-000214c0: 7769 6e64 696e 675f 6e75 6d62 6572 5d2e  winding_number].
-000214d0: 7061 7261 6c6c 656c 3a0a 2020 2020 2020  parallel:.      
-000214e0: 2020 2020 2020 2020 2020 6c6f 675f 6469            log_di
-000214f0: 6374 5b22 746f 7461 6c5f 6c6f 7373 6573  ct["total_losses
-00021500: 225d 5b66 2277 696e 6469 6e67 7b77 696e  "][f"winding{win
-00021510: 6469 6e67 5f6e 756d 6265 7220 2b20 317d  ding_number + 1}
-00021520: 225d 5b22 7475 726e 7322 5d2e 6170 7065  "]["turns"].appe
-00021530: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
-00021540: 2020 2020 2020 2020 7375 6d28 6c6f 675f          sum(log_
-00021550: 6469 6374 5b22 7369 6e67 6c65 5f73 7765  dict["single_swe
-00021560: 6570 7322 5d5b 645d 5b66 2277 696e 6469  eps"][d][f"windi
-00021570: 6e67 7b77 696e 6469 6e67 5f6e 756d 6265  ng{winding_numbe
-00021580: 7220 2b20 317d 225d 5b22 7475 726e 5f6c  r + 1}"]["turn_l
-00021590: 6f73 7365 7322 5d5b 305d 2066 6f72 2064  osses"][0] for d
-000215a0: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-000215b0: 2020 2020 2020 2020 2020 2020 7261 6e67              rang
-000215c0: 6528 6c65 6e28 6c6f 675f 6469 6374 5b22  e(len(log_dict["
-000215d0: 7369 6e67 6c65 5f73 7765 6570 7322 5d29  single_sweeps"])
-000215e0: 2929 290a 2020 2020 2020 2020 2020 2020  ))).            
-000215f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00021600: 2020 2020 2020 666f 7220 7475 726e 2069        for turn i
-00021610: 6e20 7261 6e67 6528 302c 2074 7572 6e73  n range(0, turns
-00021620: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00021630: 2020 2020 2020 206c 6f67 5f64 6963 745b         log_dict[
-00021640: 2274 6f74 616c 5f6c 6f73 7365 7322 5d5b  "total_losses"][
-00021650: 6622 7769 6e64 696e 677b 7769 6e64 696e  f"winding{windin
-00021660: 675f 6e75 6d62 6572 202b 2031 7d22 5d5b  g_number + 1}"][
-00021670: 2274 7572 6e73 225d 2e61 7070 656e 6428  "turns"].append(
-00021680: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00021690: 2020 2020 2020 2020 2073 756d 286c 6f67           sum(log
-000216a0: 5f64 6963 745b 2273 696e 676c 655f 7377  _dict["single_sw
-000216b0: 6565 7073 225d 5b64 5d5b 6622 7769 6e64  eeps"][d][f"wind
-000216c0: 696e 677b 7769 6e64 696e 675f 6e75 6d62  ing{winding_numb
-000216d0: 6572 202b 2031 7d22 5d5b 2274 7572 6e5f  er + 1}"]["turn_
-000216e0: 6c6f 7373 6573 225d 5b74 7572 6e5d 2066  losses"][turn] f
-000216f0: 6f72 2064 2069 6e0a 2020 2020 2020 2020  or d in.        
-00021700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021710: 2020 2020 7261 6e67 6528 6c65 6e28 6c6f      range(len(lo
-00021720: 675f 6469 6374 5b22 7369 6e67 6c65 5f73  g_dict["single_s
-00021730: 7765 6570 7322 5d29 2929 290a 0a20 2020  weeps"]))))..   
-00021740: 2020 2020 2023 2057 696e 6469 6e67 2028       # Winding (
-00021750: 616c 6c20 7769 6e64 696e 6773 290a 2020  all windings).  
-00021760: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
-00021770: 746f 7461 6c5f 6c6f 7373 6573 225d 5b22  total_losses"]["
-00021780: 616c 6c5f 7769 6e64 696e 6773 225d 203d  all_windings"] =
-00021790: 2073 756d 280a 2020 2020 2020 2020 2020   sum(.          
-000217a0: 2020 6c6f 675f 6469 6374 5b22 7369 6e67    log_dict["sing
-000217b0: 6c65 5f73 7765 6570 7322 5d5b 645d 5b22  le_sweeps"][d]["
-000217c0: 616c 6c5f 7769 6e64 696e 675f 6c6f 7373  all_winding_loss
-000217d0: 6573 225d 2066 6f72 2064 2069 6e20 7261  es"] for d in ra
-000217e0: 6e67 6528 6c65 6e28 6c6f 675f 6469 6374  nge(len(log_dict
-000217f0: 5b22 7369 6e67 6c65 5f73 7765 6570 7322  ["single_sweeps"
-00021800: 5d29 2929 0a0a 2020 2020 2020 2020 2320  ])))..        # 
-00021810: 436f 7265 0a20 2020 2020 2020 206c 6f67  Core.        log
-00021820: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
-00021830: 7365 7322 5d5b 2265 6464 795f 636f 7265  ses"]["eddy_core
-00021840: 225d 203d 2073 756d 280a 2020 2020 2020  "] = sum(.      
-00021850: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
-00021860: 7369 6e67 6c65 5f73 7765 6570 7322 5d5b  single_sweeps"][
-00021870: 645d 5b22 636f 7265 5f65 6464 795f 6c6f  d]["core_eddy_lo
-00021880: 7373 6573 225d 2066 6f72 2064 2069 6e20  sses"] for d in 
-00021890: 7261 6e67 6528 6c65 6e28 6c6f 675f 6469  range(len(log_di
-000218a0: 6374 5b22 7369 6e67 6c65 5f73 7765 6570  ct["single_sweep
-000218b0: 7322 5d29 2929 0a0a 2020 2020 2020 2020  s"])))..        
-000218c0: 6966 2069 7369 6e73 7461 6e63 6528 636f  if isinstance(co
-000218d0: 7265 5f68 7973 745f 6c6f 7373 6573 2c20  re_hyst_losses, 
-000218e0: 4c69 7374 2920 6f72 2069 7369 6e73 7461  List) or isinsta
-000218f0: 6e63 6528 636f 7265 5f68 7973 745f 6c6f  nce(core_hyst_lo
-00021900: 7373 6573 2c20 6e70 2e6e 6461 7272 6179  sses, np.ndarray
-00021910: 293a 0a20 2020 2020 2020 2020 2020 2023  ):.            #
-00021920: 206f 7665 7277 7269 7465 2074 6865 2068   overwrite the h
-00021930: 7973 7465 7265 7369 7320 6c6f 7373 6573  ysteresis losses
-00021940: 2066 6f72 2065 6163 6820 636f 7265 2070   for each core p
-00021950: 6172 740a 2020 2020 2020 2020 2020 2020  art.            
-00021960: 2320 4e6f 7465 3a20 5468 6973 2067 656e  # Note: This gen
-00021970: 6572 6174 696f 6e20 4d55 5354 2042 4520  eration MUST BE 
-00021980: 6265 666f 7265 2073 756d 6d69 6e67 2075  before summing u
-00021990: 7020 7468 6520 746f 7461 6c20 636f 7265  p the total core
-000219a0: 206c 6f73 7365 730a 2020 2020 2020 2020   losses.        
-000219b0: 2020 2020 2320 312e 2073 6574 2061 6c6c      # 1. set all
-000219c0: 2068 7973 7465 7265 7369 7320 6c6f 7373   hysteresis loss
-000219d0: 6573 2066 6f72 2061 6c6c 2066 7265 7175  es for all frequ
-000219e0: 656e 6369 6573 2074 6f20 7a65 726f 0a20  encies to zero. 
-000219f0: 2020 2020 2020 2020 2020 2023 2032 2e20             # 2. 
-00021a00: 7772 6974 6520 7468 6520 6578 7465 726e  write the extern
-00021a10: 616c 2067 6976 656e 2063 6f72 655f 6879  al given core_hy
-00021a20: 7374 5f6c 6f73 7365 7320 746f 2074 6865  st_losses to the
-00021a30: 2066 756e 6461 6d65 6e74 616c 2066 7265   fundamental fre
-00021a40: 7175 656e 6379 0a20 2020 2020 2020 2020  quency.         
-00021a50: 2020 2066 6f72 2073 696e 676c 655f 7369     for single_si
-00021a60: 6d75 6c61 7469 6f6e 2069 6e20 7261 6e67  mulation in rang
-00021a70: 6528 302c 206e 756d 6265 725f 6672 6571  e(0, number_freq
-00021a80: 7565 6e63 795f 7369 6d75 6c61 7469 6f6e  uency_simulation
-00021a90: 7329 3a0a 2020 2020 2020 2020 2020 2020  s):.            
-00021aa0: 2020 2020 6966 2073 696e 676c 655f 7369      if single_si
-00021ab0: 6d75 6c61 7469 6f6e 203d 3d20 6675 6e64  mulation == fund
-00021ac0: 616d 656e 7461 6c5f 696e 6465 783a 0a20  amental_index:. 
-00021ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021ae0: 2020 2066 6f72 2063 6f72 655f 7061 7274     for core_part
-00021af0: 2069 6e20 7261 6e67 6528 6c65 6e28 7365   in range(len(se
-00021b00: 6c66 2e6d 6573 682e 706c 616e 655f 7375  lf.mesh.plane_su
-00021b10: 7266 6163 655f 636f 7265 2929 3a0a 2020  rface_core)):.  
-00021b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021b30: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
-00021b40: 7369 6e67 6c65 5f73 7765 6570 7322 5d5b  single_sweeps"][
-00021b50: 7369 6e67 6c65 5f73 696d 756c 6174 696f  single_simulatio
-00021b60: 6e5d 5b22 636f 7265 5f70 6172 7473 225d  n]["core_parts"]
-00021b70: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00021b80: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-00021b90: 636f 7265 5f70 6172 745f 7b63 6f72 655f  core_part_{core_
-00021ba0: 7061 7274 202b 2031 7d22 5d5b 2268 7973  part + 1}"]["hys
-00021bb0: 745f 6c6f 7373 6573 225d 203d 2063 6f72  t_losses"] = cor
-00021bc0: 655f 6879 7374 5f6c 6f73 7365 735b 636f  e_hyst_losses[co
-00021bd0: 7265 5f70 6172 745d 0a20 2020 2020 2020  re_part].       
-00021be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021bf0: 206c 6f67 5f64 6963 745b 2273 696e 676c   log_dict["singl
-00021c00: 655f 7377 6565 7073 225d 5b73 696e 676c  e_sweeps"][singl
-00021c10: 655f 7369 6d75 6c61 7469 6f6e 5d5b 2263  e_simulation]["c
-00021c20: 6f72 655f 7061 7274 7322 5d5b 6622 636f  ore_parts"][f"co
-00021c30: 7265 5f70 6172 745f 7b63 6f72 655f 7061  re_part_{core_pa
-00021c40: 7274 202b 2031 7d22 5d5b 0a20 2020 2020  rt + 1}"][.     
-00021c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021c60: 2020 2020 2020 2066 2274 6f74 616c 5f63         f"total_c
-00021c70: 6f72 655f 7061 7274 5f7b 636f 7265 5f70  ore_part_{core_p
-00021c80: 6172 7420 2b20 317d 225d 203d 2063 6f72  art + 1}"] = cor
-00021c90: 655f 6879 7374 5f6c 6f73 7365 735b 636f  e_hyst_losses[co
-00021ca0: 7265 5f70 6172 745d 202b 206c 6f67 5f64  re_part] + log_d
-00021cb0: 6963 745b 0a20 2020 2020 2020 2020 2020  ict[.           
-00021cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021cd0: 2022 7369 6e67 6c65 5f73 7765 6570 7322   "single_sweeps"
-00021ce0: 5d5b 7369 6e67 6c65 5f73 696d 756c 6174  ][single_simulat
-00021cf0: 696f 6e5d 5b22 636f 7265 5f70 6172 7473  ion]["core_parts
-00021d00: 225d 5b66 2263 6f72 655f 7061 7274 5f7b  "][f"core_part_{
-00021d10: 636f 7265 5f70 6172 7420 2b20 317d 225d  core_part + 1}"]
-00021d20: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00021d30: 2020 2020 2020 2020 2020 2020 2020 2265                "e
-00021d40: 6464 795f 6c6f 7373 6573 225d 0a20 2020  ddy_losses"].   
-00021d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021d60: 206c 6f67 5f64 6963 745b 2273 696e 676c   log_dict["singl
-00021d70: 655f 7377 6565 7073 225d 5b73 696e 676c  e_sweeps"][singl
-00021d80: 655f 7369 6d75 6c61 7469 6f6e 5d5b 2263  e_simulation]["c
-00021d90: 6f72 655f 6879 7374 5f6c 6f73 7365 7322  ore_hyst_losses"
-00021da0: 5d20 3d20 7375 6d28 636f 7265 5f68 7973  ] = sum(core_hys
-00021db0: 745f 6c6f 7373 6573 290a 2020 2020 2020  t_losses).      
-00021dc0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00021dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021de0: 2020 2020 666f 7220 636f 7265 5f70 6172      for core_par
-00021df0: 7420 696e 2072 616e 6765 286c 656e 2873  t in range(len(s
-00021e00: 656c 662e 6d65 7368 2e70 6c61 6e65 5f73  elf.mesh.plane_s
-00021e10: 7572 6661 6365 5f63 6f72 6529 293a 0a20  urface_core)):. 
-00021e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021e30: 2020 2020 2020 206c 6f67 5f64 6963 745b         log_dict[
-00021e40: 2273 696e 676c 655f 7377 6565 7073 225d  "single_sweeps"]
-00021e50: 5b73 696e 676c 655f 7369 6d75 6c61 7469  [single_simulati
-00021e60: 6f6e 5d5b 2263 6f72 655f 7061 7274 7322  on]["core_parts"
-00021e70: 5d5b 6622 636f 7265 5f70 6172 745f 7b63  ][f"core_part_{c
-00021e80: 6f72 655f 7061 7274 202b 2031 7d22 5d5b  ore_part + 1}"][
-00021e90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00021ea0: 2020 2020 2020 2020 2020 2020 2022 6879               "hy
-00021eb0: 7374 5f6c 6f73 7365 7322 5d20 3d20 300a  st_losses"] = 0.
-00021ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021ed0: 2020 2020 2020 2020 6c6f 675f 6469 6374          log_dict
-00021ee0: 5b22 7369 6e67 6c65 5f73 7765 6570 7322  ["single_sweeps"
-00021ef0: 5d5b 7369 6e67 6c65 5f73 696d 756c 6174  ][single_simulat
-00021f00: 696f 6e5d 5b22 636f 7265 5f70 6172 7473  ion]["core_parts
-00021f10: 225d 5b66 2263 6f72 655f 7061 7274 5f7b  "][f"core_part_{
-00021f20: 636f 7265 5f70 6172 7420 2b20 317d 225d  core_part + 1}"]
-00021f30: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00021f40: 2020 2020 2020 2020 2020 2020 2020 6622                f"
-00021f50: 746f 7461 6c5f 636f 7265 5f70 6172 745f  total_core_part_
-00021f60: 7b63 6f72 655f 7061 7274 202b 2031 7d22  {core_part + 1}"
-00021f70: 5d20 3d20 6c6f 675f 6469 6374 5b22 7369  ] = log_dict["si
+0001f570: 2020 2020 2020 2020 2256 223a 205b 5d7d          "V": []}
+0001f580: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0001f590: 2020 7475 726e 7320 3d20 6666 2e67 6574    turns = ff.get
+0001f5a0: 5f6e 756d 6265 725f 6f66 5f74 7572 6e73  _number_of_turns
+0001f5b0: 5f6f 665f 7769 6e64 696e 6728 7769 6e64  _of_winding(wind
+0001f5c0: 696e 675f 7769 6e64 6f77 733d 7365 6c66  ing_windows=self
+0001f5d0: 2e77 696e 6469 6e67 5f77 696e 646f 7773  .winding_windows
+0001f5e0: 2c20 7769 6e64 696e 6773 3d73 656c 662e  , windings=self.
+0001f5f0: 7769 6e64 696e 6773 2c0a 2020 2020 2020  windings,.      
+0001f600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f630: 2020 2020 7769 6e64 696e 675f 6e75 6d62      winding_numb
+0001f640: 6572 3d77 696e 6469 6e67 5f6e 756d 6265  er=winding_numbe
+0001f650: 7229 0a0a 2020 2020 2020 2020 2020 2020  r)..            
+0001f660: 2020 2020 7769 6e64 696e 675f 6469 6374      winding_dict
+0001f670: 5b22 6e75 6d62 6572 5f74 7572 6e73 225d  ["number_turns"]
+0001f680: 203d 2074 7572 6e73 0a0a 2020 2020 2020   = turns..      
+0001f690: 2020 2020 2020 2020 2020 2320 4375 7272            # Curr
+0001f6a0: 656e 7473 0a20 2020 2020 2020 2020 2020  ents.           
+0001f6b0: 2020 2020 2069 6620 6e75 6d62 6572 5f66       if number_f
+0001f6c0: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
+0001f6d0: 696f 6e73 203e 2031 3a0a 2020 2020 2020  ions > 1:.      
+0001f6e0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0001f6f0: 7377 6565 705f 7369 6d75 6c61 7469 6f6e  sweep_simulation
+0001f700: 202d 3e20 6765 7420 6375 7272 656e 7473   -> get currents
+0001f710: 2066 726f 6d20 7061 7373 6564 2063 7572   from passed cur
+0001f720: 7265 6e74 732e 2043 6f6d 706c 6578 2063  rents. Complex c
+0001f730: 7572 7265 6e74 206e 6565 6473 2074 6f20  urrent needs to 
+0001f740: 6265 2063 7265 6174 6564 2066 726f 6d20  be created from 
+0001f750: 616d 706c 6974 7564 6520 616e 6420 7068  amplitude and ph
+0001f760: 6173 650a 2020 2020 2020 2020 2020 2020  ase.            
+0001f770: 2020 2020 2020 2020 636f 6d70 6c65 785f          complex_
+0001f780: 6375 7272 656e 745f 7068 6173 6f72 203d  current_phasor =
+0001f790: 2063 6f6d 706c 6578 280a 2020 2020 2020   complex(.      
+0001f7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f7b0: 2020 6375 7272 656e 745f 616d 706c 6974    current_amplit
+0001f7c0: 7564 655f 6c69 7374 5b73 696e 676c 655f  ude_list[single_
+0001f7d0: 7369 6d75 6c61 7469 6f6e 5d5b 7769 6e64  simulation][wind
+0001f7e0: 696e 675f 6e75 6d62 6572 5d20 2a20 6e70  ing_number] * np
+0001f7f0: 2e63 6f73 286e 702e 6465 6732 7261 6428  .cos(np.deg2rad(
+0001f800: 7068 6173 655f 6465 675f 6c69 7374 5b73  phase_deg_list[s
+0001f810: 696e 676c 655f 7369 6d75 6c61 7469 6f6e  ingle_simulation
+0001f820: 5d5b 7769 6e64 696e 675f 6e75 6d62 6572  ][winding_number
+0001f830: 5d29 292c 0a20 2020 2020 2020 2020 2020  ])),.           
+0001f840: 2020 2020 2020 2020 2020 2020 2063 7572               cur
+0001f850: 7265 6e74 5f61 6d70 6c69 7475 6465 5f6c  rent_amplitude_l
+0001f860: 6973 745b 7369 6e67 6c65 5f73 696d 756c  ist[single_simul
+0001f870: 6174 696f 6e5d 5b77 696e 6469 6e67 5f6e  ation][winding_n
+0001f880: 756d 6265 725d 202a 206e 702e 7369 6e28  umber] * np.sin(
+0001f890: 6e70 2e64 6567 3272 6164 2870 6861 7365  np.deg2rad(phase
+0001f8a0: 5f64 6567 5f6c 6973 745b 7369 6e67 6c65  _deg_list[single
+0001f8b0: 5f73 696d 756c 6174 696f 6e5d 5b77 696e  _simulation][win
+0001f8c0: 6469 6e67 5f6e 756d 6265 725d 2929 290a  ding_number]))).
+0001f8d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001f8e0: 2020 2020 2023 2063 6f6d 706c 6578 5f63       # complex_c
+0001f8f0: 7572 7265 6e74 5f70 6861 736f 7220 3d20  urrent_phasor = 
+0001f900: 6375 7272 656e 745f 616d 706c 6974 7564  current_amplitud
+0001f910: 655f 6c69 7374 5b73 696e 676c 655f 7369  e_list[single_si
+0001f920: 6d75 6c61 7469 6f6e 5d5b 7769 6e64 696e  mulation][windin
+0001f930: 675f 6e75 6d62 6572 5d0a 2020 2020 2020  g_number].      
+0001f940: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0001f950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f960: 2020 2020 2320 7369 6e67 6c65 5f73 696d      # single_sim
+0001f970: 756c 6174 696f 6e20 2d3e 2067 6574 2063  ulation -> get c
+0001f980: 7572 7265 6e74 2066 726f 6d20 696e 7374  urrent from inst
+0001f990: 616e 6365 2076 6172 6961 626c 650a 2020  ance variable.  
+0001f9a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001f9b0: 2020 636f 6d70 6c65 785f 6375 7272 656e    complex_curren
+0001f9c0: 745f 7068 6173 6f72 203d 2073 656c 662e  t_phasor = self.
+0001f9d0: 6375 7272 656e 745b 7769 6e64 696e 675f  current[winding_
+0001f9e0: 6e75 6d62 6572 5d0a 0a20 2020 2020 2020  number]..       
+0001f9f0: 2020 2020 2020 2020 2023 2053 746f 7265           # Store
+0001fa00: 2063 6f6d 706c 6578 2076 616c 7565 2061   complex value a
+0001fa10: 7320 6c69 7374 2069 6e20 6a73 6f6e 2028  s list in json (
+0001fa20: 6265 6361 7573 6520 6a73 6f6e 2069 7320  because json is 
+0001fa30: 6e6f 7420 6e61 7469 7665 6c79 2063 6170  not natively cap
+0001fa40: 6162 6c65 206f 6620 636f 6d70 6c65 7820  able of complex 
+0001fa50: 7661 6c75 6573 290a 2020 2020 2020 2020  values).        
+0001fa60: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
+0001fa70: 6469 6374 5b22 4922 5d20 3d20 5b63 6f6d  dict["I"] = [com
+0001fa80: 706c 6578 5f63 7572 7265 6e74 5f70 6861  plex_current_pha
+0001fa90: 736f 722e 7265 616c 2c20 636f 6d70 6c65  sor.real, comple
+0001faa0: 785f 6375 7272 656e 745f 7068 6173 6f72  x_current_phasor
+0001fab0: 2e69 6d61 675d 0a0a 2020 2020 2020 2020  .imag]..        
+0001fac0: 2020 2020 2020 2020 2320 4361 7365 206c          # Case l
+0001fad0: 6974 7a3a 204c 6f61 6420 686f 6d6f 6765  itz: Load homoge
+0001fae0: 6e69 7a65 6420 7265 7375 6c74 730a 2020  nized results.  
+0001faf0: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0001fb00: 2073 656c 662e 7769 6e64 696e 6773 5b77   self.windings[w
+0001fb10: 696e 6469 6e67 5f6e 756d 6265 725d 2e63  inding_number].c
+0001fb20: 6f6e 6475 6374 6f72 5f74 7970 6520 3d3d  onductor_type ==
+0001fb30: 2043 6f6e 6475 6374 6f72 5479 7065 2e52   ConductorType.R
+0001fb40: 6f75 6e64 4c69 747a 3a0a 2020 2020 2020  oundLitz:.      
+0001fb50: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+0001fb60: 6e64 696e 675f 6469 6374 5b22 7769 6e64  nding_dict["wind
+0001fb70: 696e 675f 6c6f 7373 6573 225d 203d 205c  ing_losses"] = \
+0001fb80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001fb90: 2020 2020 2020 2020 2073 656c 662e 6c6f           self.lo
+0001fba0: 6164 5f72 6573 756c 7428 7265 735f 6e61  ad_result(res_na
+0001fbb0: 6d65 3d66 226a 3248 5f7b 7769 6e64 696e  me=f"j2H_{windin
+0001fbc0: 675f 6e75 6d62 6572 202b 2031 7d22 2c20  g_number + 1}", 
+0001fbd0: 6c61 7374 5f6e 3d6e 756d 6265 725f 6672  last_n=number_fr
+0001fbe0: 6571 7565 6e63 795f 7369 6d75 6c61 7469  equency_simulati
+0001fbf0: 6f6e 7329 5b0a 2020 2020 2020 2020 2020  ons)[.          
+0001fc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fc10: 2020 7369 6e67 6c65 5f73 696d 756c 6174    single_simulat
+0001fc20: 696f 6e5d 0a20 2020 2020 2020 2020 2020  ion].           
+0001fc30: 2020 2020 2020 2020 2066 6f72 2074 7572           for tur
+0001fc40: 6e20 696e 2072 616e 6765 2830 2c20 7769  n in range(0, wi
+0001fc50: 6e64 696e 675f 6469 6374 5b22 6e75 6d62  nding_dict["numb
+0001fc60: 6572 5f74 7572 6e73 225d 293a 0a20 2020  er_turns"]):.   
+0001fc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fc80: 2020 2020 2077 696e 6469 6e67 5f64 6963       winding_dic
+0001fc90: 745b 2274 7572 6e5f 6c6f 7373 6573 225d  t["turn_losses"]
+0001fca0: 2e61 7070 656e 6428 0a20 2020 2020 2020  .append(.       
+0001fcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fcc0: 2020 2020 2073 656c 662e 6c6f 6164 5f72       self.load_r
+0001fcd0: 6573 756c 7428 7265 735f 6e61 6d65 3d77  esult(res_name=w
+0001fce0: 696e 6469 6e67 5f6e 616d 655b 7769 6e64  inding_name[wind
+0001fcf0: 696e 675f 6e75 6d62 6572 5d20 2b20 6622  ing_number] + f"
+0001fd00: 2f4c 6f73 7365 735f 7475 726e 5f7b 7475  /Losses_turn_{tu
+0001fd10: 726e 202b 2031 7d22 2c0a 2020 2020 2020  rn + 1}",.      
+0001fd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fd30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fd40: 2020 2020 2020 206c 6173 745f 6e3d 6e75         last_n=nu
+0001fd50: 6d62 6572 5f66 7265 7175 656e 6379 5f73  mber_frequency_s
+0001fd60: 696d 756c 6174 696f 6e73 295b 7369 6e67  imulations)[sing
+0001fd70: 6c65 5f73 696d 756c 6174 696f 6e5d 290a  le_simulation]).
+0001fd80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001fd90: 2023 2043 6173 6520 536f 6c69 643a 204c   # Case Solid: L
+0001fda0: 6f61 6420 7265 7375 6c74 732c 2028 7069  oad results, (pi
+0001fdb0: 7466 616c 6c20 666f 7220 7061 7261 6c6c  tfall for parall
+0001fdc0: 656c 2077 696e 6469 6e67 7320 7265 7375  el windings resu
+0001fdd0: 6c74 7320 6172 6520 6f6e 6c79 2073 746f  lts are only sto
+0001fde0: 7265 6420 696e 206f 6e65 2074 7572 6e21  red in one turn!
+0001fdf0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0001fe00: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+0001fe10: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+0001fe20: 696e 675f 6469 6374 5b22 7769 6e64 696e  ing_dict["windin
+0001fe30: 675f 6c6f 7373 6573 225d 203d 2073 656c  g_losses"] = sel
+0001fe40: 662e 6c6f 6164 5f72 6573 756c 7428 7265  f.load_result(re
+0001fe50: 735f 6e61 6d65 3d66 226a 3246 5f7b 7769  s_name=f"j2F_{wi
+0001fe60: 6e64 696e 675f 6e75 6d62 6572 202b 2031  nding_number + 1
+0001fe70: 7d22 2c0a 2020 2020 2020 2020 2020 2020  }",.            
+0001fe80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fe90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001feb0: 2020 2020 2020 2020 2020 6c61 7374 5f6e            last_n
+0001fec0: 3d6e 756d 6265 725f 6672 6571 7565 6e63  =number_frequenc
+0001fed0: 795f 7369 6d75 6c61 7469 6f6e 7329 5b0a  y_simulations)[.
+0001fee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001fef0: 2020 2020 2020 2020 7369 6e67 6c65 5f73          single_s
+0001ff00: 696d 756c 6174 696f 6e5d 0a20 2020 2020  imulation].     
+0001ff10: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0001ff20: 6620 7365 6c66 2e77 696e 6469 6e67 735b  f self.windings[
+0001ff30: 7769 6e64 696e 675f 6e75 6d62 6572 5d2e  winding_number].
+0001ff40: 7061 7261 6c6c 656c 3a0a 2020 2020 2020  parallel:.      
+0001ff50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ff60: 2020 7769 6e64 696e 675f 6469 6374 5b22    winding_dict["
+0001ff70: 7475 726e 5f6c 6f73 7365 7322 5d2e 6170  turn_losses"].ap
+0001ff80: 7065 6e64 280a 2020 2020 2020 2020 2020  pend(.          
+0001ff90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001ffa0: 2020 7365 6c66 2e6c 6f61 645f 7265 7375    self.load_resu
+0001ffb0: 6c74 2872 6573 5f6e 616d 653d 7769 6e64  lt(res_name=wind
+0001ffc0: 696e 675f 6e61 6d65 5b77 696e 6469 6e67  ing_name[winding
+0001ffd0: 5f6e 756d 6265 725d 202b 2066 222f 4c6f  _number] + f"/Lo
+0001ffe0: 7373 6573 5f74 7572 6e5f 7b31 7d22 2c0a  sses_turn_{1}",.
+0001fff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020010: 2020 2020 2020 2020 2020 2020 206c 6173               las
+00020020: 745f 6e3d 6e75 6d62 6572 5f66 7265 7175  t_n=number_frequ
+00020030: 656e 6379 5f73 696d 756c 6174 696f 6e73  ency_simulations
+00020040: 295b 7369 6e67 6c65 5f73 696d 756c 6174  )[single_simulat
+00020050: 696f 6e5d 290a 2020 2020 2020 2020 2020  ion]).          
+00020060: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+00020070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020080: 2020 2020 2020 2020 666f 7220 7475 726e          for turn
+00020090: 2069 6e20 7261 6e67 6528 302c 2077 696e   in range(0, win
+000200a0: 6469 6e67 5f64 6963 745b 226e 756d 6265  ding_dict["numbe
+000200b0: 725f 7475 726e 7322 5d29 3a0a 2020 2020  r_turns"]):.    
+000200c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000200d0: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
+000200e0: 6469 6374 5b22 7475 726e 5f6c 6f73 7365  dict["turn_losse
+000200f0: 7322 5d2e 6170 7065 6e64 280a 2020 2020  s"].append(.    
+00020100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020110: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00020120: 2e6c 6f61 645f 7265 7375 6c74 2872 6573  .load_result(res
+00020130: 5f6e 616d 653d 7769 6e64 696e 675f 6e61  _name=winding_na
+00020140: 6d65 5b77 696e 6469 6e67 5f6e 756d 6265  me[winding_numbe
+00020150: 725d 202b 2066 222f 4c6f 7373 6573 5f74  r] + f"/Losses_t
+00020160: 7572 6e5f 7b74 7572 6e20 2b20 317d 222c  urn_{turn + 1}",
+00020170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000201a0: 2020 6c61 7374 5f6e 3d6e 756d 6265 725f    last_n=number_
+000201b0: 6672 6571 7565 6e63 795f 7369 6d75 6c61  frequency_simula
+000201c0: 7469 6f6e 7329 5b73 696e 676c 655f 7369  tions)[single_si
+000201d0: 6d75 6c61 7469 6f6e 5d29 0a0a 2020 2020  mulation])..    
+000201e0: 2020 2020 2020 2020 2020 2020 2320 566f              # Vo
+000201f0: 6c74 6167 650a 2020 2020 2020 2020 2020  ltage.          
+00020200: 2020 2020 2020 7769 6e64 696e 675f 6469        winding_di
+00020210: 6374 5b22 5622 5d2e 6170 7065 6e64 280a  ct["V"].append(.
+00020220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020230: 2020 2020 7365 6c66 2e6c 6f61 645f 7265      self.load_re
+00020240: 7375 6c74 2872 6573 5f6e 616d 653d 6622  sult(res_name=f"
+00020250: 566f 6c74 6167 655f 7b77 696e 6469 6e67  Voltage_{winding
+00020260: 5f6e 756d 6265 7220 2b20 317d 222c 2070  _number + 1}", p
+00020270: 6172 743d 2272 6561 6c22 2c0a 2020 2020  art="real",.    
+00020280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000202a0: 206c 6173 745f 6e3d 6e75 6d62 6572 5f66   last_n=number_f
+000202b0: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
+000202c0: 696f 6e73 295b 7369 6e67 6c65 5f73 696d  ions)[single_sim
+000202d0: 756c 6174 696f 6e5d 290a 2020 2020 2020  ulation]).      
+000202e0: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+000202f0: 675f 6469 6374 5b22 5622 5d2e 6170 7065  g_dict["V"].appe
+00020300: 6e64 280a 2020 2020 2020 2020 2020 2020  nd(.            
+00020310: 2020 2020 2020 2020 7365 6c66 2e6c 6f61          self.loa
+00020320: 645f 7265 7375 6c74 2872 6573 5f6e 616d  d_result(res_nam
+00020330: 653d 6622 566f 6c74 6167 655f 7b77 696e  e=f"Voltage_{win
+00020340: 6469 6e67 5f6e 756d 6265 7220 2b20 317d  ding_number + 1}
+00020350: 222c 2070 6172 743d 2269 6d61 6769 6e61  ", part="imagina
+00020360: 7279 222c 0a20 2020 2020 2020 2020 2020  ry",.           
+00020370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020380: 2020 2020 2020 2020 2020 6c61 7374 5f6e            last_n
+00020390: 3d6e 756d 6265 725f 6672 6571 7565 6e63  =number_frequenc
+000203a0: 795f 7369 6d75 6c61 7469 6f6e 7329 5b73  y_simulations)[s
+000203b0: 696e 676c 655f 7369 6d75 6c61 7469 6f6e  ingle_simulation
+000203c0: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+000203d0: 2020 2063 6f6d 706c 6578 5f76 6f6c 7461     complex_volta
+000203e0: 6765 5f70 6861 736f 7220 3d20 636f 6d70  ge_phasor = comp
+000203f0: 6c65 7828 7769 6e64 696e 675f 6469 6374  lex(winding_dict
+00020400: 5b22 5622 5d5b 305d 2c20 7769 6e64 696e  ["V"][0], windin
+00020410: 675f 6469 6374 5b22 5622 5d5b 315d 290a  g_dict["V"][1]).
+00020420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00020430: 2069 6620 636f 6d70 6c65 785f 6375 7272   if complex_curr
+00020440: 656e 745f 7068 6173 6f72 203d 3d20 3020  ent_phasor == 0 
+00020450: 6f72 2073 7765 6570 5f64 6963 745b 2266  or sweep_dict["f
+00020460: 225d 203d 3d20 303a 2020 2320 6966 2d73  "] == 0:  # if-s
+00020470: 7461 7465 6d65 6e74 2074 6f20 6176 6f69  tatement to avoi
+00020480: 6420 6469 7620 6279 207a 6572 6f20 6572  d div by zero er
+00020490: 726f 720a 2020 2020 2020 2020 2020 2020  ror.            
+000204a0: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
+000204b0: 6469 6374 5b22 666c 7578 5f6f 7665 725f  dict["flux_over_
+000204c0: 6375 7272 656e 7422 5d20 3d20 5b30 2e30  current"] = [0.0
+000204d0: 2c20 302e 305d 0a20 2020 2020 2020 2020  , 0.0].         
+000204e0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+000204f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020500: 2077 696e 6469 6e67 5f64 6963 745b 2266   winding_dict["f
+00020510: 6c75 785f 6f76 6572 5f63 7572 7265 6e74  lux_over_current
+00020520: 225d 2e61 7070 656e 6428 0a20 2020 2020  "].append(.     
+00020530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020540: 2020 2028 636f 6d70 6c65 785f 766f 6c74     (complex_volt
+00020550: 6167 655f 7068 6173 6f72 202f 2028 636f  age_phasor / (co
+00020560: 6d70 6c65 7828 302c 2031 2920 2a20 3220  mplex(0, 1) * 2 
+00020570: 2a20 6e70 2e70 6920 2a20 636f 6d70 6c65  * np.pi * comple
+00020580: 785f 6375 7272 656e 745f 7068 6173 6f72  x_current_phasor
+00020590: 202a 2073 7765 6570 5f64 6963 745b 2266   * sweep_dict["f
+000205a0: 225d 2929 2e72 6561 6c0a 2020 2020 2020  "])).real.      
+000205b0: 2020 2020 2020 2020 2020 2020 2020 290a                ).
+000205c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000205d0: 2020 2020 7769 6e64 696e 675f 6469 6374      winding_dict
+000205e0: 5b22 666c 7578 5f6f 7665 725f 6375 7272  ["flux_over_curr
+000205f0: 656e 7422 5d2e 6170 7065 6e64 280a 2020  ent"].append(.  
+00020600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020610: 2020 2020 2020 2863 6f6d 706c 6578 5f76        (complex_v
+00020620: 6f6c 7461 6765 5f70 6861 736f 7220 2f20  oltage_phasor / 
+00020630: 2863 6f6d 706c 6578 2830 2c20 3129 202a  (complex(0, 1) *
+00020640: 2032 202a 206e 702e 7069 202a 2063 6f6d   2 * np.pi * com
+00020650: 706c 6578 5f63 7572 7265 6e74 5f70 6861  plex_current_pha
+00020660: 736f 7220 2a20 7377 6565 705f 6469 6374  sor * sweep_dict
+00020670: 5b22 6622 5d29 292e 696d 6167 0a20 2020  ["f"])).imag.   
+00020680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020690: 2029 0a0a 2020 2020 2020 2020 2020 2020   )..            
+000206a0: 2020 2020 2320 466c 7578 0a20 2020 2020      # Flux.     
+000206b0: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+000206c0: 6e67 5f64 6963 745b 2266 6c75 7822 5d2e  ng_dict["flux"].
+000206d0: 6170 7065 6e64 280a 2020 2020 2020 2020  append(.        
+000206e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000206f0: 2e6c 6f61 645f 7265 7375 6c74 2872 6573  .load_result(res
+00020700: 5f6e 616d 653d 6622 466c 7578 5f4c 696e  _name=f"Flux_Lin
+00020710: 6b61 6765 5f7b 7769 6e64 696e 675f 6e75  kage_{winding_nu
+00020720: 6d62 6572 202b 2031 7d22 2c0a 2020 2020  mber + 1}",.    
+00020730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020750: 206c 6173 745f 6e3d 6e75 6d62 6572 5f66   last_n=number_f
+00020760: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
+00020770: 696f 6e73 295b 7369 6e67 6c65 5f73 696d  ions)[single_sim
+00020780: 756c 6174 696f 6e5d 290a 2020 2020 2020  ulation]).      
+00020790: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+000207a0: 675f 6469 6374 5b22 666c 7578 225d 2e61  g_dict["flux"].a
+000207b0: 7070 656e 6428 0a20 2020 2020 2020 2020  ppend(.         
+000207c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000207d0: 6c6f 6164 5f72 6573 756c 7428 7265 735f  load_result(res_
+000207e0: 6e61 6d65 3d66 2246 6c75 785f 4c69 6e6b  name=f"Flux_Link
+000207f0: 6167 655f 7b77 696e 6469 6e67 5f6e 756d  age_{winding_num
+00020800: 6265 7220 2b20 317d 222c 2070 6172 743d  ber + 1}", part=
+00020810: 2269 6d61 6769 6e61 7279 222c 0a20 2020  "imaginary",.   
+00020820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020840: 2020 6c61 7374 5f6e 3d6e 756d 6265 725f    last_n=number_
+00020850: 6672 6571 7565 6e63 795f 7369 6d75 6c61  frequency_simula
+00020860: 7469 6f6e 7329 5b73 696e 676c 655f 7369  tions)[single_si
+00020870: 6d75 6c61 7469 6f6e 5d29 0a0a 2020 2020  mulation])..    
+00020880: 2020 2020 2020 2020 2020 2020 2320 506f              # Po
+00020890: 7765 720a 2020 2020 2020 2020 2020 2020  wer.            
+000208a0: 2020 2020 2320 7573 696e 6720 2777 696e      # using 'win
+000208b0: 6469 6e67 5f64 6963 745b 2256 225d 5b30  ding_dict["V"][0
+000208c0: 5d27 2074 6f20 6765 7420 6669 7273 7420  ]' to get first 
+000208d0: 656c 656d 656e 7420 2872 6561 6c20 7061  element (real pa
+000208e0: 7274 2920 6f66 2056 2e0a 2020 2020 2020  rt) of V..      
+000208f0: 2020 2020 2020 2020 2020 2320 5573 6520            # Use 
+00020900: 7769 6e64 696e 675f 6469 6374 5b22 4922  winding_dict["I"
+00020910: 5d5b 305d 2074 6f20 6176 6f69 6420 7479  ][0] to avoid ty
+00020920: 7065 6572 726f 720a 2020 2020 2020 2020  peerror.        
+00020930: 2020 2020 2020 2020 2320 4173 2046 454d          # As FEM
+00020940: 4d54 2075 7365 7320 7065 616b 2070 6f69  MT uses peak poi
+00020950: 6e74 6572 732c 2061 6e64 2074 6865 2070  nters, and the p
+00020960: 6f77 6572 206e 6565 6473 2074 6f20 6265  ower needs to be
+00020970: 2068 616c 7665 642e 0a20 2020 2020 2020   halved..       
+00020980: 2020 2020 2020 2020 2023 2069 5f72 6d73           # i_rms
+00020990: 202a 2075 5f72 6d73 203d 2069 5f70 6561   * u_rms = i_pea
+000209a0: 6b20 2f20 7371 7274 2832 2920 2a20 755f  k / sqrt(2) * u_
+000209b0: 7065 616b 202f 2073 7172 7428 3229 203d  peak / sqrt(2) =
+000209c0: 2069 5f70 6561 6b20 2a20 755f 7065 616b   i_peak * u_peak
+000209d0: 202f 2032 0a20 2020 2020 2020 2020 2020   / 2.           
+000209e0: 2020 2020 2023 204e 6f74 653a 2046 6f72       # Note: For
+000209f0: 2044 432d 7661 6c75 6573 2028 6672 6571   DC-values (freq
+00020a00: 7565 6e63 7920 3d20 3029 2c20 524d 5320  uency = 0), RMS 
+00020a10: 7661 6c75 6520 6973 2073 616d 6520 6173  value is same as
+00020a20: 2070 6561 6b20 7661 6c75 6520 616e 6420   peak value and 
+00020a30: 736f 2c20 6861 6c76 6520 6973 206e 6f74  so, halve is not
+00020a40: 2061 6c6c 6f77 6564 2e0a 2020 2020 2020   allowed..      
+00020a50: 2020 2020 2020 2020 2020 6966 2073 7765            if swe
+00020a60: 6570 5f64 6963 745b 2266 225d 203d 3d20  ep_dict["f"] == 
+00020a70: 302e 303a 0a20 2020 2020 2020 2020 2020  0.0:.           
+00020a80: 2020 2020 2020 2020 2023 2050 6f77 6572           # Power
+00020a90: 2063 616c 6375 6c61 7469 6f6e 2066 6f72   calculation for
+00020aa0: 2044 4320 7661 6c75 6573 2e0a 2020 2020   DC values..    
+00020ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020ac0: 7769 6e64 696e 675f 6469 6374 5b22 5022  winding_dict["P"
+00020ad0: 5d20 3d20 2863 6f6d 706c 6578 5f76 6f6c  ] = (complex_vol
+00020ae0: 7461 6765 5f70 6861 736f 7220 2a20 636f  tage_phasor * co
+00020af0: 6d70 6c65 785f 6375 7272 656e 745f 7068  mplex_current_ph
+00020b00: 6173 6f72 2e63 6f6e 6a75 6761 7465 2829  asor.conjugate()
+00020b10: 292e 7265 616c 0a20 2020 2020 2020 2020  ).real.         
+00020b20: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+00020b30: 6e67 5f64 6963 745b 2251 225d 203d 2028  ng_dict["Q"] = (
+00020b40: 636f 6d70 6c65 785f 766f 6c74 6167 655f  complex_voltage_
+00020b50: 7068 6173 6f72 202a 2063 6f6d 706c 6578  phasor * complex
+00020b60: 5f63 7572 7265 6e74 5f70 6861 736f 722e  _current_phasor.
+00020b70: 636f 6e6a 7567 6174 6528 2929 2e69 6d61  conjugate()).ima
+00020b80: 670a 2020 2020 2020 2020 2020 2020 2020  g.              
+00020b90: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00020ba0: 2020 2020 2020 2020 2020 2020 2320 506f              # Po
+00020bb0: 7765 7220 6361 6c63 756c 6174 696f 6e20  wer calculation 
+00020bc0: 666f 7220 616c 6c20 6f74 6865 7220 4143  for all other AC
+00020bd0: 2076 616c 7565 730a 2020 2020 2020 2020   values.        
+00020be0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00020bf0: 696e 675f 6469 6374 5b22 5022 5d20 3d20  ing_dict["P"] = 
+00020c00: 2863 6f6d 706c 6578 5f76 6f6c 7461 6765  (complex_voltage
+00020c10: 5f70 6861 736f 7220 2a20 636f 6d70 6c65  _phasor * comple
+00020c20: 785f 6375 7272 656e 745f 7068 6173 6f72  x_current_phasor
+00020c30: 2e63 6f6e 6a75 6761 7465 2829 202f 2032  .conjugate() / 2
+00020c40: 292e 7265 616c 0a20 2020 2020 2020 2020  ).real.         
+00020c50: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+00020c60: 6e67 5f64 6963 745b 2251 225d 203d 2028  ng_dict["Q"] = (
+00020c70: 636f 6d70 6c65 785f 766f 6c74 6167 655f  complex_voltage_
+00020c80: 7068 6173 6f72 202a 2063 6f6d 706c 6578  phasor * complex
+00020c90: 5f63 7572 7265 6e74 5f70 6861 736f 722e  _current_phasor.
+00020ca0: 636f 6e6a 7567 6174 6528 2920 2f20 3229  conjugate() / 2)
+00020cb0: 2e69 6d61 670a 2020 2020 2020 2020 2020  .imag.          
+00020cc0: 2020 2020 2020 7769 6e64 696e 675f 6469        winding_di
+00020cd0: 6374 5b22 5322 5d20 3d20 6e70 2e73 7172  ct["S"] = np.sqr
+00020ce0: 7428 7769 6e64 696e 675f 6469 6374 5b22  t(winding_dict["
+00020cf0: 5022 5d20 2a2a 2032 202b 2077 696e 6469  P"] ** 2 + windi
+00020d00: 6e67 5f64 6963 745b 2251 225d 202a 2a20  ng_dict["Q"] ** 
+00020d10: 3229 0a0a 2020 2020 2020 2020 2020 2020  2)..            
+00020d20: 2020 2020 7377 6565 705f 6469 6374 5b66      sweep_dict[f
+00020d30: 2277 696e 6469 6e67 7b77 696e 6469 6e67  "winding{winding
+00020d40: 5f6e 756d 6265 7220 2b20 317d 225d 203d  _number + 1}"] =
+00020d50: 2077 696e 6469 6e67 5f64 6963 740a 0a20   winding_dict.. 
+00020d60: 2020 2020 2020 2020 2020 2023 2043 6f72             # Cor
+00020d70: 6520 6c6f 7373 6573 2054 4f44 4f3a 2043  e losses TODO: C
+00020d80: 686f 6f73 6520 6265 7477 6565 6e20 5374  hoose between St
+00020d90: 6569 6e6d 6574 7a20 6f72 2063 6f6d 706c  einmetz or compl
+00020da0: 6578 2063 6f72 6520 6c6f 7373 6573 0a20  ex core losses. 
+00020db0: 2020 2020 2020 2020 2020 2073 7765 6570             sweep
+00020dc0: 5f64 6963 745b 2263 6f72 655f 6564 6479  _dict["core_eddy
+00020dd0: 5f6c 6f73 7365 7322 5d20 3d20 5c0a 2020  _losses"] = \.  
+00020de0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00020df0: 6c66 2e6c 6f61 645f 7265 7375 6c74 2872  lf.load_result(r
+00020e00: 6573 5f6e 616d 653d 2243 6f72 6545 6464  es_name="CoreEdd
+00020e10: 7943 7572 7265 6e74 4c6f 7373 6573 222c  yCurrentLosses",
+00020e20: 206c 6173 745f 6e3d 6e75 6d62 6572 5f66   last_n=number_f
+00020e30: 7265 7175 656e 6379 5f73 696d 756c 6174  requency_simulat
+00020e40: 696f 6e73 295b 7369 6e67 6c65 5f73 696d  ions)[single_sim
+00020e50: 756c 6174 696f 6e5d 0a20 2020 2020 2020  ulation].       
+00020e60: 2020 2020 2073 7765 6570 5f64 6963 745b       sweep_dict[
+00020e70: 2263 6f72 655f 6879 7374 5f6c 6f73 7365  "core_hyst_losse
+00020e80: 7322 5d20 3d20 7365 6c66 2e6c 6f61 645f  s"] = self.load_
+00020e90: 7265 7375 6c74 2872 6573 5f6e 616d 653d  result(res_name=
+00020ea0: 2270 5f68 7973 7422 2c20 6c61 7374 5f6e  "p_hyst", last_n
+00020eb0: 3d6e 756d 6265 725f 6672 6571 7565 6e63  =number_frequenc
+00020ec0: 795f 7369 6d75 6c61 7469 6f6e 7329 5b0a  y_simulations)[.
+00020ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00020ee0: 7369 6e67 6c65 5f73 696d 756c 6174 696f  single_simulatio
+00020ef0: 6e5d 0a0a 2020 2020 2020 2020 2020 2020  n]..            
+00020f00: 2320 436f 7265 2050 6172 7420 6c6f 7373  # Core Part loss
+00020f10: 6573 0a20 2020 2020 2020 2020 2020 2023  es.            #
+00020f20: 2049 6620 7468 6572 6520 6172 6520 6d75   If there are mu
+00020f30: 6c74 6970 6c65 2063 6f72 6520 7061 7274  ltiple core part
+00020f40: 732c 2063 616c 6375 6c61 7465 206c 6f73  s, calculate los
+00020f50: 7365 7320 666f 7220 6561 6368 2070 6172  ses for each par
+00020f60: 7420 696e 6469 7669 6475 616c 6c79 0a20  t individually. 
+00020f70: 2020 2020 2020 2020 2020 2023 2074 6865             # the
+00020f80: 2063 6f72 6520 6c6f 7373 6573 2061 7265   core losses are
+00020f90: 2063 616c 6375 6c61 7465 6420 6279 2073   calculated by s
+00020fa0: 756d 6d69 6e67 2074 6865 2065 6464 7920  umming the eddy 
+00020fb0: 616e 6420 6879 7374 206c 6f73 7365 730a  and hyst losses.
+00020fc0: 0a20 2020 2020 2020 2020 2020 2073 7765  .            swe
+00020fd0: 6570 5f64 6963 745b 2263 6f72 655f 7061  ep_dict["core_pa
+00020fe0: 7274 7322 5d20 3d20 7b7d 0a20 2020 2020  rts"] = {}.     
+00020ff0: 2020 2020 2020 2066 6f72 2063 6f72 655f         for core_
+00021000: 7061 7274 2069 6e20 7261 6e67 6528 302c  part in range(0,
+00021010: 206c 656e 2873 656c 662e 6d65 7368 2e70   len(self.mesh.p
+00021020: 6c61 6e65 5f73 7572 6661 6365 5f63 6f72  lane_surface_cor
+00021030: 6529 293a 0a20 2020 2020 2020 2020 2020  e)):.           
+00021040: 2020 2020 2073 7765 6570 5f64 6963 745b       sweep_dict[
+00021050: 2263 6f72 655f 7061 7274 7322 5d5b 6622  "core_parts"][f"
+00021060: 636f 7265 5f70 6172 745f 7b63 6f72 655f  core_part_{core_
+00021070: 7061 7274 202b 2031 7d22 5d20 3d20 7b7d  part + 1}"] = {}
+00021080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021090: 2073 7765 6570 5f64 6963 745b 2263 6f72   sweep_dict["cor
+000210a0: 655f 7061 7274 7322 5d5b 6622 636f 7265  e_parts"][f"core
+000210b0: 5f70 6172 745f 7b63 6f72 655f 7061 7274  _part_{core_part
+000210c0: 202b 2031 7d22 5d5b 2265 6464 795f 6c6f   + 1}"]["eddy_lo
+000210d0: 7373 6573 225d 203d 205c 0a20 2020 2020  sses"] = \.     
+000210e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000210f0: 656c 662e 6c6f 6164 5f72 6573 756c 7428  elf.load_result(
+00021100: 7265 735f 6e61 6d65 3d66 2263 6f72 655f  res_name=f"core_
+00021110: 7061 7274 732f 436f 7265 4564 6479 4375  parts/CoreEddyCu
+00021120: 7272 656e 744c 6f73 7365 735f 7b63 6f72  rrentLosses_{cor
+00021130: 655f 7061 7274 202b 2031 7d22 2c0a 2020  e_part + 1}",.  
+00021140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021160: 2020 206c 6173 745f 6e3d 6e75 6d62 6572     last_n=number
+00021170: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
+00021180: 6174 696f 6e73 295b 7369 6e67 6c65 5f73  ations)[single_s
+00021190: 696d 756c 6174 696f 6e5d 0a20 2020 2020  imulation].     
+000211a0: 2020 2020 2020 2020 2020 2073 7765 6570             sweep
+000211b0: 5f64 6963 745b 2263 6f72 655f 7061 7274  _dict["core_part
+000211c0: 7322 5d5b 6622 636f 7265 5f70 6172 745f  s"][f"core_part_
+000211d0: 7b63 6f72 655f 7061 7274 202b 2031 7d22  {core_part + 1}"
+000211e0: 5d5b 2268 7973 745f 6c6f 7373 6573 225d  ]["hyst_losses"]
+000211f0: 203d 2073 656c 662e 6c6f 6164 5f72 6573   = self.load_res
+00021200: 756c 7428 0a20 2020 2020 2020 2020 2020  ult(.           
+00021210: 2020 2020 2020 2020 2072 6573 5f6e 616d           res_nam
+00021220: 653d 6622 636f 7265 5f70 6172 7473 2f70  e=f"core_parts/p
+00021230: 5f68 7973 745f 7b63 6f72 655f 7061 7274  _hyst_{core_part
+00021240: 202b 2031 7d22 2c20 6c61 7374 5f6e 3d6e   + 1}", last_n=n
+00021250: 756d 6265 725f 6672 6571 7565 6e63 795f  umber_frequency_
+00021260: 7369 6d75 6c61 7469 6f6e 7329 5b0a 2020  simulations)[.  
+00021270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021280: 2020 7369 6e67 6c65 5f73 696d 756c 6174    single_simulat
+00021290: 696f 6e5d 0a20 2020 2020 2020 2020 2020  ion].           
+000212a0: 2020 2020 2023 2066 696e 6469 6e67 2074       # finding t
+000212b0: 6865 2074 6f74 616c 206c 6f73 7365 7320  he total losses 
+000212c0: 666f 7220 6576 6572 7920 636f 7265 5f70  for every core_p
+000212d0: 6172 740a 2020 2020 2020 2020 2020 2020  art.            
+000212e0: 2020 2020 6564 6479 203d 2073 7765 6570      eddy = sweep
+000212f0: 5f64 6963 745b 2263 6f72 655f 7061 7274  _dict["core_part
+00021300: 7322 5d5b 6622 636f 7265 5f70 6172 745f  s"][f"core_part_
+00021310: 7b63 6f72 655f 7061 7274 202b 2031 7d22  {core_part + 1}"
+00021320: 5d5b 2265 6464 795f 6c6f 7373 6573 225d  ]["eddy_losses"]
+00021330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021340: 2068 7973 7420 3d20 7377 6565 705f 6469   hyst = sweep_di
+00021350: 6374 5b22 636f 7265 5f70 6172 7473 225d  ct["core_parts"]
+00021360: 5b66 2263 6f72 655f 7061 7274 5f7b 636f  [f"core_part_{co
+00021370: 7265 5f70 6172 7420 2b20 317d 225d 5b22  re_part + 1}"]["
+00021380: 6879 7374 5f6c 6f73 7365 7322 5d0a 2020  hyst_losses"].  
+00021390: 2020 2020 2020 2020 2020 2020 2020 7377                sw
+000213a0: 6565 705f 6469 6374 5b22 636f 7265 5f70  eep_dict["core_p
+000213b0: 6172 7473 225d 5b66 2263 6f72 655f 7061  arts"][f"core_pa
+000213c0: 7274 5f7b 636f 7265 5f70 6172 7420 2b20  rt_{core_part + 
+000213d0: 317d 225d 5b66 2274 6f74 616c 5f63 6f72  1}"][f"total_cor
+000213e0: 655f 7061 7274 5f7b 636f 7265 5f70 6172  e_part_{core_par
+000213f0: 7420 2b20 317d 225d 203d 2065 6464 7920  t + 1}"] = eddy 
+00021400: 2b20 6879 7374 0a0a 2020 2020 2020 2020  + hyst..        
+00021410: 2020 2020 2320 5375 6d20 6c6f 7373 6573      # Sum losses
+00021420: 206f 6620 616c 6c20 7769 6e64 696e 6773   of all windings
+00021430: 206f 6620 6f6e 6520 7369 6e67 6c65 2072   of one single r
+00021440: 756e 0a20 2020 2020 2020 2020 2020 2073  un.            s
+00021450: 7765 6570 5f64 6963 745b 2261 6c6c 5f77  weep_dict["all_w
+00021460: 696e 6469 6e67 5f6c 6f73 7365 7322 5d20  inding_losses"] 
+00021470: 3d20 7375 6d28 0a20 2020 2020 2020 2020  = sum(.         
+00021480: 2020 2020 2020 2073 7765 6570 5f64 6963         sweep_dic
+00021490: 745b 6622 7769 6e64 696e 677b 6420 2b20  t[f"winding{d + 
+000214a0: 317d 225d 5b22 7769 6e64 696e 675f 6c6f  1}"]["winding_lo
+000214b0: 7373 6573 225d 2066 6f72 2064 2069 6e20  sses"] for d in 
+000214c0: 7261 6e67 6528 6c65 6e28 7365 6c66 2e77  range(len(self.w
+000214d0: 696e 6469 6e67 7329 2929 0a0a 2020 2020  indings)))..    
+000214e0: 2020 2020 2020 2020 6c6f 675f 6469 6374          log_dict
+000214f0: 5b22 7369 6e67 6c65 5f73 7765 6570 7322  ["single_sweeps"
+00021500: 5d2e 6170 7065 6e64 2873 7765 6570 5f64  ].append(sweep_d
+00021510: 6963 7429 0a0a 2020 2020 2020 2020 2320  ict)..        # 
+00021520: 546f 7461 6c20 6c6f 7373 6573 206f 6620  Total losses of 
+00021530: 6578 6369 7461 7469 6f6e 2073 7765 6570  excitation sweep
+00021540: 0a20 2020 2020 2020 2023 2053 756d 206c  .        # Sum l
+00021550: 6f73 7365 7320 6f66 2061 6c6c 2073 7765  osses of all swe
+00021560: 6570 2072 756e 732e 2046 6f72 2063 6f72  ep runs. For cor
+00021570: 6520 6c6f 7373 6573 206a 7573 7420 7573  e losses just us
+00021580: 6520 6879 7374 5f6c 6f73 7365 7320 6f66  e hyst_losses of
+00021590: 2074 6865 2066 756e 6461 6d65 6e74 616c   the fundamental
+000215a0: 2066 7265 7175 656e 6379 2e0a 2020 2020   frequency..    
+000215b0: 2020 2020 2320 416c 736f 206e 6565 6465      # Also neede
+000215c0: 6420 6173 2065 7863 6974 6174 696f 6e20  d as excitation 
+000215d0: 666f 7220 7374 6561 6479 2073 7461 7465  for steady state
+000215e0: 2074 6865 726d 616c 2073 696d 756c 6174   thermal simulat
+000215f0: 696f 6e73 0a0a 2020 2020 2020 2020 2320  ions..        # 
+00021600: 5369 6e67 6c65 2057 696e 6469 6e67 730a  Single Windings.
+00021610: 2020 2020 2020 2020 666f 7220 7769 6e64          for wind
+00021620: 696e 675f 6e75 6d62 6572 2069 6e20 7261  ing_number in ra
+00021630: 6e67 6528 6c65 6e28 7365 6c66 2e77 696e  nge(len(self.win
+00021640: 6469 6e67 7329 293a 0a20 2020 2020 2020  dings)):.       
+00021650: 2020 2020 2023 204e 756d 6265 7220 6f66       # Number of
+00021660: 2074 7572 6e73 2070 6572 2063 6f6e 6475   turns per condu
+00021670: 6374 6f72 0a20 2020 2020 2020 2020 2020  ctor.           
+00021680: 2074 7572 6e73 203d 2030 0a20 2020 2020   turns = 0.     
+00021690: 2020 2020 2020 2066 6f72 2077 7720 696e         for ww in
+000216a0: 2073 656c 662e 7769 6e64 696e 675f 7769   self.winding_wi
+000216b0: 6e64 6f77 733a 0a20 2020 2020 2020 2020  ndows:.         
+000216c0: 2020 2020 2020 2066 6f72 2076 7777 2069         for vww i
+000216d0: 6e20 7777 2e76 6972 7475 616c 5f77 696e  n ww.virtual_win
+000216e0: 6469 6e67 5f77 696e 646f 7773 3a0a 2020  ding_windows:.  
+000216f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021700: 2020 666f 7220 636f 6e64 7563 746f 7220    for conductor 
+00021710: 696e 2076 7777 2e77 696e 6469 6e67 733a  in vww.windings:
+00021720: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021730: 2020 2020 2020 2020 2069 6620 636f 6e64           if cond
+00021740: 7563 746f 722e 7769 6e64 696e 675f 6e75  uctor.winding_nu
+00021750: 6d62 6572 203d 3d20 7769 6e64 696e 675f  mber == winding_
+00021760: 6e75 6d62 6572 3a0a 2020 2020 2020 2020  number:.        
+00021770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021780: 2020 2020 7475 726e 7320 2b3d 2076 7777      turns += vww
+00021790: 2e74 7572 6e73 5b63 6f6e 6475 6374 6f72  .turns[conductor
+000217a0: 2e77 696e 6469 6e67 5f6e 756d 6265 725d  .winding_number]
+000217b0: 0a0a 2020 2020 2020 2020 2020 2020 6c6f  ..            lo
+000217c0: 675f 6469 6374 5b22 746f 7461 6c5f 6c6f  g_dict["total_lo
+000217d0: 7373 6573 225d 5b66 2277 696e 6469 6e67  sses"][f"winding
+000217e0: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
+000217f0: 2b20 317d 225d 203d 207b 0a20 2020 2020  + 1}"] = {.     
+00021800: 2020 2020 2020 2020 2020 2022 746f 7461             "tota
+00021810: 6c22 3a20 7375 6d28 7375 6d28 6c6f 675f  l": sum(sum(log_
+00021820: 6469 6374 5b22 7369 6e67 6c65 5f73 7765  dict["single_swe
+00021830: 6570 7322 5d5b 645d 5b66 2277 696e 6469  eps"][d][f"windi
+00021840: 6e67 7b77 696e 6469 6e67 5f6e 756d 6265  ng{winding_numbe
+00021850: 7220 2b20 317d 225d 5b22 7475 726e 5f6c  r + 1}"]["turn_l
+00021860: 6f73 7365 7322 5d29 2066 6f72 2064 2069  osses"]) for d i
+00021870: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+00021880: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+00021890: 616e 6765 286c 656e 286c 6f67 5f64 6963  ange(len(log_dic
+000218a0: 745b 2273 696e 676c 655f 7377 6565 7073  t["single_sweeps
+000218b0: 225d 2929 292c 0a20 2020 2020 2020 2020  "]))),.         
+000218c0: 2020 2020 2020 2022 7475 726e 7322 3a20         "turns": 
+000218d0: 5b5d 0a20 2020 2020 2020 2020 2020 207d  [].            }
+000218e0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+000218f0: 7365 6c66 2e77 696e 6469 6e67 735b 7769  self.windings[wi
+00021900: 6e64 696e 675f 6e75 6d62 6572 5d2e 7061  nding_number].pa
+00021910: 7261 6c6c 656c 3a0a 2020 2020 2020 2020  rallel:.        
+00021920: 2020 2020 2020 2020 6c6f 675f 6469 6374          log_dict
+00021930: 5b22 746f 7461 6c5f 6c6f 7373 6573 225d  ["total_losses"]
+00021940: 5b66 2277 696e 6469 6e67 7b77 696e 6469  [f"winding{windi
+00021950: 6e67 5f6e 756d 6265 7220 2b20 317d 225d  ng_number + 1}"]
+00021960: 5b22 7475 726e 7322 5d2e 6170 7065 6e64  ["turns"].append
+00021970: 280a 2020 2020 2020 2020 2020 2020 2020  (.              
+00021980: 2020 2020 2020 7375 6d28 6c6f 675f 6469        sum(log_di
+00021990: 6374 5b22 7369 6e67 6c65 5f73 7765 6570  ct["single_sweep
+000219a0: 7322 5d5b 645d 5b66 2277 696e 6469 6e67  s"][d][f"winding
+000219b0: 7b77 696e 6469 6e67 5f6e 756d 6265 7220  {winding_number 
+000219c0: 2b20 317d 225d 5b22 7475 726e 5f6c 6f73  + 1}"]["turn_los
+000219d0: 7365 7322 5d5b 305d 2066 6f72 2064 2069  ses"][0] for d i
+000219e0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+000219f0: 2020 2020 2020 2020 2020 7261 6e67 6528            range(
+00021a00: 6c65 6e28 6c6f 675f 6469 6374 5b22 7369  len(log_dict["si
+00021a10: 6e67 6c65 5f73 7765 6570 7322 5d29 2929  ngle_sweeps"])))
+00021a20: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00021a30: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+00021a40: 2020 2020 666f 7220 7475 726e 2069 6e20      for turn in 
+00021a50: 7261 6e67 6528 302c 2074 7572 6e73 293a  range(0, turns):
+00021a60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00021a70: 2020 2020 206c 6f67 5f64 6963 745b 2274       log_dict["t
+00021a80: 6f74 616c 5f6c 6f73 7365 7322 5d5b 6622  otal_losses"][f"
+00021a90: 7769 6e64 696e 677b 7769 6e64 696e 675f  winding{winding_
+00021aa0: 6e75 6d62 6572 202b 2031 7d22 5d5b 2274  number + 1}"]["t
+00021ab0: 7572 6e73 225d 2e61 7070 656e 6428 0a20  urns"].append(. 
+00021ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021ad0: 2020 2020 2020 2073 756d 286c 6f67 5f64         sum(log_d
+00021ae0: 6963 745b 2273 696e 676c 655f 7377 6565  ict["single_swee
+00021af0: 7073 225d 5b64 5d5b 6622 7769 6e64 696e  ps"][d][f"windin
+00021b00: 677b 7769 6e64 696e 675f 6e75 6d62 6572  g{winding_number
+00021b10: 202b 2031 7d22 5d5b 2274 7572 6e5f 6c6f   + 1}"]["turn_lo
+00021b20: 7373 6573 225d 5b74 7572 6e5d 2066 6f72  sses"][turn] for
+00021b30: 2064 2069 6e0a 2020 2020 2020 2020 2020   d in.          
+00021b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021b50: 2020 7261 6e67 6528 6c65 6e28 6c6f 675f    range(len(log_
+00021b60: 6469 6374 5b22 7369 6e67 6c65 5f73 7765  dict["single_swe
+00021b70: 6570 7322 5d29 2929 290a 0a20 2020 2020  eps"]))))..     
+00021b80: 2020 2023 2057 696e 6469 6e67 2028 616c     # Winding (al
+00021b90: 6c20 7769 6e64 696e 6773 290a 2020 2020  l windings).    
+00021ba0: 2020 2020 6c6f 675f 6469 6374 5b22 746f      log_dict["to
+00021bb0: 7461 6c5f 6c6f 7373 6573 225d 5b22 616c  tal_losses"]["al
+00021bc0: 6c5f 7769 6e64 696e 6773 225d 203d 2073  l_windings"] = s
+00021bd0: 756d 280a 2020 2020 2020 2020 2020 2020  um(.            
+00021be0: 6c6f 675f 6469 6374 5b22 7369 6e67 6c65  log_dict["single
+00021bf0: 5f73 7765 6570 7322 5d5b 645d 5b22 616c  _sweeps"][d]["al
+00021c00: 6c5f 7769 6e64 696e 675f 6c6f 7373 6573  l_winding_losses
+00021c10: 225d 2066 6f72 2064 2069 6e20 7261 6e67  "] for d in rang
+00021c20: 6528 6c65 6e28 6c6f 675f 6469 6374 5b22  e(len(log_dict["
+00021c30: 7369 6e67 6c65 5f73 7765 6570 7322 5d29  single_sweeps"])
+00021c40: 2929 0a0a 2020 2020 2020 2020 2320 436f  ))..        # Co
+00021c50: 7265 0a20 2020 2020 2020 206c 6f67 5f64  re.        log_d
+00021c60: 6963 745b 2274 6f74 616c 5f6c 6f73 7365  ict["total_losse
+00021c70: 7322 5d5b 2265 6464 795f 636f 7265 225d  s"]["eddy_core"]
+00021c80: 203d 2073 756d 280a 2020 2020 2020 2020   = sum(.        
+00021c90: 2020 2020 6c6f 675f 6469 6374 5b22 7369      log_dict["si
+00021ca0: 6e67 6c65 5f73 7765 6570 7322 5d5b 645d  ngle_sweeps"][d]
+00021cb0: 5b22 636f 7265 5f65 6464 795f 6c6f 7373  ["core_eddy_loss
+00021cc0: 6573 225d 2066 6f72 2064 2069 6e20 7261  es"] for d in ra
+00021cd0: 6e67 6528 6c65 6e28 6c6f 675f 6469 6374  nge(len(log_dict
+00021ce0: 5b22 7369 6e67 6c65 5f73 7765 6570 7322  ["single_sweeps"
+00021cf0: 5d29 2929 0a0a 2020 2020 2020 2020 6966  ])))..        if
+00021d00: 2069 7369 6e73 7461 6e63 6528 636f 7265   isinstance(core
+00021d10: 5f68 7973 745f 6c6f 7373 6573 2c20 4c69  _hyst_losses, Li
+00021d20: 7374 2920 6f72 2069 7369 6e73 7461 6e63  st) or isinstanc
+00021d30: 6528 636f 7265 5f68 7973 745f 6c6f 7373  e(core_hyst_loss
+00021d40: 6573 2c20 6e70 2e6e 6461 7272 6179 293a  es, np.ndarray):
+00021d50: 0a20 2020 2020 2020 2020 2020 2023 206f  .            # o
+00021d60: 7665 7277 7269 7465 2074 6865 2068 7973  verwrite the hys
+00021d70: 7465 7265 7369 7320 6c6f 7373 6573 2066  teresis losses f
+00021d80: 6f72 2065 6163 6820 636f 7265 2070 6172  or each core par
+00021d90: 740a 2020 2020 2020 2020 2020 2020 2320  t.            # 
+00021da0: 4e6f 7465 3a20 5468 6973 2067 656e 6572  Note: This gener
+00021db0: 6174 696f 6e20 4d55 5354 2042 4520 6265  ation MUST BE be
+00021dc0: 666f 7265 2073 756d 6d69 6e67 2075 7020  fore summing up 
+00021dd0: 7468 6520 746f 7461 6c20 636f 7265 206c  the total core l
+00021de0: 6f73 7365 730a 2020 2020 2020 2020 2020  osses.          
+00021df0: 2020 2320 312e 2073 6574 2061 6c6c 2068    # 1. set all h
+00021e00: 7973 7465 7265 7369 7320 6c6f 7373 6573  ysteresis losses
+00021e10: 2066 6f72 2061 6c6c 2066 7265 7175 656e   for all frequen
+00021e20: 6369 6573 2074 6f20 7a65 726f 0a20 2020  cies to zero.   
+00021e30: 2020 2020 2020 2020 2023 2032 2e20 7772           # 2. wr
+00021e40: 6974 6520 7468 6520 6578 7465 726e 616c  ite the external
+00021e50: 2067 6976 656e 2063 6f72 655f 6879 7374   given core_hyst
+00021e60: 5f6c 6f73 7365 7320 746f 2074 6865 2066  _losses to the f
+00021e70: 756e 6461 6d65 6e74 616c 2066 7265 7175  undamental frequ
+00021e80: 656e 6379 0a20 2020 2020 2020 2020 2020  ency.           
+00021e90: 2066 6f72 2073 696e 676c 655f 7369 6d75   for single_simu
+00021ea0: 6c61 7469 6f6e 2069 6e20 7261 6e67 6528  lation in range(
+00021eb0: 302c 206e 756d 6265 725f 6672 6571 7565  0, number_freque
+00021ec0: 6e63 795f 7369 6d75 6c61 7469 6f6e 7329  ncy_simulations)
+00021ed0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00021ee0: 2020 6966 2073 696e 676c 655f 7369 6d75    if single_simu
+00021ef0: 6c61 7469 6f6e 203d 3d20 6675 6e64 616d  lation == fundam
+00021f00: 656e 7461 6c5f 696e 6465 783a 0a20 2020  ental_index:.   
+00021f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021f20: 2066 6f72 2063 6f72 655f 7061 7274 2069   for core_part i
+00021f30: 6e20 7261 6e67 6528 6c65 6e28 7365 6c66  n range(len(self
+00021f40: 2e6d 6573 682e 706c 616e 655f 7375 7266  .mesh.plane_surf
+00021f50: 6163 655f 636f 7265 2929 3a0a 2020 2020  ace_core)):.    
+00021f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021f70: 2020 2020 6c6f 675f 6469 6374 5b22 7369      log_dict["si
 00021f80: 6e67 6c65 5f73 7765 6570 7322 5d5b 7369  ngle_sweeps"][si
 00021f90: 6e67 6c65 5f73 696d 756c 6174 696f 6e5d  ngle_simulation]
-00021fa0: 5b0a 2020 2020 2020 2020 2020 2020 2020  [.              
-00021fb0: 2020 2020 2020 2020 2020 2020 2020 2263                "c
-00021fc0: 6f72 655f 7061 7274 7322 5d5b 6622 636f  ore_parts"][f"co
+00021fa0: 5b22 636f 7265 5f70 6172 7473 225d 5b0a  ["core_parts"][.
+00021fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021fc0: 2020 2020 2020 2020 2020 2020 6622 636f              f"co
 00021fd0: 7265 5f70 6172 745f 7b63 6f72 655f 7061  re_part_{core_pa
-00021fe0: 7274 202b 2031 7d22 5d5b 2265 6464 795f  rt + 1}"]["eddy_
-00021ff0: 6c6f 7373 6573 225d 0a20 2020 2020 2020  losses"].       
-00022000: 2020 2020 2020 2020 2020 2020 206c 6f67               log
-00022010: 5f64 6963 745b 2273 696e 676c 655f 7377  _dict["single_sw
-00022020: 6565 7073 225d 5b73 696e 676c 655f 7369  eeps"][single_si
-00022030: 6d75 6c61 7469 6f6e 5d5b 2263 6f72 655f  mulation]["core_
-00022040: 6879 7374 5f6c 6f73 7365 7322 5d20 3d20  hyst_losses"] = 
-00022050: 300a 2020 2020 2020 2020 2020 2020 6c6f  0.            lo
-00022060: 675f 6469 6374 5b22 746f 7461 6c5f 6c6f  g_dict["total_lo
-00022070: 7373 6573 225d 5b22 6879 7374 5f63 6f72  sses"]["hyst_cor
-00022080: 655f 6675 6e64 616d 656e 7461 6c5f 6672  e_fundamental_fr
-00022090: 6571 225d 203d 2073 756d 2863 6f72 655f  eq"] = sum(core_
-000220a0: 6879 7374 5f6c 6f73 7365 7329 0a20 2020  hyst_losses).   
-000220b0: 2020 2020 2065 6c69 6620 636f 7265 5f68       elif core_h
-000220c0: 7973 745f 6c6f 7373 6573 2069 7320 6e6f  yst_losses is no
-000220d0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-000220e0: 2020 2020 7261 6973 6520 5661 6c75 6545      raise ValueE
-000220f0: 7272 6f72 2822 4578 7465 726e 616c 2063  rror("External c
-00022100: 6f72 6520 6879 7374 6572 6573 6973 206c  ore hysteresis l
-00022110: 6f73 7365 7320 6172 6520 6769 7665 6e20  osses are given 
-00022120: 696e 206e 6f6e 2d4c 6973 7420 666f 726d  in non-List form
-00022130: 6174 2229 0a20 2020 2020 2020 2065 6c73  at").        els
-00022140: 653a 0a20 2020 2020 2020 2020 2020 206c  e:.            l
-00022150: 6f67 5f64 6963 745b 2274 6f74 616c 5f6c  og_dict["total_l
-00022160: 6f73 7365 7322 5d5b 2268 7973 745f 636f  osses"]["hyst_co
-00022170: 7265 5f66 756e 6461 6d65 6e74 616c 5f66  re_fundamental_f
-00022180: 7265 7122 5d20 3d20 6c6f 675f 6469 6374  req"] = log_dict
-00022190: 5b22 7369 6e67 6c65 5f73 7765 6570 7322  ["single_sweeps"
-000221a0: 5d5b 6675 6e64 616d 656e 7461 6c5f 696e  ][fundamental_in
-000221b0: 6465 785d 5b0a 2020 2020 2020 2020 2020  dex][.          
-000221c0: 2020 2020 2020 2263 6f72 655f 6879 7374        "core_hyst
-000221d0: 5f6c 6f73 7365 7322 5d0a 0a20 2020 2020  _losses"]..     
-000221e0: 2020 2023 2049 6e20 7468 6520 746f 7461     # In the tota
-000221f0: 6c20 6c6f 7373 6573 2063 616c 6375 6c61  l losses calcula
-00022200: 7469 6f6e 2c20 696e 6469 7669 6475 616c  tion, individual
-00022210: 2063 6f72 6520 7061 7274 206c 6f73 7365   core part losse
-00022220: 7320 6172 6520 616c 736f 2061 6363 6f75  s are also accou
-00022230: 6e74 6564 2066 6f72 0a20 2020 2020 2020  nted for.       
-00022240: 2066 6f72 2063 6f72 655f 7061 7274 2069   for core_part i
-00022250: 6e20 7261 6e67 6528 6c65 6e28 7365 6c66  n range(len(self
-00022260: 2e6d 6573 682e 706c 616e 655f 7375 7266  .mesh.plane_surf
-00022270: 6163 655f 636f 7265 2929 3a0a 2020 2020  ace_core)):.    
-00022280: 2020 2020 2020 2020 6c6f 675f 6469 6374          log_dict
-00022290: 5b22 746f 7461 6c5f 6c6f 7373 6573 225d  ["total_losses"]
-000222a0: 5b66 2274 6f74 616c 5f63 6f72 655f 7061  [f"total_core_pa
-000222b0: 7274 5f7b 636f 7265 5f70 6172 7420 2b20  rt_{core_part + 
-000222c0: 317d 225d 203d 2030 0a20 2020 2020 2020  1}"] = 0.       
-000222d0: 2020 2020 206c 6f67 5f64 6963 745b 2274       log_dict["t
-000222e0: 6f74 616c 5f6c 6f73 7365 7322 5d5b 6622  otal_losses"][f"
-000222f0: 746f 7461 6c5f 6564 6479 5f63 6f72 655f  total_eddy_core_
-00022300: 7061 7274 5f7b 636f 7265 5f70 6172 7420  part_{core_part 
-00022310: 2b20 317d 225d 203d 2030 0a20 2020 2020  + 1}"] = 0.     
-00022320: 2020 2020 2020 206c 6f67 5f64 6963 745b         log_dict[
-00022330: 2274 6f74 616c 5f6c 6f73 7365 7322 5d5b  "total_losses"][
-00022340: 6622 746f 7461 6c5f 6879 7374 5f63 6f72  f"total_hyst_cor
-00022350: 655f 7061 7274 5f7b 636f 7265 5f70 6172  e_part_{core_par
-00022360: 7420 2b20 317d 225d 203d 2030 0a0a 2020  t + 1}"] = 0..  
-00022370: 2020 2020 2020 2320 7377 6565 7020 7468        # sweep th
-00022380: 726f 7567 6820 616c 6c20 6672 6571 7565  rough all freque
-00022390: 6e63 7920 7369 6d75 6c61 7469 6f6e 7320  ncy simulations 
-000223a0: 616e 6420 7375 6d20 7570 2074 6865 2063  and sum up the c
-000223b0: 6f72 655f 7061 7274 5f78 206c 6f73 7365  ore_part_x losse
-000223c0: 730a 2020 2020 2020 2020 666f 7220 7369  s.        for si
-000223d0: 6e67 6c65 5f73 696d 756c 6174 696f 6e20  ngle_simulation 
-000223e0: 696e 2072 616e 6765 2830 2c20 6e75 6d62  in range(0, numb
-000223f0: 6572 5f66 7265 7175 656e 6379 5f73 696d  er_frequency_sim
-00022400: 756c 6174 696f 6e73 293a 0a20 2020 2020  ulations):.     
-00022410: 2020 2020 2020 2066 6f72 2063 6f72 655f         for core_
-00022420: 7061 7274 2069 6e20 7261 6e67 6528 6c65  part in range(le
-00022430: 6e28 7365 6c66 2e6d 6573 682e 706c 616e  n(self.mesh.plan
-00022440: 655f 7375 7266 6163 655f 636f 7265 2929  e_surface_core))
-00022450: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00022460: 2020 6c6f 675f 6469 6374 5b22 746f 7461    log_dict["tota
-00022470: 6c5f 6c6f 7373 6573 225d 5b66 2274 6f74  l_losses"][f"tot
-00022480: 616c 5f63 6f72 655f 7061 7274 5f7b 636f  al_core_part_{co
-00022490: 7265 5f70 6172 7420 2b20 317d 225d 202b  re_part + 1}"] +
-000224a0: 3d20 6c6f 675f 6469 6374 5b22 7369 6e67  = log_dict["sing
-000224b0: 6c65 5f73 7765 6570 7322 5d5b 0a20 2020  le_sweeps"][.   
-000224c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000224d0: 2073 696e 676c 655f 7369 6d75 6c61 7469   single_simulati
-000224e0: 6f6e 5d5b 2263 6f72 655f 7061 7274 7322  on]["core_parts"
-000224f0: 5d5b 6622 636f 7265 5f70 6172 745f 7b63  ][f"core_part_{c
-00022500: 6f72 655f 7061 7274 202b 2031 7d22 5d5b  ore_part + 1}"][
-00022510: 6622 746f 7461 6c5f 636f 7265 5f70 6172  f"total_core_par
-00022520: 745f 7b63 6f72 655f 7061 7274 202b 2031  t_{core_part + 1
-00022530: 7d22 5d0a 2020 2020 2020 2020 2020 2020  }"].            
-00022540: 2020 2020 6c6f 675f 6469 6374 5b22 746f      log_dict["to
-00022550: 7461 6c5f 6c6f 7373 6573 225d 5b66 2274  tal_losses"][f"t
-00022560: 6f74 616c 5f65 6464 795f 636f 7265 5f70  otal_eddy_core_p
-00022570: 6172 745f 7b63 6f72 655f 7061 7274 202b  art_{core_part +
-00022580: 2031 7d22 5d20 2b3d 205c 0a20 2020 2020   1}"] += \.     
-00022590: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-000225a0: 6f67 5f64 6963 745b 2273 696e 676c 655f  og_dict["single_
-000225b0: 7377 6565 7073 225d 5b73 696e 676c 655f  sweeps"][single_
-000225c0: 7369 6d75 6c61 7469 6f6e 5d5b 2263 6f72  simulation]["cor
-000225d0: 655f 7061 7274 7322 5d5b 6622 636f 7265  e_parts"][f"core
-000225e0: 5f70 6172 745f 7b63 6f72 655f 7061 7274  _part_{core_part
-000225f0: 202b 2031 7d22 5d5b 0a20 2020 2020 2020   + 1}"][.       
-00022600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022610: 2022 6564 6479 5f6c 6f73 7365 7322 5d0a   "eddy_losses"].
-00022620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022630: 6c6f 675f 6469 6374 5b22 746f 7461 6c5f  log_dict["total_
-00022640: 6c6f 7373 6573 225d 5b66 2274 6f74 616c  losses"][f"total
-00022650: 5f68 7973 745f 636f 7265 5f70 6172 745f  _hyst_core_part_
-00022660: 7b63 6f72 655f 7061 7274 202b 2031 7d22  {core_part + 1}"
-00022670: 5d20 2b3d 205c 0a20 2020 2020 2020 2020  ] += \.         
-00022680: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
-00022690: 6963 745b 2273 696e 676c 655f 7377 6565  ict["single_swee
-000226a0: 7073 225d 5b73 696e 676c 655f 7369 6d75  ps"][single_simu
-000226b0: 6c61 7469 6f6e 5d5b 2263 6f72 655f 7061  lation]["core_pa
-000226c0: 7274 7322 5d5b 6622 636f 7265 5f70 6172  rts"][f"core_par
-000226d0: 745f 7b63 6f72 655f 7061 7274 202b 2031  t_{core_part + 1
-000226e0: 7d22 5d5b 0a20 2020 2020 2020 2020 2020  }"][.           
-000226f0: 2020 2020 2020 2020 2020 2020 2022 6879               "hy
-00022700: 7374 5f6c 6f73 7365 7322 5d0a 0a20 2020  st_losses"]..   
-00022710: 2020 2020 2023 2054 6f74 616c 206c 6f73       # Total los
-00022720: 7365 7320 6f66 2069 6e64 7563 7469 7665  ses of inductive
-00022730: 2063 6f6d 706f 6e65 6e74 2061 6363 6f72   component accor
-00022740: 6469 6e67 2074 6f20 7369 6e67 6c65 206f  ding to single o
-00022750: 7220 7377 6565 7020 7369 6d75 6c61 7469  r sweep simulati
-00022760: 6f6e 0a20 2020 2020 2020 206c 6f67 5f64  on.        log_d
-00022770: 6963 745b 2274 6f74 616c 5f6c 6f73 7365  ict["total_losse
-00022780: 7322 5d5b 2263 6f72 6522 5d20 3d20 6c6f  s"]["core"] = lo
-00022790: 675f 6469 6374 5b22 746f 7461 6c5f 6c6f  g_dict["total_lo
-000227a0: 7373 6573 225d 5b22 6879 7374 5f63 6f72  sses"]["hyst_cor
-000227b0: 655f 6675 6e64 616d 656e 7461 6c5f 6672  e_fundamental_fr
-000227c0: 6571 225d 202b 205c 0a20 2020 2020 2020  eq"] + \.       
-000227d0: 2020 2020 206c 6f67 5f64 6963 745b 2274       log_dict["t
-000227e0: 6f74 616c 5f6c 6f73 7365 7322 5d5b 2265  otal_losses"]["e
-000227f0: 6464 795f 636f 7265 225d 0a0a 2020 2020  ddy_core"]..    
-00022800: 2020 2020 6c6f 675f 6469 6374 5b22 746f      log_dict["to
-00022810: 7461 6c5f 6c6f 7373 6573 225d 5b22 746f  tal_losses"]["to
-00022820: 7461 6c5f 6c6f 7373 6573 225d 203d 206c  tal_losses"] = l
-00022830: 6f67 5f64 6963 745b 2274 6f74 616c 5f6c  og_dict["total_l
-00022840: 6f73 7365 7322 5d5b 2268 7973 745f 636f  osses"]["hyst_co
-00022850: 7265 5f66 756e 6461 6d65 6e74 616c 5f66  re_fundamental_f
-00022860: 7265 7122 5d20 2b20 5c0a 2020 2020 2020  req"] + \.      
-00022870: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
-00022880: 746f 7461 6c5f 6c6f 7373 6573 225d 5b22  total_losses"]["
-00022890: 6564 6479 5f63 6f72 6522 5d20 2b20 6c6f  eddy_core"] + lo
-000228a0: 675f 6469 6374 5b22 746f 7461 6c5f 6c6f  g_dict["total_lo
-000228b0: 7373 6573 225d 5b22 616c 6c5f 7769 6e64  sses"]["all_wind
-000228c0: 696e 6773 225d 0a0a 2020 2020 2020 2020  ings"]..        
-000228d0: 2320 6669 6e61 6c5f 6c6f 675f 6469 6374  # final_log_dict
-000228e0: 3a20 6672 6571 2064 6963 7420 2b20 636f  : freq dict + co
-000228f0: 6d6d 6f6e 2064 6963 740a 2020 2020 2020  mmon dict.      
-00022900: 2020 636f 6d6d 6f6e 5f6c 6f67 5f64 6963    common_log_dic
-00022910: 7420 3d20 7365 6c66 2e77 7269 7465 5f61  t = self.write_a
-00022920: 6e64 5f63 616c 6375 6c61 7465 5f63 6f6d  nd_calculate_com
-00022930: 6d6f 6e5f 6c6f 6728 290a 2020 2020 2020  mon_log().      
-00022940: 2020 6669 6e61 6c5f 6c6f 675f 6469 6374    final_log_dict
-00022950: 203d 207b 2a2a 6c6f 675f 6469 6374 2c20   = {**log_dict, 
-00022960: 2a2a 636f 6d6d 6f6e 5f6c 6f67 5f64 6963  **common_log_dic
-00022970: 747d 0a20 2020 2020 2020 2023 203d 3d3d  t}.        # ===
-00022980: 3d3d 3d20 7361 7665 2064 6174 6120 6173  === save data as
-00022990: 204a 534f 4e20 3d3d 3d3d 3d3d 0a20 2020   JSON ======.   
-000229a0: 2020 2020 2077 6974 6820 6f70 656e 2873       with open(s
-000229b0: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
-000229c0: 6d5f 7265 7375 6c74 735f 6c6f 675f 7061  m_results_log_pa
-000229d0: 7468 2c20 2277 2b22 2c20 656e 636f 6469  th, "w+", encodi
-000229e0: 6e67 3d27 7574 662d 3827 2920 6173 206f  ng='utf-8') as o
-000229f0: 7574 6669 6c65 3a0a 2020 2020 2020 2020  utfile:.        
-00022a00: 2020 2020 6a73 6f6e 2e64 756d 7028 6669      json.dump(fi
-00022a10: 6e61 6c5f 6c6f 675f 6469 6374 2c20 6f75  nal_log_dict, ou
-00022a20: 7466 696c 652c 2069 6e64 656e 743d 322c  tfile, indent=2,
-00022a30: 2065 6e73 7572 655f 6173 6369 693d 4661   ensure_ascii=Fa
-00022a40: 6c73 6529 0a0a 2020 2020 6465 6620 6361  lse)..    def ca
-00022a50: 6c63 756c 6174 655f 616e 645f 7772 6974  lculate_and_writ
-00022a60: 655f 7469 6d65 5f64 6f6d 6169 6e5f 6c6f  e_time_domain_lo
-00022a70: 6728 7365 6c66 293a 0a20 2020 2020 2020  g(self):.       
-00022a80: 2022 2222 0a20 2020 2020 2020 2050 726f   """.        Pro
-00022a90: 6365 7373 2061 6e64 206c 6f67 2074 6865  cess and log the
-00022aa0: 2072 6573 756c 7473 206f 6620 7469 6d65   results of time
-00022ab0: 2064 6f6d 6169 6e20 7369 6d75 6c61 7469   domain simulati
-00022ac0: 6f6e 732e 0a0a 2020 2020 2020 2020 5265  ons...        Re
-00022ad0: 6164 7320 6261 636b 2074 6865 2072 6573  ads back the res
-00022ae0: 756c 7473 2066 726f 6d20 7468 6520 7369  ults from the si
-00022af0: 6d75 6c61 7469 6f6e 206f 7574 7075 7420  mulation output 
-00022b00: 6669 6c65 7320 616e 6420 7374 6f72 6573  files and stores
-00022b10: 2074 6865 6d20 696e 2061 204a 534f 4e20   them in a JSON 
-00022b20: 666f 726d 6174 2e0a 2020 2020 2020 2020  format..        
-00022b30: 5468 6520 6c6f 6720 696e 636c 7564 6573  The log includes
-00022b40: 2064 6574 6169 6c65 6420 696e 666f 726d   detailed inform
-00022b50: 6174 696f 6e20 6162 6f75 7420 6561 6368  ation about each
-00022b60: 2074 696d 6520 7374 6570 206f 6620 7468   time step of th
-00022b70: 6520 7369 6d75 6c61 7469 6f6e 2c20 6173  e simulation, as
-00022b80: 2077 656c 6c20 6173 2061 7665 7261 6765   well as average
-00022b90: 2061 6e64 2074 6f74 616c 206c 6f73 7365   and total losse
-00022ba0: 732e 0a20 2020 2020 2020 2054 6865 206c  s..        The l
-00022bb0: 6f67 6765 6420 696e 666f 726d 6174 696f  ogged informatio
-00022bc0: 6e20 696e 636c 7564 6573 3a0a 2020 2020  n includes:.    
-00022bd0: 2020 2020 2d20 5469 6d65 2073 7465 702d      - Time step-
-00022be0: 7370 6563 6966 6963 2064 6174 6120 7375  specific data su
-00022bf0: 6368 2061 7320 6375 7272 656e 7420 2849  ch as current (I
-00022c00: 292c 2076 6f6c 7461 6765 2028 5629 2c20  ), voltage (V), 
-00022c10: 616e 6420 666c 7578 2066 6f72 2065 6163  and flux for eac
-00022c20: 6820 7769 6e64 696e 672e 0a20 2020 2020  h winding..     
-00022c30: 2020 202d 2041 7665 7261 6765 206c 6f73     - Average los
-00022c40: 7365 732c 2069 6e63 6c75 6469 6e67 2063  ses, including c
-00022c50: 6f72 6520 6564 6479 2061 6e64 2068 7973  ore eddy and hys
-00022c60: 7465 7265 7369 7320 6c6f 7373 6573 2e0a  teresis losses..
-00022c70: 2020 2020 2020 2020 2d20 546f 7461 6c20          - Total 
-00022c80: 6c6f 7373 6573 2066 6f72 2074 6865 2065  losses for the e
-00022c90: 6e74 6972 6520 7369 6d75 6c61 7469 6f6e  ntire simulation
-00022ca0: 2e0a 2020 2020 2020 2020 2d20 4164 6469  ..        - Addi
-00022cb0: 7469 6f6e 616c 2063 6f72 6520 7061 7274  tional core part
-00022cc0: 206c 6f73 7365 7320 6966 206d 756c 7469   losses if multi
-00022cd0: 706c 6520 636f 7265 2070 6172 7473 2061  ple core parts a
-00022ce0: 7265 2070 7265 7365 6e74 2e0a 0a20 2020  re present...   
-00022cf0: 2020 2020 2054 6865 206d 6574 686f 6420       The method 
-00022d00: 616c 736f 2063 6f6d 6269 6e65 7320 7468  also combines th
-00022d10: 6973 2074 696d 6520 646f 6d61 696e 2d73  is time domain-s
-00022d20: 7065 6369 6669 6320 6461 7461 2077 6974  pecific data wit
-00022d30: 6820 636f 6d6d 6f6e 2073 696d 756c 6174  h common simulat
-00022d40: 696f 6e20 6461 7461 0a20 2020 2020 2020  ion data.       
-00022d50: 2028 6c69 6b65 2073 696d 756c 6174 696f   (like simulatio
-00022d60: 6e20 7365 7474 696e 6773 2920 6765 6e65  n settings) gene
-00022d70: 7261 7465 6420 6279 2074 6865 2077 7269  rated by the wri
-00022d80: 7465 5f61 6e64 5f63 616c 6375 6c61 7465  te_and_calculate
-00022d90: 5f63 6f6d 6d6f 6e5f 6c6f 6720 6d65 7468  _common_log meth
-00022da0: 6f64 2e0a 2020 2020 2020 2020 2222 220a  od..        """.
-00022db0: 2020 2020 2020 2020 2320 6c6f 675f 6469          # log_di
-00022dc0: 6374 203d 207b 2274 696d 655f 7374 6570  ct = {"time_step
-00022dd0: 7322 3a20 5b5d 7d0a 2020 2020 2020 2020  s": []}.        
-00022de0: 6c6f 675f 6469 6374 203d 207b 2274 696d  log_dict = {"tim
-00022df0: 655f 646f 6d61 696e 5f73 696d 756c 6174  e_domain_simulat
-00022e00: 696f 6e22 3a20 5b5d 2c20 2261 7665 7261  ion": [], "avera
-00022e10: 6765 5f6c 6f73 7365 7322 3a20 7b7d 2c20  ge_losses": {}, 
-00022e20: 2274 6f74 616c 5f6c 6f73 7365 7322 3a20  "total_losses": 
-00022e30: 7b7d 7d0a 2020 2020 2020 2020 2320 466c  {}}.        # Fl
-00022e40: 6174 7465 6e20 7468 6520 7365 6c66 2e74  atten the self.t
-00022e50: 696d 650a 2020 2020 2020 2020 2320 5769  ime.        # Wi
-00022e60: 6e64 696e 6720 6e61 6d65 7320 6172 6520  nding names are 
-00022e70: 6e65 6564 6564 2074 6f20 6669 6e64 2074  needed to find t
-00022e80: 6865 206c 6f67 6769 6e67 2070 6174 680a  he logging path.
-00022e90: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
-00022ea0: 6e61 6d65 203d 205b 2257 696e 6469 6e67  name = ["Winding
-00022eb0: 5f22 202b 2073 7472 2869 2920 666f 7220  _" + str(i) for 
-00022ec0: 6920 696e 2072 616e 6765 2831 2c20 6c65  i in range(1, le
-00022ed0: 6e28 7365 6c66 2e77 696e 6469 6e67 7329  n(self.windings)
-00022ee0: 202b 2031 295d 0a20 2020 2020 2020 2023   + 1)].        #
-00022ef0: 2066 6c61 745f 7469 6d65 203d 205b 6974   flat_time = [it
-00022f00: 656d 2066 6f72 2073 7562 6c69 7374 2069  em for sublist i
-00022f10: 6e20 7365 6c66 2e74 696d 6520 666f 7220  n self.time for 
-00022f20: 6974 656d 2069 6e20 7375 626c 6973 745d  item in sublist]
-00022f30: 0a0a 2020 2020 2020 2020 2320 536f 6d65  ..        # Some
-00022f40: 2069 6d70 6f72 7461 6e74 2070 6172 616d   important param
-00022f50: 6574 6572 7320 696e 206c 6f67 2066 696c  eters in log fil
-00022f60: 650a 2020 2020 2020 2020 5469 6d65 5f64  e.        Time_d
-00022f70: 6f6d 6169 6e5f 6461 7461 5f64 6963 7420  omain_data_dict 
-00022f80: 3d20 7b7d 0a20 2020 2020 2020 2054 696d  = {}.        Tim
-00022f90: 655f 646f 6d61 696e 5f64 6174 615f 6469  e_domain_data_di
-00022fa0: 6374 5b22 6622 5d20 3d20 7365 6c66 2e66  ct["f"] = self.f
-00022fb0: 7265 7175 656e 6379 0a20 2020 2020 2020  requency.       
-00022fc0: 2054 696d 655f 646f 6d61 696e 5f64 6174   Time_domain_dat
-00022fd0: 615f 6469 6374 5b22 5422 5d20 3d20 7365  a_dict["T"] = se
-00022fe0: 6c66 2e74 696d 655f 7065 7269 6f64 0a20  lf.time_period. 
-00022ff0: 2020 2020 2020 2054 696d 655f 646f 6d61         Time_doma
-00023000: 696e 5f64 6174 615f 6469 6374 5b22 5469  in_data_dict["Ti
-00023010: 6d65 6d61 7822 5d20 3d20 7365 6c66 2e6d  memax"] = self.m
-00023020: 6178 5f74 696d 650a 2020 2020 2020 2020  ax_time.        
-00023030: 5469 6d65 5f64 6f6d 6169 6e5f 6461 7461  Time_domain_data
-00023040: 5f64 6963 745b 226e 756d 6265 725f 6f66  _dict["number_of
-00023050: 5f73 7465 7073 225d 203d 2073 656c 662e  _steps"] = self.
-00023060: 6e62 5f73 7465 7073 0a20 2020 2020 2020  nb_steps.       
-00023070: 2054 696d 655f 646f 6d61 696e 5f64 6174   Time_domain_dat
-00023080: 615f 6469 6374 5b22 6474 225d 203d 2073  a_dict["dt"] = s
-00023090: 656c 662e 7374 6570 5f74 696d 650a 2020  elf.step_time.  
-000230a0: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
-000230b0: 7469 6d65 5f64 6f6d 6169 6e5f 7369 6d75  time_domain_simu
-000230c0: 6c61 7469 6f6e 225d 2e61 7070 656e 6428  lation"].append(
-000230d0: 5469 6d65 5f64 6f6d 6169 6e5f 6461 7461  Time_domain_data
-000230e0: 5f64 6963 7429 0a0a 2020 2020 2020 2020  _dict)..        
-000230f0: 2320 7469 6d65 5f73 7465 705f 6e20 6c6f  # time_step_n lo
-00023100: 670a 2020 2020 2020 2020 2320 696e 6469  g.        # indi
-00023110: 6465 2065 7665 7279 2074 696d 655f 7374  de every time_st
-00023120: 6570 5f6e 2c20 7468 6572 6520 6172 6520  ep_n, there are 
-00023130: 7769 6e64 696e 6773 206c 6f67 2073 7563  windings log suc
-00023140: 6820 7468 6174 2049 2c20 562c 2046 6c75  h that I, V, Flu
-00023150: 7820 6172 6520 7368 6f77 6e20 696e 2065  x are shown in e
-00023160: 7665 7279 2077 696e 6469 6e67 2028 7769  very winding (wi
-00023170: 6e64 696e 6731 2c20 7769 6e64 696e 6732  nding1, winding2
-00023180: 2c20 2e2e 2029 0a20 2020 2020 2020 2066  , .. ).        f
-00023190: 6f72 2074 2069 6e20 7261 6e67 6528 302c  or t in range(0,
-000231a0: 2073 656c 662e 6e62 5f73 7465 7073 293a   self.nb_steps):
-000231b0: 0a20 2020 2020 2020 2020 2020 2074 696d  .            tim
-000231c0: 655f 7374 6570 5f64 6963 7420 3d20 7b0a  e_step_dict = {.
-000231d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000231e0: 2277 696e 6469 6e67 7322 3a20 7b7d 0a20  "windings": {}. 
-000231f0: 2020 2020 2020 2020 2020 207d 0a0a 2020             }..  
-00023200: 2020 2020 2020 2020 2020 666f 7220 7769            for wi
-00023210: 6e64 696e 675f 6e75 6d20 696e 2072 616e  nding_num in ran
-00023220: 6765 286c 656e 2873 656c 662e 7769 6e64  ge(len(self.wind
-00023230: 696e 6773 2929 3a0a 2020 2020 2020 2020  ings)):.        
-00023240: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
-00023250: 6469 6374 203d 207b 0a20 2020 2020 2020  dict = {.       
-00023260: 2020 2020 2020 2020 2020 2020 2022 6e75               "nu
-00023270: 6d62 6572 5f74 7572 6e73 223a 2030 2c0a  mber_turns": 0,.
-00023280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023290: 2020 2020 2266 6c75 7822 3a20 5b5d 2c0a      "flux": [],.
-000232a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000232b0: 2020 2020 2256 223a 205b 5d0a 2020 2020      "V": [].    
-000232c0: 2020 2020 2020 2020 2020 2020 7d0a 0a20              }.. 
-000232d0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000232e0: 204e 756d 6265 7220 6f66 2074 7572 6e73   Number of turns
-000232f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023300: 2074 7572 6e73 203d 2030 0a20 2020 2020   turns = 0.     
-00023310: 2020 2020 2020 2020 2020 2066 6f72 2077             for w
-00023320: 7720 696e 2073 656c 662e 7769 6e64 696e  w in self.windin
-00023330: 675f 7769 6e64 6f77 733a 0a20 2020 2020  g_windows:.     
-00023340: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00023350: 6f72 2076 7777 2069 6e20 7777 2e76 6972  or vww in ww.vir
-00023360: 7475 616c 5f77 696e 6469 6e67 5f77 696e  tual_winding_win
-00023370: 646f 7773 3a0a 2020 2020 2020 2020 2020  dows:.          
-00023380: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00023390: 7220 636f 6e64 7563 746f 7220 696e 2076  r conductor in v
-000233a0: 7777 2e77 696e 6469 6e67 733a 0a20 2020  ww.windings:.   
-000233b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000233c0: 2020 2020 2020 2020 2069 6620 636f 6e64           if cond
-000233d0: 7563 746f 722e 7769 6e64 696e 675f 6e75  uctor.winding_nu
-000233e0: 6d62 6572 203d 3d20 7769 6e64 696e 675f  mber == winding_
-000233f0: 6e75 6d3a 0a20 2020 2020 2020 2020 2020  num:.           
-00023400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023410: 2020 2020 2074 7572 6e73 202b 3d20 7677       turns += vw
-00023420: 772e 7475 726e 735b 636f 6e64 7563 746f  w.turns[conducto
-00023430: 722e 7769 6e64 696e 675f 6e75 6d62 6572  r.winding_number
-00023440: 5d0a 0a20 2020 2020 2020 2020 2020 2020  ]..             
-00023450: 2020 2077 696e 6469 6e67 5f64 6963 745b     winding_dict[
-00023460: 226e 756d 6265 725f 7475 726e 7322 5d20  "number_turns"] 
-00023470: 3d20 7475 726e 730a 0a20 2020 2020 2020  = turns..       
-00023480: 2020 2020 2020 2020 2023 2076 6f6c 7461           # volta
-00023490: 6765 0a20 2020 2020 2020 2020 2020 2020  ge.             
-000234a0: 2020 2076 6f6c 7461 6765 203d 2073 656c     voltage = sel
-000234b0: 662e 6c6f 6164 5f72 6573 756c 7428 7265  f.load_result(re
-000234c0: 735f 6e61 6d65 3d66 2256 6f6c 7461 6765  s_name=f"Voltage
-000234d0: 5f7b 7769 6e64 696e 675f 6e75 6d20 2b20  _{winding_num + 
-000234e0: 317d 222c 2072 6573 5f74 7970 653d 2276  1}", res_type="v
-000234f0: 616c 7565 222c 2061 7665 7261 6765 3d46  alue", average=F
-00023500: 616c 7365 290a 2020 2020 2020 2020 2020  alse).          
-00023510: 2020 2020 2020 7769 6e64 696e 675f 6469        winding_di
-00023520: 6374 5b22 5622 5d20 3d20 766f 6c74 6167  ct["V"] = voltag
-00023530: 655b 745d 0a0a 2020 2020 2020 2020 2020  e[t]..          
-00023540: 2020 2020 2020 2320 466c 7578 0a20 2020        # Flux.   
-00023550: 2020 2020 2020 2020 2020 2020 2066 6c75               flu
-00023560: 7820 3d20 7365 6c66 2e6c 6f61 645f 7265  x = self.load_re
-00023570: 7375 6c74 2872 6573 5f6e 616d 653d 6622  sult(res_name=f"
-00023580: 466c 7578 5f4c 696e 6b61 6765 5f7b 7769  Flux_Linkage_{wi
-00023590: 6e64 696e 675f 6e75 6d20 2b20 317d 222c  nding_num + 1}",
-000235a0: 2072 6573 5f74 7970 653d 2276 616c 7565   res_type="value
-000235b0: 222c 2061 7665 7261 6765 3d46 616c 7365  ", average=False
-000235c0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000235d0: 2020 7769 6e64 696e 675f 6469 6374 5b22    winding_dict["
-000235e0: 666c 7578 225d 203d 2066 6c75 785b 745d  flux"] = flux[t]
-000235f0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00023600: 2020 2320 4375 7272 656e 740a 2020 2020    # Current.    
-00023610: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-00023620: 696e 675f 6469 6374 5b22 4922 5d20 3d20  ing_dict["I"] = 
-00023630: 7365 6c66 2e63 7572 7265 6e74 5b77 696e  self.current[win
-00023640: 6469 6e67 5f6e 756d 5d5b 745d 2069 6620  ding_num][t] if 
-00023650: 7769 6e64 696e 675f 6e75 6d20 3c20 6c65  winding_num < le
-00023660: 6e28 7365 6c66 2e63 7572 7265 6e74 2920  n(self.current) 
-00023670: 616e 6420 7420 3c20 6c65 6e28 0a20 2020  and t < len(.   
-00023680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023690: 2073 656c 662e 6375 7272 656e 745b 7769   self.current[wi
-000236a0: 6e64 696e 675f 6e75 6d5d 2920 656c 7365  nding_num]) else
-000236b0: 204e 6f6e 650a 0a20 2020 2020 2020 2020   None..         
-000236c0: 2020 2020 2020 2074 696d 655f 7374 6570         time_step
-000236d0: 5f64 6963 745b 2277 696e 6469 6e67 7322  _dict["windings"
-000236e0: 5d5b 6622 7769 6e64 696e 677b 7769 6e64  ][f"winding{wind
-000236f0: 696e 675f 6e75 6d20 2b20 317d 225d 203d  ing_num + 1}"] =
-00023700: 2077 696e 6469 6e67 5f64 6963 740a 2020   winding_dict.  
-00023710: 2020 2020 2020 2020 2020 6c6f 675f 6469            log_di
-00023720: 6374 5b22 7469 6d65 5f64 6f6d 6169 6e5f  ct["time_domain_
-00023730: 7369 6d75 6c61 7469 6f6e 225d 2e61 7070  simulation"].app
-00023740: 656e 6428 7b66 2273 7465 705f 7b74 202b  end({f"step_{t +
-00023750: 2031 7d22 3a20 7469 6d65 5f73 7465 705f   1}": time_step_
-00023760: 6469 6374 7d29 0a0a 2020 2020 2020 2020  dict})..        
-00023770: 2020 2020 2320 6176 6572 6167 6520 436f      # average Co
-00023780: 7265 4564 6479 4c6f 7373 6573 0a20 2020  reEddyLosses.   
-00023790: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
-000237a0: 745b 2261 7665 7261 6765 5f6c 6f73 7365  t["average_losse
-000237b0: 7322 5d5b 2263 6f72 655f 6564 6479 5f6c  s"]["core_eddy_l
-000237c0: 6f73 7365 7322 5d20 3d20 5c0a 2020 2020  osses"] = \.    
-000237d0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000237e0: 2e6c 6f61 645f 7265 7375 6c74 2872 6573  .load_result(res
-000237f0: 5f6e 616d 653d 2243 6f72 6545 6464 7943  _name="CoreEddyC
-00023800: 7572 7265 6e74 4c6f 7373 6573 222c 2061  urrentLosses", a
-00023810: 7665 7261 6765 3d54 7275 6529 0a20 2020  verage=True).   
-00023820: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
-00023830: 745b 2261 7665 7261 6765 5f6c 6f73 7365  t["average_losse
-00023840: 7322 5d5b 2263 6f72 655f 6879 7374 5f6c  s"]["core_hyst_l
-00023850: 6f73 7365 7322 5d20 3d20 5b0a 2020 2020  osses"] = [.    
-00023860: 2020 2020 2020 2020 2020 2020 305d 2020              0]  
-00023870: 2320 756e 7469 6c20 7468 6520 6879 7374  # until the hyst
-00023880: 6572 7369 7320 6c6f 7373 6573 2061 7265  ersis losses are
-00023890: 2063 6f72 7265 6374 6c79 2064 6566 696e   correctly defin
-000238a0: 6564 2069 6e20 7469 6d65 5f64 6f6d 6169  ed in time_domai
-000238b0: 6e0a 0a20 2020 2020 2020 2020 2020 2023  n..            #
-000238c0: 2043 6f72 6520 5061 7274 206c 6f73 7365   Core Part losse
-000238d0: 730a 2020 2020 2020 2020 2020 2020 6966  s.            if
-000238e0: 206c 656e 2873 656c 662e 6d65 7368 2e70   len(self.mesh.p
-000238f0: 6c61 6e65 5f73 7572 6661 6365 5f63 6f72  lane_surface_cor
-00023900: 6529 203e 2031 3a0a 2020 2020 2020 2020  e) > 1:.        
-00023910: 2020 2020 2020 2020 6c6f 675f 6469 6374          log_dict
-00023920: 5b22 6176 6572 6167 655f 6c6f 7373 6573  ["average_losses
-00023930: 225d 5b22 636f 7265 5f70 6172 7473 225d  "]["core_parts"]
-00023940: 203d 207b 7d0a 2020 2020 2020 2020 2020   = {}.          
-00023950: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
-00023960: 616e 6765 2830 2c20 6c65 6e28 7365 6c66  ange(0, len(self
-00023970: 2e6d 6573 682e 706c 616e 655f 7375 7266  .mesh.plane_surf
-00023980: 6163 655f 636f 7265 2929 3a0a 2020 2020  ace_core)):.    
-00023990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000239a0: 6c6f 675f 6469 6374 5b22 6176 6572 6167  log_dict["averag
-000239b0: 655f 6c6f 7373 6573 225d 5b22 636f 7265  e_losses"]["core
-000239c0: 5f70 6172 7473 225d 5b66 2263 6f72 655f  _parts"][f"core_
-000239d0: 7061 7274 5f7b 6920 2b20 317d 225d 203d  part_{i + 1}"] =
-000239e0: 207b 7d0a 0a20 2020 2020 2020 2020 2020   {}..           
-000239f0: 2020 2020 2020 2020 2023 204c 6f61 6420           # Load 
-00023a00: 4564 6479 2043 7572 7265 6e74 204c 6f73  Eddy Current Los
-00023a10: 7365 7320 666f 7220 7468 6520 636f 7265  ses for the core
-00023a20: 2070 6172 740a 2020 2020 2020 2020 2020   part.          
-00023a30: 2020 2020 2020 2020 2020 6564 6479 203d            eddy =
-00023a40: 2073 656c 662e 6c6f 6164 5f72 6573 756c   self.load_resul
-00023a50: 7428 7265 735f 6e61 6d65 3d66 2263 6f72  t(res_name=f"cor
-00023a60: 655f 7061 7274 732f 436f 7265 4564 6479  e_parts/CoreEddy
-00023a70: 4375 7272 656e 744c 6f73 7365 735f 7b69  CurrentLosses_{i
-00023a80: 202b 2031 7d22 2c20 6176 6572 6167 653d   + 1}", average=
-00023a90: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00023aa0: 2020 2020 2020 2020 2020 6c6f 675f 6469            log_di
-00023ab0: 6374 5b22 6176 6572 6167 655f 6c6f 7373  ct["average_loss
-00023ac0: 6573 225d 5b22 636f 7265 5f70 6172 7473  es"]["core_parts
-00023ad0: 225d 5b66 2263 6f72 655f 7061 7274 5f7b  "][f"core_part_{
-00023ae0: 6920 2b20 317d 225d 5b22 6564 6479 5f6c  i + 1}"]["eddy_l
-00023af0: 6f73 7365 7322 5d20 3d20 6564 6479 0a0a  osses"] = eddy..
-00023b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b10: 2020 2020 2320 4c6f 6164 2048 7973 7465      # Load Hyste
-00023b20: 7265 7369 7320 4c6f 7373 6573 2066 6f72  resis Losses for
-00023b30: 2074 6865 2063 6f72 6520 7061 7274 0a20   the core part. 
-00023b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023b50: 2020 2023 2068 7973 7420 3d20 7365 6c66     # hyst = self
-00023b60: 2e6c 6f61 645f 7265 7375 6c74 2872 6573  .load_result(res
-00023b70: 5f6e 616d 653d 6622 636f 7265 5f70 6172  _name=f"core_par
-00023b80: 7473 2f70 5f68 7973 745f 7b69 202b 2031  ts/p_hyst_{i + 1
-00023b90: 7d22 2c20 6176 6572 6167 653d 5472 7565  }", average=True
-00023ba0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00023bb0: 2020 2020 2020 6879 7374 203d 2030 0a20        hyst = 0. 
-00023bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021fe0: 7274 202b 2031 7d22 5d5b 2268 7973 745f  rt + 1}"]["hyst_
+00021ff0: 6c6f 7373 6573 225d 203d 2063 6f72 655f  losses"] = core_
+00022000: 6879 7374 5f6c 6f73 7365 735b 636f 7265  hyst_losses[core
+00022010: 5f70 6172 745d 0a20 2020 2020 2020 2020  _part].         
+00022020: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00022030: 6f67 5f64 6963 745b 2273 696e 676c 655f  og_dict["single_
+00022040: 7377 6565 7073 225d 5b73 696e 676c 655f  sweeps"][single_
+00022050: 7369 6d75 6c61 7469 6f6e 5d5b 2263 6f72  simulation]["cor
+00022060: 655f 7061 7274 7322 5d5b 6622 636f 7265  e_parts"][f"core
+00022070: 5f70 6172 745f 7b63 6f72 655f 7061 7274  _part_{core_part
+00022080: 202b 2031 7d22 5d5b 0a20 2020 2020 2020   + 1}"][.       
+00022090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000220a0: 2020 2020 2066 2274 6f74 616c 5f63 6f72       f"total_cor
+000220b0: 655f 7061 7274 5f7b 636f 7265 5f70 6172  e_part_{core_par
+000220c0: 7420 2b20 317d 225d 203d 2063 6f72 655f  t + 1}"] = core_
+000220d0: 6879 7374 5f6c 6f73 7365 735b 636f 7265  hyst_losses[core
+000220e0: 5f70 6172 745d 202b 206c 6f67 5f64 6963  _part] + log_dic
+000220f0: 745b 0a20 2020 2020 2020 2020 2020 2020  t[.             
+00022100: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00022110: 7369 6e67 6c65 5f73 7765 6570 7322 5d5b  single_sweeps"][
+00022120: 7369 6e67 6c65 5f73 696d 756c 6174 696f  single_simulatio
+00022130: 6e5d 5b22 636f 7265 5f70 6172 7473 225d  n]["core_parts"]
+00022140: 5b66 2263 6f72 655f 7061 7274 5f7b 636f  [f"core_part_{co
+00022150: 7265 5f70 6172 7420 2b20 317d 225d 5b0a  re_part + 1}"][.
+00022160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022170: 2020 2020 2020 2020 2020 2020 2265 6464              "edd
+00022180: 795f 6c6f 7373 6573 225d 0a20 2020 2020  y_losses"].     
+00022190: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+000221a0: 6f67 5f64 6963 745b 2273 696e 676c 655f  og_dict["single_
+000221b0: 7377 6565 7073 225d 5b73 696e 676c 655f  sweeps"][single_
+000221c0: 7369 6d75 6c61 7469 6f6e 5d5b 2263 6f72  simulation]["cor
+000221d0: 655f 6879 7374 5f6c 6f73 7365 7322 5d20  e_hyst_losses"] 
+000221e0: 3d20 7375 6d28 636f 7265 5f68 7973 745f  = sum(core_hyst_
+000221f0: 6c6f 7373 6573 290a 2020 2020 2020 2020  losses).        
+00022200: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00022210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022220: 2020 666f 7220 636f 7265 5f70 6172 7420    for core_part 
+00022230: 696e 2072 616e 6765 286c 656e 2873 656c  in range(len(sel
+00022240: 662e 6d65 7368 2e70 6c61 6e65 5f73 7572  f.mesh.plane_sur
+00022250: 6661 6365 5f63 6f72 6529 293a 0a20 2020  face_core)):.   
+00022260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022270: 2020 2020 206c 6f67 5f64 6963 745b 2273       log_dict["s
+00022280: 696e 676c 655f 7377 6565 7073 225d 5b73  ingle_sweeps"][s
+00022290: 696e 676c 655f 7369 6d75 6c61 7469 6f6e  ingle_simulation
+000222a0: 5d5b 2263 6f72 655f 7061 7274 7322 5d5b  ]["core_parts"][
+000222b0: 6622 636f 7265 5f70 6172 745f 7b63 6f72  f"core_part_{cor
+000222c0: 655f 7061 7274 202b 2031 7d22 5d5b 0a20  e_part + 1}"][. 
+000222d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000222e0: 2020 2020 2020 2020 2020 2022 6879 7374             "hyst
+000222f0: 5f6c 6f73 7365 7322 5d20 3d20 300a 2020  _losses"] = 0.  
+00022300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022310: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
+00022320: 7369 6e67 6c65 5f73 7765 6570 7322 5d5b  single_sweeps"][
+00022330: 7369 6e67 6c65 5f73 696d 756c 6174 696f  single_simulatio
+00022340: 6e5d 5b22 636f 7265 5f70 6172 7473 225d  n]["core_parts"]
+00022350: 5b66 2263 6f72 655f 7061 7274 5f7b 636f  [f"core_part_{co
+00022360: 7265 5f70 6172 7420 2b20 317d 225d 5b0a  re_part + 1}"][.
+00022370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022380: 2020 2020 2020 2020 2020 2020 6622 746f              f"to
+00022390: 7461 6c5f 636f 7265 5f70 6172 745f 7b63  tal_core_part_{c
+000223a0: 6f72 655f 7061 7274 202b 2031 7d22 5d20  ore_part + 1}"] 
+000223b0: 3d20 6c6f 675f 6469 6374 5b22 7369 6e67  = log_dict["sing
+000223c0: 6c65 5f73 7765 6570 7322 5d5b 7369 6e67  le_sweeps"][sing
+000223d0: 6c65 5f73 696d 756c 6174 696f 6e5d 5b0a  le_simulation][.
+000223e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000223f0: 2020 2020 2020 2020 2020 2020 2263 6f72              "cor
+00022400: 655f 7061 7274 7322 5d5b 6622 636f 7265  e_parts"][f"core
+00022410: 5f70 6172 745f 7b63 6f72 655f 7061 7274  _part_{core_part
+00022420: 202b 2031 7d22 5d5b 2265 6464 795f 6c6f   + 1}"]["eddy_lo
+00022430: 7373 6573 225d 0a20 2020 2020 2020 2020  sses"].         
+00022440: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
+00022450: 6963 745b 2273 696e 676c 655f 7377 6565  ict["single_swee
+00022460: 7073 225d 5b73 696e 676c 655f 7369 6d75  ps"][single_simu
+00022470: 6c61 7469 6f6e 5d5b 2263 6f72 655f 6879  lation]["core_hy
+00022480: 7374 5f6c 6f73 7365 7322 5d20 3d20 300a  st_losses"] = 0.
+00022490: 2020 2020 2020 2020 2020 2020 6c6f 675f              log_
+000224a0: 6469 6374 5b22 746f 7461 6c5f 6c6f 7373  dict["total_loss
+000224b0: 6573 225d 5b22 6879 7374 5f63 6f72 655f  es"]["hyst_core_
+000224c0: 6675 6e64 616d 656e 7461 6c5f 6672 6571  fundamental_freq
+000224d0: 225d 203d 2073 756d 2863 6f72 655f 6879  "] = sum(core_hy
+000224e0: 7374 5f6c 6f73 7365 7329 0a20 2020 2020  st_losses).     
+000224f0: 2020 2065 6c69 6620 636f 7265 5f68 7973     elif core_hys
+00022500: 745f 6c6f 7373 6573 2069 7320 6e6f 7420  t_losses is not 
+00022510: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00022520: 2020 7261 6973 6520 5661 6c75 6545 7272    raise ValueErr
+00022530: 6f72 2822 4578 7465 726e 616c 2063 6f72  or("External cor
+00022540: 6520 6879 7374 6572 6573 6973 206c 6f73  e hysteresis los
+00022550: 7365 7320 6172 6520 6769 7665 6e20 696e  ses are given in
+00022560: 206e 6f6e 2d4c 6973 7420 666f 726d 6174   non-List format
+00022570: 2229 0a20 2020 2020 2020 2065 6c73 653a  ").        else:
+00022580: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
+00022590: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
+000225a0: 7365 7322 5d5b 2268 7973 745f 636f 7265  ses"]["hyst_core
+000225b0: 5f66 756e 6461 6d65 6e74 616c 5f66 7265  _fundamental_fre
+000225c0: 7122 5d20 3d20 6c6f 675f 6469 6374 5b22  q"] = log_dict["
+000225d0: 7369 6e67 6c65 5f73 7765 6570 7322 5d5b  single_sweeps"][
+000225e0: 6675 6e64 616d 656e 7461 6c5f 696e 6465  fundamental_inde
+000225f0: 785d 5b0a 2020 2020 2020 2020 2020 2020  x][.            
+00022600: 2020 2020 2263 6f72 655f 6879 7374 5f6c      "core_hyst_l
+00022610: 6f73 7365 7322 5d0a 0a20 2020 2020 2020  osses"]..       
+00022620: 2023 2049 6e20 7468 6520 746f 7461 6c20   # In the total 
+00022630: 6c6f 7373 6573 2063 616c 6375 6c61 7469  losses calculati
+00022640: 6f6e 2c20 696e 6469 7669 6475 616c 2063  on, individual c
+00022650: 6f72 6520 7061 7274 206c 6f73 7365 7320  ore part losses 
+00022660: 6172 6520 616c 736f 2061 6363 6f75 6e74  are also account
+00022670: 6564 2066 6f72 0a20 2020 2020 2020 2066  ed for.        f
+00022680: 6f72 2063 6f72 655f 7061 7274 2069 6e20  or core_part in 
+00022690: 7261 6e67 6528 6c65 6e28 7365 6c66 2e6d  range(len(self.m
+000226a0: 6573 682e 706c 616e 655f 7375 7266 6163  esh.plane_surfac
+000226b0: 655f 636f 7265 2929 3a0a 2020 2020 2020  e_core)):.      
+000226c0: 2020 2020 2020 6c6f 675f 6469 6374 5b22        log_dict["
+000226d0: 746f 7461 6c5f 6c6f 7373 6573 225d 5b66  total_losses"][f
+000226e0: 2274 6f74 616c 5f63 6f72 655f 7061 7274  "total_core_part
+000226f0: 5f7b 636f 7265 5f70 6172 7420 2b20 317d  _{core_part + 1}
+00022700: 225d 203d 2030 0a20 2020 2020 2020 2020  "] = 0.         
+00022710: 2020 206c 6f67 5f64 6963 745b 2274 6f74     log_dict["tot
+00022720: 616c 5f6c 6f73 7365 7322 5d5b 6622 746f  al_losses"][f"to
+00022730: 7461 6c5f 6564 6479 5f63 6f72 655f 7061  tal_eddy_core_pa
+00022740: 7274 5f7b 636f 7265 5f70 6172 7420 2b20  rt_{core_part + 
+00022750: 317d 225d 203d 2030 0a20 2020 2020 2020  1}"] = 0.       
+00022760: 2020 2020 206c 6f67 5f64 6963 745b 2274       log_dict["t
+00022770: 6f74 616c 5f6c 6f73 7365 7322 5d5b 6622  otal_losses"][f"
+00022780: 746f 7461 6c5f 6879 7374 5f63 6f72 655f  total_hyst_core_
+00022790: 7061 7274 5f7b 636f 7265 5f70 6172 7420  part_{core_part 
+000227a0: 2b20 317d 225d 203d 2030 0a0a 2020 2020  + 1}"] = 0..    
+000227b0: 2020 2020 2320 7377 6565 7020 7468 726f      # sweep thro
+000227c0: 7567 6820 616c 6c20 6672 6571 7565 6e63  ugh all frequenc
+000227d0: 7920 7369 6d75 6c61 7469 6f6e 7320 616e  y simulations an
+000227e0: 6420 7375 6d20 7570 2074 6865 2063 6f72  d sum up the cor
+000227f0: 655f 7061 7274 5f78 206c 6f73 7365 730a  e_part_x losses.
+00022800: 2020 2020 2020 2020 666f 7220 7369 6e67          for sing
+00022810: 6c65 5f73 696d 756c 6174 696f 6e20 696e  le_simulation in
+00022820: 2072 616e 6765 2830 2c20 6e75 6d62 6572   range(0, number
+00022830: 5f66 7265 7175 656e 6379 5f73 696d 756c  _frequency_simul
+00022840: 6174 696f 6e73 293a 0a20 2020 2020 2020  ations):.       
+00022850: 2020 2020 2066 6f72 2063 6f72 655f 7061       for core_pa
+00022860: 7274 2069 6e20 7261 6e67 6528 6c65 6e28  rt in range(len(
+00022870: 7365 6c66 2e6d 6573 682e 706c 616e 655f  self.mesh.plane_
+00022880: 7375 7266 6163 655f 636f 7265 2929 3a0a  surface_core)):.
+00022890: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000228a0: 6c6f 675f 6469 6374 5b22 746f 7461 6c5f  log_dict["total_
+000228b0: 6c6f 7373 6573 225d 5b66 2274 6f74 616c  losses"][f"total
+000228c0: 5f63 6f72 655f 7061 7274 5f7b 636f 7265  _core_part_{core
+000228d0: 5f70 6172 7420 2b20 317d 225d 202b 3d20  _part + 1}"] += 
+000228e0: 6c6f 675f 6469 6374 5b22 7369 6e67 6c65  log_dict["single
+000228f0: 5f73 7765 6570 7322 5d5b 0a20 2020 2020  _sweeps"][.     
+00022900: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00022910: 696e 676c 655f 7369 6d75 6c61 7469 6f6e  ingle_simulation
+00022920: 5d5b 2263 6f72 655f 7061 7274 7322 5d5b  ]["core_parts"][
+00022930: 6622 636f 7265 5f70 6172 745f 7b63 6f72  f"core_part_{cor
+00022940: 655f 7061 7274 202b 2031 7d22 5d5b 6622  e_part + 1}"][f"
+00022950: 746f 7461 6c5f 636f 7265 5f70 6172 745f  total_core_part_
+00022960: 7b63 6f72 655f 7061 7274 202b 2031 7d22  {core_part + 1}"
+00022970: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00022980: 2020 6c6f 675f 6469 6374 5b22 746f 7461    log_dict["tota
+00022990: 6c5f 6c6f 7373 6573 225d 5b66 2274 6f74  l_losses"][f"tot
+000229a0: 616c 5f65 6464 795f 636f 7265 5f70 6172  al_eddy_core_par
+000229b0: 745f 7b63 6f72 655f 7061 7274 202b 2031  t_{core_part + 1
+000229c0: 7d22 5d20 2b3d 205c 0a20 2020 2020 2020  }"] += \.       
+000229d0: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+000229e0: 5f64 6963 745b 2273 696e 676c 655f 7377  _dict["single_sw
+000229f0: 6565 7073 225d 5b73 696e 676c 655f 7369  eeps"][single_si
+00022a00: 6d75 6c61 7469 6f6e 5d5b 2263 6f72 655f  mulation]["core_
+00022a10: 7061 7274 7322 5d5b 6622 636f 7265 5f70  parts"][f"core_p
+00022a20: 6172 745f 7b63 6f72 655f 7061 7274 202b  art_{core_part +
+00022a30: 2031 7d22 5d5b 0a20 2020 2020 2020 2020   1}"][.         
+00022a40: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00022a50: 6564 6479 5f6c 6f73 7365 7322 5d0a 2020  eddy_losses"].  
+00022a60: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+00022a70: 675f 6469 6374 5b22 746f 7461 6c5f 6c6f  g_dict["total_lo
+00022a80: 7373 6573 225d 5b66 2274 6f74 616c 5f68  sses"][f"total_h
+00022a90: 7973 745f 636f 7265 5f70 6172 745f 7b63  yst_core_part_{c
+00022aa0: 6f72 655f 7061 7274 202b 2031 7d22 5d20  ore_part + 1}"] 
+00022ab0: 2b3d 205c 0a20 2020 2020 2020 2020 2020  += \.           
+00022ac0: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
+00022ad0: 745b 2273 696e 676c 655f 7377 6565 7073  t["single_sweeps
+00022ae0: 225d 5b73 696e 676c 655f 7369 6d75 6c61  "][single_simula
+00022af0: 7469 6f6e 5d5b 2263 6f72 655f 7061 7274  tion]["core_part
+00022b00: 7322 5d5b 6622 636f 7265 5f70 6172 745f  s"][f"core_part_
+00022b10: 7b63 6f72 655f 7061 7274 202b 2031 7d22  {core_part + 1}"
+00022b20: 5d5b 0a20 2020 2020 2020 2020 2020 2020  ][.             
+00022b30: 2020 2020 2020 2020 2020 2022 6879 7374             "hyst
+00022b40: 5f6c 6f73 7365 7322 5d0a 0a20 2020 2020  _losses"]..     
+00022b50: 2020 2023 2054 6f74 616c 206c 6f73 7365     # Total losse
+00022b60: 7320 6f66 2069 6e64 7563 7469 7665 2063  s of inductive c
+00022b70: 6f6d 706f 6e65 6e74 2061 6363 6f72 6469  omponent accordi
+00022b80: 6e67 2074 6f20 7369 6e67 6c65 206f 7220  ng to single or 
+00022b90: 7377 6565 7020 7369 6d75 6c61 7469 6f6e  sweep simulation
+00022ba0: 0a20 2020 2020 2020 206c 6f67 5f64 6963  .        log_dic
+00022bb0: 745b 2274 6f74 616c 5f6c 6f73 7365 7322  t["total_losses"
+00022bc0: 5d5b 2263 6f72 6522 5d20 3d20 6c6f 675f  ]["core"] = log_
+00022bd0: 6469 6374 5b22 746f 7461 6c5f 6c6f 7373  dict["total_loss
+00022be0: 6573 225d 5b22 6879 7374 5f63 6f72 655f  es"]["hyst_core_
+00022bf0: 6675 6e64 616d 656e 7461 6c5f 6672 6571  fundamental_freq
+00022c00: 225d 202b 205c 0a20 2020 2020 2020 2020  "] + \.         
+00022c10: 2020 206c 6f67 5f64 6963 745b 2274 6f74     log_dict["tot
+00022c20: 616c 5f6c 6f73 7365 7322 5d5b 2265 6464  al_losses"]["edd
+00022c30: 795f 636f 7265 225d 0a0a 2020 2020 2020  y_core"]..      
+00022c40: 2020 6c6f 675f 6469 6374 5b22 746f 7461    log_dict["tota
+00022c50: 6c5f 6c6f 7373 6573 225d 5b22 746f 7461  l_losses"]["tota
+00022c60: 6c5f 6c6f 7373 6573 225d 203d 206c 6f67  l_losses"] = log
+00022c70: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
+00022c80: 7365 7322 5d5b 2268 7973 745f 636f 7265  ses"]["hyst_core
+00022c90: 5f66 756e 6461 6d65 6e74 616c 5f66 7265  _fundamental_fre
+00022ca0: 7122 5d20 2b20 5c0a 2020 2020 2020 2020  q"] + \.        
+00022cb0: 2020 2020 6c6f 675f 6469 6374 5b22 746f      log_dict["to
+00022cc0: 7461 6c5f 6c6f 7373 6573 225d 5b22 6564  tal_losses"]["ed
+00022cd0: 6479 5f63 6f72 6522 5d20 2b20 6c6f 675f  dy_core"] + log_
+00022ce0: 6469 6374 5b22 746f 7461 6c5f 6c6f 7373  dict["total_loss
+00022cf0: 6573 225d 5b22 616c 6c5f 7769 6e64 696e  es"]["all_windin
+00022d00: 6773 225d 0a0a 2020 2020 2020 2020 2320  gs"]..        # 
+00022d10: 6669 6e61 6c5f 6c6f 675f 6469 6374 3a20  final_log_dict: 
+00022d20: 6672 6571 2064 6963 7420 2b20 636f 6d6d  freq dict + comm
+00022d30: 6f6e 2064 6963 740a 2020 2020 2020 2020  on dict.        
+00022d40: 636f 6d6d 6f6e 5f6c 6f67 5f64 6963 7420  common_log_dict 
+00022d50: 3d20 7365 6c66 2e77 7269 7465 5f61 6e64  = self.write_and
+00022d60: 5f63 616c 6375 6c61 7465 5f63 6f6d 6d6f  _calculate_commo
+00022d70: 6e5f 6c6f 6728 290a 2020 2020 2020 2020  n_log().        
+00022d80: 6669 6e61 6c5f 6c6f 675f 6469 6374 203d  final_log_dict =
+00022d90: 207b 2a2a 6c6f 675f 6469 6374 2c20 2a2a   {**log_dict, **
+00022da0: 636f 6d6d 6f6e 5f6c 6f67 5f64 6963 747d  common_log_dict}
+00022db0: 0a20 2020 2020 2020 2023 203d 3d3d 3d3d  .        # =====
+00022dc0: 3d20 7361 7665 2064 6174 6120 6173 204a  = save data as J
+00022dd0: 534f 4e20 3d3d 3d3d 3d3d 0a20 2020 2020  SON ======.     
+00022de0: 2020 2077 6974 6820 6f70 656e 2873 656c     with open(sel
+00022df0: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
+00022e00: 7265 7375 6c74 735f 6c6f 675f 7061 7468  results_log_path
+00022e10: 2c20 2277 2b22 2c20 656e 636f 6469 6e67  , "w+", encoding
+00022e20: 3d27 7574 662d 3827 2920 6173 206f 7574  ='utf-8') as out
+00022e30: 6669 6c65 3a0a 2020 2020 2020 2020 2020  file:.          
+00022e40: 2020 6a73 6f6e 2e64 756d 7028 6669 6e61    json.dump(fina
+00022e50: 6c5f 6c6f 675f 6469 6374 2c20 6f75 7466  l_log_dict, outf
+00022e60: 696c 652c 2069 6e64 656e 743d 322c 2065  ile, indent=2, e
+00022e70: 6e73 7572 655f 6173 6369 693d 4661 6c73  nsure_ascii=Fals
+00022e80: 6529 0a0a 2020 2020 6465 6620 6361 6c63  e)..    def calc
+00022e90: 756c 6174 655f 616e 645f 7772 6974 655f  ulate_and_write_
+00022ea0: 7469 6d65 5f64 6f6d 6169 6e5f 6c6f 6728  time_domain_log(
+00022eb0: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
+00022ec0: 2222 0a20 2020 2020 2020 2050 726f 6365  "".        Proce
+00022ed0: 7373 2061 6e64 206c 6f67 2074 6865 2072  ss and log the r
+00022ee0: 6573 756c 7473 206f 6620 7469 6d65 2064  esults of time d
+00022ef0: 6f6d 6169 6e20 7369 6d75 6c61 7469 6f6e  omain simulation
+00022f00: 732e 0a0a 2020 2020 2020 2020 5265 6164  s...        Read
+00022f10: 7320 6261 636b 2074 6865 2072 6573 756c  s back the resul
+00022f20: 7473 2066 726f 6d20 7468 6520 7369 6d75  ts from the simu
+00022f30: 6c61 7469 6f6e 206f 7574 7075 7420 6669  lation output fi
+00022f40: 6c65 7320 616e 6420 7374 6f72 6573 2074  les and stores t
+00022f50: 6865 6d20 696e 2061 204a 534f 4e20 666f  hem in a JSON fo
+00022f60: 726d 6174 2e0a 2020 2020 2020 2020 5468  rmat..        Th
+00022f70: 6520 6c6f 6720 696e 636c 7564 6573 2064  e log includes d
+00022f80: 6574 6169 6c65 6420 696e 666f 726d 6174  etailed informat
+00022f90: 696f 6e20 6162 6f75 7420 6561 6368 2074  ion about each t
+00022fa0: 696d 6520 7374 6570 206f 6620 7468 6520  ime step of the 
+00022fb0: 7369 6d75 6c61 7469 6f6e 2c20 6173 2077  simulation, as w
+00022fc0: 656c 6c20 6173 2061 7665 7261 6765 2061  ell as average a
+00022fd0: 6e64 2074 6f74 616c 206c 6f73 7365 732e  nd total losses.
+00022fe0: 0a20 2020 2020 2020 2054 6865 206c 6f67  .        The log
+00022ff0: 6765 6420 696e 666f 726d 6174 696f 6e20  ged information 
+00023000: 696e 636c 7564 6573 3a0a 2020 2020 2020  includes:.      
+00023010: 2020 2d20 5469 6d65 2073 7465 702d 7370    - Time step-sp
+00023020: 6563 6966 6963 2064 6174 6120 7375 6368  ecific data such
+00023030: 2061 7320 6375 7272 656e 7420 2849 292c   as current (I),
+00023040: 2076 6f6c 7461 6765 2028 5629 2c20 616e   voltage (V), an
+00023050: 6420 666c 7578 2066 6f72 2065 6163 6820  d flux for each 
+00023060: 7769 6e64 696e 672e 0a20 2020 2020 2020  winding..       
+00023070: 202d 2041 7665 7261 6765 206c 6f73 7365   - Average losse
+00023080: 732c 2069 6e63 6c75 6469 6e67 2063 6f72  s, including cor
+00023090: 6520 6564 6479 2061 6e64 2068 7973 7465  e eddy and hyste
+000230a0: 7265 7369 7320 6c6f 7373 6573 2e0a 2020  resis losses..  
+000230b0: 2020 2020 2020 2d20 546f 7461 6c20 6c6f        - Total lo
+000230c0: 7373 6573 2066 6f72 2074 6865 2065 6e74  sses for the ent
+000230d0: 6972 6520 7369 6d75 6c61 7469 6f6e 2e0a  ire simulation..
+000230e0: 2020 2020 2020 2020 2d20 4164 6469 7469          - Additi
+000230f0: 6f6e 616c 2063 6f72 6520 7061 7274 206c  onal core part l
+00023100: 6f73 7365 7320 6966 206d 756c 7469 706c  osses if multipl
+00023110: 6520 636f 7265 2070 6172 7473 2061 7265  e core parts are
+00023120: 2070 7265 7365 6e74 2e0a 0a20 2020 2020   present...     
+00023130: 2020 2054 6865 206d 6574 686f 6420 616c     The method al
+00023140: 736f 2063 6f6d 6269 6e65 7320 7468 6973  so combines this
+00023150: 2074 696d 6520 646f 6d61 696e 2d73 7065   time domain-spe
+00023160: 6369 6669 6320 6461 7461 2077 6974 6820  cific data with 
+00023170: 636f 6d6d 6f6e 2073 696d 756c 6174 696f  common simulatio
+00023180: 6e20 6461 7461 0a20 2020 2020 2020 2028  n data.        (
+00023190: 6c69 6b65 2073 696d 756c 6174 696f 6e20  like simulation 
+000231a0: 7365 7474 696e 6773 2920 6765 6e65 7261  settings) genera
+000231b0: 7465 6420 6279 2074 6865 2077 7269 7465  ted by the write
+000231c0: 5f61 6e64 5f63 616c 6375 6c61 7465 5f63  _and_calculate_c
+000231d0: 6f6d 6d6f 6e5f 6c6f 6720 6d65 7468 6f64  ommon_log method
+000231e0: 2e0a 2020 2020 2020 2020 2222 220a 2020  ..        """.  
+000231f0: 2020 2020 2020 2320 6c6f 675f 6469 6374        # log_dict
+00023200: 203d 207b 2274 696d 655f 7374 6570 7322   = {"time_steps"
+00023210: 3a20 5b5d 7d0a 2020 2020 2020 2020 6c6f  : []}.        lo
+00023220: 675f 6469 6374 203d 207b 2274 696d 655f  g_dict = {"time_
+00023230: 646f 6d61 696e 5f73 696d 756c 6174 696f  domain_simulatio
+00023240: 6e22 3a20 5b5d 2c20 2261 7665 7261 6765  n": [], "average
+00023250: 5f6c 6f73 7365 7322 3a20 7b7d 2c20 2274  _losses": {}, "t
+00023260: 6f74 616c 5f6c 6f73 7365 7322 3a20 7b7d  otal_losses": {}
+00023270: 7d0a 2020 2020 2020 2020 2320 466c 6174  }.        # Flat
+00023280: 7465 6e20 7468 6520 7365 6c66 2e74 696d  ten the self.tim
+00023290: 650a 2020 2020 2020 2020 2320 5769 6e64  e.        # Wind
+000232a0: 696e 6720 6e61 6d65 7320 6172 6520 6e65  ing names are ne
+000232b0: 6564 6564 2074 6f20 6669 6e64 2074 6865  eded to find the
+000232c0: 206c 6f67 6769 6e67 2070 6174 680a 2020   logging path.  
+000232d0: 2020 2020 2020 7769 6e64 696e 675f 6e61        winding_na
+000232e0: 6d65 203d 205b 2257 696e 6469 6e67 5f22  me = ["Winding_"
+000232f0: 202b 2073 7472 2869 2920 666f 7220 6920   + str(i) for i 
+00023300: 696e 2072 616e 6765 2831 2c20 6c65 6e28  in range(1, len(
+00023310: 7365 6c66 2e77 696e 6469 6e67 7329 202b  self.windings) +
+00023320: 2031 295d 0a20 2020 2020 2020 2023 2066   1)].        # f
+00023330: 6c61 745f 7469 6d65 203d 205b 6974 656d  lat_time = [item
+00023340: 2066 6f72 2073 7562 6c69 7374 2069 6e20   for sublist in 
+00023350: 7365 6c66 2e74 696d 6520 666f 7220 6974  self.time for it
+00023360: 656d 2069 6e20 7375 626c 6973 745d 0a0a  em in sublist]..
+00023370: 2020 2020 2020 2020 2320 536f 6d65 2069          # Some i
+00023380: 6d70 6f72 7461 6e74 2070 6172 616d 6574  mportant paramet
+00023390: 6572 7320 696e 206c 6f67 2066 696c 650a  ers in log file.
+000233a0: 2020 2020 2020 2020 5469 6d65 5f64 6f6d          Time_dom
+000233b0: 6169 6e5f 6461 7461 5f64 6963 7420 3d20  ain_data_dict = 
+000233c0: 7b7d 0a20 2020 2020 2020 2054 696d 655f  {}.        Time_
+000233d0: 646f 6d61 696e 5f64 6174 615f 6469 6374  domain_data_dict
+000233e0: 5b22 6622 5d20 3d20 7365 6c66 2e66 7265  ["f"] = self.fre
+000233f0: 7175 656e 6379 0a20 2020 2020 2020 2054  quency.        T
+00023400: 696d 655f 646f 6d61 696e 5f64 6174 615f  ime_domain_data_
+00023410: 6469 6374 5b22 5422 5d20 3d20 7365 6c66  dict["T"] = self
+00023420: 2e74 696d 655f 7065 7269 6f64 0a20 2020  .time_period.   
+00023430: 2020 2020 2054 696d 655f 646f 6d61 696e       Time_domain
+00023440: 5f64 6174 615f 6469 6374 5b22 5469 6d65  _data_dict["Time
+00023450: 6d61 7822 5d20 3d20 7365 6c66 2e6d 6178  max"] = self.max
+00023460: 5f74 696d 650a 2020 2020 2020 2020 5469  _time.        Ti
+00023470: 6d65 5f64 6f6d 6169 6e5f 6461 7461 5f64  me_domain_data_d
+00023480: 6963 745b 226e 756d 6265 725f 6f66 5f73  ict["number_of_s
+00023490: 7465 7073 225d 203d 2073 656c 662e 6e62  teps"] = self.nb
+000234a0: 5f73 7465 7073 0a20 2020 2020 2020 2054  _steps.        T
+000234b0: 696d 655f 646f 6d61 696e 5f64 6174 615f  ime_domain_data_
+000234c0: 6469 6374 5b22 6474 225d 203d 2073 656c  dict["dt"] = sel
+000234d0: 662e 7374 6570 5f74 696d 650a 2020 2020  f.step_time.    
+000234e0: 2020 2020 6c6f 675f 6469 6374 5b22 7469      log_dict["ti
+000234f0: 6d65 5f64 6f6d 6169 6e5f 7369 6d75 6c61  me_domain_simula
+00023500: 7469 6f6e 225d 2e61 7070 656e 6428 5469  tion"].append(Ti
+00023510: 6d65 5f64 6f6d 6169 6e5f 6461 7461 5f64  me_domain_data_d
+00023520: 6963 7429 0a0a 2020 2020 2020 2020 2320  ict)..        # 
+00023530: 7469 6d65 5f73 7465 705f 6e20 6c6f 670a  time_step_n log.
+00023540: 2020 2020 2020 2020 2320 696e 2065 7665          # in eve
+00023550: 7279 2074 696d 655f 7374 6570 5f6e 2c20  ry time_step_n, 
+00023560: 7468 6572 6520 6172 6520 7769 6e64 696e  there are windin
+00023570: 6773 206c 6f67 2073 7563 6820 7468 6174  gs log such that
+00023580: 2049 2c20 562c 2046 6c75 7820 6172 6520   I, V, Flux are 
+00023590: 7368 6f77 6e20 696e 2065 7665 7279 2077  shown in every w
+000235a0: 696e 6469 6e67 2028 7769 6e64 696e 6731  inding (winding1
+000235b0: 2c20 7769 6e64 696e 6732 2c20 2e2e 2029  , winding2, .. )
+000235c0: 0a20 2020 2020 2020 2066 6f72 2074 2069  .        for t i
+000235d0: 6e20 7261 6e67 6528 302c 2073 656c 662e  n range(0, self.
+000235e0: 6e62 5f73 7465 7073 293a 0a20 2020 2020  nb_steps):.     
+000235f0: 2020 2020 2020 2074 696d 655f 7374 6570         time_step
+00023600: 5f64 6963 7420 3d20 7b0a 2020 2020 2020  _dict = {.      
+00023610: 2020 2020 2020 2020 2020 2277 696e 6469            "windi
+00023620: 6e67 7322 3a20 7b7d 0a20 2020 2020 2020  ngs": {}.       
+00023630: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00023640: 2020 2020 666f 7220 7769 6e64 696e 675f      for winding_
+00023650: 6e75 6d20 696e 2072 616e 6765 286c 656e  num in range(len
+00023660: 2873 656c 662e 7769 6e64 696e 6773 2929  (self.windings))
+00023670: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00023680: 2020 7769 6e64 696e 675f 6469 6374 203d    winding_dict =
+00023690: 207b 0a20 2020 2020 2020 2020 2020 2020   {.             
+000236a0: 2020 2020 2020 2022 6e75 6d62 6572 5f74         "number_t
+000236b0: 7572 6e73 223a 2030 2c0a 2020 2020 2020  urns": 0,.      
+000236c0: 2020 2020 2020 2020 2020 2020 2020 2266                "f
+000236d0: 6c75 7822 3a20 5b5d 2c0a 2020 2020 2020  lux": [],.      
+000236e0: 2020 2020 2020 2020 2020 2020 2020 2256                "V
+000236f0: 223a 205b 5d0a 2020 2020 2020 2020 2020  ": [].          
+00023700: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
+00023710: 2020 2020 2020 2020 2023 204e 756d 6265           # Numbe
+00023720: 7220 6f66 2074 7572 6e73 0a20 2020 2020  r of turns.     
+00023730: 2020 2020 2020 2020 2020 2074 7572 6e73             turns
+00023740: 203d 2030 0a20 2020 2020 2020 2020 2020   = 0.           
+00023750: 2020 2020 2066 6f72 2077 7720 696e 2073       for ww in s
+00023760: 656c 662e 7769 6e64 696e 675f 7769 6e64  elf.winding_wind
+00023770: 6f77 733a 0a20 2020 2020 2020 2020 2020  ows:.           
+00023780: 2020 2020 2020 2020 2066 6f72 2076 7777           for vww
+00023790: 2069 6e20 7777 2e76 6972 7475 616c 5f77   in ww.virtual_w
+000237a0: 696e 6469 6e67 5f77 696e 646f 7773 3a0a  inding_windows:.
+000237b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000237c0: 2020 2020 2020 2020 666f 7220 636f 6e64          for cond
+000237d0: 7563 746f 7220 696e 2076 7777 2e77 696e  uctor in vww.win
+000237e0: 6469 6e67 733a 0a20 2020 2020 2020 2020  dings:.         
+000237f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023800: 2020 2069 6620 636f 6e64 7563 746f 722e     if conductor.
+00023810: 7769 6e64 696e 675f 6e75 6d62 6572 203d  winding_number =
+00023820: 3d20 7769 6e64 696e 675f 6e75 6d3a 0a20  = winding_num:. 
+00023830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023840: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+00023850: 7572 6e73 202b 3d20 7677 772e 7475 726e  urns += vww.turn
+00023860: 735b 636f 6e64 7563 746f 722e 7769 6e64  s[conductor.wind
+00023870: 696e 675f 6e75 6d62 6572 5d0a 0a20 2020  ing_number]..   
+00023880: 2020 2020 2020 2020 2020 2020 2077 696e               win
+00023890: 6469 6e67 5f64 6963 745b 226e 756d 6265  ding_dict["numbe
+000238a0: 725f 7475 726e 7322 5d20 3d20 7475 726e  r_turns"] = turn
+000238b0: 730a 0a20 2020 2020 2020 2020 2020 2020  s..             
+000238c0: 2020 2023 2076 6f6c 7461 6765 0a20 2020     # voltage.   
+000238d0: 2020 2020 2020 2020 2020 2020 2076 6f6c               vol
+000238e0: 7461 6765 203d 2073 656c 662e 6c6f 6164  tage = self.load
+000238f0: 5f72 6573 756c 7428 7265 735f 6e61 6d65  _result(res_name
+00023900: 3d66 2256 6f6c 7461 6765 5f7b 7769 6e64  =f"Voltage_{wind
+00023910: 696e 675f 6e75 6d20 2b20 317d 222c 2072  ing_num + 1}", r
+00023920: 6573 5f74 7970 653d 2276 616c 7565 222c  es_type="value",
+00023930: 2061 7665 7261 6765 3d46 616c 7365 290a   average=False).
+00023940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023950: 7769 6e64 696e 675f 6469 6374 5b22 5622  winding_dict["V"
+00023960: 5d20 3d20 766f 6c74 6167 655b 745d 0a0a  ] = voltage[t]..
+00023970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023980: 2320 466c 7578 0a20 2020 2020 2020 2020  # Flux.         
+00023990: 2020 2020 2020 2066 6c75 7820 3d20 7365         flux = se
+000239a0: 6c66 2e6c 6f61 645f 7265 7375 6c74 2872  lf.load_result(r
+000239b0: 6573 5f6e 616d 653d 6622 466c 7578 5f4c  es_name=f"Flux_L
+000239c0: 696e 6b61 6765 5f7b 7769 6e64 696e 675f  inkage_{winding_
+000239d0: 6e75 6d20 2b20 317d 222c 2072 6573 5f74  num + 1}", res_t
+000239e0: 7970 653d 2276 616c 7565 222c 2061 7665  ype="value", ave
+000239f0: 7261 6765 3d46 616c 7365 290a 2020 2020  rage=False).    
+00023a00: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00023a10: 696e 675f 6469 6374 5b22 666c 7578 225d  ing_dict["flux"]
+00023a20: 203d 2066 6c75 785b 745d 0a0a 2020 2020   = flux[t]..    
+00023a30: 2020 2020 2020 2020 2020 2020 2320 4375              # Cu
+00023a40: 7272 656e 740a 2020 2020 2020 2020 2020  rrent.          
+00023a50: 2020 2020 2020 7769 6e64 696e 675f 6469        winding_di
+00023a60: 6374 5b22 4922 5d20 3d20 7365 6c66 2e63  ct["I"] = self.c
+00023a70: 7572 7265 6e74 5b77 696e 6469 6e67 5f6e  urrent[winding_n
+00023a80: 756d 5d5b 745d 2069 6620 7769 6e64 696e  um][t] if windin
+00023a90: 675f 6e75 6d20 3c20 6c65 6e28 7365 6c66  g_num < len(self
+00023aa0: 2e63 7572 7265 6e74 2920 616e 6420 7420  .current) and t 
+00023ab0: 3c20 6c65 6e28 0a20 2020 2020 2020 2020  < len(.         
+00023ac0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00023ad0: 6375 7272 656e 745b 7769 6e64 696e 675f  current[winding_
+00023ae0: 6e75 6d5d 2920 656c 7365 204e 6f6e 650a  num]) else None.
+00023af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023b00: 2074 696d 655f 7374 6570 5f64 6963 745b   time_step_dict[
+00023b10: 2277 696e 6469 6e67 7322 5d5b 6622 7769  "windings"][f"wi
+00023b20: 6e64 696e 677b 7769 6e64 696e 675f 6e75  nding{winding_nu
+00023b30: 6d20 2b20 317d 225d 203d 2077 696e 6469  m + 1}"] = windi
+00023b40: 6e67 5f64 6963 740a 2020 2020 2020 2020  ng_dict.        
+00023b50: 2020 2020 6c6f 675f 6469 6374 5b22 7469      log_dict["ti
+00023b60: 6d65 5f64 6f6d 6169 6e5f 7369 6d75 6c61  me_domain_simula
+00023b70: 7469 6f6e 225d 2e61 7070 656e 6428 7b66  tion"].append({f
+00023b80: 2273 7465 705f 7b74 202b 2031 7d22 3a20  "step_{t + 1}": 
+00023b90: 7469 6d65 5f73 7465 705f 6469 6374 7d29  time_step_dict})
+00023ba0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00023bb0: 6176 6572 6167 6520 436f 7265 4564 6479  average CoreEddy
+00023bc0: 4c6f 7373 6573 0a20 2020 2020 2020 2020  Losses.         
 00023bd0: 2020 206c 6f67 5f64 6963 745b 2261 7665     log_dict["ave
 00023be0: 7261 6765 5f6c 6f73 7365 7322 5d5b 2263  rage_losses"]["c
-00023bf0: 6f72 655f 7061 7274 7322 5d5b 6622 636f  ore_parts"][f"co
-00023c00: 7265 5f70 6172 745f 7b69 202b 2031 7d22  re_part_{i + 1}"
-00023c10: 5d5b 2268 7973 745f 6c6f 7373 6573 225d  ]["hyst_losses"]
-00023c20: 203d 2068 7973 740a 0a20 2020 2020 2020   = hyst..       
-00023c30: 2020 2020 2020 2020 2020 2020 2023 2043               # C
-00023c40: 616c 6375 6c61 7465 2074 6865 2074 6f74  alculate the tot
-00023c50: 616c 206c 6f73 7365 7320 666f 7220 6576  al losses for ev
-00023c60: 6572 7920 636f 7265 2070 6172 740a 2020  ery core part.  
-00023c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023c80: 2020 6c6f 675f 6469 6374 5b22 6176 6572    log_dict["aver
-00023c90: 6167 655f 6c6f 7373 6573 225d 5b22 636f  age_losses"]["co
-00023ca0: 7265 5f70 6172 7473 225d 5b66 2263 6f72  re_parts"][f"cor
-00023cb0: 655f 7061 7274 5f7b 6920 2b20 317d 225d  e_part_{i + 1}"]
-00023cc0: 5b66 2274 6f74 616c 5f63 6f72 655f 7061  [f"total_core_pa
-00023cd0: 7274 5f7b 6920 2b20 317d 225d 203d 2065  rt_{i + 1}"] = e
-00023ce0: 6464 795b 305d 202b 2068 7973 740a 0a20  ddy[0] + hyst.. 
-00023cf0: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
-00023d00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023d10: 2023 2069 6620 7468 6572 6520 6973 206f   # if there is o
-00023d20: 6e6c 7920 6f6e 6520 636f 7265 2070 6172  nly one core par
-00023d30: 740a 2020 2020 2020 2020 2020 2020 2020  t.              
-00023d40: 2020 6c6f 675f 6469 6374 5b22 6176 6572    log_dict["aver
-00023d50: 6167 655f 6c6f 7373 6573 225d 5b22 636f  age_losses"]["co
-00023d60: 7265 5f70 6172 7473 225d 203d 207b 7d0a  re_parts"] = {}.
-00023d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023d80: 6c6f 675f 6469 6374 5b22 6176 6572 6167  log_dict["averag
-00023d90: 655f 6c6f 7373 6573 225d 5b22 636f 7265  e_losses"]["core
-00023da0: 5f70 6172 7473 225d 5b22 636f 7265 5f70  _parts"]["core_p
-00023db0: 6172 745f 3122 5d20 3d20 7b7d 0a20 2020  art_1"] = {}.   
-00023dc0: 2020 2020 2020 2020 2020 2020 2023 2041               # A
-00023dd0: 7373 756d 696e 6720 796f 7520 6861 7665  ssuming you have
-00023de0: 2061 6c72 6561 6479 206c 6f61 6465 6420   already loaded 
-00023df0: 636f 7265 5f65 6464 795f 6c6f 7373 6573  core_eddy_losses
-00023e00: 2061 6e64 2063 6f72 655f 6879 7374 5f6c   and core_hyst_l
-00023e10: 6f73 7365 7320 736f 6d65 7768 6572 6520  osses somewhere 
-00023e20: 6162 6f76 6520 696e 2074 6865 2063 6f64  above in the cod
-00023e30: 650a 2020 2020 2020 2020 2020 2020 2020  e.              
-00023e40: 2020 746f 7461 6c5f 6c6f 7373 203d 206c    total_loss = l
-00023e50: 6f67 5f64 6963 745b 2261 7665 7261 6765  og_dict["average
-00023e60: 5f6c 6f73 7365 7322 5d5b 2263 6f72 655f  _losses"]["core_
-00023e70: 6564 6479 5f6c 6f73 7365 7322 5d20 2b20  eddy_losses"] + 
-00023e80: 6c6f 675f 6469 6374 5b22 6176 6572 6167  log_dict["averag
-00023e90: 655f 6c6f 7373 6573 225d 5b22 636f 7265  e_losses"]["core
-00023ea0: 5f68 7973 745f 6c6f 7373 6573 225d 0a20  _hyst_losses"]. 
-00023eb0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00023ec0: 6f67 5f64 6963 745b 2261 7665 7261 6765  og_dict["average
-00023ed0: 5f6c 6f73 7365 7322 5d5b 2263 6f72 655f  _losses"]["core_
-00023ee0: 7061 7274 7322 5d5b 2263 6f72 655f 7061  parts"]["core_pa
-00023ef0: 7274 5f31 225d 5b22 746f 7461 6c5f 636f  rt_1"]["total_co
-00023f00: 7265 5f70 6172 745f 3122 5d20 3d20 746f  re_part_1"] = to
-00023f10: 7461 6c5f 6c6f 7373 5b30 5d0a 0a20 2020  tal_loss[0]..   
-00023f20: 2020 2020 2020 2020 2023 2061 7665 7261           # avera
-00023f30: 6765 2077 696e 6469 6e67 206c 6f73 7365  ge winding losse
-00023f40: 732c 2074 7572 6e73 5f6c 6f73 7365 732c  s, turns_losses,
-00023f50: 2063 7572 7265 6e74 2c20 766f 6c61 7467   current, volatg
-00023f60: 652c 2070 6f77 6572 206c 6f73 7365 732c  e, power losses,
-00023f70: 202e 2e65 7463 0a20 2020 2020 2020 2020   ..etc.         
-00023f80: 2020 2066 6f72 2077 696e 6469 6e67 5f6e     for winding_n
-00023f90: 756d 2069 6e20 7261 6e67 6528 6c65 6e28  um in range(len(
-00023fa0: 7365 6c66 2e77 696e 6469 6e67 7329 293a  self.windings)):
-00023fb0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023fc0: 206c 6f73 7365 735f 6469 6374 203d 207b   losses_dict = {
-00023fd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023fe0: 2020 2020 2022 7475 726e 5f6c 6f73 7365       "turn_losse
-00023ff0: 7322 3a20 5b5d 2c0a 2020 2020 2020 2020  s": [],.        
-00024000: 2020 2020 2020 2020 2020 2020 2277 696e              "win
-00024010: 6469 6e67 5f6c 6f73 7365 7322 3a20 5b5d  ding_losses": []
-00024020: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00024030: 2020 2020 2020 2266 6c75 785f 6f76 6572        "flux_over
-00024040: 5f63 7572 7265 6e74 223a 205b 5d2c 0a20  _current": [],. 
-00024050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024060: 2020 2022 6176 6572 6167 655f 6375 7272     "average_curr
-00024070: 656e 7422 3a20 5b5d 2c0a 2020 2020 2020  ent": [],.      
-00024080: 2020 2020 2020 2020 2020 2020 2020 2261                "a
-00024090: 7665 7261 6765 5f76 6f6c 7461 6765 223a  verage_voltage":
-000240a0: 205b 5d2c 0a20 2020 2020 2020 2020 2020   [],.           
-000240b0: 2020 2020 2020 2020 2022 726d 735f 6375           "rms_cu
-000240c0: 7272 656e 7422 3a20 5b5d 2c0a 2020 2020  rrent": [],.    
-000240d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000240e0: 2272 6d73 5f76 6f6c 7461 6765 223a 205b  "rms_voltage": [
-000240f0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00024100: 2020 2020 2020 2022 5022 3a20 5b5d 2c0a         "P": [],.
-00024110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024120: 2020 2020 2253 223a 205b 5d2c 0a20 2020      "S": [],.   
-00024130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024140: 2022 5122 3a20 5b5d 0a20 2020 2020 2020   "Q": [].       
-00024150: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
-00024160: 2020 2020 2020 2020 2020 2023 204e 756d             # Num
-00024170: 6265 7220 6f66 2074 7572 6e73 0a20 2020  ber of turns.   
-00024180: 2020 2020 2020 2020 2020 2020 2074 7572               tur
-00024190: 6e73 203d 2030 0a20 2020 2020 2020 2020  ns = 0.         
-000241a0: 2020 2020 2020 2066 6f72 2077 7720 696e         for ww in
-000241b0: 2073 656c 662e 7769 6e64 696e 675f 7769   self.winding_wi
-000241c0: 6e64 6f77 733a 0a20 2020 2020 2020 2020  ndows:.         
-000241d0: 2020 2020 2020 2020 2020 2066 6f72 2076             for v
-000241e0: 7777 2069 6e20 7777 2e76 6972 7475 616c  ww in ww.virtual
-000241f0: 5f77 696e 6469 6e67 5f77 696e 646f 7773  _winding_windows
-00024200: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00024210: 2020 2020 2020 2020 2020 666f 7220 636f            for co
-00024220: 6e64 7563 746f 7220 696e 2076 7777 2e77  nductor in vww.w
-00024230: 696e 6469 6e67 733a 0a20 2020 2020 2020  indings:.       
-00024240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024250: 2020 2020 2069 6620 636f 6e64 7563 746f       if conducto
-00024260: 722e 7769 6e64 696e 675f 6e75 6d62 6572  r.winding_number
-00024270: 203d 3d20 7769 6e64 696e 675f 6e75 6d3a   == winding_num:
-00024280: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000242a0: 2074 7572 6e73 202b 3d20 7677 772e 7475   turns += vww.tu
-000242b0: 726e 735b 636f 6e64 7563 746f 722e 7769  rns[conductor.wi
-000242c0: 6e64 696e 675f 6e75 6d62 6572 5d0a 0a20  nding_number].. 
-000242d0: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-000242e0: 6f73 7365 735f 6469 6374 5b22 6e75 6d62  osses_dict["numb
-000242f0: 6572 5f74 7572 6e73 225d 203d 2074 7572  er_turns"] = tur
-00024300: 6e73 0a0a 2020 2020 2020 2020 2020 2020  ns..            
-00024310: 2020 2020 2320 6375 7272 656e 745f 6176      # current_av
-00024320: 6572 6167 6520 666f 7220 6576 6572 7920  erage for every 
-00024330: 7769 6e64 696e 670a 2020 2020 2020 2020  winding.        
-00024340: 2020 2020 2020 2020 2320 6966 2077 696e          # if win
-00024350: 6469 6e67 5f6e 756d 203c 206c 656e 2873  ding_num < len(s
-00024360: 656c 662e 6176 6572 6167 655f 6375 7272  elf.average_curr
-00024370: 656e 7473 293a 0a20 2020 2020 2020 2020  ents):.         
-00024380: 2020 2020 2020 206c 6f73 7365 735f 6469         losses_di
-00024390: 6374 5b22 6176 6572 6167 655f 6375 7272  ct["average_curr
-000243a0: 656e 7422 5d20 3d20 5b73 656c 662e 6176  ent"] = [self.av
-000243b0: 6572 6167 655f 6375 7272 656e 7473 5b77  erage_currents[w
-000243c0: 696e 6469 6e67 5f6e 756d 5d5d 0a20 2020  inding_num]].   
-000243d0: 2020 2020 2020 2020 2020 2020 206c 6f73               los
-000243e0: 7365 735f 6469 6374 5b22 726d 735f 6375  ses_dict["rms_cu
-000243f0: 7272 656e 7422 5d20 3d20 5b73 656c 662e  rrent"] = [self.
-00024400: 726d 735f 6375 7272 656e 7473 5b77 696e  rms_currents[win
-00024410: 6469 6e67 5f6e 756d 5d5d 0a20 2020 2020  ding_num]].     
-00024420: 2020 2020 2020 2020 2020 2023 2076 6f6c             # vol
-00024430: 7461 6765 5f61 7665 7261 6765 2066 6f72  tage_average for
-00024440: 2065 7665 7279 2077 696e 6469 6e67 0a20   every winding. 
-00024450: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00024460: 206c 6f73 7365 735f 6469 6374 5b22 6176   losses_dict["av
-00024470: 6572 6167 655f 766f 6c74 6167 6522 5d2e  erage_voltage"].
-00024480: 6170 7065 6e64 2873 656c 662e 6c6f 6164  append(self.load
-00024490: 5f72 6573 756c 7428 7265 735f 6e61 6d65  _result(res_name
-000244a0: 3d66 2256 6f6c 7461 6765 5f7b 7769 6e64  =f"Voltage_{wind
-000244b0: 696e 675f 6e75 6d20 2b20 317d 222c 2072  ing_num + 1}", r
-000244c0: 6573 5f74 7970 653d 2276 616c 7565 222c  es_type="value",
-000244d0: 2061 7665 7261 6765 3d54 7275 6529 290a   average=True)).
+00023bf0: 6f72 655f 6564 6479 5f6c 6f73 7365 7322  ore_eddy_losses"
+00023c00: 5d20 3d20 5c0a 2020 2020 2020 2020 2020  ] = \.          
+00023c10: 2020 2020 2020 7365 6c66 2e6c 6f61 645f        self.load_
+00023c20: 7265 7375 6c74 2872 6573 5f6e 616d 653d  result(res_name=
+00023c30: 2243 6f72 6545 6464 7943 7572 7265 6e74  "CoreEddyCurrent
+00023c40: 4c6f 7373 6573 222c 2061 7665 7261 6765  Losses", average
+00023c50: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
+00023c60: 2020 206c 6f67 5f64 6963 745b 2261 7665     log_dict["ave
+00023c70: 7261 6765 5f6c 6f73 7365 7322 5d5b 2263  rage_losses"]["c
+00023c80: 6f72 655f 6879 7374 5f6c 6f73 7365 7322  ore_hyst_losses"
+00023c90: 5d20 3d20 5b0a 2020 2020 2020 2020 2020  ] = [.          
+00023ca0: 2020 2020 2020 305d 2020 2320 756e 7469        0]  # unti
+00023cb0: 6c20 7468 6520 6879 7374 6572 6573 6973  l the hysteresis
+00023cc0: 206c 6f73 7365 7320 6172 6520 636f 7272   losses are corr
+00023cd0: 6563 746c 7920 6465 6669 6e65 6420 696e  ectly defined in
+00023ce0: 2074 696d 655f 646f 6d61 696e 0a0a 2020   time_domain..  
+00023cf0: 2020 2020 2020 2020 2020 2320 436f 7265            # Core
+00023d00: 2050 6172 7420 6c6f 7373 6573 0a20 2020   Part losses.   
+00023d10: 2020 2020 2020 2020 2069 6620 6c65 6e28           if len(
+00023d20: 7365 6c66 2e6d 6573 682e 706c 616e 655f  self.mesh.plane_
+00023d30: 7375 7266 6163 655f 636f 7265 2920 3e20  surface_core) > 
+00023d40: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
+00023d50: 2020 206c 6f67 5f64 6963 745b 2261 7665     log_dict["ave
+00023d60: 7261 6765 5f6c 6f73 7365 7322 5d5b 2263  rage_losses"]["c
+00023d70: 6f72 655f 7061 7274 7322 5d20 3d20 7b7d  ore_parts"] = {}
+00023d80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023d90: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
+00023da0: 302c 206c 656e 2873 656c 662e 6d65 7368  0, len(self.mesh
+00023db0: 2e70 6c61 6e65 5f73 7572 6661 6365 5f63  .plane_surface_c
+00023dc0: 6f72 6529 293a 0a20 2020 2020 2020 2020  ore)):.         
+00023dd0: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
+00023de0: 6963 745b 2261 7665 7261 6765 5f6c 6f73  ict["average_los
+00023df0: 7365 7322 5d5b 2263 6f72 655f 7061 7274  ses"]["core_part
+00023e00: 7322 5d5b 6622 636f 7265 5f70 6172 745f  s"][f"core_part_
+00023e10: 7b69 202b 2031 7d22 5d20 3d20 7b7d 0a0a  {i + 1}"] = {}..
+00023e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023e30: 2020 2020 2320 4c6f 6164 2045 6464 7920      # Load Eddy 
+00023e40: 4375 7272 656e 7420 4c6f 7373 6573 2066  Current Losses f
+00023e50: 6f72 2074 6865 2063 6f72 6520 7061 7274  or the core part
+00023e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023e70: 2020 2020 2065 6464 7920 3d20 7365 6c66       eddy = self
+00023e80: 2e6c 6f61 645f 7265 7375 6c74 2872 6573  .load_result(res
+00023e90: 5f6e 616d 653d 6622 636f 7265 5f70 6172  _name=f"core_par
+00023ea0: 7473 2f43 6f72 6545 6464 7943 7572 7265  ts/CoreEddyCurre
+00023eb0: 6e74 4c6f 7373 6573 5f7b 6920 2b20 317d  ntLosses_{i + 1}
+00023ec0: 222c 2061 7665 7261 6765 3d54 7275 6529  ", average=True)
+00023ed0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00023ee0: 2020 2020 206c 6f67 5f64 6963 745b 2261       log_dict["a
+00023ef0: 7665 7261 6765 5f6c 6f73 7365 7322 5d5b  verage_losses"][
+00023f00: 2263 6f72 655f 7061 7274 7322 5d5b 6622  "core_parts"][f"
+00023f10: 636f 7265 5f70 6172 745f 7b69 202b 2031  core_part_{i + 1
+00023f20: 7d22 5d5b 2265 6464 795f 6c6f 7373 6573  }"]["eddy_losses
+00023f30: 225d 203d 2065 6464 790a 0a20 2020 2020  "] = eddy..     
+00023f40: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00023f50: 204c 6f61 6420 4879 7374 6572 6573 6973   Load Hysteresis
+00023f60: 204c 6f73 7365 7320 666f 7220 7468 6520   Losses for the 
+00023f70: 636f 7265 2070 6172 740a 2020 2020 2020  core part.      
+00023f80: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00023f90: 6879 7374 203d 2073 656c 662e 6c6f 6164  hyst = self.load
+00023fa0: 5f72 6573 756c 7428 7265 735f 6e61 6d65  _result(res_name
+00023fb0: 3d66 2263 6f72 655f 7061 7274 732f 705f  =f"core_parts/p_
+00023fc0: 6879 7374 5f7b 6920 2b20 317d 222c 2061  hyst_{i + 1}", a
+00023fd0: 7665 7261 6765 3d54 7275 6529 0a20 2020  verage=True).   
+00023fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00023ff0: 2068 7973 7420 3d20 300a 2020 2020 2020   hyst = 0.      
+00024000: 2020 2020 2020 2020 2020 2020 2020 6c6f                lo
+00024010: 675f 6469 6374 5b22 6176 6572 6167 655f  g_dict["average_
+00024020: 6c6f 7373 6573 225d 5b22 636f 7265 5f70  losses"]["core_p
+00024030: 6172 7473 225d 5b66 2263 6f72 655f 7061  arts"][f"core_pa
+00024040: 7274 5f7b 6920 2b20 317d 225d 5b22 6879  rt_{i + 1}"]["hy
+00024050: 7374 5f6c 6f73 7365 7322 5d20 3d20 6879  st_losses"] = hy
+00024060: 7374 0a0a 2020 2020 2020 2020 2020 2020  st..            
+00024070: 2020 2020 2020 2020 2320 4361 6c63 756c          # Calcul
+00024080: 6174 6520 7468 6520 746f 7461 6c20 6c6f  ate the total lo
+00024090: 7373 6573 2066 6f72 2065 7665 7279 2063  sses for every c
+000240a0: 6f72 6520 7061 7274 0a20 2020 2020 2020  ore part.       
+000240b0: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+000240c0: 5f64 6963 745b 2261 7665 7261 6765 5f6c  _dict["average_l
+000240d0: 6f73 7365 7322 5d5b 2263 6f72 655f 7061  osses"]["core_pa
+000240e0: 7274 7322 5d5b 6622 636f 7265 5f70 6172  rts"][f"core_par
+000240f0: 745f 7b69 202b 2031 7d22 5d5b 6622 746f  t_{i + 1}"][f"to
+00024100: 7461 6c5f 636f 7265 5f70 6172 745f 7b69  tal_core_part_{i
+00024110: 202b 2031 7d22 5d20 3d20 6564 6479 5b30   + 1}"] = eddy[0
+00024120: 5d20 2b20 6879 7374 0a0a 2020 2020 2020  ] + hyst..      
+00024130: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00024140: 2020 2020 2020 2020 2020 2020 2320 6966              # if
+00024150: 2074 6865 7265 2069 7320 6f6e 6c79 206f   there is only o
+00024160: 6e65 2063 6f72 6520 7061 7274 0a20 2020  ne core part.   
+00024170: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+00024180: 5f64 6963 745b 2261 7665 7261 6765 5f6c  _dict["average_l
+00024190: 6f73 7365 7322 5d5b 2263 6f72 655f 7061  osses"]["core_pa
+000241a0: 7274 7322 5d20 3d20 7b7d 0a20 2020 2020  rts"] = {}.     
+000241b0: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
+000241c0: 6963 745b 2261 7665 7261 6765 5f6c 6f73  ict["average_los
+000241d0: 7365 7322 5d5b 2263 6f72 655f 7061 7274  ses"]["core_part
+000241e0: 7322 5d5b 2263 6f72 655f 7061 7274 5f31  s"]["core_part_1
+000241f0: 225d 203d 207b 7d0a 2020 2020 2020 2020  "] = {}.        
+00024200: 2020 2020 2020 2020 2320 4173 7375 6d69          # Assumi
+00024210: 6e67 2079 6f75 2068 6176 6520 616c 7265  ng you have alre
+00024220: 6164 7920 6c6f 6164 6564 2063 6f72 655f  ady loaded core_
+00024230: 6564 6479 5f6c 6f73 7365 7320 616e 6420  eddy_losses and 
+00024240: 636f 7265 5f68 7973 745f 6c6f 7373 6573  core_hyst_losses
+00024250: 2073 6f6d 6577 6865 7265 2061 626f 7665   somewhere above
+00024260: 2069 6e20 7468 6520 636f 6465 0a20 2020   in the code.   
+00024270: 2020 2020 2020 2020 2020 2020 2074 6f74               tot
+00024280: 616c 5f6c 6f73 7320 3d20 6c6f 675f 6469  al_loss = log_di
+00024290: 6374 5b22 6176 6572 6167 655f 6c6f 7373  ct["average_loss
+000242a0: 6573 225d 5b22 636f 7265 5f65 6464 795f  es"]["core_eddy_
+000242b0: 6c6f 7373 6573 225d 202b 206c 6f67 5f64  losses"] + log_d
+000242c0: 6963 745b 2261 7665 7261 6765 5f6c 6f73  ict["average_los
+000242d0: 7365 7322 5d5b 2263 6f72 655f 6879 7374  ses"]["core_hyst
+000242e0: 5f6c 6f73 7365 7322 5d0a 2020 2020 2020  _losses"].      
+000242f0: 2020 2020 2020 2020 2020 6c6f 675f 6469            log_di
+00024300: 6374 5b22 6176 6572 6167 655f 6c6f 7373  ct["average_loss
+00024310: 6573 225d 5b22 636f 7265 5f70 6172 7473  es"]["core_parts
+00024320: 225d 5b22 636f 7265 5f70 6172 745f 3122  "]["core_part_1"
+00024330: 5d5b 2274 6f74 616c 5f63 6f72 655f 7061  ]["total_core_pa
+00024340: 7274 5f31 225d 203d 2074 6f74 616c 5f6c  rt_1"] = total_l
+00024350: 6f73 735b 305d 0a0a 2020 2020 2020 2020  oss[0]..        
+00024360: 2020 2020 2320 6176 6572 6167 6520 7769      # average wi
+00024370: 6e64 696e 6720 6c6f 7373 6573 2c20 7475  nding losses, tu
+00024380: 726e 735f 6c6f 7373 6573 2c20 6375 7272  rns_losses, curr
+00024390: 656e 742c 2076 6f6c 7461 6765 2c20 706f  ent, voltage, po
+000243a0: 7765 7220 6c6f 7373 6573 2c20 6574 632e  wer losses, etc.
+000243b0: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+000243c0: 2077 696e 6469 6e67 5f6e 756d 2069 6e20   winding_num in 
+000243d0: 7261 6e67 6528 6c65 6e28 7365 6c66 2e77  range(len(self.w
+000243e0: 696e 6469 6e67 7329 293a 0a20 2020 2020  indings)):.     
+000243f0: 2020 2020 2020 2020 2020 206c 6f73 7365             losse
+00024400: 735f 6469 6374 203d 207b 0a20 2020 2020  s_dict = {.     
+00024410: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+00024420: 7475 726e 5f6c 6f73 7365 7322 3a20 5b5d  turn_losses": []
+00024430: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00024440: 2020 2020 2020 2277 696e 6469 6e67 5f6c        "winding_l
+00024450: 6f73 7365 7322 3a20 5b5d 2c0a 2020 2020  osses": [],.    
+00024460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024470: 2266 6c75 785f 6f76 6572 5f63 7572 7265  "flux_over_curre
+00024480: 6e74 223a 205b 5d2c 0a20 2020 2020 2020  nt": [],.       
+00024490: 2020 2020 2020 2020 2020 2020 2022 6176               "av
+000244a0: 6572 6167 655f 6375 7272 656e 7422 3a20  erage_current": 
+000244b0: 5b5d 2c0a 2020 2020 2020 2020 2020 2020  [],.            
+000244c0: 2020 2020 2020 2020 2261 7665 7261 6765          "average
+000244d0: 5f76 6f6c 7461 6765 223a 205b 5d2c 0a20  _voltage": [],. 
 000244e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000244f0: 6c6f 7373 6573 5f64 6963 745b 2261 7665  losses_dict["ave
-00024500: 7261 6765 5f76 6f6c 7461 6765 225d 203d  rage_voltage"] =
-00024510: 2073 656c 662e 6c6f 6164 5f72 6573 756c   self.load_resul
-00024520: 7428 7265 735f 6e61 6d65 3d66 2256 6f6c  t(res_name=f"Vol
-00024530: 7461 6765 5f7b 7769 6e64 696e 675f 6e75  tage_{winding_nu
-00024540: 6d20 2b20 317d 222c 0a20 2020 2020 2020  m + 1}",.       
-00024550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024580: 2020 2020 2020 2020 2020 2072 6573 5f74             res_t
-00024590: 7970 653d 2276 616c 7565 222c 2061 7665  ype="value", ave
-000245a0: 7261 6765 3d54 7275 6529 0a20 2020 2020  rage=True).     
-000245b0: 2020 2020 2020 2020 2020 2023 2072 6d73             # rms
-000245c0: 5f76 6f6c 7461 6765 2066 6f72 2065 7665  _voltage for eve
-000245d0: 7279 2077 696e 6469 6e67 0a20 2020 2020  ry winding.     
-000245e0: 2020 2020 2020 2020 2020 2023 2072 6d73             # rms
-000245f0: 5f76 6f6c 7461 6765 2066 6f72 2065 7665  _voltage for eve
-00024600: 7279 2077 696e 6469 6e67 0a20 2020 2020  ry winding.     
-00024610: 2020 2020 2020 2020 2020 206c 6f73 7365             losse
-00024620: 735f 6469 6374 5b22 726d 735f 766f 6c74  s_dict["rms_volt
-00024630: 6167 6522 5d20 3d20 7365 6c66 2e6c 6f61  age"] = self.loa
-00024640: 645f 7265 7375 6c74 2872 6573 5f6e 616d  d_result(res_nam
-00024650: 653d 6622 566f 6c74 6167 655f 7b77 696e  e=f"Voltage_{win
-00024660: 6469 6e67 5f6e 756d 202b 2031 7d22 2c20  ding_num + 1}", 
-00024670: 7265 735f 7479 7065 3d22 7661 6c75 6522  res_type="value"
-00024680: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00024690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000246a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000246b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000246c0: 726d 733d 5472 7565 290a 0a20 2020 2020  rms=True)..     
-000246d0: 2020 2020 2020 2020 2020 2023 2063 6f6d             # com
-000246e0: 7075 7465 2061 7665 7261 6765 2070 6f77  pute average pow
-000246f0: 6572 2066 6f72 2065 7665 7279 2077 696e  er for every win
-00024700: 6469 6e67 0a20 2020 2020 2020 2020 2020  ding.           
-00024710: 2020 2020 206c 6f73 7365 735f 6469 6374       losses_dict
-00024720: 5b22 5022 5d20 3d20 6c6f 7373 6573 5f64  ["P"] = losses_d
-00024730: 6963 745b 2261 7665 7261 6765 5f63 7572  ict["average_cur
-00024740: 7265 6e74 225d 5b30 5d20 2a20 6c6f 7373  rent"][0] * loss
-00024750: 6573 5f64 6963 745b 2261 7665 7261 6765  es_dict["average
-00024760: 5f76 6f6c 7461 6765 225d 5b30 5d0a 2020  _voltage"][0].  
-00024770: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-00024780: 636f 6d70 7574 2061 7070 6172 656e 7420  comput apparent 
-00024790: 706f 7765 7220 666f 7220 6576 6572 7920  power for every 
-000247a0: 7769 6e64 696e 670a 2020 2020 2020 2020  winding.        
-000247b0: 2020 2020 2020 2020 6c6f 7373 6573 5f64          losses_d
-000247c0: 6963 745b 2253 225d 203d 206c 6f73 7365  ict["S"] = losse
-000247d0: 735f 6469 6374 5b22 726d 735f 6375 7272  s_dict["rms_curr
-000247e0: 656e 7422 5d5b 305d 202a 206c 6f73 7365  ent"][0] * losse
-000247f0: 735f 6469 6374 5b22 726d 735f 766f 6c74  s_dict["rms_volt
-00024800: 6167 6522 5d5b 305d 0a20 2020 2020 2020  age"][0].       
-00024810: 2020 2020 2020 2020 2023 2043 6f6d 7075           # Compu
-00024820: 7465 2072 6561 6374 6976 6520 706f 7765  te reactive powe
-00024830: 7220 666f 7220 6576 6572 7920 7769 6e64  r for every wind
-00024840: 696e 6720 7573 696e 6720 7468 6520 7371  ing using the sq
-00024850: 7561 7265 2072 6f6f 7473 206f 6620 5320  uare roots of S 
-00024860: 616e 6420 500a 2020 2020 2020 2020 2020  and P.          
-00024870: 2020 2020 2020 6c6f 7373 6573 5f64 6963        losses_dic
-00024880: 745b 2251 225d 203d 206e 702e 7371 7274  t["Q"] = np.sqrt
-00024890: 2861 6273 286c 6f73 7365 735f 6469 6374  (abs(losses_dict
-000248a0: 5b22 5322 5d20 2a2a 2032 202d 206c 6f73  ["S"] ** 2 - los
-000248b0: 7365 735f 6469 6374 5b22 5022 5d20 2a2a  ses_dict["P"] **
-000248c0: 2032 2929 0a0a 2020 2020 2020 2020 2020   2))..          
-000248d0: 2020 2020 2020 2320 466c 7578 206f 7665        # Flux ove
-000248e0: 7220 4375 7272 656e 740a 2020 2020 2020  r Current.      
-000248f0: 2020 2020 2020 2020 2020 6c6f 7373 6573            losses
-00024900: 5f64 6963 745b 2266 6c75 785f 6f76 6572  _dict["flux_over
-00024910: 5f63 7572 7265 6e74 225d 203d 2073 656c  _current"] = sel
-00024920: 662e 6c6f 6164 5f72 6573 756c 7428 7265  f.load_result(re
-00024930: 735f 6e61 6d65 3d66 224c 5f7b 7769 6e64  s_name=f"L_{wind
-00024940: 696e 675f 6e75 6d20 2b20 317d 5f7b 7769  ing_num + 1}_{wi
-00024950: 6e64 696e 675f 6e75 6d20 2b20 317d 222c  nding_num + 1}",
-00024960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000244f0: 2020 2022 726d 735f 6375 7272 656e 7422     "rms_current"
+00024500: 3a20 5b5d 2c0a 2020 2020 2020 2020 2020  : [],.          
+00024510: 2020 2020 2020 2020 2020 2272 6d73 5f76            "rms_v
+00024520: 6f6c 7461 6765 223a 205b 5d2c 0a20 2020  oltage": [],.   
+00024530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024540: 2022 5022 3a20 5b5d 2c0a 2020 2020 2020   "P": [],.      
+00024550: 2020 2020 2020 2020 2020 2020 2020 2253                "S
+00024560: 223a 205b 5d2c 0a20 2020 2020 2020 2020  ": [],.         
+00024570: 2020 2020 2020 2020 2020 2022 5122 3a20             "Q": 
+00024580: 5b5d 0a20 2020 2020 2020 2020 2020 2020  [].             
+00024590: 2020 207d 0a20 2020 2020 2020 2020 2020     }.           
+000245a0: 2020 2020 2023 204e 756d 6265 7220 6f66       # Number of
+000245b0: 2074 7572 6e73 0a20 2020 2020 2020 2020   turns.         
+000245c0: 2020 2020 2020 2074 7572 6e73 203d 2030         turns = 0
+000245d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000245e0: 2066 6f72 2077 7720 696e 2073 656c 662e   for ww in self.
+000245f0: 7769 6e64 696e 675f 7769 6e64 6f77 733a  winding_windows:
+00024600: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024610: 2020 2020 2066 6f72 2076 7777 2069 6e20       for vww in 
+00024620: 7777 2e76 6972 7475 616c 5f77 696e 6469  ww.virtual_windi
+00024630: 6e67 5f77 696e 646f 7773 3a0a 2020 2020  ng_windows:.    
+00024640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024650: 2020 2020 666f 7220 636f 6e64 7563 746f      for conducto
+00024660: 7220 696e 2076 7777 2e77 696e 6469 6e67  r in vww.winding
+00024670: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00024680: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00024690: 6620 636f 6e64 7563 746f 722e 7769 6e64  f conductor.wind
+000246a0: 696e 675f 6e75 6d62 6572 203d 3d20 7769  ing_number == wi
+000246b0: 6e64 696e 675f 6e75 6d3a 0a20 2020 2020  nding_num:.     
+000246c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000246d0: 2020 2020 2020 2020 2020 2074 7572 6e73             turns
+000246e0: 202b 3d20 7677 772e 7475 726e 735b 636f   += vww.turns[co
+000246f0: 6e64 7563 746f 722e 7769 6e64 696e 675f  nductor.winding_
+00024700: 6e75 6d62 6572 5d0a 0a20 2020 2020 2020  number]..       
+00024710: 2020 2020 2020 2020 206c 6f73 7365 735f           losses_
+00024720: 6469 6374 5b22 6e75 6d62 6572 5f74 7572  dict["number_tur
+00024730: 6e73 225d 203d 2074 7572 6e73 0a0a 2020  ns"] = turns..  
+00024740: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00024750: 6375 7272 656e 745f 6176 6572 6167 6520  current_average 
+00024760: 666f 7220 6576 6572 7920 7769 6e64 696e  for every windin
+00024770: 670a 2020 2020 2020 2020 2020 2020 2020  g.              
+00024780: 2020 2320 6966 2077 696e 6469 6e67 5f6e    # if winding_n
+00024790: 756d 203c 206c 656e 2873 656c 662e 6176  um < len(self.av
+000247a0: 6572 6167 655f 6375 7272 656e 7473 293a  erage_currents):
+000247b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000247c0: 206c 6f73 7365 735f 6469 6374 5b22 6176   losses_dict["av
+000247d0: 6572 6167 655f 6375 7272 656e 7422 5d20  erage_current"] 
+000247e0: 3d20 5b73 656c 662e 6176 6572 6167 655f  = [self.average_
+000247f0: 6375 7272 656e 7473 5b77 696e 6469 6e67  currents[winding
+00024800: 5f6e 756d 5d5d 0a20 2020 2020 2020 2020  _num]].         
+00024810: 2020 2020 2020 206c 6f73 7365 735f 6469         losses_di
+00024820: 6374 5b22 726d 735f 6375 7272 656e 7422  ct["rms_current"
+00024830: 5d20 3d20 5b73 656c 662e 726d 735f 6375  ] = [self.rms_cu
+00024840: 7272 656e 7473 5b77 696e 6469 6e67 5f6e  rrents[winding_n
+00024850: 756d 5d5d 0a20 2020 2020 2020 2020 2020  um]].           
+00024860: 2020 2020 2023 2076 6f6c 7461 6765 5f61       # voltage_a
+00024870: 7665 7261 6765 2066 6f72 2065 7665 7279  verage for every
+00024880: 2077 696e 6469 6e67 0a20 2020 2020 2020   winding.       
+00024890: 2020 2020 2020 2020 2023 206c 6f73 7365           # losse
+000248a0: 735f 6469 6374 5b22 6176 6572 6167 655f  s_dict["average_
+000248b0: 766f 6c74 6167 6522 5d2e 6170 7065 6e64  voltage"].append
+000248c0: 2873 656c 662e 6c6f 6164 5f72 6573 756c  (self.load_resul
+000248d0: 7428 7265 735f 6e61 6d65 3d66 2256 6f6c  t(res_name=f"Vol
+000248e0: 7461 6765 5f7b 7769 6e64 696e 675f 6e75  tage_{winding_nu
+000248f0: 6d20 2b20 317d 222c 2072 6573 5f74 7970  m + 1}", res_typ
+00024900: 653d 2276 616c 7565 222c 2061 7665 7261  e="value", avera
+00024910: 6765 3d54 7275 6529 290a 2020 2020 2020  ge=True)).      
+00024920: 2020 2020 2020 2020 2020 6c6f 7373 6573            losses
+00024930: 5f64 6963 745b 2261 7665 7261 6765 5f76  _dict["average_v
+00024940: 6f6c 7461 6765 225d 203d 2073 656c 662e  oltage"] = self.
+00024950: 6c6f 6164 5f72 6573 756c 7428 7265 735f  load_result(res_
+00024960: 6e61 6d65 3d66 2256 6f6c 7461 6765 5f7b  name=f"Voltage_{
+00024970: 7769 6e64 696e 675f 6e75 6d20 2b20 317d  winding_num + 1}
+00024980: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
 00024990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000249a0: 2020 2020 2072 6573 5f74 7970 653d 2276       res_type="v
-000249b0: 616c 7565 222c 2061 7665 7261 6765 3d54  alue", average=T
-000249c0: 7275 6529 0a0a 2020 2020 2020 2020 2020  rue)..          
-000249d0: 2020 2020 2020 2320 6c6f 7373 6573 5f61        # losses_a
-000249e0: 7665 7261 6765 730a 2020 2020 2020 2020  verages.        
-000249f0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00024a00: 7769 6e64 696e 6773 5b77 696e 6469 6e67  windings[winding
-00024a10: 5f6e 756d 5d2e 636f 6e64 7563 746f 725f  _num].conductor_
-00024a20: 7479 7065 203d 3d20 436f 6e64 7563 746f  type == Conducto
-00024a30: 7254 7970 652e 526f 756e 644c 6974 7a3a  rType.RoundLitz:
-00024a40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000249a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000249b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000249c0: 2020 2020 2072 6573 5f74 7970 653d 2276       res_type="v
+000249d0: 616c 7565 222c 2061 7665 7261 6765 3d54  alue", average=T
+000249e0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
+000249f0: 2020 2020 2023 2072 6d73 5f76 6f6c 7461       # rms_volta
+00024a00: 6765 2066 6f72 2065 7665 7279 2077 696e  ge for every win
+00024a10: 6469 6e67 0a20 2020 2020 2020 2020 2020  ding.           
+00024a20: 2020 2020 2023 2072 6d73 5f76 6f6c 7461       # rms_volta
+00024a30: 6765 2066 6f72 2065 7665 7279 2077 696e  ge for every win
+00024a40: 6469 6e67 0a20 2020 2020 2020 2020 2020  ding.           
 00024a50: 2020 2020 206c 6f73 7365 735f 6469 6374       losses_dict
-00024a60: 5b22 7769 6e64 696e 675f 6c6f 7373 6573  ["winding_losses
-00024a70: 225d 203d 205c 0a20 2020 2020 2020 2020  "] = \.         
-00024a80: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00024a90: 656c 662e 6c6f 6164 5f72 6573 756c 7428  elf.load_result(
-00024aa0: 7265 735f 6e61 6d65 3d66 226a 3248 5f7b  res_name=f"j2H_{
-00024ab0: 7769 6e64 696e 675f 6e75 6d20 2b20 317d  winding_num + 1}
-00024ac0: 222c 2072 6573 5f74 7970 653d 2276 616c  ", res_type="val
-00024ad0: 7565 222c 2061 7665 7261 6765 3d54 7275  ue", average=Tru
-00024ae0: 6529 0a0a 2020 2020 2020 2020 2020 2020  e)..            
-00024af0: 2020 2020 2020 2020 6966 206c 6f73 7365          if losse
-00024b00: 735f 6469 6374 5b22 7769 6e64 696e 675f  s_dict["winding_
-00024b10: 6c6f 7373 6573 225d 3a0a 2020 2020 2020  losses"]:.      
-00024b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024b30: 2020 6c6f 7373 6573 5f64 6963 745b 2277    losses_dict["w
-00024b40: 696e 6469 6e67 5f6c 6f73 7365 7322 5d20  inding_losses"] 
-00024b50: 3d20 6c6f 7373 6573 5f64 6963 745b 2277  = losses_dict["w
-00024b60: 696e 6469 6e67 5f6c 6f73 7365 7322 5d5b  inding_losses"][
-00024b70: 305d 0a0a 2020 2020 2020 2020 2020 2020  0]..            
-00024b80: 2020 2020 2020 2020 666f 7220 7475 726e          for turn
-00024b90: 2069 6e20 7261 6e67 6528 302c 206c 6f73   in range(0, los
-00024ba0: 7365 735f 6469 6374 5b22 6e75 6d62 6572  ses_dict["number
-00024bb0: 5f74 7572 6e73 225d 293a 0a20 2020 2020  _turns"]):.     
-00024bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024bd0: 2020 2074 7572 6e5f 6c6f 7373 203d 2073     turn_loss = s
-00024be0: 656c 662e 6c6f 6164 5f72 6573 756c 7428  elf.load_result(
-00024bf0: 7265 735f 6e61 6d65 3d66 227b 7769 6e64  res_name=f"{wind
-00024c00: 696e 675f 6e61 6d65 5b77 696e 6469 6e67  ing_name[winding
-00024c10: 5f6e 756d 5d7d 2f4c 6f73 7365 735f 7475  _num]}/Losses_tu
-00024c20: 726e 5f7b 7475 726e 202b 2031 7d22 2c0a  rn_{turn + 1}",.
-00024c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c60: 2020 2020 2061 7665 7261 6765 3d54 7275       average=Tru
-00024c70: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00024c80: 2020 2020 2020 2020 2020 206c 6f73 7365             losse
-00024c90: 735f 6469 6374 5b22 7475 726e 5f6c 6f73  s_dict["turn_los
-00024ca0: 7365 7322 5d2e 6170 7065 6e64 2874 7572  ses"].append(tur
-00024cb0: 6e5f 6c6f 7373 5b30 5d29 0a0a 2020 2020  n_loss[0])..    
-00024cc0: 2020 2020 2020 2020 2020 2020 2320 4361              # Ca
-00024cd0: 7365 2053 6f6c 6964 3a20 4c6f 6164 2072  se Solid: Load r
-00024ce0: 6573 756c 7473 2c20 2870 6974 6661 6c6c  esults, (pitfall
-00024cf0: 2066 6f72 2070 6172 616c 6c65 6c20 7769   for parallel wi
-00024d00: 6e64 696e 6773 2072 6573 756c 7473 2061  ndings results a
-00024d10: 7265 206f 6e6c 7920 7374 6f72 6564 2069  re only stored i
-00024d20: 6e20 6f6e 6520 7475 726e 2129 0a20 2020  n one turn!).   
-00024d30: 2020 2020 2020 2020 2020 2020 2065 6c73               els
-00024d40: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-00024d50: 2020 2020 2020 206c 6f73 7365 735f 6469         losses_di
-00024d60: 6374 5b22 7769 6e64 696e 675f 6c6f 7373  ct["winding_loss
-00024d70: 6573 225d 203d 205c 0a20 2020 2020 2020  es"] = \.       
-00024d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024d90: 2073 656c 662e 6c6f 6164 5f72 6573 756c   self.load_resul
-00024da0: 7428 7265 735f 6e61 6d65 3d66 226a 3246  t(res_name=f"j2F
-00024db0: 5f7b 7769 6e64 696e 675f 6e75 6d20 2b20  _{winding_num + 
-00024dc0: 317d 222c 2061 7665 7261 6765 3d54 7275  1}", average=Tru
-00024dd0: 6529 0a0a 2020 2020 2020 2020 2020 2020  e)..            
-00024de0: 2020 2020 2020 2020 6966 206c 6f73 7365          if losse
-00024df0: 735f 6469 6374 5b22 7769 6e64 696e 675f  s_dict["winding_
-00024e00: 6c6f 7373 6573 225d 3a0a 2020 2020 2020  losses"]:.      
-00024e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024e20: 2020 6c6f 7373 6573 5f64 6963 745b 2277    losses_dict["w
-00024e30: 696e 6469 6e67 5f6c 6f73 7365 7322 5d20  inding_losses"] 
-00024e40: 3d20 6c6f 7373 6573 5f64 6963 745b 2277  = losses_dict["w
-00024e50: 696e 6469 6e67 5f6c 6f73 7365 7322 5d5b  inding_losses"][
-00024e60: 305d 0a0a 2020 2020 2020 2020 2020 2020  0]..            
-00024e70: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00024e80: 7769 6e64 696e 6773 5b77 696e 6469 6e67  windings[winding
-00024e90: 5f6e 756d 5d2e 7061 7261 6c6c 656c 3a0a  _num].parallel:.
-00024ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024eb0: 2020 2020 2020 2020 7475 726e 5f6c 6f73          turn_los
-00024ec0: 7320 3d20 7365 6c66 2e6c 6f61 645f 7265  s = self.load_re
-00024ed0: 7375 6c74 2872 6573 5f6e 616d 653d 7769  sult(res_name=wi
-00024ee0: 6e64 696e 675f 6e61 6d65 5b77 696e 6469  nding_name[windi
-00024ef0: 6e67 5f6e 756d 5d20 2b20 6622 2f4c 6f73  ng_num] + f"/Los
-00024f00: 7365 735f 7475 726e 5f7b 317d 222c 2061  ses_turn_{1}", a
-00024f10: 7665 7261 6765 3d54 7275 6529 0a20 2020  verage=True).   
+00024a60: 5b22 726d 735f 766f 6c74 6167 6522 5d20  ["rms_voltage"] 
+00024a70: 3d20 7365 6c66 2e6c 6f61 645f 7265 7375  = self.load_resu
+00024a80: 6c74 2872 6573 5f6e 616d 653d 6622 566f  lt(res_name=f"Vo
+00024a90: 6c74 6167 655f 7b77 696e 6469 6e67 5f6e  ltage_{winding_n
+00024aa0: 756d 202b 2031 7d22 2c20 7265 735f 7479  um + 1}", res_ty
+00024ab0: 7065 3d22 7661 6c75 6522 2c0a 2020 2020  pe="value",.    
+00024ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024af0: 2020 2020 2020 2020 2020 726d 733d 5472            rms=Tr
+00024b00: 7565 290a 0a20 2020 2020 2020 2020 2020  ue)..           
+00024b10: 2020 2020 2023 2063 6f6d 7075 7465 2061       # compute a
+00024b20: 7665 7261 6765 2070 6f77 6572 2066 6f72  verage power for
+00024b30: 2065 7665 7279 2077 696e 6469 6e67 0a20   every winding. 
+00024b40: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00024b50: 6f73 7365 735f 6469 6374 5b22 5022 5d20  osses_dict["P"] 
+00024b60: 3d20 6c6f 7373 6573 5f64 6963 745b 2261  = losses_dict["a
+00024b70: 7665 7261 6765 5f63 7572 7265 6e74 225d  verage_current"]
+00024b80: 5b30 5d20 2a20 6c6f 7373 6573 5f64 6963  [0] * losses_dic
+00024b90: 745b 2261 7665 7261 6765 5f76 6f6c 7461  t["average_volta
+00024ba0: 6765 225d 5b30 5d0a 2020 2020 2020 2020  ge"][0].        
+00024bb0: 2020 2020 2020 2020 2320 636f 6d70 7574          # comput
+00024bc0: 6520 6170 7061 7265 6e74 2070 6f77 6572  e apparent power
+00024bd0: 2066 6f72 2065 7665 7279 2077 696e 6469   for every windi
+00024be0: 6e67 0a20 2020 2020 2020 2020 2020 2020  ng.             
+00024bf0: 2020 206c 6f73 7365 735f 6469 6374 5b22     losses_dict["
+00024c00: 5322 5d20 3d20 6c6f 7373 6573 5f64 6963  S"] = losses_dic
+00024c10: 745b 2272 6d73 5f63 7572 7265 6e74 225d  t["rms_current"]
+00024c20: 5b30 5d20 2a20 6c6f 7373 6573 5f64 6963  [0] * losses_dic
+00024c30: 745b 2272 6d73 5f76 6f6c 7461 6765 225d  t["rms_voltage"]
+00024c40: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+00024c50: 2020 2020 2320 436f 6d70 7574 6520 7265      # Compute re
+00024c60: 6163 7469 7665 2070 6f77 6572 2066 6f72  active power for
+00024c70: 2065 7665 7279 2077 696e 6469 6e67 2075   every winding u
+00024c80: 7369 6e67 2074 6865 2073 7175 6172 6520  sing the square 
+00024c90: 726f 6f74 7320 6f66 2053 2061 6e64 2050  roots of S and P
+00024ca0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024cb0: 206c 6f73 7365 735f 6469 6374 5b22 5122   losses_dict["Q"
+00024cc0: 5d20 3d20 6e70 2e73 7172 7428 6162 7328  ] = np.sqrt(abs(
+00024cd0: 6c6f 7373 6573 5f64 6963 745b 2253 225d  losses_dict["S"]
+00024ce0: 202a 2a20 3220 2d20 6c6f 7373 6573 5f64   ** 2 - losses_d
+00024cf0: 6963 745b 2250 225d 202a 2a20 3229 290a  ict["P"] ** 2)).
+00024d00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024d10: 2023 2046 6c75 7820 6f76 6572 2043 7572   # Flux over Cur
+00024d20: 7265 6e74 0a20 2020 2020 2020 2020 2020  rent.           
+00024d30: 2020 2020 206c 6f73 7365 735f 6469 6374       losses_dict
+00024d40: 5b22 666c 7578 5f6f 7665 725f 6375 7272  ["flux_over_curr
+00024d50: 656e 7422 5d20 3d20 7365 6c66 2e6c 6f61  ent"] = self.loa
+00024d60: 645f 7265 7375 6c74 2872 6573 5f6e 616d  d_result(res_nam
+00024d70: 653d 6622 4c5f 7b77 696e 6469 6e67 5f6e  e=f"L_{winding_n
+00024d80: 756d 202b 2031 7d5f 7b77 696e 6469 6e67  um + 1}_{winding
+00024d90: 5f6e 756d 202b 2031 7d22 2c0a 2020 2020  _num + 1}",.    
+00024da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024de0: 7265 735f 7479 7065 3d22 7661 6c75 6522  res_type="value"
+00024df0: 2c20 6176 6572 6167 653d 5472 7565 290a  , average=True).
+00024e00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024e10: 2023 206c 6f73 7365 735f 6176 6572 6167   # losses_averag
+00024e20: 6573 0a20 2020 2020 2020 2020 2020 2020  es.             
+00024e30: 2020 2069 6620 7365 6c66 2e77 696e 6469     if self.windi
+00024e40: 6e67 735b 7769 6e64 696e 675f 6e75 6d5d  ngs[winding_num]
+00024e50: 2e63 6f6e 6475 6374 6f72 5f74 7970 6520  .conductor_type 
+00024e60: 3d3d 2043 6f6e 6475 6374 6f72 5479 7065  == ConductorType
+00024e70: 2e52 6f75 6e64 4c69 747a 3a0a 2020 2020  .RoundLitz:.    
+00024e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024e90: 6c6f 7373 6573 5f64 6963 745b 2277 696e  losses_dict["win
+00024ea0: 6469 6e67 5f6c 6f73 7365 7322 5d20 3d20  ding_losses"] = 
+00024eb0: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00024ec0: 2020 2020 2020 2020 2020 7365 6c66 2e6c            self.l
+00024ed0: 6f61 645f 7265 7375 6c74 2872 6573 5f6e  oad_result(res_n
+00024ee0: 616d 653d 6622 6a32 485f 7b77 696e 6469  ame=f"j2H_{windi
+00024ef0: 6e67 5f6e 756d 202b 2031 7d22 2c20 7265  ng_num + 1}", re
+00024f00: 735f 7479 7065 3d22 7661 6c75 6522 2c20  s_type="value", 
+00024f10: 6176 6572 6167 653d 5472 7565 290a 0a20  average=True).. 
 00024f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024f30: 2020 2020 206c 6f73 7365 735f 6469 6374       losses_dict
-00024f40: 5b22 7475 726e 5f6c 6f73 7365 7322 5d2e  ["turn_losses"].
-00024f50: 6170 7065 6e64 2874 7572 6e5f 6c6f 7373  append(turn_loss
-00024f60: 5b30 5d29 0a0a 2020 2020 2020 2020 2020  [0])..          
-00024f70: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00024f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024f90: 2020 2020 2020 2020 666f 7220 7475 726e          for turn
-00024fa0: 2069 6e20 7261 6e67 6528 302c 206c 6f73   in range(0, los
-00024fb0: 7365 735f 6469 6374 5b22 6e75 6d62 6572  ses_dict["number
-00024fc0: 5f74 7572 6e73 225d 293a 2020 2320 6c6f  _turns"]):  # lo
-00024fd0: 6f70 206e 6565 6420 746f 2062 6520 6368  op need to be ch
-00024fe0: 6563 6b65 640a 2020 2020 2020 2020 2020  ecked.          
-00024ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025000: 2020 7475 726e 5f6c 6f73 7320 3d20 7365    turn_loss = se
-00025010: 6c66 2e6c 6f61 645f 7265 7375 6c74 280a  lf.load_result(.
-00025020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025040: 7265 735f 6e61 6d65 3d77 696e 6469 6e67  res_name=winding
-00025050: 5f6e 616d 655b 7769 6e64 696e 675f 6e75  _name[winding_nu
-00025060: 6d5d 202b 2066 222f 4c6f 7373 6573 5f74  m] + f"/Losses_t
-00025070: 7572 6e5f 7b74 7572 6e20 2b20 317d 222c  urn_{turn + 1}",
-00025080: 2061 7665 7261 6765 3d54 7275 6529 0a0a   average=True)..
+00024f30: 2020 2069 6620 6c6f 7373 6573 5f64 6963     if losses_dic
+00024f40: 745b 2277 696e 6469 6e67 5f6c 6f73 7365  t["winding_losse
+00024f50: 7322 5d3a 0a20 2020 2020 2020 2020 2020  s"]:.           
+00024f60: 2020 2020 2020 2020 2020 2020 206c 6f73               los
+00024f70: 7365 735f 6469 6374 5b22 7769 6e64 696e  ses_dict["windin
+00024f80: 675f 6c6f 7373 6573 225d 203d 206c 6f73  g_losses"] = los
+00024f90: 7365 735f 6469 6374 5b22 7769 6e64 696e  ses_dict["windin
+00024fa0: 675f 6c6f 7373 6573 225d 5b30 5d0a 0a20  g_losses"][0].. 
+00024fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024fc0: 2020 2066 6f72 2074 7572 6e20 696e 2072     for turn in r
+00024fd0: 616e 6765 2830 2c20 6c6f 7373 6573 5f64  ange(0, losses_d
+00024fe0: 6963 745b 226e 756d 6265 725f 7475 726e  ict["number_turn
+00024ff0: 7322 5d29 3a0a 2020 2020 2020 2020 2020  s"]):.          
+00025000: 2020 2020 2020 2020 2020 2020 2020 7475                tu
+00025010: 726e 5f6c 6f73 7320 3d20 7365 6c66 2e6c  rn_loss = self.l
+00025020: 6f61 645f 7265 7375 6c74 2872 6573 5f6e  oad_result(res_n
+00025030: 616d 653d 6622 7b77 696e 6469 6e67 5f6e  ame=f"{winding_n
+00025040: 616d 655b 7769 6e64 696e 675f 6e75 6d5d  ame[winding_num]
+00025050: 7d2f 4c6f 7373 6573 5f74 7572 6e5f 7b74  }/Losses_turn_{t
+00025060: 7572 6e20 2b20 317d 222c 0a20 2020 2020  urn + 1}",.     
+00025070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025080: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00025090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000250a0: 2020 2020 2020 2020 2020 2020 6c6f 7373              loss
-000250b0: 6573 5f64 6963 745b 2274 7572 6e5f 6c6f  es_dict["turn_lo
-000250c0: 7373 6573 225d 2e61 7070 656e 6428 7475  sses"].append(tu
-000250d0: 726e 5f6c 6f73 735b 305d 290a 0a20 2020  rn_loss[0])..   
-000250e0: 2020 2020 2020 2020 2020 2020 206c 6f67               log
-000250f0: 5f64 6963 745b 2261 7665 7261 6765 5f6c  _dict["average_l
-00025100: 6f73 7365 7322 5d5b 6622 7769 6e64 696e  osses"][f"windin
-00025110: 677b 7769 6e64 696e 675f 6e75 6d20 2b20  g{winding_num + 
-00025120: 317d 225d 203d 207b 0a20 2020 2020 2020  1}"] = {.       
-00025130: 2020 2020 2020 2020 2020 2020 2022 7769               "wi
-00025140: 6e64 696e 675f 6c6f 7373 6573 223a 206c  nding_losses": l
-00025150: 6f73 7365 735f 6469 6374 5b22 7769 6e64  osses_dict["wind
-00025160: 696e 675f 6c6f 7373 6573 225d 2c0a 2020  ing_losses"],.  
-00025170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025180: 2020 2274 7572 6e5f 6c6f 7373 6573 223a    "turn_losses":
-00025190: 206c 6f73 7365 735f 6469 6374 5b22 7475   losses_dict["tu
-000251a0: 726e 5f6c 6f73 7365 7322 5d2c 0a20 2020  rn_losses"],.   
-000251b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000251c0: 2022 666c 7578 5f6f 7665 725f 6375 7272   "flux_over_curr
-000251d0: 656e 7422 3a20 6c6f 7373 6573 5f64 6963  ent": losses_dic
-000251e0: 745b 2266 6c75 785f 6f76 6572 5f63 7572  t["flux_over_cur
-000251f0: 7265 6e74 225d 2c0a 2020 2020 2020 2020  rent"],.        
-00025200: 2020 2020 2020 2020 2020 2020 2261 7665              "ave
-00025210: 7261 6765 5f63 7572 7265 6e74 223a 206c  rage_current": l
-00025220: 6f73 7365 735f 6469 6374 5b22 6176 6572  osses_dict["aver
-00025230: 6167 655f 6375 7272 656e 7422 5d2c 0a20  age_current"],. 
-00025240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025250: 2020 2022 6176 6572 6167 655f 766f 6c74     "average_volt
-00025260: 6167 6522 3a20 6c6f 7373 6573 5f64 6963  age": losses_dic
-00025270: 745b 2261 7665 7261 6765 5f76 6f6c 7461  t["average_volta
-00025280: 6765 225d 2c0a 2020 2020 2020 2020 2020  ge"],.          
-00025290: 2020 2020 2020 2020 2020 2250 223a 206c            "P": l
-000252a0: 6f73 7365 735f 6469 6374 5b22 5022 5d2c  osses_dict["P"],
-000252b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000252c0: 2020 2020 2022 5322 3a20 6c6f 7373 6573       "S": losses
-000252d0: 5f64 6963 745b 2253 225d 2c0a 2020 2020  _dict["S"],.    
+000250a0: 6176 6572 6167 653d 5472 7565 290a 2020  average=True).  
+000250b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000250c0: 2020 2020 2020 6c6f 7373 6573 5f64 6963        losses_dic
+000250d0: 745b 2274 7572 6e5f 6c6f 7373 6573 225d  t["turn_losses"]
+000250e0: 2e61 7070 656e 6428 7475 726e 5f6c 6f73  .append(turn_los
+000250f0: 735b 305d 290a 0a20 2020 2020 2020 2020  s[0])..         
+00025100: 2020 2020 2020 2023 2043 6173 6520 536f         # Case So
+00025110: 6c69 643a 204c 6f61 6420 7265 7375 6c74  lid: Load result
+00025120: 732c 2028 7069 7466 616c 6c20 666f 7220  s, (pitfall for 
+00025130: 7061 7261 6c6c 656c 2077 696e 6469 6e67  parallel winding
+00025140: 7320 7265 7375 6c74 7320 6172 6520 6f6e  s results are on
+00025150: 6c79 2073 746f 7265 6420 696e 206f 6e65  ly stored in one
+00025160: 2074 7572 6e21 290a 2020 2020 2020 2020   turn!).        
+00025170: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+00025180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025190: 2020 6c6f 7373 6573 5f64 6963 745b 2277    losses_dict["w
+000251a0: 696e 6469 6e67 5f6c 6f73 7365 7322 5d20  inding_losses"] 
+000251b0: 3d20 5c0a 2020 2020 2020 2020 2020 2020  = \.            
+000251c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000251d0: 2e6c 6f61 645f 7265 7375 6c74 2872 6573  .load_result(res
+000251e0: 5f6e 616d 653d 6622 6a32 465f 7b77 696e  _name=f"j2F_{win
+000251f0: 6469 6e67 5f6e 756d 202b 2031 7d22 2c20  ding_num + 1}", 
+00025200: 6176 6572 6167 653d 5472 7565 290a 0a20  average=True).. 
+00025210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025220: 2020 2069 6620 6c6f 7373 6573 5f64 6963     if losses_dic
+00025230: 745b 2277 696e 6469 6e67 5f6c 6f73 7365  t["winding_losse
+00025240: 7322 5d3a 0a20 2020 2020 2020 2020 2020  s"]:.           
+00025250: 2020 2020 2020 2020 2020 2020 206c 6f73               los
+00025260: 7365 735f 6469 6374 5b22 7769 6e64 696e  ses_dict["windin
+00025270: 675f 6c6f 7373 6573 225d 203d 206c 6f73  g_losses"] = los
+00025280: 7365 735f 6469 6374 5b22 7769 6e64 696e  ses_dict["windin
+00025290: 675f 6c6f 7373 6573 225d 5b30 5d0a 0a20  g_losses"][0].. 
+000252a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000252b0: 2020 2069 6620 7365 6c66 2e77 696e 6469     if self.windi
+000252c0: 6e67 735b 7769 6e64 696e 675f 6e75 6d5d  ngs[winding_num]
+000252d0: 2e70 6172 616c 6c65 6c3a 0a20 2020 2020  .parallel:.     
 000252e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000252f0: 2251 223a 206c 6f73 7365 735f 6469 6374  "Q": losses_dict
-00025300: 5b22 5122 5d0a 2020 2020 2020 2020 2020  ["Q"].          
-00025310: 2020 2020 2020 7d0a 0a20 2020 2020 2020        }..       
-00025320: 2020 2020 2020 2020 2023 2057 696e 6469           # Windi
-00025330: 6e67 2028 616c 6c20 7769 6e64 696e 6773  ng (all windings
-00025340: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00025350: 2020 6c6f 675f 6469 6374 5b22 746f 7461    log_dict["tota
-00025360: 6c5f 6c6f 7373 6573 225d 5b22 616c 6c5f  l_losses"]["all_
-00025370: 7769 6e64 696e 6773 5f6c 6f73 7365 7322  windings_losses"
-00025380: 5d20 3d20 7375 6d28 0a20 2020 2020 2020  ] = sum(.       
-00025390: 2020 2020 2020 2020 2020 2020 2077 696e               win
-000253a0: 6469 6e67 5f69 6e66 6f5b 2277 696e 6469  ding_info["windi
-000253b0: 6e67 5f6c 6f73 7365 7322 5d20 666f 7220  ng_losses"] for 
-000253c0: 7769 6e64 696e 675f 696e 666f 2069 6e20  winding_info in 
-000253d0: 6c6f 675f 6469 6374 5b22 6176 6572 6167  log_dict["averag
-000253e0: 655f 6c6f 7373 6573 225d 2e76 616c 7565  e_losses"].value
-000253f0: 7328 2920 6966 0a20 2020 2020 2020 2020  s() if.         
-00025400: 2020 2020 2020 2020 2020 2022 7769 6e64             "wind
-00025410: 696e 675f 6c6f 7373 6573 2220 696e 2077  ing_losses" in w
-00025420: 696e 6469 6e67 5f69 6e66 6f29 0a20 2020  inding_info).   
-00025430: 2020 2020 2020 2020 2020 2020 2023 2063               # c
-00025440: 6f72 6573 0a20 2020 2020 2020 2020 2020  ores.           
-00025450: 2020 2020 206c 6f67 5f64 6963 745b 2274       log_dict["t
-00025460: 6f74 616c 5f6c 6f73 7365 7322 5d5b 2265  otal_losses"]["e
-00025470: 6464 795f 636f 7265 225d 203d 206c 6f67  ddy_core"] = log
-00025480: 5f64 6963 745b 2261 7665 7261 6765 5f6c  _dict["average_l
-00025490: 6f73 7365 7322 5d5b 2263 6f72 655f 6564  osses"]["core_ed
-000254a0: 6479 5f6c 6f73 7365 7322 5d5b 305d 202b  dy_losses"][0] +
-000254b0: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
-000254c0: 2020 2020 2020 206c 6f67 5f64 6963 745b         log_dict[
-000254d0: 2261 7665 7261 6765 5f6c 6f73 7365 7322  "average_losses"
-000254e0: 5d5b 2263 6f72 655f 6879 7374 5f6c 6f73  ]["core_hyst_los
-000254f0: 7365 7322 5d5b 305d 0a20 2020 2020 2020  ses"][0].       
-00025500: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
-00025510: 745b 2274 6f74 616c 5f6c 6f73 7365 7322  t["total_losses"
-00025520: 5d5b 0a20 2020 2020 2020 2020 2020 2020  ][.             
-00025530: 2020 2020 2020 2022 6879 7374 5f63 6f72         "hyst_cor
-00025540: 655f 6675 6e64 616d 656e 7461 6c5f 6672  e_fundamental_fr
-00025550: 6571 225d 203d 2030 2020 2320 6974 2069  eq"] = 0  # it i
-00025560: 7320 6865 7265 2030 2075 6e74 696c 2074  s here 0 until t
-00025570: 6865 2068 7973 7465 7273 6973 206c 6f73  he hystersis los
-00025580: 7365 7320 6361 6e20 6265 2064 6566 696e  ses can be defin
-00025590: 6564 2063 6f72 7265 6374 6c79 2069 6e20  ed correctly in 
-000255a0: 7468 6520 736f 6c76 6572 0a20 2020 2020  the solver.     
-000255b0: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
-000255c0: 6963 745b 2274 6f74 616c 5f6c 6f73 7365  ict["total_losse
-000255d0: 7322 5d5b 2263 6f72 6522 5d20 3d20 6c6f  s"]["core"] = lo
-000255e0: 675f 6469 6374 5b22 746f 7461 6c5f 6c6f  g_dict["total_lo
-000255f0: 7373 6573 225d 5b22 6879 7374 5f63 6f72  sses"]["hyst_cor
-00025600: 655f 6675 6e64 616d 656e 7461 6c5f 6672  e_fundamental_fr
-00025610: 6571 225d 202b 205c 0a20 2020 2020 2020  eq"] + \.       
-00025620: 2020 2020 2020 2020 2020 2020 206c 6f67               log
-00025630: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
-00025640: 7365 7322 5d5b 2265 6464 795f 636f 7265  ses"]["eddy_core
-00025650: 225d 0a20 2020 2020 2020 2020 2020 2020  "].             
-00025660: 2020 2023 2063 6f72 6520 7061 7274 206c     # core part l
-00025670: 6f73 7365 730a 2020 2020 2020 2020 2020  osses.          
-00025680: 2020 2020 2020 6966 206c 656e 2873 656c        if len(sel
-00025690: 662e 6d65 7368 2e70 6c61 6e65 5f73 7572  f.mesh.plane_sur
-000256a0: 6661 6365 5f63 6f72 6529 203e 2031 3a0a  face_core) > 1:.
-000256b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000256c0: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
-000256d0: 6765 286c 656e 2873 656c 662e 6d65 7368  ge(len(self.mesh
-000256e0: 2e70 6c61 6e65 5f73 7572 6661 6365 5f63  .plane_surface_c
-000256f0: 6f72 6529 293a 0a20 2020 2020 2020 2020  ore)):.         
-00025700: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00025710: 6f67 5f64 6963 745b 2274 6f74 616c 5f6c  og_dict["total_l
-00025720: 6f73 7365 7322 5d5b 6622 746f 7461 6c5f  osses"][f"total_
-00025730: 636f 7265 5f70 6172 745f 7b69 202b 2031  core_part_{i + 1
-00025740: 7d22 5d20 3d20 5c0a 2020 2020 2020 2020  }"] = \.        
-00025750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025760: 2020 2020 6c6f 675f 6469 6374 5b22 6176      log_dict["av
-00025770: 6572 6167 655f 6c6f 7373 6573 225d 5b22  erage_losses"]["
-00025780: 636f 7265 5f70 6172 7473 225d 5b66 2263  core_parts"][f"c
-00025790: 6f72 655f 7061 7274 5f7b 6920 2b20 317d  ore_part_{i + 1}
-000257a0: 225d 5b66 2274 6f74 616c 5f63 6f72 655f  "][f"total_core_
-000257b0: 7061 7274 5f7b 6920 2b20 317d 225d 5b30  part_{i + 1}"][0
-000257c0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-000257d0: 2020 6966 206c 656e 2873 656c 662e 6d65    if len(self.me
-000257e0: 7368 2e70 6c61 6e65 5f73 7572 6661 6365  sh.plane_surface
-000257f0: 5f63 6f72 6529 203d 3d20 313a 0a20 2020  _core) == 1:.   
-00025800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025810: 206c 6f67 5f64 6963 745b 2274 6f74 616c   log_dict["total
-00025820: 5f6c 6f73 7365 7322 5d5b 2274 6f74 616c  _losses"]["total
-00025830: 5f63 6f72 655f 7061 7274 5f31 225d 203d  _core_part_1"] =
-00025840: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
-00025850: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
-00025860: 6963 745b 2261 7665 7261 6765 5f6c 6f73  ict["average_los
-00025870: 7365 7322 5d5b 2263 6f72 655f 7061 7274  ses"]["core_part
-00025880: 7322 5d5b 2263 6f72 655f 7061 7274 5f31  s"]["core_part_1
-00025890: 225d 5b22 746f 7461 6c5f 636f 7265 5f70  "]["total_core_p
-000258a0: 6172 745f 3122 5d0a 0a20 2020 2020 2020  art_1"]..       
-000258b0: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
-000258c0: 745b 2274 6f74 616c 5f6c 6f73 7365 7322  t["total_losses"
-000258d0: 5d5b 2274 6f74 616c 5f6c 6f73 7365 7322  ]["total_losses"
-000258e0: 5d20 3d20 6c6f 675f 6469 6374 5b22 746f  ] = log_dict["to
-000258f0: 7461 6c5f 6c6f 7373 6573 225d 5b22 6879  tal_losses"]["hy
-00025900: 7374 5f63 6f72 655f 6675 6e64 616d 656e  st_core_fundamen
-00025910: 7461 6c5f 6672 6571 225d 202b 205c 0a20  tal_freq"] + \. 
-00025920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025930: 2020 206c 6f67 5f64 6963 745b 2274 6f74     log_dict["tot
-00025940: 616c 5f6c 6f73 7365 7322 5d5b 2265 6464  al_losses"]["edd
-00025950: 795f 636f 7265 225d 202b 205c 0a20 2020  y_core"] + \.   
+000252f0: 2020 2074 7572 6e5f 6c6f 7373 203d 2073     turn_loss = s
+00025300: 656c 662e 6c6f 6164 5f72 6573 756c 7428  elf.load_result(
+00025310: 7265 735f 6e61 6d65 3d77 696e 6469 6e67  res_name=winding
+00025320: 5f6e 616d 655b 7769 6e64 696e 675f 6e75  _name[winding_nu
+00025330: 6d5d 202b 2066 222f 4c6f 7373 6573 5f74  m] + f"/Losses_t
+00025340: 7572 6e5f 7b31 7d22 2c20 6176 6572 6167  urn_{1}", averag
+00025350: 653d 5472 7565 290a 2020 2020 2020 2020  e=True).        
+00025360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025370: 6c6f 7373 6573 5f64 6963 745b 2274 7572  losses_dict["tur
+00025380: 6e5f 6c6f 7373 6573 225d 2e61 7070 656e  n_losses"].appen
+00025390: 6428 7475 726e 5f6c 6f73 735b 305d 290a  d(turn_loss[0]).
+000253a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000253b0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
+000253c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000253d0: 2020 2066 6f72 2074 7572 6e20 696e 2072     for turn in r
+000253e0: 616e 6765 2830 2c20 6c6f 7373 6573 5f64  ange(0, losses_d
+000253f0: 6963 745b 226e 756d 6265 725f 7475 726e  ict["number_turn
+00025400: 7322 5d29 3a20 2023 206c 6f6f 7020 6e65  s"]):  # loop ne
+00025410: 6564 2074 6f20 6265 2063 6865 636b 6564  ed to be checked
+00025420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025430: 2020 2020 2020 2020 2020 2020 2074 7572               tur
+00025440: 6e5f 6c6f 7373 203d 2073 656c 662e 6c6f  n_loss = self.lo
+00025450: 6164 5f72 6573 756c 7428 0a20 2020 2020  ad_result(.     
+00025460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025470: 2020 2020 2020 2020 2020 2072 6573 5f6e             res_n
+00025480: 616d 653d 7769 6e64 696e 675f 6e61 6d65  ame=winding_name
+00025490: 5b77 696e 6469 6e67 5f6e 756d 5d20 2b20  [winding_num] + 
+000254a0: 6622 2f4c 6f73 7365 735f 7475 726e 5f7b  f"/Losses_turn_{
+000254b0: 7475 726e 202b 2031 7d22 2c20 6176 6572  turn + 1}", aver
+000254c0: 6167 653d 5472 7565 290a 0a20 2020 2020  age=True)..     
+000254d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000254e0: 2020 2020 2020 206c 6f73 7365 735f 6469         losses_di
+000254f0: 6374 5b22 7475 726e 5f6c 6f73 7365 7322  ct["turn_losses"
+00025500: 5d2e 6170 7065 6e64 2874 7572 6e5f 6c6f  ].append(turn_lo
+00025510: 7373 5b30 5d29 0a0a 2020 2020 2020 2020  ss[0])..        
+00025520: 2020 2020 2020 2020 6c6f 675f 6469 6374          log_dict
+00025530: 5b22 6176 6572 6167 655f 6c6f 7373 6573  ["average_losses
+00025540: 225d 5b66 2277 696e 6469 6e67 7b77 696e  "][f"winding{win
+00025550: 6469 6e67 5f6e 756d 202b 2031 7d22 5d20  ding_num + 1}"] 
+00025560: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+00025570: 2020 2020 2020 2020 2277 696e 6469 6e67          "winding
+00025580: 5f6c 6f73 7365 7322 3a20 6c6f 7373 6573  _losses": losses
+00025590: 5f64 6963 745b 2277 696e 6469 6e67 5f6c  _dict["winding_l
+000255a0: 6f73 7365 7322 5d2c 0a20 2020 2020 2020  osses"],.       
+000255b0: 2020 2020 2020 2020 2020 2020 2022 7475               "tu
+000255c0: 726e 5f6c 6f73 7365 7322 3a20 6c6f 7373  rn_losses": loss
+000255d0: 6573 5f64 6963 745b 2274 7572 6e5f 6c6f  es_dict["turn_lo
+000255e0: 7373 6573 225d 2c0a 2020 2020 2020 2020  sses"],.        
+000255f0: 2020 2020 2020 2020 2020 2020 2266 6c75              "flu
+00025600: 785f 6f76 6572 5f63 7572 7265 6e74 223a  x_over_current":
+00025610: 206c 6f73 7365 735f 6469 6374 5b22 666c   losses_dict["fl
+00025620: 7578 5f6f 7665 725f 6375 7272 656e 7422  ux_over_current"
+00025630: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00025640: 2020 2020 2020 2022 6176 6572 6167 655f         "average_
+00025650: 6375 7272 656e 7422 3a20 6c6f 7373 6573  current": losses
+00025660: 5f64 6963 745b 2261 7665 7261 6765 5f63  _dict["average_c
+00025670: 7572 7265 6e74 225d 2c0a 2020 2020 2020  urrent"],.      
+00025680: 2020 2020 2020 2020 2020 2020 2020 2261                "a
+00025690: 7665 7261 6765 5f76 6f6c 7461 6765 223a  verage_voltage":
+000256a0: 206c 6f73 7365 735f 6469 6374 5b22 6176   losses_dict["av
+000256b0: 6572 6167 655f 766f 6c74 6167 6522 5d2c  erage_voltage"],
+000256c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000256d0: 2020 2020 2022 5022 3a20 6c6f 7373 6573       "P": losses
+000256e0: 5f64 6963 745b 2250 225d 2c0a 2020 2020  _dict["P"],.    
+000256f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025700: 2253 223a 206c 6f73 7365 735f 6469 6374  "S": losses_dict
+00025710: 5b22 5322 5d2c 0a20 2020 2020 2020 2020  ["S"],.         
+00025720: 2020 2020 2020 2020 2020 2022 5122 3a20             "Q": 
+00025730: 6c6f 7373 6573 5f64 6963 745b 2251 225d  losses_dict["Q"]
+00025740: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025750: 207d 0a0a 2020 2020 2020 2020 2020 2020   }..            
+00025760: 2020 2020 2320 5769 6e64 696e 6720 2861      # Winding (a
+00025770: 6c6c 2077 696e 6469 6e67 7329 0a20 2020  ll windings).   
+00025780: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+00025790: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
+000257a0: 7365 7322 5d5b 2261 6c6c 5f77 696e 6469  ses"]["all_windi
+000257b0: 6e67 735f 6c6f 7373 6573 225d 203d 2073  ngs_losses"] = s
+000257c0: 756d 280a 2020 2020 2020 2020 2020 2020  um(.            
+000257d0: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
+000257e0: 696e 666f 5b22 7769 6e64 696e 675f 6c6f  info["winding_lo
+000257f0: 7373 6573 225d 2066 6f72 2077 696e 6469  sses"] for windi
+00025800: 6e67 5f69 6e66 6f20 696e 206c 6f67 5f64  ng_info in log_d
+00025810: 6963 745b 2261 7665 7261 6765 5f6c 6f73  ict["average_los
+00025820: 7365 7322 5d2e 7661 6c75 6573 2829 2069  ses"].values() i
+00025830: 660a 2020 2020 2020 2020 2020 2020 2020  f.              
+00025840: 2020 2020 2020 2277 696e 6469 6e67 5f6c        "winding_l
+00025850: 6f73 7365 7322 2069 6e20 7769 6e64 696e  osses" in windin
+00025860: 675f 696e 666f 290a 2020 2020 2020 2020  g_info).        
+00025870: 2020 2020 2020 2020 2320 636f 7265 730a          # cores.
+00025880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025890: 6c6f 675f 6469 6374 5b22 746f 7461 6c5f  log_dict["total_
+000258a0: 6c6f 7373 6573 225d 5b22 6564 6479 5f63  losses"]["eddy_c
+000258b0: 6f72 6522 5d20 3d20 6c6f 675f 6469 6374  ore"] = log_dict
+000258c0: 5b22 6176 6572 6167 655f 6c6f 7373 6573  ["average_losses
+000258d0: 225d 5b22 636f 7265 5f65 6464 795f 6c6f  "]["core_eddy_lo
+000258e0: 7373 6573 225d 5b30 5d20 2b20 5c0a 2020  sses"][0] + \.  
+000258f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025900: 2020 6c6f 675f 6469 6374 5b22 6176 6572    log_dict["aver
+00025910: 6167 655f 6c6f 7373 6573 225d 5b22 636f  age_losses"]["co
+00025920: 7265 5f68 7973 745f 6c6f 7373 6573 225d  re_hyst_losses"]
+00025930: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+00025940: 2020 2020 6c6f 675f 6469 6374 5b22 746f      log_dict["to
+00025950: 7461 6c5f 6c6f 7373 6573 225d 5b0a 2020  tal_losses"][.  
 00025960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025970: 206c 6f67 5f64 6963 745b 2274 6f74 616c   log_dict["total
-00025980: 5f6c 6f73 7365 7322 5d5b 2261 6c6c 5f77  _losses"]["all_w
-00025990: 696e 6469 6e67 735f 6c6f 7373 6573 225d  indings_losses"]
-000259a0: 0a0a 2020 2020 2020 2020 636f 6d6d 6f6e  ..        common
-000259b0: 5f6c 6f67 5f64 6963 7420 3d20 7365 6c66  _log_dict = self
-000259c0: 2e77 7269 7465 5f61 6e64 5f63 616c 6375  .write_and_calcu
-000259d0: 6c61 7465 5f63 6f6d 6d6f 6e5f 6c6f 6728  late_common_log(
-000259e0: 290a 2020 2020 2020 2020 6669 6e61 6c5f  ).        final_
-000259f0: 6c6f 675f 6469 6374 203d 207b 2a2a 6c6f  log_dict = {**lo
-00025a00: 675f 6469 6374 2c20 2a2a 636f 6d6d 6f6e  g_dict, **common
-00025a10: 5f6c 6f67 5f64 6963 747d 0a20 2020 2020  _log_dict}.     
-00025a20: 2020 2077 6974 6820 6f70 656e 2873 656c     with open(sel
-00025a30: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
-00025a40: 7265 7375 6c74 735f 6c6f 675f 7061 7468  results_log_path
-00025a50: 2c20 2277 2b22 2c20 656e 636f 6469 6e67  , "w+", encoding
-00025a60: 3d27 7574 662d 3827 2920 6173 206f 7574  ='utf-8') as out
-00025a70: 6669 6c65 3a0a 2020 2020 2020 2020 2020  file:.          
-00025a80: 2020 6a73 6f6e 2e64 756d 7028 6669 6e61    json.dump(fina
-00025a90: 6c5f 6c6f 675f 6469 6374 2c20 6f75 7466  l_log_dict, outf
-00025aa0: 696c 652c 2069 6e64 656e 743d 322c 2065  ile, indent=2, e
-00025ab0: 6e73 7572 655f 6173 6369 693d 4661 6c73  nsure_ascii=Fals
-00025ac0: 6529 0a0a 2020 2020 6465 6620 7772 6974  e)..    def writ
-00025ad0: 655f 616e 645f 6361 6c63 756c 6174 655f  e_and_calculate_
-00025ae0: 636f 6d6d 6f6e 5f6c 6f67 2873 656c 662c  common_log(self,
-00025af0: 2069 6e64 7563 7461 6e63 655f 6469 6374   inductance_dict
-00025b00: 3a20 6469 6374 203d 204e 6f6e 6529 3a0a  : dict = None):.
-00025b10: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00025b20: 2020 2020 436f 6d70 696c 6573 2063 6f6d      Compiles com
-00025b30: 6d6f 6e20 6c6f 6767 696e 6720 696e 666f  mon logging info
-00025b40: 726d 6174 696f 6e20 666f 7220 7369 6d75  rmation for simu
-00025b50: 6c61 7469 6f6e 2072 6573 756c 7473 2069  lation results i
-00025b60: 6e74 6f20 6120 6469 6374 696f 6e61 7279  nto a dictionary
-00025b70: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
-00025b80: 6d20 696e 6475 6374 616e 6365 5f64 6963  m inductance_dic
-00025b90: 743a 204f 7074 696f 6e61 6c20 6469 6374  t: Optional dict
-00025ba0: 696f 6e61 7279 2063 6f6e 7461 696e 696e  ionary containin
-00025bb0: 6720 696e 6475 6374 616e 6365 2076 616c  g inductance val
-00025bc0: 7565 7320 746f 2062 6520 696e 636c 7564  ues to be includ
-00025bd0: 6564 2069 6e20 7468 6520 6c6f 672e 0a20  ed in the log.. 
-00025be0: 2020 2020 2020 203a 7479 7065 2069 6e64         :type ind
-00025bf0: 7563 7461 6e63 655f 6469 6374 3a20 6469  uctance_dict: di
-00025c00: 6374 2c20 6f70 7469 6f6e 616c 0a0a 2020  ct, optional..  
-00025c10: 2020 2020 2020 3a72 6574 7572 6e3a 2041        :return: A
-00025c20: 2064 6963 7469 6f6e 6172 7920 636f 6e74   dictionary cont
-00025c30: 6169 6e69 6e67 2074 6865 2063 6f6d 7069  aining the compi
-00025c40: 6c65 6420 636f 6d6d 6f6e 206c 6f67 6769  led common loggi
-00025c50: 6e67 2069 6e66 6f72 6d61 7469 6f6e 2e0a  ng information..
-00025c60: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
-00025c70: 6469 6374 0a20 2020 2020 2020 2022 2222  dict.        """
-00025c80: 0a20 2020 2020 2020 206c 6f67 5f64 6963  .        log_dic
-00025c90: 7420 3d20 7b22 7369 6d75 6c61 7469 6f6e  t = {"simulation
-00025ca0: 5f73 6574 7469 6e67 7322 3a20 7b7d 7d0a  _settings": {}}.
-00025cb0: 2020 2020 2020 2020 2320 2d2d 2d2d 2049          # ---- I
-00025cc0: 6e74 726f 6475 6365 2063 616c 6375 6c61  ntroduce calcula
-00025cd0: 7469 6f6e 7320 666f 7220 7772 6974 696e  tions for writin
-00025ce0: 6720 7468 6520 6d69 7363 2d64 6963 7420  g the misc-dict 
-00025cf0: 696e 746f 2074 6865 2072 6573 756c 742d  into the result-
-00025d00: 6c6f 6720 2d2d 2d2d 0a20 2020 2020 2020  log ----.       
-00025d10: 2077 6972 655f 7479 7065 5f6c 6973 7420   wire_type_list 
-00025d20: 3d20 5b5d 0a20 2020 2020 2020 2066 6f72  = [].        for
-00025d30: 2077 696e 6469 6e67 5f6e 756d 6265 7220   winding_number 
-00025d40: 696e 2073 656c 662e 7769 6e64 696e 6773  in self.windings
-00025d50: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-00025d60: 7265 5f74 7970 655f 6c69 7374 2e61 7070  re_type_list.app
-00025d70: 656e 6428 7769 6e64 696e 675f 6e75 6d62  end(winding_numb
-00025d80: 6572 2e63 6f6e 6475 6374 6f72 5f74 7970  er.conductor_typ
-00025d90: 652e 6e61 6d65 290a 0a20 2020 2020 2020  e.name)..       
-00025da0: 2073 696e 676c 655f 7374 7261 6e64 5f63   single_strand_c
-00025db0: 726f 7373 5f73 6563 7469 6f6e 5f6c 6973  ross_section_lis
-00025dc0: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
-00025dd0: 6f72 2077 696e 6469 6e67 5f6e 756d 6265  or winding_numbe
-00025de0: 7220 696e 2073 656c 662e 7769 6e64 696e  r in self.windin
-00025df0: 6773 3a0a 2020 2020 2020 2020 2020 2020  gs:.            
-00025e00: 6966 2077 696e 6469 6e67 5f6e 756d 6265  if winding_numbe
-00025e10: 722e 7374 7261 6e64 5f72 6164 6975 733a  r.strand_radius:
-00025e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025e30: 2073 696e 676c 655f 7374 7261 6e64 5f63   single_strand_c
-00025e40: 726f 7373 5f73 6563 7469 6f6e 203d 2077  ross_section = w
-00025e50: 696e 6469 6e67 5f6e 756d 6265 722e 7374  inding_number.st
-00025e60: 7261 6e64 5f72 6164 6975 7320 2a2a 2032  rand_radius ** 2
-00025e70: 202a 206e 702e 7069 0a20 2020 2020 2020   * np.pi.       
-00025e80: 2020 2020 2020 2020 2073 696e 676c 655f           single_
-00025e90: 7374 7261 6e64 5f63 726f 7373 5f73 6563  strand_cross_sec
-00025ea0: 7469 6f6e 5f6c 6973 742e 6170 7065 6e64  tion_list.append
-00025eb0: 2873 696e 676c 655f 7374 7261 6e64 5f63  (single_strand_c
-00025ec0: 726f 7373 5f73 6563 7469 6f6e 290a 2020  ross_section).  
-00025ed0: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-00025ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025ef0: 7369 6e67 6c65 5f73 7472 616e 645f 6372  single_strand_cr
-00025f00: 6f73 735f 7365 6374 696f 6e5f 6c69 7374  oss_section_list
-00025f10: 2e61 7070 656e 6428 4e6f 6e65 290a 0a20  .append(None).. 
-00025f20: 2020 2020 2020 2077 6972 655f 7765 6967         wire_weig
-00025f30: 6874 5f6c 6973 7420 3d20 7365 6c66 2e63  ht_list = self.c
-00025f40: 616c 6375 6c61 7465 5f77 6972 655f 7765  alculate_wire_we
-00025f50: 6967 6874 2829 0a20 2020 2020 2020 2063  ight().        c
-00025f60: 6f72 655f 7765 6967 6874 203d 2073 656c  ore_weight = sel
-00025f70: 662e 6361 6c63 756c 6174 655f 636f 7265  f.calculate_core
-00025f80: 5f77 6569 6768 7428 290a 0a20 2020 2020  _weight()..     
-00025f90: 2020 2023 202d 2d2d 2d20 4d69 7363 656c     # ---- Miscel
-00025fa0: 6c61 6e65 6f75 7320 2d2d 2d2d 0a20 2020  laneous ----.   
-00025fb0: 2020 2020 206c 6f67 5f64 6963 745b 226d       log_dict["m
-00025fc0: 6973 6322 5d20 3d20 7b0a 2020 2020 2020  isc"] = {.      
-00025fd0: 2020 2020 2020 2263 6f72 655f 3264 6178        "core_2dax
-00025fe0: 695f 766f 6c75 6d65 223a 2073 656c 662e  i_volume": self.
-00025ff0: 6361 6c63 756c 6174 655f 636f 7265 5f76  calculate_core_v
-00026000: 6f6c 756d 6528 292c 2020 2320 7365 6c66  olume(),  # self
-00026010: 2e63 616c 6375 6c61 7465 5f63 6f72 655f  .calculate_core_
-00026020: 766f 6c75 6d65 2829 2c0a 2020 2020 2020  volume(),.      
-00026030: 2020 2020 2020 2263 6f72 655f 3264 6178        "core_2dax
-00026040: 695f 746f 7461 6c5f 766f 6c75 6d65 223a  i_total_volume":
-00026050: 2073 656c 662e 6361 6c63 756c 6174 655f   self.calculate_
-00026060: 636f 7265 5f76 6f6c 756d 655f 7769 7468  core_volume_with
-00026070: 5f61 6972 2829 2c0a 2020 2020 2020 2020  _air(),.        
-00026080: 2020 2020 2263 6f72 655f 3264 6178 695f      "core_2daxi_
-00026090: 7765 6967 6874 223a 2063 6f72 655f 7765  weight": core_we
-000260a0: 6967 6874 2c0a 2020 2020 2020 2020 2020  ight,.          
-000260b0: 2020 2277 6972 655f 6c65 6e67 7468 7322    "wire_lengths"
-000260c0: 3a20 7365 6c66 2e63 616c 6375 6c61 7465  : self.calculate
-000260d0: 5f77 6972 655f 6c65 6e67 7468 7328 292c  _wire_lengths(),
-000260e0: 0a20 2020 2020 2020 2020 2020 2022 7769  .            "wi
-000260f0: 7265 5f76 6f6c 756d 6573 223a 2073 656c  re_volumes": sel
-00026100: 662e 6361 6c63 756c 6174 655f 7769 7265  f.calculate_wire
-00026110: 5f76 6f6c 756d 6573 2829 2c0a 2020 2020  _volumes(),.    
-00026120: 2020 2020 2020 2020 2277 6972 655f 7765          "wire_we
-00026130: 6967 6874 223a 2077 6972 655f 7765 6967  ight": wire_weig
-00026140: 6874 5f6c 6973 742c 0a20 2020 2020 2020  ht_list,.       
-00026150: 2020 2020 2022 636f 7265 5f63 6f73 7422       "core_cost"
-00026160: 3a20 6666 2e63 6f73 745f 6675 6e63 7469  : ff.cost_functi
-00026170: 6f6e 5f63 6f72 6528 636f 7265 5f77 6569  on_core(core_wei
-00026180: 6768 742c 2063 6f72 655f 7479 7065 3d22  ght, core_type="
-00026190: 6665 7272 6974 6522 292c 0a20 2020 2020  ferrite"),.     
-000261a0: 2020 2020 2020 2022 7769 6e64 696e 675f         "winding_
-000261b0: 636f 7374 223a 2066 662e 636f 7374 5f66  cost": ff.cost_f
-000261c0: 756e 6374 696f 6e5f 7769 6e64 696e 6728  unction_winding(
-000261d0: 7769 7265 5f77 6569 6768 745f 6c69 7374  wire_weight_list
-000261e0: 3d77 6972 655f 7765 6967 6874 5f6c 6973  =wire_weight_lis
-000261f0: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
-00026200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026210: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026220: 2020 2020 2020 2020 7769 7265 5f74 7970          wire_typ
-00026230: 655f 6c69 7374 3d77 6972 655f 7479 7065  e_list=wire_type
-00026240: 5f6c 6973 742c 0a20 2020 2020 2020 2020  _list,.         
-00026250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026270: 2020 2020 2020 2020 2020 2020 7369 6e67              sing
-00026280: 6c65 5f73 7472 616e 645f 6372 6f73 735f  le_strand_cross_
-00026290: 7365 6374 696f 6e5f 6c69 7374 3d73 696e  section_list=sin
-000262a0: 676c 655f 7374 7261 6e64 5f63 726f 7373  gle_strand_cross
-000262b0: 5f73 6563 7469 6f6e 5f6c 6973 7429 2c0a  _section_list),.
-000262c0: 2020 2020 2020 2020 2020 2020 2274 6f74              "tot
-000262d0: 616c 5f63 6f73 745f 696e 636c 5f6d 6172  al_cost_incl_mar
-000262e0: 6769 6e22 3a20 6666 2e63 6f73 745f 6675  gin": ff.cost_fu
-000262f0: 6e63 7469 6f6e 5f74 6f74 616c 2863 6f72  nction_total(cor
-00026300: 655f 7765 6967 6874 2c20 636f 7265 5f74  e_weight, core_t
-00026310: 7970 653d 2266 6572 7269 7465 222c 2077  ype="ferrite", w
-00026320: 6972 655f 7765 6967 6874 5f6c 6973 743d  ire_weight_list=
-00026330: 7769 7265 5f77 6569 6768 745f 6c69 7374  wire_weight_list
-00026340: 2c20 7769 7265 5f74 7970 655f 6c69 7374  , wire_type_list
-00026350: 3d77 6972 655f 7479 7065 5f6c 6973 742c  =wire_type_list,
-00026360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026390: 2020 2020 2020 2020 2020 2020 2020 7369                si
-000263a0: 6e67 6c65 5f73 7472 616e 645f 6372 6f73  ngle_strand_cros
-000263b0: 735f 7365 6374 696f 6e5f 6c69 7374 3d73  s_section_list=s
-000263c0: 696e 676c 655f 7374 7261 6e64 5f63 726f  ingle_strand_cro
-000263d0: 7373 5f73 6563 7469 6f6e 5f6c 6973 7429  ss_section_list)
-000263e0: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-000263f0: 2020 2020 2320 2d2d 2d2d 2050 7269 6e74      # ---- Print
-00026400: 2063 7572 7265 6e74 2063 6f6e 6669 6775   current configu
-00026410: 7261 7469 6f6e 202d 2d2d 2d0a 2020 2020  ration ----.    
-00026420: 2020 2020 6c6f 675f 6469 6374 5b22 7369      log_dict["si
-00026430: 6d75 6c61 7469 6f6e 5f73 6574 7469 6e67  mulation_setting
-00026440: 7322 5d20 3d20 4d61 676e 6574 6963 436f  s"] = MagneticCo
-00026450: 6d70 6f6e 656e 742e 656e 636f 6465 5f73  mponent.encode_s
-00026460: 6574 7469 6e67 7328 7365 6c66 290a 0a20  ettings(self).. 
-00026470: 2020 2020 2020 2069 6620 6973 696e 7374         if isinst
-00026480: 616e 6365 2869 6e64 7563 7461 6e63 655f  ance(inductance_
-00026490: 6469 6374 2c20 4469 6374 293a 0a20 2020  dict, Dict):.   
-000264a0: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
-000264b0: 745b 2269 6e64 7563 7461 6e63 6573 225d  t["inductances"]
-000264c0: 203d 2069 6e64 7563 7461 6e63 655f 6469   = inductance_di
-000264d0: 6374 0a0a 2020 2020 2020 2020 7265 7475  ct..        retu
-000264e0: 726e 206c 6f67 5f64 6963 740a 0a20 2020  rn log_dict..   
-000264f0: 2064 6566 2072 6561 645f 6c6f 6728 7365   def read_log(se
-00026500: 6c66 2920 2d3e 2044 6963 743a 0a20 2020  lf) -> Dict:.   
-00026510: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00026520: 2052 6561 6420 7265 7375 6c74 7320 6672   Read results fr
-00026530: 6f6d 2065 6c65 6374 726f 6d61 676e 6574  om electromagnet
-00026540: 6963 2073 696d 756c 6174 696f 6e2e 0a0a  ic simulation...
-00026550: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-00026560: 204c 6f67 6669 6c65 2061 7320 6120 6469   Logfile as a di
-00026570: 6374 696f 6e61 7279 0a20 2020 2020 2020  ctionary.       
-00026580: 203a 7274 7970 653a 2044 6963 740a 2020   :rtype: Dict.  
-00026590: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-000265a0: 2020 7769 7468 206f 7065 6e28 7365 6c66    with open(self
-000265b0: 2e66 696c 655f 6461 7461 2e65 5f6d 5f72  .file_data.e_m_r
-000265c0: 6573 756c 7473 5f6c 6f67 5f70 6174 682c  esults_log_path,
-000265d0: 2022 7222 2920 6173 2066 643a 0a20 2020   "r") as fd:.   
-000265e0: 2020 2020 2020 2020 2063 6f6e 7465 6e74           content
-000265f0: 203d 206a 736f 6e2e 6c6f 6164 7328 6664   = json.loads(fd
-00026600: 2e72 6561 6428 2929 0a20 2020 2020 2020  .read()).       
-00026610: 2020 2020 206c 6f67 203d 2063 6f6e 7465       log = conte
-00026620: 6e74 0a0a 2020 2020 2020 2020 7265 7475  nt..        retu
-00026630: 726e 206c 6f67 0a0a 2020 2020 6465 6620  rn log..    def 
-00026640: 6c6f 675f 636f 6f72 6469 6e61 7465 735f  log_coordinates_
-00026650: 6465 7363 7269 7074 696f 6e28 7365 6c66  description(self
-00026660: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-00026670: 2020 2020 2020 204c 6f67 2061 2063 6f6f         Log a coo
-00026680: 7264 696e 6174 6573 2d62 6173 6564 2067  rdinates-based g
-00026690: 656f 6d65 7472 7920 6465 7363 7269 7074  eometry descript
-000266a0: 696f 6e2e 0a0a 2020 2020 2020 2020 4375  ion...        Cu
-000266b0: 7272 656e 746c 792c 2069 6d70 6c65 6d65  rrently, impleme
-000266c0: 6e74 6564 2066 6f72 2069 6e64 7563 746f  nted for inducto
-000266d0: 7220 7769 7468 2072 6f75 6e64 2063 6f6e  r with round con
-000266e0: 6475 6374 6f72 7320 6f6e 6c79 210a 0a20  ductors only!.. 
-000266f0: 2020 2020 2020 2046 6f6c 6c6f 7769 6e67         Following
-00026700: 206c 6973 7473 2061 7265 2063 7265 6174   lists are creat
-00026710: 6564 2061 6363 6f72 6469 6e67 2074 6f20  ed according to 
-00026720: 736b 6574 6368 2069 6e20 646f 6375 6d65  sketch in docume
-00026730: 6e74 6174 696f 6e2e 0a20 2020 2020 2020  ntation..       
-00026740: 202d 2070 5f6f 7574 6572 0a20 2020 2020   - p_outer.     
-00026750: 2020 202d 2070 5f77 770a 2020 2020 2020     - p_ww.      
-00026760: 2020 2d20 705f 6169 725f 6761 705f 6365    - p_air_gap_ce
-00026770: 6e74 6572 0a20 2020 2020 2020 202d 2070  nter.        - p
-00026780: 5f63 6f6e 645f 6365 6e74 6572 0a20 2020  _cond_center.   
-00026790: 2020 2020 2046 6f6c 6c6f 7769 6e67 2070       Following p
-000267a0: 6169 7273 206f 6620 6c69 7374 7320 6e65  airs of lists ne
-000267b0: 6564 2074 6f20 6d61 7463 6820 6561 6368  ed to match each
-000267c0: 206f 7468 6572 2069 6e20 7468 6569 7220   other in their 
-000267d0: 6f72 6465 722e 0a20 2020 2020 2020 202d  order..        -
-000267e0: 2070 5f61 6972 5f67 6170 5f63 656e 7465   p_air_gap_cente
-000267f0: 7220 616e 6420 6469 7374 616e 6365 735f  r and distances_
-00026800: 6169 725f 6761 700a 2020 2020 2020 2020  air_gap.        
-00026810: 2d20 705f 636f 6e64 5f63 656e 7465 7220  - p_cond_center 
-00026820: 616e 6420 7261 6469 7573 5f63 6f6e 640a  and radius_cond.
-00026830: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-00026840: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00026850: 2020 2020 2020 636f 6f72 6469 6e61 7465        coordinate
-00026860: 735f 6469 6374 203d 207b 0a20 2020 2020  s_dict = {.     
-00026870: 2020 2020 2020 2022 636f 7265 5f74 7970         "core_typ
-00026880: 6522 3a20 2222 2c0a 2020 2020 2020 2020  e": "",.        
-00026890: 2020 2020 2270 5f6f 7574 6572 223a 205b      "p_outer": [
-000268a0: 5d2c 0a20 2020 2020 2020 2020 2020 2022  ],.            "
-000268b0: 705f 7777 223a 205b 5d2c 0a20 2020 2020  p_ww": [],.     
-000268c0: 2020 2020 2020 2022 705f 6169 725f 6761         "p_air_ga
-000268d0: 705f 6365 6e74 6572 223a 205b 5d2c 0a20  p_center": [],. 
-000268e0: 2020 2020 2020 2020 2020 2022 6c65 6e67             "leng
-000268f0: 7468 735f 6169 725f 6761 7022 3a20 5b5d  ths_air_gap": []
-00026900: 0a20 2020 2020 2020 207d 0a0a 2020 2020  .        }..    
-00026910: 2020 2020 6966 2073 656c 662e 636f 7265      if self.core
-00026920: 2e63 6f72 655f 7479 7065 203d 3d20 436f  .core_type == Co
-00026930: 7265 5479 7065 2e53 7461 636b 6564 3a0a  reType.Stacked:.
-00026940: 2020 2020 2020 2020 2020 2020 636f 6f72              coor
-00026950: 6469 6e61 7465 735f 6469 6374 5b22 636f  dinates_dict["co
-00026960: 7265 5f74 7970 6522 5d20 3d20 2253 7461  re_type"] = "Sta
-00026970: 636b 6564 220a 0a20 2020 2020 2020 2069  cked"..        i
-00026980: 6620 7365 6c66 2e63 6f72 652e 636f 7265  f self.core.core
-00026990: 5f74 7970 6520 3d3d 2043 6f72 6554 7970  _type == CoreTyp
-000269a0: 652e 5369 6e67 6c65 3a0a 2020 2020 2020  e.Single:.      
-000269b0: 2020 2020 2020 636f 6f72 6469 6e61 7465        coordinate
-000269c0: 735f 6469 6374 5b22 636f 7265 5f74 7970  s_dict["core_typ
-000269d0: 6522 5d20 3d20 2253 696e 676c 6522 0a0a  e"] = "Single"..
-000269e0: 2020 2020 2020 2020 2320 4f62 7461 696e          # Obtain
-000269f0: 2063 6f6f 7264 696e 6174 6573 2064 6174   coordinates dat
-00026a00: 6120 6672 6f6d 2063 6f6d 706f 6e65 6e74  a from component
-00026a10: 0a20 2020 2020 2020 2063 6f6f 7264 696e  .        coordin
-00026a20: 6174 6573 5f64 6963 745b 2270 5f6f 7574  ates_dict["p_out
-00026a30: 6572 225d 203d 2073 656c 662e 7477 6f5f  er"] = self.two_
-00026a40: 645f 6178 692e 705f 6f75 7465 725b 3a2c  d_axi.p_outer[:,
-00026a50: 203a 325d 2e74 6f6c 6973 7428 2920 2023   :2].tolist()  #
-00026a60: 2063 7574 206c 6173 7420 3220 636f 6c75   cut last 2 colu
-00026a70: 6d6e 7320 287a 2063 6f6f 7264 696e 6174  mns (z coordinat
-00026a80: 6520 616e 6420 6d65 7368 2061 6363 7572  e and mesh accur
-00026a90: 6163 7929 0a20 2020 2020 2020 2063 6f6f  acy).        coo
-00026aa0: 7264 696e 6174 6573 5f64 6963 745b 2270  rdinates_dict["p
-00026ab0: 5f6f 7574 6572 225d 5b30 5d5b 305d 2c20  _outer"][0][0], 
-00026ac0: 636f 6f72 6469 6e61 7465 735f 6469 6374  coordinates_dict
-00026ad0: 5b22 705f 6f75 7465 7222 5d5b 325d 5b30  ["p_outer"][2][0
-00026ae0: 5d20 3d20 302c 2030 2020 2320 3264 2061  ] = 0, 0  # 2d a
-00026af0: 7869 2073 796d 6d65 7472 6963 3a20 6465  xi symmetric: de
-00026b00: 7363 7269 7074 696f 6e20 6f6e 6c79 206f  scription only o
-00026b10: 6620 7269 6768 7420 6861 6c66 0a20 2020  f right half.   
-00026b20: 2020 2020 2023 204f 6274 6169 6e20 6169       # Obtain ai
-00026b30: 7267 6170 2063 656e 7465 7220 706f 696e  rgap center poin
-00026b40: 7473 2061 6e64 206c 656e 6774 680a 2020  ts and length.  
-00026b50: 2020 2020 2020 2320 5369 6e67 6c65 2063        # Single c
-00026b60: 6f72 650a 2020 2020 2020 2020 6966 2073  ore.        if s
-00026b70: 656c 662e 636f 7265 2e63 6f72 655f 7479  elf.core.core_ty
-00026b80: 7065 203d 3d20 436f 7265 5479 7065 2e53  pe == CoreType.S
-00026b90: 696e 676c 653a 0a20 2020 2020 2020 2020  ingle:.         
-00026ba0: 2020 2063 6f6f 7264 696e 6174 6573 5f64     coordinates_d
-00026bb0: 6963 745b 2270 5f77 7722 5d20 3d20 7365  ict["p_ww"] = se
-00026bc0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
-00026bd0: 696e 646f 775b 343a 2c20 3a32 5d2e 746f  indow[4:, :2].to
-00026be0: 6c69 7374 2829 2020 2320 6375 7420 6669  list()  # cut fi
-00026bf0: 7273 7420 3420 726f 7773 2028 6c65 6674  rst 4 rows (left
-00026c00: 2077 696e 6469 6e67 2077 696e 646f 7729   winding window)
-00026c10: 2061 6e64 206c 6173 7420 3220 636f 6c75   and last 2 colu
-00026c20: 6d6e 7320 2822 2d22 290a 2020 2020 2020  mns ("-").      
-00026c30: 2020 2020 2020 636f 6f72 6469 6e61 7465        coordinate
-00026c40: 735f 6469 6374 5b22 705f 6169 725f 6761  s_dict["p_air_ga
-00026c50: 705f 6365 6e74 6572 225d 2c20 636f 6f72  p_center"], coor
-00026c60: 6469 6e61 7465 735f 6469 6374 5b22 6c65  dinates_dict["le
-00026c70: 6e67 7468 735f 6169 725f 6761 7022 5d20  ngths_air_gap"] 
-00026c80: 3d20 5c0a 2020 2020 2020 2020 2020 2020  = \.            
-00026c90: 2020 2020 6666 2e63 6f6e 7665 7274 5f61      ff.convert_a
-00026ca0: 6972 5f67 6170 5f63 6f72 6e65 725f 706f  ir_gap_corner_po
-00026cb0: 696e 7473 5f74 6f5f 6365 6e74 6572 5f61  ints_to_center_a
-00026cc0: 6e64 5f64 6973 7461 6e63 6528 7365 6c66  nd_distance(self
-00026cd0: 2e74 776f 5f64 5f61 7869 2e70 5f61 6972  .two_d_axi.p_air
-00026ce0: 5f67 6170 732e 746f 6c69 7374 2829 2920  _gaps.tolist()) 
-00026cf0: 2023 2074 7261 6e73 666f 726d 2074 6f20   # transform to 
-00026d00: 6365 6e74 6572 2070 6f69 6e74 7320 616e  center points an
-00026d10: 6420 6578 7472 6163 7420 6865 6967 6874  d extract height
-00026d20: 730a 2020 2020 2020 2020 2320 5374 6163  s.        # Stac
-00026d30: 6b65 6420 636f 7265 0a20 2020 2020 2020  ked core.       
-00026d40: 2065 6c69 6620 7365 6c66 2e63 6f72 652e   elif self.core.
-00026d50: 636f 7265 5f74 7970 6520 3d3d 2043 6f72  core_type == Cor
-00026d60: 6554 7970 652e 5374 6163 6b65 643a 0a20  eType.Stacked:. 
-00026d70: 2020 2020 2020 2020 2020 2063 6f6f 7264             coord
-00026d80: 696e 6174 6573 5f64 6963 745b 2270 5f77  inates_dict["p_w
-00026d90: 7722 5d20 3d20 7b0a 2020 2020 2020 2020  w"] = {.        
-00026da0: 2020 2020 2020 2020 2262 6f74 223a 2073          "bot": s
-00026db0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00026dc0: 7769 6e64 6f77 5f62 6f74 5b3a 2c20 3a32  window_bot[:, :2
-00026dd0: 5d2e 746f 6c69 7374 2829 2c20 2023 2063  ].tolist(),  # c
-00026de0: 7574 206c 6173 7420 3220 636f 6c75 6d6e  ut last 2 column
-00026df0: 7320 2862 6f74 2077 696e 646f 7729 0a20  s (bot window). 
-00026e00: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00026e10: 746f 7022 3a20 7365 6c66 2e74 776f 5f64  top": self.two_d
-00026e20: 5f61 7869 2e70 5f77 696e 646f 775f 746f  _axi.p_window_to
-00026e30: 705b 3a2c 203a 325d 2e74 6f6c 6973 7428  p[:, :2].tolist(
-00026e40: 2920 2023 2063 7574 206c 6173 7420 3220  )  # cut last 2 
-00026e50: 636f 6c75 6d6e 7320 2874 6f70 2077 696e  columns (top win
-00026e60: 646f 7729 0a20 2020 2020 2020 2020 2020  dow).           
-00026e70: 207d 0a20 2020 2020 2020 2020 2020 2066   }.            f
-00026e80: 6f72 205f 2c20 6d69 6470 6f69 6e74 2069  or _, midpoint i
-00026e90: 6e20 656e 756d 6572 6174 6528 7365 6c66  n enumerate(self
-00026ea0: 2e74 776f 5f64 5f61 7869 2e61 6972 5f67  .two_d_axi.air_g
-00026eb0: 6170 732e 6d69 6470 6f69 6e74 7329 3a0a  aps.midpoints):.
-00026ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026ed0: 2320 6578 7472 6163 7420 7468 6520 6d69  # extract the mi
-00026ee0: 6470 6f69 6e74 2028 6365 6e74 6572 2070  dpoint (center p
-00026ef0: 6f73 6974 696f 6e29 2066 6f72 2074 6865  osition) for the
-00026f00: 2063 7572 7265 6e74 2061 6972 2067 6170   current air gap
-00026f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026f20: 2063 656e 7465 725f 7820 3d20 6d69 6470   center_x = midp
-00026f30: 6f69 6e74 5b30 5d0a 2020 2020 2020 2020  oint[0].        
-00026f40: 2020 2020 2020 2020 6365 6e74 6572 5f79          center_y
-00026f50: 203d 206d 6964 706f 696e 745b 315d 0a20   = midpoint[1]. 
-00026f60: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00026f70: 204c 656e 6774 6820 6f66 2074 6865 2063   Length of the c
-00026f80: 7572 7265 6e74 2061 6972 2067 6170 0a20  urrent air gap. 
-00026f90: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-00026fa0: 656e 6774 6820 3d20 6d69 6470 6f69 6e74  ength = midpoint
-00026fb0: 5b32 5d0a 2020 2020 2020 2020 2020 2020  [2].            
-00026fc0: 2020 2020 2320 436f 6d62 696e 6520 7468      # Combine th
-00026fd0: 6520 6365 6e74 6572 2070 6f73 6974 696f  e center positio
-00026fe0: 6e20 616e 6420 6865 6967 6874 2069 6e74  n and height int
-00026ff0: 6f20 6120 7369 6e67 6c65 2064 6963 7469  o a single dicti
-00027000: 6f6e 6172 790a 2020 2020 2020 2020 2020  onary.          
-00027010: 2020 2020 2020 636f 6f72 6469 6e61 7465        coordinate
-00027020: 735f 6469 6374 5b22 705f 6169 725f 6761  s_dict["p_air_ga
-00027030: 705f 6365 6e74 6572 225d 2e61 7070 656e  p_center"].appen
-00027040: 6428 5b63 656e 7465 725f 782c 2063 656e  d([center_x, cen
-00027050: 7465 725f 795d 290a 2020 2020 2020 2020  ter_y]).        
-00027060: 2020 2020 2020 2020 636f 6f72 6469 6e61          coordina
-00027070: 7465 735f 6469 6374 5b22 6c65 6e67 7468  tes_dict["length
-00027080: 735f 6169 725f 6761 7022 5d2e 6170 7065  s_air_gap"].appe
-00027090: 6e64 286c 656e 6774 6829 0a0a 2020 2020  nd(length)..    
-000270a0: 2020 2020 6966 2073 656c 662e 7374 7261      if self.stra
-000270b0: 795f 7061 7468 3a20 2023 2053 7472 6179  y_path:  # Stray
-000270c0: 206c 656e 6774 680a 2020 2020 2020 2020   length.        
-000270d0: 2020 2020 636f 6f72 6469 6e61 7465 735f      coordinates_
-000270e0: 6469 6374 5b22 7374 7261 795f 6c65 6e67  dict["stray_leng
-000270f0: 7468 225d 203d 2073 656c 662e 7374 7261  th"] = self.stra
-00027100: 795f 7061 7468 2e6c 656e 6774 680a 0a20  y_path.length.. 
-00027110: 2020 2020 2020 2023 2066 6f72 2074 6865         # for the
-00027120: 2063 6f6e 6475 6374 6f72 732c 2074 6865   conductors, the
-00027130: 2063 6f6f 7264 696e 6174 6573 2068 6176   coordinates hav
-00027140: 6520 746f 2062 6520 6f62 7461 696e 6564  e to be obtained
-00027150: 2073 6f6d 6577 6865 7265 2065 6c73 652e   somewhere else.
-00027160: 2e2e 0a20 2020 2020 2020 2066 6f72 2069  ...        for i
-00027170: 6e64 6578 2c20 7769 6e64 696e 6720 696e  ndex, winding in
-00027180: 2065 6e75 6d65 7261 7465 2873 656c 662e   enumerate(self.
-00027190: 7769 6e64 696e 6773 293a 0a20 2020 2020  windings):.     
-000271a0: 2020 2020 2020 2023 2052 6f75 6e64 2063         # Round c
-000271b0: 6f6e 6475 6374 6f72 730a 2020 2020 2020  onductors.      
-000271c0: 2020 2020 2020 6966 2077 696e 6469 6e67        if winding
-000271d0: 2e63 6f6e 6475 6374 6f72 5f74 7970 6520  .conductor_type 
-000271e0: 696e 205b 436f 6e64 7563 746f 7254 7970  in [ConductorTyp
-000271f0: 652e 526f 756e 644c 6974 7a2c 2043 6f6e  e.RoundLitz, Con
-00027200: 6475 6374 6f72 5479 7065 2e52 6f75 6e64  ductorType.Round
-00027210: 536f 6c69 645d 3a0a 2020 2020 2020 2020  Solid]:.        
-00027220: 2020 2020 2020 2020 636f 6f72 6469 6e61          coordina
-00027230: 7465 735f 6469 6374 5b66 2270 5f63 6f6e  tes_dict[f"p_con
-00027240: 645f 6365 6e74 6572 5f7b 696e 6465 7820  d_center_{index 
-00027250: 2b20 317d 225d 203d 2073 656c 662e 7477  + 1}"] = self.tw
-00027260: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
-00027270: 746f 725b 696e 6465 785d 5b3a 3a35 5d2e  tor[index][::5].
-00027280: 746f 6c69 7374 2829 0a20 2020 2020 2020  tolist().       
-00027290: 2020 2020 2020 2020 2063 6f6f 7264 696e           coordin
-000272a0: 6174 6573 5f64 6963 745b 6622 7261 6469  ates_dict[f"radi
-000272b0: 7573 5f63 6f6e 645f 7b69 6e64 6578 202b  us_cond_{index +
-000272c0: 2031 7d22 5d20 3d20 7365 6c66 2e74 776f   1}"] = self.two
-000272d0: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
-000272e0: 6f72 5b69 6e64 6578 5d5b 302c 2030 5d20  or[index][0, 0] 
-000272f0: 2d20 7365 6c66 2e74 776f 5f64 5f61 7869  - self.two_d_axi
-00027300: 2e70 5f63 6f6e 6475 6374 6f72 5b69 6e64  .p_conductor[ind
-00027310: 6578 5d5b 312c 2030 5d0a 2020 2020 2020  ex][1, 0].      
-00027320: 2020 2020 2020 2320 5265 6374 616e 6775        # Rectangu
-00027330: 6c61 7220 636f 6e64 7563 746f 7273 0a20  lar conductors. 
-00027340: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
-00027350: 7769 6e64 696e 672e 636f 6e64 7563 746f  winding.conducto
-00027360: 725f 7479 7065 203d 3d20 436f 6e64 7563  r_type == Conduc
-00027370: 746f 7254 7970 652e 5265 6374 616e 6775  torType.Rectangu
-00027380: 6c61 7253 6f6c 6964 3a0a 2020 2020 2020  larSolid:.      
-00027390: 2020 2020 2020 2020 2020 636f 6f72 6469            coordi
-000273a0: 6e61 7465 735f 6469 6374 5b66 2270 5f63  nates_dict[f"p_c
-000273b0: 6f6e 645f 6365 6e74 6572 5f7b 696e 6465  ond_center_{inde
-000273c0: 7820 2b20 317d 225d 203d 205c 0a20 2020  x + 1}"] = \.   
-000273d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000273e0: 205b 7365 6c66 2e74 776f 5f64 5f61 7869   [self.two_d_axi
-000273f0: 2e70 5f63 6f6e 6475 6374 6f72 5b69 6e64  .p_conductor[ind
-00027400: 6578 5d5b 695d 2e74 6f6c 6973 7428 2920  ex][i].tolist() 
-00027410: 666f 7220 6920 696e 2072 616e 6765 2834  for i in range(4
-00027420: 2c20 6c65 6e28 7365 6c66 2e74 776f 5f64  , len(self.two_d
-00027430: 5f61 7869 2e70 5f63 6f6e 6475 6374 6f72  _axi.p_conductor
-00027440: 5b69 6e64 6578 5d29 2c20 3529 5d0a 2020  [index]), 5)].  
-00027450: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00027460: 6f72 6469 6e61 7465 735f 6469 6374 5b66  ordinates_dict[f
-00027470: 2274 6869 636b 6e65 7373 5f7b 696e 6465  "thickness_{inde
-00027480: 7820 2b20 317d 225d 203d 2073 656c 662e  x + 1}"] = self.
-00027490: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
-000274a0: 7563 746f 725b 696e 6465 785d 5b31 2c20  uctor[index][1, 
-000274b0: 305d 202d 2073 656c 662e 7477 6f5f 645f  0] - self.two_d_
-000274c0: 6178 692e 705f 636f 6e64 7563 746f 725b  axi.p_conductor[
-000274d0: 696e 6465 785d 5b30 2c20 305d 0a0a 2020  index][0, 0]..  
-000274e0: 2020 2020 2020 2320 3d3d 3d3d 3d3d 2073        # ====== s
-000274f0: 6176 6520 6461 7461 2061 7320 4a53 4f4e  ave data as JSON
-00027500: 203d 3d3d 3d3d 3d0a 2020 2020 2020 2020   ======.        
-00027510: 7769 7468 206f 7065 6e28 7365 6c66 2e66  with open(self.f
-00027520: 696c 655f 6461 7461 2e63 6f6f 7264 696e  ile_data.coordin
-00027530: 6174 6573 5f64 6573 6372 6970 7469 6f6e  ates_description
-00027540: 5f6c 6f67 5f70 6174 682c 2022 772b 222c  _log_path, "w+",
-00027550: 2065 6e63 6f64 696e 673d 2775 7466 2d38   encoding='utf-8
-00027560: 2729 2061 7320 6f75 7466 696c 653a 0a20  ') as outfile:. 
-00027570: 2020 2020 2020 2020 2020 206a 736f 6e2e             json.
-00027580: 6475 6d70 2863 6f6f 7264 696e 6174 6573  dump(coordinates
-00027590: 5f64 6963 742c 206f 7574 6669 6c65 2c20  _dict, outfile, 
-000275a0: 696e 6465 6e74 3d32 2c20 656e 7375 7265  indent=2, ensure
-000275b0: 5f61 7363 6969 3d46 616c 7365 290a 0a20  _ascii=False).. 
-000275c0: 2020 2064 6566 2063 6865 636b 5f63 7265     def check_cre
-000275d0: 6174 655f 656d 7074 795f 6d61 7465 7269  ate_empty_materi
-000275e0: 616c 5f6c 6f67 2873 656c 6629 3a0a 2020  al_log(self):.  
-000275f0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00027600: 2020 4368 6563 6b20 6966 206c 6f67 5f6d    Check if log_m
-00027610: 6174 6572 6961 6c2e 6a73 6f6e 2069 7320  aterial.json is 
-00027620: 6176 6169 6c61 626c 652e 2049 6620 6e6f  available. If no
-00027630: 7420 6176 6169 6c61 626c 652c 2063 7265  t available, cre
-00027640: 6174 6520 616e 2065 6d70 7479 206f 6e65  ate an empty one
-00027650: 2e0a 0a20 2020 2020 2020 2054 6865 206c  ...        The l
-00027660: 6f67 5f6d 6174 6572 6961 6c2e 6a73 6f6e  og_material.json
-00027670: 2073 746f 7265 7320 7468 6520 6d61 7465   stores the mate
-00027680: 7269 616c 2064 6174 6120 7573 6564 2066  rial data used f
-00027690: 6f72 2074 6865 2073 696d 756c 6174 696f  or the simulatio
-000276a0: 6e2e 0a20 2020 2020 2020 2022 2222 0a20  n..        """. 
-000276b0: 2020 2020 2020 2069 6620 6e6f 7420 6f73         if not os
-000276c0: 2e70 6174 682e 6578 6973 7473 2873 656c  .path.exists(sel
-000276d0: 662e 6669 6c65 5f64 6174 612e 6d61 7465  f.file_data.mate
-000276e0: 7269 616c 5f6c 6f67 5f70 6174 6829 3a0a  rial_log_path):.
-000276f0: 2020 2020 2020 2020 2020 2020 6d61 7465              mate
-00027700: 7269 616c 5f64 6963 7420 3d20 7b7d 0a20  rial_dict = {}. 
-00027710: 2020 2020 2020 2020 2020 2077 6974 6820             with 
-00027720: 6f70 656e 2873 656c 662e 6669 6c65 5f64  open(self.file_d
-00027730: 6174 612e 6d61 7465 7269 616c 5f6c 6f67  ata.material_log
-00027740: 5f70 6174 682c 2022 772b 222c 2065 6e63  _path, "w+", enc
-00027750: 6f64 696e 673d 2775 7466 2d38 2729 2061  oding='utf-8') a
-00027760: 7320 6f75 7466 696c 653a 0a20 2020 2020  s outfile:.     
-00027770: 2020 2020 2020 2020 2020 206a 736f 6e2e             json.
-00027780: 6475 6d70 286d 6174 6572 6961 6c5f 6469  dump(material_di
-00027790: 6374 2c20 6f75 7466 696c 652c 2069 6e64  ct, outfile, ind
-000277a0: 656e 743d 322c 2065 6e73 7572 655f 6173  ent=2, ensure_as
-000277b0: 6369 693d 4661 6c73 6529 0a0a 2020 2020  cii=False)..    
-000277c0: 6465 6620 6c6f 675f 6d61 7465 7269 616c  def log_material
-000277d0: 5f70 726f 7065 7274 6965 7328 7365 6c66  _properties(self
-000277e0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-000277f0: 2020 2020 2020 204c 6f67 206d 6174 6572         Log mater
-00027800: 6961 6c20 7072 6f70 6572 7469 6573 2e0a  ial properties..
-00027810: 0a20 2020 2020 2020 2052 6561 6420 6d61  .        Read ma
-00027820: 7465 7269 616c 2070 726f 7065 7274 6965  terial propertie
-00027830: 7320 6672 6f6d 2063 6f72 655f 6d61 7465  s from core_mate
-00027840: 7269 616c 735f 7465 6d70 2e70 726f 2061  rials_temp.pro a
-00027850: 6e64 2077 7269 7465 2072 6573 756c 7473  nd write results
-00027860: 2074 6f20 6c6f 675f 6d61 7465 7269 616c   to log_material
-00027870: 2e6a 736f 6e2e 0a20 2020 2020 2020 2052  .json..        R
-00027880: 6561 6469 6e67 2074 6865 202e 7072 6f20  eading the .pro 
-00027890: 6669 6c65 7320 656e 7375 7265 7320 7468  files ensures th
-000278a0: 6174 2074 6865 2072 6561 6c20 7369 6d75  at the real simu
-000278b0: 6c61 7469 6f6e 2069 6e70 7574 2064 6174  lation input dat
-000278c0: 6120 6973 206c 6f67 6765 642e 0a0a 2020  a is logged...  
-000278d0: 2020 2020 2020 3a72 6574 7572 6e3a 0a20        :return:. 
-000278e0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-000278f0: 2020 2023 206f 6e6c 7920 7772 6974 6520     # only write 
-00027900: 7468 6520 6c6f 6720 6f66 2074 6865 206d  the log of the m
-00027910: 6174 6572 6961 6c20 696e 2063 6173 6520  aterial in case 
-00027920: 6f66 2061 2063 6f72 655f 6d61 7465 7269  of a core_materi
-00027930: 616c 735f 7465 6d70 2e70 726f 2065 7869  als_temp.pro exi
-00027940: 7374 732e 0a20 2020 2020 2020 2023 2065  sts..        # e
-00027950: 2e67 2e20 6974 2064 6f65 7320 6e6f 7420  .g. it does not 
-00027960: 6578 6973 7420 696e 2063 6173 6520 6f66  exist in case of
-00027970: 2061 2066 6978 6564 206c 6f73 7320 616e   a fixed loss an
-00027980: 676c 6520 2863 7573 746f 6d20 6d61 7465  gle (custom mate
-00027990: 7269 616c 292e 0a20 2020 2020 2020 2069  rial)..        i
-000279a0: 6620 6f73 2e70 6174 682e 6578 6973 7473  f os.path.exists
-000279b0: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
-000279c0: 6c66 2e66 696c 655f 6461 7461 2e65 6c65  lf.file_data.ele
-000279d0: 6374 726f 5f6d 6167 6e65 7469 635f 666f  ctro_magnetic_fo
-000279e0: 6c64 6572 5f70 6174 682c 2022 636f 7265  lder_path, "core
-000279f0: 5f6d 6174 6572 6961 6c73 5f74 656d 702e  _materials_temp.
-00027a00: 7072 6f22 2929 3a0a 2020 2020 2020 2020  pro")):.        
-00027a10: 2020 2020 2320 7265 6164 2070 6572 6d65      # read perme
-00027a20: 6162 696c 6974 7920 6461 7461 2066 726f  ability data fro
-00027a30: 6d20 636f 7265 5f6d 6174 6572 6961 6c73  m core_materials
-00027a40: 5f74 656d 702e 7072 6f20 6669 6c65 0a20  _temp.pro file. 
-00027a50: 2020 2020 2020 2020 2020 2077 6974 6820             with 
-00027a60: 6f70 656e 286f 732e 7061 7468 2e6a 6f69  open(os.path.joi
-00027a70: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
-00027a80: 2e65 6c65 6374 726f 5f6d 6167 6e65 7469  .electro_magneti
-00027a90: 635f 666f 6c64 6572 5f70 6174 682c 2022  c_folder_path, "
-00027aa0: 636f 7265 5f6d 6174 6572 6961 6c73 5f74  core_materials_t
-00027ab0: 656d 702e 7072 6f22 292c 2022 7222 2920  emp.pro"), "r") 
-00027ac0: 6173 2066 696c 653a 0a20 2020 2020 2020  as file:.       
-00027ad0: 2020 2020 2020 2020 2066 6f72 206e 6f5f           for no_
-00027ae0: 6c69 6e65 2c20 6c69 6e65 2069 6e20 656e  line, line in en
-00027af0: 756d 6572 6174 6528 6669 6c65 293a 0a20  umerate(file):. 
-00027b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b10: 2020 2069 6620 6e6f 5f6c 696e 6520 3d3d     if no_line ==
-00027b20: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
-00027b30: 2020 2020 2020 2020 2020 2020 6d61 676e              magn
-00027b40: 6574 6963 5f66 6c75 785f 6465 6e73 6974  etic_flux_densit
-00027b50: 7920 3d20 6173 742e 6c69 7465 7261 6c5f  y = ast.literal_
-00027b60: 6576 616c 2822 5b22 202b 206c 696e 655b  eval("[" + line[
-00027b70: 373a 2d34 5d20 2b20 225d 2229 0a20 2020  7:-4] + "]").   
-00027b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b90: 2069 6620 6e6f 5f6c 696e 6520 3d3d 2033   if no_line == 3
-00027ba0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00027bb0: 2020 2020 2020 2020 2020 7065 726d 6561            permea
-00027bc0: 6269 6c69 7479 5f72 6561 6c20 3d20 6173  bility_real = as
-00027bd0: 742e 6c69 7465 7261 6c5f 6576 616c 2822  t.literal_eval("
-00027be0: 5b22 202b 206c 696e 655b 3133 3a2d 345d  [" + line[13:-4]
-00027bf0: 202b 2022 5d22 290a 2020 2020 2020 2020   + "]").        
-00027c00: 2020 2020 2020 2020 2020 2020 6966 206e              if n
-00027c10: 6f5f 6c69 6e65 203d 3d20 343a 0a20 2020  o_line == 4:.   
-00027c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027c30: 2020 2020 2070 6572 6d65 6162 696c 6974       permeabilit
-00027c40: 795f 696d 6167 203d 2061 7374 2e6c 6974  y_imag = ast.lit
-00027c50: 6572 616c 5f65 7661 6c28 225b 2220 2b20  eral_eval("[" + 
-00027c60: 6c69 6e65 5b31 333a 2d34 5d20 2b20 225d  line[13:-4] + "]
-00027c70: 2229 0a0a 2020 2020 2020 2020 2020 2020  ")..            
-00027c80: 7769 7468 206f 7065 6e28 7365 6c66 2e66  with open(self.f
-00027c90: 696c 655f 6461 7461 2e6d 6174 6572 6961  ile_data.materia
-00027ca0: 6c5f 6c6f 675f 7061 7468 2c20 2272 2229  l_log_path, "r")
-00027cb0: 2061 7320 6664 3a0a 2020 2020 2020 2020   as fd:.        
-00027cc0: 2020 2020 2020 2020 6d61 7465 7269 616c          material
-00027cd0: 5f64 6963 7420 3d20 6a73 6f6e 2e6c 6f61  _dict = json.loa
-00027ce0: 6473 2866 642e 7265 6164 2829 290a 0a20  ds(fd.read()).. 
-00027cf0: 2020 2020 2020 2020 2020 2023 2046 7265             # Fre
-00027d00: 7175 656e 6379 2f54 656d 7065 7261 7475  quency/Temperatu
-00027d10: 7265 2069 6e20 6f70 6572 6174 696f 6e20  re in operation 
-00027d20: 706f 696e 740a 2020 2020 2020 2020 2020  point.          
-00027d30: 2020 6d61 7465 7269 616c 5f64 6963 745b    material_dict[
-00027d40: 6622 545f 7b73 656c 662e 636f 7265 2e74  f"T_{self.core.t
-00027d50: 656d 7065 7261 7475 7265 7d5f 5f66 5f7b  emperature}__f_{
-00027d60: 7365 6c66 2e66 7265 7175 656e 6379 7d22  self.frequency}"
-00027d70: 5d20 3d20 7b0a 2020 2020 2020 2020 2020  ] = {.          
-00027d80: 2020 2020 2020 2273 6967 6d61 5f63 6f72        "sigma_cor
-00027d90: 655f 7265 616c 223a 2073 656c 662e 636f  e_real": self.co
-00027da0: 7265 2e73 6967 6d61 2e72 6561 6c2c 0a20  re.sigma.real,. 
-00027db0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-00027dc0: 7369 676d 615f 636f 7265 5f69 6d61 6722  sigma_core_imag"
-00027dd0: 3a20 7365 6c66 2e63 6f72 652e 7369 676d  : self.core.sigm
-00027de0: 612e 696d 6167 2c0a 2020 2020 2020 2020  a.imag,.        
-00027df0: 2020 2020 2020 2020 226d 6167 6e65 7469          "magneti
-00027e00: 635f 666c 7578 5f64 656e 7369 7479 223a  c_flux_density":
-00027e10: 206d 6167 6e65 7469 635f 666c 7578 5f64   magnetic_flux_d
-00027e20: 656e 7369 7479 2c0a 2020 2020 2020 2020  ensity,.        
-00027e30: 2020 2020 2020 2020 2270 6572 6d65 6162          "permeab
-00027e40: 696c 6974 795f 7265 616c 223a 2070 6572  ility_real": per
-00027e50: 6d65 6162 696c 6974 795f 7265 616c 2c0a  meability_real,.
-00027e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027e70: 2270 6572 6d65 6162 696c 6974 795f 696d  "permeability_im
-00027e80: 6167 223a 2070 6572 6d65 6162 696c 6974  ag": permeabilit
-00027e90: 795f 696d 6167 0a20 2020 2020 2020 2020  y_imag.         
-00027ea0: 2020 207d 0a0a 2020 2020 2020 2020 2020     }..          
-00027eb0: 2020 2320 3d3d 3d3d 3d3d 2073 6176 6520    # ====== save 
-00027ec0: 6461 7461 2061 7320 4a53 4f4e 203d 3d3d  data as JSON ===
-00027ed0: 3d3d 3d0a 2020 2020 2020 2020 2020 2020  ===.            
-00027ee0: 7769 7468 206f 7065 6e28 7365 6c66 2e66  with open(self.f
-00027ef0: 696c 655f 6461 7461 2e6d 6174 6572 6961  ile_data.materia
-00027f00: 6c5f 6c6f 675f 7061 7468 2c20 2277 2b22  l_log_path, "w+"
-00027f10: 2c20 656e 636f 6469 6e67 3d27 7574 662d  , encoding='utf-
-00027f20: 3827 2920 6173 206f 7574 6669 6c65 3a0a  8') as outfile:.
-00027f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027f40: 6a73 6f6e 2e64 756d 7028 6d61 7465 7269  json.dump(materi
-00027f50: 616c 5f64 6963 742c 206f 7574 6669 6c65  al_dict, outfile
-00027f60: 2c20 696e 6465 6e74 3d32 2c20 656e 7375  , indent=2, ensu
-00027f70: 7265 5f61 7363 6969 3d46 616c 7365 290a  re_ascii=False).
-00027f80: 0a20 2020 2064 6566 2072 6561 645f 7468  .    def read_th
-00027f90: 6572 6d61 6c5f 6c6f 6728 7365 6c66 2920  ermal_log(self) 
-00027fa0: 2d3e 2044 6963 743a 0a20 2020 2020 2020  -> Dict:.       
-00027fb0: 2022 2222 0a20 2020 2020 2020 2052 6561   """.        Rea
-00027fc0: 6420 7265 7375 6c74 7320 6672 6f6d 2065  d results from e
-00027fd0: 6c65 6374 726f 6d61 676e 6574 6963 2073  lectromagnetic s
-00027fe0: 696d 756c 6174 696f 6e2e 0a0a 2020 2020  imulation...    
-00027ff0: 2020 2020 3a72 6574 7572 6e3a 204c 6f67      :return: Log
-00028000: 6669 6c65 2061 7320 6120 6469 6374 696f  file as a dictio
-00028010: 6e61 7279 0a20 2020 2020 2020 203a 7274  nary.        :rt
-00028020: 7970 653a 2044 6963 740a 2020 2020 2020  ype: Dict.      
-00028030: 2020 2222 220a 2020 2020 2020 2020 7769    """.        wi
-00028040: 7468 206f 7065 6e28 6f73 2e70 6174 682e  th open(os.path.
-00028050: 6a6f 696e 2873 656c 662e 6669 6c65 5f64  join(self.file_d
-00028060: 6174 612e 7265 7375 6c74 735f 666f 6c64  ata.results_fold
-00028070: 6572 5f70 6174 682c 2022 7265 7375 6c74  er_path, "result
-00028080: 735f 7468 6572 6d61 6c2e 6a73 6f6e 2229  s_thermal.json")
-00028090: 2c20 2272 2229 2061 7320 6664 3a0a 2020  , "r") as fd:.  
-000280a0: 2020 2020 2020 2020 2020 636f 6e74 656e            conten
-000280b0: 7420 3d20 6a73 6f6e 2e6c 6f61 6473 2866  t = json.loads(f
-000280c0: 642e 7265 6164 2829 290a 2020 2020 2020  d.read()).      
-000280d0: 2020 2020 2020 6c6f 6720 3d20 636f 6e74        log = cont
-000280e0: 656e 740a 0a20 2020 2020 2020 2072 6574  ent..        ret
-000280f0: 7572 6e20 6c6f 670a 0a20 2020 2064 6566  urn log..    def
-00028100: 2076 6973 7561 6c69 7a65 2873 656c 6629   visualize(self)
-00028110: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00028120: 2020 2020 2020 5368 6f77 2073 696d 756c        Show simul
-00028130: 6174 696f 6e20 7265 7375 6c74 732e 0a0a  ation results...
-00028140: 2020 2020 2020 2020 2d20 6120 706f 7374          - a post
-00028150: 2073 696d 756c 6174 696f 6e20 7669 6577   simulation view
-00028160: 6572 0a20 2020 2020 2020 202d 2061 6c6c  er.        - all
-00028170: 6f77 7320 746f 206f 7065 6e20 222e 706f  ows to open ".po
-00028180: 7322 2d66 696c 6573 2069 6e20 676d 7368  s"-files in gmsh
-00028190: 0a20 2020 2020 2020 202d 2046 6f72 2065  .        - For e
-000281a0: 7861 6d70 6c65 2063 7572 7265 6e74 2064  xample current d
-000281b0: 656e 7369 7479 2c20 6f68 6d69 6320 6c6f  ensity, ohmic lo
-000281c0: 7373 6573 206f 7220 7468 6520 6d61 676e  sses or the magn
-000281d0: 6574 6963 2066 6965 6c64 2064 656e 7369  etic field densi
-000281e0: 7479 2063 616e 2062 6520 7669 7375 616c  ty can be visual
-000281f0: 697a 6564 0a20 2020 2020 2020 2022 2222  ized.        """
-00028200: 0a20 2020 2020 2020 2023 202d 2d2d 2d2d  .        # -----
-00028210: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028220: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028230: 2d2d 2d20 5669 7375 616c 697a 6174 696f  --- Visualizatio
-00028240: 6e20 696e 2067 6d73 6820 2d2d 2d2d 2d2d  n in gmsh ------
-00028250: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028260: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028270: 2d0a 0a20 2020 2020 2020 2073 656c 662e  -..        self.
-00028280: 6665 6d6d 745f 7072 696e 7428 225c 6e2d  femmt_print("\n-
-00028290: 2d2d 5c6e 220a 2020 2020 2020 2020 2020  --\n".          
-000282a0: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-000282b0: 5669 7375 616c 697a 6520 6669 656c 6473  Visualize fields
-000282c0: 2069 6e20 474d 5348 2066 726f 6e74 2065   in GMSH front e
-000282d0: 6e64 3a5c 6e22 290a 0a20 2020 2020 2020  nd:\n")..       
-000282e0: 2023 2067 6d73 682e 696e 6974 6961 6c69   # gmsh.initiali
-000282f0: 7a65 2829 0a20 2020 2020 2020 2065 7073  ze().        eps
-00028300: 696c 6f6e 203d 2031 652d 390a 0a20 2020  ilon = 1e-9..   
-00028310: 2020 2020 2023 202d 202d 202d 202d 202d       # - - - - -
-00028320: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00028330: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00028340: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00028350: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00028360: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
-00028370: 202d 202d 202d 202d 0a20 2020 2020 2020   - - - -.       
-00028380: 2023 2043 6f6c 6f72 730a 2020 2020 2020   # Colors.      
-00028390: 2020 2320 676d 7368 2e6f 7074 696f 6e2e    # gmsh.option.
-000283a0: 7365 7443 6f6c 6f72 285b 2832 2c20 3129  setColor([(2, 1)
-000283b0: 5d2c 2035 302c 2035 302c 2035 3029 0a20  ], 50, 50, 50). 
-000283c0: 2020 2020 2020 2023 2067 6d73 682e 6f70         # gmsh.op
-000283d0: 7469 6f6e 2e73 6574 436f 6c6f 7228 5b28  tion.setColor([(
-000283e0: 322c 2032 295d 2c20 302c 2030 2c20 3233  2, 2)], 0, 0, 23
-000283f0: 3029 0a20 2020 2020 2020 2023 2067 6d73  0).        # gms
-00028400: 682e 6f70 7469 6f6e 2e73 6574 436f 6c6f  h.option.setColo
-00028410: 7228 5b28 322c 2033 295d 2c20 3135 302c  r([(2, 3)], 150,
-00028420: 2031 3530 2c20 3029 0a20 2020 2020 2020   150, 0).       
-00028430: 2023 2067 6d73 682e 6f70 7469 6f6e 2e73   # gmsh.option.s
-00028440: 6574 436f 6c6f 7228 5b28 322c 2034 295d  etColor([(2, 4)]
-00028450: 2c20 3135 302c 2031 3530 2c20 3029 0a20  , 150, 150, 0). 
-00028460: 2020 2020 2020 2023 2067 6d73 682e 6f70         # gmsh.op
-00028470: 7469 6f6e 2e73 6574 436f 6c6f 7228 5b28  tion.setColor([(
-00028480: 322c 2035 295d 2c20 3135 302c 2031 3530  2, 5)], 150, 150
-00028490: 2c20 3029 0a20 2020 2020 2020 2023 2067  , 0).        # g
-000284a0: 6d73 682e 6f70 7469 6f6e 2e73 6574 436f  msh.option.setCo
-000284b0: 6c6f 7228 5b28 322c 2036 295d 2c20 3135  lor([(2, 6)], 15
-000284c0: 302c 2031 3530 2c20 3029 0a20 2020 2020  0, 150, 0).     
-000284d0: 2020 2023 2067 6d73 682e 6f70 7469 6f6e     # gmsh.option
-000284e0: 2e73 6574 436f 6c6f 7228 5b28 322c 2037  .setColor([(2, 7
-000284f0: 295d 2c20 3135 302c 2031 3530 2c20 3029  )], 150, 150, 0)
-00028500: 0a20 2020 2020 2020 2023 2067 6d73 682e  .        # gmsh.
-00028510: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
-00028520: 2822 4d65 7368 2e53 7572 6661 6365 4661  ("Mesh.SurfaceFa
-00028530: 6365 7322 2c20 3129 0a20 2020 2020 2020  ces", 1).       
-00028540: 2023 2067 6d73 682e 6f70 7469 6f6e 2e73   # gmsh.option.s
-00028550: 6574 4e75 6d62 6572 2822 4d65 7368 2e43  etNumber("Mesh.C
-00028560: 6f6c 6f72 4361 726f 7573 656c 222c 2031  olorCarousel", 1
-00028570: 290a 2020 2020 2020 2020 2320 676d 7368  ).        # gmsh
-00028580: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
-00028590: 7228 224d 6573 682e 4c61 6265 6c54 7970  r("Mesh.LabelTyp
-000285a0: 6522 2c20 3129 0a0a 2020 2020 2020 2020  e", 1)..        
-000285b0: 2320 4d65 7368 0a20 2020 2020 2020 2067  # Mesh.        g
-000285c0: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
-000285d0: 6d62 6572 2822 4d65 7368 2e53 7572 6661  mber("Mesh.Surfa
-000285e0: 6365 4564 6765 7322 2c20 3029 0a0a 2020  ceEdges", 0)..  
-000285f0: 2020 2020 2020 6966 2073 656c 662e 7369        if self.si
-00028600: 6d75 6c61 7469 6f6e 5f74 7970 6520 3d3d  mulation_type ==
-00028610: 2053 696d 756c 6174 696f 6e54 7970 652e   SimulationType.
-00028620: 4672 6571 446f 6d61 696e 3a0a 2020 2020  FreqDomain:.    
-00028630: 2020 2020 2020 2020 7669 6577 203d 2030          view = 0
-00028640: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00028650: 616e 7928 7365 6c66 2e77 696e 6469 6e67  any(self.winding
-00028660: 735b 695d 2e63 6f6e 6475 6374 6f72 5f74  s[i].conductor_t
-00028670: 7970 6520 213d 2043 6f6e 6475 6374 6f72  ype != Conductor
-00028680: 5479 7065 2e52 6f75 6e64 4c69 747a 2066  Type.RoundLitz f
-00028690: 6f72 2069 2069 6e20 7261 6e67 6528 6c65  or i in range(le
-000286a0: 6e28 7365 6c66 2e77 696e 6469 6e67 7329  n(self.windings)
-000286b0: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-000286c0: 2020 2020 2320 4f68 6d69 6320 6c6f 7373      # Ohmic loss
-000286d0: 6573 2028 7765 6967 6874 6564 2065 6666  es (weighted eff
-000286e0: 6563 7469 7665 2076 616c 7565 206f 6620  ective value of 
-000286f0: 6375 7272 656e 7420 6465 6e73 6974 7929  current density)
-00028700: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028710: 2067 6d73 682e 6f70 656e 286f 732e 7061   gmsh.open(os.pa
-00028720: 7468 2e6a 6f69 6e28 7365 6c66 2e66 696c  th.join(self.fil
-00028730: 655f 6461 7461 2e65 5f6d 5f66 6965 6c64  e_data.e_m_field
-00028740: 735f 666f 6c64 6572 5f70 6174 682c 2022  s_folder_path, "
-00028750: 6a32 465f 6465 6e73 6974 792e 706f 7322  j2F_density.pos"
-00028760: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-00028770: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
-00028780: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-00028790: 7b76 6965 777d 5d2e 5363 616c 6554 7970  {view}].ScaleTyp
-000287a0: 6522 2c20 3229 0a20 2020 2020 2020 2020  e", 2).         
-000287b0: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
-000287c0: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
-000287d0: 6965 775b 7b76 6965 777d 5d2e 5261 6e67  iew[{view}].Rang
-000287e0: 6554 7970 6522 2c20 3229 0a20 2020 2020  eType", 2).     
-000287f0: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
-00028800: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
-00028810: 2866 2256 6965 775b 7b76 6965 777d 5d2e  (f"View[{view}].
-00028820: 5361 7475 7261 7465 5661 6c75 6573 222c  SaturateValues",
-00028830: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
-00028840: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-00028850: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00028860: 5b7b 7669 6577 7d5d 2e43 7573 746f 6d4d  [{view}].CustomM
-00028870: 696e 222c 2067 6d73 682e 6f70 7469 6f6e  in", gmsh.option
-00028880: 2e67 6574 4e75 6d62 6572 2866 2256 6965  .getNumber(f"Vie
-00028890: 775b 7b76 6965 777d 5d2e 4d69 6e22 2920  w[{view}].Min") 
-000288a0: 2b20 6570 7369 6c6f 6e29 0a20 2020 2020  + epsilon).     
-000288b0: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
-000288c0: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
-000288d0: 2866 2256 6965 775b 7b76 6965 777d 5d2e  (f"View[{view}].
-000288e0: 4375 7374 6f6d 4d61 7822 2c20 676d 7368  CustomMax", gmsh
-000288f0: 2e6f 7074 696f 6e2e 6765 744e 756d 6265  .option.getNumbe
-00028900: 7228 6622 5669 6577 5b7b 7669 6577 7d5d  r(f"View[{view}]
-00028910: 2e4d 6178 2229 290a 2020 2020 2020 2020  .Max")).        
-00028920: 2020 2020 2020 2020 676d 7368 2e6f 7074          gmsh.opt
-00028930: 696f 6e2e 7365 744e 756d 6265 7228 6622  ion.setNumber(f"
-00028940: 5669 6577 5b7b 7669 6577 7d5d 2e43 6f6c  View[{view}].Col
-00028950: 6f72 6d61 704e 756d 6265 7222 2c20 3129  ormapNumber", 1)
-00028960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028970: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
-00028980: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
-00028990: 6965 777d 5d2e 496e 7465 7276 616c 7354  iew}].IntervalsT
-000289a0: 7970 6522 2c20 3229 0a20 2020 2020 2020  ype", 2).       
-000289b0: 2020 2020 2020 2020 2067 6d73 682e 6f70           gmsh.op
-000289c0: 7469 6f6e 2e73 6574 4e75 6d62 6572 2866  tion.setNumber(f
-000289d0: 2256 6965 775b 7b76 6965 777d 5d2e 4e62  "View[{view}].Nb
-000289e0: 4973 6f22 2c20 3430 290a 2020 2020 2020  Iso", 40).      
-000289f0: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
-00028a00: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
-00028a10: 6622 5669 6577 5b7b 7669 6577 7d5d 2e53  f"View[{view}].S
-00028a20: 686f 7754 696d 6522 2c20 3029 0a20 2020  howTime", 0).   
-00028a30: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00028a40: 662e 6665 6d6d 745f 7072 696e 7428 676d  f.femmt_print(gm
-00028a50: 7368 2e6f 7074 696f 6e2e 6765 744e 756d  sh.option.getNum
-00028a60: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
-00028a70: 7d5d 2e4d 6178 2229 290a 2020 2020 2020  }].Max")).      
-00028a80: 2020 2020 2020 2020 2020 7669 6577 202b            view +
-00028a90: 3d20 310a 0a20 2020 2020 2020 2020 2020  = 1..           
-00028aa0: 2069 6620 616e 7928 7365 6c66 2e77 696e   if any(self.win
-00028ab0: 6469 6e67 735b 695d 2e63 6f6e 6475 6374  dings[i].conduct
-00028ac0: 6f72 5f74 7970 6520 3d3d 2043 6f6e 6475  or_type == Condu
-00028ad0: 6374 6f72 5479 7065 2e52 6f75 6e64 4c69  ctorType.RoundLi
-00028ae0: 747a 2066 6f72 2069 2069 6e20 7261 6e67  tz for i in rang
-00028af0: 6528 6c65 6e28 7365 6c66 2e77 696e 6469  e(len(self.windi
-00028b00: 6e67 7329 2929 3a0a 2020 2020 2020 2020  ngs))):.        
-00028b10: 2020 2020 2020 2020 2320 4f68 6d69 6320          # Ohmic 
-00028b20: 6c6f 7373 6573 2028 7765 6967 6874 6564  losses (weighted
-00028b30: 2065 6666 6563 7469 7665 2076 616c 7565   effective value
-00028b40: 206f 6620 6375 7272 656e 7420 6465 6e73   of current dens
-00028b50: 6974 7929 0a20 2020 2020 2020 2020 2020  ity).           
-00028b60: 2020 2020 2067 6d73 682e 6f70 656e 286f       gmsh.open(o
-00028b70: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
-00028b80: 2e66 696c 655f 6461 7461 2e65 5f6d 5f66  .file_data.e_m_f
-00028b90: 6965 6c64 735f 666f 6c64 6572 5f70 6174  ields_folder_pat
-00028ba0: 682c 2022 6a48 5f64 656e 7369 7479 2e70  h, "jH_density.p
-00028bb0: 6f73 2229 290a 2020 2020 2020 2020 2020  os")).          
-00028bc0: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
-00028bd0: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
-00028be0: 6577 5b7b 7669 6577 7d5d 2e53 6361 6c65  ew[{view}].Scale
-00028bf0: 5479 7065 222c 2032 290a 2020 2020 2020  Type", 2).      
-00028c00: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
-00028c10: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
-00028c20: 6622 5669 6577 5b7b 7669 6577 7d5d 2e52  f"View[{view}].R
-00028c30: 616e 6765 5479 7065 222c 2032 290a 2020  angeType", 2).  
-00028c40: 2020 2020 2020 2020 2020 2020 2020 676d                gm
-00028c50: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
-00028c60: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
-00028c70: 7d5d 2e53 6174 7572 6174 6556 616c 7565  }].SaturateValue
-00028c80: 7322 2c20 3129 0a20 2020 2020 2020 2020  s", 1).         
-00028c90: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
-00028ca0: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
-00028cb0: 6965 775b 7b76 6965 777d 5d2e 4375 7374  iew[{view}].Cust
-00028cc0: 6f6d 4d69 6e22 2c20 676d 7368 2e6f 7074  omMin", gmsh.opt
-00028cd0: 696f 6e2e 6765 744e 756d 6265 7228 6622  ion.getNumber(f"
-00028ce0: 5669 6577 5b7b 7669 6577 7d5d 2e4d 696e  View[{view}].Min
-00028cf0: 2229 202b 2065 7073 696c 6f6e 290a 2020  ") + epsilon).  
-00028d00: 2020 2020 2020 2020 2020 2020 2020 676d                gm
-00028d10: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
-00028d20: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
-00028d30: 7d5d 2e43 7573 746f 6d4d 6178 222c 2067  }].CustomMax", g
-00028d40: 6d73 682e 6f70 7469 6f6e 2e67 6574 4e75  msh.option.getNu
-00028d50: 6d62 6572 2866 2256 6965 775b 7b76 6965  mber(f"View[{vie
-00028d60: 777d 5d2e 4d61 7822 2929 0a20 2020 2020  w}].Max")).     
-00028d70: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
-00028d80: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
-00028d90: 2866 2256 6965 775b 7b76 6965 777d 5d2e  (f"View[{view}].
-00028da0: 436f 6c6f 726d 6170 4e75 6d62 6572 222c  ColormapNumber",
-00028db0: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
-00028dc0: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-00028dd0: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00028de0: 5b7b 7669 6577 7d5d 2e49 6e74 6572 7661  [{view}].Interva
-00028df0: 6c73 5479 7065 222c 2032 290a 2020 2020  lsType", 2).    
-00028e00: 2020 2020 2020 2020 2020 2020 676d 7368              gmsh
-00028e10: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
-00028e20: 7228 6622 5669 6577 5b7b 7669 6577 7d5d  r(f"View[{view}]
-00028e30: 2e53 686f 7754 696d 6522 2c20 3029 0a20  .ShowTime", 0). 
-00028e40: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-00028e50: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
-00028e60: 6d62 6572 2866 2256 6965 775b 7b76 6965  mber(f"View[{vie
-00028e70: 777d 5d2e 4e62 4973 6f22 2c20 3430 290a  w}].NbIso", 40).
-00028e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028e90: 7669 6577 202b 3d20 310a 0a20 2020 2020  view += 1..     
-00028ea0: 2020 2020 2020 2023 204d 6167 6e65 7469         # Magneti
-00028eb0: 6320 666c 7578 2064 656e 7369 7479 0a20  c flux density. 
-00028ec0: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
-00028ed0: 6f70 656e 286f 732e 7061 7468 2e6a 6f69  open(os.path.joi
-00028ee0: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
-00028ef0: 2e65 5f6d 5f66 6965 6c64 735f 666f 6c64  .e_m_fields_fold
-00028f00: 6572 5f70 6174 682c 2022 4d61 6762 2e70  er_path, "Magb.p
-00028f10: 6f73 2229 290a 2020 2020 2020 2020 2020  os")).          
-00028f20: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-00028f30: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00028f40: 7669 6577 7d5d 2e53 6361 6c65 5479 7065  view}].ScaleType
-00028f50: 222c 2031 290a 2020 2020 2020 2020 2020  ", 1).          
-00028f60: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-00028f70: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00028f80: 7669 6577 7d5d 2e52 616e 6765 5479 7065  view}].RangeType
-00028f90: 222c 2031 290a 2020 2020 2020 2020 2020  ", 1).          
-00028fa0: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-00028fb0: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00028fc0: 7669 6577 7d5d 2e43 7573 746f 6d4d 696e  view}].CustomMin
-00028fd0: 222c 2067 6d73 682e 6f70 7469 6f6e 2e67  ", gmsh.option.g
-00028fe0: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-00028ff0: 7b76 6965 777d 5d2e 4d69 6e22 2920 2b20  {view}].Min") + 
-00029000: 6570 7369 6c6f 6e29 0a20 2020 2020 2020  epsilon).       
-00029010: 2020 2020 2067 6d73 682e 6f70 7469 6f6e       gmsh.option
-00029020: 2e73 6574 4e75 6d62 6572 2866 2256 6965  .setNumber(f"Vie
-00029030: 775b 7b76 6965 777d 5d2e 4375 7374 6f6d  w[{view}].Custom
-00029040: 4d61 7822 2c20 676d 7368 2e6f 7074 696f  Max", gmsh.optio
-00029050: 6e2e 6765 744e 756d 6265 7228 6622 5669  n.getNumber(f"Vi
-00029060: 6577 5b7b 7669 6577 7d5d 2e4d 6178 2229  ew[{view}].Max")
-00029070: 290a 2020 2020 2020 2020 2020 2020 676d  ).            gm
-00029080: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
-00029090: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
-000290a0: 7d5d 2e43 6f6c 6f72 6d61 704e 756d 6265  }].ColormapNumbe
-000290b0: 7222 2c20 3129 0a20 2020 2020 2020 2020  r", 1).         
-000290c0: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
-000290d0: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-000290e0: 7b76 6965 777d 5d2e 496e 7465 7276 616c  {view}].Interval
-000290f0: 7354 7970 6522 2c20 3229 0a20 2020 2020  sType", 2).     
-00029100: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
-00029110: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
-00029120: 6965 775b 7b76 6965 777d 5d2e 5368 6f77  iew[{view}].Show
-00029130: 5469 6d65 222c 2030 290a 2020 2020 2020  Time", 0).      
-00029140: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
-00029150: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
-00029160: 6577 5b7b 7669 6577 7d5d 2e4e 6249 736f  ew[{view}].NbIso
-00029170: 222c 2034 3029 0a20 2020 2020 2020 2020  ", 40).         
-00029180: 2020 2076 6965 7720 2b3d 2031 0a0a 2020     view += 1..  
-00029190: 2020 2020 2020 6966 2073 656c 662e 7369        if self.si
-000291a0: 6d75 6c61 7469 6f6e 5f74 7970 6520 3d3d  mulation_type ==
-000291b0: 2053 696d 756c 6174 696f 6e54 7970 652e   SimulationType.
-000291c0: 5469 6d65 446f 6d61 696e 3a0a 2020 2020  TimeDomain:.    
-000291d0: 2020 2020 2020 2020 2320 6d65 7267 6520          # merge 
-000291e0: 7669 6577 2066 696c 6573 0a20 2020 2020  view files.     
-000291f0: 2020 2020 2020 2067 6d73 682e 6d65 7267         gmsh.merg
-00029200: 6528 6f73 2e70 6174 682e 6a6f 696e 2873  e(os.path.join(s
-00029210: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
-00029220: 6d5f 6669 656c 6473 5f66 6f6c 6465 725f  m_fields_folder_
-00029230: 7061 7468 2c20 276a 3246 5f64 656e 7369  path, 'j2F_densi
-00029240: 7479 2e70 6f73 2729 290a 2020 2020 2020  ty.pos')).      
-00029250: 2020 2020 2020 676d 7368 2e6d 6572 6765        gmsh.merge
-00029260: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
-00029270: 6c66 2e66 696c 655f 6461 7461 2e65 5f6d  lf.file_data.e_m
-00029280: 5f66 6965 6c64 735f 666f 6c64 6572 5f70  _fields_folder_p
-00029290: 6174 682c 2027 6a32 485f 6465 6e73 6974  ath, 'j2H_densit
-000292a0: 792e 706f 7327 2929 0a20 2020 2020 2020  y.pos')).       
-000292b0: 2020 2020 2067 6d73 682e 6d65 7267 6528       gmsh.merge(
-000292c0: 6f73 2e70 6174 682e 6a6f 696e 2873 656c  os.path.join(sel
-000292d0: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
-000292e0: 6669 656c 6473 5f66 6f6c 6465 725f 7061  fields_folder_pa
-000292f0: 7468 2c20 274d 6167 622e 706f 7327 2929  th, 'Magb.pos'))
-00029300: 0a0a 2020 2020 2020 2020 2020 2020 7620  ..            v 
-00029310: 3d20 676d 7368 2e76 6965 772e 6765 7454  = gmsh.view.getT
-00029320: 6167 7328 290a 2020 2020 2020 2020 2020  ags().          
-00029330: 2020 2320 5765 2073 6574 2073 6f6d 6520    # We set some 
-00029340: 6f70 7469 6f6e 7320 666f 7220 6561 6368  options for each
-00029350: 2070 6f73 742d 7072 6f63 6573 7369 6e67   post-processing
-00029360: 2076 6965 773a 0a0a 2020 2020 2020 2020   view:..        
-00029370: 2020 2020 6966 2061 6e79 2873 656c 662e      if any(self.
-00029380: 7769 6e64 696e 6773 5b69 5d2e 636f 6e64  windings[i].cond
-00029390: 7563 746f 725f 7479 7065 2021 3d20 436f  uctor_type != Co
-000293a0: 6e64 7563 746f 7254 7970 652e 526f 756e  nductorType.Roun
-000293b0: 644c 6974 7a20 666f 7220 6920 696e 2072  dLitz for i in r
-000293c0: 616e 6765 286c 656e 2873 656c 662e 7769  ange(len(self.wi
-000293d0: 6e64 696e 6773 2929 293a 0a20 2020 2020  ndings))):.     
-000293e0: 2020 2020 2020 2020 2020 2023 204f 686d             # Ohm
-000293f0: 6963 206c 6f73 7365 7320 2877 6569 6768  ic losses (weigh
-00029400: 7465 6420 6566 6665 6374 6976 6520 7661  ted effective va
-00029410: 6c75 6520 6f66 2063 7572 7265 6e74 2064  lue of current d
-00029420: 656e 7369 7479 290a 2020 2020 2020 2020  ensity).        
-00029430: 2020 2020 2020 2020 2320 676d 7368 2e6f          # gmsh.o
-00029440: 7065 6e28 6f73 2e70 6174 682e 6a6f 696e  pen(os.path.join
-00029450: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
-00029460: 655f 6d5f 6669 656c 6473 5f66 6f6c 6465  e_m_fields_folde
-00029470: 725f 7061 7468 2c20 226a 3246 5f64 656e  r_path, "j2F_den
-00029480: 7369 7479 2e70 6f73 2229 290a 2020 2020  sity.pos")).    
-00029490: 2020 2020 2020 2020 2020 2020 676d 7368              gmsh
-000294a0: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
-000294b0: 7228 6622 5669 6577 5b7b 765b 305d 7d5d  r(f"View[{v[0]}]
-000294c0: 2e53 6361 6c65 5479 7065 222c 2032 290a  .ScaleType", 2).
-000294d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000294e0: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
-000294f0: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
-00029500: 305d 7d5d 2e52 616e 6765 5479 7065 222c  0]}].RangeType",
-00029510: 2033 290a 2020 2020 2020 2020 2020 2020   3).            
-00029520: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-00029530: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00029540: 5b7b 765b 305d 7d5d 2e53 6174 7572 6174  [{v[0]}].Saturat
-00029550: 6556 616c 7565 7322 2c20 3129 0a20 2020  eValues", 1).   
-00029560: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
-00029570: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
-00029580: 6572 2866 2256 6965 775b 7b76 5b30 5d7d  er(f"View[{v[0]}
-00029590: 5d2e 4375 7374 6f6d 4d69 6e22 2c20 676d  ].CustomMin", gm
-000295a0: 7368 2e6f 7074 696f 6e2e 6765 744e 756d  sh.option.getNum
-000295b0: 6265 7228 6622 5669 6577 5b7b 765b 305d  ber(f"View[{v[0]
-000295c0: 7d5d 2e4d 696e 2229 202b 2065 7073 696c  }].Min") + epsil
-000295d0: 6f6e 290a 2020 2020 2020 2020 2020 2020  on).            
-000295e0: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-000295f0: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00029600: 5b7b 765b 305d 7d5d 2e43 7573 746f 6d4d  [{v[0]}].CustomM
-00029610: 6178 222c 2067 6d73 682e 6f70 7469 6f6e  ax", gmsh.option
-00029620: 2e67 6574 4e75 6d62 6572 2866 2256 6965  .getNumber(f"Vie
-00029630: 775b 7b76 5b30 5d7d 5d2e 4d61 7822 2929  w[{v[0]}].Max"))
-00029640: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00029650: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
-00029660: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
-00029670: 5b30 5d7d 5d2e 436f 6c6f 726d 6170 4e75  [0]}].ColormapNu
-00029680: 6d62 6572 222c 2031 290a 2020 2020 2020  mber", 1).      
-00029690: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
-000296a0: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
-000296b0: 6622 5669 6577 5b7b 765b 305d 7d5d 2e49  f"View[{v[0]}].I
-000296c0: 6e74 6572 7661 6c73 5479 7065 222c 2032  ntervalsType", 2
-000296d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000296e0: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-000296f0: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00029700: 765b 305d 7d5d 2e4e 6249 736f 222c 2034  v[0]}].NbIso", 4
-00029710: 3029 0a20 2020 2020 2020 2020 2020 2020  0).             
-00029720: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
-00029730: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-00029740: 7b76 5b30 5d7d 5d2e 5368 6f77 5469 6d65  {v[0]}].ShowTime
-00029750: 222c 2034 290a 2020 2020 2020 2020 2020  ", 4).          
-00029760: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
-00029770: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
-00029780: 6577 5b7b 765b 305d 7d5d 2e54 696d 6553  ew[{v[0]}].TimeS
-00029790: 7465 7022 2c20 3129 0a20 2020 2020 2020  tep", 1).       
-000297a0: 2020 2020 2020 2020 2067 6d73 682e 6f70           gmsh.op
-000297b0: 7469 6f6e 2e73 6574 4e75 6d62 6572 2866  tion.setNumber(f
-000297c0: 2256 6965 775b 7b76 5b30 5d7d 5d2e 5469  "View[{v[0]}].Ti
-000297d0: 6d65 222c 2031 290a 2020 2020 2020 2020  me", 1).        
-000297e0: 2020 2020 2020 2020 676d 7368 2e6f 7074          gmsh.opt
-000297f0: 696f 6e2e 7365 744e 756d 6265 7228 6622  ion.setNumber(f"
-00029800: 5669 6577 5b7b 765b 305d 7d5d 2e4e 6254  View[{v[0]}].NbT
-00029810: 696d 6553 7465 7022 2c20 3129 0a0a 2020  imeStep", 1)..  
-00029820: 2020 2020 2020 2020 2020 2020 2020 6966                if
-00029830: 2061 6e79 2873 656c 662e 7769 6e64 696e   any(self.windin
-00029840: 6773 5b69 5d2e 636f 6e64 7563 746f 725f  gs[i].conductor_
-00029850: 7479 7065 203d 3d20 436f 6e64 7563 746f  type == Conducto
-00029860: 7254 7970 652e 526f 756e 644c 6974 7a20  rType.RoundLitz 
-00029870: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
-00029880: 656e 2873 656c 662e 7769 6e64 696e 6773  en(self.windings
-00029890: 2929 293a 0a20 2020 2020 2020 2020 2020  ))):.           
-000298a0: 2020 2020 2020 2020 2023 204f 686d 6963           # Ohmic
-000298b0: 206c 6f73 7365 7320 2877 6569 6768 7465   losses (weighte
-000298c0: 6420 6566 6665 6374 6976 6520 7661 6c75  d effective valu
-000298d0: 6520 6f66 2063 7572 7265 6e74 2064 656e  e of current den
-000298e0: 7369 7479 290a 2020 2020 2020 2020 2020  sity).          
-000298f0: 2020 2020 2020 2020 2020 2320 676d 7368            # gmsh
-00029900: 2e6f 7065 6e28 6f73 2e70 6174 682e 6a6f  .open(os.path.jo
-00029910: 696e 2873 656c 662e 6669 6c65 5f64 6174  in(self.file_dat
-00029920: 612e 655f 6d5f 6669 656c 6473 5f66 6f6c  a.e_m_fields_fol
-00029930: 6465 725f 7061 7468 2c20 226a 3248 5f64  der_path, "j2H_d
-00029940: 656e 7369 7479 2e70 6f73 2229 290a 2020  ensity.pos")).  
+00025970: 2020 2268 7973 745f 636f 7265 5f66 756e    "hyst_core_fun
+00025980: 6461 6d65 6e74 616c 5f66 7265 7122 5d20  damental_freq"] 
+00025990: 3d20 3020 2023 2069 7420 6973 2068 6572  = 0  # it is her
+000259a0: 6520 3020 756e 7469 6c20 7468 6520 6879  e 0 until the hy
+000259b0: 7374 6572 6573 6973 206c 6f73 7365 7320  steresis losses 
+000259c0: 6361 6e20 6265 2064 6566 696e 6564 2063  can be defined c
+000259d0: 6f72 7265 6374 6c79 2069 6e20 7468 6520  orrectly in the 
+000259e0: 736f 6c76 6572 0a20 2020 2020 2020 2020  solver.         
+000259f0: 2020 2020 2020 206c 6f67 5f64 6963 745b         log_dict[
+00025a00: 2274 6f74 616c 5f6c 6f73 7365 7322 5d5b  "total_losses"][
+00025a10: 2263 6f72 6522 5d20 3d20 6c6f 675f 6469  "core"] = log_di
+00025a20: 6374 5b22 746f 7461 6c5f 6c6f 7373 6573  ct["total_losses
+00025a30: 225d 5b22 6879 7374 5f63 6f72 655f 6675  "]["hyst_core_fu
+00025a40: 6e64 616d 656e 7461 6c5f 6672 6571 225d  ndamental_freq"]
+00025a50: 202b 205c 0a20 2020 2020 2020 2020 2020   + \.           
+00025a60: 2020 2020 2020 2020 206c 6f67 5f64 6963           log_dic
+00025a70: 745b 2274 6f74 616c 5f6c 6f73 7365 7322  t["total_losses"
+00025a80: 5d5b 2265 6464 795f 636f 7265 225d 0a20  ]["eddy_core"]. 
+00025a90: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00025aa0: 2063 6f72 6520 7061 7274 206c 6f73 7365   core part losse
+00025ab0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00025ac0: 2020 6966 206c 656e 2873 656c 662e 6d65    if len(self.me
+00025ad0: 7368 2e70 6c61 6e65 5f73 7572 6661 6365  sh.plane_surface
+00025ae0: 5f63 6f72 6529 203e 2031 3a0a 2020 2020  _core) > 1:.    
+00025af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025b00: 666f 7220 6920 696e 2072 616e 6765 286c  for i in range(l
+00025b10: 656e 2873 656c 662e 6d65 7368 2e70 6c61  en(self.mesh.pla
+00025b20: 6e65 5f73 7572 6661 6365 5f63 6f72 6529  ne_surface_core)
+00025b30: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+00025b40: 2020 2020 2020 2020 2020 206c 6f67 5f64             log_d
+00025b50: 6963 745b 2274 6f74 616c 5f6c 6f73 7365  ict["total_losse
+00025b60: 7322 5d5b 6622 746f 7461 6c5f 636f 7265  s"][f"total_core
+00025b70: 5f70 6172 745f 7b69 202b 2031 7d22 5d20  _part_{i + 1}"] 
+00025b80: 3d20 5c0a 2020 2020 2020 2020 2020 2020  = \.            
+00025b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ba0: 6c6f 675f 6469 6374 5b22 6176 6572 6167  log_dict["averag
+00025bb0: 655f 6c6f 7373 6573 225d 5b22 636f 7265  e_losses"]["core
+00025bc0: 5f70 6172 7473 225d 5b66 2263 6f72 655f  _parts"][f"core_
+00025bd0: 7061 7274 5f7b 6920 2b20 317d 225d 5b66  part_{i + 1}"][f
+00025be0: 2274 6f74 616c 5f63 6f72 655f 7061 7274  "total_core_part
+00025bf0: 5f7b 6920 2b20 317d 225d 5b30 5d0a 2020  _{i + 1}"][0].  
+00025c00: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00025c10: 206c 656e 2873 656c 662e 6d65 7368 2e70   len(self.mesh.p
+00025c20: 6c61 6e65 5f73 7572 6661 6365 5f63 6f72  lane_surface_cor
+00025c30: 6529 203d 3d20 313a 0a20 2020 2020 2020  e) == 1:.       
+00025c40: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+00025c50: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
+00025c60: 7365 7322 5d5b 2274 6f74 616c 5f63 6f72  ses"]["total_cor
+00025c70: 655f 7061 7274 5f31 225d 203d 205c 0a20  e_part_1"] = \. 
+00025c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025c90: 2020 2020 2020 206c 6f67 5f64 6963 745b         log_dict[
+00025ca0: 2261 7665 7261 6765 5f6c 6f73 7365 7322  "average_losses"
+00025cb0: 5d5b 2263 6f72 655f 7061 7274 7322 5d5b  ]["core_parts"][
+00025cc0: 2263 6f72 655f 7061 7274 5f31 225d 5b22  "core_part_1"]["
+00025cd0: 746f 7461 6c5f 636f 7265 5f70 6172 745f  total_core_part_
+00025ce0: 3122 5d0a 0a20 2020 2020 2020 2020 2020  1"]..           
+00025cf0: 2020 2020 206c 6f67 5f64 6963 745b 2274       log_dict["t
+00025d00: 6f74 616c 5f6c 6f73 7365 7322 5d5b 2274  otal_losses"]["t
+00025d10: 6f74 616c 5f6c 6f73 7365 7322 5d20 3d20  otal_losses"] = 
+00025d20: 6c6f 675f 6469 6374 5b22 746f 7461 6c5f  log_dict["total_
+00025d30: 6c6f 7373 6573 225d 5b22 6879 7374 5f63  losses"]["hyst_c
+00025d40: 6f72 655f 6675 6e64 616d 656e 7461 6c5f  ore_fundamental_
+00025d50: 6672 6571 225d 202b 205c 0a20 2020 2020  freq"] + \.     
+00025d60: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+00025d70: 6f67 5f64 6963 745b 2274 6f74 616c 5f6c  og_dict["total_l
+00025d80: 6f73 7365 7322 5d5b 2265 6464 795f 636f  osses"]["eddy_co
+00025d90: 7265 225d 202b 205c 0a20 2020 2020 2020  re"] + \.       
+00025da0: 2020 2020 2020 2020 2020 2020 206c 6f67               log
+00025db0: 5f64 6963 745b 2274 6f74 616c 5f6c 6f73  _dict["total_los
+00025dc0: 7365 7322 5d5b 2261 6c6c 5f77 696e 6469  ses"]["all_windi
+00025dd0: 6e67 735f 6c6f 7373 6573 225d 0a0a 2020  ngs_losses"]..  
+00025de0: 2020 2020 2020 636f 6d6d 6f6e 5f6c 6f67        common_log
+00025df0: 5f64 6963 7420 3d20 7365 6c66 2e77 7269  _dict = self.wri
+00025e00: 7465 5f61 6e64 5f63 616c 6375 6c61 7465  te_and_calculate
+00025e10: 5f63 6f6d 6d6f 6e5f 6c6f 6728 290a 2020  _common_log().  
+00025e20: 2020 2020 2020 6669 6e61 6c5f 6c6f 675f        final_log_
+00025e30: 6469 6374 203d 207b 2a2a 6c6f 675f 6469  dict = {**log_di
+00025e40: 6374 2c20 2a2a 636f 6d6d 6f6e 5f6c 6f67  ct, **common_log
+00025e50: 5f64 6963 747d 0a20 2020 2020 2020 2077  _dict}.        w
+00025e60: 6974 6820 6f70 656e 2873 656c 662e 6669  ith open(self.fi
+00025e70: 6c65 5f64 6174 612e 655f 6d5f 7265 7375  le_data.e_m_resu
+00025e80: 6c74 735f 6c6f 675f 7061 7468 2c20 2277  lts_log_path, "w
+00025e90: 2b22 2c20 656e 636f 6469 6e67 3d27 7574  +", encoding='ut
+00025ea0: 662d 3827 2920 6173 206f 7574 6669 6c65  f-8') as outfile
+00025eb0: 3a0a 2020 2020 2020 2020 2020 2020 6a73  :.            js
+00025ec0: 6f6e 2e64 756d 7028 6669 6e61 6c5f 6c6f  on.dump(final_lo
+00025ed0: 675f 6469 6374 2c20 6f75 7466 696c 652c  g_dict, outfile,
+00025ee0: 2069 6e64 656e 743d 322c 2065 6e73 7572   indent=2, ensur
+00025ef0: 655f 6173 6369 693d 4661 6c73 6529 0a0a  e_ascii=False)..
+00025f00: 2020 2020 6465 6620 7772 6974 655f 616e      def write_an
+00025f10: 645f 6361 6c63 756c 6174 655f 636f 6d6d  d_calculate_comm
+00025f20: 6f6e 5f6c 6f67 2873 656c 662c 2069 6e64  on_log(self, ind
+00025f30: 7563 7461 6e63 655f 6469 6374 3a20 6469  uctance_dict: di
+00025f40: 6374 203d 204e 6f6e 6529 3a0a 2020 2020  ct = None):.    
+00025f50: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00025f60: 436f 6d70 696c 6573 2063 6f6d 6d6f 6e20  Compiles common 
+00025f70: 6c6f 6767 696e 6720 696e 666f 726d 6174  logging informat
+00025f80: 696f 6e20 666f 7220 7369 6d75 6c61 7469  ion for simulati
+00025f90: 6f6e 2072 6573 756c 7473 2069 6e74 6f20  on results into 
+00025fa0: 6120 6469 6374 696f 6e61 7279 2e0a 0a20  a dictionary... 
+00025fb0: 2020 2020 2020 203a 7061 7261 6d20 696e         :param in
+00025fc0: 6475 6374 616e 6365 5f64 6963 743a 204f  ductance_dict: O
+00025fd0: 7074 696f 6e61 6c20 6469 6374 696f 6e61  ptional dictiona
+00025fe0: 7279 2063 6f6e 7461 696e 696e 6720 696e  ry containing in
+00025ff0: 6475 6374 616e 6365 2076 616c 7565 7320  ductance values 
+00026000: 746f 2062 6520 696e 636c 7564 6564 2069  to be included i
+00026010: 6e20 7468 6520 6c6f 672e 0a20 2020 2020  n the log..     
+00026020: 2020 203a 7479 7065 2069 6e64 7563 7461     :type inducta
+00026030: 6e63 655f 6469 6374 3a20 6469 6374 2c20  nce_dict: dict, 
+00026040: 6f70 7469 6f6e 616c 0a0a 2020 2020 2020  optional..      
+00026050: 2020 3a72 6574 7572 6e3a 2041 2064 6963    :return: A dic
+00026060: 7469 6f6e 6172 7920 636f 6e74 6169 6e69  tionary containi
+00026070: 6e67 2074 6865 2063 6f6d 7069 6c65 6420  ng the compiled 
+00026080: 636f 6d6d 6f6e 206c 6f67 6769 6e67 2069  common logging i
+00026090: 6e66 6f72 6d61 7469 6f6e 2e0a 2020 2020  nformation..    
+000260a0: 2020 2020 3a72 7479 7065 3a20 6469 6374      :rtype: dict
+000260b0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+000260c0: 2020 2020 206c 6f67 5f64 6963 7420 3d20       log_dict = 
+000260d0: 7b22 7369 6d75 6c61 7469 6f6e 5f73 6574  {"simulation_set
+000260e0: 7469 6e67 7322 3a20 7b7d 7d0a 2020 2020  tings": {}}.    
+000260f0: 2020 2020 2320 2d2d 2d2d 2049 6e74 726f      # ---- Intro
+00026100: 6475 6365 2063 616c 6375 6c61 7469 6f6e  duce calculation
+00026110: 7320 666f 7220 7772 6974 696e 6720 7468  s for writing th
+00026120: 6520 6d69 7363 2d64 6963 7420 696e 746f  e misc-dict into
+00026130: 2074 6865 2072 6573 756c 742d 6c6f 6720   the result-log 
+00026140: 2d2d 2d2d 0a20 2020 2020 2020 2077 6972  ----.        wir
+00026150: 655f 7479 7065 5f6c 6973 7420 3d20 5b5d  e_type_list = []
+00026160: 0a20 2020 2020 2020 2066 6f72 2077 696e  .        for win
+00026170: 6469 6e67 5f6e 756d 6265 7220 696e 2073  ding_number in s
+00026180: 656c 662e 7769 6e64 696e 6773 3a0a 2020  elf.windings:.  
+00026190: 2020 2020 2020 2020 2020 7769 7265 5f74            wire_t
+000261a0: 7970 655f 6c69 7374 2e61 7070 656e 6428  ype_list.append(
+000261b0: 7769 6e64 696e 675f 6e75 6d62 6572 2e63  winding_number.c
+000261c0: 6f6e 6475 6374 6f72 5f74 7970 652e 6e61  onductor_type.na
+000261d0: 6d65 290a 0a20 2020 2020 2020 2073 696e  me)..        sin
+000261e0: 676c 655f 7374 7261 6e64 5f63 726f 7373  gle_strand_cross
+000261f0: 5f73 6563 7469 6f6e 5f6c 6973 7420 3d20  _section_list = 
+00026200: 5b5d 0a20 2020 2020 2020 2066 6f72 2077  [].        for w
+00026210: 696e 6469 6e67 5f6e 756d 6265 7220 696e  inding_number in
+00026220: 2073 656c 662e 7769 6e64 696e 6773 3a0a   self.windings:.
+00026230: 2020 2020 2020 2020 2020 2020 6966 2077              if w
+00026240: 696e 6469 6e67 5f6e 756d 6265 722e 7374  inding_number.st
+00026250: 7261 6e64 5f72 6164 6975 733a 0a20 2020  rand_radius:.   
+00026260: 2020 2020 2020 2020 2020 2020 2073 696e               sin
+00026270: 676c 655f 7374 7261 6e64 5f63 726f 7373  gle_strand_cross
+00026280: 5f73 6563 7469 6f6e 203d 2077 696e 6469  _section = windi
+00026290: 6e67 5f6e 756d 6265 722e 7374 7261 6e64  ng_number.strand
+000262a0: 5f72 6164 6975 7320 2a2a 2032 202a 206e  _radius ** 2 * n
+000262b0: 702e 7069 0a20 2020 2020 2020 2020 2020  p.pi.           
+000262c0: 2020 2020 2073 696e 676c 655f 7374 7261       single_stra
+000262d0: 6e64 5f63 726f 7373 5f73 6563 7469 6f6e  nd_cross_section
+000262e0: 5f6c 6973 742e 6170 7065 6e64 2873 696e  _list.append(sin
+000262f0: 676c 655f 7374 7261 6e64 5f63 726f 7373  gle_strand_cross
+00026300: 5f73 6563 7469 6f6e 290a 2020 2020 2020  _section).      
+00026310: 2020 2020 2020 656c 7365 3a0a 2020 2020        else:.    
+00026320: 2020 2020 2020 2020 2020 2020 7369 6e67              sing
+00026330: 6c65 5f73 7472 616e 645f 6372 6f73 735f  le_strand_cross_
+00026340: 7365 6374 696f 6e5f 6c69 7374 2e61 7070  section_list.app
+00026350: 656e 6428 4e6f 6e65 290a 0a20 2020 2020  end(None)..     
+00026360: 2020 2077 6972 655f 7765 6967 6874 5f6c     wire_weight_l
+00026370: 6973 7420 3d20 7365 6c66 2e63 616c 6375  ist = self.calcu
+00026380: 6c61 7465 5f77 6972 655f 7765 6967 6874  late_wire_weight
+00026390: 2829 0a20 2020 2020 2020 2063 6f72 655f  ().        core_
+000263a0: 7765 6967 6874 203d 2073 656c 662e 6361  weight = self.ca
+000263b0: 6c63 756c 6174 655f 636f 7265 5f77 6569  lculate_core_wei
+000263c0: 6768 7428 290a 0a20 2020 2020 2020 2023  ght()..        #
+000263d0: 202d 2d2d 2d20 4d69 7363 656c 6c61 6e65   ---- Miscellane
+000263e0: 6f75 7320 2d2d 2d2d 0a20 2020 2020 2020  ous ----.       
+000263f0: 206c 6f67 5f64 6963 745b 226d 6973 6322   log_dict["misc"
+00026400: 5d20 3d20 7b0a 2020 2020 2020 2020 2020  ] = {.          
+00026410: 2020 2263 6f72 655f 3264 6178 695f 766f    "core_2daxi_vo
+00026420: 6c75 6d65 223a 2073 656c 662e 6361 6c63  lume": self.calc
+00026430: 756c 6174 655f 636f 7265 5f76 6f6c 756d  ulate_core_volum
+00026440: 6528 292c 2020 2320 7365 6c66 2e63 616c  e(),  # self.cal
+00026450: 6375 6c61 7465 5f63 6f72 655f 766f 6c75  culate_core_volu
+00026460: 6d65 2829 2c0a 2020 2020 2020 2020 2020  me(),.          
+00026470: 2020 2263 6f72 655f 3264 6178 695f 746f    "core_2daxi_to
+00026480: 7461 6c5f 766f 6c75 6d65 223a 2073 656c  tal_volume": sel
+00026490: 662e 6361 6c63 756c 6174 655f 636f 7265  f.calculate_core
+000264a0: 5f76 6f6c 756d 655f 7769 7468 5f61 6972  _volume_with_air
+000264b0: 2829 2c0a 2020 2020 2020 2020 2020 2020  (),.            
+000264c0: 2263 6f72 655f 3264 6178 695f 7765 6967  "core_2daxi_weig
+000264d0: 6874 223a 2063 6f72 655f 7765 6967 6874  ht": core_weight
+000264e0: 2c0a 2020 2020 2020 2020 2020 2020 2277  ,.            "w
+000264f0: 6972 655f 6c65 6e67 7468 7322 3a20 7365  ire_lengths": se
+00026500: 6c66 2e63 616c 6375 6c61 7465 5f77 6972  lf.calculate_wir
+00026510: 655f 6c65 6e67 7468 7328 292c 0a20 2020  e_lengths(),.   
+00026520: 2020 2020 2020 2020 2022 7769 7265 5f76           "wire_v
+00026530: 6f6c 756d 6573 223a 2073 656c 662e 6361  olumes": self.ca
+00026540: 6c63 756c 6174 655f 7769 7265 5f76 6f6c  lculate_wire_vol
+00026550: 756d 6573 2829 2c0a 2020 2020 2020 2020  umes(),.        
+00026560: 2020 2020 2277 6972 655f 7765 6967 6874      "wire_weight
+00026570: 223a 2077 6972 655f 7765 6967 6874 5f6c  ": wire_weight_l
+00026580: 6973 742c 0a20 2020 2020 2020 2020 2020  ist,.           
+00026590: 2022 636f 7265 5f63 6f73 7422 3a20 6666   "core_cost": ff
+000265a0: 2e63 6f73 745f 6675 6e63 7469 6f6e 5f63  .cost_function_c
+000265b0: 6f72 6528 636f 7265 5f77 6569 6768 742c  ore(core_weight,
+000265c0: 2063 6f72 655f 7479 7065 3d22 6665 7272   core_type="ferr
+000265d0: 6974 6522 292c 0a20 2020 2020 2020 2020  ite"),.         
+000265e0: 2020 2022 7769 6e64 696e 675f 636f 7374     "winding_cost
+000265f0: 223a 2066 662e 636f 7374 5f66 756e 6374  ": ff.cost_funct
+00026600: 696f 6e5f 7769 6e64 696e 6728 7769 7265  ion_winding(wire
+00026610: 5f77 6569 6768 745f 6c69 7374 3d77 6972  _weight_list=wir
+00026620: 655f 7765 6967 6874 5f6c 6973 742c 0a20  e_weight_list,. 
+00026630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026660: 2020 2020 7769 7265 5f74 7970 655f 6c69      wire_type_li
+00026670: 7374 3d77 6972 655f 7479 7065 5f6c 6973  st=wire_type_lis
+00026680: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
+00026690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000266a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000266b0: 2020 2020 2020 2020 7369 6e67 6c65 5f73          single_s
+000266c0: 7472 616e 645f 6372 6f73 735f 7365 6374  trand_cross_sect
+000266d0: 696f 6e5f 6c69 7374 3d73 696e 676c 655f  ion_list=single_
+000266e0: 7374 7261 6e64 5f63 726f 7373 5f73 6563  strand_cross_sec
+000266f0: 7469 6f6e 5f6c 6973 7429 2c0a 2020 2020  tion_list),.    
+00026700: 2020 2020 2020 2020 2274 6f74 616c 5f63          "total_c
+00026710: 6f73 745f 696e 636c 5f6d 6172 6769 6e22  ost_incl_margin"
+00026720: 3a20 6666 2e63 6f73 745f 6675 6e63 7469  : ff.cost_functi
+00026730: 6f6e 5f74 6f74 616c 2863 6f72 655f 7765  on_total(core_we
+00026740: 6967 6874 2c20 636f 7265 5f74 7970 653d  ight, core_type=
+00026750: 2266 6572 7269 7465 222c 2077 6972 655f  "ferrite", wire_
+00026760: 7765 6967 6874 5f6c 6973 743d 7769 7265  weight_list=wire
+00026770: 5f77 6569 6768 745f 6c69 7374 2c20 7769  _weight_list, wi
+00026780: 7265 5f74 7970 655f 6c69 7374 3d77 6972  re_type_list=wir
+00026790: 655f 7479 7065 5f6c 6973 742c 0a20 2020  e_type_list,.   
+000267a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000267b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000267c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000267d0: 2020 2020 2020 2020 2020 7369 6e67 6c65            single
+000267e0: 5f73 7472 616e 645f 6372 6f73 735f 7365  _strand_cross_se
+000267f0: 6374 696f 6e5f 6c69 7374 3d73 696e 676c  ction_list=singl
+00026800: 655f 7374 7261 6e64 5f63 726f 7373 5f73  e_strand_cross_s
+00026810: 6563 7469 6f6e 5f6c 6973 7429 0a20 2020  ection_list).   
+00026820: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00026830: 2320 2d2d 2d2d 2050 7269 6e74 2063 7572  # ---- Print cur
+00026840: 7265 6e74 2063 6f6e 6669 6775 7261 7469  rent configurati
+00026850: 6f6e 202d 2d2d 2d0a 2020 2020 2020 2020  on ----.        
+00026860: 6c6f 675f 6469 6374 5b22 7369 6d75 6c61  log_dict["simula
+00026870: 7469 6f6e 5f73 6574 7469 6e67 7322 5d20  tion_settings"] 
+00026880: 3d20 4d61 676e 6574 6963 436f 6d70 6f6e  = MagneticCompon
+00026890: 656e 742e 656e 636f 6465 5f73 6574 7469  ent.encode_setti
+000268a0: 6e67 7328 7365 6c66 290a 0a20 2020 2020  ngs(self)..     
+000268b0: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+000268c0: 2869 6e64 7563 7461 6e63 655f 6469 6374  (inductance_dict
+000268d0: 2c20 4469 6374 293a 0a20 2020 2020 2020  , Dict):.       
+000268e0: 2020 2020 206c 6f67 5f64 6963 745b 2269       log_dict["i
+000268f0: 6e64 7563 7461 6e63 6573 225d 203d 2069  nductances"] = i
+00026900: 6e64 7563 7461 6e63 655f 6469 6374 0a0a  nductance_dict..
+00026910: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+00026920: 6f67 5f64 6963 740a 0a20 2020 2064 6566  og_dict..    def
+00026930: 2072 6561 645f 6c6f 6728 7365 6c66 2920   read_log(self) 
+00026940: 2d3e 2044 6963 743a 0a20 2020 2020 2020  -> Dict:.       
+00026950: 2022 2222 0a20 2020 2020 2020 2052 6561   """.        Rea
+00026960: 6420 7265 7375 6c74 7320 6672 6f6d 2065  d results from e
+00026970: 6c65 6374 726f 6d61 676e 6574 6963 2073  lectromagnetic s
+00026980: 696d 756c 6174 696f 6e2e 0a0a 2020 2020  imulation...    
+00026990: 2020 2020 3a72 6574 7572 6e3a 204c 6f67      :return: Log
+000269a0: 6669 6c65 2061 7320 6120 6469 6374 696f  file as a dictio
+000269b0: 6e61 7279 0a20 2020 2020 2020 203a 7274  nary.        :rt
+000269c0: 7970 653a 2044 6963 740a 2020 2020 2020  ype: Dict.      
+000269d0: 2020 2222 220a 2020 2020 2020 2020 7769    """.        wi
+000269e0: 7468 206f 7065 6e28 7365 6c66 2e66 696c  th open(self.fil
+000269f0: 655f 6461 7461 2e65 5f6d 5f72 6573 756c  e_data.e_m_resul
+00026a00: 7473 5f6c 6f67 5f70 6174 682c 2022 7222  ts_log_path, "r"
+00026a10: 2920 6173 2066 643a 0a20 2020 2020 2020  ) as fd:.       
+00026a20: 2020 2020 2063 6f6e 7465 6e74 203d 206a       content = j
+00026a30: 736f 6e2e 6c6f 6164 7328 6664 2e72 6561  son.loads(fd.rea
+00026a40: 6428 2929 0a20 2020 2020 2020 2020 2020  d()).           
+00026a50: 206c 6f67 203d 2063 6f6e 7465 6e74 0a0a   log = content..
+00026a60: 2020 2020 2020 2020 7265 7475 726e 206c          return l
+00026a70: 6f67 0a0a 2020 2020 6465 6620 6c6f 675f  og..    def log_
+00026a80: 636f 6f72 6469 6e61 7465 735f 6465 7363  coordinates_desc
+00026a90: 7269 7074 696f 6e28 7365 6c66 293a 0a20  ription(self):. 
+00026aa0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00026ab0: 2020 204c 6f67 2061 2063 6f6f 7264 696e     Log a coordin
+00026ac0: 6174 6573 2d62 6173 6564 2067 656f 6d65  ates-based geome
+00026ad0: 7472 7920 6465 7363 7269 7074 696f 6e2e  try description.
+00026ae0: 0a0a 2020 2020 2020 2020 4375 7272 656e  ..        Curren
+00026af0: 746c 792c 2069 6d70 6c65 6d65 6e74 6564  tly, implemented
+00026b00: 2066 6f72 2069 6e64 7563 746f 7220 7769   for inductor wi
+00026b10: 7468 2072 6f75 6e64 2063 6f6e 6475 6374  th round conduct
+00026b20: 6f72 7320 6f6e 6c79 210a 0a20 2020 2020  ors only!..     
+00026b30: 2020 2046 6f6c 6c6f 7769 6e67 206c 6973     Following lis
+00026b40: 7473 2061 7265 2063 7265 6174 6564 2061  ts are created a
+00026b50: 6363 6f72 6469 6e67 2074 6f20 736b 6574  ccording to sket
+00026b60: 6368 2069 6e20 646f 6375 6d65 6e74 6174  ch in documentat
+00026b70: 696f 6e2e 0a20 2020 2020 2020 202d 2070  ion..        - p
+00026b80: 5f6f 7574 6572 0a20 2020 2020 2020 202d  _outer.        -
+00026b90: 2070 5f77 770a 2020 2020 2020 2020 2d20   p_ww.        - 
+00026ba0: 705f 6169 725f 6761 705f 6365 6e74 6572  p_air_gap_center
+00026bb0: 0a20 2020 2020 2020 202d 2070 5f63 6f6e  .        - p_con
+00026bc0: 645f 6365 6e74 6572 0a20 2020 2020 2020  d_center.       
+00026bd0: 2046 6f6c 6c6f 7769 6e67 2070 6169 7273   Following pairs
+00026be0: 206f 6620 6c69 7374 7320 6e65 6564 2074   of lists need t
+00026bf0: 6f20 6d61 7463 6820 6561 6368 206f 7468  o match each oth
+00026c00: 6572 2069 6e20 7468 6569 7220 6f72 6465  er in their orde
+00026c10: 722e 0a20 2020 2020 2020 202d 2070 5f61  r..        - p_a
+00026c20: 6972 5f67 6170 5f63 656e 7465 7220 616e  ir_gap_center an
+00026c30: 6420 6469 7374 616e 6365 735f 6169 725f  d distances_air_
+00026c40: 6761 700a 2020 2020 2020 2020 2d20 705f  gap.        - p_
+00026c50: 636f 6e64 5f63 656e 7465 7220 616e 6420  cond_center and 
+00026c60: 7261 6469 7573 5f63 6f6e 640a 0a20 2020  radius_cond..   
+00026c70: 2020 2020 203a 7265 7475 726e 3a0a 2020       :return:.  
+00026c80: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00026c90: 2020 636f 6f72 6469 6e61 7465 735f 6469    coordinates_di
+00026ca0: 6374 203d 207b 0a20 2020 2020 2020 2020  ct = {.         
+00026cb0: 2020 2022 636f 7265 5f74 7970 6522 3a20     "core_type": 
+00026cc0: 2222 2c0a 2020 2020 2020 2020 2020 2020  "",.            
+00026cd0: 2270 5f6f 7574 6572 223a 205b 5d2c 0a20  "p_outer": [],. 
+00026ce0: 2020 2020 2020 2020 2020 2022 705f 7777             "p_ww
+00026cf0: 223a 205b 5d2c 0a20 2020 2020 2020 2020  ": [],.         
+00026d00: 2020 2022 705f 6169 725f 6761 705f 6365     "p_air_gap_ce
+00026d10: 6e74 6572 223a 205b 5d2c 0a20 2020 2020  nter": [],.     
+00026d20: 2020 2020 2020 2022 6c65 6e67 7468 735f         "lengths_
+00026d30: 6169 725f 6761 7022 3a20 5b5d 0a20 2020  air_gap": [].   
+00026d40: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
+00026d50: 6966 2073 656c 662e 636f 7265 2e63 6f72  if self.core.cor
+00026d60: 655f 7479 7065 203d 3d20 436f 7265 5479  e_type == CoreTy
+00026d70: 7065 2e53 7461 636b 6564 3a0a 2020 2020  pe.Stacked:.    
+00026d80: 2020 2020 2020 2020 636f 6f72 6469 6e61          coordina
+00026d90: 7465 735f 6469 6374 5b22 636f 7265 5f74  tes_dict["core_t
+00026da0: 7970 6522 5d20 3d20 2253 7461 636b 6564  ype"] = "Stacked
+00026db0: 220a 0a20 2020 2020 2020 2069 6620 7365  "..        if se
+00026dc0: 6c66 2e63 6f72 652e 636f 7265 5f74 7970  lf.core.core_typ
+00026dd0: 6520 3d3d 2043 6f72 6554 7970 652e 5369  e == CoreType.Si
+00026de0: 6e67 6c65 3a0a 2020 2020 2020 2020 2020  ngle:.          
+00026df0: 2020 636f 6f72 6469 6e61 7465 735f 6469    coordinates_di
+00026e00: 6374 5b22 636f 7265 5f74 7970 6522 5d20  ct["core_type"] 
+00026e10: 3d20 2253 696e 676c 6522 0a0a 2020 2020  = "Single"..    
+00026e20: 2020 2020 2320 4f62 7461 696e 2063 6f6f      # Obtain coo
+00026e30: 7264 696e 6174 6573 2064 6174 6120 6672  rdinates data fr
+00026e40: 6f6d 2063 6f6d 706f 6e65 6e74 0a20 2020  om component.   
+00026e50: 2020 2020 2063 6f6f 7264 696e 6174 6573       coordinates
+00026e60: 5f64 6963 745b 2270 5f6f 7574 6572 225d  _dict["p_outer"]
+00026e70: 203d 2073 656c 662e 7477 6f5f 645f 6178   = self.two_d_ax
+00026e80: 692e 705f 6f75 7465 725b 3a2c 203a 325d  i.p_outer[:, :2]
+00026e90: 2e74 6f6c 6973 7428 2920 2023 2063 7574  .tolist()  # cut
+00026ea0: 206c 6173 7420 3220 636f 6c75 6d6e 7320   last 2 columns 
+00026eb0: 287a 2063 6f6f 7264 696e 6174 6520 616e  (z coordinate an
+00026ec0: 6420 6d65 7368 2061 6363 7572 6163 7929  d mesh accuracy)
+00026ed0: 0a20 2020 2020 2020 2063 6f6f 7264 696e  .        coordin
+00026ee0: 6174 6573 5f64 6963 745b 2270 5f6f 7574  ates_dict["p_out
+00026ef0: 6572 225d 5b30 5d5b 305d 2c20 636f 6f72  er"][0][0], coor
+00026f00: 6469 6e61 7465 735f 6469 6374 5b22 705f  dinates_dict["p_
+00026f10: 6f75 7465 7222 5d5b 325d 5b30 5d20 3d20  outer"][2][0] = 
+00026f20: 302c 2030 2020 2320 3264 2061 7869 2073  0, 0  # 2d axi s
+00026f30: 796d 6d65 7472 6963 3a20 6465 7363 7269  ymmetric: descri
+00026f40: 7074 696f 6e20 6f6e 6c79 206f 6620 7269  ption only of ri
+00026f50: 6768 7420 6861 6c66 0a20 2020 2020 2020  ght half.       
+00026f60: 2023 204f 6274 6169 6e20 6169 7267 6170   # Obtain airgap
+00026f70: 2063 656e 7465 7220 706f 696e 7473 2061   center points a
+00026f80: 6e64 206c 656e 6774 680a 2020 2020 2020  nd length.      
+00026f90: 2020 2320 5369 6e67 6c65 2063 6f72 650a    # Single core.
+00026fa0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00026fb0: 636f 7265 2e63 6f72 655f 7479 7065 203d  core.core_type =
+00026fc0: 3d20 436f 7265 5479 7065 2e53 696e 676c  = CoreType.Singl
+00026fd0: 653a 0a20 2020 2020 2020 2020 2020 2063  e:.            c
+00026fe0: 6f6f 7264 696e 6174 6573 5f64 6963 745b  oordinates_dict[
+00026ff0: 2270 5f77 7722 5d20 3d20 7365 6c66 2e74  "p_ww"] = self.t
+00027000: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
+00027010: 775b 343a 2c20 3a32 5d2e 746f 6c69 7374  w[4:, :2].tolist
+00027020: 2829 2020 2320 6375 7420 6669 7273 7420  ()  # cut first 
+00027030: 3420 726f 7773 2028 6c65 6674 2077 696e  4 rows (left win
+00027040: 6469 6e67 2077 696e 646f 7729 2061 6e64  ding window) and
+00027050: 206c 6173 7420 3220 636f 6c75 6d6e 7320   last 2 columns 
+00027060: 2822 2d22 290a 2020 2020 2020 2020 2020  ("-").          
+00027070: 2020 636f 6f72 6469 6e61 7465 735f 6469    coordinates_di
+00027080: 6374 5b22 705f 6169 725f 6761 705f 6365  ct["p_air_gap_ce
+00027090: 6e74 6572 225d 2c20 636f 6f72 6469 6e61  nter"], coordina
+000270a0: 7465 735f 6469 6374 5b22 6c65 6e67 7468  tes_dict["length
+000270b0: 735f 6169 725f 6761 7022 5d20 3d20 5c0a  s_air_gap"] = \.
+000270c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000270d0: 6666 2e63 6f6e 7665 7274 5f61 6972 5f67  ff.convert_air_g
+000270e0: 6170 5f63 6f72 6e65 725f 706f 696e 7473  ap_corner_points
+000270f0: 5f74 6f5f 6365 6e74 6572 5f61 6e64 5f64  _to_center_and_d
+00027100: 6973 7461 6e63 6528 7365 6c66 2e74 776f  istance(self.two
+00027110: 5f64 5f61 7869 2e70 5f61 6972 5f67 6170  _d_axi.p_air_gap
+00027120: 732e 746f 6c69 7374 2829 2920 2023 2074  s.tolist())  # t
+00027130: 7261 6e73 666f 726d 2074 6f20 6365 6e74  ransform to cent
+00027140: 6572 2070 6f69 6e74 7320 616e 6420 6578  er points and ex
+00027150: 7472 6163 7420 6865 6967 6874 730a 2020  tract heights.  
+00027160: 2020 2020 2020 2320 5374 6163 6b65 6420        # Stacked 
+00027170: 636f 7265 0a20 2020 2020 2020 2065 6c69  core.        eli
+00027180: 6620 7365 6c66 2e63 6f72 652e 636f 7265  f self.core.core
+00027190: 5f74 7970 6520 3d3d 2043 6f72 6554 7970  _type == CoreTyp
+000271a0: 652e 5374 6163 6b65 643a 0a20 2020 2020  e.Stacked:.     
+000271b0: 2020 2020 2020 2063 6f6f 7264 696e 6174         coordinat
+000271c0: 6573 5f64 6963 745b 2270 5f77 7722 5d20  es_dict["p_ww"] 
+000271d0: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
+000271e0: 2020 2020 2262 6f74 223a 2073 656c 662e      "bot": self.
+000271f0: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+00027200: 6f77 5f62 6f74 5b3a 2c20 3a32 5d2e 746f  ow_bot[:, :2].to
+00027210: 6c69 7374 2829 2c20 2023 2063 7574 206c  list(),  # cut l
+00027220: 6173 7420 3220 636f 6c75 6d6e 7320 2862  ast 2 columns (b
+00027230: 6f74 2077 696e 646f 7729 0a20 2020 2020  ot window).     
+00027240: 2020 2020 2020 2020 2020 2022 746f 7022             "top"
+00027250: 3a20 7365 6c66 2e74 776f 5f64 5f61 7869  : self.two_d_axi
+00027260: 2e70 5f77 696e 646f 775f 746f 705b 3a2c  .p_window_top[:,
+00027270: 203a 325d 2e74 6f6c 6973 7428 2920 2023   :2].tolist()  #
+00027280: 2063 7574 206c 6173 7420 3220 636f 6c75   cut last 2 colu
+00027290: 6d6e 7320 2874 6f70 2077 696e 646f 7729  mns (top window)
+000272a0: 0a20 2020 2020 2020 2020 2020 207d 0a20  .            }. 
+000272b0: 2020 2020 2020 2020 2020 2066 6f72 205f             for _
+000272c0: 2c20 6d69 6470 6f69 6e74 2069 6e20 656e  , midpoint in en
+000272d0: 756d 6572 6174 6528 7365 6c66 2e74 776f  umerate(self.two
+000272e0: 5f64 5f61 7869 2e61 6972 5f67 6170 732e  _d_axi.air_gaps.
+000272f0: 6d69 6470 6f69 6e74 7329 3a0a 2020 2020  midpoints):.    
+00027300: 2020 2020 2020 2020 2020 2020 2320 6578              # ex
+00027310: 7472 6163 7420 7468 6520 6d69 6470 6f69  tract the midpoi
+00027320: 6e74 2028 6365 6e74 6572 2070 6f73 6974  nt (center posit
+00027330: 696f 6e29 2066 6f72 2074 6865 2063 7572  ion) for the cur
+00027340: 7265 6e74 2061 6972 2067 6170 0a20 2020  rent air gap.   
+00027350: 2020 2020 2020 2020 2020 2020 2063 656e               cen
+00027360: 7465 725f 7820 3d20 6d69 6470 6f69 6e74  ter_x = midpoint
+00027370: 5b30 5d0a 2020 2020 2020 2020 2020 2020  [0].            
+00027380: 2020 2020 6365 6e74 6572 5f79 203d 206d      center_y = m
+00027390: 6964 706f 696e 745b 315d 0a20 2020 2020  idpoint[1].     
+000273a0: 2020 2020 2020 2020 2020 2023 204c 656e             # Len
+000273b0: 6774 6820 6f66 2074 6865 2063 7572 7265  gth of the curre
+000273c0: 6e74 2061 6972 2067 6170 0a20 2020 2020  nt air gap.     
+000273d0: 2020 2020 2020 2020 2020 206c 656e 6774             lengt
+000273e0: 6820 3d20 6d69 6470 6f69 6e74 5b32 5d0a  h = midpoint[2].
+000273f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027400: 2320 436f 6d62 696e 6520 7468 6520 6365  # Combine the ce
+00027410: 6e74 6572 2070 6f73 6974 696f 6e20 616e  nter position an
+00027420: 6420 6865 6967 6874 2069 6e74 6f20 6120  d height into a 
+00027430: 7369 6e67 6c65 2064 6963 7469 6f6e 6172  single dictionar
+00027440: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
+00027450: 2020 636f 6f72 6469 6e61 7465 735f 6469    coordinates_di
+00027460: 6374 5b22 705f 6169 725f 6761 705f 6365  ct["p_air_gap_ce
+00027470: 6e74 6572 225d 2e61 7070 656e 6428 5b63  nter"].append([c
+00027480: 656e 7465 725f 782c 2063 656e 7465 725f  enter_x, center_
+00027490: 795d 290a 2020 2020 2020 2020 2020 2020  y]).            
+000274a0: 2020 2020 636f 6f72 6469 6e61 7465 735f      coordinates_
+000274b0: 6469 6374 5b22 6c65 6e67 7468 735f 6169  dict["lengths_ai
+000274c0: 725f 6761 7022 5d2e 6170 7065 6e64 286c  r_gap"].append(l
+000274d0: 656e 6774 6829 0a0a 2020 2020 2020 2020  ength)..        
+000274e0: 6966 2073 656c 662e 7374 7261 795f 7061  if self.stray_pa
+000274f0: 7468 3a20 2023 2053 7472 6179 206c 656e  th:  # Stray len
+00027500: 6774 680a 2020 2020 2020 2020 2020 2020  gth.            
+00027510: 636f 6f72 6469 6e61 7465 735f 6469 6374  coordinates_dict
+00027520: 5b22 7374 7261 795f 6c65 6e67 7468 225d  ["stray_length"]
+00027530: 203d 2073 656c 662e 7374 7261 795f 7061   = self.stray_pa
+00027540: 7468 2e6c 656e 6774 680a 0a20 2020 2020  th.length..     
+00027550: 2020 2023 2066 6f72 2074 6865 2063 6f6e     # for the con
+00027560: 6475 6374 6f72 732c 2074 6865 2063 6f6f  ductors, the coo
+00027570: 7264 696e 6174 6573 2068 6176 6520 746f  rdinates have to
+00027580: 2062 6520 6f62 7461 696e 6564 2073 6f6d   be obtained som
+00027590: 6577 6865 7265 2065 6c73 652e 2e2e 0a20  ewhere else.... 
+000275a0: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
+000275b0: 2c20 7769 6e64 696e 6720 696e 2065 6e75  , winding in enu
+000275c0: 6d65 7261 7465 2873 656c 662e 7769 6e64  merate(self.wind
+000275d0: 696e 6773 293a 0a20 2020 2020 2020 2020  ings):.         
+000275e0: 2020 2023 2052 6f75 6e64 2063 6f6e 6475     # Round condu
+000275f0: 6374 6f72 730a 2020 2020 2020 2020 2020  ctors.          
+00027600: 2020 6966 2077 696e 6469 6e67 2e63 6f6e    if winding.con
+00027610: 6475 6374 6f72 5f74 7970 6520 696e 205b  ductor_type in [
+00027620: 436f 6e64 7563 746f 7254 7970 652e 526f  ConductorType.Ro
+00027630: 756e 644c 6974 7a2c 2043 6f6e 6475 6374  undLitz, Conduct
+00027640: 6f72 5479 7065 2e52 6f75 6e64 536f 6c69  orType.RoundSoli
+00027650: 645d 3a0a 2020 2020 2020 2020 2020 2020  d]:.            
+00027660: 2020 2020 636f 6f72 6469 6e61 7465 735f      coordinates_
+00027670: 6469 6374 5b66 2270 5f63 6f6e 645f 6365  dict[f"p_cond_ce
+00027680: 6e74 6572 5f7b 696e 6465 7820 2b20 317d  nter_{index + 1}
+00027690: 225d 203d 2073 656c 662e 7477 6f5f 645f  "] = self.two_d_
+000276a0: 6178 692e 705f 636f 6e64 7563 746f 725b  axi.p_conductor[
+000276b0: 696e 6465 785d 5b3a 3a35 5d2e 746f 6c69  index][::5].toli
+000276c0: 7374 2829 0a20 2020 2020 2020 2020 2020  st().           
+000276d0: 2020 2020 2063 6f6f 7264 696e 6174 6573       coordinates
+000276e0: 5f64 6963 745b 6622 7261 6469 7573 5f63  _dict[f"radius_c
+000276f0: 6f6e 645f 7b69 6e64 6578 202b 2031 7d22  ond_{index + 1}"
+00027700: 5d20 3d20 7365 6c66 2e74 776f 5f64 5f61  ] = self.two_d_a
+00027710: 7869 2e70 5f63 6f6e 6475 6374 6f72 5b69  xi.p_conductor[i
+00027720: 6e64 6578 5d5b 302c 2030 5d20 2d20 7365  ndex][0, 0] - se
+00027730: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
+00027740: 6f6e 6475 6374 6f72 5b69 6e64 6578 5d5b  onductor[index][
+00027750: 312c 2030 5d0a 2020 2020 2020 2020 2020  1, 0].          
+00027760: 2020 2320 5265 6374 616e 6775 6c61 7220    # Rectangular 
+00027770: 636f 6e64 7563 746f 7273 0a20 2020 2020  conductors.     
+00027780: 2020 2020 2020 2065 6c69 6620 7769 6e64         elif wind
+00027790: 696e 672e 636f 6e64 7563 746f 725f 7479  ing.conductor_ty
+000277a0: 7065 203d 3d20 436f 6e64 7563 746f 7254  pe == ConductorT
+000277b0: 7970 652e 5265 6374 616e 6775 6c61 7253  ype.RectangularS
+000277c0: 6f6c 6964 3a0a 2020 2020 2020 2020 2020  olid:.          
+000277d0: 2020 2020 2020 636f 6f72 6469 6e61 7465        coordinate
+000277e0: 735f 6469 6374 5b66 2270 5f63 6f6e 645f  s_dict[f"p_cond_
+000277f0: 6365 6e74 6572 5f7b 696e 6465 7820 2b20  center_{index + 
+00027800: 317d 225d 203d 205c 0a20 2020 2020 2020  1}"] = \.       
+00027810: 2020 2020 2020 2020 2020 2020 205b 7365               [se
+00027820: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
+00027830: 6f6e 6475 6374 6f72 5b69 6e64 6578 5d5b  onductor[index][
+00027840: 695d 2e74 6f6c 6973 7428 2920 666f 7220  i].tolist() for 
+00027850: 6920 696e 2072 616e 6765 2834 2c20 6c65  i in range(4, le
+00027860: 6e28 7365 6c66 2e74 776f 5f64 5f61 7869  n(self.two_d_axi
+00027870: 2e70 5f63 6f6e 6475 6374 6f72 5b69 6e64  .p_conductor[ind
+00027880: 6578 5d29 2c20 3529 5d0a 2020 2020 2020  ex]), 5)].      
+00027890: 2020 2020 2020 2020 2020 636f 6f72 6469            coordi
+000278a0: 6e61 7465 735f 6469 6374 5b66 2274 6869  nates_dict[f"thi
+000278b0: 636b 6e65 7373 5f7b 696e 6465 7820 2b20  ckness_{index + 
+000278c0: 317d 225d 203d 2073 656c 662e 7477 6f5f  1}"] = self.two_
+000278d0: 645f 6178 692e 705f 636f 6e64 7563 746f  d_axi.p_conducto
+000278e0: 725b 696e 6465 785d 5b31 2c20 305d 202d  r[index][1, 0] -
+000278f0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00027900: 705f 636f 6e64 7563 746f 725b 696e 6465  p_conductor[inde
+00027910: 785d 5b30 2c20 305d 0a0a 2020 2020 2020  x][0, 0]..      
+00027920: 2020 2320 3d3d 3d3d 3d3d 2073 6176 6520    # ====== save 
+00027930: 6461 7461 2061 7320 4a53 4f4e 203d 3d3d  data as JSON ===
+00027940: 3d3d 3d0a 2020 2020 2020 2020 7769 7468  ===.        with
+00027950: 206f 7065 6e28 7365 6c66 2e66 696c 655f   open(self.file_
+00027960: 6461 7461 2e63 6f6f 7264 696e 6174 6573  data.coordinates
+00027970: 5f64 6573 6372 6970 7469 6f6e 5f6c 6f67  _description_log
+00027980: 5f70 6174 682c 2022 772b 222c 2065 6e63  _path, "w+", enc
+00027990: 6f64 696e 673d 2775 7466 2d38 2729 2061  oding='utf-8') a
+000279a0: 7320 6f75 7466 696c 653a 0a20 2020 2020  s outfile:.     
+000279b0: 2020 2020 2020 206a 736f 6e2e 6475 6d70         json.dump
+000279c0: 2863 6f6f 7264 696e 6174 6573 5f64 6963  (coordinates_dic
+000279d0: 742c 206f 7574 6669 6c65 2c20 696e 6465  t, outfile, inde
+000279e0: 6e74 3d32 2c20 656e 7375 7265 5f61 7363  nt=2, ensure_asc
+000279f0: 6969 3d46 616c 7365 290a 0a20 2020 2064  ii=False)..    d
+00027a00: 6566 2063 6865 636b 5f63 7265 6174 655f  ef check_create_
+00027a10: 656d 7074 795f 6d61 7465 7269 616c 5f6c  empty_material_l
+00027a20: 6f67 2873 656c 6629 3a0a 2020 2020 2020  og(self):.      
+00027a30: 2020 2222 220a 2020 2020 2020 2020 4368    """.        Ch
+00027a40: 6563 6b20 6966 206c 6f67 5f6d 6174 6572  eck if log_mater
+00027a50: 6961 6c2e 6a73 6f6e 2069 7320 6176 6169  ial.json is avai
+00027a60: 6c61 626c 652e 2049 6620 6e6f 7420 6176  lable. If not av
+00027a70: 6169 6c61 626c 652c 2063 7265 6174 6520  ailable, create 
+00027a80: 616e 2065 6d70 7479 206f 6e65 2e0a 0a20  an empty one... 
+00027a90: 2020 2020 2020 2054 6865 206c 6f67 5f6d         The log_m
+00027aa0: 6174 6572 6961 6c2e 6a73 6f6e 2073 746f  aterial.json sto
+00027ab0: 7265 7320 7468 6520 6d61 7465 7269 616c  res the material
+00027ac0: 2064 6174 6120 7573 6564 2066 6f72 2074   data used for t
+00027ad0: 6865 2073 696d 756c 6174 696f 6e2e 0a20  he simulation.. 
+00027ae0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00027af0: 2020 2069 6620 6e6f 7420 6f73 2e70 6174     if not os.pat
+00027b00: 682e 6578 6973 7473 2873 656c 662e 6669  h.exists(self.fi
+00027b10: 6c65 5f64 6174 612e 6d61 7465 7269 616c  le_data.material
+00027b20: 5f6c 6f67 5f70 6174 6829 3a0a 2020 2020  _log_path):.    
+00027b30: 2020 2020 2020 2020 6d61 7465 7269 616c          material
+00027b40: 5f64 6963 7420 3d20 7b7d 0a20 2020 2020  _dict = {}.     
+00027b50: 2020 2020 2020 2077 6974 6820 6f70 656e         with open
+00027b60: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
+00027b70: 6d61 7465 7269 616c 5f6c 6f67 5f70 6174  material_log_pat
+00027b80: 682c 2022 772b 222c 2065 6e63 6f64 696e  h, "w+", encodin
+00027b90: 673d 2775 7466 2d38 2729 2061 7320 6f75  g='utf-8') as ou
+00027ba0: 7466 696c 653a 0a20 2020 2020 2020 2020  tfile:.         
+00027bb0: 2020 2020 2020 206a 736f 6e2e 6475 6d70         json.dump
+00027bc0: 286d 6174 6572 6961 6c5f 6469 6374 2c20  (material_dict, 
+00027bd0: 6f75 7466 696c 652c 2069 6e64 656e 743d  outfile, indent=
+00027be0: 322c 2065 6e73 7572 655f 6173 6369 693d  2, ensure_ascii=
+00027bf0: 4661 6c73 6529 0a0a 2020 2020 6465 6620  False)..    def 
+00027c00: 6c6f 675f 6d61 7465 7269 616c 5f70 726f  log_material_pro
+00027c10: 7065 7274 6965 7328 7365 6c66 293a 0a20  perties(self):. 
+00027c20: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00027c30: 2020 204c 6f67 206d 6174 6572 6961 6c20     Log material 
+00027c40: 7072 6f70 6572 7469 6573 2e0a 0a20 2020  properties...   
+00027c50: 2020 2020 2052 6561 6420 6d61 7465 7269       Read materi
+00027c60: 616c 2070 726f 7065 7274 6965 7320 6672  al properties fr
+00027c70: 6f6d 2063 6f72 655f 6d61 7465 7269 616c  om core_material
+00027c80: 735f 7465 6d70 2e70 726f 2061 6e64 2077  s_temp.pro and w
+00027c90: 7269 7465 2072 6573 756c 7473 2074 6f20  rite results to 
+00027ca0: 6c6f 675f 6d61 7465 7269 616c 2e6a 736f  log_material.jso
+00027cb0: 6e2e 0a20 2020 2020 2020 2052 6561 6469  n..        Readi
+00027cc0: 6e67 2074 6865 202e 7072 6f20 6669 6c65  ng the .pro file
+00027cd0: 7320 656e 7375 7265 7320 7468 6174 2074  s ensures that t
+00027ce0: 6865 2072 6561 6c20 7369 6d75 6c61 7469  he real simulati
+00027cf0: 6f6e 2069 6e70 7574 2064 6174 6120 6973  on input data is
+00027d00: 206c 6f67 6765 642e 0a0a 2020 2020 2020   logged...      
+00027d10: 2020 3a72 6574 7572 6e3a 0a20 2020 2020    :return:.     
+00027d20: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
+00027d30: 206f 6e6c 7920 7772 6974 6520 7468 6520   only write the 
+00027d40: 6c6f 6720 6f66 2074 6865 206d 6174 6572  log of the mater
+00027d50: 6961 6c20 696e 2063 6173 6520 6f66 2061  ial in case of a
+00027d60: 2063 6f72 655f 6d61 7465 7269 616c 735f   core_materials_
+00027d70: 7465 6d70 2e70 726f 2065 7869 7374 732e  temp.pro exists.
+00027d80: 0a20 2020 2020 2020 2023 2065 2e67 2e20  .        # e.g. 
+00027d90: 6974 2064 6f65 7320 6e6f 7420 6578 6973  it does not exis
+00027da0: 7420 696e 2063 6173 6520 6f66 2061 2066  t in case of a f
+00027db0: 6978 6564 206c 6f73 7320 616e 676c 6520  ixed loss angle 
+00027dc0: 2863 7573 746f 6d20 6d61 7465 7269 616c  (custom material
+00027dd0: 292e 0a20 2020 2020 2020 2069 6620 6f73  )..        if os
+00027de0: 2e70 6174 682e 6578 6973 7473 286f 732e  .path.exists(os.
+00027df0: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
+00027e00: 696c 655f 6461 7461 2e65 6c65 6374 726f  ile_data.electro
+00027e10: 5f6d 6167 6e65 7469 635f 666f 6c64 6572  _magnetic_folder
+00027e20: 5f70 6174 682c 2022 636f 7265 5f6d 6174  _path, "core_mat
+00027e30: 6572 6961 6c73 5f74 656d 702e 7072 6f22  erials_temp.pro"
+00027e40: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+00027e50: 2320 7265 6164 2070 6572 6d65 6162 696c  # read permeabil
+00027e60: 6974 7920 6461 7461 2066 726f 6d20 636f  ity data from co
+00027e70: 7265 5f6d 6174 6572 6961 6c73 5f74 656d  re_materials_tem
+00027e80: 702e 7072 6f20 6669 6c65 0a20 2020 2020  p.pro file.     
+00027e90: 2020 2020 2020 2077 6974 6820 6f70 656e         with open
+00027ea0: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
+00027eb0: 6c66 2e66 696c 655f 6461 7461 2e65 6c65  lf.file_data.ele
+00027ec0: 6374 726f 5f6d 6167 6e65 7469 635f 666f  ctro_magnetic_fo
+00027ed0: 6c64 6572 5f70 6174 682c 2022 636f 7265  lder_path, "core
+00027ee0: 5f6d 6174 6572 6961 6c73 5f74 656d 702e  _materials_temp.
+00027ef0: 7072 6f22 292c 2022 7222 2920 6173 2066  pro"), "r") as f
+00027f00: 696c 653a 0a20 2020 2020 2020 2020 2020  ile:.           
+00027f10: 2020 2020 2066 6f72 206e 6f5f 6c69 6e65       for no_line
+00027f20: 2c20 6c69 6e65 2069 6e20 656e 756d 6572  , line in enumer
+00027f30: 6174 6528 6669 6c65 293a 0a20 2020 2020  ate(file):.     
+00027f40: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00027f50: 6620 6e6f 5f6c 696e 6520 3d3d 2032 3a0a  f no_line == 2:.
+00027f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027f70: 2020 2020 2020 2020 6d61 676e 6574 6963          magnetic
+00027f80: 5f66 6c75 785f 6465 6e73 6974 7920 3d20  _flux_density = 
+00027f90: 6173 742e 6c69 7465 7261 6c5f 6576 616c  ast.literal_eval
+00027fa0: 2822 5b22 202b 206c 696e 655b 373a 2d34  ("[" + line[7:-4
+00027fb0: 5d20 2b20 225d 2229 0a20 2020 2020 2020  ] + "]").       
+00027fc0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+00027fd0: 6e6f 5f6c 696e 6520 3d3d 2033 3a0a 2020  no_line == 3:.  
+00027fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027ff0: 2020 2020 2020 7065 726d 6561 6269 6c69        permeabili
+00028000: 7479 5f72 6561 6c20 3d20 6173 742e 6c69  ty_real = ast.li
+00028010: 7465 7261 6c5f 6576 616c 2822 5b22 202b  teral_eval("[" +
+00028020: 206c 696e 655b 3133 3a2d 345d 202b 2022   line[13:-4] + "
+00028030: 5d22 290a 2020 2020 2020 2020 2020 2020  ]").            
+00028040: 2020 2020 2020 2020 6966 206e 6f5f 6c69          if no_li
+00028050: 6e65 203d 3d20 343a 0a20 2020 2020 2020  ne == 4:.       
+00028060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028070: 2070 6572 6d65 6162 696c 6974 795f 696d   permeability_im
+00028080: 6167 203d 2061 7374 2e6c 6974 6572 616c  ag = ast.literal
+00028090: 5f65 7661 6c28 225b 2220 2b20 6c69 6e65  _eval("[" + line
+000280a0: 5b31 333a 2d34 5d20 2b20 225d 2229 0a0a  [13:-4] + "]")..
+000280b0: 2020 2020 2020 2020 2020 2020 7769 7468              with
+000280c0: 206f 7065 6e28 7365 6c66 2e66 696c 655f   open(self.file_
+000280d0: 6461 7461 2e6d 6174 6572 6961 6c5f 6c6f  data.material_lo
+000280e0: 675f 7061 7468 2c20 2272 2229 2061 7320  g_path, "r") as 
+000280f0: 6664 3a0a 2020 2020 2020 2020 2020 2020  fd:.            
+00028100: 2020 2020 6d61 7465 7269 616c 5f64 6963      material_dic
+00028110: 7420 3d20 6a73 6f6e 2e6c 6f61 6473 2866  t = json.loads(f
+00028120: 642e 7265 6164 2829 290a 0a20 2020 2020  d.read())..     
+00028130: 2020 2020 2020 2023 2046 7265 7175 656e         # Frequen
+00028140: 6379 2f54 656d 7065 7261 7475 7265 2069  cy/Temperature i
+00028150: 6e20 6f70 6572 6174 696f 6e20 706f 696e  n operation poin
+00028160: 740a 2020 2020 2020 2020 2020 2020 6d61  t.            ma
+00028170: 7465 7269 616c 5f64 6963 745b 6622 545f  terial_dict[f"T_
+00028180: 7b73 656c 662e 636f 7265 2e74 656d 7065  {self.core.tempe
+00028190: 7261 7475 7265 7d5f 5f66 5f7b 7365 6c66  rature}__f_{self
+000281a0: 2e66 7265 7175 656e 6379 7d22 5d20 3d20  .frequency}"] = 
+000281b0: 7b0a 2020 2020 2020 2020 2020 2020 2020  {.              
+000281c0: 2020 2273 6967 6d61 5f63 6f72 655f 7265    "sigma_core_re
+000281d0: 616c 223a 2073 656c 662e 636f 7265 2e73  al": self.core.s
+000281e0: 6967 6d61 2e72 6561 6c2c 0a20 2020 2020  igma.real,.     
+000281f0: 2020 2020 2020 2020 2020 2022 7369 676d             "sigm
+00028200: 615f 636f 7265 5f69 6d61 6722 3a20 7365  a_core_imag": se
+00028210: 6c66 2e63 6f72 652e 7369 676d 612e 696d  lf.core.sigma.im
+00028220: 6167 2c0a 2020 2020 2020 2020 2020 2020  ag,.            
+00028230: 2020 2020 226d 6167 6e65 7469 635f 666c      "magnetic_fl
+00028240: 7578 5f64 656e 7369 7479 223a 206d 6167  ux_density": mag
+00028250: 6e65 7469 635f 666c 7578 5f64 656e 7369  netic_flux_densi
+00028260: 7479 2c0a 2020 2020 2020 2020 2020 2020  ty,.            
+00028270: 2020 2020 2270 6572 6d65 6162 696c 6974      "permeabilit
+00028280: 795f 7265 616c 223a 2070 6572 6d65 6162  y_real": permeab
+00028290: 696c 6974 795f 7265 616c 2c0a 2020 2020  ility_real,.    
+000282a0: 2020 2020 2020 2020 2020 2020 2270 6572              "per
+000282b0: 6d65 6162 696c 6974 795f 696d 6167 223a  meability_imag":
+000282c0: 2070 6572 6d65 6162 696c 6974 795f 696d   permeability_im
+000282d0: 6167 0a20 2020 2020 2020 2020 2020 207d  ag.            }
+000282e0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+000282f0: 3d3d 3d3d 3d3d 2073 6176 6520 6461 7461  ====== save data
+00028300: 2061 7320 4a53 4f4e 203d 3d3d 3d3d 3d0a   as JSON ======.
+00028310: 2020 2020 2020 2020 2020 2020 7769 7468              with
+00028320: 206f 7065 6e28 7365 6c66 2e66 696c 655f   open(self.file_
+00028330: 6461 7461 2e6d 6174 6572 6961 6c5f 6c6f  data.material_lo
+00028340: 675f 7061 7468 2c20 2277 2b22 2c20 656e  g_path, "w+", en
+00028350: 636f 6469 6e67 3d27 7574 662d 3827 2920  coding='utf-8') 
+00028360: 6173 206f 7574 6669 6c65 3a0a 2020 2020  as outfile:.    
+00028370: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
+00028380: 2e64 756d 7028 6d61 7465 7269 616c 5f64  .dump(material_d
+00028390: 6963 742c 206f 7574 6669 6c65 2c20 696e  ict, outfile, in
+000283a0: 6465 6e74 3d32 2c20 656e 7375 7265 5f61  dent=2, ensure_a
+000283b0: 7363 6969 3d46 616c 7365 290a 0a20 2020  scii=False)..   
+000283c0: 2064 6566 2072 6561 645f 7468 6572 6d61   def read_therma
+000283d0: 6c5f 6c6f 6728 7365 6c66 2920 2d3e 2044  l_log(self) -> D
+000283e0: 6963 743a 0a20 2020 2020 2020 2022 2222  ict:.        """
+000283f0: 0a20 2020 2020 2020 2052 6561 6420 7265  .        Read re
+00028400: 7375 6c74 7320 6672 6f6d 2065 6c65 6374  sults from elect
+00028410: 726f 6d61 676e 6574 6963 2073 696d 756c  romagnetic simul
+00028420: 6174 696f 6e2e 0a0a 2020 2020 2020 2020  ation...        
+00028430: 3a72 6574 7572 6e3a 204c 6f67 6669 6c65  :return: Logfile
+00028440: 2061 7320 6120 6469 6374 696f 6e61 7279   as a dictionary
+00028450: 0a20 2020 2020 2020 203a 7274 7970 653a  .        :rtype:
+00028460: 2044 6963 740a 2020 2020 2020 2020 2222   Dict.        ""
+00028470: 220a 2020 2020 2020 2020 7769 7468 206f  ".        with o
+00028480: 7065 6e28 6f73 2e70 6174 682e 6a6f 696e  pen(os.path.join
+00028490: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
+000284a0: 7265 7375 6c74 735f 666f 6c64 6572 5f70  results_folder_p
+000284b0: 6174 682c 2022 7265 7375 6c74 735f 7468  ath, "results_th
+000284c0: 6572 6d61 6c2e 6a73 6f6e 2229 2c20 2272  ermal.json"), "r
+000284d0: 2229 2061 7320 6664 3a0a 2020 2020 2020  ") as fd:.      
+000284e0: 2020 2020 2020 636f 6e74 656e 7420 3d20        content = 
+000284f0: 6a73 6f6e 2e6c 6f61 6473 2866 642e 7265  json.loads(fd.re
+00028500: 6164 2829 290a 2020 2020 2020 2020 2020  ad()).          
+00028510: 2020 6c6f 6720 3d20 636f 6e74 656e 740a    log = content.
+00028520: 0a20 2020 2020 2020 2072 6574 7572 6e20  .        return 
+00028530: 6c6f 670a 0a20 2020 2064 6566 2076 6973  log..    def vis
+00028540: 7561 6c69 7a65 2873 656c 6629 3a0a 2020  ualize(self):.  
+00028550: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00028560: 2020 5368 6f77 2073 696d 756c 6174 696f    Show simulatio
+00028570: 6e20 7265 7375 6c74 732e 0a0a 2020 2020  n results...    
+00028580: 2020 2020 2d20 6120 706f 7374 2073 696d      - a post sim
+00028590: 756c 6174 696f 6e20 7669 6577 6572 0a20  ulation viewer. 
+000285a0: 2020 2020 2020 202d 2061 6c6c 6f77 7320         - allows 
+000285b0: 746f 206f 7065 6e20 222e 706f 7322 2d66  to open ".pos"-f
+000285c0: 696c 6573 2069 6e20 676d 7368 0a20 2020  iles in gmsh.   
+000285d0: 2020 2020 202d 2046 6f72 2065 7861 6d70       - For examp
+000285e0: 6c65 2063 7572 7265 6e74 2064 656e 7369  le current densi
+000285f0: 7479 2c20 6f68 6d69 6320 6c6f 7373 6573  ty, ohmic losses
+00028600: 206f 7220 7468 6520 6d61 676e 6574 6963   or the magnetic
+00028610: 2066 6965 6c64 2064 656e 7369 7479 2063   field density c
+00028620: 616e 2062 6520 7669 7375 616c 697a 6564  an be visualized
+00028630: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00028640: 2020 2020 2023 202d 2d2d 2d2d 2d2d 2d2d       # ---------
+00028650: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00028660: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d20  --------------- 
+00028670: 5669 7375 616c 697a 6174 696f 6e20 696e  Visualization in
+00028680: 2067 6d73 6820 2d2d 2d2d 2d2d 2d2d 2d2d   gmsh ----------
+00028690: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000286a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a20  -------------.. 
+000286b0: 2020 2020 2020 2073 656c 662e 6665 6d6d         self.femm
+000286c0: 745f 7072 696e 7428 225c 6e2d 2d2d 5c6e  t_print("\n---\n
+000286d0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+000286e0: 2020 2020 2020 2020 2020 2022 5669 7375             "Visu
+000286f0: 616c 697a 6520 6669 656c 6473 2069 6e20  alize fields in 
+00028700: 474d 5348 2066 726f 6e74 2065 6e64 3a5c  GMSH front end:\
+00028710: 6e22 290a 0a20 2020 2020 2020 2023 2067  n")..        # g
+00028720: 6d73 682e 696e 6974 6961 6c69 7a65 2829  msh.initialize()
+00028730: 0a20 2020 2020 2020 2065 7073 696c 6f6e  .        epsilon
+00028740: 203d 2031 652d 390a 0a20 2020 2020 2020   = 1e-9..       
+00028750: 2023 202d 202d 202d 202d 202d 202d 202d   # - - - - - - -
+00028760: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00028770: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00028780: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+00028790: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+000287a0: 202d 202d 202d 202d 202d 202d 202d 202d   - - - - - - - -
+000287b0: 202d 202d 0a20 2020 2020 2020 2023 2043   - -.        # C
+000287c0: 6f6c 6f72 730a 2020 2020 2020 2020 2320  olors.        # 
+000287d0: 676d 7368 2e6f 7074 696f 6e2e 7365 7443  gmsh.option.setC
+000287e0: 6f6c 6f72 285b 2832 2c20 3129 5d2c 2035  olor([(2, 1)], 5
+000287f0: 302c 2035 302c 2035 3029 0a20 2020 2020  0, 50, 50).     
+00028800: 2020 2023 2067 6d73 682e 6f70 7469 6f6e     # gmsh.option
+00028810: 2e73 6574 436f 6c6f 7228 5b28 322c 2032  .setColor([(2, 2
+00028820: 295d 2c20 302c 2030 2c20 3233 3029 0a20  )], 0, 0, 230). 
+00028830: 2020 2020 2020 2023 2067 6d73 682e 6f70         # gmsh.op
+00028840: 7469 6f6e 2e73 6574 436f 6c6f 7228 5b28  tion.setColor([(
+00028850: 322c 2033 295d 2c20 3135 302c 2031 3530  2, 3)], 150, 150
+00028860: 2c20 3029 0a20 2020 2020 2020 2023 2067  , 0).        # g
+00028870: 6d73 682e 6f70 7469 6f6e 2e73 6574 436f  msh.option.setCo
+00028880: 6c6f 7228 5b28 322c 2034 295d 2c20 3135  lor([(2, 4)], 15
+00028890: 302c 2031 3530 2c20 3029 0a20 2020 2020  0, 150, 0).     
+000288a0: 2020 2023 2067 6d73 682e 6f70 7469 6f6e     # gmsh.option
+000288b0: 2e73 6574 436f 6c6f 7228 5b28 322c 2035  .setColor([(2, 5
+000288c0: 295d 2c20 3135 302c 2031 3530 2c20 3029  )], 150, 150, 0)
+000288d0: 0a20 2020 2020 2020 2023 2067 6d73 682e  .        # gmsh.
+000288e0: 6f70 7469 6f6e 2e73 6574 436f 6c6f 7228  option.setColor(
+000288f0: 5b28 322c 2036 295d 2c20 3135 302c 2031  [(2, 6)], 150, 1
+00028900: 3530 2c20 3029 0a20 2020 2020 2020 2023  50, 0).        #
+00028910: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
+00028920: 436f 6c6f 7228 5b28 322c 2037 295d 2c20  Color([(2, 7)], 
+00028930: 3135 302c 2031 3530 2c20 3029 0a20 2020  150, 150, 0).   
+00028940: 2020 2020 2023 2067 6d73 682e 6f70 7469       # gmsh.opti
+00028950: 6f6e 2e73 6574 4e75 6d62 6572 2822 4d65  on.setNumber("Me
+00028960: 7368 2e53 7572 6661 6365 4661 6365 7322  sh.SurfaceFaces"
+00028970: 2c20 3129 0a20 2020 2020 2020 2023 2067  , 1).        # g
+00028980: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
+00028990: 6d62 6572 2822 4d65 7368 2e43 6f6c 6f72  mber("Mesh.Color
+000289a0: 4361 726f 7573 656c 222c 2031 290a 2020  Carousel", 1).  
+000289b0: 2020 2020 2020 2320 676d 7368 2e6f 7074        # gmsh.opt
+000289c0: 696f 6e2e 7365 744e 756d 6265 7228 224d  ion.setNumber("M
+000289d0: 6573 682e 4c61 6265 6c54 7970 6522 2c20  esh.LabelType", 
+000289e0: 3129 0a0a 2020 2020 2020 2020 2320 4d65  1)..        # Me
+000289f0: 7368 0a20 2020 2020 2020 2067 6d73 682e  sh.        gmsh.
+00028a00: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
+00028a10: 2822 4d65 7368 2e53 7572 6661 6365 4564  ("Mesh.SurfaceEd
+00028a20: 6765 7322 2c20 3029 0a0a 2020 2020 2020  ges", 0)..      
+00028a30: 2020 6966 2073 656c 662e 7369 6d75 6c61    if self.simula
+00028a40: 7469 6f6e 5f74 7970 6520 3d3d 2053 696d  tion_type == Sim
+00028a50: 756c 6174 696f 6e54 7970 652e 4672 6571  ulationType.Freq
+00028a60: 446f 6d61 696e 3a0a 2020 2020 2020 2020  Domain:.        
+00028a70: 2020 2020 7669 6577 203d 2030 0a20 2020      view = 0.   
+00028a80: 2020 2020 2020 2020 2069 6620 616e 7928           if any(
+00028a90: 7365 6c66 2e77 696e 6469 6e67 735b 695d  self.windings[i]
+00028aa0: 2e63 6f6e 6475 6374 6f72 5f74 7970 6520  .conductor_type 
+00028ab0: 213d 2043 6f6e 6475 6374 6f72 5479 7065  != ConductorType
+00028ac0: 2e52 6f75 6e64 4c69 747a 2066 6f72 2069  .RoundLitz for i
+00028ad0: 2069 6e20 7261 6e67 6528 6c65 6e28 7365   in range(len(se
+00028ae0: 6c66 2e77 696e 6469 6e67 7329 2929 3a0a  lf.windings))):.
+00028af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028b00: 2320 4f68 6d69 6320 6c6f 7373 6573 2028  # Ohmic losses (
+00028b10: 7765 6967 6874 6564 2065 6666 6563 7469  weighted effecti
+00028b20: 7665 2076 616c 7565 206f 6620 6375 7272  ve value of curr
+00028b30: 656e 7420 6465 6e73 6974 7929 0a20 2020  ent density).   
+00028b40: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
+00028b50: 682e 6f70 656e 286f 732e 7061 7468 2e6a  h.open(os.path.j
+00028b60: 6f69 6e28 7365 6c66 2e66 696c 655f 6461  oin(self.file_da
+00028b70: 7461 2e65 5f6d 5f66 6965 6c64 735f 666f  ta.e_m_fields_fo
+00028b80: 6c64 6572 5f70 6174 682c 2022 6a32 465f  lder_path, "j2F_
+00028b90: 6465 6e73 6974 792e 706f 7322 2929 0a20  density.pos")). 
+00028ba0: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00028bb0: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
+00028bc0: 6d62 6572 2866 2256 6965 775b 7b76 6965  mber(f"View[{vie
+00028bd0: 777d 5d2e 5363 616c 6554 7970 6522 2c20  w}].ScaleType", 
+00028be0: 3229 0a20 2020 2020 2020 2020 2020 2020  2).             
+00028bf0: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
+00028c00: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
+00028c10: 7b76 6965 777d 5d2e 5261 6e67 6554 7970  {view}].RangeTyp
+00028c20: 6522 2c20 3229 0a20 2020 2020 2020 2020  e", 2).         
+00028c30: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
+00028c40: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
+00028c50: 6965 775b 7b76 6965 777d 5d2e 5361 7475  iew[{view}].Satu
+00028c60: 7261 7465 5661 6c75 6573 222c 2031 290a  rateValues", 1).
+00028c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028c80: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+00028c90: 756d 6265 7228 6622 5669 6577 5b7b 7669  umber(f"View[{vi
+00028ca0: 6577 7d5d 2e43 7573 746f 6d4d 696e 222c  ew}].CustomMin",
+00028cb0: 2067 6d73 682e 6f70 7469 6f6e 2e67 6574   gmsh.option.get
+00028cc0: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
+00028cd0: 6965 777d 5d2e 4d69 6e22 2920 2b20 6570  iew}].Min") + ep
+00028ce0: 7369 6c6f 6e29 0a20 2020 2020 2020 2020  silon).         
+00028cf0: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
+00028d00: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
+00028d10: 6965 775b 7b76 6965 777d 5d2e 4375 7374  iew[{view}].Cust
+00028d20: 6f6d 4d61 7822 2c20 676d 7368 2e6f 7074  omMax", gmsh.opt
+00028d30: 696f 6e2e 6765 744e 756d 6265 7228 6622  ion.getNumber(f"
+00028d40: 5669 6577 5b7b 7669 6577 7d5d 2e4d 6178  View[{view}].Max
+00028d50: 2229 290a 2020 2020 2020 2020 2020 2020  ")).            
+00028d60: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
+00028d70: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
+00028d80: 5b7b 7669 6577 7d5d 2e43 6f6c 6f72 6d61  [{view}].Colorma
+00028d90: 704e 756d 6265 7222 2c20 3129 0a20 2020  pNumber", 1).   
+00028da0: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
+00028db0: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
+00028dc0: 6572 2866 2256 6965 775b 7b76 6965 777d  er(f"View[{view}
+00028dd0: 5d2e 496e 7465 7276 616c 7354 7970 6522  ].IntervalsType"
+00028de0: 2c20 3229 0a20 2020 2020 2020 2020 2020  , 2).           
+00028df0: 2020 2020 2067 6d73 682e 6f70 7469 6f6e       gmsh.option
+00028e00: 2e73 6574 4e75 6d62 6572 2866 2256 6965  .setNumber(f"Vie
+00028e10: 775b 7b76 6965 777d 5d2e 4e62 4973 6f22  w[{view}].NbIso"
+00028e20: 2c20 3430 290a 2020 2020 2020 2020 2020  , 40).          
+00028e30: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+00028e40: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
+00028e50: 6577 5b7b 7669 6577 7d5d 2e53 686f 7754  ew[{view}].ShowT
+00028e60: 696d 6522 2c20 3029 0a20 2020 2020 2020  ime", 0).       
+00028e70: 2020 2020 2020 2020 2073 656c 662e 6665           self.fe
+00028e80: 6d6d 745f 7072 696e 7428 676d 7368 2e6f  mmt_print(gmsh.o
+00028e90: 7074 696f 6e2e 6765 744e 756d 6265 7228  ption.getNumber(
+00028ea0: 6622 5669 6577 5b7b 7669 6577 7d5d 2e4d  f"View[{view}].M
+00028eb0: 6178 2229 290a 2020 2020 2020 2020 2020  ax")).          
+00028ec0: 2020 2020 2020 7669 6577 202b 3d20 310a        view += 1.
+00028ed0: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00028ee0: 616e 7928 7365 6c66 2e77 696e 6469 6e67  any(self.winding
+00028ef0: 735b 695d 2e63 6f6e 6475 6374 6f72 5f74  s[i].conductor_t
+00028f00: 7970 6520 3d3d 2043 6f6e 6475 6374 6f72  ype == Conductor
+00028f10: 5479 7065 2e52 6f75 6e64 4c69 747a 2066  Type.RoundLitz f
+00028f20: 6f72 2069 2069 6e20 7261 6e67 6528 6c65  or i in range(le
+00028f30: 6e28 7365 6c66 2e77 696e 6469 6e67 7329  n(self.windings)
+00028f40: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+00028f50: 2020 2020 2320 4f68 6d69 6320 6c6f 7373      # Ohmic loss
+00028f60: 6573 2028 7765 6967 6874 6564 2065 6666  es (weighted eff
+00028f70: 6563 7469 7665 2076 616c 7565 206f 6620  ective value of 
+00028f80: 6375 7272 656e 7420 6465 6e73 6974 7929  current density)
+00028f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028fa0: 2067 6d73 682e 6f70 656e 286f 732e 7061   gmsh.open(os.pa
+00028fb0: 7468 2e6a 6f69 6e28 7365 6c66 2e66 696c  th.join(self.fil
+00028fc0: 655f 6461 7461 2e65 5f6d 5f66 6965 6c64  e_data.e_m_field
+00028fd0: 735f 666f 6c64 6572 5f70 6174 682c 2022  s_folder_path, "
+00028fe0: 6a48 5f64 656e 7369 7479 2e70 6f73 2229  jH_density.pos")
+00028ff0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00029000: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
+00029010: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
+00029020: 7669 6577 7d5d 2e53 6361 6c65 5479 7065  view}].ScaleType
+00029030: 222c 2032 290a 2020 2020 2020 2020 2020  ", 2).          
+00029040: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+00029050: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
+00029060: 6577 5b7b 7669 6577 7d5d 2e52 616e 6765  ew[{view}].Range
+00029070: 5479 7065 222c 2032 290a 2020 2020 2020  Type", 2).      
+00029080: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
+00029090: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
+000290a0: 6622 5669 6577 5b7b 7669 6577 7d5d 2e53  f"View[{view}].S
+000290b0: 6174 7572 6174 6556 616c 7565 7322 2c20  aturateValues", 
+000290c0: 3129 0a20 2020 2020 2020 2020 2020 2020  1).             
+000290d0: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
+000290e0: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
+000290f0: 7b76 6965 777d 5d2e 4375 7374 6f6d 4d69  {view}].CustomMi
+00029100: 6e22 2c20 676d 7368 2e6f 7074 696f 6e2e  n", gmsh.option.
+00029110: 6765 744e 756d 6265 7228 6622 5669 6577  getNumber(f"View
+00029120: 5b7b 7669 6577 7d5d 2e4d 696e 2229 202b  [{view}].Min") +
+00029130: 2065 7073 696c 6f6e 290a 2020 2020 2020   epsilon).      
+00029140: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
+00029150: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
+00029160: 6622 5669 6577 5b7b 7669 6577 7d5d 2e43  f"View[{view}].C
+00029170: 7573 746f 6d4d 6178 222c 2067 6d73 682e  ustomMax", gmsh.
+00029180: 6f70 7469 6f6e 2e67 6574 4e75 6d62 6572  option.getNumber
+00029190: 2866 2256 6965 775b 7b76 6965 777d 5d2e  (f"View[{view}].
+000291a0: 4d61 7822 2929 0a20 2020 2020 2020 2020  Max")).         
+000291b0: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
+000291c0: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
+000291d0: 6965 775b 7b76 6965 777d 5d2e 436f 6c6f  iew[{view}].Colo
+000291e0: 726d 6170 4e75 6d62 6572 222c 2031 290a  rmapNumber", 1).
+000291f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029200: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+00029210: 756d 6265 7228 6622 5669 6577 5b7b 7669  umber(f"View[{vi
+00029220: 6577 7d5d 2e49 6e74 6572 7661 6c73 5479  ew}].IntervalsTy
+00029230: 7065 222c 2032 290a 2020 2020 2020 2020  pe", 2).        
+00029240: 2020 2020 2020 2020 676d 7368 2e6f 7074          gmsh.opt
+00029250: 696f 6e2e 7365 744e 756d 6265 7228 6622  ion.setNumber(f"
+00029260: 5669 6577 5b7b 7669 6577 7d5d 2e53 686f  View[{view}].Sho
+00029270: 7754 696d 6522 2c20 3029 0a20 2020 2020  wTime", 0).     
+00029280: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
+00029290: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
+000292a0: 2866 2256 6965 775b 7b76 6965 777d 5d2e  (f"View[{view}].
+000292b0: 4e62 4973 6f22 2c20 3430 290a 2020 2020  NbIso", 40).    
+000292c0: 2020 2020 2020 2020 2020 2020 7669 6577              view
+000292d0: 202b 3d20 310a 0a20 2020 2020 2020 2020   += 1..         
+000292e0: 2020 2023 204d 6167 6e65 7469 6320 666c     # Magnetic fl
+000292f0: 7578 2064 656e 7369 7479 0a20 2020 2020  ux density.     
+00029300: 2020 2020 2020 2067 6d73 682e 6f70 656e         gmsh.open
+00029310: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
+00029320: 6c66 2e66 696c 655f 6461 7461 2e65 5f6d  lf.file_data.e_m
+00029330: 5f66 6965 6c64 735f 666f 6c64 6572 5f70  _fields_folder_p
+00029340: 6174 682c 2022 4d61 6762 2e70 6f73 2229  ath, "Magb.pos")
+00029350: 290a 2020 2020 2020 2020 2020 2020 676d  ).            gm
+00029360: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+00029370: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
+00029380: 7d5d 2e53 6361 6c65 5479 7065 222c 2031  }].ScaleType", 1
+00029390: 290a 2020 2020 2020 2020 2020 2020 676d  ).            gm
+000293a0: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+000293b0: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
+000293c0: 7d5d 2e52 616e 6765 5479 7065 222c 2031  }].RangeType", 1
+000293d0: 290a 2020 2020 2020 2020 2020 2020 676d  ).            gm
+000293e0: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+000293f0: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
+00029400: 7d5d 2e43 7573 746f 6d4d 696e 222c 2067  }].CustomMin", g
+00029410: 6d73 682e 6f70 7469 6f6e 2e67 6574 4e75  msh.option.getNu
+00029420: 6d62 6572 2866 2256 6965 775b 7b76 6965  mber(f"View[{vie
+00029430: 777d 5d2e 4d69 6e22 2920 2b20 6570 7369  w}].Min") + epsi
+00029440: 6c6f 6e29 0a20 2020 2020 2020 2020 2020  lon).           
+00029450: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
+00029460: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
+00029470: 6965 777d 5d2e 4375 7374 6f6d 4d61 7822  iew}].CustomMax"
+00029480: 2c20 676d 7368 2e6f 7074 696f 6e2e 6765  , gmsh.option.ge
+00029490: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
+000294a0: 7669 6577 7d5d 2e4d 6178 2229 290a 2020  view}].Max")).  
+000294b0: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
+000294c0: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
+000294d0: 6622 5669 6577 5b7b 7669 6577 7d5d 2e43  f"View[{view}].C
+000294e0: 6f6c 6f72 6d61 704e 756d 6265 7222 2c20  olormapNumber", 
+000294f0: 3129 0a20 2020 2020 2020 2020 2020 2067  1).            g
+00029500: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
+00029510: 6d62 6572 2866 2256 6965 775b 7b76 6965  mber(f"View[{vie
+00029520: 777d 5d2e 496e 7465 7276 616c 7354 7970  w}].IntervalsTyp
+00029530: 6522 2c20 3229 0a20 2020 2020 2020 2020  e", 2).         
+00029540: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
+00029550: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
+00029560: 7b76 6965 777d 5d2e 5368 6f77 5469 6d65  {view}].ShowTime
+00029570: 222c 2030 290a 2020 2020 2020 2020 2020  ", 0).          
+00029580: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
+00029590: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
+000295a0: 7669 6577 7d5d 2e4e 6249 736f 222c 2034  view}].NbIso", 4
+000295b0: 3029 0a20 2020 2020 2020 2020 2020 2076  0).            v
+000295c0: 6965 7720 2b3d 2031 0a0a 2020 2020 2020  iew += 1..      
+000295d0: 2020 6966 2073 656c 662e 7369 6d75 6c61    if self.simula
+000295e0: 7469 6f6e 5f74 7970 6520 3d3d 2053 696d  tion_type == Sim
+000295f0: 756c 6174 696f 6e54 7970 652e 5469 6d65  ulationType.Time
+00029600: 446f 6d61 696e 3a0a 2020 2020 2020 2020  Domain:.        
+00029610: 2020 2020 2320 6d65 7267 6520 7669 6577      # merge view
+00029620: 2066 696c 6573 0a20 2020 2020 2020 2020   files.         
+00029630: 2020 2067 6d73 682e 6d65 7267 6528 6f73     gmsh.merge(os
+00029640: 2e70 6174 682e 6a6f 696e 2873 656c 662e  .path.join(self.
+00029650: 6669 6c65 5f64 6174 612e 655f 6d5f 6669  file_data.e_m_fi
+00029660: 656c 6473 5f66 6f6c 6465 725f 7061 7468  elds_folder_path
+00029670: 2c20 276a 3246 5f64 656e 7369 7479 2e70  , 'j2F_density.p
+00029680: 6f73 2729 290a 2020 2020 2020 2020 2020  os')).          
+00029690: 2020 676d 7368 2e6d 6572 6765 286f 732e    gmsh.merge(os.
+000296a0: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
+000296b0: 696c 655f 6461 7461 2e65 5f6d 5f66 6965  ile_data.e_m_fie
+000296c0: 6c64 735f 666f 6c64 6572 5f70 6174 682c  lds_folder_path,
+000296d0: 2027 6a32 485f 6465 6e73 6974 792e 706f   'j2H_density.po
+000296e0: 7327 2929 0a20 2020 2020 2020 2020 2020  s')).           
+000296f0: 2067 6d73 682e 6d65 7267 6528 6f73 2e70   gmsh.merge(os.p
+00029700: 6174 682e 6a6f 696e 2873 656c 662e 6669  ath.join(self.fi
+00029710: 6c65 5f64 6174 612e 655f 6d5f 6669 656c  le_data.e_m_fiel
+00029720: 6473 5f66 6f6c 6465 725f 7061 7468 2c20  ds_folder_path, 
+00029730: 274d 6167 622e 706f 7327 2929 0a0a 2020  'Magb.pos'))..  
+00029740: 2020 2020 2020 2020 2020 7620 3d20 676d            v = gm
+00029750: 7368 2e76 6965 772e 6765 7454 6167 7328  sh.view.getTags(
+00029760: 290a 2020 2020 2020 2020 2020 2020 2320  ).            # 
+00029770: 5765 2073 6574 2073 6f6d 6520 6f70 7469  We set some opti
+00029780: 6f6e 7320 666f 7220 6561 6368 2070 6f73  ons for each pos
+00029790: 742d 7072 6f63 6573 7369 6e67 2076 6965  t-processing vie
+000297a0: 773a 0a0a 2020 2020 2020 2020 2020 2020  w:..            
+000297b0: 6966 2061 6e79 2873 656c 662e 7769 6e64  if any(self.wind
+000297c0: 696e 6773 5b69 5d2e 636f 6e64 7563 746f  ings[i].conducto
+000297d0: 725f 7479 7065 2021 3d20 436f 6e64 7563  r_type != Conduc
+000297e0: 746f 7254 7970 652e 526f 756e 644c 6974  torType.RoundLit
+000297f0: 7a20 666f 7220 6920 696e 2072 616e 6765  z for i in range
+00029800: 286c 656e 2873 656c 662e 7769 6e64 696e  (len(self.windin
+00029810: 6773 2929 293a 0a20 2020 2020 2020 2020  gs))):.         
+00029820: 2020 2020 2020 2023 204f 686d 6963 206c         # Ohmic l
+00029830: 6f73 7365 7320 2877 6569 6768 7465 6420  osses (weighted 
+00029840: 6566 6665 6374 6976 6520 7661 6c75 6520  effective value 
+00029850: 6f66 2063 7572 7265 6e74 2064 656e 7369  of current densi
+00029860: 7479 290a 2020 2020 2020 2020 2020 2020  ty).            
+00029870: 2020 2020 2320 676d 7368 2e6f 7065 6e28      # gmsh.open(
+00029880: 6f73 2e70 6174 682e 6a6f 696e 2873 656c  os.path.join(sel
+00029890: 662e 6669 6c65 5f64 6174 612e 655f 6d5f  f.file_data.e_m_
+000298a0: 6669 656c 6473 5f66 6f6c 6465 725f 7061  fields_folder_pa
+000298b0: 7468 2c20 226a 3246 5f64 656e 7369 7479  th, "j2F_density
+000298c0: 2e70 6f73 2229 290a 2020 2020 2020 2020  .pos")).        
+000298d0: 2020 2020 2020 2020 676d 7368 2e6f 7074          gmsh.opt
+000298e0: 696f 6e2e 7365 744e 756d 6265 7228 6622  ion.setNumber(f"
+000298f0: 5669 6577 5b7b 765b 305d 7d5d 2e53 6361  View[{v[0]}].Sca
+00029900: 6c65 5479 7065 222c 2032 290a 2020 2020  leType", 2).    
+00029910: 2020 2020 2020 2020 2020 2020 676d 7368              gmsh
+00029920: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
+00029930: 7228 6622 5669 6577 5b7b 765b 305d 7d5d  r(f"View[{v[0]}]
+00029940: 2e52 616e 6765 5479 7065 222c 2033 290a  .RangeType", 3).
 00029950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029960: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-00029970: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00029980: 765b 315d 7d5d 2e53 6361 6c65 5479 7065  v[1]}].ScaleType
-00029990: 222c 2032 290a 2020 2020 2020 2020 2020  ", 2).          
-000299a0: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
-000299b0: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
-000299c0: 6622 5669 6577 5b7b 765b 315d 7d5d 2e52  f"View[{v[1]}].R
-000299d0: 616e 6765 5479 7065 222c 2033 290a 2020  angeType", 3).  
-000299e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000299f0: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-00029a00: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00029a10: 765b 315d 7d5d 2e53 6174 7572 6174 6556  v[1]}].SaturateV
-00029a20: 616c 7565 7322 2c20 3129 0a20 2020 2020  alues", 1).     
-00029a30: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-00029a40: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
-00029a50: 6d62 6572 2866 2256 6965 775b 7b76 5b31  mber(f"View[{v[1
-00029a60: 5d7d 5d2e 4375 7374 6f6d 4d69 6e22 2c0a  ]}].CustomMin",.
-00029a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029a90: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
-00029aa0: 7074 696f 6e2e 6765 744e 756d 6265 7228  ption.getNumber(
-00029ab0: 6622 5669 6577 5b7b 765b 315d 7d5d 2e4d  f"View[{v[1]}].M
-00029ac0: 696e 2229 202b 2065 7073 696c 6f6e 290a  in") + epsilon).
-00029ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029ae0: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-00029af0: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00029b00: 5b7b 765b 315d 7d5d 2e43 7573 746f 6d4d  [{v[1]}].CustomM
-00029b10: 6178 222c 2067 6d73 682e 6f70 7469 6f6e  ax", gmsh.option
-00029b20: 2e67 6574 4e75 6d62 6572 2866 2256 6965  .getNumber(f"Vie
-00029b30: 775b 7b76 5b31 5d7d 5d2e 4d61 7822 2929  w[{v[1]}].Max"))
-00029b40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00029b50: 2020 2020 2067 6d73 682e 6f70 7469 6f6e       gmsh.option
-00029b60: 2e73 6574 4e75 6d62 6572 2866 2256 6965  .setNumber(f"Vie
-00029b70: 775b 7b76 5b31 5d7d 5d2e 436f 6c6f 726d  w[{v[1]}].Colorm
-00029b80: 6170 4e75 6d62 6572 222c 2031 290a 2020  apNumber", 1).  
-00029b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029960: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+00029970: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
+00029980: 305d 7d5d 2e53 6174 7572 6174 6556 616c  0]}].SaturateVal
+00029990: 7565 7322 2c20 3129 0a20 2020 2020 2020  ues", 1).       
+000299a0: 2020 2020 2020 2020 2067 6d73 682e 6f70           gmsh.op
+000299b0: 7469 6f6e 2e73 6574 4e75 6d62 6572 2866  tion.setNumber(f
+000299c0: 2256 6965 775b 7b76 5b30 5d7d 5d2e 4375  "View[{v[0]}].Cu
+000299d0: 7374 6f6d 4d69 6e22 2c20 676d 7368 2e6f  stomMin", gmsh.o
+000299e0: 7074 696f 6e2e 6765 744e 756d 6265 7228  ption.getNumber(
+000299f0: 6622 5669 6577 5b7b 765b 305d 7d5d 2e4d  f"View[{v[0]}].M
+00029a00: 696e 2229 202b 2065 7073 696c 6f6e 290a  in") + epsilon).
+00029a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029a20: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+00029a30: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
+00029a40: 305d 7d5d 2e43 7573 746f 6d4d 6178 222c  0]}].CustomMax",
+00029a50: 2067 6d73 682e 6f70 7469 6f6e 2e67 6574   gmsh.option.get
+00029a60: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
+00029a70: 5b30 5d7d 5d2e 4d61 7822 2929 0a20 2020  [0]}].Max")).   
+00029a80: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
+00029a90: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
+00029aa0: 6572 2866 2256 6965 775b 7b76 5b30 5d7d  er(f"View[{v[0]}
+00029ab0: 5d2e 436f 6c6f 726d 6170 4e75 6d62 6572  ].ColormapNumber
+00029ac0: 222c 2031 290a 2020 2020 2020 2020 2020  ", 1).          
+00029ad0: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+00029ae0: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
+00029af0: 6577 5b7b 765b 305d 7d5d 2e49 6e74 6572  ew[{v[0]}].Inter
+00029b00: 7661 6c73 5479 7065 222c 2032 290a 2020  valsType", 2).  
+00029b10: 2020 2020 2020 2020 2020 2020 2020 676d                gm
+00029b20: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+00029b30: 6265 7228 6622 5669 6577 5b7b 765b 305d  ber(f"View[{v[0]
+00029b40: 7d5d 2e4e 6249 736f 222c 2034 3029 0a20  }].NbIso", 40). 
+00029b50: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+00029b60: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
+00029b70: 6d62 6572 2866 2256 6965 775b 7b76 5b30  mber(f"View[{v[0
+00029b80: 5d7d 5d2e 5368 6f77 5469 6d65 222c 2034  ]}].ShowTime", 4
+00029b90: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
 00029ba0: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
 00029bb0: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-00029bc0: 765b 315d 7d5d 2e49 6e74 6572 7661 6c73  v[1]}].Intervals
-00029bd0: 5479 7065 222c 2032 290a 2020 2020 2020  Type", 2).      
-00029be0: 2020 2020 2020 2020 2020 2020 2020 676d                gm
-00029bf0: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
-00029c00: 6265 7228 6622 5669 6577 5b7b 765b 315d  ber(f"View[{v[1]
-00029c10: 7d5d 2e4e 6249 736f 222c 2034 3029 0a20  }].NbIso", 40). 
-00029c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029c30: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
-00029c40: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-00029c50: 7b76 5b31 5d7d 5d2e 5368 6f77 5469 6d65  {v[1]}].ShowTime
-00029c60: 222c 2034 290a 2020 2020 2020 2020 2020  ", 4).          
-00029c70: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
-00029c80: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
-00029c90: 6622 5669 6577 5b7b 765b 315d 7d5d 2e54  f"View[{v[1]}].T
-00029ca0: 696d 6553 7465 7022 2c20 3129 0a20 2020  imeStep", 1).   
-00029cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029cc0: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
-00029cd0: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
-00029ce0: 5b31 5d7d 5d2e 5469 6d65 222c 2031 290a  [1]}].Time", 1).
-00029cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029d00: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-00029d10: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00029d20: 5b7b 765b 315d 7d5d 2e4e 6254 696d 6553  [{v[1]}].NbTimeS
-00029d30: 7465 7022 2c20 3129 0a20 2020 2020 2020  tep", 1).       
-00029d40: 2020 2020 2020 2020 2020 2020 2023 2066               # f
-00029d50: 662e 6665 6d6d 745f 7072 696e 7428 676d  f.femmt_print(gm
-00029d60: 7368 2e6f 7074 696f 6e2e 6765 744e 756d  sh.option.getNum
-00029d70: 6265 7228 6622 5669 6577 5b7b 765b 315d  ber(f"View[{v[1]
-00029d80: 7d5d 2e4d 6178 2229 290a 0a20 2020 2020  }].Max"))..     
-00029d90: 2020 2020 2020 2020 2020 2023 204d 6167             # Mag
-00029da0: 6e65 7469 6320 666c 7578 2064 656e 7369  netic flux densi
-00029db0: 7479 0a20 2020 2020 2020 2020 2020 2020  ty.             
-00029dc0: 2020 2023 2067 6d73 682e 6f70 656e 286f     # gmsh.open(o
-00029dd0: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
-00029de0: 2e66 696c 655f 6461 7461 2e65 5f6d 5f66  .file_data.e_m_f
-00029df0: 6965 6c64 735f 666f 6c64 6572 5f70 6174  ields_folder_pat
-00029e00: 682c 2022 4d61 6762 2e70 6f73 2229 290a  h, "Magb.pos")).
-00029e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00029e20: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
-00029e30: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
-00029e40: 325d 7d5d 2e53 6361 6c65 5479 7065 222c  2]}].ScaleType",
-00029e50: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
-00029e60: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-00029e70: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-00029e80: 5b7b 765b 325d 7d5d 2e52 616e 6765 5479  [{v[2]}].RangeTy
-00029e90: 7065 222c 2033 290a 2020 2020 2020 2020  pe", 3).        
-00029ea0: 2020 2020 2020 2020 676d 7368 2e6f 7074          gmsh.opt
-00029eb0: 696f 6e2e 7365 744e 756d 6265 7228 6622  ion.setNumber(f"
-00029ec0: 5669 6577 5b7b 765b 325d 7d5d 2e43 7573  View[{v[2]}].Cus
-00029ed0: 746f 6d4d 696e 222c 2067 6d73 682e 6f70  tomMin", gmsh.op
-00029ee0: 7469 6f6e 2e67 6574 4e75 6d62 6572 2866  tion.getNumber(f
-00029ef0: 2256 6965 775b 7b76 5b32 5d7d 5d2e 4d69  "View[{v[2]}].Mi
-00029f00: 6e22 2920 2b20 6570 7369 6c6f 6e29 0a20  n") + epsilon). 
-00029f10: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-00029f20: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
-00029f30: 6d62 6572 2866 2256 6965 775b 7b76 5b32  mber(f"View[{v[2
-00029f40: 5d7d 5d2e 4375 7374 6f6d 4d61 7822 2c20  ]}].CustomMax", 
-00029f50: 676d 7368 2e6f 7074 696f 6e2e 6765 744e  gmsh.option.getN
-00029f60: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
-00029f70: 325d 7d5d 2e4d 6178 2229 290a 2020 2020  2]}].Max")).    
-00029f80: 2020 2020 2020 2020 2020 2020 676d 7368              gmsh
-00029f90: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
-00029fa0: 7228 6622 5669 6577 5b7b 765b 325d 7d5d  r(f"View[{v[2]}]
-00029fb0: 2e43 6f6c 6f72 6d61 704e 756d 6265 7222  .ColormapNumber"
-00029fc0: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
-00029fd0: 2020 2020 2067 6d73 682e 6f70 7469 6f6e       gmsh.option
-00029fe0: 2e73 6574 4e75 6d62 6572 2866 2256 6965  .setNumber(f"Vie
-00029ff0: 775b 7b76 5b32 5d7d 5d2e 496e 7465 7276  w[{v[2]}].Interv
-0002a000: 616c 7354 7970 6522 2c20 3229 0a20 2020  alsType", 2).   
-0002a010: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
-0002a020: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
-0002a030: 6572 2866 2256 6965 775b 7b76 5b32 5d7d  er(f"View[{v[2]}
-0002a040: 5d2e 5368 6f77 5469 6d65 222c 2034 290a  ].ShowTime", 4).
-0002a050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a060: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
-0002a070: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
-0002a080: 325d 7d5d 2e4e 6249 736f 222c 2034 3029  2]}].NbIso", 40)
-0002a090: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002a0a0: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
-0002a0b0: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
-0002a0c0: 5b32 5d7d 5d2e 5469 6d65 5374 6570 222c  [2]}].TimeStep",
-0002a0d0: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
-0002a0e0: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
-0002a0f0: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
-0002a100: 5b7b 765b 325d 7d5d 2e54 696d 6522 2c20  [{v[2]}].Time", 
-0002a110: 3129 0a20 2020 2020 2020 2020 2020 2020  1).             
-0002a120: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
-0002a130: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-0002a140: 7b76 5b32 5d7d 5d2e 4e62 5469 6d65 5374  {v[2]}].NbTimeSt
-0002a150: 6570 222c 2031 290a 0a20 2020 2020 2020  ep", 1)..       
-0002a160: 2022 2222 0a20 2020 2020 2020 2023 2056   """.        # V
-0002a170: 6563 746f 7220 506f 7465 6e74 6961 6c0a  ector Potential.
-0002a180: 2020 2020 2020 2020 676d 7368 2e6f 7065          gmsh.ope
-0002a190: 6e28 6f73 2e70 6174 682e 6a6f 696e 2873  n(os.path.join(s
-0002a1a0: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
-0002a1b0: 6d5f 6669 656c 6473 5f66 6f6c 6465 725f  m_fields_folder_
-0002a1c0: 7061 7468 2c20 2272 617a 2e70 6f73 2229  path, "raz.pos")
-0002a1d0: 290a 2020 2020 2020 2020 676d 7368 2e6f  ).        gmsh.o
-0002a1e0: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
-0002a1f0: 6622 5669 6577 5b7b 7669 6577 7d5d 2e53  f"View[{view}].S
-0002a200: 6361 6c65 5479 7065 222c 2031 290a 2020  caleType", 1).  
-0002a210: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
-0002a220: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
-0002a230: 6577 5b7b 7669 6577 7d5d 2e52 616e 6765  ew[{view}].Range
-0002a240: 5479 7065 222c 2031 290a 2020 2020 2020  Type", 1).      
-0002a250: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
-0002a260: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-0002a270: 7669 6577 7d5d 2e43 7573 746f 6d4d 696e  view}].CustomMin
-0002a280: 222c 2067 6d73 682e 6f70 7469 6f6e 2e67  ", gmsh.option.g
-0002a290: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
-0002a2a0: 7b76 6965 777d 5d2e 4d69 6e22 2920 2b20  {view}].Min") + 
-0002a2b0: 6570 7369 6c6f 6e29 0a20 2020 2020 2020  epsilon).       
-0002a2c0: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
-0002a2d0: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
-0002a2e0: 6965 777d 5d2e 4375 7374 6f6d 4d61 7822  iew}].CustomMax"
-0002a2f0: 2c20 676d 7368 2e6f 7074 696f 6e2e 6765  , gmsh.option.ge
-0002a300: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
-0002a310: 7669 6577 7d5d 2e4d 6178 2229 290a 2020  view}].Max")).  
-0002a320: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
-0002a330: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
-0002a340: 6577 5b7b 7669 6577 7d5d 2e43 6f6c 6f72  ew[{view}].Color
-0002a350: 6d61 704e 756d 6265 7222 2c20 3129 0a20  mapNumber", 1). 
-0002a360: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
-0002a370: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
-0002a380: 6965 775b 7b76 6965 777d 5d2e 496e 7465  iew[{view}].Inte
-0002a390: 7276 616c 7354 7970 6522 2c20 3229 0a20  rvalsType", 2). 
-0002a3a0: 2020 2020 2020 2067 6d73 682e 6f70 7469         gmsh.opti
-0002a3b0: 6f6e 2e73 6574 4e75 6d62 6572 2866 2256  on.setNumber(f"V
-0002a3c0: 6965 775b 7b76 6965 777d 5d2e 4e62 4973  iew[{view}].NbIs
-0002a3d0: 6f22 2c20 3430 290a 2020 2020 2020 2020  o", 40).        
-0002a3e0: 7669 6577 202b 3d20 310a 2020 2020 2020  view += 1.      
-0002a3f0: 2020 2222 220a 0a20 2020 2020 2020 2067    """..        g
-0002a400: 6d73 682e 666c 746b 2e72 756e 2829 0a20  msh.fltk.run(). 
-0002a410: 2020 2020 2020 2023 2067 6d73 682e 6669         # gmsh.fi
-0002a420: 6e61 6c69 7a65 2829 0a0a 2020 2020 6465  nalize()..    de
-0002a430: 6620 6765 745f 6c6f 7373 5f64 6174 6128  f get_loss_data(
-0002a440: 7365 6c66 2c20 6c61 7374 5f6e 5f76 616c  self, last_n_val
-0002a450: 7565 733a 2069 6e74 2c20 6c6f 7373 5f74  ues: int, loss_t
-0002a460: 7970 653a 2073 7472 203d 2027 6c69 747a  ype: str = 'litz
-0002a470: 5f6c 6f73 7327 293a 0a20 2020 2020 2020  _loss'):.       
-0002a480: 2022 2222 0a20 2020 2020 2020 2052 6574   """.        Ret
-0002a490: 7572 6e20 7468 6520 6c61 7374 206e 2076  urn the last n v
-0002a4a0: 616c 7565 7320 6672 6f6d 2074 6865 2063  alues from the c
-0002a4b0: 686f 7365 6e20 6c6f 7373 2074 7970 6520  hosen loss type 
-0002a4c0: 6c6f 6767 6564 2069 6e20 7468 6520 7265  logged in the re
-0002a4d0: 7375 6c74 2066 6f6c 6465 722e 0a0a 2020  sult folder...  
-0002a4e0: 2020 2020 2020 3a70 6172 616d 206c 6173        :param las
-0002a4f0: 745f 6e5f 7661 6c75 6573 3a20 5f64 6573  t_n_values: _des
-0002a500: 6372 6970 7469 6f6e 5f0a 2020 2020 2020  cription_.      
-0002a510: 2020 3a74 7970 6520 6c61 7374 5f6e 5f76    :type last_n_v
-0002a520: 616c 7565 733a 2069 6e74 0a20 2020 2020  alues: int.     
-0002a530: 2020 203a 7061 7261 6d20 6c6f 7373 5f74     :param loss_t
-0002a540: 7970 653a 205f 6465 7363 7269 7074 696f  ype: _descriptio
-0002a550: 6e5f 2c20 6465 6661 756c 7473 2074 6f20  n_, defaults to 
-0002a560: 276c 6974 7a5f 6c6f 7373 270a 2020 2020  'litz_loss'.    
-0002a570: 2020 2020 3a74 7970 6520 6c6f 7373 5f74      :type loss_t
-0002a580: 7970 653a 2073 7472 2c20 6f70 7469 6f6e  ype: str, option
-0002a590: 616c 0a20 2020 2020 2020 2022 2222 0a20  al.        """. 
-0002a5a0: 2020 2020 2020 206c 6f73 735f 6669 6c65         loss_file
-0002a5b0: 203d 204e 6f6e 650a 2020 2020 2020 2020   = None.        
-0002a5c0: 2320 4c6f 7373 2066 696c 6520 6c6f 6361  # Loss file loca
-0002a5d0: 7469 6f6e 0a20 2020 2020 2020 2069 6620  tion.        if 
-0002a5e0: 6c6f 7373 5f74 7970 6520 3d3d 2027 6c69  loss_type == 'li
-0002a5f0: 747a 5f6c 6f73 7327 3a0a 2020 2020 2020  tz_loss':.      
-0002a600: 2020 2020 2020 6c6f 7373 5f66 696c 6520        loss_file 
-0002a610: 3d20 276a 3248 2e64 6174 270a 2020 2020  = 'j2H.dat'.    
-0002a620: 2020 2020 6966 206c 6f73 735f 7479 7065      if loss_type
-0002a630: 203d 3d20 2773 6f6c 6964 5f6c 6f73 7327   == 'solid_loss'
-0002a640: 3a0a 2020 2020 2020 2020 2020 2020 6c6f  :.            lo
-0002a650: 7373 5f66 696c 6520 3d20 276a 3246 2e64  ss_file = 'j2F.d
-0002a660: 6174 270a 2020 2020 2020 2020 2320 5265  at'.        # Re
-0002a670: 6164 2074 6865 206c 6f67 6765 6420 6c6f  ad the logged lo
-0002a680: 7373 6573 2063 6f72 7265 7370 6f6e 6469  sses correspondi
-0002a690: 6e67 2074 6f20 7468 6520 6672 6571 7565  ng to the freque
-0002a6a0: 6e63 6965 730a 2020 2020 2020 2020 7769  ncies.        wi
-0002a6b0: 7468 206f 7065 6e28 6f73 2e70 6174 682e  th open(os.path.
-0002a6c0: 6a6f 696e 2873 656c 662e 6669 6c65 5f64  join(self.file_d
-0002a6d0: 6174 612e 655f 6d5f 7661 6c75 6573 5f66  ata.e_m_values_f
-0002a6e0: 6f6c 6465 725f 7061 7468 2c20 6c6f 7373  older_path, loss
-0002a6f0: 5f66 696c 6529 2c20 6e65 776c 696e 653d  _file), newline=
-0002a700: 2727 2920 6173 2066 643a 0a20 2020 2020  '') as fd:.     
-0002a710: 2020 2020 2020 2072 6561 6465 7220 3d20         reader = 
-0002a720: 6373 762e 7265 6164 6572 2866 6429 0a20  csv.reader(fd). 
-0002a730: 2020 2020 2020 2020 2020 2064 6174 6120             data 
-0002a740: 3d20 6c69 7374 2872 6561 6465 7229 0a20  = list(reader). 
-0002a750: 2020 2020 2020 2072 6574 7572 6e20 6461         return da
-0002a760: 7461 5b2d 6c61 7374 5f6e 5f76 616c 7565  ta[-last_n_value
-0002a770: 733a 2d31 5d20 2b20 5b64 6174 615b 2d31  s:-1] + [data[-1
-0002a780: 5d5d 0a0a 2020 2020 6465 6620 6765 745f  ]]..    def get_
-0002a790: 726f 6c6c 696e 675f 6176 6572 6167 6528  rolling_average(
-0002a7a0: 7365 6c66 2c20 7769 6e64 6f77 5f73 697a  self, window_siz
-0002a7b0: 6529 3a0a 2020 2020 2020 2020 2222 220a  e):.        """.
-0002a7c0: 2020 2020 2020 2020 436f 6d70 7574 6520          Compute 
-0002a7d0: 7468 6520 726f 6c6c 696e 6720 6176 6572  the rolling aver
-0002a7e0: 6167 6520 666f 7220 6561 6368 2072 6573  age for each res
-0002a7f0: 756c 7420 6669 6c65 2061 6e64 2070 6c6f  ult file and plo
-0002a800: 7473 2074 6865 206f 7269 6769 6e61 6c20  ts the original 
-0002a810: 6461 7461 2e0a 0a20 2020 2020 2020 203a  data...        :
-0002a820: 7061 7261 6d20 7769 6e64 6f77 5f73 697a  param window_siz
-0002a830: 653a 2054 6865 2073 697a 6520 6f66 2074  e: The size of t
-0002a840: 6865 2072 6f6c 6c69 6e67 2077 696e 646f  he rolling windo
-0002a850: 7720 666f 7220 6361 6c63 756c 6174 696e  w for calculatin
-0002a860: 6720 7468 6520 6176 6572 6167 652e 0a20  g the average.. 
-0002a870: 2020 2020 2020 203a 7479 7065 2077 696e         :type win
-0002a880: 646f 775f 7369 7a65 3a20 696e 740a 2020  dow_size: int.  
-0002a890: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
-0002a8a0: 2020 2064 6566 2072 6f6c 6c69 6e67 5f63     def rolling_c
-0002a8b0: 616c 6375 6c61 7469 6f6e 2872 6573 5f6e  alculation(res_n
-0002a8c0: 616d 653a 2073 7472 2c20 7265 735f 7061  ame: str, res_pa
-0002a8d0: 7468 3a20 7374 7229 3a0a 2020 2020 2020  th: str):.      
-0002a8e0: 2020 2020 2020 7469 6d65 7374 6570 7320        timesteps 
-0002a8f0: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
-0002a900: 2064 6174 6120 3d20 5b5d 0a20 2020 2020   data = [].     
-0002a910: 2020 2020 2020 2023 2052 6561 6469 6e67         # Reading
-0002a920: 2064 6174 6120 6672 6f6d 2074 6865 2066   data from the f
-0002a930: 696c 650a 2020 2020 2020 2020 2020 2020  ile.            
-0002a940: 7769 7468 206f 7065 6e28 6f73 2e70 6174  with open(os.pat
-0002a950: 682e 6a6f 696e 2872 6573 5f70 6174 682c  h.join(res_path,
-0002a960: 2066 227b 7265 735f 6e61 6d65 7d2e 6461   f"{res_name}.da
-0002a970: 7422 2929 2061 7320 6664 3a0a 2020 2020  t")) as fd:.    
-0002a980: 2020 2020 2020 2020 2020 2020 6c69 6e65              line
-0002a990: 7320 3d20 6664 2e72 6561 646c 696e 6573  s = fd.readlines
-0002a9a0: 2829 0a20 2020 2020 2020 2020 2020 2023  ().            #
-0002a9b0: 2045 7874 7261 6374 696e 6720 7469 6d65   Extracting time
-0002a9c0: 7374 6570 7320 616e 6420 6461 7461 2076  steps and data v
-0002a9d0: 616c 7565 7320 6672 6f6d 2074 6865 2066  alues from the f
-0002a9e0: 696c 650a 2020 2020 2020 2020 2020 2020  ile.            
-0002a9f0: 666f 7220 6c69 6e65 2069 6e20 6c69 6e65  for line in line
-0002aa00: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
-0002aa10: 2020 206c 696e 655f 7661 6c75 6573 203d     line_values =
-0002aa20: 206c 696e 652e 7370 6c69 7428 290a 2020   line.split().  
-0002aa30: 2020 2020 2020 2020 2020 2020 2020 6966                if
-0002aa40: 206c 656e 286c 696e 655f 7661 6c75 6573   len(line_values
-0002aa50: 2920 3d3d 2032 3a0a 2020 2020 2020 2020  ) == 2:.        
-0002aa60: 2020 2020 2020 2020 2020 2020 7469 6d65              time
-0002aa70: 7374 6570 732e 6170 7065 6e64 2866 6c6f  steps.append(flo
-0002aa80: 6174 286c 696e 655f 7661 6c75 6573 5b30  at(line_values[0
-0002aa90: 5d29 290a 2020 2020 2020 2020 2020 2020  ])).            
-0002aaa0: 2020 2020 2020 2020 6461 7461 2e61 7070          data.app
-0002aab0: 656e 6428 666c 6f61 7428 6c69 6e65 5f76  end(float(line_v
-0002aac0: 616c 7565 735b 315d 2929 0a20 2020 2020  alues[1])).     
-0002aad0: 2020 2020 2020 2023 2045 7272 6f72 2068         # Error h
-0002aae0: 616e 646c 696e 673a 2052 6169 7369 6e67  andling: Raising
-0002aaf0: 2065 7272 6f72 2069 6620 7769 6e64 6f77   error if window
-0002ab00: 2073 697a 6520 6973 2067 7265 6174 6572   size is greater
-0002ab10: 2074 6861 6e20 7468 6520 6e75 6d62 6572   than the number
-0002ab20: 206f 6620 6461 7461 2070 6f69 6e74 730a   of data points.
-0002ab30: 2020 2020 2020 2020 2020 2020 6966 2077              if w
-0002ab40: 696e 646f 775f 7369 7a65 203e 206c 656e  indow_size > len
-0002ab50: 2864 6174 6129 3a0a 2020 2020 2020 2020  (data):.        
-0002ab60: 2020 2020 2020 2020 7261 6973 6520 5661          raise Va
-0002ab70: 6c75 6545 7272 6f72 2822 5468 6520 7769  lueError("The wi
-0002ab80: 6e64 6f77 2073 697a 6520 7368 6f75 6c64  ndow size should
-0002ab90: 206e 6f74 2062 6520 6772 6561 7465 7220   not be greater 
-0002aba0: 7468 616e 2074 6865 2074 6f74 616c 206e  than the total n
-0002abb0: 756d 6265 7220 6f66 2064 6174 6120 706f  umber of data po
-0002abc0: 696e 7473 2e22 290a 2020 2020 2020 2020  ints.").        
-0002abd0: 2020 2020 2320 4372 6561 7469 6e67 2061      # Creating a
-0002abe0: 2070 616e 6461 7320 4461 7461 4672 616d   pandas DataFram
-0002abf0: 6520 616e 6420 636f 6d70 7574 696e 6720  e and computing 
-0002ac00: 7468 6520 726f 6c6c 696e 6720 6176 6572  the rolling aver
-0002ac10: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-0002ac20: 6466 203d 2070 642e 4461 7461 4672 616d  df = pd.DataFram
-0002ac30: 6528 7b27 6461 7461 273a 2064 6174 617d  e({'data': data}
-0002ac40: 290a 2020 2020 2020 2020 2020 2020 6466  ).            df
-0002ac50: 5b27 726f 6c6c 696e 675f 6176 6727 5d20  ['rolling_avg'] 
-0002ac60: 3d20 6466 5b27 6461 7461 275d 2e72 6f6c  = df['data'].rol
-0002ac70: 6c69 6e67 2877 696e 646f 775f 7369 7a65  ling(window_size
-0002ac80: 2c20 6d69 6e5f 7065 7269 6f64 733d 3129  , min_periods=1)
-0002ac90: 2e6d 6561 6e28 290a 2020 2020 2020 2020  .mean().        
-0002aca0: 2020 2020 726f 6c6c 696e 675f 6176 6572      rolling_aver
-0002acb0: 6167 6573 203d 2064 665b 2772 6f6c 6c69  ages = df['rolli
-0002acc0: 6e67 5f61 7667 275d 2e74 6f6c 6973 7428  ng_avg'].tolist(
-0002acd0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-0002ace0: 2050 6c6f 7474 696e 6720 6461 7461 2077   Plotting data w
-0002acf0: 6974 6820 726f 6c6c 696e 6720 6176 6572  ith rolling aver
-0002ad00: 6167 650a 2020 2020 2020 2020 2020 2020  age.            
-0002ad10: 706c 742e 6669 6775 7265 2866 6967 7369  plt.figure(figsi
-0002ad20: 7a65 3d28 3130 2c20 3529 290a 2020 2020  ze=(10, 5)).    
-0002ad30: 2020 2020 2020 2020 706c 742e 706c 6f74          plt.plot
-0002ad40: 2874 696d 6573 7465 7073 2c20 6461 7461  (timesteps, data
-0002ad50: 2c20 6c61 6265 6c3d 274f 7269 6769 6e61  , label='Origina
-0002ad60: 6c20 4461 7461 2729 0a20 2020 2020 2020  l Data').       
-0002ad70: 2020 2020 2070 6c74 2e70 6c6f 7428 7469       plt.plot(ti
-0002ad80: 6d65 7374 6570 732c 2072 6f6c 6c69 6e67  mesteps, rolling
-0002ad90: 5f61 7665 7261 6765 732c 206c 6162 656c  _averages, label
-0002ada0: 3d66 2752 6f6c 6c69 6e67 2041 7665 7261  =f'Rolling Avera
-0002adb0: 6765 2028 5769 6e64 6f77 2053 697a 653a  ge (Window Size:
-0002adc0: 207b 7769 6e64 6f77 5f73 697a 657d 2927   {window_size})'
-0002add0: 290a 2020 2020 2020 2020 2020 2020 706c  ).            pl
-0002ade0: 742e 786c 6162 656c 2827 5469 6d65 2729  t.xlabel('Time')
-0002adf0: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
-0002ae00: 2e79 6c61 6265 6c28 7265 735f 6e61 6d65  .ylabel(res_name
-0002ae10: 290a 2020 2020 2020 2020 2020 2020 706c  ).            pl
-0002ae20: 742e 7469 746c 6528 6627 7b72 6573 5f6e  t.title(f'{res_n
-0002ae30: 616d 657d 2077 6974 6820 526f 6c6c 696e  ame} with Rollin
-0002ae40: 6720 4176 6572 6167 6527 290a 2020 2020  g Average').    
-0002ae50: 2020 2020 2020 2020 706c 742e 6c65 6765          plt.lege
-0002ae60: 6e64 2829 0a20 2020 2020 2020 2020 2020  nd().           
-0002ae70: 2070 6c74 2e67 7269 6428 5472 7565 290a   plt.grid(True).
-0002ae80: 2020 2020 2020 2020 2020 2020 706c 742e              plt.
-0002ae90: 7368 6f77 2829 0a0a 2020 2020 2020 2020  show()..        
-0002aea0: 7265 7375 6c74 5f74 7970 6573 203d 205b  result_types = [
-0002aeb0: 2276 616c 7565 225d 2020 2320 6361 6e20  "value"]  # can 
-0002aec0: 6265 2065 7874 656e 6465 6420 6173 206e  be extended as n
-0002aed0: 6565 6465 640a 2020 2020 2020 2020 2320  eeded.        # 
-0002aee0: 4c6f 6f70 696e 6720 7468 726f 7567 6820  Looping through 
-0002aef0: 6561 6368 2072 6573 756c 7420 7479 7065  each result type
-0002af00: 2074 6f20 7072 6f63 6573 7320 7468 6520   to process the 
-0002af10: 6669 6c65 730a 2020 2020 2020 2020 666f  files.        fo
-0002af20: 7220 7265 735f 7479 7065 2069 6e20 7265  r res_type in re
-0002af30: 7375 6c74 5f74 7970 6573 3a0a 2020 2020  sult_types:.    
-0002af40: 2020 2020 2020 2020 7265 735f 7061 7468          res_path
-0002af50: 203d 2073 656c 662e 6669 6c65 5f64 6174   = self.file_dat
-0002af60: 612e 655f 6d5f 7661 6c75 6573 5f66 6f6c  a.e_m_values_fol
-0002af70: 6465 725f 7061 7468 2069 6620 7265 735f  der_path if res_
-0002af80: 7479 7065 203d 3d20 2276 616c 7565 2220  type == "value" 
-0002af90: 656c 7365 2073 656c 662e 6669 6c65 5f64  else self.file_d
-0002afa0: 6174 612e 655f 6d5f 6369 7263 7569 745f  ata.e_m_circuit_
-0002afb0: 666f 6c64 6572 5f70 6174 680a 2020 2020  folder_path.    
-0002afc0: 2020 2020 2020 2020 2320 736f 6d65 2066          # some f
-0002afd0: 696c 6573 2061 7265 206e 6f74 206e 6565  iles are not nee
-0002afe0: 6465 6420 666f 7220 6361 6c63 756c 6174  ded for calculat
-0002aff0: 696f 6e20 2f66 6f72 2065 782e 2061 7665  ion /for ex. ave
-0002b000: 7261 6765 2066 696c 6573 292c 2073 6f20  rage files), so 
-0002b010: 7468 6579 2061 7265 2065 7863 6c75 6465  they are exclude
-0002b020: 640a 2020 2020 2020 2020 2020 2020 616c  d.            al
-0002b030: 6c5f 6669 6c65 7320 3d20 6f73 2e6c 6973  l_files = os.lis
-0002b040: 7464 6972 2872 6573 5f70 6174 6829 0a20  tdir(res_path). 
-0002b050: 2020 2020 2020 2020 2020 2064 6174 5f66             dat_f
-0002b060: 696c 6573 203d 205b 6669 6c65 2066 6f72  iles = [file for
-0002b070: 2066 696c 6520 696e 2061 6c6c 5f66 696c   file in all_fil
-0002b080: 6573 2069 660a 2020 2020 2020 2020 2020  es if.          
-0002b090: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0002b0a0: 696c 652e 656e 6473 7769 7468 2827 2e64  ile.endswith('.d
-0002b0b0: 6174 2729 2061 6e64 206e 6f74 2066 696c  at') and not fil
-0002b0c0: 652e 656e 6473 7769 7468 2827 5f61 7665  e.endswith('_ave
-0002b0d0: 7261 6765 2e64 6174 2729 2061 6e64 206e  rage.dat') and n
-0002b0e0: 6f74 2066 696c 652e 656e 6473 7769 7468  ot file.endswith
-0002b0f0: 2827 5f72 6d73 2e64 6174 2729 5d0a 0a20  ('_rms.dat')].. 
-0002b100: 2020 2020 2020 2020 2020 2066 6f72 2064             for d
-0002b110: 6174 5f66 696c 6520 696e 2064 6174 5f66  at_file in dat_f
-0002b120: 696c 6573 3a0a 2020 2020 2020 2020 2020  iles:.          
-0002b130: 2020 2020 2020 7265 735f 6e61 6d65 203d        res_name =
-0002b140: 2064 6174 5f66 696c 652e 7265 706c 6163   dat_file.replac
-0002b150: 6528 272e 6461 7427 2c20 2727 290a 2020  e('.dat', '').  
-0002b160: 2020 2020 2020 2020 2020 2020 2020 726f                ro
-0002b170: 6c6c 696e 675f 6361 6c63 756c 6174 696f  lling_calculatio
-0002b180: 6e28 7265 735f 6e61 6d65 2c20 7265 735f  n(res_name, res_
-0002b190: 7061 7468 290a 2020 2020 2020 2020 2020  path).          
-0002b1a0: 2020 2320 5072 6f63 6573 7369 6e67 2066    # Processing f
-0002b1b0: 696c 6573 2069 6e20 7468 6520 7769 6e64  iles in the wind
-0002b1c0: 696e 672d 7370 6563 6966 6963 2073 7562  ing-specific sub
-0002b1d0: 6469 7265 6374 6f72 6965 732c 2069 6620  directories, if 
-0002b1e0: 7468 6579 2065 7869 7374 0a20 2020 2020  they exist.     
-0002b1f0: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
-0002b200: 2c20 5f20 696e 2065 6e75 6d65 7261 7465  , _ in enumerate
-0002b210: 2873 656c 662e 7769 6e64 696e 6773 2c20  (self.windings, 
-0002b220: 7374 6172 743d 3129 3a0a 2020 2020 2020  start=1):.      
-0002b230: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-0002b240: 675f 666f 6c64 6572 5f70 6174 6820 3d20  g_folder_path = 
-0002b250: 6f73 2e70 6174 682e 6a6f 696e 2872 6573  os.path.join(res
-0002b260: 5f70 6174 682c 2066 2257 696e 6469 6e67  _path, f"Winding
-0002b270: 5f7b 696e 6465 787d 2229 0a20 2020 2020  _{index}").     
-0002b280: 2020 2020 2020 2020 2020 2023 2073 6f6d             # som
-0002b290: 6520 6669 6c65 7320 6172 6520 6e6f 7420  e files are not 
-0002b2a0: 6e65 6564 6564 2066 6f72 2063 616c 6375  needed for calcu
-0002b2b0: 6c61 7469 6f6e 202f 666f 7220 6578 2e20  lation /for ex. 
-0002b2c0: 6176 6572 6167 6520 6669 6c65 7329 2069  average files) i
-0002b2d0: 6e20 7375 6220 7769 6e64 696e 6720 6669  n sub winding fi
-0002b2e0: 6c65 732c 2073 6f20 7468 6579 2061 7265  les, so they are
-0002b2f0: 2065 7863 6c75 6465 640a 2020 2020 2020   excluded.      
-0002b300: 2020 2020 2020 2020 2020 6966 206f 732e            if os.
-0002b310: 7061 7468 2e69 7364 6972 2877 696e 6469  path.isdir(windi
-0002b320: 6e67 5f66 6f6c 6465 725f 7061 7468 293a  ng_folder_path):
-0002b330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002b340: 2020 2020 2077 696e 6469 6e67 5f66 696c       winding_fil
-0002b350: 6573 203d 206f 732e 6c69 7374 6469 7228  es = os.listdir(
-0002b360: 7769 6e64 696e 675f 666f 6c64 6572 5f70  winding_folder_p
-0002b370: 6174 6829 0a20 2020 2020 2020 2020 2020  ath).           
-0002b380: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-0002b390: 5f64 6174 5f66 696c 6573 203d 205b 6669  _dat_files = [fi
-0002b3a0: 6c65 2066 6f72 2066 696c 6520 696e 2077  le for file in w
-0002b3b0: 696e 6469 6e67 5f66 696c 6573 2069 660a  inding_files if.
-0002b3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b3e0: 2020 2020 2020 2020 2066 696c 652e 656e           file.en
-0002b3f0: 6473 7769 7468 2827 2e64 6174 2729 2061  dswith('.dat') a
-0002b400: 6e64 206e 6f74 2066 696c 652e 656e 6473  nd not file.ends
-0002b410: 7769 7468 2827 5f61 7665 7261 6765 2e64  with('_average.d
-0002b420: 6174 2729 5d0a 0a20 2020 2020 2020 2020  at')]..         
-0002b430: 2020 2020 2020 2020 2020 2066 6f72 2077             for w
-0002b440: 696e 6469 6e67 5f64 6174 5f66 696c 6520  inding_dat_file 
-0002b450: 696e 2077 696e 6469 6e67 5f64 6174 5f66  in winding_dat_f
-0002b460: 696c 6573 3a0a 2020 2020 2020 2020 2020  iles:.          
-0002b470: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0002b480: 735f 6e61 6d65 203d 2077 696e 6469 6e67  s_name = winding
-0002b490: 5f64 6174 5f66 696c 652e 7265 706c 6163  _dat_file.replac
-0002b4a0: 6528 272e 6461 7427 2c20 2727 290a 2020  e('.dat', '').  
-0002b4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b4c0: 2020 2020 2020 726f 6c6c 696e 675f 6361        rolling_ca
-0002b4d0: 6c63 756c 6174 696f 6e28 7265 735f 6e61  lculation(res_na
-0002b4e0: 6d65 2c20 7769 6e64 696e 675f 666f 6c64  me, winding_fold
-0002b4f0: 6572 5f70 6174 6829 0a0a 2020 2020 6465  er_path)..    de
-0002b500: 6620 6361 6c63 756c 6174 655f 6176 6572  f calculate_aver
-0002b510: 6167 655f 6669 6c65 7328 7365 6c66 293a  age_files(self):
-0002b520: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0002b530: 2020 2020 2066 696e 6420 7468 6520 6176       find the av
-0002b540: 6572 6167 6520 7661 6c75 6520 6f66 2061  erage value of a
-0002b550: 6c6c 202e 6461 7420 6669 6c65 7320 7769  ll .dat files wi
-0002b560: 7468 696e 2074 6865 2027 7661 6c75 6527  thin the 'value'
-0002b570: 2064 6972 6563 746f 7279 2061 6e64 2065   directory and e
-0002b580: 6163 6820 2757 696e 6469 6e67 5f6e 2720  ach 'Winding_n' 
-0002b590: 7375 6264 6972 6563 746f 7279 2e0a 0a20  subdirectory... 
-0002b5a0: 2020 2020 2020 202d 2046 6f72 2065 6163         - For eac
-0002b5b0: 6820 2e64 6174 2066 696c 652c 2074 6865  h .dat file, the
-0002b5c0: 206d 6574 686f 6420 7265 6164 7320 7468   method reads th
-0002b5d0: 6520 7469 6d65 2073 7465 7073 2061 6e64  e time steps and
-0002b5e0: 2063 6f72 7265 7370 6f6e 6469 6e67 2064   corresponding d
-0002b5f0: 6174 6120 706f 696e 7473 2e0a 2020 2020  ata points..    
-0002b600: 2020 2020 2d20 436f 6d70 7574 6573 2074      - Computes t
-0002b610: 6865 2061 7665 7261 6765 2076 616c 7565  he average value
-0002b620: 2062 7920 6469 7669 6469 6e67 2074 6865   by dividing the
-0002b630: 2069 6e74 6567 7261 6c20 6279 2074 6865   integral by the
-0002b640: 2074 6f74 616c 2064 7572 6174 696f 6e20   total duration 
-0002b650: 6f66 2074 6865 2074 696d 6520 7374 6570  of the time step
-0002b660: 732e 0a20 2020 2020 2020 202d 2057 7269  s..        - Wri
-0002b670: 7465 7320 7468 6520 6176 6572 6167 6520  tes the average 
-0002b680: 7661 6c75 6520 746f 2061 206e 6577 2066  value to a new f
-0002b690: 696c 6520 7769 7468 2074 6865 2073 616d  ile with the sam
-0002b6a0: 6520 6261 7365 206e 616d 6520 6173 2074  e base name as t
-0002b6b0: 6865 2069 6e70 7574 2066 696c 6520 6275  he input file bu
-0002b6c0: 7420 7769 7468 2061 6e20 275f 6176 6572  t with an '_aver
-0002b6d0: 6167 652e 6461 7427 2073 7566 6669 782e  age.dat' suffix.
-0002b6e0: 0a20 2020 2020 2020 202d 2052 6570 6561  .        - Repea
-0002b6f0: 7473 2074 6865 2073 616d 6520 7072 6f63  ts the same proc
-0002b700: 6573 7320 666f 7220 616c 6c20 2e64 6174  ess for all .dat
-0002b710: 2066 696c 6573 2077 6974 6869 6e20 6561   files within ea
-0002b720: 6368 2027 5769 6e64 696e 675f 6e27 2073  ch 'Winding_n' s
-0002b730: 7562 6469 7265 6374 6f72 792e 0a20 2020  ubdirectory..   
-0002b740: 2020 2020 202d 2074 6865 206d 6574 686f       - the metho
-0002b750: 6420 616c 736f 2063 616c 6375 6c61 7465  d also calculate
-0002b760: 7320 7468 6520 524d 5320 7661 6c75 6520  s the RMS value 
-0002b770: 616e 6420 7772 6974 6573 2069 7420 746f  and writes it to
-0002b780: 2061 206e 6577 2066 696c 6520 7769 7468   a new file with
-0002b790: 2061 6e20 275f 726d 732e 6461 7427 2073   an '_rms.dat' s
-0002b7a0: 7566 6669 782e 0a20 2020 2020 2020 202d  uffix..        -
-0002b7b0: 2054 6865 206f 7574 7075 7420 6672 6f6d   The output from
-0002b7c0: 2074 6869 7320 6d65 7468 6f64 2069 7320   this method is 
-0002b7d0: 6120 7365 7420 6f66 206e 6577 2066 696c  a set of new fil
-0002b7e0: 6573 2063 6f6e 7461 696e 696e 6720 7468  es containing th
-0002b7f0: 6520 636f 6d70 7574 6564 2061 7665 7261  e computed avera
-0002b800: 6765 2061 6e64 2052 4d53 2076 616c 7565  ge and RMS value
-0002b810: 732e 0a20 2020 2020 2020 202d 2054 6865  s..        - The
-0002b820: 7365 2066 696c 6573 2061 7265 2073 6176  se files are sav
-0002b830: 6564 2069 6e20 7468 6520 7361 6d65 2064  ed in the same d
-0002b840: 6972 6563 746f 7279 2061 7320 7468 6520  irectory as the 
-0002b850: 6f72 6967 696e 616c 2064 6174 6120 6669  original data fi
-0002b860: 6c65 732e 0a20 2020 2020 2020 2022 2222  les..        """
-0002b870: 0a20 2020 2020 2020 2072 6573 756c 745f  .        result_
-0002b880: 7479 7065 7320 3d20 5b22 7661 6c75 6522  types = ["value"
-0002b890: 5d0a 2020 2020 2020 2020 666f 7220 7265  ].        for re
-0002b8a0: 735f 7479 7065 2069 6e20 7265 7375 6c74  s_type in result
-0002b8b0: 5f74 7970 6573 3a0a 2020 2020 2020 2020  _types:.        
-0002b8c0: 2020 2020 7265 735f 7061 7468 203d 2073      res_path = s
-0002b8d0: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
-0002b8e0: 6d5f 7661 6c75 6573 5f66 6f6c 6465 725f  m_values_folder_
-0002b8f0: 7061 7468 2069 6620 7265 735f 7479 7065  path if res_type
-0002b900: 203d 3d20 2276 616c 7565 2220 656c 7365   == "value" else
-0002b910: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-0002b920: 2020 2320 2e64 6174 2066 696c 6573 2069    # .dat files i
-0002b930: 6e73 6964 6520 7468 6520 2776 616c 7565  nside the 'value
-0002b940: 2720 6469 7265 6374 6f72 790a 2020 2020  ' directory.    
-0002b950: 2020 2020 2020 2020 616c 6c5f 6669 6c65          all_file
-0002b960: 7320 3d20 6f73 2e6c 6973 7464 6972 2872  s = os.listdir(r
-0002b970: 6573 5f70 6174 6829 0a20 2020 2020 2020  es_path).       
-0002b980: 2020 2020 2064 6174 5f66 696c 6573 203d       dat_files =
-0002b990: 205b 6669 6c65 2066 6f72 2066 696c 6520   [file for file 
-0002b9a0: 696e 2061 6c6c 5f66 696c 6573 2069 6620  in all_files if 
-0002b9b0: 6669 6c65 2e65 6e64 7377 6974 6828 272e  file.endswith('.
-0002b9c0: 6461 7427 295d 0a20 2020 2020 2020 2020  dat')].         
-0002b9d0: 2020 2023 2066 696e 6469 6e67 2074 6865     # finding the
-0002b9e0: 2061 7665 7261 6765 206f 6620 6576 6572   average of ever
-0002b9f0: 7920 2e64 6174 2066 696c 6573 2069 6e73  y .dat files ins
-0002ba00: 6964 6520 7468 6520 2776 616c 7565 2720  ide the 'value' 
-0002ba10: 6469 7265 6374 6f72 790a 2020 2020 2020  directory.      
-0002ba20: 2020 2020 2020 666f 7220 6461 745f 6669        for dat_fi
-0002ba30: 6c65 2069 6e20 6461 745f 6669 6c65 733a  le in dat_files:
-0002ba40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002ba50: 2072 6573 5f6e 616d 6520 3d20 6461 745f   res_name = dat_
-0002ba60: 6669 6c65 2e72 6570 6c61 6365 2827 2e64  file.replace('.d
-0002ba70: 6174 272c 2027 2729 0a20 2020 2020 2020  at', '').       
-0002ba80: 2020 2020 2020 2020 2074 696d 6573 7465           timeste
-0002ba90: 7073 203d 205b 5d0a 2020 2020 2020 2020  ps = [].        
-0002baa0: 2020 2020 2020 2020 6461 7461 203d 205b          data = [
-0002bab0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-0002bac0: 2020 2320 5265 6164 696e 6720 6461 7461    # Reading data
-0002bad0: 2066 726f 6d20 7468 6520 6669 6c65 0a20   from the file. 
-0002bae0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-0002baf0: 6974 6820 6f70 656e 286f 732e 7061 7468  ith open(os.path
-0002bb00: 2e6a 6f69 6e28 7265 735f 7061 7468 2c20  .join(res_path, 
-0002bb10: 6622 7b72 6573 5f6e 616d 657d 2e64 6174  f"{res_name}.dat
-0002bb20: 2229 2920 6173 2066 643a 0a20 2020 2020  ")) as fd:.     
-0002bb30: 2020 2020 2020 2020 2020 2020 2020 206c                 l
-0002bb40: 696e 6573 203d 2066 642e 7265 6164 6c69  ines = fd.readli
-0002bb50: 6e65 7328 290a 2020 2020 2020 2020 2020  nes().          
-0002bb60: 2020 2020 2020 2320 4578 7472 6163 7469        # Extracti
-0002bb70: 6e67 2074 696d 6573 7465 7073 2061 6e64  ng timesteps and
-0002bb80: 2064 6174 6120 7661 6c75 6573 2066 726f   data values fro
-0002bb90: 6d20 7468 6520 6669 6c65 0a20 2020 2020  m the file.     
-0002bba0: 2020 2020 2020 2020 2020 2066 6f72 206c             for l
-0002bbb0: 696e 6520 696e 206c 696e 6573 3a0a 2020  ine in lines:.  
-0002bbc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bbd0: 2020 6c69 6e65 5f76 616c 7565 7320 3d20    line_values = 
-0002bbe0: 6c69 6e65 2e73 706c 6974 2829 0a20 2020  line.split().   
-0002bbf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bc00: 2069 6620 6c65 6e28 6c69 6e65 5f76 616c   if len(line_val
-0002bc10: 7565 7329 203d 3d20 323a 0a20 2020 2020  ues) == 2:.     
-0002bc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bc30: 2020 2074 696d 6573 7465 7073 2e61 7070     timesteps.app
-0002bc40: 656e 6428 666c 6f61 7428 6c69 6e65 5f76  end(float(line_v
-0002bc50: 616c 7565 735b 305d 2929 0a20 2020 2020  alues[0])).     
-0002bc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bc70: 2020 2064 6174 612e 6170 7065 6e64 2866     data.append(f
-0002bc80: 6c6f 6174 286c 696e 655f 7661 6c75 6573  loat(line_values
-0002bc90: 5b31 5d29 290a 2020 2020 2020 2020 2020  [1])).          
-0002bca0: 2020 2020 2020 2320 6669 6e64 696e 6720        # finding 
-0002bcb0: 7468 6520 696e 7465 6772 616c 2c20 616e  the integral, an
-0002bcc0: 6420 7468 656e 2063 616c 6375 6c61 7469  d then calculati
-0002bcd0: 6e67 2074 6865 2061 7665 7261 6765 2028  ng the average (
-0002bce0: 696e 7465 6772 616c 2864 6174 6129 2f54  integral(data)/T
-0002bcf0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002bd00: 2020 696e 7465 6772 616c 203d 2066 662e    integral = ff.
-0002bd10: 6361 6c63 756c 6174 655f 7175 6164 7261  calculate_quadra
-0002bd20: 7475 7265 5f69 6e74 6567 7261 6c28 7469  ture_integral(ti
-0002bd30: 6d65 7374 6570 732c 2064 6174 6129 0a20  mesteps, data). 
-0002bd40: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-0002bd50: 7665 7261 6765 203d 2066 662e 6361 6c63  verage = ff.calc
-0002bd60: 756c 6174 655f 6176 6572 6167 6528 696e  ulate_average(in
-0002bd70: 7465 6772 616c 2c20 7469 6d65 7374 6570  tegral, timestep
-0002bd80: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-0002bd90: 2020 2023 2077 7269 7465 2061 7665 7261     # write avera
-0002bda0: 6765 2066 696c 6573 0a20 2020 2020 2020  ge files.       
-0002bdb0: 2020 2020 2020 2020 206f 7574 7075 745f           output_
-0002bdc0: 6669 6c65 6e61 6d65 203d 206f 732e 7061  filename = os.pa
-0002bdd0: 7468 2e6a 6f69 6e28 7265 735f 7061 7468  th.join(res_path
-0002bde0: 2c20 6622 7b72 6573 5f6e 616d 657d 5f61  , f"{res_name}_a
-0002bdf0: 7665 7261 6765 2e64 6174 2229 0a0a 2020  verage.dat")..  
-0002be00: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0002be10: 7772 6974 696e 6720 6669 6c65 7320 666f  writing files fo
-0002be20: 7220 6176 6572 6167 6520 7661 6c75 6573  r average values
-0002be30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002be40: 2077 6974 6820 6f70 656e 286f 7574 7075   with open(outpu
-0002be50: 745f 6669 6c65 6e61 6d65 2c20 2777 2729  t_filename, 'w')
-0002be60: 2061 7320 6669 6c65 3a0a 2020 2020 2020   as file:.      
-0002be70: 2020 2020 2020 2020 2020 2020 2020 6669                fi
-0002be80: 6c65 2e77 7269 7465 2873 7472 2861 7665  le.write(str(ave
-0002be90: 7261 6765 2929 0a20 2020 2020 2020 2020  rage)).         
-0002bea0: 2020 2020 2020 2023 2066 696e 6469 6e67         # finding
-0002beb0: 2074 6865 2072 6d73 206f 6e6c 7920 666f   the rms only fo
-0002bec0: 7220 766f 6c61 7465 5f5c 642b 2e64 6174  r volate_\d+.dat
-0002bed0: 2066 696c 652c 206c 696b 6520 2876 6f6c   file, like (vol
-0002bee0: 7461 6765 5f31 2c20 766f 6c74 6167 655f  tage_1, voltage_
-0002bef0: 3220 616e 6420 736f 206f 6e29 0a20 2020  2 and so on).   
-0002bf00: 2020 2020 2020 2020 2020 2020 2069 6620               if 
-0002bf10: 7265 2e6d 6174 6368 2872 2756 6f6c 7461  re.match(r'Volta
-0002bf20: 6765 5f5c 642b 272c 2072 6573 5f6e 616d  ge_\d+', res_nam
-0002bf30: 6529 3a0a 2020 2020 2020 2020 2020 2020  e):.            
-0002bf40: 2020 2020 2020 2020 696e 7465 6772 616c          integral
-0002bf50: 5f73 7175 6172 6564 203d 2066 662e 6361  _squared = ff.ca
-0002bf60: 6c63 756c 6174 655f 7371 7561 7265 645f  lculate_squared_
-0002bf70: 7175 6164 7261 7475 7265 5f69 6e74 6567  quadrature_integ
-0002bf80: 7261 6c28 7469 6d65 7374 6570 732c 2064  ral(timesteps, d
-0002bf90: 6174 6129 0a20 2020 2020 2020 2020 2020  ata).           
-0002bfa0: 2020 2020 2020 2020 2072 6d73 203d 2066           rms = f
-0002bfb0: 662e 6361 6c63 756c 6174 655f 726d 7328  f.calculate_rms(
-0002bfc0: 696e 7465 6772 616c 5f73 7175 6172 6564  integral_squared
-0002bfd0: 2c20 7469 6d65 7374 6570 7329 0a20 2020  , timesteps).   
-0002bfe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bff0: 2072 6d73 5f6f 7574 7075 745f 6669 6c65   rms_output_file
-0002c000: 6e61 6d65 203d 206f 732e 7061 7468 2e6a  name = os.path.j
-0002c010: 6f69 6e28 7265 735f 7061 7468 2c20 6622  oin(res_path, f"
-0002c020: 7b72 6573 5f6e 616d 657d 5f72 6d73 2e64  {res_name}_rms.d
-0002c030: 6174 2229 0a20 2020 2020 2020 2020 2020  at").           
-0002c040: 2020 2020 2020 2020 2077 6974 6820 6f70           with op
-0002c050: 656e 2872 6d73 5f6f 7574 7075 745f 6669  en(rms_output_fi
-0002c060: 6c65 6e61 6d65 2c20 2777 2729 2061 7320  lename, 'w') as 
-0002c070: 6669 6c65 3a0a 2020 2020 2020 2020 2020  file:.          
-0002c080: 2020 2020 2020 2020 2020 2020 2020 6669                fi
-0002c090: 6c65 2e77 7269 7465 2873 7472 2872 6d73  le.write(str(rms
-0002c0a0: 2929 0a0a 2020 2020 2020 2020 2020 2020  ))..            
-0002c0b0: 2320 2757 696e 6469 6e67 5f6e 2720 7375  # 'Winding_n' su
-0002c0c0: 6264 6972 6563 746f 7279 2028 5769 6e64  bdirectory (Wind
-0002c0d0: 696e 675f 312c 2057 696e 6469 6e67 5f32  ing_1, Winding_2
-0002c0e0: 2c20 2e2e 2e65 7463 290a 2020 2020 2020  , ...etc).      
-0002c0f0: 2020 2020 2020 666f 7220 696e 6465 782c        for index,
-0002c100: 205f 2069 6e20 656e 756d 6572 6174 6528   _ in enumerate(
-0002c110: 7365 6c66 2e77 696e 6469 6e67 732c 2073  self.windings, s
-0002c120: 7461 7274 3d31 293a 0a20 2020 2020 2020  tart=1):.       
-0002c130: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-0002c140: 5f66 6f6c 6465 725f 7061 7468 203d 206f  _folder_path = o
-0002c150: 732e 7061 7468 2e6a 6f69 6e28 7265 735f  s.path.join(res_
-0002c160: 7061 7468 2c20 6622 5769 6e64 696e 675f  path, f"Winding_
-0002c170: 7b69 6e64 6578 7d22 290a 2020 2020 2020  {index}").      
-0002c180: 2020 2020 2020 2020 2020 2320 2e64 6174            # .dat
-0002c190: 2066 696c 6573 2069 6e73 6964 6520 2757   files inside 'W
-0002c1a0: 696e 6469 6e67 5f6e 2720 7375 6264 6972  inding_n' subdir
-0002c1b0: 6563 746f 7279 0a20 2020 2020 2020 2020  ectory.         
-0002c1c0: 2020 2020 2020 2069 6620 6f73 2e70 6174         if os.pat
-0002c1d0: 682e 6973 6469 7228 7769 6e64 696e 675f  h.isdir(winding_
-0002c1e0: 666f 6c64 6572 5f70 6174 6829 3a0a 2020  folder_path):.  
-0002c1f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c200: 2020 7769 6e64 696e 675f 6669 6c65 7320    winding_files 
-0002c210: 3d20 6f73 2e6c 6973 7464 6972 2877 696e  = os.listdir(win
-0002c220: 6469 6e67 5f66 6f6c 6465 725f 7061 7468  ding_folder_path
-0002c230: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002c240: 2020 2020 2020 7769 6e64 696e 675f 6461        winding_da
-0002c250: 745f 6669 6c65 7320 3d20 5b66 696c 6520  t_files = [file 
-0002c260: 666f 7220 6669 6c65 2069 6e20 7769 6e64  for file in wind
-0002c270: 696e 675f 6669 6c65 7320 6966 2066 696c  ing_files if fil
-0002c280: 652e 656e 6473 7769 7468 2827 2e64 6174  e.endswith('.dat
-0002c290: 2729 5d0a 2020 2020 2020 2020 2020 2020  ')].            
-0002c2a0: 2020 2020 2020 2020 2320 6669 6e64 696e          # findin
-0002c2b0: 6720 7468 6520 6176 6572 6167 6520 6f66  g the average of
-0002c2c0: 2065 7665 7279 202e 6461 7420 6669 6c65   every .dat file
-0002c2d0: 7320 696e 7369 6465 2027 5769 6e64 696e  s inside 'Windin
-0002c2e0: 675f 6e27 2073 7562 6469 7265 6374 6f72  g_n' subdirector
-0002c2f0: 790a 2020 2020 2020 2020 2020 2020 2020  y.              
-0002c300: 2020 2020 2020 666f 7220 7769 6e64 696e        for windin
-0002c310: 675f 6461 745f 6669 6c65 2069 6e20 7769  g_dat_file in wi
-0002c320: 6e64 696e 675f 6461 745f 6669 6c65 733a  nding_dat_files:
-0002c330: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002c340: 2020 2020 2020 2020 2072 6573 5f6e 616d           res_nam
-0002c350: 6520 3d20 7769 6e64 696e 675f 6461 745f  e = winding_dat_
-0002c360: 6669 6c65 2e72 6570 6c61 6365 2827 2e64  file.replace('.d
-0002c370: 6174 272c 2027 2729 0a20 2020 2020 2020  at', '').       
-0002c380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c390: 2074 696d 6573 7465 7073 203d 205b 5d0a   timesteps = [].
-0002c3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c3b0: 2020 2020 2020 2020 6461 7461 203d 205b          data = [
-0002c3c0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-0002c3d0: 2020 2020 2020 2020 2020 2320 5265 6164            # Read
-0002c3e0: 696e 6720 6461 7461 2066 726f 6d20 7468  ing data from th
-0002c3f0: 6520 6669 6c65 0a20 2020 2020 2020 2020  e file.         
-0002c400: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-0002c410: 6974 6820 6f70 656e 286f 732e 7061 7468  ith open(os.path
-0002c420: 2e6a 6f69 6e28 7769 6e64 696e 675f 666f  .join(winding_fo
-0002c430: 6c64 6572 5f70 6174 682c 2066 227b 7265  lder_path, f"{re
-0002c440: 735f 6e61 6d65 7d2e 6461 7422 2929 2061  s_name}.dat")) a
-0002c450: 7320 6664 3a0a 2020 2020 2020 2020 2020  s fd:.          
-0002c460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c470: 2020 6c69 6e65 7320 3d20 6664 2e72 6561    lines = fd.rea
-0002c480: 646c 696e 6573 2829 0a20 2020 2020 2020  dlines().       
-0002c490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c4a0: 2023 2045 7874 7261 6374 696e 6720 7469   # Extracting ti
-0002c4b0: 6d65 7374 6570 7320 616e 6420 6461 7461  mesteps and data
-0002c4c0: 2076 616c 7565 7320 6672 6f6d 2074 6865   values from the
-0002c4d0: 2066 696c 650a 2020 2020 2020 2020 2020   file.          
-0002c4e0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-0002c4f0: 7220 6c69 6e65 2069 6e20 6c69 6e65 733a  r line in lines:
-0002c500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002c510: 2020 2020 2020 2020 2020 2020 206c 696e               lin
-0002c520: 655f 7661 6c75 6573 203d 206c 696e 652e  e_values = line.
-0002c530: 7370 6c69 7428 290a 2020 2020 2020 2020  split().        
-0002c540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c550: 2020 2020 6966 206c 656e 286c 696e 655f      if len(line_
-0002c560: 7661 6c75 6573 2920 3d3d 2032 3a0a 2020  values) == 2:.  
+00029bc0: 765b 305d 7d5d 2e54 696d 6553 7465 7022  v[0]}].TimeStep"
+00029bd0: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
+00029be0: 2020 2020 2067 6d73 682e 6f70 7469 6f6e       gmsh.option
+00029bf0: 2e73 6574 4e75 6d62 6572 2866 2256 6965  .setNumber(f"Vie
+00029c00: 775b 7b76 5b30 5d7d 5d2e 5469 6d65 222c  w[{v[0]}].Time",
+00029c10: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
+00029c20: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
+00029c30: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
+00029c40: 5b7b 765b 305d 7d5d 2e4e 6254 696d 6553  [{v[0]}].NbTimeS
+00029c50: 7465 7022 2c20 3129 0a0a 2020 2020 2020  tep", 1)..      
+00029c60: 2020 2020 2020 2020 2020 6966 2061 6e79            if any
+00029c70: 2873 656c 662e 7769 6e64 696e 6773 5b69  (self.windings[i
+00029c80: 5d2e 636f 6e64 7563 746f 725f 7479 7065  ].conductor_type
+00029c90: 203d 3d20 436f 6e64 7563 746f 7254 7970   == ConductorTyp
+00029ca0: 652e 526f 756e 644c 6974 7a20 666f 7220  e.RoundLitz for 
+00029cb0: 6920 696e 2072 616e 6765 286c 656e 2873  i in range(len(s
+00029cc0: 656c 662e 7769 6e64 696e 6773 2929 293a  elf.windings))):
+00029cd0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029ce0: 2020 2020 2023 204f 686d 6963 206c 6f73       # Ohmic los
+00029cf0: 7365 7320 2877 6569 6768 7465 6420 6566  ses (weighted ef
+00029d00: 6665 6374 6976 6520 7661 6c75 6520 6f66  fective value of
+00029d10: 2063 7572 7265 6e74 2064 656e 7369 7479   current density
+00029d20: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00029d30: 2020 2020 2020 2320 676d 7368 2e6f 7065        # gmsh.ope
+00029d40: 6e28 6f73 2e70 6174 682e 6a6f 696e 2873  n(os.path.join(s
+00029d50: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
+00029d60: 6d5f 6669 656c 6473 5f66 6f6c 6465 725f  m_fields_folder_
+00029d70: 7061 7468 2c20 226a 3248 5f64 656e 7369  path, "j2H_densi
+00029d80: 7479 2e70 6f73 2229 290a 2020 2020 2020  ty.pos")).      
+00029d90: 2020 2020 2020 2020 2020 2020 2020 676d                gm
+00029da0: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+00029db0: 6265 7228 6622 5669 6577 5b7b 765b 315d  ber(f"View[{v[1]
+00029dc0: 7d5d 2e53 6361 6c65 5479 7065 222c 2032  }].ScaleType", 2
+00029dd0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00029de0: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+00029df0: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
+00029e00: 6577 5b7b 765b 315d 7d5d 2e52 616e 6765  ew[{v[1]}].Range
+00029e10: 5479 7065 222c 2033 290a 2020 2020 2020  Type", 3).      
+00029e20: 2020 2020 2020 2020 2020 2020 2020 676d                gm
+00029e30: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+00029e40: 6265 7228 6622 5669 6577 5b7b 765b 315d  ber(f"View[{v[1]
+00029e50: 7d5d 2e53 6174 7572 6174 6556 616c 7565  }].SaturateValue
+00029e60: 7322 2c20 3129 0a20 2020 2020 2020 2020  s", 1).         
+00029e70: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
+00029e80: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
+00029e90: 2866 2256 6965 775b 7b76 5b31 5d7d 5d2e  (f"View[{v[1]}].
+00029ea0: 4375 7374 6f6d 4d69 6e22 2c0a 2020 2020  CustomMin",.    
+00029eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029ed0: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+00029ee0: 6e2e 6765 744e 756d 6265 7228 6622 5669  n.getNumber(f"Vi
+00029ef0: 6577 5b7b 765b 315d 7d5d 2e4d 696e 2229  ew[{v[1]}].Min")
+00029f00: 202b 2065 7073 696c 6f6e 290a 2020 2020   + epsilon).    
+00029f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029f20: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+00029f30: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
+00029f40: 315d 7d5d 2e43 7573 746f 6d4d 6178 222c  1]}].CustomMax",
+00029f50: 2067 6d73 682e 6f70 7469 6f6e 2e67 6574   gmsh.option.get
+00029f60: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
+00029f70: 5b31 5d7d 5d2e 4d61 7822 2929 0a20 2020  [1]}].Max")).   
+00029f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029f90: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
+00029fa0: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
+00029fb0: 5b31 5d7d 5d2e 436f 6c6f 726d 6170 4e75  [1]}].ColormapNu
+00029fc0: 6d62 6572 222c 2031 290a 2020 2020 2020  mber", 1).      
+00029fd0: 2020 2020 2020 2020 2020 2020 2020 676d                gm
+00029fe0: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+00029ff0: 6265 7228 6622 5669 6577 5b7b 765b 315d  ber(f"View[{v[1]
+0002a000: 7d5d 2e49 6e74 6572 7661 6c73 5479 7065  }].IntervalsType
+0002a010: 222c 2032 290a 2020 2020 2020 2020 2020  ", 2).          
+0002a020: 2020 2020 2020 2020 2020 676d 7368 2e6f            gmsh.o
+0002a030: 7074 696f 6e2e 7365 744e 756d 6265 7228  ption.setNumber(
+0002a040: 6622 5669 6577 5b7b 765b 315d 7d5d 2e4e  f"View[{v[1]}].N
+0002a050: 6249 736f 222c 2034 3029 0a20 2020 2020  bIso", 40).     
+0002a060: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+0002a070: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
+0002a080: 6d62 6572 2866 2256 6965 775b 7b76 5b31  mber(f"View[{v[1
+0002a090: 5d7d 5d2e 5368 6f77 5469 6d65 222c 2034  ]}].ShowTime", 4
+0002a0a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002a0b0: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+0002a0c0: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
+0002a0d0: 6577 5b7b 765b 315d 7d5d 2e54 696d 6553  ew[{v[1]}].TimeS
+0002a0e0: 7465 7022 2c20 3129 0a20 2020 2020 2020  tep", 1).       
+0002a0f0: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
+0002a100: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
+0002a110: 6572 2866 2256 6965 775b 7b76 5b31 5d7d  er(f"View[{v[1]}
+0002a120: 5d2e 5469 6d65 222c 2031 290a 2020 2020  ].Time", 1).    
+0002a130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a140: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+0002a150: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
+0002a160: 315d 7d5d 2e4e 6254 696d 6553 7465 7022  1]}].NbTimeStep"
+0002a170: 2c20 3129 0a20 2020 2020 2020 2020 2020  , 1).           
+0002a180: 2020 2020 2020 2020 2023 2066 662e 6665           # ff.fe
+0002a190: 6d6d 745f 7072 696e 7428 676d 7368 2e6f  mmt_print(gmsh.o
+0002a1a0: 7074 696f 6e2e 6765 744e 756d 6265 7228  ption.getNumber(
+0002a1b0: 6622 5669 6577 5b7b 765b 315d 7d5d 2e4d  f"View[{v[1]}].M
+0002a1c0: 6178 2229 290a 0a20 2020 2020 2020 2020  ax"))..         
+0002a1d0: 2020 2020 2020 2023 204d 6167 6e65 7469         # Magneti
+0002a1e0: 6320 666c 7578 2064 656e 7369 7479 0a20  c flux density. 
+0002a1f0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0002a200: 2067 6d73 682e 6f70 656e 286f 732e 7061   gmsh.open(os.pa
+0002a210: 7468 2e6a 6f69 6e28 7365 6c66 2e66 696c  th.join(self.fil
+0002a220: 655f 6461 7461 2e65 5f6d 5f66 6965 6c64  e_data.e_m_field
+0002a230: 735f 666f 6c64 6572 5f70 6174 682c 2022  s_folder_path, "
+0002a240: 4d61 6762 2e70 6f73 2229 290a 2020 2020  Magb.pos")).    
+0002a250: 2020 2020 2020 2020 2020 2020 676d 7368              gmsh
+0002a260: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
+0002a270: 7228 6622 5669 6577 5b7b 765b 325d 7d5d  r(f"View[{v[2]}]
+0002a280: 2e53 6361 6c65 5479 7065 222c 2031 290a  .ScaleType", 1).
+0002a290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a2a0: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+0002a2b0: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
+0002a2c0: 325d 7d5d 2e52 616e 6765 5479 7065 222c  2]}].RangeType",
+0002a2d0: 2033 290a 2020 2020 2020 2020 2020 2020   3).            
+0002a2e0: 2020 2020 676d 7368 2e6f 7074 696f 6e2e      gmsh.option.
+0002a2f0: 7365 744e 756d 6265 7228 6622 5669 6577  setNumber(f"View
+0002a300: 5b7b 765b 325d 7d5d 2e43 7573 746f 6d4d  [{v[2]}].CustomM
+0002a310: 696e 222c 2067 6d73 682e 6f70 7469 6f6e  in", gmsh.option
+0002a320: 2e67 6574 4e75 6d62 6572 2866 2256 6965  .getNumber(f"Vie
+0002a330: 775b 7b76 5b32 5d7d 5d2e 4d69 6e22 2920  w[{v[2]}].Min") 
+0002a340: 2b20 6570 7369 6c6f 6e29 0a20 2020 2020  + epsilon).     
+0002a350: 2020 2020 2020 2020 2020 2067 6d73 682e             gmsh.
+0002a360: 6f70 7469 6f6e 2e73 6574 4e75 6d62 6572  option.setNumber
+0002a370: 2866 2256 6965 775b 7b76 5b32 5d7d 5d2e  (f"View[{v[2]}].
+0002a380: 4375 7374 6f6d 4d61 7822 2c20 676d 7368  CustomMax", gmsh
+0002a390: 2e6f 7074 696f 6e2e 6765 744e 756d 6265  .option.getNumbe
+0002a3a0: 7228 6622 5669 6577 5b7b 765b 325d 7d5d  r(f"View[{v[2]}]
+0002a3b0: 2e4d 6178 2229 290a 2020 2020 2020 2020  .Max")).        
+0002a3c0: 2020 2020 2020 2020 676d 7368 2e6f 7074          gmsh.opt
+0002a3d0: 696f 6e2e 7365 744e 756d 6265 7228 6622  ion.setNumber(f"
+0002a3e0: 5669 6577 5b7b 765b 325d 7d5d 2e43 6f6c  View[{v[2]}].Col
+0002a3f0: 6f72 6d61 704e 756d 6265 7222 2c20 3129  ormapNumber", 1)
+0002a400: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002a410: 2067 6d73 682e 6f70 7469 6f6e 2e73 6574   gmsh.option.set
+0002a420: 4e75 6d62 6572 2866 2256 6965 775b 7b76  Number(f"View[{v
+0002a430: 5b32 5d7d 5d2e 496e 7465 7276 616c 7354  [2]}].IntervalsT
+0002a440: 7970 6522 2c20 3229 0a20 2020 2020 2020  ype", 2).       
+0002a450: 2020 2020 2020 2020 2067 6d73 682e 6f70           gmsh.op
+0002a460: 7469 6f6e 2e73 6574 4e75 6d62 6572 2866  tion.setNumber(f
+0002a470: 2256 6965 775b 7b76 5b32 5d7d 5d2e 5368  "View[{v[2]}].Sh
+0002a480: 6f77 5469 6d65 222c 2034 290a 2020 2020  owTime", 4).    
+0002a490: 2020 2020 2020 2020 2020 2020 676d 7368              gmsh
+0002a4a0: 2e6f 7074 696f 6e2e 7365 744e 756d 6265  .option.setNumbe
+0002a4b0: 7228 6622 5669 6577 5b7b 765b 325d 7d5d  r(f"View[{v[2]}]
+0002a4c0: 2e4e 6249 736f 222c 2034 3029 0a20 2020  .NbIso", 40).   
+0002a4d0: 2020 2020 2020 2020 2020 2020 2067 6d73               gms
+0002a4e0: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
+0002a4f0: 6572 2866 2256 6965 775b 7b76 5b32 5d7d  er(f"View[{v[2]}
+0002a500: 5d2e 5469 6d65 5374 6570 222c 2031 290a  ].TimeStep", 1).
+0002a510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a520: 676d 7368 2e6f 7074 696f 6e2e 7365 744e  gmsh.option.setN
+0002a530: 756d 6265 7228 6622 5669 6577 5b7b 765b  umber(f"View[{v[
+0002a540: 325d 7d5d 2e54 696d 6522 2c20 3129 0a20  2]}].Time", 1). 
+0002a550: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+0002a560: 6d73 682e 6f70 7469 6f6e 2e73 6574 4e75  msh.option.setNu
+0002a570: 6d62 6572 2866 2256 6965 775b 7b76 5b32  mber(f"View[{v[2
+0002a580: 5d7d 5d2e 4e62 5469 6d65 5374 6570 222c  ]}].NbTimeStep",
+0002a590: 2031 290a 0a20 2020 2020 2020 2022 2222   1)..        """
+0002a5a0: 0a20 2020 2020 2020 2023 2056 6563 746f  .        # Vecto
+0002a5b0: 7220 506f 7465 6e74 6961 6c0a 2020 2020  r Potential.    
+0002a5c0: 2020 2020 676d 7368 2e6f 7065 6e28 6f73      gmsh.open(os
+0002a5d0: 2e70 6174 682e 6a6f 696e 2873 656c 662e  .path.join(self.
+0002a5e0: 6669 6c65 5f64 6174 612e 655f 6d5f 6669  file_data.e_m_fi
+0002a5f0: 656c 6473 5f66 6f6c 6465 725f 7061 7468  elds_folder_path
+0002a600: 2c20 2272 617a 2e70 6f73 2229 290a 2020  , "raz.pos")).  
+0002a610: 2020 2020 2020 676d 7368 2e6f 7074 696f        gmsh.optio
+0002a620: 6e2e 7365 744e 756d 6265 7228 6622 5669  n.setNumber(f"Vi
+0002a630: 6577 5b7b 7669 6577 7d5d 2e53 6361 6c65  ew[{view}].Scale
+0002a640: 5479 7065 222c 2031 290a 2020 2020 2020  Type", 1).      
+0002a650: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
+0002a660: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
+0002a670: 7669 6577 7d5d 2e52 616e 6765 5479 7065  view}].RangeType
+0002a680: 222c 2031 290a 2020 2020 2020 2020 676d  ", 1).        gm
+0002a690: 7368 2e6f 7074 696f 6e2e 7365 744e 756d  sh.option.setNum
+0002a6a0: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
+0002a6b0: 7d5d 2e43 7573 746f 6d4d 696e 222c 2067  }].CustomMin", g
+0002a6c0: 6d73 682e 6f70 7469 6f6e 2e67 6574 4e75  msh.option.getNu
+0002a6d0: 6d62 6572 2866 2256 6965 775b 7b76 6965  mber(f"View[{vie
+0002a6e0: 777d 5d2e 4d69 6e22 2920 2b20 6570 7369  w}].Min") + epsi
+0002a6f0: 6c6f 6e29 0a20 2020 2020 2020 2067 6d73  lon).        gms
+0002a700: 682e 6f70 7469 6f6e 2e73 6574 4e75 6d62  h.option.setNumb
+0002a710: 6572 2866 2256 6965 775b 7b76 6965 777d  er(f"View[{view}
+0002a720: 5d2e 4375 7374 6f6d 4d61 7822 2c20 676d  ].CustomMax", gm
+0002a730: 7368 2e6f 7074 696f 6e2e 6765 744e 756d  sh.option.getNum
+0002a740: 6265 7228 6622 5669 6577 5b7b 7669 6577  ber(f"View[{view
+0002a750: 7d5d 2e4d 6178 2229 290a 2020 2020 2020  }].Max")).      
+0002a760: 2020 676d 7368 2e6f 7074 696f 6e2e 7365    gmsh.option.se
+0002a770: 744e 756d 6265 7228 6622 5669 6577 5b7b  tNumber(f"View[{
+0002a780: 7669 6577 7d5d 2e43 6f6c 6f72 6d61 704e  view}].ColormapN
+0002a790: 756d 6265 7222 2c20 3129 0a20 2020 2020  umber", 1).     
+0002a7a0: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
+0002a7b0: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
+0002a7c0: 7b76 6965 777d 5d2e 496e 7465 7276 616c  {view}].Interval
+0002a7d0: 7354 7970 6522 2c20 3229 0a20 2020 2020  sType", 2).     
+0002a7e0: 2020 2067 6d73 682e 6f70 7469 6f6e 2e73     gmsh.option.s
+0002a7f0: 6574 4e75 6d62 6572 2866 2256 6965 775b  etNumber(f"View[
+0002a800: 7b76 6965 777d 5d2e 4e62 4973 6f22 2c20  {view}].NbIso", 
+0002a810: 3430 290a 2020 2020 2020 2020 7669 6577  40).        view
+0002a820: 202b 3d20 310a 2020 2020 2020 2020 2222   += 1.        ""
+0002a830: 220a 0a20 2020 2020 2020 2067 6d73 682e  "..        gmsh.
+0002a840: 666c 746b 2e72 756e 2829 0a20 2020 2020  fltk.run().     
+0002a850: 2020 2023 2067 6d73 682e 6669 6e61 6c69     # gmsh.finali
+0002a860: 7a65 2829 0a0a 2020 2020 6465 6620 6765  ze()..    def ge
+0002a870: 745f 6c6f 7373 5f64 6174 6128 7365 6c66  t_loss_data(self
+0002a880: 2c20 6c61 7374 5f6e 5f76 616c 7565 733a  , last_n_values:
+0002a890: 2069 6e74 2c20 6c6f 7373 5f74 7970 653a   int, loss_type:
+0002a8a0: 2073 7472 203d 2027 6c69 747a 5f6c 6f73   str = 'litz_los
+0002a8b0: 7327 293a 0a20 2020 2020 2020 2022 2222  s'):.        """
+0002a8c0: 0a20 2020 2020 2020 2052 6574 7572 6e20  .        Return 
+0002a8d0: 7468 6520 6c61 7374 206e 2076 616c 7565  the last n value
+0002a8e0: 7320 6672 6f6d 2074 6865 2063 686f 7365  s from the chose
+0002a8f0: 6e20 6c6f 7373 2074 7970 6520 6c6f 6767  n loss type logg
+0002a900: 6564 2069 6e20 7468 6520 7265 7375 6c74  ed in the result
+0002a910: 2066 6f6c 6465 722e 0a0a 2020 2020 2020   folder...      
+0002a920: 2020 3a70 6172 616d 206c 6173 745f 6e5f    :param last_n_
+0002a930: 7661 6c75 6573 3a20 5f64 6573 6372 6970  values: _descrip
+0002a940: 7469 6f6e 5f0a 2020 2020 2020 2020 3a74  tion_.        :t
+0002a950: 7970 6520 6c61 7374 5f6e 5f76 616c 7565  ype last_n_value
+0002a960: 733a 2069 6e74 0a20 2020 2020 2020 203a  s: int.        :
+0002a970: 7061 7261 6d20 6c6f 7373 5f74 7970 653a  param loss_type:
+0002a980: 205f 6465 7363 7269 7074 696f 6e5f 2c20   _description_, 
+0002a990: 6465 6661 756c 7473 2074 6f20 276c 6974  defaults to 'lit
+0002a9a0: 7a5f 6c6f 7373 270a 2020 2020 2020 2020  z_loss'.        
+0002a9b0: 3a74 7970 6520 6c6f 7373 5f74 7970 653a  :type loss_type:
+0002a9c0: 2073 7472 2c20 6f70 7469 6f6e 616c 0a20   str, optional. 
+0002a9d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0002a9e0: 2020 206c 6f73 735f 6669 6c65 203d 204e     loss_file = N
+0002a9f0: 6f6e 650a 2020 2020 2020 2020 2320 4c6f  one.        # Lo
+0002aa00: 7373 2066 696c 6520 6c6f 6361 7469 6f6e  ss file location
+0002aa10: 0a20 2020 2020 2020 2069 6620 6c6f 7373  .        if loss
+0002aa20: 5f74 7970 6520 3d3d 2027 6c69 747a 5f6c  _type == 'litz_l
+0002aa30: 6f73 7327 3a0a 2020 2020 2020 2020 2020  oss':.          
+0002aa40: 2020 6c6f 7373 5f66 696c 6520 3d20 276a    loss_file = 'j
+0002aa50: 3248 2e64 6174 270a 2020 2020 2020 2020  2H.dat'.        
+0002aa60: 6966 206c 6f73 735f 7479 7065 203d 3d20  if loss_type == 
+0002aa70: 2773 6f6c 6964 5f6c 6f73 7327 3a0a 2020  'solid_loss':.  
+0002aa80: 2020 2020 2020 2020 2020 6c6f 7373 5f66            loss_f
+0002aa90: 696c 6520 3d20 276a 3246 2e64 6174 270a  ile = 'j2F.dat'.
+0002aaa0: 2020 2020 2020 2020 2320 5265 6164 2074          # Read t
+0002aab0: 6865 206c 6f67 6765 6420 6c6f 7373 6573  he logged losses
+0002aac0: 2063 6f72 7265 7370 6f6e 6469 6e67 2074   corresponding t
+0002aad0: 6f20 7468 6520 6672 6571 7565 6e63 6965  o the frequencie
+0002aae0: 730a 2020 2020 2020 2020 7769 7468 206f  s.        with o
+0002aaf0: 7065 6e28 6f73 2e70 6174 682e 6a6f 696e  pen(os.path.join
+0002ab00: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
+0002ab10: 655f 6d5f 7661 6c75 6573 5f66 6f6c 6465  e_m_values_folde
+0002ab20: 725f 7061 7468 2c20 6c6f 7373 5f66 696c  r_path, loss_fil
+0002ab30: 6529 2c20 6e65 776c 696e 653d 2727 2920  e), newline='') 
+0002ab40: 6173 2066 643a 0a20 2020 2020 2020 2020  as fd:.         
+0002ab50: 2020 2072 6561 6465 7220 3d20 6373 762e     reader = csv.
+0002ab60: 7265 6164 6572 2866 6429 0a20 2020 2020  reader(fd).     
+0002ab70: 2020 2020 2020 2064 6174 6120 3d20 6c69         data = li
+0002ab80: 7374 2872 6561 6465 7229 0a20 2020 2020  st(reader).     
+0002ab90: 2020 2072 6574 7572 6e20 6461 7461 5b2d     return data[-
+0002aba0: 6c61 7374 5f6e 5f76 616c 7565 733a 2d31  last_n_values:-1
+0002abb0: 5d20 2b20 5b64 6174 615b 2d31 5d5d 0a0a  ] + [data[-1]]..
+0002abc0: 2020 2020 6465 6620 6765 745f 726f 6c6c      def get_roll
+0002abd0: 696e 675f 6176 6572 6167 6528 7365 6c66  ing_average(self
+0002abe0: 2c20 7769 6e64 6f77 5f73 697a 6529 3a0a  , window_size):.
+0002abf0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002ac00: 2020 2020 436f 6d70 7574 6520 7468 6520      Compute the 
+0002ac10: 726f 6c6c 696e 6720 6176 6572 6167 6520  rolling average 
+0002ac20: 666f 7220 6561 6368 2072 6573 756c 7420  for each result 
+0002ac30: 6669 6c65 2061 6e64 2070 6c6f 7473 2074  file and plots t
+0002ac40: 6865 206f 7269 6769 6e61 6c20 6461 7461  he original data
+0002ac50: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+0002ac60: 6d20 7769 6e64 6f77 5f73 697a 653a 2054  m window_size: T
+0002ac70: 6865 2073 697a 6520 6f66 2074 6865 2072  he size of the r
+0002ac80: 6f6c 6c69 6e67 2077 696e 646f 7720 666f  olling window fo
+0002ac90: 7220 6361 6c63 756c 6174 696e 6720 7468  r calculating th
+0002aca0: 6520 6176 6572 6167 652e 0a20 2020 2020  e average..     
+0002acb0: 2020 203a 7479 7065 2077 696e 646f 775f     :type window_
+0002acc0: 7369 7a65 3a20 696e 740a 2020 2020 2020  size: int.      
+0002acd0: 2020 2222 220a 0a20 2020 2020 2020 2064    """..        d
+0002ace0: 6566 2072 6f6c 6c69 6e67 5f63 616c 6375  ef rolling_calcu
+0002acf0: 6c61 7469 6f6e 2872 6573 5f6e 616d 653a  lation(res_name:
+0002ad00: 2073 7472 2c20 7265 735f 7061 7468 3a20   str, res_path: 
+0002ad10: 7374 7229 3a0a 2020 2020 2020 2020 2020  str):.          
+0002ad20: 2020 7469 6d65 5f73 7465 7073 203d 205b    time_steps = [
+0002ad30: 5d0a 2020 2020 2020 2020 2020 2020 6461  ].            da
+0002ad40: 7461 203d 205b 5d0a 2020 2020 2020 2020  ta = [].        
+0002ad50: 2020 2020 2320 5265 6164 696e 6720 6461      # Reading da
+0002ad60: 7461 2066 726f 6d20 7468 6520 6669 6c65  ta from the file
+0002ad70: 0a20 2020 2020 2020 2020 2020 2077 6974  .            wit
+0002ad80: 6820 6f70 656e 286f 732e 7061 7468 2e6a  h open(os.path.j
+0002ad90: 6f69 6e28 7265 735f 7061 7468 2c20 6622  oin(res_path, f"
+0002ada0: 7b72 6573 5f6e 616d 657d 2e64 6174 2229  {res_name}.dat")
+0002adb0: 2920 6173 2066 643a 0a20 2020 2020 2020  ) as fd:.       
+0002adc0: 2020 2020 2020 2020 206c 696e 6573 203d           lines =
+0002add0: 2066 642e 7265 6164 6c69 6e65 7328 290a   fd.readlines().
+0002ade0: 2020 2020 2020 2020 2020 2020 2320 4578              # Ex
+0002adf0: 7472 6163 7469 6e67 2074 696d 6520 7374  tracting time st
+0002ae00: 6570 7320 616e 6420 6461 7461 2076 616c  eps and data val
+0002ae10: 7565 7320 6672 6f6d 2074 6865 2066 696c  ues from the fil
+0002ae20: 650a 2020 2020 2020 2020 2020 2020 666f  e.            fo
+0002ae30: 7220 6c69 6e65 2069 6e20 6c69 6e65 733a  r line in lines:
+0002ae40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ae50: 206c 696e 655f 7661 6c75 6573 203d 206c   line_values = l
+0002ae60: 696e 652e 7370 6c69 7428 290a 2020 2020  ine.split().    
+0002ae70: 2020 2020 2020 2020 2020 2020 6966 206c              if l
+0002ae80: 656e 286c 696e 655f 7661 6c75 6573 2920  en(line_values) 
+0002ae90: 3d3d 2032 3a0a 2020 2020 2020 2020 2020  == 2:.          
+0002aea0: 2020 2020 2020 2020 2020 7469 6d65 5f73            time_s
+0002aeb0: 7465 7073 2e61 7070 656e 6428 666c 6f61  teps.append(floa
+0002aec0: 7428 6c69 6e65 5f76 616c 7565 735b 305d  t(line_values[0]
+0002aed0: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+0002aee0: 2020 2020 2020 2064 6174 612e 6170 7065         data.appe
+0002aef0: 6e64 2866 6c6f 6174 286c 696e 655f 7661  nd(float(line_va
+0002af00: 6c75 6573 5b31 5d29 290a 2020 2020 2020  lues[1])).      
+0002af10: 2020 2020 2020 2320 4572 726f 7220 6861        # Error ha
+0002af20: 6e64 6c69 6e67 3a20 5261 6973 696e 6720  ndling: Raising 
+0002af30: 6572 726f 7220 6966 2077 696e 646f 7720  error if window 
+0002af40: 7369 7a65 2069 7320 6772 6561 7465 7220  size is greater 
+0002af50: 7468 616e 2074 6865 206e 756d 6265 7220  than the number 
+0002af60: 6f66 2064 6174 6120 706f 696e 7473 0a20  of data points. 
+0002af70: 2020 2020 2020 2020 2020 2069 6620 7769             if wi
+0002af80: 6e64 6f77 5f73 697a 6520 3e20 6c65 6e28  ndow_size > len(
+0002af90: 6461 7461 293a 0a20 2020 2020 2020 2020  data):.         
+0002afa0: 2020 2020 2020 2072 6169 7365 2056 616c         raise Val
+0002afb0: 7565 4572 726f 7228 2254 6865 2077 696e  ueError("The win
+0002afc0: 646f 7720 7369 7a65 2073 686f 756c 6420  dow size should 
+0002afd0: 6e6f 7420 6265 2067 7265 6174 6572 2074  not be greater t
+0002afe0: 6861 6e20 7468 6520 746f 7461 6c20 6e75  han the total nu
+0002aff0: 6d62 6572 206f 6620 6461 7461 2070 6f69  mber of data poi
+0002b000: 6e74 732e 2229 0a20 2020 2020 2020 2020  nts.").         
+0002b010: 2020 2023 2043 7265 6174 696e 6720 6120     # Creating a 
+0002b020: 7061 6e64 6173 2044 6174 6146 7261 6d65  pandas DataFrame
+0002b030: 2061 6e64 2063 6f6d 7075 7469 6e67 2074   and computing t
+0002b040: 6865 2072 6f6c 6c69 6e67 2061 7665 7261  he rolling avera
+0002b050: 6765 0a20 2020 2020 2020 2020 2020 2064  ge.            d
+0002b060: 6620 3d20 7064 2e44 6174 6146 7261 6d65  f = pd.DataFrame
+0002b070: 287b 2764 6174 6127 3a20 6461 7461 7d29  ({'data': data})
+0002b080: 0a20 2020 2020 2020 2020 2020 2064 665b  .            df[
+0002b090: 2772 6f6c 6c69 6e67 5f61 7667 275d 203d  'rolling_avg'] =
+0002b0a0: 2064 665b 2764 6174 6127 5d2e 726f 6c6c   df['data'].roll
+0002b0b0: 696e 6728 7769 6e64 6f77 5f73 697a 652c  ing(window_size,
+0002b0c0: 206d 696e 5f70 6572 696f 6473 3d31 292e   min_periods=1).
+0002b0d0: 6d65 616e 2829 0a20 2020 2020 2020 2020  mean().         
+0002b0e0: 2020 2072 6f6c 6c69 6e67 5f61 7665 7261     rolling_avera
+0002b0f0: 6765 7320 3d20 6466 5b27 726f 6c6c 696e  ges = df['rollin
+0002b100: 675f 6176 6727 5d2e 746f 6c69 7374 2829  g_avg'].tolist()
+0002b110: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+0002b120: 506c 6f74 7469 6e67 2064 6174 6120 7769  Plotting data wi
+0002b130: 7468 2072 6f6c 6c69 6e67 2061 7665 7261  th rolling avera
+0002b140: 6765 0a20 2020 2020 2020 2020 2020 2070  ge.            p
+0002b150: 6c74 2e66 6967 7572 6528 6669 6773 697a  lt.figure(figsiz
+0002b160: 653d 2831 302c 2035 2929 0a20 2020 2020  e=(10, 5)).     
+0002b170: 2020 2020 2020 2070 6c74 2e70 6c6f 7428         plt.plot(
+0002b180: 7469 6d65 5f73 7465 7073 2c20 6461 7461  time_steps, data
+0002b190: 2c20 6c61 6265 6c3d 274f 7269 6769 6e61  , label='Origina
+0002b1a0: 6c20 4461 7461 2729 0a20 2020 2020 2020  l Data').       
+0002b1b0: 2020 2020 2070 6c74 2e70 6c6f 7428 7469       plt.plot(ti
+0002b1c0: 6d65 5f73 7465 7073 2c20 726f 6c6c 696e  me_steps, rollin
+0002b1d0: 675f 6176 6572 6167 6573 2c20 6c61 6265  g_averages, labe
+0002b1e0: 6c3d 6627 526f 6c6c 696e 6720 4176 6572  l=f'Rolling Aver
+0002b1f0: 6167 6520 2857 696e 646f 7720 5369 7a65  age (Window Size
+0002b200: 3a20 7b77 696e 646f 775f 7369 7a65 7d29  : {window_size})
+0002b210: 2729 0a20 2020 2020 2020 2020 2020 2070  ').            p
+0002b220: 6c74 2e78 6c61 6265 6c28 2754 696d 6527  lt.xlabel('Time'
+0002b230: 290a 2020 2020 2020 2020 2020 2020 706c  ).            pl
+0002b240: 742e 796c 6162 656c 2872 6573 5f6e 616d  t.ylabel(res_nam
+0002b250: 6529 0a20 2020 2020 2020 2020 2020 2070  e).            p
+0002b260: 6c74 2e74 6974 6c65 2866 277b 7265 735f  lt.title(f'{res_
+0002b270: 6e61 6d65 7d20 7769 7468 2052 6f6c 6c69  name} with Rolli
+0002b280: 6e67 2041 7665 7261 6765 2729 0a20 2020  ng Average').   
+0002b290: 2020 2020 2020 2020 2070 6c74 2e6c 6567           plt.leg
+0002b2a0: 656e 6428 290a 2020 2020 2020 2020 2020  end().          
+0002b2b0: 2020 706c 742e 6772 6964 2854 7275 6529    plt.grid(True)
+0002b2c0: 0a20 2020 2020 2020 2020 2020 2070 6c74  .            plt
+0002b2d0: 2e73 686f 7728 290a 0a20 2020 2020 2020  .show()..       
+0002b2e0: 2072 6573 756c 745f 7479 7065 7320 3d20   result_types = 
+0002b2f0: 5b22 7661 6c75 6522 5d20 2023 2063 616e  ["value"]  # can
+0002b300: 2062 6520 6578 7465 6e64 6564 2061 7320   be extended as 
+0002b310: 6e65 6564 6564 0a20 2020 2020 2020 2023  needed.        #
+0002b320: 204c 6f6f 7069 6e67 2074 6872 6f75 6768   Looping through
+0002b330: 2065 6163 6820 7265 7375 6c74 2074 7970   each result typ
+0002b340: 6520 746f 2070 726f 6365 7373 2074 6865  e to process the
+0002b350: 2066 696c 6573 0a20 2020 2020 2020 2066   files.        f
+0002b360: 6f72 2072 6573 5f74 7970 6520 696e 2072  or res_type in r
+0002b370: 6573 756c 745f 7479 7065 733a 0a20 2020  esult_types:.   
+0002b380: 2020 2020 2020 2020 2072 6573 5f70 6174           res_pat
+0002b390: 6820 3d20 7365 6c66 2e66 696c 655f 6461  h = self.file_da
+0002b3a0: 7461 2e65 5f6d 5f76 616c 7565 735f 666f  ta.e_m_values_fo
+0002b3b0: 6c64 6572 5f70 6174 6820 6966 2072 6573  lder_path if res
+0002b3c0: 5f74 7970 6520 3d3d 2022 7661 6c75 6522  _type == "value"
+0002b3d0: 2065 6c73 6520 7365 6c66 2e66 696c 655f   else self.file_
+0002b3e0: 6461 7461 2e65 5f6d 5f63 6972 6375 6974  data.e_m_circuit
+0002b3f0: 5f66 6f6c 6465 725f 7061 7468 0a20 2020  _folder_path.   
+0002b400: 2020 2020 2020 2020 2023 2073 6f6d 6520           # some 
+0002b410: 6669 6c65 7320 6172 6520 6e6f 7420 6e65  files are not ne
+0002b420: 6564 6564 2066 6f72 2063 616c 6375 6c61  eded for calcula
+0002b430: 7469 6f6e 202f 666f 7220 6578 2e20 6176  tion /for ex. av
+0002b440: 6572 6167 6520 6669 6c65 732c 2073 6f20  erage files, so 
+0002b450: 7468 6579 2061 7265 2065 7863 6c75 6465  they are exclude
+0002b460: 640a 2020 2020 2020 2020 2020 2020 616c  d.            al
+0002b470: 6c5f 6669 6c65 7320 3d20 6f73 2e6c 6973  l_files = os.lis
+0002b480: 7464 6972 2872 6573 5f70 6174 6829 0a20  tdir(res_path). 
+0002b490: 2020 2020 2020 2020 2020 2064 6174 5f66             dat_f
+0002b4a0: 696c 6573 203d 205b 6669 6c65 2066 6f72  iles = [file for
+0002b4b0: 2066 696c 6520 696e 2061 6c6c 5f66 696c   file in all_fil
+0002b4c0: 6573 2069 660a 2020 2020 2020 2020 2020  es if.          
+0002b4d0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0002b4e0: 696c 652e 656e 6473 7769 7468 2827 2e64  ile.endswith('.d
+0002b4f0: 6174 2729 2061 6e64 206e 6f74 2066 696c  at') and not fil
+0002b500: 652e 656e 6473 7769 7468 2827 5f61 7665  e.endswith('_ave
+0002b510: 7261 6765 2e64 6174 2729 2061 6e64 206e  rage.dat') and n
+0002b520: 6f74 2066 696c 652e 656e 6473 7769 7468  ot file.endswith
+0002b530: 2827 5f72 6d73 2e64 6174 2729 5d0a 0a20  ('_rms.dat')].. 
+0002b540: 2020 2020 2020 2020 2020 2066 6f72 2064             for d
+0002b550: 6174 5f66 696c 6520 696e 2064 6174 5f66  at_file in dat_f
+0002b560: 696c 6573 3a0a 2020 2020 2020 2020 2020  iles:.          
+0002b570: 2020 2020 2020 7265 735f 6e61 6d65 203d        res_name =
+0002b580: 2064 6174 5f66 696c 652e 7265 706c 6163   dat_file.replac
+0002b590: 6528 272e 6461 7427 2c20 2727 290a 2020  e('.dat', '').  
+0002b5a0: 2020 2020 2020 2020 2020 2020 2020 726f                ro
+0002b5b0: 6c6c 696e 675f 6361 6c63 756c 6174 696f  lling_calculatio
+0002b5c0: 6e28 7265 735f 6e61 6d65 2c20 7265 735f  n(res_name, res_
+0002b5d0: 7061 7468 290a 2020 2020 2020 2020 2020  path).          
+0002b5e0: 2020 2320 5072 6f63 6573 7369 6e67 2066    # Processing f
+0002b5f0: 696c 6573 2069 6e20 7468 6520 7769 6e64  iles in the wind
+0002b600: 696e 672d 7370 6563 6966 6963 2073 7562  ing-specific sub
+0002b610: 6469 7265 6374 6f72 6965 732c 2069 6620  directories, if 
+0002b620: 7468 6579 2065 7869 7374 0a20 2020 2020  they exist.     
+0002b630: 2020 2020 2020 2066 6f72 2069 6e64 6578         for index
+0002b640: 2c20 5f20 696e 2065 6e75 6d65 7261 7465  , _ in enumerate
+0002b650: 2873 656c 662e 7769 6e64 696e 6773 2c20  (self.windings, 
+0002b660: 7374 6172 743d 3129 3a0a 2020 2020 2020  start=1):.      
+0002b670: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+0002b680: 675f 666f 6c64 6572 5f70 6174 6820 3d20  g_folder_path = 
+0002b690: 6f73 2e70 6174 682e 6a6f 696e 2872 6573  os.path.join(res
+0002b6a0: 5f70 6174 682c 2066 2257 696e 6469 6e67  _path, f"Winding
+0002b6b0: 5f7b 696e 6465 787d 2229 0a20 2020 2020  _{index}").     
+0002b6c0: 2020 2020 2020 2020 2020 2023 2073 6f6d             # som
+0002b6d0: 6520 6669 6c65 7320 6172 6520 6e6f 7420  e files are not 
+0002b6e0: 6e65 6564 6564 2066 6f72 2063 616c 6375  needed for calcu
+0002b6f0: 6c61 7469 6f6e 202f 666f 7220 6578 2e20  lation /for ex. 
+0002b700: 6176 6572 6167 6520 6669 6c65 7320 696e  average files in
+0002b710: 2073 7562 2077 696e 6469 6e67 2066 696c   sub winding fil
+0002b720: 6573 2c20 736f 2074 6865 7920 6172 6520  es, so they are 
+0002b730: 6578 636c 7564 6564 0a20 2020 2020 2020  excluded.       
+0002b740: 2020 2020 2020 2020 2069 6620 6f73 2e70           if os.p
+0002b750: 6174 682e 6973 6469 7228 7769 6e64 696e  ath.isdir(windin
+0002b760: 675f 666f 6c64 6572 5f70 6174 6829 3a0a  g_folder_path):.
+0002b770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b780: 2020 2020 7769 6e64 696e 675f 6669 6c65      winding_file
+0002b790: 7320 3d20 6f73 2e6c 6973 7464 6972 2877  s = os.listdir(w
+0002b7a0: 696e 6469 6e67 5f66 6f6c 6465 725f 7061  inding_folder_pa
+0002b7b0: 7468 290a 2020 2020 2020 2020 2020 2020  th).            
+0002b7c0: 2020 2020 2020 2020 7769 6e64 696e 675f          winding_
+0002b7d0: 6461 745f 6669 6c65 7320 3d20 5b66 696c  dat_files = [fil
+0002b7e0: 6520 666f 7220 6669 6c65 2069 6e20 7769  e for file in wi
+0002b7f0: 6e64 696e 675f 6669 6c65 7320 6966 0a20  nding_files if. 
+0002b800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b820: 2020 2020 2020 2020 6669 6c65 2e65 6e64          file.end
+0002b830: 7377 6974 6828 272e 6461 7427 2920 616e  swith('.dat') an
+0002b840: 6420 6e6f 7420 6669 6c65 2e65 6e64 7377  d not file.endsw
+0002b850: 6974 6828 275f 6176 6572 6167 652e 6461  ith('_average.da
+0002b860: 7427 295d 0a0a 2020 2020 2020 2020 2020  t')]..          
+0002b870: 2020 2020 2020 2020 2020 666f 7220 7769            for wi
+0002b880: 6e64 696e 675f 6461 745f 6669 6c65 2069  nding_dat_file i
+0002b890: 6e20 7769 6e64 696e 675f 6461 745f 6669  n winding_dat_fi
+0002b8a0: 6c65 733a 0a20 2020 2020 2020 2020 2020  les:.           
+0002b8b0: 2020 2020 2020 2020 2020 2020 2072 6573               res
+0002b8c0: 5f6e 616d 6520 3d20 7769 6e64 696e 675f  _name = winding_
+0002b8d0: 6461 745f 6669 6c65 2e72 6570 6c61 6365  dat_file.replace
+0002b8e0: 2827 2e64 6174 272c 2027 2729 0a20 2020  ('.dat', '').   
+0002b8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002b900: 2020 2020 2072 6f6c 6c69 6e67 5f63 616c       rolling_cal
+0002b910: 6375 6c61 7469 6f6e 2872 6573 5f6e 616d  culation(res_nam
+0002b920: 652c 2077 696e 6469 6e67 5f66 6f6c 6465  e, winding_folde
+0002b930: 725f 7061 7468 290a 0a20 2020 2064 6566  r_path)..    def
+0002b940: 2063 616c 6375 6c61 7465 5f61 7665 7261   calculate_avera
+0002b950: 6765 5f66 696c 6573 2873 656c 6629 3a0a  ge_files(self):.
+0002b960: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002b970: 2020 2020 6669 6e64 2074 6865 2061 7665      find the ave
+0002b980: 7261 6765 2076 616c 7565 206f 6620 616c  rage value of al
+0002b990: 6c20 2e64 6174 2066 696c 6573 2077 6974  l .dat files wit
+0002b9a0: 6869 6e20 7468 6520 2776 616c 7565 2720  hin the 'value' 
+0002b9b0: 6469 7265 6374 6f72 7920 616e 6420 6561  directory and ea
+0002b9c0: 6368 2027 5769 6e64 696e 675f 6e27 2073  ch 'Winding_n' s
+0002b9d0: 7562 6469 7265 6374 6f72 792e 0a0a 2020  ubdirectory...  
+0002b9e0: 2020 2020 2020 2d20 466f 7220 6561 6368        - For each
+0002b9f0: 202e 6461 7420 6669 6c65 2c20 7468 6520   .dat file, the 
+0002ba00: 6d65 7468 6f64 2072 6561 6473 2074 6865  method reads the
+0002ba10: 2074 696d 6520 7374 6570 7320 616e 6420   time steps and 
+0002ba20: 636f 7272 6573 706f 6e64 696e 6720 6461  corresponding da
+0002ba30: 7461 2070 6f69 6e74 732e 0a20 2020 2020  ta points..     
+0002ba40: 2020 202d 2043 6f6d 7075 7465 7320 7468     - Computes th
+0002ba50: 6520 6176 6572 6167 6520 7661 6c75 6520  e average value 
+0002ba60: 6279 2064 6976 6964 696e 6720 7468 6520  by dividing the 
+0002ba70: 696e 7465 6772 616c 2062 7920 7468 6520  integral by the 
+0002ba80: 746f 7461 6c20 6475 7261 7469 6f6e 206f  total duration o
+0002ba90: 6620 7468 6520 7469 6d65 2073 7465 7073  f the time steps
+0002baa0: 2e0a 2020 2020 2020 2020 2d20 5772 6974  ..        - Writ
+0002bab0: 6573 2074 6865 2061 7665 7261 6765 2076  es the average v
+0002bac0: 616c 7565 2074 6f20 6120 6e65 7720 6669  alue to a new fi
+0002bad0: 6c65 2077 6974 6820 7468 6520 7361 6d65  le with the same
+0002bae0: 2062 6173 6520 6e61 6d65 2061 7320 7468   base name as th
+0002baf0: 6520 696e 7075 7420 6669 6c65 2062 7574  e input file but
+0002bb00: 2077 6974 6820 616e 2027 5f61 7665 7261   with an '_avera
+0002bb10: 6765 2e64 6174 2720 7375 6666 6978 2e0a  ge.dat' suffix..
+0002bb20: 2020 2020 2020 2020 2d20 5265 7065 6174          - Repeat
+0002bb30: 7320 7468 6520 7361 6d65 2070 726f 6365  s the same proce
+0002bb40: 7373 2066 6f72 2061 6c6c 202e 6461 7420  ss for all .dat 
+0002bb50: 6669 6c65 7320 7769 7468 696e 2065 6163  files within eac
+0002bb60: 6820 2757 696e 6469 6e67 5f6e 2720 7375  h 'Winding_n' su
+0002bb70: 6264 6972 6563 746f 7279 2e0a 2020 2020  bdirectory..    
+0002bb80: 2020 2020 2d20 7468 6520 6d65 7468 6f64      - the method
+0002bb90: 2061 6c73 6f20 6361 6c63 756c 6174 6573   also calculates
+0002bba0: 2074 6865 2052 4d53 2076 616c 7565 2061   the RMS value a
+0002bbb0: 6e64 2077 7269 7465 7320 6974 2074 6f20  nd writes it to 
+0002bbc0: 6120 6e65 7720 6669 6c65 2077 6974 6820  a new file with 
+0002bbd0: 616e 2027 5f72 6d73 2e64 6174 2720 7375  an '_rms.dat' su
+0002bbe0: 6666 6978 2e0a 2020 2020 2020 2020 2d20  ffix..        - 
+0002bbf0: 5468 6520 6f75 7470 7574 2066 726f 6d20  The output from 
+0002bc00: 7468 6973 206d 6574 686f 6420 6973 2061  this method is a
+0002bc10: 2073 6574 206f 6620 6e65 7720 6669 6c65   set of new file
+0002bc20: 7320 636f 6e74 6169 6e69 6e67 2074 6865  s containing the
+0002bc30: 2063 6f6d 7075 7465 6420 6176 6572 6167   computed averag
+0002bc40: 6520 616e 6420 524d 5320 7661 6c75 6573  e and RMS values
+0002bc50: 2e0a 2020 2020 2020 2020 2d20 5468 6573  ..        - Thes
+0002bc60: 6520 6669 6c65 7320 6172 6520 7361 7665  e files are save
+0002bc70: 6420 696e 2074 6865 2073 616d 6520 6469  d in the same di
+0002bc80: 7265 6374 6f72 7920 6173 2074 6865 206f  rectory as the o
+0002bc90: 7269 6769 6e61 6c20 6461 7461 2066 696c  riginal data fil
+0002bca0: 6573 2e0a 2020 2020 2020 2020 2222 220a  es..        """.
+0002bcb0: 2020 2020 2020 2020 7265 7375 6c74 5f74          result_t
+0002bcc0: 7970 6573 203d 205b 2276 616c 7565 225d  ypes = ["value"]
+0002bcd0: 0a20 2020 2020 2020 2066 6f72 2072 6573  .        for res
+0002bce0: 5f74 7970 6520 696e 2072 6573 756c 745f  _type in result_
+0002bcf0: 7479 7065 733a 0a20 2020 2020 2020 2020  types:.         
+0002bd00: 2020 2072 6573 5f70 6174 6820 3d20 7365     res_path = se
+0002bd10: 6c66 2e66 696c 655f 6461 7461 2e65 5f6d  lf.file_data.e_m
+0002bd20: 5f76 616c 7565 735f 666f 6c64 6572 5f70  _values_folder_p
+0002bd30: 6174 6820 6966 2072 6573 5f74 7970 6520  ath if res_type 
+0002bd40: 3d3d 2022 7661 6c75 6522 2065 6c73 6520  == "value" else 
+0002bd50: 4e6f 6e65 0a20 2020 2020 2020 2020 2020  None.           
+0002bd60: 2023 202e 6461 7420 6669 6c65 7320 696e   # .dat files in
+0002bd70: 7369 6465 2074 6865 2027 7661 6c75 6527  side the 'value'
+0002bd80: 2064 6972 6563 746f 7279 0a20 2020 2020   directory.     
+0002bd90: 2020 2020 2020 2061 6c6c 5f66 696c 6573         all_files
+0002bda0: 203d 206f 732e 6c69 7374 6469 7228 7265   = os.listdir(re
+0002bdb0: 735f 7061 7468 290a 2020 2020 2020 2020  s_path).        
+0002bdc0: 2020 2020 6461 745f 6669 6c65 7320 3d20      dat_files = 
+0002bdd0: 5b66 696c 6520 666f 7220 6669 6c65 2069  [file for file i
+0002bde0: 6e20 616c 6c5f 6669 6c65 7320 6966 2066  n all_files if f
+0002bdf0: 696c 652e 656e 6473 7769 7468 2827 2e64  ile.endswith('.d
+0002be00: 6174 2729 5d0a 2020 2020 2020 2020 2020  at')].          
+0002be10: 2020 2320 6669 6e64 696e 6720 7468 6520    # finding the 
+0002be20: 6176 6572 6167 6520 6f66 2065 7665 7279  average of every
+0002be30: 202e 6461 7420 6669 6c65 7320 696e 7369   .dat files insi
+0002be40: 6465 2074 6865 2027 7661 6c75 6527 2064  de the 'value' d
+0002be50: 6972 6563 746f 7279 0a20 2020 2020 2020  irectory.       
+0002be60: 2020 2020 2066 6f72 2064 6174 5f66 696c       for dat_fil
+0002be70: 6520 696e 2064 6174 5f66 696c 6573 3a0a  e in dat_files:.
+0002be80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002be90: 7265 735f 6e61 6d65 203d 2064 6174 5f66  res_name = dat_f
+0002bea0: 696c 652e 7265 706c 6163 6528 272e 6461  ile.replace('.da
+0002beb0: 7427 2c20 2727 290a 2020 2020 2020 2020  t', '').        
+0002bec0: 2020 2020 2020 2020 7469 6d65 5f73 7465          time_ste
+0002bed0: 7073 203d 205b 5d0a 2020 2020 2020 2020  ps = [].        
+0002bee0: 2020 2020 2020 2020 6461 7461 203d 205b          data = [
+0002bef0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+0002bf00: 2020 2320 5265 6164 696e 6720 6461 7461    # Reading data
+0002bf10: 2066 726f 6d20 7468 6520 6669 6c65 0a20   from the file. 
+0002bf20: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+0002bf30: 6974 6820 6f70 656e 286f 732e 7061 7468  ith open(os.path
+0002bf40: 2e6a 6f69 6e28 7265 735f 7061 7468 2c20  .join(res_path, 
+0002bf50: 6622 7b72 6573 5f6e 616d 657d 2e64 6174  f"{res_name}.dat
+0002bf60: 2229 2920 6173 2066 643a 0a20 2020 2020  ")) as fd:.     
+0002bf70: 2020 2020 2020 2020 2020 2020 2020 206c                 l
+0002bf80: 696e 6573 203d 2066 642e 7265 6164 6c69  ines = fd.readli
+0002bf90: 6e65 7328 290a 2020 2020 2020 2020 2020  nes().          
+0002bfa0: 2020 2020 2020 2320 4578 7472 6163 7469        # Extracti
+0002bfb0: 6e67 2074 696d 6520 7374 6570 7320 616e  ng time steps an
+0002bfc0: 6420 6461 7461 2076 616c 7565 7320 6672  d data values fr
+0002bfd0: 6f6d 2074 6865 2066 696c 650a 2020 2020  om the file.    
+0002bfe0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+0002bff0: 6c69 6e65 2069 6e20 6c69 6e65 733a 0a20  line in lines:. 
+0002c000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c010: 2020 206c 696e 655f 7661 6c75 6573 203d     line_values =
+0002c020: 206c 696e 652e 7370 6c69 7428 290a 2020   line.split().  
+0002c030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c040: 2020 6966 206c 656e 286c 696e 655f 7661    if len(line_va
+0002c050: 6c75 6573 2920 3d3d 2032 3a0a 2020 2020  lues) == 2:.    
+0002c060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c070: 2020 2020 7469 6d65 5f73 7465 7073 2e61      time_steps.a
+0002c080: 7070 656e 6428 666c 6f61 7428 6c69 6e65  ppend(float(line
+0002c090: 5f76 616c 7565 735b 305d 2929 0a20 2020  _values[0])).   
+0002c0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c0b0: 2020 2020 2064 6174 612e 6170 7065 6e64       data.append
+0002c0c0: 2866 6c6f 6174 286c 696e 655f 7661 6c75  (float(line_valu
+0002c0d0: 6573 5b31 5d29 290a 2020 2020 2020 2020  es[1])).        
+0002c0e0: 2020 2020 2020 2020 2320 6669 6e64 696e          # findin
+0002c0f0: 6720 7468 6520 696e 7465 6772 616c 2c20  g the integral, 
+0002c100: 616e 6420 7468 656e 2063 616c 6375 6c61  and then calcula
+0002c110: 7469 6e67 2074 6865 2061 7665 7261 6765  ting the average
+0002c120: 2028 696e 7465 6772 616c 2864 6174 6129   (integral(data)
+0002c130: 2f54 290a 2020 2020 2020 2020 2020 2020  /T).            
+0002c140: 2020 2020 696e 7465 6772 616c 203d 2066      integral = f
+0002c150: 662e 6361 6c63 756c 6174 655f 7175 6164  f.calculate_quad
+0002c160: 7261 7475 7265 5f69 6e74 6567 7261 6c28  rature_integral(
+0002c170: 7469 6d65 5f73 7465 7073 2c20 6461 7461  time_steps, data
+0002c180: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002c190: 2020 6176 6572 6167 6520 3d20 6666 2e63    average = ff.c
+0002c1a0: 616c 6375 6c61 7465 5f61 7665 7261 6765  alculate_average
+0002c1b0: 2869 6e74 6567 7261 6c2c 2074 696d 655f  (integral, time_
+0002c1c0: 7374 6570 7329 0a20 2020 2020 2020 2020  steps).         
+0002c1d0: 2020 2020 2020 2023 2077 7269 7465 2061         # write a
+0002c1e0: 7665 7261 6765 2066 696c 6573 0a20 2020  verage files.   
+0002c1f0: 2020 2020 2020 2020 2020 2020 206f 7574               out
+0002c200: 7075 745f 6669 6c65 6e61 6d65 203d 206f  put_filename = o
+0002c210: 732e 7061 7468 2e6a 6f69 6e28 7265 735f  s.path.join(res_
+0002c220: 7061 7468 2c20 6622 7b72 6573 5f6e 616d  path, f"{res_nam
+0002c230: 657d 5f61 7665 7261 6765 2e64 6174 2229  e}_average.dat")
+0002c240: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+0002c250: 2020 2320 7772 6974 696e 6720 6669 6c65    # writing file
+0002c260: 7320 666f 7220 6176 6572 6167 6520 7661  s for average va
+0002c270: 6c75 6573 0a20 2020 2020 2020 2020 2020  lues.           
+0002c280: 2020 2020 2077 6974 6820 6f70 656e 286f       with open(o
+0002c290: 7574 7075 745f 6669 6c65 6e61 6d65 2c20  utput_filename, 
+0002c2a0: 2777 2729 2061 7320 6669 6c65 3a0a 2020  'w') as file:.  
+0002c2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c2c0: 2020 6669 6c65 2e77 7269 7465 2873 7472    file.write(str
+0002c2d0: 2861 7665 7261 6765 2929 0a20 2020 2020  (average)).     
+0002c2e0: 2020 2020 2020 2020 2020 2023 2066 696e             # fin
+0002c2f0: 6469 6e67 2074 6865 2072 6d73 206f 6e6c  ding the rms onl
+0002c300: 7920 666f 7220 766f 6c74 6167 655f 5c64  y for voltage_\d
+0002c310: 2b2e 6461 7420 6669 6c65 2c20 6c69 6b65  +.dat file, like
+0002c320: 2028 766f 6c74 6167 655f 312c 2076 6f6c   (voltage_1, vol
+0002c330: 7461 6765 5f32 2061 6e64 2073 6f20 6f6e  tage_2 and so on
+0002c340: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0002c350: 2020 6966 2072 652e 6d61 7463 6828 7227    if re.match(r'
+0002c360: 566f 6c74 6167 655f 5c64 2b27 2c20 7265  Voltage_\d+', re
+0002c370: 735f 6e61 6d65 293a 0a20 2020 2020 2020  s_name):.       
+0002c380: 2020 2020 2020 2020 2020 2020 2069 6e74               int
+0002c390: 6567 7261 6c5f 7371 7561 7265 6420 3d20  egral_squared = 
+0002c3a0: 6666 2e63 616c 6375 6c61 7465 5f73 7175  ff.calculate_squ
+0002c3b0: 6172 6564 5f71 7561 6472 6174 7572 655f  ared_quadrature_
+0002c3c0: 696e 7465 6772 616c 2874 696d 655f 7374  integral(time_st
+0002c3d0: 6570 732c 2064 6174 6129 0a20 2020 2020  eps, data).     
+0002c3e0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0002c3f0: 6d73 203d 2066 662e 6361 6c63 756c 6174  ms = ff.calculat
+0002c400: 655f 726d 7328 696e 7465 6772 616c 5f73  e_rms(integral_s
+0002c410: 7175 6172 6564 2c20 7469 6d65 5f73 7465  quared, time_ste
+0002c420: 7073 290a 2020 2020 2020 2020 2020 2020  ps).            
+0002c430: 2020 2020 2020 2020 726d 735f 6f75 7470          rms_outp
+0002c440: 7574 5f66 696c 656e 616d 6520 3d20 6f73  ut_filename = os
+0002c450: 2e70 6174 682e 6a6f 696e 2872 6573 5f70  .path.join(res_p
+0002c460: 6174 682c 2066 227b 7265 735f 6e61 6d65  ath, f"{res_name
+0002c470: 7d5f 726d 732e 6461 7422 290a 2020 2020  }_rms.dat").    
+0002c480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c490: 7769 7468 206f 7065 6e28 726d 735f 6f75  with open(rms_ou
+0002c4a0: 7470 7574 5f66 696c 656e 616d 652c 2027  tput_filename, '
+0002c4b0: 7727 2920 6173 2066 696c 653a 0a20 2020  w') as file:.   
+0002c4c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c4d0: 2020 2020 2066 696c 652e 7772 6974 6528       file.write(
+0002c4e0: 7374 7228 726d 7329 290a 0a20 2020 2020  str(rms))..     
+0002c4f0: 2020 2020 2020 2023 2027 5769 6e64 696e         # 'Windin
+0002c500: 675f 6e27 2073 7562 6469 7265 6374 6f72  g_n' subdirector
+0002c510: 7920 2857 696e 6469 6e67 5f31 2c20 5769  y (Winding_1, Wi
+0002c520: 6e64 696e 675f 322c 202e 2e2e 6574 6329  nding_2, ...etc)
+0002c530: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0002c540: 2069 6e64 6578 2c20 5f20 696e 2065 6e75   index, _ in enu
+0002c550: 6d65 7261 7465 2873 656c 662e 7769 6e64  merate(self.wind
+0002c560: 696e 6773 2c20 7374 6172 743d 3129 3a0a  ings, start=1):.
 0002c570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c580: 2020 2020 2020 2020 2020 2020 2020 7469                ti
-0002c590: 6d65 7374 6570 732e 6170 7065 6e64 2866  mesteps.append(f
-0002c5a0: 6c6f 6174 286c 696e 655f 7661 6c75 6573  loat(line_values
-0002c5b0: 5b30 5d29 290a 2020 2020 2020 2020 2020  [0])).          
-0002c5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c5d0: 2020 2020 2020 6461 7461 2e61 7070 656e        data.appen
-0002c5e0: 6428 666c 6f61 7428 6c69 6e65 5f76 616c  d(float(line_val
-0002c5f0: 7565 735b 315d 2929 0a20 2020 2020 2020  ues[1])).       
-0002c600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c610: 2023 2066 696e 6469 6e67 2074 6865 2069   # finding the i
-0002c620: 6e74 6567 7261 6c2c 2061 6e64 2074 6865  ntegral, and the
-0002c630: 6e20 6361 6c63 756c 6174 696e 6720 7468  n calculating th
-0002c640: 6520 6176 6572 6167 6520 2869 6e74 6567  e average (integ
-0002c650: 7261 6c28 6461 7461 292f 5429 0a20 2020  ral(data)/T).   
-0002c660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c670: 2020 2020 2069 6e74 6567 7261 6c20 3d20       integral = 
-0002c680: 6666 2e63 616c 6375 6c61 7465 5f71 7561  ff.calculate_qua
-0002c690: 6472 6174 7572 655f 696e 7465 6772 616c  drature_integral
-0002c6a0: 2874 696d 6573 7465 7073 2c20 6461 7461  (timesteps, data
-0002c6b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002c6c0: 2020 2020 2020 2020 2020 6176 6572 6167            averag
-0002c6d0: 6520 3d20 6666 2e63 616c 6375 6c61 7465  e = ff.calculate
-0002c6e0: 5f61 7665 7261 6765 2869 6e74 6567 7261  _average(integra
-0002c6f0: 6c2c 2074 696d 6573 7465 7073 290a 2020  l, timesteps).  
-0002c700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c710: 2020 2020 2020 2320 7772 6974 6520 6176        # write av
-0002c720: 6572 6167 6520 6669 6c65 730a 2020 2020  erage files.    
-0002c730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c740: 2020 2020 6f75 7470 7574 5f66 696c 656e      output_filen
-0002c750: 616d 6520 3d20 6f73 2e70 6174 682e 6a6f  ame = os.path.jo
-0002c760: 696e 2877 696e 6469 6e67 5f66 6f6c 6465  in(winding_folde
-0002c770: 725f 7061 7468 2c20 6622 7b72 6573 5f6e  r_path, f"{res_n
-0002c780: 616d 657d 5f61 7665 7261 6765 2e64 6174  ame}_average.dat
-0002c790: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
-0002c7a0: 2020 2020 2020 2020 2020 2023 2077 7269             # wri
-0002c7b0: 7469 6e67 2066 696c 6573 2066 6f72 2061  ting files for a
-0002c7c0: 7665 7261 6765 2076 616c 7565 730a 2020  verage values.  
-0002c7d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c7e0: 2020 2020 2020 7769 7468 206f 7065 6e28        with open(
-0002c7f0: 6f75 7470 7574 5f66 696c 656e 616d 652c  output_filename,
-0002c800: 2027 7727 2920 6173 2066 696c 653a 0a20   'w') as file:. 
+0002c580: 7769 6e64 696e 675f 666f 6c64 6572 5f70  winding_folder_p
+0002c590: 6174 6820 3d20 6f73 2e70 6174 682e 6a6f  ath = os.path.jo
+0002c5a0: 696e 2872 6573 5f70 6174 682c 2066 2257  in(res_path, f"W
+0002c5b0: 696e 6469 6e67 5f7b 696e 6465 787d 2229  inding_{index}")
+0002c5c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c5d0: 2023 202e 6461 7420 6669 6c65 7320 696e   # .dat files in
+0002c5e0: 7369 6465 2027 5769 6e64 696e 675f 6e27  side 'Winding_n'
+0002c5f0: 2073 7562 6469 7265 6374 6f72 790a 2020   subdirectory.  
+0002c600: 2020 2020 2020 2020 2020 2020 2020 6966                if
+0002c610: 206f 732e 7061 7468 2e69 7364 6972 2877   os.path.isdir(w
+0002c620: 696e 6469 6e67 5f66 6f6c 6465 725f 7061  inding_folder_pa
+0002c630: 7468 293a 0a20 2020 2020 2020 2020 2020  th):.           
+0002c640: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+0002c650: 5f66 696c 6573 203d 206f 732e 6c69 7374  _files = os.list
+0002c660: 6469 7228 7769 6e64 696e 675f 666f 6c64  dir(winding_fold
+0002c670: 6572 5f70 6174 6829 0a20 2020 2020 2020  er_path).       
+0002c680: 2020 2020 2020 2020 2020 2020 2077 696e               win
+0002c690: 6469 6e67 5f64 6174 5f66 696c 6573 203d  ding_dat_files =
+0002c6a0: 205b 6669 6c65 2066 6f72 2066 696c 6520   [file for file 
+0002c6b0: 696e 2077 696e 6469 6e67 5f66 696c 6573  in winding_files
+0002c6c0: 2069 6620 6669 6c65 2e65 6e64 7377 6974   if file.endswit
+0002c6d0: 6828 272e 6461 7427 295d 0a20 2020 2020  h('.dat')].     
+0002c6e0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+0002c6f0: 2066 696e 6469 6e67 2074 6865 2061 7665   finding the ave
+0002c700: 7261 6765 206f 6620 6576 6572 7920 2e64  rage of every .d
+0002c710: 6174 2066 696c 6573 2069 6e73 6964 6520  at files inside 
+0002c720: 2757 696e 6469 6e67 5f6e 2720 7375 6264  'Winding_n' subd
+0002c730: 6972 6563 746f 7279 0a20 2020 2020 2020  irectory.       
+0002c740: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0002c750: 2077 696e 6469 6e67 5f64 6174 5f66 696c   winding_dat_fil
+0002c760: 6520 696e 2077 696e 6469 6e67 5f64 6174  e in winding_dat
+0002c770: 5f66 696c 6573 3a0a 2020 2020 2020 2020  _files:.        
+0002c780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c790: 7265 735f 6e61 6d65 203d 2077 696e 6469  res_name = windi
+0002c7a0: 6e67 5f64 6174 5f66 696c 652e 7265 706c  ng_dat_file.repl
+0002c7b0: 6163 6528 272e 6461 7427 2c20 2727 290a  ace('.dat', '').
+0002c7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c7d0: 2020 2020 2020 2020 7469 6d65 5f73 7465          time_ste
+0002c7e0: 7073 203d 205b 5d0a 2020 2020 2020 2020  ps = [].        
+0002c7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c800: 6461 7461 203d 205b 5d0a 2020 2020 2020  data = [].      
 0002c810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002c820: 2020 2020 2020 2020 2020 2066 696c 652e             file.
-0002c830: 7772 6974 6528 7374 7228 6176 6572 6167  write(str(averag
-0002c840: 6529 290a 0a20 2020 2020 2020 2023 2066  e))..        # f
-0002c850: 696e 6469 6e67 2074 6865 2061 7665 7261  inding the avera
-0002c860: 6765 2061 6e64 2052 4d53 206f 6620 6375  ge and RMS of cu
-0002c870: 7272 656e 7420 746f 2075 7365 2069 6e20  rrent to use in 
-0002c880: 6c6f 6720 6675 6e63 7469 6f6e 0a20 2020  log function.   
-0002c890: 2020 2020 2066 6f72 206e 756d 2069 6e20       for num in 
-0002c8a0: 7261 6e67 6528 6c65 6e28 7365 6c66 2e77  range(len(self.w
-0002c8b0: 696e 6469 6e67 7329 293a 0a20 2020 2020  indings)):.     
-0002c8c0: 2020 2020 2020 2069 6620 7365 6c66 2e63         if self.c
-0002c8d0: 7572 7265 6e74 5b6e 756d 5d3a 0a20 2020  urrent[num]:.   
-0002c8e0: 2020 2020 2020 2020 2020 2020 2023 2073               # s
-0002c8f0: 756d 2074 6865 2063 7572 7265 6e74 7320  um the currents 
-0002c900: 666f 7220 6576 6572 7920 7769 6e64 696e  for every windin
-0002c910: 670a 2020 2020 2020 2020 2020 2020 2020  g.              
-0002c920: 2020 7375 6d5f 6375 7272 656e 7420 3d20    sum_current = 
-0002c930: 7375 6d28 7365 6c66 2e63 7572 7265 6e74  sum(self.current
-0002c940: 5b6e 756d 5d29 0a20 2020 2020 2020 2020  [num]).         
-0002c950: 2020 2020 2020 2023 2066 696e 6469 6e67         # finding
-0002c960: 2074 6865 2061 7665 7261 6765 206f 6620   the average of 
-0002c970: 6375 7272 656e 7420 666f 7220 6576 6572  current for ever
-0002c980: 7920 7769 6e64 696e 6720 616e 6420 6164  y winding and ad
-0002c990: 6420 6974 2074 6f20 6c69 7374 2074 6f20  d it to list to 
-0002c9a0: 7573 6520 6974 2069 6e20 7772 6974 655f  use it in write_
-0002c9b0: 6c6f 6720 6675 6e63 7469 6f6e 0a20 2020  log function.   
-0002c9c0: 2020 2020 2020 2020 2020 2020 2061 7665               ave
-0002c9d0: 7261 6765 203d 2073 756d 5f63 7572 7265  rage = sum_curre
-0002c9e0: 6e74 202f 206c 656e 2873 656c 662e 6375  nt / len(self.cu
-0002c9f0: 7272 656e 745b 6e75 6d5d 290a 2020 2020  rrent[num]).    
-0002ca00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0002ca10: 2e61 7665 7261 6765 5f63 7572 7265 6e74  .average_current
-0002ca20: 732e 6170 7065 6e64 2861 7665 7261 6765  s.append(average
-0002ca30: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002ca40: 2020 2320 6669 6e64 2074 6865 2072 6d73    # find the rms
-0002ca50: 2066 6f72 2063 7572 7265 6e74 205b 7371   for current [sq
-0002ca60: 7274 2869 6e74 6567 7261 6c28 6461 7461  rt(integral(data
-0002ca70: 29c2 b22f 545d 0a20 2020 2020 2020 2020  )../T].         
-0002ca80: 2020 2020 2020 2073 7175 6172 6564 5f69         squared_i
-0002ca90: 6e74 6567 7261 6c20 3d20 6666 2e63 616c  ntegral = ff.cal
-0002caa0: 6375 6c61 7465 5f73 7175 6172 6564 5f71  culate_squared_q
-0002cab0: 7561 6472 6174 7572 655f 696e 7465 6772  uadrature_integr
-0002cac0: 616c 2873 656c 662e 7469 6d65 2c20 7365  al(self.time, se
-0002cad0: 6c66 2e63 7572 7265 6e74 5b6e 756d 5d29  lf.current[num])
-0002cae0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002caf0: 2023 2066 696e 6469 6e67 2074 6865 2072   # finding the r
-0002cb00: 6d73 206f 6620 6375 7272 656e 7420 666f  ms of current fo
-0002cb10: 7220 6576 6572 7920 7769 6e64 696e 6720  r every winding 
-0002cb20: 616e 6420 6164 6420 6974 2074 6f20 6c69  and add it to li
-0002cb30: 7374 2074 6f20 7573 6520 6974 2069 6e20  st to use it in 
-0002cb40: 7772 6974 655f 6c6f 6720 6675 6e63 7469  write_log functi
-0002cb50: 6f6e 0a20 2020 2020 2020 2020 2020 2020  on.             
-0002cb60: 2020 2069 5f72 6d73 203d 2066 662e 6361     i_rms = ff.ca
-0002cb70: 6c63 756c 6174 655f 726d 7328 7371 7561  lculate_rms(squa
-0002cb80: 7265 645f 696e 7465 6772 616c 2c20 7365  red_integral, se
-0002cb90: 6c66 2e74 696d 6529 0a20 2020 2020 2020  lf.time).       
-0002cba0: 2020 2020 2020 2020 2073 656c 662e 726d           self.rm
-0002cbb0: 735f 6375 7272 656e 7473 2e61 7070 656e  s_currents.appen
-0002cbc0: 6428 695f 726d 7329 0a0a 2020 2020 6465  d(i_rms)..    de
-0002cbd0: 6620 6c6f 6164 5f72 6573 756c 7428 7365  f load_result(se
-0002cbe0: 6c66 2c20 7265 735f 6e61 6d65 3a20 7374  lf, res_name: st
-0002cbf0: 722c 2072 6573 5f74 7970 653a 2073 7472  r, res_type: str
-0002cc00: 203d 2022 7661 6c75 6522 2c20 6c61 7374   = "value", last
-0002cc10: 5f6e 3a20 696e 7420 3d20 312c 2070 6172  _n: int = 1, par
-0002cc20: 743a 2073 7472 203d 2022 7265 616c 222c  t: str = "real",
-0002cc30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002cc40: 2020 2020 2070 6f73 6974 696f 6e3a 2069       position: i
-0002cc50: 6e74 203d 2030 2c20 6176 6572 6167 653a  nt = 0, average:
-0002cc60: 2062 6f6f 6c20 3d20 4661 6c73 652c 2072   bool = False, r
-0002cc70: 6d73 3a20 626f 6f6c 203d 2046 616c 7365  ms: bool = False
-0002cc80: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-0002cc90: 2020 2020 2020 204c 6f61 6420 7468 6520         Load the 
-0002cca0: 226c 6173 745f 6e22 2070 6172 616d 6574  "last_n" paramet
-0002ccb0: 6572 7320 6672 6f6d 2061 2072 6573 756c  ers from a resul
-0002ccc0: 7420 6669 6c65 206f 6620 7468 6520 7363  t file of the sc
-0002ccd0: 616c 6172 2071 7561 6e74 6974 7920 2272  alar quantity "r
-0002cce0: 6573 5f6e 616d 6522 2e0a 0a20 2020 2020  es_name"...     
-0002ccf0: 2020 2045 6974 6865 7220 7468 6520 7265     Either the re
-0002cd00: 616c 206f 7220 696d 6167 696e 6172 7920  al or imaginary 
-0002cd10: 7061 7274 2063 616e 2062 6520 6368 6f73  part can be chos
-0002cd20: 656e 2e0a 0a20 2020 2020 2020 203a 7061  en...        :pa
-0002cd30: 7261 6d20 7061 7274 3a20 2272 6561 6c22  ram part: "real"
-0002cd40: 206f 7220 2269 6d61 6769 6e61 7279 2220   or "imaginary" 
-0002cd50: 7061 7274 2063 616e 2062 6520 6368 6f73  part can be chos
-0002cd60: 656e 0a20 2020 2020 2020 203a 7061 7261  en.        :para
-0002cd70: 6d20 7265 735f 6e61 6d65 3a20 6e61 6d65  m res_name: name
-0002cd80: 206f 6620 7468 6520 7175 616e 7469 7479   of the quantity
-0002cd90: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-0002cda0: 7265 735f 7479 7065 3a20 7479 7065 206f  res_type: type o
-0002cdb0: 6620 7468 6520 7175 616e 7469 7479 3a20  f the quantity: 
-0002cdc0: 2276 616c 7565 2220 6f72 2022 6369 7263  "value" or "circ
-0002cdd0: 7569 7422 0a20 2020 2020 2020 203a 7061  uit".        :pa
-0002cde0: 7261 6d20 6c61 7374 5f6e 3a20 4e75 6d62  ram last_n: Numb
-0002cdf0: 6572 206f 6620 7061 7261 6d65 7465 7273  er of parameters
-0002ce00: 2074 6f20 6265 206c 6f61 6465 640a 2020   to be loaded.  
-0002ce10: 2020 2020 2020 3a70 6172 616d 2070 6f73        :param pos
-0002ce20: 6974 696f 6e3a 0a20 2020 2020 2020 203a  ition:.        :
-0002ce30: 7265 7475 726e 3a20 6c61 7374 5f6e 2065  return: last_n e
-0002ce40: 6e74 7269 6573 206f 6620 7468 6520 6368  ntries of the ch
-0002ce50: 6f73 656e 2072 6573 756c 7420 6669 6c65  osen result file
-0002ce60: 0a20 2020 2020 2020 203a 7274 7970 653a  .        :rtype:
-0002ce70: 206c 6973 740a 2020 2020 2020 2020 3a70   list.        :p
-0002ce80: 6172 616d 2061 7665 7261 6765 3a20 6176  aram average: av
-0002ce90: 6572 6167 6520 7265 7375 6c74 206f 7220  erage result or 
-0002cea0: 6e6f 742c 2064 6566 696e 6564 2066 616c  not, defined fal
-0002ceb0: 7365 0a20 2020 2020 2020 203a 7479 7065  se.        :type
-0002cec0: 2061 7665 7261 6765 3a20 626f 6f6c 0a20   average: bool. 
-0002ced0: 2020 2020 2020 203a 7061 7261 6d20 726d         :param rm
-0002cee0: 733a 2072 6d73 2072 6573 756c 7420 6f72  s: rms result or
-0002cef0: 206e 6f74 2c20 6465 6669 6e65 6420 6661   not, defined fa
-0002cf00: 6c73 650a 2020 2020 2020 2020 3a74 7970  lse.        :typ
-0002cf10: 6520 726d 733a 2062 6f6f 6c0a 2020 2020  e rms: bool.    
-0002cf20: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0002cf30: 6966 2072 6573 5f74 7970 6520 3d3d 2022  if res_type == "
-0002cf40: 7661 6c75 6522 3a0a 2020 2020 2020 2020  value":.        
-0002cf50: 2020 2020 7265 735f 7061 7468 203d 2073      res_path = s
-0002cf60: 656c 662e 6669 6c65 5f64 6174 612e 655f  elf.file_data.e_
-0002cf70: 6d5f 7661 6c75 6573 5f66 6f6c 6465 725f  m_values_folder_
-0002cf80: 7061 7468 0a20 2020 2020 2020 2065 6c69  path.        eli
-0002cf90: 6620 7265 735f 7479 7065 203d 3d20 2263  f res_type == "c
-0002cfa0: 6972 6375 6974 223a 0a20 2020 2020 2020  ircuit":.       
-0002cfb0: 2020 2020 2072 6573 5f70 6174 6820 3d20       res_path = 
-0002cfc0: 7365 6c66 2e66 696c 655f 6461 7461 2e65  self.file_data.e
-0002cfd0: 5f6d 5f63 6972 6375 6974 5f66 6f6c 6465  _m_circuit_folde
-0002cfe0: 725f 7061 7468 0a20 2020 2020 2020 2065  r_path.        e
-0002cff0: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002d000: 2072 6169 7365 2056 616c 7565 4572 726f   raise ValueErro
-0002d010: 7228 6622 496e 7661 6c69 6420 7265 735f  r(f"Invalid res_
-0002d020: 7479 7065 3a20 7b72 6573 5f74 7970 657d  type: {res_type}
-0002d030: 2229 0a0a 2020 2020 2020 2020 6966 2073  ")..        if s
-0002d040: 656c 662e 7369 6d75 6c61 7469 6f6e 5f74  elf.simulation_t
-0002d050: 7970 6520 3d3d 2053 696d 756c 6174 696f  ype == Simulatio
-0002d060: 6e54 7970 652e 4672 6571 446f 6d61 696e  nType.FreqDomain
-0002d070: 3a0a 0a20 2020 2020 2020 2020 2020 2077  :..            w
-0002d080: 6974 6820 6f70 656e 286f 732e 7061 7468  ith open(os.path
-0002d090: 2e6a 6f69 6e28 7265 735f 7061 7468 2c20  .join(res_path, 
-0002d0a0: 6622 7b72 6573 5f6e 616d 657d 2e64 6174  f"{res_name}.dat
-0002d0b0: 2229 2920 6173 2066 643a 0a20 2020 2020  ")) as fd:.     
-0002d0c0: 2020 2020 2020 2020 2020 206c 696e 6573             lines
-0002d0d0: 203d 2066 642e 7265 6164 6c69 6e65 7328   = fd.readlines(
-0002d0e0: 295b 2d6c 6173 745f 6e3a 5d0a 2020 2020  )[-last_n:].    
-0002d0f0: 2020 2020 2020 2020 2020 2020 6966 2070              if p
-0002d100: 6172 7420 3d3d 2022 7265 616c 223a 0a20  art == "real":. 
-0002d110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d120: 2020 2072 6573 756c 7420 3d20 5b66 6c6f     result = [flo
-0002d130: 6174 286c 696e 652e 7370 6c69 7428 7365  at(line.split(se
-0002d140: 703d 2720 2729 5b31 202b 2032 202a 2070  p=' ')[1 + 2 * p
-0002d150: 6f73 6974 696f 6e20 2b20 315d 2920 666f  osition + 1]) fo
-0002d160: 7220 6e2c 206c 696e 6520 696e 2065 6e75  r n, line in enu
-0002d170: 6d65 7261 7465 286c 696e 6573 295d 0a20  merate(lines)]. 
-0002d180: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0002d190: 6620 7061 7274 203d 3d20 2269 6d61 6769  f part == "imagi
-0002d1a0: 6e61 7279 223a 0a20 2020 2020 2020 2020  nary":.         
-0002d1b0: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0002d1c0: 7420 3d20 5b66 6c6f 6174 286c 696e 652e  t = [float(line.
-0002d1d0: 7370 6c69 7428 7365 703d 2720 2729 5b32  split(sep=' ')[2
-0002d1e0: 202b 2032 202a 2070 6f73 6974 696f 6e20   + 2 * position 
-0002d1f0: 2b20 315d 2920 666f 7220 6e2c 206c 696e  + 1]) for n, lin
-0002d200: 6520 696e 2065 6e75 6d65 7261 7465 286c  e in enumerate(l
-0002d210: 696e 6573 295d 0a0a 2020 2020 2020 2020  ines)]..        
-0002d220: 656c 6966 2073 656c 662e 7369 6d75 6c61  elif self.simula
-0002d230: 7469 6f6e 5f74 7970 6520 3d3d 2053 696d  tion_type == Sim
-0002d240: 756c 6174 696f 6e54 7970 652e 5469 6d65  ulationType.Time
-0002d250: 446f 6d61 696e 3a0a 0a20 2020 2020 2020  Domain:..       
-0002d260: 2020 2020 2069 6620 6176 6572 6167 653a       if average:
-0002d270: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-0002d280: 2020 7769 7468 206f 7065 6e28 6f73 2e70    with open(os.p
-0002d290: 6174 682e 6a6f 696e 2872 6573 5f70 6174  ath.join(res_pat
-0002d2a0: 682c 2066 227b 7265 735f 6e61 6d65 7d5f  h, f"{res_name}_
-0002d2b0: 6176 6572 6167 652e 6461 7422 2929 2061  average.dat")) a
-0002d2c0: 7320 6664 3a0a 2020 2020 2020 2020 2020  s fd:.          
-0002d2d0: 2020 2020 2020 2020 2020 6c69 6e65 203d            line =
-0002d2e0: 2066 642e 7265 6164 6c69 6e65 2829 2e73   fd.readline().s
-0002d2f0: 7472 6970 2829 0a20 2020 2020 2020 2020  trip().         
-0002d300: 2020 2020 2020 2020 2020 2072 6573 756c             resul
-0002d310: 7420 3d20 5b66 6c6f 6174 286c 696e 6529  t = [float(line)
-0002d320: 5d0a 0a20 2020 2020 2020 2020 2020 2065  ]..            e
-0002d330: 6c69 6620 726d 733a 0a20 2020 2020 2020  lif rms:.       
-0002d340: 2020 2020 2020 2020 2077 6974 6820 6f70           with op
-0002d350: 656e 286f 732e 7061 7468 2e6a 6f69 6e28  en(os.path.join(
-0002d360: 7265 735f 7061 7468 2c20 6622 7b72 6573  res_path, f"{res
-0002d370: 5f6e 616d 657d 5f72 6d73 2e64 6174 2229  _name}_rms.dat")
-0002d380: 2920 6173 2066 643a 0a20 2020 2020 2020  ) as fd:.       
-0002d390: 2020 2020 2020 2020 2020 2020 206c 696e               lin
-0002d3a0: 6520 3d20 6664 2e72 6561 646c 696e 6528  e = fd.readline(
-0002d3b0: 292e 7374 7269 7028 290a 2020 2020 2020  ).strip().      
-0002d3c0: 2020 2020 2020 2020 2020 2020 2020 7265                re
-0002d3d0: 7375 6c74 203d 205b 666c 6f61 7428 6c69  sult = [float(li
-0002d3e0: 6e65 295d 0a20 2020 2020 2020 2020 2020  ne)].           
-0002d3f0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002d400: 2020 2020 2020 2023 2074 696d 6573 7465         # timeste
-0002d410: 7073 203d 205b 5d0a 2020 2020 2020 2020  ps = [].        
-0002d420: 2020 2020 2020 2020 2320 496e 6974 6961          # Initia
-0002d430: 6c69 7a69 6e67 0a20 2020 2020 2020 2020  lizing.         
-0002d440: 2020 2020 2020 2064 6174 6120 3d20 5b5d         data = []
-0002d450: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002d460: 2077 6974 6820 6f70 656e 286f 732e 7061   with open(os.pa
-0002d470: 7468 2e6a 6f69 6e28 7265 735f 7061 7468  th.join(res_path
-0002d480: 2c20 6622 7b72 6573 5f6e 616d 657d 2e64  , f"{res_name}.d
-0002d490: 6174 2229 2920 6173 2066 643a 0a20 2020  at")) as fd:.   
-0002d4a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d4b0: 206c 696e 6573 203d 2066 642e 7265 6164   lines = fd.read
-0002d4c0: 6c69 6e65 7328 290a 2020 2020 2020 2020  lines().        
-0002d4d0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-0002d4e0: 6c69 6e65 2069 6e20 6c69 6e65 733a 0a20  line in lines:. 
-0002d4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d500: 2020 2020 2020 206c 696e 655f 7661 6c75         line_valu
-0002d510: 6573 203d 206c 696e 652e 7370 6c69 7428  es = line.split(
-0002d520: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002d530: 2020 2020 2020 2020 2020 6966 206c 656e            if len
-0002d540: 286c 696e 655f 7661 6c75 6573 2920 3d3d  (line_values) ==
-0002d550: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
-0002d560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d570: 2320 7469 6d65 7374 6570 732e 6170 7065  # timesteps.appe
-0002d580: 6e64 2866 6c6f 6174 286c 696e 655f 7661  nd(float(line_va
-0002d590: 6c75 6573 5b30 5d29 290a 2020 2020 2020  lues[0])).      
-0002d5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002d5b0: 2020 2020 2020 6461 7461 2e61 7070 656e        data.appen
-0002d5c0: 6428 666c 6f61 7428 6c69 6e65 5f76 616c  d(float(line_val
-0002d5d0: 7565 735b 315d 2929 0a0a 2020 2020 2020  ues[1]))..      
-0002d5e0: 2020 2020 2020 2020 2020 7265 7375 6c74            result
-0002d5f0: 203d 206c 6973 7428 7a69 7028 6461 7461   = list(zip(data
-0002d600: 2929 2020 2320 5265 7475 726e 7320 6c69  ))  # Returns li
-0002d610: 7374 206f 6620 2874 696d 652c 2064 6174  st of (time, dat
-0002d620: 6129 2070 6169 7273 0a0a 2020 2020 2020  a) pairs..      
-0002d630: 2020 7265 7475 726e 2072 6573 756c 740a    return result.
-0002d640: 0a20 2020 2023 2020 2d20 202d 2020 2d20  .    #  -  -  - 
-0002d650: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-0002d660: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-0002d670: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0002d680: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-0002d690: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-0002d6a0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0002d6b0: 202d 2020 2d20 202d 0a20 2020 2023 204c   -  -  -.    # L
-0002d6c0: 6974 7a20 4170 7072 6f78 696d 6174 696f  itz Approximatio
-0002d6d0: 6e20 5b69 6e74 6572 6e61 6c20 6d65 7468  n [internal meth
-0002d6e0: 6f64 735d 0a20 2020 2064 6566 2067 656e  ods].    def gen
-0002d6f0: 6572 6174 655f 6c6f 6164 5f6c 6974 7a5f  erate_load_litz_
-0002d700: 6170 7072 6f78 696d 6174 696f 6e5f 7061  approximation_pa
-0002d710: 7261 6d65 7465 7273 2873 656c 6629 3a0a  rameters(self):.
-0002d720: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0002d730: 2020 2020 4465 7465 726d 696e 6520 7468      Determine th
-0002d740: 6520 6c69 747a 2d61 7070 726f 7869 6d61  e litz-approxima
-0002d750: 7469 6f6e 2063 6f65 6666 6963 6965 6e74  tion coefficient
-0002d760: 732e 0a0a 2020 2020 2020 2020 4368 6563  s...        Chec
-0002d770: 6b73 2069 6620 6c69 747a 2d61 7070 726f  ks if litz-appro
-0002d780: 7869 6d61 7469 6f6e 2070 6172 616d 6574  ximation paramet
-0002d790: 6572 7320 6578 6973 7473 2e20 496e 2063  ers exists. In c
-0002d7a0: 6173 6520 6f66 206e 6f6e 2d65 7869 7374  ase of non-exist
-0002d7b0: 696e 6720 6c69 747a 2d70 6172 616d 6574  ing litz-paramet
-0002d7c0: 6572 7320 666f 7220 7468 6520 6365 7274  ers for the cert
-0002d7d0: 6169 6e0a 2020 2020 2020 2020 6c69 747a  ain.        litz
-0002d7e0: 2c20 7468 6520 6c69 747a 2070 6172 616d  , the litz param
-0002d7f0: 6574 6572 7320 6172 6520 6765 6e65 7261  eters are genera
-0002d800: 7465 6420 6469 7265 6374 6c79 0a20 2020  ted directly.   
-0002d810: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-0002d820: 2066 6f72 206e 756d 2069 6e20 7261 6e67   for num in rang
-0002d830: 6528 6c65 6e28 7365 6c66 2e77 696e 6469  e(len(self.windi
-0002d840: 6e67 7329 293a 0a20 2020 2020 2020 2020  ngs)):.         
-0002d850: 2020 2069 6620 7365 6c66 2e77 696e 6469     if self.windi
-0002d860: 6e67 735b 6e75 6d5d 2e63 6f6e 6475 6374  ngs[num].conduct
-0002d870: 6f72 5f74 7970 6520 3d3d 2043 6f6e 6475  or_type == Condu
-0002d880: 6374 6f72 5479 7065 2e52 6f75 6e64 4c69  ctorType.RoundLi
-0002d890: 747a 3a0a 2020 2020 2020 2020 2020 2020  tz:.            
-0002d8a0: 2020 2020 2320 2d2d 2d0a 2020 2020 2020      # ---.      
-0002d8b0: 2020 2020 2020 2020 2020 2320 4c69 747a            # Litz
-0002d8c0: 2041 7070 726f 7869 6d61 7469 6f6e 2043   Approximation C
-0002d8d0: 6f65 6666 6963 6965 6e74 7320 7765 7265  oefficients were
-0002d8e0: 2063 7265 6174 6564 2077 6974 6820 3420   created with 4 
-0002d8f0: 6c61 7965 7273 0a20 2020 2020 2020 2020  layers.         
-0002d900: 2020 2020 2020 2023 2054 6861 7427 7320         # That's 
-0002d910: 7768 7920 6865 7265 2061 2068 6172 642d  why here a hard-
-0002d920: 636f 6465 6420 3420 6973 2069 6d70 6c65  coded 4 is imple
-0002d930: 6d65 6e74 6564 0a20 2020 2020 2020 2020  mented.         
-0002d940: 2020 2020 2020 2023 2069 6620 6f73 2e70         # if os.p
-0002d950: 6174 682e 6973 6669 6c65 2873 656c 662e  ath.isfile(self.
-0002d960: 7061 7468 202b 0a20 2020 2020 2020 2020  path +.         
-0002d970: 2020 2020 2020 2023 2066 222f 5374 7261         # f"/Stra
-0002d980: 6e64 735f 436f 6566 6669 6369 656e 7473  nds_Coefficients
-0002d990: 2f63 6f65 6666 2f70 425f 5253 5f6c 617b  /coeff/pB_RS_la{
-0002d9a0: 7365 6c66 2e77 696e 6469 6e67 735b 6e75  self.windings[nu
-0002d9b0: 6d5d 2e66 667d 5f7b 7365 6c66 2e6e 5f6c  m].ff}_{self.n_l
-0002d9c0: 6179 6572 735b 6e75 6d5d 7d6c 6179 6572  ayers[num]}layer
-0002d9d0: 2e64 6174 2229 3a0a 2020 2020 2020 2020  .dat"):.        
-0002d9e0: 2020 2020 2020 2020 6966 206f 732e 7061          if os.pa
-0002d9f0: 7468 2e65 7869 7374 7328 6f73 2e70 6174  th.exists(os.pat
-0002da00: 682e 6a6f 696e 2873 656c 662e 6669 6c65  h.join(self.file
-0002da10: 5f64 6174 612e 655f 6d5f 7374 7261 6e64  _data.e_m_strand
-0002da20: 735f 636f 6566 6669 6369 656e 7473 5f66  s_coefficients_f
-0002da30: 6f6c 6465 725f 7061 7468 2c20 2263 6f65  older_path, "coe
-0002da40: 6666 222c 0a20 2020 2020 2020 2020 2020  ff",.           
-0002da50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002da60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002da70: 2020 2020 6622 7042 5f52 535f 6c61 7b73      f"pB_RS_la{s
-0002da80: 656c 662e 7769 6e64 696e 6773 5b6e 756d  elf.windings[num
-0002da90: 5d2e 6666 7d5f 346c 6179 6572 2e64 6174  ].ff}_4layer.dat
-0002daa0: 2229 293a 0a20 2020 2020 2020 2020 2020  ")):.           
-0002dab0: 2020 2020 2020 2020 2073 656c 662e 6665           self.fe
-0002dac0: 6d6d 745f 7072 696e 7428 2243 6f65 6666  mmt_print("Coeff
-0002dad0: 6963 6965 6e74 7320 666f 7220 7374 616e  icients for stan
-0002dae0: 6473 2061 7070 726f 7869 6d61 7469 6f6e  ds approximation
-0002daf0: 2061 7265 2066 6f75 6e64 2e22 290a 0a20   are found.").. 
-0002db00: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-0002db10: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-0002db20: 2020 2020 2020 2020 2023 2052 6f75 6e64           # Round
-0002db30: 696e 6720 5820 746f 2066 6974 2069 7420  ing X to fit it 
-0002db40: 7769 7468 2063 6f72 7265 7370 6f6e 6469  with correspondi
-0002db50: 6e67 2070 6172 616d 6574 6572 7320 6672  ng parameters fr
-0002db60: 6f6d 2074 6865 2064 6174 6162 6173 650a  om the database.
-0002db70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002db80: 2020 2020 5820 3d20 7365 6c66 2e72 6564      X = self.red
-0002db90: 5f66 7265 715b 6e75 6d5d 0a20 2020 2020  _freq[num].     
-0002dba0: 2020 2020 2020 2020 2020 2020 2020 2058                 X
-0002dbb0: 203d 206e 702e 6172 6f75 6e64 2858 2c20   = np.around(X, 
-0002dbc0: 6465 6369 6d61 6c73 3d33 290a 2020 2020  decimals=3).    
-0002dbd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002dbe0: 7365 6c66 2e66 656d 6d74 5f70 7269 6e74  self.femmt_print
-0002dbf0: 2866 2252 6f75 6e64 6564 2052 6564 7563  (f"Rounded Reduc
-0002dc00: 6564 2066 7265 7175 656e 6379 2058 203d  ed frequency X =
-0002dc10: 207b 587d 2229 0a20 2020 2020 2020 2020   {X}").         
-0002dc20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0002dc30: 6372 6561 7465 5f73 7472 616e 645f 636f  create_strand_co
-0002dc40: 6566 6628 6e75 6d29 0a0a 2020 2020 6465  eff(num)..    de
-0002dc50: 6620 6372 6561 7465 5f73 7472 616e 645f  f create_strand_
-0002dc60: 636f 6566 6628 7365 6c66 2c20 7769 6e64  coeff(self, wind
-0002dc70: 696e 675f 6e75 6d62 6572 3a20 696e 7429  ing_number: int)
-0002dc80: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
-0002dc90: 2020 2222 220a 2020 2020 2020 2020 4372    """.        Cr
-0002dca0: 6561 7465 2074 6865 2069 6e69 7469 616c  eate the initial
-0002dcb0: 2073 7472 616e 6420 636f 6566 6669 6369   strand coeffici
-0002dcc0: 656e 7473 2066 6f72 2061 2063 6572 7461  ents for a certa
-0002dcd0: 696e 206c 6974 7a20 7769 7265 2e0a 0a20  in litz wire... 
-0002dce0: 2020 2020 2020 2054 6869 7320 6675 6e63         This func
-0002dcf0: 7469 6f6e 2063 6f6d 6573 2069 6e74 6f20  tion comes into 
-0002dd00: 6163 636f 756e 7420 696e 2063 6173 6520  account in case 
-0002dd10: 6f66 2074 6865 206c 6974 7a2d 636f 6566  of the litz-coef
-0002dd20: 6669 6369 656e 7473 2061 7265 206e 6f74  ficients are not
-0002dd30: 206b 6e6f 776e 2073 6f20 6661 722e 0a20   known so far.. 
-0002dd40: 2020 2020 2020 2041 6674 6572 2067 656e         After gen
-0002dd50: 6572 6174 696e 6720 7468 6520 6c69 747a  erating the litz
-0002dd60: 2d63 6f65 6666 6963 6965 6e74 732c 2074  -coefficients, t
-0002dd70: 6865 2072 6573 756c 7473 2061 7265 2073  he results are s
-0002dd80: 746f 7265 6420 746f 2061 766f 6964 2061  tored to avoid a
-0002dd90: 2073 6563 6f6e 6420 7469 6d65 2d63 6f6e   second time-con
-0002dda0: 7375 6d69 6e67 0a20 2020 2020 2020 2073  suming.        s
-0002ddb0: 7472 616e 6420 636f 6566 6669 6369 656e  trand coefficien
-0002ddc0: 7473 2067 656e 6572 6174 696f 6e2e 0a0a  ts generation...
-0002ddd0: 2020 2020 2020 2020 5468 6973 2066 756e          This fun
-0002dde0: 6374 696f 6e20 7365 6e64 7320 636f 6d6d  ction sends comm
-0002ddf0: 616e 6473 2076 6961 2074 6578 742d 6669  ands via text-fi
-0002de00: 6c65 2074 6f20 676d 7368 2074 6f20 6765  le to gmsh to ge
-0002de10: 6e65 7261 7465 2074 6865 2073 7472 616e  nerate the stran
-0002de20: 6420 636f 6566 6669 6369 656e 7473 2e20  d coefficients. 
-0002de30: 5468 6520 6f6e 656c 6162 2028 676d 7368  The onelab (gmsh
-0002de40: 2920 636c 6965 6e74 0a20 2020 2020 2020  ) client.       
-0002de50: 2069 7320 6765 6e65 7261 7465 6420 696e   is generated in
-0002de60: 2061 206e 6577 2069 6e73 7461 6e63 652e   a new instance.
-0002de70: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0002de80: 2077 696e 6469 6e67 5f6e 756d 6265 723a   winding_number:
-0002de90: 2057 696e 6469 6e67 206e 756d 6265 720a   Winding number.
-0002dea0: 2020 2020 2020 2020 3a74 7970 6520 7769          :type wi
-0002deb0: 6e64 696e 675f 6e75 6d62 6572 3a20 696e  nding_number: in
-0002dec0: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-0002ded0: 2020 2020 2020 7365 6c66 2e66 656d 6d74        self.femmt
-0002dee0: 5f70 7269 6e74 2822 5c6e 220a 2020 2020  _print("\n".    
-0002def0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002df00: 2020 2020 2022 5072 652d 5369 6d75 6c61       "Pre-Simula
-0002df10: 7469 6f6e 5c6e 220a 2020 2020 2020 2020  tion\n".        
-0002df20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002df30: 2022 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   "--------------
-0002df40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002df50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d5c 6e22 0a20  -----------\n". 
-0002df60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002df70: 2020 2020 2020 2020 2243 7265 6174 6520          "Create 
-0002df80: 636f 6566 6669 6369 656e 7473 2066 6f72  coefficients for
-0002df90: 2073 7472 616e 6473 2061 7070 726f 7869   strands approxi
-0002dfa0: 6d61 7469 6f6e 5c6e 2229 0a0a 2020 2020  mation\n")..    
-0002dfb0: 2020 2020 7465 7874 5f66 696c 6520 3d20      text_file = 
-0002dfc0: 6f70 656e 286f 732e 7061 7468 2e6a 6f69  open(os.path.joi
-0002dfd0: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
-0002dfe0: 2e65 5f6d 5f73 7472 616e 6473 5f63 6f65  .e_m_strands_coe
-0002dff0: 6666 6963 6965 6e74 735f 666f 6c64 6572  fficients_folder
-0002e000: 5f70 6174 682c 2022 5072 6550 6172 616d  _path, "PreParam
-0002e010: 6574 6572 2e70 726f 2229 2c20 2277 2229  eter.pro"), "w")
-0002e020: 0a0a 2020 2020 2020 2020 2320 4c69 747a  ..        # Litz
-0002e030: 2041 7070 726f 7869 6d61 7469 6f6e 2043   Approximation C
-0002e040: 6f65 6666 6963 6965 6e74 7320 6172 6520  oefficients are 
-0002e050: 6372 6561 7465 6420 7769 7468 2034 206c  created with 4 l
-0002e060: 6179 6572 730a 2020 2020 2020 2020 2320  ayers.        # 
-0002e070: 5468 6174 2773 2077 6879 2068 6572 6520  That's why here 
-0002e080: 6120 6861 7264 2d63 6f64 6564 2034 2069  a hard-coded 4 i
-0002e090: 7320 696d 706c 656d 656e 7465 640a 2020  s implemented.  
-0002e0a0: 2020 2020 2020 2320 7465 7874 5f66 696c        # text_fil
-0002e0b0: 652e 7772 6974 6528 6622 4e62 724c 6179  e.write(f"NbrLay
-0002e0c0: 6572 7320 3d20 7b73 656c 662e 6e5f 6c61  ers = {self.n_la
-0002e0d0: 7965 7273 5b6e 756d 5d7d 3b5c 6e22 290a  yers[num]};\n").
-0002e0e0: 2020 2020 2020 2020 7465 7874 5f66 696c          text_fil
-0002e0f0: 652e 7772 6974 6528 224e 6272 4c61 7965  e.write("NbrLaye
-0002e100: 7273 203d 2034 3b5c 6e22 290a 2020 2020  rs = 4;\n").    
-0002e110: 2020 2020 7465 7874 5f66 696c 652e 7772      text_file.wr
-0002e120: 6974 6528 6622 4669 6c6c 203d 207b 7365  ite(f"Fill = {se
-0002e130: 6c66 2e77 696e 6469 6e67 735b 7769 6e64  lf.windings[wind
-0002e140: 696e 675f 6e75 6d62 6572 5d2e 6666 7d3b  ing_number].ff};
-0002e150: 5c6e 2229 0a20 2020 2020 2020 2074 6578  \n").        tex
-0002e160: 745f 6669 6c65 2e77 7269 7465 2866 2252  t_file.write(f"R
-0002e170: 6320 3d20 7b73 656c 662e 7769 6e64 696e  c = {self.windin
-0002e180: 6773 5b77 696e 6469 6e67 5f6e 756d 6265  gs[winding_numbe
-0002e190: 725d 2e73 7472 616e 645f 7261 6469 7573  r].strand_radius
-0002e1a0: 7d3b 5c6e 2229 2020 2320 646f 7562 6c65  };\n")  # double
-0002e1b0: 206e 616d 6564 2121 2120 6d75 7374 2062   named!!! must b
-0002e1c0: 6520 6368 616e 6765 640a 2020 2020 2020  e changed.      
-0002e1d0: 2020 7465 7874 5f66 696c 652e 636c 6f73    text_file.clos
-0002e1e0: 6528 290a 2020 2020 2020 2020 6365 6c6c  e().        cell
-0002e1f0: 5f67 656f 203d 206f 732e 7061 7468 2e6a  _geo = os.path.j
-0002e200: 6f69 6e28 7365 6c66 2e66 696c 655f 6461  oin(self.file_da
-0002e210: 7461 2e65 5f6d 5f73 7472 616e 6473 5f63  ta.e_m_strands_c
-0002e220: 6f65 6666 6963 6965 6e74 735f 666f 6c64  oefficients_fold
-0002e230: 6572 5f70 6174 682c 2022 6365 6c6c 2e67  er_path, "cell.g
-0002e240: 656f 2229 0a0a 2020 2020 2020 2020 7665  eo")..        ve
-0002e250: 7262 6f73 6520 3d20 222d 7665 7262 6f73  rbose = "-verbos
-0002e260: 6520 3122 2069 6620 7365 6c66 2e73 696c  e 1" if self.sil
-0002e270: 656e 7420 656c 7365 2022 2d76 6572 626f  ent else "-verbo
-0002e280: 7365 2035 220a 0a20 2020 2020 2020 2023  se 5"..        #
-0002e290: 2052 756e 2067 6d73 6820 6173 2061 2073   Run gmsh as a s
-0002e2a0: 7562 2063 6c69 656e 740a 2020 2020 2020  ub client.      
-0002e2b0: 2020 676d 7368 5f63 6c69 656e 7420 3d20    gmsh_client = 
-0002e2c0: 6f73 2e70 6174 682e 6a6f 696e 2873 656c  os.path.join(sel
-0002e2d0: 662e 6669 6c65 5f64 6174 612e 6f6e 656c  f.file_data.onel
-0002e2e0: 6162 5f66 6f6c 6465 725f 7061 7468 2c20  ab_folder_path, 
-0002e2f0: 2267 6d73 6822 290a 2020 2020 2020 2020  "gmsh").        
-0002e300: 7365 6c66 2e6f 6e65 6c61 625f 636c 6965  self.onelab_clie
-0002e310: 6e74 2e72 756e 5375 6243 6c69 656e 7428  nt.runSubClient(
-0002e320: 226d 7947 6d73 6822 2c20 676d 7368 5f63  "myGmsh", gmsh_c
-0002e330: 6c69 656e 7420 2b20 2220 2220 2b20 6365  lient + " " + ce
-0002e340: 6c6c 5f67 656f 202b 2022 202d 3220 2220  ll_geo + " -2 " 
-0002e350: 2b20 7665 7262 6f73 6529 0a0a 2020 2020  + verbose)..    
-0002e360: 2020 2020 6d6f 6465 7320 3d20 5b31 2c20      modes = [1, 
-0002e370: 325d 2020 2320 3120 3d20 2273 6b69 6e22  2]  # 1 = "skin"
-0002e380: 2c20 3220 3d20 2270 726f 7869 6d69 7479  , 2 = "proximity
-0002e390: 220a 2020 2020 2020 2020 7265 6475 6365  ".        reduce
-0002e3a0: 645f 6672 6571 7565 6e63 6965 7320 3d20  d_frequencies = 
-0002e3b0: 6e70 2e6c 696e 7370 6163 6528 302c 2031  np.linspace(0, 1
-0002e3c0: 2e32 352c 2036 2920 2023 206d 7573 7420  .25, 6)  # must 
-0002e3d0: 6265 2065 7665 6e0a 2020 2020 2020 2020  be even.        
-0002e3e0: 666f 7220 6d6f 6465 2069 6e20 6d6f 6465  for mode in mode
-0002e3f0: 733a 0a20 2020 2020 2020 2020 2020 2066  s:.            f
-0002e400: 6f72 2072 6620 696e 2072 6564 7563 6564  or rf in reduced
-0002e410: 5f66 7265 7175 656e 6369 6573 3a0a 2020  _frequencies:.  
-0002e420: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-0002e430: 2d2d 2050 7265 2d53 696d 756c 6174 696f  -- Pre-Simulatio
-0002e440: 6e20 5365 7474 696e 6773 202d 2d0a 2020  n Settings --.  
-0002e450: 2020 2020 2020 2020 2020 2020 2020 7465                te
-0002e460: 7874 5f66 696c 6520 3d20 6f70 656e 286f  xt_file = open(o
-0002e470: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
-0002e480: 2e66 696c 655f 6461 7461 2e65 5f6d 5f73  .file_data.e_m_s
-0002e490: 7472 616e 6473 5f63 6f65 6666 6963 6965  trands_coefficie
-0002e4a0: 6e74 735f 666f 6c64 6572 5f70 6174 682c  nts_folder_path,
-0002e4b0: 2022 5072 6550 6172 616d 6574 6572 2e70   "PreParameter.p
-0002e4c0: 726f 2229 2c0a 2020 2020 2020 2020 2020  ro"),.          
-0002e4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e4e0: 2020 2020 2020 2022 7722 290a 2020 2020         "w").    
-0002e4f0: 2020 2020 2020 2020 2020 2020 7465 7874              text
-0002e500: 5f66 696c 652e 7772 6974 6528 6622 5272  _file.write(f"Rr
-0002e510: 5f63 656c 6c20 3d20 7b72 667d 3b5c 6e22  _cell = {rf};\n"
-0002e520: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002e530: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0002e540: 6528 6622 4d6f 6465 203d 207b 6d6f 6465  e(f"Mode = {mode
-0002e550: 7d3b 5c6e 2229 0a20 2020 2020 2020 2020  };\n").         
-0002e560: 2020 2020 2020 2023 204c 6974 7a20 4170         # Litz Ap
-0002e570: 7072 6f78 696d 6174 696f 6e20 436f 6566  proximation Coef
-0002e580: 6669 6369 656e 7473 2061 7265 2063 7265  ficients are cre
-0002e590: 6174 6564 2077 6974 6820 3420 6c61 7965  ated with 4 laye
-0002e5a0: 7273 0a20 2020 2020 2020 2020 2020 2020  rs.             
-0002e5b0: 2020 2023 2054 6861 7427 7320 7768 7920     # That's why 
-0002e5c0: 6865 7265 2061 2068 6172 642d 636f 6465  here a hard-code
-0002e5d0: 6420 3420 6973 2069 6d70 6c65 6d65 6e74  d 4 is implement
-0002e5e0: 6564 0a20 2020 2020 2020 2020 2020 2020  ed.             
-0002e5f0: 2020 2023 2074 6578 745f 6669 6c65 2e77     # text_file.w
-0002e600: 7269 7465 2866 224e 6272 4c61 7965 7273  rite(f"NbrLayers
-0002e610: 203d 207b 7365 6c66 2e6e 5f6c 6179 6572   = {self.n_layer
-0002e620: 735b 6e75 6d5d 7d3b 5c6e 2229 0a20 2020  s[num]};\n").   
-0002e630: 2020 2020 2020 2020 2020 2020 2074 6578               tex
-0002e640: 745f 6669 6c65 2e77 7269 7465 2822 4e62  t_file.write("Nb
-0002e650: 724c 6179 6572 7320 3d20 343b 5c6e 2229  rLayers = 4;\n")
-0002e660: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002e670: 2074 6578 745f 6669 6c65 2e77 7269 7465   text_file.write
-0002e680: 2866 2246 696c 6c20 3d20 7b73 656c 662e  (f"Fill = {self.
-0002e690: 7769 6e64 696e 6773 5b77 696e 6469 6e67  windings[winding
-0002e6a0: 5f6e 756d 6265 725d 2e66 667d 3b5c 6e22  _number].ff};\n"
-0002e6b0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0002e6c0: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
-0002e6d0: 6528 0a20 2020 2020 2020 2020 2020 2020  e(.             
-0002e6e0: 2020 2020 2020 2066 2252 6320 3d20 7b73         f"Rc = {s
-0002e6f0: 656c 662e 7769 6e64 696e 6773 5b77 696e  elf.windings[win
-0002e700: 6469 6e67 5f6e 756d 6265 725d 2e73 7472  ding_number].str
-0002e710: 616e 645f 7261 6469 7573 7d3b 5c6e 2229  and_radius};\n")
-0002e720: 2020 2320 646f 7562 6c65 206e 616d 6564    # double named
-0002e730: 2121 2120 6d75 7374 2062 6520 6368 616e  !!! must be chan
-0002e740: 6765 640a 2020 2020 2020 2020 2020 2020  ged.            
-0002e750: 2020 2020 7465 7874 5f66 696c 652e 636c      text_file.cl
-0002e760: 6f73 6528 290a 0a20 2020 2020 2020 2020  ose()..         
-0002e770: 2020 2020 2020 2023 2067 6574 206d 6f64         # get mod
-0002e780: 656c 2066 696c 6520 6e61 6d65 7320 7769  el file names wi
-0002e790: 7468 2063 6f72 7265 6374 2070 6174 680a  th correct path.
-0002e7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002e7b0: 696e 7075 745f 6669 6c65 203d 206f 732e  input_file = os.
-0002e7c0: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
-0002e7d0: 696c 655f 6461 7461 2e65 5f6d 5f73 7472  ile_data.e_m_str
-0002e7e0: 616e 6473 5f63 6f65 6666 6963 6965 6e74  ands_coefficient
-0002e7f0: 735f 666f 6c64 6572 5f70 6174 682c 2022  s_folder_path, "
-0002e800: 6365 6c6c 5f64 6174 2e70 726f 2229 0a20  cell_dat.pro"). 
-0002e810: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0002e820: 656c 6c20 3d20 6f73 2e70 6174 682e 6a6f  ell = os.path.jo
-0002e830: 696e 2873 656c 662e 6669 6c65 5f64 6174  in(self.file_dat
-0002e840: 612e 655f 6d5f 7374 7261 6e64 735f 636f  a.e_m_strands_co
-0002e850: 6566 6669 6369 656e 7473 5f66 6f6c 6465  efficients_folde
-0002e860: 725f 7061 7468 2c20 2263 656c 6c2e 7072  r_path, "cell.pr
-0002e870: 6f22 290a 0a20 2020 2020 2020 2020 2020  o")..           
-0002e880: 2020 2020 2023 2052 756e 2073 696d 756c       # Run simul
-0002e890: 6174 696f 6e73 2061 7320 7375 6220 636c  ations as sub cl
-0002e8a0: 6965 6e74 730a 2020 2020 2020 2020 2020  ients.          
-0002e8b0: 2020 2020 2020 6d79 6765 7464 7020 3d20        mygetdp = 
-0002e8c0: 6f73 2e70 6174 682e 6a6f 696e 2873 656c  os.path.join(sel
-0002e8d0: 662e 6669 6c65 5f64 6174 612e 6f6e 656c  f.file_data.onel
-0002e8e0: 6162 5f66 6f6c 6465 725f 7061 7468 2c20  ab_folder_path, 
-0002e8f0: 2267 6574 6470 2229 0a20 2020 2020 2020  "getdp").       
-0002e900: 2020 2020 2020 2020 2073 656c 662e 6f6e           self.on
-0002e910: 656c 6162 5f63 6c69 656e 742e 7275 6e53  elab_client.runS
-0002e920: 7562 436c 6965 6e74 2822 6d79 4765 7444  ubClient("myGetD
-0002e930: 5022 2c20 6d79 6765 7464 7020 2b20 2220  P", mygetdp + " 
-0002e940: 2220 2b20 6365 6c6c 202b 2022 202d 696e  " + cell + " -in
-0002e950: 7075 7420 2220 2b20 696e 7075 745f 6669  put " + input_fi
-0002e960: 6c65 202b 2022 202d 736f 6c76 6520 4d61  le + " -solve Ma
-0002e970: 6744 796e 5f61 2022 202b 2076 6572 626f  gDyn_a " + verbo
-0002e980: 7365 290a 0a20 2020 2020 2020 2023 2046  se)..        # F
-0002e990: 6f72 6d61 7474 696e 6720 7374 7566 660a  ormatting stuff.
-0002e9a0: 2020 2020 2020 2020 2320 4c69 747a 2041          # Litz A
-0002e9b0: 7070 726f 7869 6d61 7469 6f6e 2043 6f65  pproximation Coe
-0002e9c0: 6666 6963 6965 6e74 7320 6172 6520 6372  fficients are cr
-0002e9d0: 6561 7465 6420 7769 7468 2034 206c 6179  eated with 4 lay
-0002e9e0: 6572 730a 2020 2020 2020 2020 2320 5468  ers.        # Th
-0002e9f0: 6174 2773 2077 6879 2068 6572 6520 6120  at's why here a 
-0002ea00: 6861 7264 2d63 6f64 6564 2034 2069 7320  hard-coded 4 is 
-0002ea10: 696d 706c 656d 656e 7465 640a 2020 2020  implemented.    
-0002ea20: 2020 2020 2320 6669 6c65 7320 3d20 5b73      # files = [s
-0002ea30: 656c 662e 7061 7468 202b 2066 222f 5374  elf.path + f"/St
-0002ea40: 7261 6e64 735f 436f 6566 6669 6369 656e  rands_Coefficien
-0002ea50: 7473 2f63 6f65 6666 2f70 425f 5253 5f6c  ts/coeff/pB_RS_l
-0002ea60: 617b 7365 6c66 2e77 696e 6469 6e67 730a  a{self.windings.
-0002ea70: 2020 2020 2020 2020 2320 5b6e 756d 5d2e          # [num].
-0002ea80: 6666 7d5f 7b73 656c 662e 6e5f 6c61 7965  ff}_{self.n_laye
-0002ea90: 7273 5b6e 756d 5d7d 6c61 7965 722e 6461  rs[num]}layer.da
-0002eaa0: 7422 2c0a 2020 2020 2020 2020 2320 2020  t",.        #   
-0002eab0: 2020 2020 2020 7365 6c66 2e70 6174 6820        self.path 
-0002eac0: 2b20 6622 2f53 7472 616e 6473 5f43 6f65  + f"/Strands_Coe
-0002ead0: 6666 6963 6965 6e74 732f 636f 6566 662f  fficients/coeff/
-0002eae0: 7049 5f52 535f 6c61 7b73 656c 662e 7769  pI_RS_la{self.wi
-0002eaf0: 6e64 696e 6773 0a20 2020 2020 2020 2023  ndings.        #
-0002eb00: 2020 2020 2020 2020 205b 6e75 6d5d 2e66           [num].f
-0002eb10: 667d 5f7b 7365 6c66 2e6e 5f6c 6179 6572  f}_{self.n_layer
-0002eb20: 735b 6e75 6d5d 7d6c 6179 6572 2e64 6174  s[num]}layer.dat
-0002eb30: 222c 0a20 2020 2020 2020 2023 2073 656c  ",.        # sel
-0002eb40: 662e 7061 7468 202b 2066 222f 5374 7261  f.path + f"/Stra
-0002eb50: 6e64 735f 436f 6566 6669 6369 656e 7473  nds_Coefficients
-0002eb60: 2f63 6f65 6666 2f71 425f 5253 5f6c 617b  /coeff/qB_RS_la{
-0002eb70: 7365 6c66 2e77 696e 6469 6e67 730a 2020  self.windings.  
-0002eb80: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0002eb90: 5b6e 756d 5d2e 6666 7d5f 7b73 656c 662e  [num].ff}_{self.
-0002eba0: 6e5f 6c61 7965 7273 5b6e 756d 5d7d 6c61  n_layers[num]}la
-0002ebb0: 7965 722e 6461 7422 2c0a 2020 2020 2020  yer.dat",.      
-0002ebc0: 2020 2320 7365 6c66 2e70 6174 6820 2b20    # self.path + 
-0002ebd0: 6622 2f53 7472 616e 6473 5f43 6f65 6666  f"/Strands_Coeff
-0002ebe0: 6963 6965 6e74 732f 636f 6566 662f 7149  icients/coeff/qI
-0002ebf0: 5f52 535f 6c61 7b73 656c 662e 7769 6e64  _RS_la{self.wind
-0002ec00: 696e 6773 5b0a 2020 2020 2020 2020 2320  ings[.        # 
-0002ec10: 2020 2020 2020 2020 6e75 6d5d 2e66 667d          num].ff}
-0002ec20: 5f7b 7365 6c66 2e6e 5f6c 6179 6572 735b  _{self.n_layers[
-0002ec30: 6e75 6d5d 7d6c 6179 6572 2e64 6174 225d  num]}layer.dat"]
-0002ec40: 0a0a 2020 2020 2020 2020 636f 6566 665f  ..        coeff_
-0002ec50: 666f 6c64 6572 203d 206f 732e 7061 7468  folder = os.path
-0002ec60: 2e6a 6f69 6e28 7365 6c66 2e66 696c 655f  .join(self.file_
-0002ec70: 6461 7461 2e65 5f6d 5f73 7472 616e 6473  data.e_m_strands
-0002ec80: 5f63 6f65 6666 6963 6965 6e74 735f 666f  _coefficients_fo
-0002ec90: 6c64 6572 5f70 6174 682c 2022 636f 6566  lder_path, "coef
-0002eca0: 6622 290a 2020 2020 2020 2020 6966 206e  f").        if n
-0002ecb0: 6f74 206f 732e 7061 7468 2e69 7364 6972  ot os.path.isdir
-0002ecc0: 2863 6f65 6666 5f66 6f6c 6465 7229 3a0a  (coeff_folder):.
-0002ecd0: 2020 2020 2020 2020 2020 2020 6f73 2e6d              os.m
-0002ece0: 6b64 6972 2863 6f65 6666 5f66 6f6c 6465  kdir(coeff_folde
-0002ecf0: 7229 0a0a 2020 2020 2020 2020 6669 6c65  r)..        file
-0002ed00: 7320 3d20 5b6f 732e 7061 7468 2e6a 6f69  s = [os.path.joi
-0002ed10: 6e28 636f 6566 665f 666f 6c64 6572 2c20  n(coeff_folder, 
-0002ed20: 6622 7042 5f52 535f 6c61 7b73 656c 662e  f"pB_RS_la{self.
-0002ed30: 7769 6e64 696e 6773 5b77 696e 6469 6e67  windings[winding
-0002ed40: 5f6e 756d 6265 725d 2e66 667d 5f34 6c61  _number].ff}_4la
-0002ed50: 7965 722e 6461 7422 292c 0a20 2020 2020  yer.dat"),.     
-0002ed60: 2020 2020 2020 2020 2020 2020 6f73 2e70              os.p
-0002ed70: 6174 682e 6a6f 696e 2863 6f65 6666 5f66  ath.join(coeff_f
-0002ed80: 6f6c 6465 722c 2066 2270 495f 5253 5f6c  older, f"pI_RS_l
-0002ed90: 617b 7365 6c66 2e77 696e 6469 6e67 735b  a{self.windings[
-0002eda0: 7769 6e64 696e 675f 6e75 6d62 6572 5d2e  winding_number].
-0002edb0: 6666 7d5f 346c 6179 6572 2e64 6174 2229  ff}_4layer.dat")
-0002edc0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002edd0: 2020 206f 732e 7061 7468 2e6a 6f69 6e28     os.path.join(
-0002ede0: 636f 6566 665f 666f 6c64 6572 2c20 6622  coeff_folder, f"
-0002edf0: 7142 5f52 535f 6c61 7b73 656c 662e 7769  qB_RS_la{self.wi
-0002ee00: 6e64 696e 6773 5b77 696e 6469 6e67 5f6e  ndings[winding_n
-0002ee10: 756d 6265 725d 2e66 667d 5f34 6c61 7965  umber].ff}_4laye
-0002ee20: 722e 6461 7422 292c 0a20 2020 2020 2020  r.dat"),.       
-0002ee30: 2020 2020 2020 2020 2020 6f73 2e70 6174            os.pat
-0002ee40: 682e 6a6f 696e 2863 6f65 6666 5f66 6f6c  h.join(coeff_fol
-0002ee50: 6465 722c 2066 2271 495f 5253 5f6c 617b  der, f"qI_RS_la{
-0002ee60: 7365 6c66 2e77 696e 6469 6e67 735b 7769  self.windings[wi
-0002ee70: 6e64 696e 675f 6e75 6d62 6572 5d2e 6666  nding_number].ff
-0002ee80: 7d5f 346c 6179 6572 2e64 6174 2229 5d0a  }_4layer.dat")].
-0002ee90: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
-0002eea0: 2072 616e 6765 2830 2c20 3429 3a0a 2020   range(0, 4):.  
-0002eeb0: 2020 2020 2020 2020 2020 7769 7468 2066            with f
-0002eec0: 696c 6569 6e70 7574 2e46 696c 6549 6e70  ileinput.FileInp
-0002eed0: 7574 2866 696c 6573 5b69 5d2c 2069 6e70  ut(files[i], inp
-0002eee0: 6c61 6365 3d54 7275 6529 2061 7320 6669  lace=True) as fi
-0002eef0: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
-0002ef00: 2020 2020 666f 7220 6c69 6e65 2069 6e20      for line in 
-0002ef10: 6669 6c65 3a0a 2020 2020 2020 2020 2020  file:.          
-0002ef20: 2020 2020 2020 2020 2020 7072 696e 7428            print(
-0002ef30: 6c69 6e65 2e72 6570 6c61 6365 2827 2030  line.replace(' 0
-0002ef40: 5c6e 272c 2027 5c6e 2729 2c20 656e 643d  \n', '\n'), end=
-0002ef50: 2727 290a 0a20 2020 2020 2020 2023 2043  '')..        # C
-0002ef60: 6f72 7265 6374 7320 7042 2063 6f65 6666  orrects pB coeff
-0002ef70: 6963 6965 6e74 2065 7272 6f72 2061 7420  icient error at 
-0002ef80: 3048 7a0a 2020 2020 2020 2020 2320 4d75  0Hz.        # Mu
-0002ef90: 7374 2062 6520 6368 616e 6765 6420 696e  st be changed in
-0002efa0: 2066 7574 7572 6520 696e 2063 656c 6c2e   future in cell.
-0002efb0: 7072 6f0a 2020 2020 2020 2020 666f 7220  pro.        for 
-0002efc0: 6920 696e 2072 616e 6765 2830 2c20 3429  i in range(0, 4)
-0002efd0: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-0002efe0: 7468 2066 696c 6569 6e70 7574 2e46 696c  th fileinput.Fil
-0002eff0: 6549 6e70 7574 2866 696c 6573 5b69 5d2c  eInput(files[i],
-0002f000: 2069 6e70 6c61 6365 3d54 7275 6529 2061   inplace=True) a
-0002f010: 7320 6669 6c65 3a0a 2020 2020 2020 2020  s file:.        
-0002f020: 2020 2020 2020 2020 666f 7220 6c69 6e65          for line
-0002f030: 2069 6e20 6669 6c65 3a0a 2020 2020 2020   in file:.      
-0002f040: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-0002f050: 696e 7428 6c69 6e65 2e72 6570 6c61 6365  int(line.replace
-0002f060: 2827 2030 5c6e 272c 2027 2031 5c6e 2729  (' 0\n', ' 1\n')
-0002f070: 2c20 656e 643d 2727 290a 0a20 2020 2023  , end='')..    #
-0002f080: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0002f090: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-0002f0a0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-0002f0b0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0002f0c0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
-0002f0d0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
-0002f0e0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
-0002f0f0: 202d 0a20 2020 2023 2046 454d 4d20 5b61   -.    # FEMM [a
-0002f100: 6c74 6572 6e61 7469 7665 2053 6f6c 7665  lternative Solve
-0002f110: 725d 0a20 2020 2064 6566 2066 656d 6d5f  r].    def femm_
-0002f120: 7265 6665 7265 6e63 6528 7365 6c66 2c20  reference(self, 
-0002f130: 6672 6571 3a20 666c 6f61 742c 2063 7572  freq: float, cur
-0002f140: 7265 6e74 3a20 666c 6f61 742c 2073 6967  rent: float, sig
-0002f150: 6e3a 2062 6f6f 6c20 3d20 4e6f 6e65 2c20  n: bool = None, 
-0002f160: 6e6f 6e5f 7669 7375 616c 697a 653a 2069  non_visualize: i
-0002f170: 6e74 203d 2030 2c0a 2020 2020 2020 2020  nt = 0,.        
-0002f180: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0002f190: 6573 685f 7369 7a65 3a20 666c 6f61 7420  esh_size: float 
-0002f1a0: 3d20 302e 302c 206d 6573 685f 7369 7a65  = 0.0, mesh_size
-0002f1b0: 5f63 6f6e 6475 6374 6f72 3a20 666c 6f61  _conductor: floa
-0002f1c0: 7420 3d20 302e 3029 3a0a 2020 2020 2020  t = 0.0):.      
-0002f1d0: 2020 2222 220a 2020 2020 2020 2020 416c    """.        Al
-0002f1e0: 6c6f 7720 7265 6665 7265 6e63 6520 7369  low reference si
-0002f1f0: 6d75 6c61 7469 6f6e 7320 7769 7468 2074  mulations with t
-0002f200: 6865 2032 4420 6f70 656e 2073 6f75 7263  he 2D open sourc
-0002f210: 6520 656c 6563 7472 6f6d 6167 6e65 7469  e electromagneti
-0002f220: 6320 4645 4d20 746f 6f6c 2046 454d 4d2e  c FEM tool FEMM.
-0002f230: 0a0a 2020 2020 2020 2020 4865 6c70 6675  ..        Helpfu
-0002f240: 6c20 746f 2076 616c 6964 6174 6520 6368  l to validate ch
-0002f250: 616e 6765 7320 2865 7370 6563 6961 6c6c  anges (especiall
-0002f260: 7920 696e 2074 6865 2050 726f 6c6f 6720  y in the Prolog 
-0002f270: 436f 6465 292e 0a0a 2020 2020 2020 2020  Code)...        
-0002f280: 426c 6f63 6b70 726f 7020 3c2d 2d3e 2047  Blockprop <--> G
-0002f290: 726f 7570 2043 6f6e 7665 6e74 696f 6e3a  roup Convention:
-0002f2a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002f2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f2c0: 2020 2020 2020 2020 2020 2020 2046 6572               Fer
-0002f2d0: 7269 7465 203a 3d20 300a 2020 2020 2020  rite := 0.      
-0002f2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f2f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f300: 2020 2020 2020 4169 7220 3a3d 2031 0a20        Air := 1. 
-0002f310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f330: 2020 2020 2020 2020 2020 2057 696e 6469             Windi
-0002f340: 6e67 2031 203a 3d20 320a 2020 2020 2020  ng 1 := 2.      
-0002f350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f370: 2020 2020 2020 5769 6e64 696e 6720 3220        Winding 2 
-0002f380: 3a3d 2033 0a20 2020 2020 2020 2020 2020  := 3.           
-0002f390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f3b0: 202e 2e2e 0a20 2020 2020 2020 2020 2020   ....           
-0002f3c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f3e0: 2057 696e 6469 6e67 206e 203a 3d20 6e2b   Winding n := n+
-0002f3f0: 310a 0a20 2020 2020 2020 203a 7061 7261  1..        :para
-0002f400: 6d20 7369 676e 3a0a 2020 2020 2020 2020  m sign:.        
-0002f410: 3a70 6172 616d 206e 6f6e 5f76 6973 7561  :param non_visua
-0002f420: 6c69 7a65 3a0a 2020 2020 2020 2020 3a70  lize:.        :p
-0002f430: 6172 616d 2066 7265 713a 0a20 2020 2020  aram freq:.     
-0002f440: 2020 203a 7061 7261 6d20 6375 7272 656e     :param curren
-0002f450: 743a 0a20 2020 2020 2020 2022 2222 0a20  t:.        """. 
-0002f460: 2020 2020 2020 2061 7574 6f6d 6573 6820         automesh 
-0002f470: 3d20 3120 6966 206d 6573 685f 7369 7a65  = 1 if mesh_size
-0002f480: 203d 3d20 302e 3020 656c 7365 2030 0a20   == 0.0 else 0. 
-0002f490: 2020 2020 2020 2061 7574 6f6d 6573 685f         automesh_
-0002f4a0: 636f 6e64 7563 746f 7220 3d20 3120 6966  conductor = 1 if
-0002f4b0: 206d 6573 685f 7369 7a65 5f63 6f6e 6475   mesh_size_condu
-0002f4c0: 6374 6f72 203d 3d20 302e 3020 656c 7365  ctor == 0.0 else
-0002f4d0: 2030 0a0a 2020 2020 2020 2020 6966 206f   0..        if o
-0002f4e0: 732e 6e61 6d65 203d 3d20 276e 7427 3a0a  s.name == 'nt':.
-0002f4f0: 2020 2020 2020 2020 2020 2020 6666 2e69              ff.i
-0002f500: 6e73 7461 6c6c 5f70 7966 656d 6d5f 6966  nstall_pyfemm_if
-0002f510: 5f6d 6973 7369 6e67 2829 0a20 2020 2020  _missing().     
-0002f520: 2020 2020 2020 2069 6620 6e6f 7420 7365         if not se
-0002f530: 6c66 2e66 656d 6d5f 6973 5f69 6d70 6f72  lf.femm_is_impor
-0002f540: 7465 643a 0a20 2020 2020 2020 2020 2020  ted:.           
-0002f550: 2020 2020 2067 6c6f 6261 6c73 2829 5b22       globals()["
-0002f560: 6665 6d6d 225d 203d 205f 5f69 6d70 6f72  femm"] = __impor
-0002f570: 745f 5f28 2266 656d 6d22 290a 2020 2020  t__("femm").    
-0002f580: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0002f590: 2e66 656d 6d5f 6973 5f69 6d70 6f72 7465  .femm_is_importe
-0002f5a0: 6420 3d20 5472 7565 0a20 2020 2020 2020  d = True.       
-0002f5b0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0002f5c0: 2020 2072 6169 7365 2045 7863 6570 7469     raise Excepti
-0002f5d0: 6f6e 2827 596f 7520 6172 6520 7573 696e  on('You are usin
-0002f5e0: 6720 6120 636f 6d70 7574 6572 2074 6861  g a computer tha
-0002f5f0: 7420 6973 206e 6f74 2072 756e 6e69 6e67  t is not running
-0002f600: 2077 696e 646f 7773 2e20 270a 2020 2020   windows. '.    
-0002f610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002f620: 2020 2020 2020 2020 2754 6869 7320 636f          'This co
-0002f630: 6d6d 616e 6420 6973 206f 6e6c 7920 6578  mmand is only ex
-0002f640: 6563 7574 6162 6c65 206f 6e20 5769 6e64  ecutable on Wind
-0002f650: 6f77 7320 636f 6d70 7574 6572 732e 2729  ows computers.')
-0002f660: 0a0a 2020 2020 2020 2020 7365 6c66 2e66  ..        self.f
-0002f670: 696c 655f 6461 7461 2e63 7265 6174 655f  ile_data.create_
-0002f680: 666f 6c64 6572 7328 7365 6c66 2e66 696c  folders(self.fil
-0002f690: 655f 6461 7461 2e66 656d 6d5f 666f 6c64  e_data.femm_fold
-0002f6a0: 6572 5f70 6174 6829 0a0a 2020 2020 2020  er_path)..      
-0002f6b0: 2020 7369 676e 203d 2073 6967 6e20 6f72    sign = sign or
-0002f6c0: 205b 315d 0a0a 2020 2020 2020 2020 6966   [1]..        if
-0002f6d0: 2073 6967 6e20 6973 204e 6f6e 653a 0a20   sign is None:. 
-0002f6e0: 2020 2020 2020 2020 2020 2073 6967 6e20             sign 
-0002f6f0: 3d20 5b31 2c20 315d 0a0a 2020 2020 2020  = [1, 1]..      
-0002f700: 2020 2320 3d3d 2050 7265 2047 656f 6d65    # == Pre Geome
-0002f710: 7472 7920 3d3d 0a20 2020 2020 2020 2073  try ==.        s
-0002f720: 656c 662e 6869 6768 5f6c 6576 656c 5f67  elf.high_level_g
-0002f730: 656f 5f67 656e 2829 0a0a 2020 2020 2020  eo_gen()..      
-0002f740: 2020 2320 3d3d 2049 6e69 7420 3d3d 0a20    # == Init ==. 
-0002f750: 2020 2020 2020 2066 656d 6d2e 6f70 656e         femm.open
-0002f760: 6665 6d6d 286e 6f6e 5f76 6973 7561 6c69  femm(non_visuali
-0002f770: 7a65 290a 2020 2020 2020 2020 6665 6d6d  ze).        femm
-0002f780: 2e6e 6577 646f 6375 6d65 6e74 2830 290a  .newdocument(0).
-0002f790: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
-0002f7a0: 7072 6f62 6465 6628 6672 6571 2c20 276d  probdef(freq, 'm
-0002f7b0: 6574 6572 7327 2c20 2761 7869 272c 2031  eters', 'axi', 1
-0002f7c0: 2e65 2d38 2c20 302c 2033 3029 0a0a 2020  .e-8, 0, 30)..  
-0002f7d0: 2020 2020 2020 2320 3d3d 204d 6174 6572        # == Mater
-0002f7e0: 6961 6c73 203d 3d0a 2020 2020 2020 2020  ials ==.        
-0002f7f0: 6966 2073 656c 662e 636f 7265 2e73 6967  if self.core.sig
-0002f800: 6d61 2021 3d20 303a 0a20 2020 2020 2020  ma != 0:.       
-0002f810: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0002f820: 6365 2873 656c 662e 636f 7265 2e73 6967  ce(self.core.sig
-0002f830: 6d61 2c20 7374 7229 3a0a 2020 2020 2020  ma, str):.      
-0002f840: 2020 2020 2020 2020 2020 2320 544f 444f            # TODO
-0002f850: 3a20 4d61 6b65 2066 6f6c 6c6f 7769 6e67  : Make following
-0002f860: 2064 6566 696e 6974 696f 6e20 6765 6e65   definition gene
-0002f870: 7261 6c0a 2020 2020 2020 2020 2020 2020  ral.            
-0002f880: 2020 2020 2320 7365 6c66 2e63 6f72 652e      # self.core.
-0002f890: 7369 676d 6120 3d20 3220 2a20 6e70 2e70  sigma = 2 * np.p
-0002f8a0: 6920 2a20 7365 6c66 2e66 7265 7175 656e  i * self.frequen
-0002f8b0: 6379 202a 2065 7073 696c 6f6e 5f30 202a  cy * epsilon_0 *
-0002f8c0: 2066 5f4e 3935 5f65 725f 696d 6167 2866   f_N95_er_imag(f
-0002f8d0: 3d73 656c 662e 6672 6571 7565 6e63 7929  =self.frequency)
-0002f8e0: 202b 2031 202f 2036 0a20 2020 2020 2020   + 1 / 6.       
-0002f8f0: 2020 2020 2020 2020 2073 656c 662e 636f           self.co
-0002f900: 7265 2e73 6967 6d61 203d 2031 202f 2036  re.sigma = 1 / 6
-0002f910: 0a0a 2020 2020 2020 2020 7365 6c66 2e66  ..        self.f
-0002f920: 656d 6d74 5f70 7269 6e74 2866 227b 7365  emmt_print(f"{se
-0002f930: 6c66 2e63 6f72 652e 7065 726d 6561 6269  lf.core.permeabi
-0002f940: 6c69 7479 5f74 7970 653d 7d2c 207b 7365  lity_type=}, {se
-0002f950: 6c66 2e63 6f72 652e 7369 676d 613d 7d22  lf.core.sigma=}"
-0002f960: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-0002f970: 662e 636f 7265 2e70 6572 6d65 6162 696c  f.core.permeabil
-0002f980: 6974 795f 7479 7065 203d 3d20 5065 726d  ity_type == Perm
-0002f990: 6561 6269 6c69 7479 5479 7065 2e46 6978  eabilityType.Fix
-0002f9a0: 6564 4c6f 7373 416e 676c 653a 0a20 2020  edLossAngle:.   
-0002f9b0: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
-0002f9c0: 5f61 6464 6d61 7465 7269 616c 2827 4665  _addmaterial('Fe
-0002f9d0: 7272 6974 6527 2c20 7365 6c66 2e63 6f72  rrite', self.cor
-0002f9e0: 652e 6d75 5f72 5f61 6273 2c20 7365 6c66  e.mu_r_abs, self
-0002f9f0: 2e63 6f72 652e 6d75 5f72 5f61 6273 2c20  .core.mu_r_abs, 
-0002fa00: 302c 2030 2c20 7365 6c66 2e63 6f72 652e  0, 0, self.core.
-0002fa10: 7369 676d 6120 2f20 3165 362c 2030 2c20  sigma / 1e6, 0, 
-0002fa20: 302c 2031 2c0a 2020 2020 2020 2020 2020  0, 1,.          
-0002fa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fa40: 2020 2020 2020 302c 2073 656c 662e 636f        0, self.co
-0002fa50: 7265 2e70 6869 5f6d 755f 6465 672c 2073  re.phi_mu_deg, s
-0002fa60: 656c 662e 636f 7265 2e70 6869 5f6d 755f  elf.core.phi_mu_
-0002fa70: 6465 6729 0a20 2020 2020 2020 2065 6c69  deg).        eli
-0002fa80: 6620 7365 6c66 2e63 6f72 652e 7065 726d  f self.core.perm
-0002fa90: 6561 6269 6c69 7479 5f74 7970 6520 3d3d  eability_type ==
-0002faa0: 2050 6572 6d65 6162 696c 6974 7954 7970   PermeabilityTyp
-0002fab0: 652e 5265 616c 5661 6c75 653a 0a20 2020  e.RealValue:.   
-0002fac0: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
-0002fad0: 5f61 6464 6d61 7465 7269 616c 2827 4665  _addmaterial('Fe
-0002fae0: 7272 6974 6527 2c20 7365 6c66 2e63 6f72  rrite', self.cor
-0002faf0: 652e 6d75 5f72 5f61 6273 2c20 7365 6c66  e.mu_r_abs, self
-0002fb00: 2e63 6f72 652e 6d75 5f72 5f61 6273 2c20  .core.mu_r_abs, 
-0002fb10: 302c 2030 2c20 7365 6c66 2e63 6f72 652e  0, 0, self.core.
-0002fb20: 7369 676d 6120 2f20 3165 362c 2030 2c20  sigma / 1e6, 0, 
-0002fb30: 302c 2031 2c0a 2020 2020 2020 2020 2020  0, 1,.          
-0002fb40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fb50: 2020 2020 2020 302c 2073 656c 662e 636f        0, self.co
-0002fb60: 7265 2e70 6869 5f6d 755f 6465 672c 2073  re.phi_mu_deg, s
-0002fb70: 656c 662e 636f 7265 2e70 6869 5f6d 755f  elf.core.phi_mu_
-0002fb80: 6465 6729 0a20 2020 2020 2020 2065 6c73  deg).        els
-0002fb90: 653a 0a20 2020 2020 2020 2020 2020 2066  e:.            f
-0002fba0: 656d 6d2e 6d69 5f61 6464 6d61 7465 7269  emm.mi_addmateri
-0002fbb0: 616c 2827 4665 7272 6974 6527 2c20 7365  al('Ferrite', se
-0002fbc0: 6c66 2e63 6f72 652e 6d75 5f72 5f61 6273  lf.core.mu_r_abs
-0002fbd0: 2c20 7365 6c66 2e63 6f72 652e 6d75 5f72  , self.core.mu_r
-0002fbe0: 5f61 6273 2c20 302c 2030 2c20 7365 6c66  _abs, 0, 0, self
-0002fbf0: 2e63 6f72 652e 7369 676d 6120 2f20 3165  .core.sigma / 1e
-0002fc00: 362c 2030 2c20 302c 2031 2c0a 2020 2020  6, 0, 0, 1,.    
-0002fc10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fc20: 2020 2020 2020 2020 2020 2020 302c 2030              0, 0
-0002fc30: 2c20 3029 0a20 2020 2020 2020 2066 656d  , 0).        fem
-0002fc40: 6d2e 6d69 5f61 6464 6d61 7465 7269 616c  m.mi_addmaterial
-0002fc50: 2827 4169 7227 2c20 312c 2031 2c20 302c  ('Air', 1, 1, 0,
-0002fc60: 2030 2c20 302c 2030 2c20 302c 2031 2c20   0, 0, 0, 0, 1, 
-0002fc70: 302c 2030 2c20 3029 0a0a 2020 2020 2020  0, 0, 0)..      
-0002fc80: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-0002fc90: 2830 2c20 6c65 6e28 7365 6c66 2e77 696e  (0, len(self.win
-0002fca0: 6469 6e67 7329 293a 0a20 2020 2020 2020  dings)):.       
-0002fcb0: 2020 2020 2069 6620 7365 6c66 2e77 696e       if self.win
-0002fcc0: 6469 6e67 735b 695d 2e63 6f6e 6475 6374  dings[i].conduct
-0002fcd0: 6f72 5f74 7970 6520 3d3d 2043 6f6e 6475  or_type == Condu
-0002fce0: 6374 6f72 5479 7065 2e52 6f75 6e64 4c69  ctorType.RoundLi
-0002fcf0: 747a 3a0a 2020 2020 2020 2020 2020 2020  tz:.            
-0002fd00: 2020 2020 6665 6d6d 2e6d 695f 6164 646d      femm.mi_addm
-0002fd10: 6174 6572 6961 6c28 274c 6974 7a27 2c20  aterial('Litz', 
-0002fd20: 312c 2031 2c20 302c 2030 2c20 7365 6c66  1, 1, 0, 0, self
-0002fd30: 2e77 696e 6469 6e67 735b 695d 2e63 6f6e  .windings[i].con
-0002fd40: 645f 7369 676d 6120 2f20 3165 362c 2030  d_sigma / 1e6, 0
-0002fd50: 2c20 302c 2031 2c20 352c 2030 2c20 302c  , 0, 1, 5, 0, 0,
-0002fd60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002fd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fd80: 2020 2020 2073 656c 662e 7769 6e64 696e       self.windin
-0002fd90: 6773 5b69 5d2e 6e5f 7374 7261 6e64 732c  gs[i].n_strands,
-0002fda0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002fdb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002fdc0: 2020 2020 2032 202a 2031 3030 3020 2a20       2 * 1000 * 
-0002fdd0: 7365 6c66 2e77 696e 6469 6e67 735b 695d  self.windings[i]
-0002fde0: 2e73 7472 616e 645f 7261 6469 7573 2920  .strand_radius) 
-0002fdf0: 2023 2074 7970 6520 3a3d 2035 2e20 6c61   # type := 5. la
-0002fe00: 7374 2061 7267 756d 656e 740a 2020 2020  st argument.    
-0002fe10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0002fe20: 2e66 656d 6d74 5f70 7269 6e74 2866 224e  .femmt_print(f"N
-0002fe30: 756d 6265 7220 6f66 2073 7472 616e 6473  umber of strands
-0002fe40: 3a20 7b73 656c 662e 7769 6e64 696e 6773  : {self.windings
-0002fe50: 5b69 5d2e 6e5f 7374 7261 6e64 737d 2229  [i].n_strands}")
-0002fe60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002fe70: 2073 656c 662e 6665 6d6d 745f 7072 696e   self.femmt_prin
-0002fe80: 7428 6622 4469 616d 6574 6572 206f 6620  t(f"Diameter of 
-0002fe90: 7374 7261 6e64 7320 696e 206d 6d3a 207b  strands in mm: {
-0002fea0: 3220 2a20 3130 3030 202a 2073 656c 662e  2 * 1000 * self.
-0002feb0: 7769 6e64 696e 6773 5b69 5d2e 7374 7261  windings[i].stra
-0002fec0: 6e64 5f72 6164 6975 737d 2229 0a20 2020  nd_radius}").   
-0002fed0: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-0002fee0: 2e77 696e 6469 6e67 735b 695d 2e63 6f6e  .windings[i].con
-0002fef0: 6475 6374 6f72 5f74 7970 6520 3d3d 2043  ductor_type == C
-0002ff00: 6f6e 6475 6374 6f72 5479 7065 2e52 6f75  onductorType.Rou
-0002ff10: 6e64 536f 6c69 6420 5c0a 2020 2020 2020  ndSolid \.      
-0002ff20: 2020 2020 2020 2020 2020 2020 2020 6f72                or
-0002ff30: 2073 656c 662e 7769 6e64 696e 6773 5b69   self.windings[i
-0002ff40: 5d2e 636f 6e64 7563 746f 725f 7479 7065  ].conductor_type
-0002ff50: 203d 3d20 436f 6e64 7563 746f 7254 7970   == ConductorTyp
-0002ff60: 652e 5265 6374 616e 6775 6c61 7253 6f6c  e.RectangularSol
-0002ff70: 6964 3a0a 2020 2020 2020 2020 2020 2020  id:.            
-0002ff80: 2020 2020 6665 6d6d 2e6d 695f 6164 646d      femm.mi_addm
-0002ff90: 6174 6572 6961 6c28 2743 6f70 7065 7227  aterial('Copper'
-0002ffa0: 2c20 312c 2031 2c20 302c 2030 2c20 7365  , 1, 1, 0, 0, se
-0002ffb0: 6c66 2e77 696e 6469 6e67 735b 695d 2e63  lf.windings[i].c
-0002ffc0: 6f6e 645f 7369 676d 6120 2f20 3165 362c  ond_sigma / 1e6,
-0002ffd0: 2030 2c20 302c 2031 2c20 302c 2030 2c20   0, 0, 1, 0, 0, 
-0002ffe0: 302c 2030 2c20 3029 0a0a 2020 2020 2020  0, 0, 0)..      
-0002fff0: 2020 2320 3d3d 2043 6972 6375 6974 203d    # == Circuit =
-00030000: 3d0a 2020 2020 2020 2020 2320 636f 696c  =.        # coil
-00030010: 2061 7320 7365 656e 2066 726f 6d20 7468   as seen from th
-00030020: 6520 7465 726d 696e 616c 732e 0a20 2020  e terminals..   
-00030030: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-00030040: 6e67 6528 6c65 6e28 7365 6c66 2e77 696e  nge(len(self.win
-00030050: 6469 6e67 7329 293a 0a20 2020 2020 2020  dings)):.       
-00030060: 2020 2020 2066 656d 6d2e 6d69 5f61 6464       femm.mi_add
-00030070: 6369 7263 7072 6f70 2827 5769 6e64 696e  circprop('Windin
-00030080: 6727 202b 2073 7472 2869 202b 2031 292c  g' + str(i + 1),
-00030090: 2063 7572 7265 6e74 5b69 5d20 2a20 7369   current[i] * si
-000300a0: 676e 5b69 5d2c 2069 6e74 286e 6f74 2073  gn[i], int(not s
-000300b0: 656c 662e 7769 6e64 696e 6773 5b69 5d2e  elf.windings[i].
-000300c0: 7061 7261 6c6c 656c 2929 0a0a 2020 2020  parallel))..    
-000300d0: 2020 2020 2320 3d3d 2047 656f 6d65 7472      # == Geometr
-000300e0: 7920 3d3d 0a20 2020 2020 2020 2023 2041  y ==.        # A
-000300f0: 6464 2063 6f72 650a 2020 2020 2020 2020  dd core.        
-00030100: 6966 2073 656c 662e 6169 725f 6761 7073  if self.air_gaps
-00030110: 2e6e 756d 6265 7220 3d3d 2030 3a0a 2020  .number == 0:.  
-00030120: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-00030130: 695f 6472 6177 6c69 6e65 2873 656c 662e  i_drawline(self.
-00030140: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
-00030150: 6f77 5b34 2c20 305d 2c0a 2020 2020 2020  ow[4, 0],.      
-00030160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030170: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-00030180: 645f 6178 692e 705f 7769 6e64 6f77 5b34  d_axi.p_window[4
-00030190: 2c20 315d 2c0a 2020 2020 2020 2020 2020  , 1],.          
-000301a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000301b0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-000301c0: 692e 705f 7769 6e64 6f77 5b35 2c20 305d  i.p_window[5, 0]
-000301d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000301e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000301f0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00030200: 7769 6e64 6f77 5b35 2c20 315d 290a 2020  window[5, 1]).  
-00030210: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-00030220: 695f 6472 6177 6c69 6e65 2873 656c 662e  i_drawline(self.
-00030230: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
-00030240: 6f77 5b35 2c20 305d 2c0a 2020 2020 2020  ow[5, 0],.      
-00030250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030260: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-00030270: 645f 6178 692e 705f 7769 6e64 6f77 5b35  d_axi.p_window[5
-00030280: 2c20 315d 2c0a 2020 2020 2020 2020 2020  , 1],.          
-00030290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000302a0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-000302b0: 692e 705f 7769 6e64 6f77 5b37 2c20 305d  i.p_window[7, 0]
-000302c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000302d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000302e0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000302f0: 7769 6e64 6f77 5b37 2c20 315d 290a 2020  window[7, 1]).  
-00030300: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-00030310: 695f 6472 6177 6c69 6e65 2873 656c 662e  i_drawline(self.
-00030320: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
-00030330: 6f77 5b37 2c20 305d 2c0a 2020 2020 2020  ow[7, 0],.      
-00030340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030350: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-00030360: 645f 6178 692e 705f 7769 6e64 6f77 5b37  d_axi.p_window[7
-00030370: 2c20 315d 2c0a 2020 2020 2020 2020 2020  , 1],.          
-00030380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030390: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-000303a0: 692e 705f 7769 6e64 6f77 5b36 2c20 305d  i.p_window[6, 0]
-000303b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000303c0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000303d0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000303e0: 7769 6e64 6f77 5b36 2c20 315d 290a 2020  window[6, 1]).  
-000303f0: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-00030400: 695f 6472 6177 6c69 6e65 2873 656c 662e  i_drawline(self.
-00030410: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
-00030420: 6f77 5b36 2c20 305d 2c0a 2020 2020 2020  ow[6, 0],.      
-00030430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030440: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-00030450: 645f 6178 692e 705f 7769 6e64 6f77 5b36  d_axi.p_window[6
-00030460: 2c20 315d 2c0a 2020 2020 2020 2020 2020  , 1],.          
-00030470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030480: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-00030490: 692e 705f 7769 6e64 6f77 5b34 2c20 305d  i.p_window[4, 0]
-000304a0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000304b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000304c0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000304d0: 7769 6e64 6f77 5b34 2c20 315d 290a 2020  window[4, 1]).  
-000304e0: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-000304f0: 695f 6472 6177 6c69 6e65 2830 2c0a 2020  i_drawline(0,.  
-00030500: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030510: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00030520: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-00030530: 725b 322c 2031 5d2c 0a20 2020 2020 2020  r[2, 1],.       
-00030540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030550: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00030560: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
-00030570: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
-00030580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030590: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-000305a0: 705f 6f75 7465 725b 332c 2031 5d29 0a20  p_outer[3, 1]). 
-000305b0: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
-000305c0: 6d69 5f64 7261 776c 696e 6528 7365 6c66  mi_drawline(self
-000305d0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-000305e0: 6572 5b33 2c20 305d 2c0a 2020 2020 2020  er[3, 0],.      
+0002c820: 2020 2320 5265 6164 696e 6720 6461 7461    # Reading data
+0002c830: 2066 726f 6d20 7468 6520 6669 6c65 0a20   from the file. 
+0002c840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c850: 2020 2020 2020 2077 6974 6820 6f70 656e         with open
+0002c860: 286f 732e 7061 7468 2e6a 6f69 6e28 7769  (os.path.join(wi
+0002c870: 6e64 696e 675f 666f 6c64 6572 5f70 6174  nding_folder_pat
+0002c880: 682c 2066 227b 7265 735f 6e61 6d65 7d2e  h, f"{res_name}.
+0002c890: 6461 7422 2929 2061 7320 6664 3a0a 2020  dat")) as fd:.  
+0002c8a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c8b0: 2020 2020 2020 2020 2020 6c69 6e65 7320            lines 
+0002c8c0: 3d20 6664 2e72 6561 646c 696e 6573 2829  = fd.readlines()
+0002c8d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c8e0: 2020 2020 2020 2020 2023 2045 7874 7261           # Extra
+0002c8f0: 6374 696e 6720 7469 6d65 2073 7465 7073  cting time steps
+0002c900: 2061 6e64 2064 6174 6120 7661 6c75 6573   and data values
+0002c910: 2066 726f 6d20 7468 6520 6669 6c65 0a20   from the file. 
+0002c920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c930: 2020 2020 2020 2066 6f72 206c 696e 6520         for line 
+0002c940: 696e 206c 696e 6573 3a0a 2020 2020 2020  in lines:.      
+0002c950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c960: 2020 2020 2020 6c69 6e65 5f76 616c 7565        line_value
+0002c970: 7320 3d20 6c69 6e65 2e73 706c 6974 2829  s = line.split()
+0002c980: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002c990: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0002c9a0: 6c65 6e28 6c69 6e65 5f76 616c 7565 7329  len(line_values)
+0002c9b0: 203d 3d20 323a 0a20 2020 2020 2020 2020   == 2:.         
+0002c9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c9d0: 2020 2020 2020 2074 696d 655f 7374 6570         time_step
+0002c9e0: 732e 6170 7065 6e64 2866 6c6f 6174 286c  s.append(float(l
+0002c9f0: 696e 655f 7661 6c75 6573 5b30 5d29 290a  ine_values[0])).
+0002ca00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ca10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ca20: 6461 7461 2e61 7070 656e 6428 666c 6f61  data.append(floa
+0002ca30: 7428 6c69 6e65 5f76 616c 7565 735b 315d  t(line_values[1]
+0002ca40: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+0002ca50: 2020 2020 2020 2020 2020 2023 2066 696e             # fin
+0002ca60: 6469 6e67 2074 6865 2069 6e74 6567 7261  ding the integra
+0002ca70: 6c2c 2061 6e64 2074 6865 6e20 6361 6c63  l, and then calc
+0002ca80: 756c 6174 696e 6720 7468 6520 6176 6572  ulating the aver
+0002ca90: 6167 6520 2869 6e74 6567 7261 6c28 6461  age (integral(da
+0002caa0: 7461 292f 5429 0a20 2020 2020 2020 2020  ta)/T).         
+0002cab0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0002cac0: 6e74 6567 7261 6c20 3d20 6666 2e63 616c  ntegral = ff.cal
+0002cad0: 6375 6c61 7465 5f71 7561 6472 6174 7572  culate_quadratur
+0002cae0: 655f 696e 7465 6772 616c 2874 696d 655f  e_integral(time_
+0002caf0: 7374 6570 732c 2064 6174 6129 0a20 2020  steps, data).   
+0002cb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cb10: 2020 2020 2061 7665 7261 6765 203d 2066       average = f
+0002cb20: 662e 6361 6c63 756c 6174 655f 6176 6572  f.calculate_aver
+0002cb30: 6167 6528 696e 7465 6772 616c 2c20 7469  age(integral, ti
+0002cb40: 6d65 5f73 7465 7073 290a 2020 2020 2020  me_steps).      
+0002cb50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cb60: 2020 2320 7772 6974 6520 6176 6572 6167    # write averag
+0002cb70: 6520 6669 6c65 730a 2020 2020 2020 2020  e files.        
+0002cb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cb90: 6f75 7470 7574 5f66 696c 656e 616d 6520  output_filename 
+0002cba0: 3d20 6f73 2e70 6174 682e 6a6f 696e 2877  = os.path.join(w
+0002cbb0: 696e 6469 6e67 5f66 6f6c 6465 725f 7061  inding_folder_pa
+0002cbc0: 7468 2c20 6622 7b72 6573 5f6e 616d 657d  th, f"{res_name}
+0002cbd0: 5f61 7665 7261 6765 2e64 6174 2229 0a20  _average.dat"). 
+0002cbe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cbf0: 2020 2020 2020 2023 2077 7269 7469 6e67         # writing
+0002cc00: 2066 696c 6573 2066 6f72 2061 7665 7261   files for avera
+0002cc10: 6765 2076 616c 7565 730a 2020 2020 2020  ge values.      
+0002cc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cc30: 2020 7769 7468 206f 7065 6e28 6f75 7470    with open(outp
+0002cc40: 7574 5f66 696c 656e 616d 652c 2027 7727  ut_filename, 'w'
+0002cc50: 2920 6173 2066 696c 653a 0a20 2020 2020  ) as file:.     
+0002cc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002cc70: 2020 2020 2020 2066 696c 652e 7772 6974         file.writ
+0002cc80: 6528 7374 7228 6176 6572 6167 6529 290a  e(str(average)).
+0002cc90: 0a20 2020 2020 2020 2023 2066 696e 6469  .        # findi
+0002cca0: 6e67 2074 6865 2061 7665 7261 6765 2061  ng the average a
+0002ccb0: 6e64 2052 4d53 206f 6620 6375 7272 656e  nd RMS of curren
+0002ccc0: 7420 746f 2075 7365 2069 6e20 6c6f 6720  t to use in log 
+0002ccd0: 6675 6e63 7469 6f6e 0a20 2020 2020 2020  function.       
+0002cce0: 2066 6f72 206e 756d 2069 6e20 7261 6e67   for num in rang
+0002ccf0: 6528 6c65 6e28 7365 6c66 2e77 696e 6469  e(len(self.windi
+0002cd00: 6e67 7329 293a 0a20 2020 2020 2020 2020  ngs)):.         
+0002cd10: 2020 2069 6620 7365 6c66 2e63 7572 7265     if self.curre
+0002cd20: 6e74 5b6e 756d 5d3a 0a20 2020 2020 2020  nt[num]:.       
+0002cd30: 2020 2020 2020 2020 2023 2073 756d 2074           # sum t
+0002cd40: 6865 2063 7572 7265 6e74 7320 666f 7220  he currents for 
+0002cd50: 6576 6572 7920 7769 6e64 696e 670a 2020  every winding.  
+0002cd60: 2020 2020 2020 2020 2020 2020 2020 7375                su
+0002cd70: 6d5f 6375 7272 656e 7420 3d20 7375 6d28  m_current = sum(
+0002cd80: 7365 6c66 2e63 7572 7265 6e74 5b6e 756d  self.current[num
+0002cd90: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
+0002cda0: 2020 2023 2066 696e 6469 6e67 2074 6865     # finding the
+0002cdb0: 2061 7665 7261 6765 206f 6620 6375 7272   average of curr
+0002cdc0: 656e 7420 666f 7220 6576 6572 7920 7769  ent for every wi
+0002cdd0: 6e64 696e 6720 616e 6420 6164 6420 6974  nding and add it
+0002cde0: 2074 6f20 6c69 7374 2074 6f20 7573 6520   to list to use 
+0002cdf0: 6974 2069 6e20 7772 6974 655f 6c6f 6720  it in write_log 
+0002ce00: 6675 6e63 7469 6f6e 0a20 2020 2020 2020  function.       
+0002ce10: 2020 2020 2020 2020 2061 7665 7261 6765           average
+0002ce20: 203d 2073 756d 5f63 7572 7265 6e74 202f   = sum_current /
+0002ce30: 206c 656e 2873 656c 662e 6375 7272 656e   len(self.curren
+0002ce40: 745b 6e75 6d5d 290a 2020 2020 2020 2020  t[num]).        
+0002ce50: 2020 2020 2020 2020 7365 6c66 2e61 7665          self.ave
+0002ce60: 7261 6765 5f63 7572 7265 6e74 732e 6170  rage_currents.ap
+0002ce70: 7065 6e64 2861 7665 7261 6765 290a 2020  pend(average).  
+0002ce80: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+0002ce90: 6669 6e64 2074 6865 2072 6d73 2066 6f72  find the rms for
+0002cea0: 2063 7572 7265 6e74 205b 7371 7274 2869   current [sqrt(i
+0002ceb0: 6e74 6567 7261 6c28 6461 7461 29c2 b22f  ntegral(data)../
+0002cec0: 545d 0a20 2020 2020 2020 2020 2020 2020  T].             
+0002ced0: 2020 2073 7175 6172 6564 5f69 6e74 6567     squared_integ
+0002cee0: 7261 6c20 3d20 6666 2e63 616c 6375 6c61  ral = ff.calcula
+0002cef0: 7465 5f73 7175 6172 6564 5f71 7561 6472  te_squared_quadr
+0002cf00: 6174 7572 655f 696e 7465 6772 616c 2873  ature_integral(s
+0002cf10: 656c 662e 7469 6d65 2c20 7365 6c66 2e63  elf.time, self.c
+0002cf20: 7572 7265 6e74 5b6e 756d 5d29 0a20 2020  urrent[num]).   
+0002cf30: 2020 2020 2020 2020 2020 2020 2023 2066               # f
+0002cf40: 696e 6469 6e67 2074 6865 2072 6d73 206f  inding the rms o
+0002cf50: 6620 6375 7272 656e 7420 666f 7220 6576  f current for ev
+0002cf60: 6572 7920 7769 6e64 696e 6720 616e 6420  ery winding and 
+0002cf70: 6164 6420 6974 2074 6f20 6c69 7374 2074  add it to list t
+0002cf80: 6f20 7573 6520 6974 2069 6e20 7772 6974  o use it in writ
+0002cf90: 655f 6c6f 6720 6675 6e63 7469 6f6e 0a20  e_log function. 
+0002cfa0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+0002cfb0: 5f72 6d73 203d 2066 662e 6361 6c63 756c  _rms = ff.calcul
+0002cfc0: 6174 655f 726d 7328 7371 7561 7265 645f  ate_rms(squared_
+0002cfd0: 696e 7465 6772 616c 2c20 7365 6c66 2e74  integral, self.t
+0002cfe0: 696d 6529 0a20 2020 2020 2020 2020 2020  ime).           
+0002cff0: 2020 2020 2073 656c 662e 726d 735f 6375       self.rms_cu
+0002d000: 7272 656e 7473 2e61 7070 656e 6428 695f  rrents.append(i_
+0002d010: 726d 7329 0a0a 2020 2020 6465 6620 6c6f  rms)..    def lo
+0002d020: 6164 5f72 6573 756c 7428 7365 6c66 2c20  ad_result(self, 
+0002d030: 7265 735f 6e61 6d65 3a20 7374 722c 2072  res_name: str, r
+0002d040: 6573 5f74 7970 653a 2073 7472 203d 2022  es_type: str = "
+0002d050: 7661 6c75 6522 2c20 6c61 7374 5f6e 3a20  value", last_n: 
+0002d060: 696e 7420 3d20 312c 2070 6172 743a 2073  int = 1, part: s
+0002d070: 7472 203d 2022 7265 616c 222c 0a20 2020  tr = "real",.   
+0002d080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d090: 2070 6f73 6974 696f 6e3a 2069 6e74 203d   position: int =
+0002d0a0: 2030 2c20 6176 6572 6167 653a 2062 6f6f   0, average: boo
+0002d0b0: 6c20 3d20 4661 6c73 652c 2072 6d73 3a20  l = False, rms: 
+0002d0c0: 626f 6f6c 203d 2046 616c 7365 293a 0a20  bool = False):. 
+0002d0d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0002d0e0: 2020 204c 6f61 6420 7468 6520 226c 6173     Load the "las
+0002d0f0: 745f 6e22 2070 6172 616d 6574 6572 7320  t_n" parameters 
+0002d100: 6672 6f6d 2061 2072 6573 756c 7420 6669  from a result fi
+0002d110: 6c65 206f 6620 7468 6520 7363 616c 6172  le of the scalar
+0002d120: 2071 7561 6e74 6974 7920 2272 6573 5f6e   quantity "res_n
+0002d130: 616d 6522 2e0a 0a20 2020 2020 2020 2045  ame"...        E
+0002d140: 6974 6865 7220 7468 6520 7265 616c 206f  ither the real o
+0002d150: 7220 696d 6167 696e 6172 7920 7061 7274  r imaginary part
+0002d160: 2063 616e 2062 6520 6368 6f73 656e 2e0a   can be chosen..
+0002d170: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0002d180: 7061 7274 3a20 2272 6561 6c22 206f 7220  part: "real" or 
+0002d190: 2269 6d61 6769 6e61 7279 2220 7061 7274  "imaginary" part
+0002d1a0: 2063 616e 2062 6520 6368 6f73 656e 0a20   can be chosen. 
+0002d1b0: 2020 2020 2020 203a 7061 7261 6d20 7265         :param re
+0002d1c0: 735f 6e61 6d65 3a20 6e61 6d65 206f 6620  s_name: name of 
+0002d1d0: 7468 6520 7175 616e 7469 7479 0a20 2020  the quantity.   
+0002d1e0: 2020 2020 203a 7061 7261 6d20 7265 735f       :param res_
+0002d1f0: 7479 7065 3a20 7479 7065 206f 6620 7468  type: type of th
+0002d200: 6520 7175 616e 7469 7479 3a20 2276 616c  e quantity: "val
+0002d210: 7565 2220 6f72 2022 6369 7263 7569 7422  ue" or "circuit"
+0002d220: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0002d230: 6c61 7374 5f6e 3a20 4e75 6d62 6572 206f  last_n: Number o
+0002d240: 6620 7061 7261 6d65 7465 7273 2074 6f20  f parameters to 
+0002d250: 6265 206c 6f61 6465 640a 2020 2020 2020  be loaded.      
+0002d260: 2020 3a70 6172 616d 2070 6f73 6974 696f    :param positio
+0002d270: 6e3a 0a20 2020 2020 2020 203a 7265 7475  n:.        :retu
+0002d280: 726e 3a20 6c61 7374 5f6e 2065 6e74 7269  rn: last_n entri
+0002d290: 6573 206f 6620 7468 6520 6368 6f73 656e  es of the chosen
+0002d2a0: 2072 6573 756c 7420 6669 6c65 0a20 2020   result file.   
+0002d2b0: 2020 2020 203a 7274 7970 653a 206c 6973       :rtype: lis
+0002d2c0: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
+0002d2d0: 2061 7665 7261 6765 3a20 6176 6572 6167   average: averag
+0002d2e0: 6520 7265 7375 6c74 206f 7220 6e6f 742c  e result or not,
+0002d2f0: 2064 6566 696e 6564 2066 616c 7365 0a20   defined false. 
+0002d300: 2020 2020 2020 203a 7479 7065 2061 7665         :type ave
+0002d310: 7261 6765 3a20 626f 6f6c 0a20 2020 2020  rage: bool.     
+0002d320: 2020 203a 7061 7261 6d20 726d 733a 2072     :param rms: r
+0002d330: 6d73 2072 6573 756c 7420 6f72 206e 6f74  ms result or not
+0002d340: 2c20 6465 6669 6e65 6420 6661 6c73 650a  , defined false.
+0002d350: 2020 2020 2020 2020 3a74 7970 6520 726d          :type rm
+0002d360: 733a 2062 6f6f 6c0a 2020 2020 2020 2020  s: bool.        
+0002d370: 2222 220a 2020 2020 2020 2020 6966 2072  """.        if r
+0002d380: 6573 5f74 7970 6520 3d3d 2022 7661 6c75  es_type == "valu
+0002d390: 6522 3a0a 2020 2020 2020 2020 2020 2020  e":.            
+0002d3a0: 7265 735f 7061 7468 203d 2073 656c 662e  res_path = self.
+0002d3b0: 6669 6c65 5f64 6174 612e 655f 6d5f 7661  file_data.e_m_va
+0002d3c0: 6c75 6573 5f66 6f6c 6465 725f 7061 7468  lues_folder_path
+0002d3d0: 0a20 2020 2020 2020 2065 6c69 6620 7265  .        elif re
+0002d3e0: 735f 7479 7065 203d 3d20 2263 6972 6375  s_type == "circu
+0002d3f0: 6974 223a 0a20 2020 2020 2020 2020 2020  it":.           
+0002d400: 2072 6573 5f70 6174 6820 3d20 7365 6c66   res_path = self
+0002d410: 2e66 696c 655f 6461 7461 2e65 5f6d 5f63  .file_data.e_m_c
+0002d420: 6972 6375 6974 5f66 6f6c 6465 725f 7061  ircuit_folder_pa
+0002d430: 7468 0a20 2020 2020 2020 2065 6c73 653a  th.        else:
+0002d440: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+0002d450: 7365 2056 616c 7565 4572 726f 7228 6622  se ValueError(f"
+0002d460: 496e 7661 6c69 6420 7265 735f 7479 7065  Invalid res_type
+0002d470: 3a20 7b72 6573 5f74 7970 657d 2229 0a0a  : {res_type}")..
+0002d480: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0002d490: 7369 6d75 6c61 7469 6f6e 5f74 7970 6520  simulation_type 
+0002d4a0: 3d3d 2053 696d 756c 6174 696f 6e54 7970  == SimulationTyp
+0002d4b0: 652e 4672 6571 446f 6d61 696e 3a0a 0a20  e.FreqDomain:.. 
+0002d4c0: 2020 2020 2020 2020 2020 2077 6974 6820             with 
+0002d4d0: 6f70 656e 286f 732e 7061 7468 2e6a 6f69  open(os.path.joi
+0002d4e0: 6e28 7265 735f 7061 7468 2c20 6622 7b72  n(res_path, f"{r
+0002d4f0: 6573 5f6e 616d 657d 2e64 6174 2229 2920  es_name}.dat")) 
+0002d500: 6173 2066 643a 0a20 2020 2020 2020 2020  as fd:.         
+0002d510: 2020 2020 2020 206c 696e 6573 203d 2066         lines = f
+0002d520: 642e 7265 6164 6c69 6e65 7328 295b 2d6c  d.readlines()[-l
+0002d530: 6173 745f 6e3a 5d0a 2020 2020 2020 2020  ast_n:].        
+0002d540: 2020 2020 2020 2020 6966 2070 6172 7420          if part 
+0002d550: 3d3d 2022 7265 616c 223a 0a20 2020 2020  == "real":.     
+0002d560: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0002d570: 6573 756c 7420 3d20 5b66 6c6f 6174 286c  esult = [float(l
+0002d580: 696e 652e 7370 6c69 7428 7365 703d 2720  ine.split(sep=' 
+0002d590: 2729 5b31 202b 2032 202a 2070 6f73 6974  ')[1 + 2 * posit
+0002d5a0: 696f 6e20 2b20 315d 2920 666f 7220 6e2c  ion + 1]) for n,
+0002d5b0: 206c 696e 6520 696e 2065 6e75 6d65 7261   line in enumera
+0002d5c0: 7465 286c 696e 6573 295d 0a20 2020 2020  te(lines)].     
+0002d5d0: 2020 2020 2020 2020 2020 2069 6620 7061             if pa
+0002d5e0: 7274 203d 3d20 2269 6d61 6769 6e61 7279  rt == "imaginary
+0002d5f0: 223a 0a20 2020 2020 2020 2020 2020 2020  ":.             
+0002d600: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0002d610: 5b66 6c6f 6174 286c 696e 652e 7370 6c69  [float(line.spli
+0002d620: 7428 7365 703d 2720 2729 5b32 202b 2032  t(sep=' ')[2 + 2
+0002d630: 202a 2070 6f73 6974 696f 6e20 2b20 315d   * position + 1]
+0002d640: 2920 666f 7220 6e2c 206c 696e 6520 696e  ) for n, line in
+0002d650: 2065 6e75 6d65 7261 7465 286c 696e 6573   enumerate(lines
+0002d660: 295d 0a0a 2020 2020 2020 2020 656c 6966  )]..        elif
+0002d670: 2073 656c 662e 7369 6d75 6c61 7469 6f6e   self.simulation
+0002d680: 5f74 7970 6520 3d3d 2053 696d 756c 6174  _type == Simulat
+0002d690: 696f 6e54 7970 652e 5469 6d65 446f 6d61  ionType.TimeDoma
+0002d6a0: 696e 3a0a 0a20 2020 2020 2020 2020 2020  in:..           
+0002d6b0: 2069 6620 6176 6572 6167 653a 0a0a 2020   if average:..  
+0002d6c0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+0002d6d0: 7468 206f 7065 6e28 6f73 2e70 6174 682e  th open(os.path.
+0002d6e0: 6a6f 696e 2872 6573 5f70 6174 682c 2066  join(res_path, f
+0002d6f0: 227b 7265 735f 6e61 6d65 7d5f 6176 6572  "{res_name}_aver
+0002d700: 6167 652e 6461 7422 2929 2061 7320 6664  age.dat")) as fd
+0002d710: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002d720: 2020 2020 2020 6c69 6e65 203d 2066 642e        line = fd.
+0002d730: 7265 6164 6c69 6e65 2829 2e73 7472 6970  readline().strip
+0002d740: 2829 0a20 2020 2020 2020 2020 2020 2020  ().             
+0002d750: 2020 2020 2020 2072 6573 756c 7420 3d20         result = 
+0002d760: 5b66 6c6f 6174 286c 696e 6529 5d0a 0a20  [float(line)].. 
+0002d770: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0002d780: 726d 733a 0a20 2020 2020 2020 2020 2020  rms:.           
+0002d790: 2020 2020 2077 6974 6820 6f70 656e 286f       with open(o
+0002d7a0: 732e 7061 7468 2e6a 6f69 6e28 7265 735f  s.path.join(res_
+0002d7b0: 7061 7468 2c20 6622 7b72 6573 5f6e 616d  path, f"{res_nam
+0002d7c0: 657d 5f72 6d73 2e64 6174 2229 2920 6173  e}_rms.dat")) as
+0002d7d0: 2066 643a 0a20 2020 2020 2020 2020 2020   fd:.           
+0002d7e0: 2020 2020 2020 2020 206c 696e 6520 3d20           line = 
+0002d7f0: 6664 2e72 6561 646c 696e 6528 292e 7374  fd.readline().st
+0002d800: 7269 7028 290a 2020 2020 2020 2020 2020  rip().          
+0002d810: 2020 2020 2020 2020 2020 7265 7375 6c74            result
+0002d820: 203d 205b 666c 6f61 7428 6c69 6e65 295d   = [float(line)]
+0002d830: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
+0002d840: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002d850: 2020 2023 2074 696d 655f 7374 6570 7320     # time_steps 
+0002d860: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
+0002d870: 2020 2020 2023 2049 6e69 7469 616c 697a       # Initializ
+0002d880: 696e 670a 2020 2020 2020 2020 2020 2020  ing.            
+0002d890: 2020 2020 6461 7461 203d 205b 5d0a 2020      data = [].  
+0002d8a0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+0002d8b0: 7468 206f 7065 6e28 6f73 2e70 6174 682e  th open(os.path.
+0002d8c0: 6a6f 696e 2872 6573 5f70 6174 682c 2066  join(res_path, f
+0002d8d0: 227b 7265 735f 6e61 6d65 7d2e 6461 7422  "{res_name}.dat"
+0002d8e0: 2929 2061 7320 6664 3a0a 2020 2020 2020  )) as fd:.      
+0002d8f0: 2020 2020 2020 2020 2020 2020 2020 6c69                li
+0002d900: 6e65 7320 3d20 6664 2e72 6561 646c 696e  nes = fd.readlin
+0002d910: 6573 2829 0a20 2020 2020 2020 2020 2020  es().           
+0002d920: 2020 2020 2020 2020 2066 6f72 206c 696e           for lin
+0002d930: 6520 696e 206c 696e 6573 3a0a 2020 2020  e in lines:.    
+0002d940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d950: 2020 2020 6c69 6e65 5f76 616c 7565 7320      line_values 
+0002d960: 3d20 6c69 6e65 2e73 706c 6974 2829 0a20  = line.split(). 
+0002d970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d980: 2020 2020 2020 2069 6620 6c65 6e28 6c69         if len(li
+0002d990: 6e65 5f76 616c 7565 7329 203d 3d20 323a  ne_values) == 2:
+0002d9a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d9b0: 2020 2020 2020 2020 2020 2020 2023 2074               # t
+0002d9c0: 696d 655f 7374 6570 732e 6170 7065 6e64  ime_steps.append
+0002d9d0: 2866 6c6f 6174 286c 696e 655f 7661 6c75  (float(line_valu
+0002d9e0: 6573 5b30 5d29 290a 2020 2020 2020 2020  es[0])).        
+0002d9f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002da00: 2020 2020 6461 7461 2e61 7070 656e 6428      data.append(
+0002da10: 666c 6f61 7428 6c69 6e65 5f76 616c 7565  float(line_value
+0002da20: 735b 315d 2929 0a0a 2020 2020 2020 2020  s[1]))..        
+0002da30: 2020 2020 2020 2020 7265 7375 6c74 203d          result =
+0002da40: 206c 6973 7428 7a69 7028 6461 7461 2929   list(zip(data))
+0002da50: 2020 2320 5265 7475 726e 7320 6c69 7374    # Returns list
+0002da60: 206f 6620 2874 696d 652c 2064 6174 6129   of (time, data)
+0002da70: 2070 6169 7273 0a0a 2020 2020 2020 2020   pairs..        
+0002da80: 7265 7475 726e 2072 6573 756c 740a 0a20  return result.. 
+0002da90: 2020 2023 2020 2d20 202d 2020 2d20 202d     #  -  -  -  -
+0002daa0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+0002dab0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+0002dac0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0002dad0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+0002dae0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+0002daf0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0002db00: 2020 2d20 202d 0a20 2020 2023 204c 6974    -  -.    # Lit
+0002db10: 7a20 4170 7072 6f78 696d 6174 696f 6e20  z Approximation 
+0002db20: 5b69 6e74 6572 6e61 6c20 6d65 7468 6f64  [internal method
+0002db30: 735d 0a20 2020 2064 6566 2067 656e 6572  s].    def gener
+0002db40: 6174 655f 6c6f 6164 5f6c 6974 7a5f 6170  ate_load_litz_ap
+0002db50: 7072 6f78 696d 6174 696f 6e5f 7061 7261  proximation_para
+0002db60: 6d65 7465 7273 2873 656c 6629 3a0a 2020  meters(self):.  
+0002db70: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0002db80: 2020 4465 7465 726d 696e 6520 7468 6520    Determine the 
+0002db90: 6c69 747a 2d61 7070 726f 7869 6d61 7469  litz-approximati
+0002dba0: 6f6e 2063 6f65 6666 6963 6965 6e74 732e  on coefficients.
+0002dbb0: 0a0a 2020 2020 2020 2020 4368 6563 6b73  ..        Checks
+0002dbc0: 2069 6620 6c69 747a 2d61 7070 726f 7869   if litz-approxi
+0002dbd0: 6d61 7469 6f6e 2070 6172 616d 6574 6572  mation parameter
+0002dbe0: 7320 6578 6973 7473 2e20 496e 2063 6173  s exists. In cas
+0002dbf0: 6520 6f66 206e 6f6e 2d65 7869 7374 696e  e of non-existin
+0002dc00: 6720 6c69 747a 2d70 6172 616d 6574 6572  g litz-parameter
+0002dc10: 7320 666f 7220 7468 6520 6365 7274 6169  s for the certai
+0002dc20: 6e0a 2020 2020 2020 2020 6c69 747a 2c20  n.        litz, 
+0002dc30: 7468 6520 6c69 747a 2070 6172 616d 6574  the litz paramet
+0002dc40: 6572 7320 6172 6520 6765 6e65 7261 7465  ers are generate
+0002dc50: 6420 6469 7265 6374 6c79 0a20 2020 2020  d directly.     
+0002dc60: 2020 2022 2222 0a20 2020 2020 2020 2066     """.        f
+0002dc70: 6f72 206e 756d 2069 6e20 7261 6e67 6528  or num in range(
+0002dc80: 6c65 6e28 7365 6c66 2e77 696e 6469 6e67  len(self.winding
+0002dc90: 7329 293a 0a20 2020 2020 2020 2020 2020  s)):.           
+0002dca0: 2069 6620 7365 6c66 2e77 696e 6469 6e67   if self.winding
+0002dcb0: 735b 6e75 6d5d 2e63 6f6e 6475 6374 6f72  s[num].conductor
+0002dcc0: 5f74 7970 6520 3d3d 2043 6f6e 6475 6374  _type == Conduct
+0002dcd0: 6f72 5479 7065 2e52 6f75 6e64 4c69 747a  orType.RoundLitz
+0002dce0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002dcf0: 2020 2320 2d2d 2d0a 2020 2020 2020 2020    # ---.        
+0002dd00: 2020 2020 2020 2020 2320 4c69 747a 2041          # Litz A
+0002dd10: 7070 726f 7869 6d61 7469 6f6e 2043 6f65  pproximation Coe
+0002dd20: 6666 6963 6965 6e74 7320 7765 7265 2063  fficients were c
+0002dd30: 7265 6174 6564 2077 6974 6820 3420 6c61  reated with 4 la
+0002dd40: 7965 7273 0a20 2020 2020 2020 2020 2020  yers.           
+0002dd50: 2020 2020 2023 2054 6861 7427 7320 7768       # That's wh
+0002dd60: 7920 6865 7265 2061 2068 6172 642d 636f  y here a hard-co
+0002dd70: 6465 6420 3420 6973 2069 6d70 6c65 6d65  ded 4 is impleme
+0002dd80: 6e74 6564 0a20 2020 2020 2020 2020 2020  nted.           
+0002dd90: 2020 2020 2023 2069 6620 6f73 2e70 6174       # if os.pat
+0002dda0: 682e 6973 6669 6c65 2873 656c 662e 7061  h.isfile(self.pa
+0002ddb0: 7468 202b 0a20 2020 2020 2020 2020 2020  th +.           
+0002ddc0: 2020 2020 2023 2066 222f 5374 7261 6e64       # f"/Strand
+0002ddd0: 735f 436f 6566 6669 6369 656e 7473 2f63  s_Coefficients/c
+0002dde0: 6f65 6666 2f70 425f 5253 5f6c 617b 7365  oeff/pB_RS_la{se
+0002ddf0: 6c66 2e77 696e 6469 6e67 735b 6e75 6d5d  lf.windings[num]
+0002de00: 2e66 667d 5f7b 7365 6c66 2e6e 5f6c 6179  .ff}_{self.n_lay
+0002de10: 6572 735b 6e75 6d5d 7d6c 6179 6572 2e64  ers[num]}layer.d
+0002de20: 6174 2229 3a0a 2020 2020 2020 2020 2020  at"):.          
+0002de30: 2020 2020 2020 6966 206f 732e 7061 7468        if os.path
+0002de40: 2e65 7869 7374 7328 6f73 2e70 6174 682e  .exists(os.path.
+0002de50: 6a6f 696e 2873 656c 662e 6669 6c65 5f64  join(self.file_d
+0002de60: 6174 612e 655f 6d5f 7374 7261 6e64 735f  ata.e_m_strands_
+0002de70: 636f 6566 6669 6369 656e 7473 5f66 6f6c  coefficients_fol
+0002de80: 6465 725f 7061 7468 2c20 2263 6f65 6666  der_path, "coeff
+0002de90: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+0002dea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002deb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002dec0: 2020 6622 7042 5f52 535f 6c61 7b73 656c    f"pB_RS_la{sel
+0002ded0: 662e 7769 6e64 696e 6773 5b6e 756d 5d2e  f.windings[num].
+0002dee0: 6666 7d5f 346c 6179 6572 2e64 6174 2229  ff}_4layer.dat")
+0002def0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
+0002df00: 2020 2020 2020 2073 656c 662e 6665 6d6d         self.femm
+0002df10: 745f 7072 696e 7428 2243 6f65 6666 6963  t_print("Coeffic
+0002df20: 6965 6e74 7320 666f 7220 7374 616e 6473  ients for stands
+0002df30: 2061 7070 726f 7869 6d61 7469 6f6e 2061   approximation a
+0002df40: 7265 2066 6f75 6e64 2e22 290a 0a20 2020  re found.")..   
+0002df50: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+0002df60: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+0002df70: 2020 2020 2020 2023 2052 6f75 6e64 696e         # Roundin
+0002df80: 6720 5820 746f 2066 6974 2069 7420 7769  g X to fit it wi
+0002df90: 7468 2063 6f72 7265 7370 6f6e 6469 6e67  th corresponding
+0002dfa0: 2070 6172 616d 6574 6572 7320 6672 6f6d   parameters from
+0002dfb0: 2074 6865 2064 6174 6162 6173 650a 2020   the database.  
+0002dfc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002dfd0: 2020 5820 3d20 7365 6c66 2e72 6564 5f66    X = self.red_f
+0002dfe0: 7265 715b 6e75 6d5d 0a20 2020 2020 2020  req[num].       
+0002dff0: 2020 2020 2020 2020 2020 2020 2058 203d               X =
+0002e000: 206e 702e 6172 6f75 6e64 2858 2c20 6465   np.around(X, de
+0002e010: 6369 6d61 6c73 3d33 290a 2020 2020 2020  cimals=3).      
+0002e020: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0002e030: 6c66 2e66 656d 6d74 5f70 7269 6e74 2866  lf.femmt_print(f
+0002e040: 2252 6f75 6e64 6564 2052 6564 7563 6564  "Rounded Reduced
+0002e050: 2066 7265 7175 656e 6379 2058 203d 207b   frequency X = {
+0002e060: 587d 2229 0a20 2020 2020 2020 2020 2020  X}").           
+0002e070: 2020 2020 2020 2020 2073 656c 662e 6372           self.cr
+0002e080: 6561 7465 5f73 7472 616e 645f 636f 6566  eate_strand_coef
+0002e090: 6628 6e75 6d29 0a0a 2020 2020 6465 6620  f(num)..    def 
+0002e0a0: 6372 6561 7465 5f73 7472 616e 645f 636f  create_strand_co
+0002e0b0: 6566 6628 7365 6c66 2c20 7769 6e64 696e  eff(self, windin
+0002e0c0: 675f 6e75 6d62 6572 3a20 696e 7429 202d  g_number: int) -
+0002e0d0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+0002e0e0: 2222 220a 2020 2020 2020 2020 4372 6561  """.        Crea
+0002e0f0: 7465 2074 6865 2069 6e69 7469 616c 2073  te the initial s
+0002e100: 7472 616e 6420 636f 6566 6669 6369 656e  trand coefficien
+0002e110: 7473 2066 6f72 2061 2063 6572 7461 696e  ts for a certain
+0002e120: 206c 6974 7a20 7769 7265 2e0a 0a20 2020   litz wire...   
+0002e130: 2020 2020 2054 6869 7320 6675 6e63 7469       This functi
+0002e140: 6f6e 2063 6f6d 6573 2069 6e74 6f20 6163  on comes into ac
+0002e150: 636f 756e 7420 696e 2063 6173 6520 6f66  count in case of
+0002e160: 2074 6865 206c 6974 7a2d 636f 6566 6669   the litz-coeffi
+0002e170: 6369 656e 7473 2061 7265 206e 6f74 206b  cients are not k
+0002e180: 6e6f 776e 2073 6f20 6661 722e 0a20 2020  nown so far..   
+0002e190: 2020 2020 2041 6674 6572 2067 656e 6572       After gener
+0002e1a0: 6174 696e 6720 7468 6520 6c69 747a 2d63  ating the litz-c
+0002e1b0: 6f65 6666 6963 6965 6e74 732c 2074 6865  oefficients, the
+0002e1c0: 2072 6573 756c 7473 2061 7265 2073 746f   results are sto
+0002e1d0: 7265 6420 746f 2061 766f 6964 2061 2073  red to avoid a s
+0002e1e0: 6563 6f6e 6420 7469 6d65 2d63 6f6e 7375  econd time-consu
+0002e1f0: 6d69 6e67 0a20 2020 2020 2020 2073 7472  ming.        str
+0002e200: 616e 6420 636f 6566 6669 6369 656e 7473  and coefficients
+0002e210: 2067 656e 6572 6174 696f 6e2e 0a0a 2020   generation...  
+0002e220: 2020 2020 2020 5468 6973 2066 756e 6374        This funct
+0002e230: 696f 6e20 7365 6e64 7320 636f 6d6d 616e  ion sends comman
+0002e240: 6473 2076 6961 2074 6578 742d 6669 6c65  ds via text-file
+0002e250: 2074 6f20 676d 7368 2074 6f20 6765 6e65   to gmsh to gene
+0002e260: 7261 7465 2074 6865 2073 7472 616e 6420  rate the strand 
+0002e270: 636f 6566 6669 6369 656e 7473 2e20 5468  coefficients. Th
+0002e280: 6520 6f6e 656c 6162 2028 676d 7368 2920  e onelab (gmsh) 
+0002e290: 636c 6965 6e74 0a20 2020 2020 2020 2069  client.        i
+0002e2a0: 7320 6765 6e65 7261 7465 6420 696e 2061  s generated in a
+0002e2b0: 206e 6577 2069 6e73 7461 6e63 652e 0a0a   new instance...
+0002e2c0: 2020 2020 2020 2020 3a70 6172 616d 2077          :param w
+0002e2d0: 696e 6469 6e67 5f6e 756d 6265 723a 2057  inding_number: W
+0002e2e0: 696e 6469 6e67 206e 756d 6265 720a 2020  inding number.  
+0002e2f0: 2020 2020 2020 3a74 7970 6520 7769 6e64        :type wind
+0002e300: 696e 675f 6e75 6d62 6572 3a20 696e 740a  ing_number: int.
+0002e310: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0002e320: 2020 2020 7365 6c66 2e66 656d 6d74 5f70      self.femmt_p
+0002e330: 7269 6e74 2822 5c6e 220a 2020 2020 2020  rint("\n".      
+0002e340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e350: 2020 2022 5072 652d 5369 6d75 6c61 7469     "Pre-Simulati
+0002e360: 6f6e 5c6e 220a 2020 2020 2020 2020 2020  on\n".          
+0002e370: 2020 2020 2020 2020 2020 2020 2020 2022                 "
+0002e380: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002e390: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002e3a0: 2d2d 2d2d 2d2d 2d2d 2d5c 6e22 0a20 2020  ---------\n".   
+0002e3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e3c0: 2020 2020 2020 2243 7265 6174 6520 636f        "Create co
+0002e3d0: 6566 6669 6369 656e 7473 2066 6f72 2073  efficients for s
+0002e3e0: 7472 616e 6473 2061 7070 726f 7869 6d61  trands approxima
+0002e3f0: 7469 6f6e 5c6e 2229 0a0a 2020 2020 2020  tion\n")..      
+0002e400: 2020 7465 7874 5f66 696c 6520 3d20 6f70    text_file = op
+0002e410: 656e 286f 732e 7061 7468 2e6a 6f69 6e28  en(os.path.join(
+0002e420: 7365 6c66 2e66 696c 655f 6461 7461 2e65  self.file_data.e
+0002e430: 5f6d 5f73 7472 616e 6473 5f63 6f65 6666  _m_strands_coeff
+0002e440: 6963 6965 6e74 735f 666f 6c64 6572 5f70  icients_folder_p
+0002e450: 6174 682c 2022 5072 6550 6172 616d 6574  ath, "PreParamet
+0002e460: 6572 2e70 726f 2229 2c20 2277 2229 0a0a  er.pro"), "w")..
+0002e470: 2020 2020 2020 2020 2320 4c69 747a 2041          # Litz A
+0002e480: 7070 726f 7869 6d61 7469 6f6e 2043 6f65  pproximation Coe
+0002e490: 6666 6963 6965 6e74 7320 6172 6520 6372  fficients are cr
+0002e4a0: 6561 7465 6420 7769 7468 2034 206c 6179  eated with 4 lay
+0002e4b0: 6572 730a 2020 2020 2020 2020 2320 5468  ers.        # Th
+0002e4c0: 6174 2773 2077 6879 2068 6572 6520 6120  at's why here a 
+0002e4d0: 6861 7264 2d63 6f64 6564 2034 2069 7320  hard-coded 4 is 
+0002e4e0: 696d 706c 656d 656e 7465 640a 2020 2020  implemented.    
+0002e4f0: 2020 2020 2320 7465 7874 5f66 696c 652e      # text_file.
+0002e500: 7772 6974 6528 6622 4e62 724c 6179 6572  write(f"NbrLayer
+0002e510: 7320 3d20 7b73 656c 662e 6e5f 6c61 7965  s = {self.n_laye
+0002e520: 7273 5b6e 756d 5d7d 3b5c 6e22 290a 2020  rs[num]};\n").  
+0002e530: 2020 2020 2020 7465 7874 5f66 696c 652e        text_file.
+0002e540: 7772 6974 6528 224e 6272 4c61 7965 7273  write("NbrLayers
+0002e550: 203d 2034 3b5c 6e22 290a 2020 2020 2020   = 4;\n").      
+0002e560: 2020 7465 7874 5f66 696c 652e 7772 6974    text_file.writ
+0002e570: 6528 6622 4669 6c6c 203d 207b 7365 6c66  e(f"Fill = {self
+0002e580: 2e77 696e 6469 6e67 735b 7769 6e64 696e  .windings[windin
+0002e590: 675f 6e75 6d62 6572 5d2e 6666 7d3b 5c6e  g_number].ff};\n
+0002e5a0: 2229 0a20 2020 2020 2020 2074 6578 745f  ").        text_
+0002e5b0: 6669 6c65 2e77 7269 7465 2866 2252 6320  file.write(f"Rc 
+0002e5c0: 3d20 7b73 656c 662e 7769 6e64 696e 6773  = {self.windings
+0002e5d0: 5b77 696e 6469 6e67 5f6e 756d 6265 725d  [winding_number]
+0002e5e0: 2e73 7472 616e 645f 7261 6469 7573 7d3b  .strand_radius};
+0002e5f0: 5c6e 2229 2020 2320 646f 7562 6c65 206e  \n")  # double n
+0002e600: 616d 6564 2121 2120 6d75 7374 2062 6520  amed!!! must be 
+0002e610: 6368 616e 6765 640a 2020 2020 2020 2020  changed.        
+0002e620: 7465 7874 5f66 696c 652e 636c 6f73 6528  text_file.close(
+0002e630: 290a 2020 2020 2020 2020 6365 6c6c 5f67  ).        cell_g
+0002e640: 656f 203d 206f 732e 7061 7468 2e6a 6f69  eo = os.path.joi
+0002e650: 6e28 7365 6c66 2e66 696c 655f 6461 7461  n(self.file_data
+0002e660: 2e65 5f6d 5f73 7472 616e 6473 5f63 6f65  .e_m_strands_coe
+0002e670: 6666 6963 6965 6e74 735f 666f 6c64 6572  fficients_folder
+0002e680: 5f70 6174 682c 2022 6365 6c6c 2e67 656f  _path, "cell.geo
+0002e690: 2229 0a0a 2020 2020 2020 2020 7665 7262  ")..        verb
+0002e6a0: 6f73 6520 3d20 222d 7665 7262 6f73 6520  ose = "-verbose 
+0002e6b0: 3122 2069 6620 7365 6c66 2e73 696c 656e  1" if self.silen
+0002e6c0: 7420 656c 7365 2022 2d76 6572 626f 7365  t else "-verbose
+0002e6d0: 2035 220a 0a20 2020 2020 2020 2023 2052   5"..        # R
+0002e6e0: 756e 2067 6d73 6820 6173 2061 2073 7562  un gmsh as a sub
+0002e6f0: 2063 6c69 656e 740a 2020 2020 2020 2020   client.        
+0002e700: 676d 7368 5f63 6c69 656e 7420 3d20 6f73  gmsh_client = os
+0002e710: 2e70 6174 682e 6a6f 696e 2873 656c 662e  .path.join(self.
+0002e720: 6669 6c65 5f64 6174 612e 6f6e 656c 6162  file_data.onelab
+0002e730: 5f66 6f6c 6465 725f 7061 7468 2c20 2267  _folder_path, "g
+0002e740: 6d73 6822 290a 2020 2020 2020 2020 7365  msh").        se
+0002e750: 6c66 2e6f 6e65 6c61 625f 636c 6965 6e74  lf.onelab_client
+0002e760: 2e72 756e 5375 6243 6c69 656e 7428 226d  .runSubClient("m
+0002e770: 7947 6d73 6822 2c20 676d 7368 5f63 6c69  yGmsh", gmsh_cli
+0002e780: 656e 7420 2b20 2220 2220 2b20 6365 6c6c  ent + " " + cell
+0002e790: 5f67 656f 202b 2022 202d 3220 2220 2b20  _geo + " -2 " + 
+0002e7a0: 7665 7262 6f73 6529 0a0a 2020 2020 2020  verbose)..      
+0002e7b0: 2020 6d6f 6465 7320 3d20 5b31 2c20 325d    modes = [1, 2]
+0002e7c0: 2020 2320 3120 3d20 2273 6b69 6e22 2c20    # 1 = "skin", 
+0002e7d0: 3220 3d20 2270 726f 7869 6d69 7479 220a  2 = "proximity".
+0002e7e0: 2020 2020 2020 2020 7265 6475 6365 645f          reduced_
+0002e7f0: 6672 6571 7565 6e63 6965 7320 3d20 6e70  frequencies = np
+0002e800: 2e6c 696e 7370 6163 6528 302c 2031 2e32  .linspace(0, 1.2
+0002e810: 352c 2036 2920 2023 206d 7573 7420 6265  5, 6)  # must be
+0002e820: 2065 7665 6e0a 2020 2020 2020 2020 666f   even.        fo
+0002e830: 7220 6d6f 6465 2069 6e20 6d6f 6465 733a  r mode in modes:
+0002e840: 0a20 2020 2020 2020 2020 2020 2066 6f72  .            for
+0002e850: 2072 6620 696e 2072 6564 7563 6564 5f66   rf in reduced_f
+0002e860: 7265 7175 656e 6369 6573 3a0a 2020 2020  requencies:.    
+0002e870: 2020 2020 2020 2020 2020 2020 2320 2d2d              # --
+0002e880: 2050 7265 2d53 696d 756c 6174 696f 6e20   Pre-Simulation 
+0002e890: 5365 7474 696e 6773 202d 2d0a 2020 2020  Settings --.    
+0002e8a0: 2020 2020 2020 2020 2020 2020 7465 7874              text
+0002e8b0: 5f66 696c 6520 3d20 6f70 656e 286f 732e  _file = open(os.
+0002e8c0: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
+0002e8d0: 696c 655f 6461 7461 2e65 5f6d 5f73 7472  ile_data.e_m_str
+0002e8e0: 616e 6473 5f63 6f65 6666 6963 6965 6e74  ands_coefficient
+0002e8f0: 735f 666f 6c64 6572 5f70 6174 682c 2022  s_folder_path, "
+0002e900: 5072 6550 6172 616d 6574 6572 2e70 726f  PreParameter.pro
+0002e910: 2229 2c0a 2020 2020 2020 2020 2020 2020  "),.            
+0002e920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e930: 2020 2020 2022 7722 290a 2020 2020 2020       "w").      
+0002e940: 2020 2020 2020 2020 2020 7465 7874 5f66            text_f
+0002e950: 696c 652e 7772 6974 6528 6622 5272 5f63  ile.write(f"Rr_c
+0002e960: 656c 6c20 3d20 7b72 667d 3b5c 6e22 290a  ell = {rf};\n").
+0002e970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002e980: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0002e990: 6622 4d6f 6465 203d 207b 6d6f 6465 7d3b  f"Mode = {mode};
+0002e9a0: 5c6e 2229 0a20 2020 2020 2020 2020 2020  \n").           
+0002e9b0: 2020 2020 2023 204c 6974 7a20 4170 7072       # Litz Appr
+0002e9c0: 6f78 696d 6174 696f 6e20 436f 6566 6669  oximation Coeffi
+0002e9d0: 6369 656e 7473 2061 7265 2063 7265 6174  cients are creat
+0002e9e0: 6564 2077 6974 6820 3420 6c61 7965 7273  ed with 4 layers
+0002e9f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ea00: 2023 2054 6861 7427 7320 7768 7920 6865   # That's why he
+0002ea10: 7265 2061 2068 6172 642d 636f 6465 6420  re a hard-coded 
+0002ea20: 3420 6973 2069 6d70 6c65 6d65 6e74 6564  4 is implemented
+0002ea30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002ea40: 2023 2074 6578 745f 6669 6c65 2e77 7269   # text_file.wri
+0002ea50: 7465 2866 224e 6272 4c61 7965 7273 203d  te(f"NbrLayers =
+0002ea60: 207b 7365 6c66 2e6e 5f6c 6179 6572 735b   {self.n_layers[
+0002ea70: 6e75 6d5d 7d3b 5c6e 2229 0a20 2020 2020  num]};\n").     
+0002ea80: 2020 2020 2020 2020 2020 2074 6578 745f             text_
+0002ea90: 6669 6c65 2e77 7269 7465 2822 4e62 724c  file.write("NbrL
+0002eaa0: 6179 6572 7320 3d20 343b 5c6e 2229 0a20  ayers = 4;\n"). 
+0002eab0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0002eac0: 6578 745f 6669 6c65 2e77 7269 7465 2866  ext_file.write(f
+0002ead0: 2246 696c 6c20 3d20 7b73 656c 662e 7769  "Fill = {self.wi
+0002eae0: 6e64 696e 6773 5b77 696e 6469 6e67 5f6e  ndings[winding_n
+0002eaf0: 756d 6265 725d 2e66 667d 3b5c 6e22 290a  umber].ff};\n").
+0002eb00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002eb10: 7465 7874 5f66 696c 652e 7772 6974 6528  text_file.write(
+0002eb20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002eb30: 2020 2020 2066 2252 6320 3d20 7b73 656c       f"Rc = {sel
+0002eb40: 662e 7769 6e64 696e 6773 5b77 696e 6469  f.windings[windi
+0002eb50: 6e67 5f6e 756d 6265 725d 2e73 7472 616e  ng_number].stran
+0002eb60: 645f 7261 6469 7573 7d3b 5c6e 2229 2020  d_radius};\n")  
+0002eb70: 2320 646f 7562 6c65 206e 616d 6564 2121  # double named!!
+0002eb80: 2120 6d75 7374 2062 6520 6368 616e 6765  ! must be change
+0002eb90: 640a 2020 2020 2020 2020 2020 2020 2020  d.              
+0002eba0: 2020 7465 7874 5f66 696c 652e 636c 6f73    text_file.clos
+0002ebb0: 6528 290a 0a20 2020 2020 2020 2020 2020  e()..           
+0002ebc0: 2020 2020 2023 2067 6574 206d 6f64 656c       # get model
+0002ebd0: 2066 696c 6520 6e61 6d65 7320 7769 7468   file names with
+0002ebe0: 2063 6f72 7265 6374 2070 6174 680a 2020   correct path.  
+0002ebf0: 2020 2020 2020 2020 2020 2020 2020 696e                in
+0002ec00: 7075 745f 6669 6c65 203d 206f 732e 7061  put_file = os.pa
+0002ec10: 7468 2e6a 6f69 6e28 7365 6c66 2e66 696c  th.join(self.fil
+0002ec20: 655f 6461 7461 2e65 5f6d 5f73 7472 616e  e_data.e_m_stran
+0002ec30: 6473 5f63 6f65 6666 6963 6965 6e74 735f  ds_coefficients_
+0002ec40: 666f 6c64 6572 5f70 6174 682c 2022 6365  folder_path, "ce
+0002ec50: 6c6c 5f64 6174 2e70 726f 2229 0a20 2020  ll_dat.pro").   
+0002ec60: 2020 2020 2020 2020 2020 2020 2063 656c               cel
+0002ec70: 6c20 3d20 6f73 2e70 6174 682e 6a6f 696e  l = os.path.join
+0002ec80: 2873 656c 662e 6669 6c65 5f64 6174 612e  (self.file_data.
+0002ec90: 655f 6d5f 7374 7261 6e64 735f 636f 6566  e_m_strands_coef
+0002eca0: 6669 6369 656e 7473 5f66 6f6c 6465 725f  ficients_folder_
+0002ecb0: 7061 7468 2c20 2263 656c 6c2e 7072 6f22  path, "cell.pro"
+0002ecc0: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+0002ecd0: 2020 2023 2052 756e 2073 696d 756c 6174     # Run simulat
+0002ece0: 696f 6e73 2061 7320 7375 6220 636c 6965  ions as sub clie
+0002ecf0: 6e74 730a 2020 2020 2020 2020 2020 2020  nts.            
+0002ed00: 2020 2020 6d79 6765 7464 7020 3d20 6f73      mygetdp = os
+0002ed10: 2e70 6174 682e 6a6f 696e 2873 656c 662e  .path.join(self.
+0002ed20: 6669 6c65 5f64 6174 612e 6f6e 656c 6162  file_data.onelab
+0002ed30: 5f66 6f6c 6465 725f 7061 7468 2c20 2267  _folder_path, "g
+0002ed40: 6574 6470 2229 0a20 2020 2020 2020 2020  etdp").         
+0002ed50: 2020 2020 2020 2073 656c 662e 6f6e 656c         self.onel
+0002ed60: 6162 5f63 6c69 656e 742e 7275 6e53 7562  ab_client.runSub
+0002ed70: 436c 6965 6e74 2822 6d79 4765 7444 5022  Client("myGetDP"
+0002ed80: 2c20 6d79 6765 7464 7020 2b20 2220 2220  , mygetdp + " " 
+0002ed90: 2b20 6365 6c6c 202b 2022 202d 696e 7075  + cell + " -inpu
+0002eda0: 7420 2220 2b20 696e 7075 745f 6669 6c65  t " + input_file
+0002edb0: 202b 2022 202d 736f 6c76 6520 4d61 6744   + " -solve MagD
+0002edc0: 796e 5f61 2022 202b 2076 6572 626f 7365  yn_a " + verbose
+0002edd0: 290a 0a20 2020 2020 2020 2023 2046 6f72  )..        # For
+0002ede0: 6d61 7474 696e 6720 7374 7566 660a 2020  matting stuff.  
+0002edf0: 2020 2020 2020 2320 4c69 747a 2041 7070        # Litz App
+0002ee00: 726f 7869 6d61 7469 6f6e 2043 6f65 6666  roximation Coeff
+0002ee10: 6963 6965 6e74 7320 6172 6520 6372 6561  icients are crea
+0002ee20: 7465 6420 7769 7468 2034 206c 6179 6572  ted with 4 layer
+0002ee30: 730a 2020 2020 2020 2020 2320 5468 6174  s.        # That
+0002ee40: 2773 2077 6879 2068 6572 6520 6120 6861  's why here a ha
+0002ee50: 7264 2d63 6f64 6564 2034 2069 7320 696d  rd-coded 4 is im
+0002ee60: 706c 656d 656e 7465 640a 2020 2020 2020  plemented.      
+0002ee70: 2020 2320 6669 6c65 7320 3d20 5b73 656c    # files = [sel
+0002ee80: 662e 7061 7468 202b 2066 222f 5374 7261  f.path + f"/Stra
+0002ee90: 6e64 735f 436f 6566 6669 6369 656e 7473  nds_Coefficients
+0002eea0: 2f63 6f65 6666 2f70 425f 5253 5f6c 617b  /coeff/pB_RS_la{
+0002eeb0: 7365 6c66 2e77 696e 6469 6e67 730a 2020  self.windings.  
+0002eec0: 2020 2020 2020 2320 5b6e 756d 5d2e 6666        # [num].ff
+0002eed0: 7d5f 7b73 656c 662e 6e5f 6c61 7965 7273  }_{self.n_layers
+0002eee0: 5b6e 756d 5d7d 6c61 7965 722e 6461 7422  [num]}layer.dat"
+0002eef0: 2c0a 2020 2020 2020 2020 2320 2020 2020  ,.        #     
+0002ef00: 2020 2020 7365 6c66 2e70 6174 6820 2b20      self.path + 
+0002ef10: 6622 2f53 7472 616e 6473 5f43 6f65 6666  f"/Strands_Coeff
+0002ef20: 6963 6965 6e74 732f 636f 6566 662f 7049  icients/coeff/pI
+0002ef30: 5f52 535f 6c61 7b73 656c 662e 7769 6e64  _RS_la{self.wind
+0002ef40: 696e 6773 0a20 2020 2020 2020 2023 2020  ings.        #  
+0002ef50: 2020 2020 2020 205b 6e75 6d5d 2e66 667d         [num].ff}
+0002ef60: 5f7b 7365 6c66 2e6e 5f6c 6179 6572 735b  _{self.n_layers[
+0002ef70: 6e75 6d5d 7d6c 6179 6572 2e64 6174 222c  num]}layer.dat",
+0002ef80: 0a20 2020 2020 2020 2023 2073 656c 662e  .        # self.
+0002ef90: 7061 7468 202b 2066 222f 5374 7261 6e64  path + f"/Strand
+0002efa0: 735f 436f 6566 6669 6369 656e 7473 2f63  s_Coefficients/c
+0002efb0: 6f65 6666 2f71 425f 5253 5f6c 617b 7365  oeff/qB_RS_la{se
+0002efc0: 6c66 2e77 696e 6469 6e67 730a 2020 2020  lf.windings.    
+0002efd0: 2020 2020 2320 2020 2020 2020 2020 5b6e      #         [n
+0002efe0: 756d 5d2e 6666 7d5f 7b73 656c 662e 6e5f  um].ff}_{self.n_
+0002eff0: 6c61 7965 7273 5b6e 756d 5d7d 6c61 7965  layers[num]}laye
+0002f000: 722e 6461 7422 2c0a 2020 2020 2020 2020  r.dat",.        
+0002f010: 2320 7365 6c66 2e70 6174 6820 2b20 6622  # self.path + f"
+0002f020: 2f53 7472 616e 6473 5f43 6f65 6666 6963  /Strands_Coeffic
+0002f030: 6965 6e74 732f 636f 6566 662f 7149 5f52  ients/coeff/qI_R
+0002f040: 535f 6c61 7b73 656c 662e 7769 6e64 696e  S_la{self.windin
+0002f050: 6773 5b0a 2020 2020 2020 2020 2320 2020  gs[.        #   
+0002f060: 2020 2020 2020 6e75 6d5d 2e66 667d 5f7b        num].ff}_{
+0002f070: 7365 6c66 2e6e 5f6c 6179 6572 735b 6e75  self.n_layers[nu
+0002f080: 6d5d 7d6c 6179 6572 2e64 6174 225d 0a0a  m]}layer.dat"]..
+0002f090: 2020 2020 2020 2020 636f 6566 665f 666f          coeff_fo
+0002f0a0: 6c64 6572 203d 206f 732e 7061 7468 2e6a  lder = os.path.j
+0002f0b0: 6f69 6e28 7365 6c66 2e66 696c 655f 6461  oin(self.file_da
+0002f0c0: 7461 2e65 5f6d 5f73 7472 616e 6473 5f63  ta.e_m_strands_c
+0002f0d0: 6f65 6666 6963 6965 6e74 735f 666f 6c64  oefficients_fold
+0002f0e0: 6572 5f70 6174 682c 2022 636f 6566 6622  er_path, "coeff"
+0002f0f0: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+0002f100: 206f 732e 7061 7468 2e69 7364 6972 2863   os.path.isdir(c
+0002f110: 6f65 6666 5f66 6f6c 6465 7229 3a0a 2020  oeff_folder):.  
+0002f120: 2020 2020 2020 2020 2020 6f73 2e6d 6b64            os.mkd
+0002f130: 6972 2863 6f65 6666 5f66 6f6c 6465 7229  ir(coeff_folder)
+0002f140: 0a0a 2020 2020 2020 2020 6669 6c65 7320  ..        files 
+0002f150: 3d20 5b6f 732e 7061 7468 2e6a 6f69 6e28  = [os.path.join(
+0002f160: 636f 6566 665f 666f 6c64 6572 2c20 6622  coeff_folder, f"
+0002f170: 7042 5f52 535f 6c61 7b73 656c 662e 7769  pB_RS_la{self.wi
+0002f180: 6e64 696e 6773 5b77 696e 6469 6e67 5f6e  ndings[winding_n
+0002f190: 756d 6265 725d 2e66 667d 5f34 6c61 7965  umber].ff}_4laye
+0002f1a0: 722e 6461 7422 292c 0a20 2020 2020 2020  r.dat"),.       
+0002f1b0: 2020 2020 2020 2020 2020 6f73 2e70 6174            os.pat
+0002f1c0: 682e 6a6f 696e 2863 6f65 6666 5f66 6f6c  h.join(coeff_fol
+0002f1d0: 6465 722c 2066 2270 495f 5253 5f6c 617b  der, f"pI_RS_la{
+0002f1e0: 7365 6c66 2e77 696e 6469 6e67 735b 7769  self.windings[wi
+0002f1f0: 6e64 696e 675f 6e75 6d62 6572 5d2e 6666  nding_number].ff
+0002f200: 7d5f 346c 6179 6572 2e64 6174 2229 2c0a  }_4layer.dat"),.
+0002f210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f220: 206f 732e 7061 7468 2e6a 6f69 6e28 636f   os.path.join(co
+0002f230: 6566 665f 666f 6c64 6572 2c20 6622 7142  eff_folder, f"qB
+0002f240: 5f52 535f 6c61 7b73 656c 662e 7769 6e64  _RS_la{self.wind
+0002f250: 696e 6773 5b77 696e 6469 6e67 5f6e 756d  ings[winding_num
+0002f260: 6265 725d 2e66 667d 5f34 6c61 7965 722e  ber].ff}_4layer.
+0002f270: 6461 7422 292c 0a20 2020 2020 2020 2020  dat"),.         
+0002f280: 2020 2020 2020 2020 6f73 2e70 6174 682e          os.path.
+0002f290: 6a6f 696e 2863 6f65 6666 5f66 6f6c 6465  join(coeff_folde
+0002f2a0: 722c 2066 2271 495f 5253 5f6c 617b 7365  r, f"qI_RS_la{se
+0002f2b0: 6c66 2e77 696e 6469 6e67 735b 7769 6e64  lf.windings[wind
+0002f2c0: 696e 675f 6e75 6d62 6572 5d2e 6666 7d5f  ing_number].ff}_
+0002f2d0: 346c 6179 6572 2e64 6174 2229 5d0a 2020  4layer.dat")].  
+0002f2e0: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+0002f2f0: 616e 6765 2830 2c20 3429 3a0a 2020 2020  ange(0, 4):.    
+0002f300: 2020 2020 2020 2020 7769 7468 2066 696c          with fil
+0002f310: 6569 6e70 7574 2e46 696c 6549 6e70 7574  einput.FileInput
+0002f320: 2866 696c 6573 5b69 5d2c 2069 6e70 6c61  (files[i], inpla
+0002f330: 6365 3d54 7275 6529 2061 7320 6669 6c65  ce=True) as file
+0002f340: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0002f350: 2020 666f 7220 6c69 6e65 2069 6e20 6669    for line in fi
+0002f360: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
+0002f370: 2020 2020 2020 2020 7072 696e 7428 6c69          print(li
+0002f380: 6e65 2e72 6570 6c61 6365 2827 2030 5c6e  ne.replace(' 0\n
+0002f390: 272c 2027 5c6e 2729 2c20 656e 643d 2727  ', '\n'), end=''
+0002f3a0: 290a 0a20 2020 2020 2020 2023 2043 6f72  )..        # Cor
+0002f3b0: 7265 6374 7320 7042 2063 6f65 6666 6963  rects pB coeffic
+0002f3c0: 6965 6e74 2065 7272 6f72 2061 7420 3048  ient error at 0H
+0002f3d0: 7a0a 2020 2020 2020 2020 2320 4d75 7374  z.        # Must
+0002f3e0: 2062 6520 6368 616e 6765 6420 696e 2066   be changed in f
+0002f3f0: 7574 7572 6520 696e 2063 656c 6c2e 7072  uture in cell.pr
+0002f400: 6f0a 2020 2020 2020 2020 666f 7220 6920  o.        for i 
+0002f410: 696e 2072 616e 6765 2830 2c20 3429 3a0a  in range(0, 4):.
+0002f420: 2020 2020 2020 2020 2020 2020 7769 7468              with
+0002f430: 2066 696c 6569 6e70 7574 2e46 696c 6549   fileinput.FileI
+0002f440: 6e70 7574 2866 696c 6573 5b69 5d2c 2069  nput(files[i], i
+0002f450: 6e70 6c61 6365 3d54 7275 6529 2061 7320  nplace=True) as 
+0002f460: 6669 6c65 3a0a 2020 2020 2020 2020 2020  file:.          
+0002f470: 2020 2020 2020 666f 7220 6c69 6e65 2069        for line i
+0002f480: 6e20 6669 6c65 3a0a 2020 2020 2020 2020  n file:.        
+0002f490: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+0002f4a0: 7428 6c69 6e65 2e72 6570 6c61 6365 2827  t(line.replace('
+0002f4b0: 2030 5c6e 272c 2027 2031 5c6e 2729 2c20   0\n', ' 1\n'), 
+0002f4c0: 656e 643d 2727 290a 0a20 2020 2023 2020  end='')..    #  
+0002f4d0: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0002f4e0: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+0002f4f0: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+0002f500: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0002f510: 2020 2d20 202d 2020 2d20 202d 2020 2d20    -  -  -  -  - 
+0002f520: 202d 2020 2d20 202d 2020 2d20 202d 2020   -  -  -  -  -  
+0002f530: 2d20 202d 2020 2d20 202d 2020 2d20 202d  -  -  -  -  -  -
+0002f540: 0a20 2020 2023 2046 454d 4d20 5b61 6c74  .    # FEMM [alt
+0002f550: 6572 6e61 7469 7665 2053 6f6c 7665 725d  ernative Solver]
+0002f560: 0a20 2020 2064 6566 2066 656d 6d5f 7265  .    def femm_re
+0002f570: 6665 7265 6e63 6528 7365 6c66 2c20 6672  ference(self, fr
+0002f580: 6571 3a20 666c 6f61 742c 2063 7572 7265  eq: float, curre
+0002f590: 6e74 3a20 666c 6f61 742c 2073 6967 6e3a  nt: float, sign:
+0002f5a0: 2062 6f6f 6c20 3d20 4e6f 6e65 2c20 6e6f   bool = None, no
+0002f5b0: 6e5f 7669 7375 616c 697a 653a 2069 6e74  n_visualize: int
+0002f5c0: 203d 2030 2c0a 2020 2020 2020 2020 2020   = 0,.          
+0002f5d0: 2020 2020 2020 2020 2020 2020 206d 6573               mes
+0002f5e0: 685f 7369 7a65 3a20 666c 6f61 7420 3d20  h_size: float = 
+0002f5f0: 302e 302c 206d 6573 685f 7369 7a65 5f63  0.0, mesh_size_c
+0002f600: 6f6e 6475 6374 6f72 3a20 666c 6f61 7420  onductor: float 
+0002f610: 3d20 302e 3029 3a0a 2020 2020 2020 2020  = 0.0):.        
+0002f620: 2222 220a 2020 2020 2020 2020 416c 6c6f  """.        Allo
+0002f630: 7720 7265 6665 7265 6e63 6520 7369 6d75  w reference simu
+0002f640: 6c61 7469 6f6e 7320 7769 7468 2074 6865  lations with the
+0002f650: 2032 4420 6f70 656e 2073 6f75 7263 6520   2D open source 
+0002f660: 656c 6563 7472 6f6d 6167 6e65 7469 6320  electromagnetic 
+0002f670: 4645 4d20 746f 6f6c 2046 454d 4d2e 0a0a  FEM tool FEMM...
+0002f680: 2020 2020 2020 2020 4865 6c70 6675 6c20          Helpful 
+0002f690: 746f 2076 616c 6964 6174 6520 6368 616e  to validate chan
+0002f6a0: 6765 7320 2865 7370 6563 6961 6c6c 7920  ges (especially 
+0002f6b0: 696e 2074 6865 2050 726f 6c6f 6720 436f  in the Prolog Co
+0002f6c0: 6465 292e 0a0a 2020 2020 2020 2020 426c  de)...        Bl
+0002f6d0: 6f63 6b70 726f 7020 3c2d 2d3e 2047 726f  ockprop <--> Gro
+0002f6e0: 7570 2043 6f6e 7665 6e74 696f 6e3a 0a20  up Convention:. 
+0002f6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f710: 2020 2020 2020 2020 2020 2046 6572 7269             Ferri
+0002f720: 7465 203a 3d20 300a 2020 2020 2020 2020  te := 0.        
+0002f730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f750: 2020 2020 4169 7220 3a3d 2031 0a20 2020      Air := 1.   
+0002f760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f780: 2020 2020 2020 2020 2057 696e 6469 6e67           Winding
+0002f790: 2031 203a 3d20 320a 2020 2020 2020 2020   1 := 2.        
+0002f7a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f7c0: 2020 2020 5769 6e64 696e 6720 3220 3a3d      Winding 2 :=
+0002f7d0: 2033 0a20 2020 2020 2020 2020 2020 2020   3.             
+0002f7e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f7f0: 2020 2020 2020 2020 2020 2020 2020 202e                 .
+0002f800: 2e2e 0a20 2020 2020 2020 2020 2020 2020  ...             
+0002f810: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002f820: 2020 2020 2020 2020 2020 2020 2020 2057                 W
+0002f830: 696e 6469 6e67 206e 203a 3d20 6e2b 310a  inding n := n+1.
+0002f840: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0002f850: 7369 676e 3a0a 2020 2020 2020 2020 3a70  sign:.        :p
+0002f860: 6172 616d 206e 6f6e 5f76 6973 7561 6c69  aram non_visuali
+0002f870: 7a65 3a0a 2020 2020 2020 2020 3a70 6172  ze:.        :par
+0002f880: 616d 2066 7265 713a 0a20 2020 2020 2020  am freq:.       
+0002f890: 203a 7061 7261 6d20 6375 7272 656e 743a   :param current:
+0002f8a0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0002f8b0: 2020 2020 2061 7574 6f6d 6573 6820 3d20       automesh = 
+0002f8c0: 3120 6966 206d 6573 685f 7369 7a65 203d  1 if mesh_size =
+0002f8d0: 3d20 302e 3020 656c 7365 2030 0a20 2020  = 0.0 else 0.   
+0002f8e0: 2020 2020 2061 7574 6f6d 6573 685f 636f       automesh_co
+0002f8f0: 6e64 7563 746f 7220 3d20 3120 6966 206d  nductor = 1 if m
+0002f900: 6573 685f 7369 7a65 5f63 6f6e 6475 6374  esh_size_conduct
+0002f910: 6f72 203d 3d20 302e 3020 656c 7365 2030  or == 0.0 else 0
+0002f920: 0a0a 2020 2020 2020 2020 6966 206f 732e  ..        if os.
+0002f930: 6e61 6d65 203d 3d20 276e 7427 3a0a 2020  name == 'nt':.  
+0002f940: 2020 2020 2020 2020 2020 6666 2e69 6e73            ff.ins
+0002f950: 7461 6c6c 5f70 7966 656d 6d5f 6966 5f6d  tall_pyfemm_if_m
+0002f960: 6973 7369 6e67 2829 0a20 2020 2020 2020  issing().       
+0002f970: 2020 2020 2069 6620 6e6f 7420 7365 6c66       if not self
+0002f980: 2e66 656d 6d5f 6973 5f69 6d70 6f72 7465  .femm_is_importe
+0002f990: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
+0002f9a0: 2020 2067 6c6f 6261 6c73 2829 5b22 6665     globals()["fe
+0002f9b0: 6d6d 225d 203d 205f 5f69 6d70 6f72 745f  mm"] = __import_
+0002f9c0: 5f28 2266 656d 6d22 290a 2020 2020 2020  _("femm").      
+0002f9d0: 2020 2020 2020 2020 2020 7365 6c66 2e66            self.f
+0002f9e0: 656d 6d5f 6973 5f69 6d70 6f72 7465 6420  emm_is_imported 
+0002f9f0: 3d20 5472 7565 0a20 2020 2020 2020 2065  = True.        e
+0002fa00: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0002fa10: 2072 6169 7365 2045 7863 6570 7469 6f6e   raise Exception
+0002fa20: 2827 596f 7520 6172 6520 7573 696e 6720  ('You are using 
+0002fa30: 6120 636f 6d70 7574 6572 2074 6861 7420  a computer that 
+0002fa40: 6973 206e 6f74 2072 756e 6e69 6e67 2077  is not running w
+0002fa50: 696e 646f 7773 2e20 270a 2020 2020 2020  indows. '.      
+0002fa60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002fa70: 2020 2020 2020 2754 6869 7320 636f 6d6d        'This comm
+0002fa80: 616e 6420 6973 206f 6e6c 7920 6578 6563  and is only exec
+0002fa90: 7574 6162 6c65 206f 6e20 5769 6e64 6f77  utable on Window
+0002faa0: 7320 636f 6d70 7574 6572 732e 2729 0a0a  s computers.')..
+0002fab0: 2020 2020 2020 2020 7365 6c66 2e66 696c          self.fil
+0002fac0: 655f 6461 7461 2e63 7265 6174 655f 666f  e_data.create_fo
+0002fad0: 6c64 6572 7328 7365 6c66 2e66 696c 655f  lders(self.file_
+0002fae0: 6461 7461 2e66 656d 6d5f 666f 6c64 6572  data.femm_folder
+0002faf0: 5f70 6174 6829 0a0a 2020 2020 2020 2020  _path)..        
+0002fb00: 7369 676e 203d 2073 6967 6e20 6f72 205b  sign = sign or [
+0002fb10: 315d 0a0a 2020 2020 2020 2020 6966 2073  1]..        if s
+0002fb20: 6967 6e20 6973 204e 6f6e 653a 0a20 2020  ign is None:.   
+0002fb30: 2020 2020 2020 2020 2073 6967 6e20 3d20           sign = 
+0002fb40: 5b31 2c20 315d 0a0a 2020 2020 2020 2020  [1, 1]..        
+0002fb50: 2320 3d3d 2050 7265 2047 656f 6d65 7472  # == Pre Geometr
+0002fb60: 7920 3d3d 0a20 2020 2020 2020 2073 656c  y ==.        sel
+0002fb70: 662e 6869 6768 5f6c 6576 656c 5f67 656f  f.high_level_geo
+0002fb80: 5f67 656e 2829 0a0a 2020 2020 2020 2020  _gen()..        
+0002fb90: 2320 3d3d 2049 6e69 7420 3d3d 0a20 2020  # == Init ==.   
+0002fba0: 2020 2020 2066 656d 6d2e 6f70 656e 6665       femm.openfe
+0002fbb0: 6d6d 286e 6f6e 5f76 6973 7561 6c69 7a65  mm(non_visualize
+0002fbc0: 290a 2020 2020 2020 2020 6665 6d6d 2e6e  ).        femm.n
+0002fbd0: 6577 646f 6375 6d65 6e74 2830 290a 2020  ewdocument(0).  
+0002fbe0: 2020 2020 2020 6665 6d6d 2e6d 695f 7072        femm.mi_pr
+0002fbf0: 6f62 6465 6628 6672 6571 2c20 276d 6574  obdef(freq, 'met
+0002fc00: 6572 7327 2c20 2761 7869 272c 2031 2e65  ers', 'axi', 1.e
+0002fc10: 2d38 2c20 302c 2033 3029 0a0a 2020 2020  -8, 0, 30)..    
+0002fc20: 2020 2020 2320 3d3d 204d 6174 6572 6961      # == Materia
+0002fc30: 6c73 203d 3d0a 2020 2020 2020 2020 6966  ls ==.        if
+0002fc40: 2073 656c 662e 636f 7265 2e73 6967 6d61   self.core.sigma
+0002fc50: 2021 3d20 303a 0a20 2020 2020 2020 2020   != 0:.         
+0002fc60: 2020 2069 6620 6973 696e 7374 616e 6365     if isinstance
+0002fc70: 2873 656c 662e 636f 7265 2e73 6967 6d61  (self.core.sigma
+0002fc80: 2c20 7374 7229 3a0a 2020 2020 2020 2020  , str):.        
+0002fc90: 2020 2020 2020 2020 2320 544f 444f 3a20          # TODO: 
+0002fca0: 4d61 6b65 2066 6f6c 6c6f 7769 6e67 2064  Make following d
+0002fcb0: 6566 696e 6974 696f 6e20 6765 6e65 7261  efinition genera
+0002fcc0: 6c0a 2020 2020 2020 2020 2020 2020 2020  l.              
+0002fcd0: 2020 2320 7365 6c66 2e63 6f72 652e 7369    # self.core.si
+0002fce0: 676d 6120 3d20 3220 2a20 6e70 2e70 6920  gma = 2 * np.pi 
+0002fcf0: 2a20 7365 6c66 2e66 7265 7175 656e 6379  * self.frequency
+0002fd00: 202a 2065 7073 696c 6f6e 5f30 202a 2066   * epsilon_0 * f
+0002fd10: 5f4e 3935 5f65 725f 696d 6167 2866 3d73  _N95_er_imag(f=s
+0002fd20: 656c 662e 6672 6571 7565 6e63 7929 202b  elf.frequency) +
+0002fd30: 2031 202f 2036 0a20 2020 2020 2020 2020   1 / 6.         
+0002fd40: 2020 2020 2020 2073 656c 662e 636f 7265         self.core
+0002fd50: 2e73 6967 6d61 203d 2031 202f 2036 0a0a  .sigma = 1 / 6..
+0002fd60: 2020 2020 2020 2020 7365 6c66 2e66 656d          self.fem
+0002fd70: 6d74 5f70 7269 6e74 2866 227b 7365 6c66  mt_print(f"{self
+0002fd80: 2e63 6f72 652e 7065 726d 6561 6269 6c69  .core.permeabili
+0002fd90: 7479 5f74 7970 653d 7d2c 207b 7365 6c66  ty_type=}, {self
+0002fda0: 2e63 6f72 652e 7369 676d 613d 7d22 290a  .core.sigma=}").
+0002fdb0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+0002fdc0: 636f 7265 2e70 6572 6d65 6162 696c 6974  core.permeabilit
+0002fdd0: 795f 7479 7065 203d 3d20 5065 726d 6561  y_type == Permea
+0002fde0: 6269 6c69 7479 5479 7065 2e46 6978 6564  bilityType.Fixed
+0002fdf0: 4c6f 7373 416e 676c 653a 0a20 2020 2020  LossAngle:.     
+0002fe00: 2020 2020 2020 2066 656d 6d2e 6d69 5f61         femm.mi_a
+0002fe10: 6464 6d61 7465 7269 616c 2827 4665 7272  ddmaterial('Ferr
+0002fe20: 6974 6527 2c20 7365 6c66 2e63 6f72 652e  ite', self.core.
+0002fe30: 6d75 5f72 5f61 6273 2c20 7365 6c66 2e63  mu_r_abs, self.c
+0002fe40: 6f72 652e 6d75 5f72 5f61 6273 2c20 302c  ore.mu_r_abs, 0,
+0002fe50: 2030 2c20 7365 6c66 2e63 6f72 652e 7369   0, self.core.si
+0002fe60: 676d 6120 2f20 3165 362c 2030 2c20 302c  gma / 1e6, 0, 0,
+0002fe70: 2031 2c0a 2020 2020 2020 2020 2020 2020   1,.            
+0002fe80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002fe90: 2020 2020 302c 2073 656c 662e 636f 7265      0, self.core
+0002fea0: 2e70 6869 5f6d 755f 6465 672c 2073 656c  .phi_mu_deg, sel
+0002feb0: 662e 636f 7265 2e70 6869 5f6d 755f 6465  f.core.phi_mu_de
+0002fec0: 6729 0a20 2020 2020 2020 2065 6c69 6620  g).        elif 
+0002fed0: 7365 6c66 2e63 6f72 652e 7065 726d 6561  self.core.permea
+0002fee0: 6269 6c69 7479 5f74 7970 6520 3d3d 2050  bility_type == P
+0002fef0: 6572 6d65 6162 696c 6974 7954 7970 652e  ermeabilityType.
+0002ff00: 5265 616c 5661 6c75 653a 0a20 2020 2020  RealValue:.     
+0002ff10: 2020 2020 2020 2066 656d 6d2e 6d69 5f61         femm.mi_a
+0002ff20: 6464 6d61 7465 7269 616c 2827 4665 7272  ddmaterial('Ferr
+0002ff30: 6974 6527 2c20 7365 6c66 2e63 6f72 652e  ite', self.core.
+0002ff40: 6d75 5f72 5f61 6273 2c20 7365 6c66 2e63  mu_r_abs, self.c
+0002ff50: 6f72 652e 6d75 5f72 5f61 6273 2c20 302c  ore.mu_r_abs, 0,
+0002ff60: 2030 2c20 7365 6c66 2e63 6f72 652e 7369   0, self.core.si
+0002ff70: 676d 6120 2f20 3165 362c 2030 2c20 302c  gma / 1e6, 0, 0,
+0002ff80: 2031 2c0a 2020 2020 2020 2020 2020 2020   1,.            
+0002ff90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ffa0: 2020 2020 302c 2073 656c 662e 636f 7265      0, self.core
+0002ffb0: 2e70 6869 5f6d 755f 6465 672c 2073 656c  .phi_mu_deg, sel
+0002ffc0: 662e 636f 7265 2e70 6869 5f6d 755f 6465  f.core.phi_mu_de
+0002ffd0: 6729 0a20 2020 2020 2020 2065 6c73 653a  g).        else:
+0002ffe0: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
+0002fff0: 6d2e 6d69 5f61 6464 6d61 7465 7269 616c  m.mi_addmaterial
+00030000: 2827 4665 7272 6974 6527 2c20 7365 6c66  ('Ferrite', self
+00030010: 2e63 6f72 652e 6d75 5f72 5f61 6273 2c20  .core.mu_r_abs, 
+00030020: 7365 6c66 2e63 6f72 652e 6d75 5f72 5f61  self.core.mu_r_a
+00030030: 6273 2c20 302c 2030 2c20 7365 6c66 2e63  bs, 0, 0, self.c
+00030040: 6f72 652e 7369 676d 6120 2f20 3165 362c  ore.sigma / 1e6,
+00030050: 2030 2c20 302c 2031 2c0a 2020 2020 2020   0, 0, 1,.      
+00030060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030070: 2020 2020 2020 2020 2020 302c 2030 2c20            0, 0, 
+00030080: 3029 0a20 2020 2020 2020 2066 656d 6d2e  0).        femm.
+00030090: 6d69 5f61 6464 6d61 7465 7269 616c 2827  mi_addmaterial('
+000300a0: 4169 7227 2c20 312c 2031 2c20 302c 2030  Air', 1, 1, 0, 0
+000300b0: 2c20 302c 2030 2c20 302c 2031 2c20 302c  , 0, 0, 0, 1, 0,
+000300c0: 2030 2c20 3029 0a0a 2020 2020 2020 2020   0, 0)..        
+000300d0: 666f 7220 6920 696e 2072 616e 6765 2830  for i in range(0
+000300e0: 2c20 6c65 6e28 7365 6c66 2e77 696e 6469  , len(self.windi
+000300f0: 6e67 7329 293a 0a20 2020 2020 2020 2020  ngs)):.         
+00030100: 2020 2069 6620 7365 6c66 2e77 696e 6469     if self.windi
+00030110: 6e67 735b 695d 2e63 6f6e 6475 6374 6f72  ngs[i].conductor
+00030120: 5f74 7970 6520 3d3d 2043 6f6e 6475 6374  _type == Conduct
+00030130: 6f72 5479 7065 2e52 6f75 6e64 4c69 747a  orType.RoundLitz
+00030140: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00030150: 2020 6665 6d6d 2e6d 695f 6164 646d 6174    femm.mi_addmat
+00030160: 6572 6961 6c28 274c 6974 7a27 2c20 312c  erial('Litz', 1,
+00030170: 2031 2c20 302c 2030 2c20 7365 6c66 2e77   1, 0, 0, self.w
+00030180: 696e 6469 6e67 735b 695d 2e63 6f6e 645f  indings[i].cond_
+00030190: 7369 676d 6120 2f20 3165 362c 2030 2c20  sigma / 1e6, 0, 
+000301a0: 302c 2031 2c20 352c 2030 2c20 302c 0a20  0, 1, 5, 0, 0,. 
+000301b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000301c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000301d0: 2020 2073 656c 662e 7769 6e64 696e 6773     self.windings
+000301e0: 5b69 5d2e 6e5f 7374 7261 6e64 732c 0a20  [i].n_strands,. 
+000301f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030210: 2020 2032 202a 2031 3030 3020 2a20 7365     2 * 1000 * se
+00030220: 6c66 2e77 696e 6469 6e67 735b 695d 2e73  lf.windings[i].s
+00030230: 7472 616e 645f 7261 6469 7573 2920 2023  trand_radius)  #
+00030240: 2074 7970 6520 3a3d 2035 2e20 6c61 7374   type := 5. last
+00030250: 2061 7267 756d 656e 740a 2020 2020 2020   argument.      
+00030260: 2020 2020 2020 2020 2020 7365 6c66 2e66            self.f
+00030270: 656d 6d74 5f70 7269 6e74 2866 224e 756d  emmt_print(f"Num
+00030280: 6265 7220 6f66 2073 7472 616e 6473 3a20  ber of strands: 
+00030290: 7b73 656c 662e 7769 6e64 696e 6773 5b69  {self.windings[i
+000302a0: 5d2e 6e5f 7374 7261 6e64 737d 2229 0a20  ].n_strands}"). 
+000302b0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000302c0: 656c 662e 6665 6d6d 745f 7072 696e 7428  elf.femmt_print(
+000302d0: 6622 4469 616d 6574 6572 206f 6620 7374  f"Diameter of st
+000302e0: 7261 6e64 7320 696e 206d 6d3a 207b 3220  rands in mm: {2 
+000302f0: 2a20 3130 3030 202a 2073 656c 662e 7769  * 1000 * self.wi
+00030300: 6e64 696e 6773 5b69 5d2e 7374 7261 6e64  ndings[i].strand
+00030310: 5f72 6164 6975 737d 2229 0a20 2020 2020  _radius}").     
+00030320: 2020 2020 2020 2069 6620 7365 6c66 2e77         if self.w
+00030330: 696e 6469 6e67 735b 695d 2e63 6f6e 6475  indings[i].condu
+00030340: 6374 6f72 5f74 7970 6520 3d3d 2043 6f6e  ctor_type == Con
+00030350: 6475 6374 6f72 5479 7065 2e52 6f75 6e64  ductorType.Round
+00030360: 536f 6c69 6420 5c0a 2020 2020 2020 2020  Solid \.        
+00030370: 2020 2020 2020 2020 2020 2020 6f72 2073              or s
+00030380: 656c 662e 7769 6e64 696e 6773 5b69 5d2e  elf.windings[i].
+00030390: 636f 6e64 7563 746f 725f 7479 7065 203d  conductor_type =
+000303a0: 3d20 436f 6e64 7563 746f 7254 7970 652e  = ConductorType.
+000303b0: 5265 6374 616e 6775 6c61 7253 6f6c 6964  RectangularSolid
+000303c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000303d0: 2020 6665 6d6d 2e6d 695f 6164 646d 6174    femm.mi_addmat
+000303e0: 6572 6961 6c28 2743 6f70 7065 7227 2c20  erial('Copper', 
+000303f0: 312c 2031 2c20 302c 2030 2c20 7365 6c66  1, 1, 0, 0, self
+00030400: 2e77 696e 6469 6e67 735b 695d 2e63 6f6e  .windings[i].con
+00030410: 645f 7369 676d 6120 2f20 3165 362c 2030  d_sigma / 1e6, 0
+00030420: 2c20 302c 2031 2c20 302c 2030 2c20 302c  , 0, 1, 0, 0, 0,
+00030430: 2030 2c20 3029 0a0a 2020 2020 2020 2020   0, 0)..        
+00030440: 2320 3d3d 2043 6972 6375 6974 203d 3d0a  # == Circuit ==.
+00030450: 2020 2020 2020 2020 2320 636f 696c 2061          # coil a
+00030460: 7320 7365 656e 2066 726f 6d20 7468 6520  s seen from the 
+00030470: 7465 726d 696e 616c 732e 0a20 2020 2020  terminals..     
+00030480: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+00030490: 6528 6c65 6e28 7365 6c66 2e77 696e 6469  e(len(self.windi
+000304a0: 6e67 7329 293a 0a20 2020 2020 2020 2020  ngs)):.         
+000304b0: 2020 2066 656d 6d2e 6d69 5f61 6464 6369     femm.mi_addci
+000304c0: 7263 7072 6f70 2827 5769 6e64 696e 6727  rcprop('Winding'
+000304d0: 202b 2073 7472 2869 202b 2031 292c 2063   + str(i + 1), c
+000304e0: 7572 7265 6e74 5b69 5d20 2a20 7369 676e  urrent[i] * sign
+000304f0: 5b69 5d2c 2069 6e74 286e 6f74 2073 656c  [i], int(not sel
+00030500: 662e 7769 6e64 696e 6773 5b69 5d2e 7061  f.windings[i].pa
+00030510: 7261 6c6c 656c 2929 0a0a 2020 2020 2020  rallel))..      
+00030520: 2020 2320 3d3d 2047 656f 6d65 7472 7920    # == Geometry 
+00030530: 3d3d 0a20 2020 2020 2020 2023 2041 6464  ==.        # Add
+00030540: 2063 6f72 650a 2020 2020 2020 2020 6966   core.        if
+00030550: 2073 656c 662e 6169 725f 6761 7073 2e6e   self.air_gaps.n
+00030560: 756d 6265 7220 3d3d 2030 3a0a 2020 2020  umber == 0:.    
+00030570: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00030580: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
+00030590: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
+000305a0: 5b34 2c20 305d 2c0a 2020 2020 2020 2020  [4, 0],.        
+000305b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000305c0: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+000305d0: 6178 692e 705f 7769 6e64 6f77 5b34 2c20  axi.p_window[4, 
+000305e0: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
 000305f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030600: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-00030610: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
-00030620: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
-00030630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030640: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-00030650: 2e70 5f6f 7574 6572 5b31 2c20 305d 2c0a  .p_outer[1, 0],.
-00030660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030670: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00030680: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
-00030690: 7465 725b 312c 2031 5d29 0a20 2020 2020  ter[1, 1]).     
-000306a0: 2020 2020 2020 2066 656d 6d2e 6d69 5f64         femm.mi_d
-000306b0: 7261 776c 696e 6528 7365 6c66 2e74 776f  rawline(self.two
-000306c0: 5f64 5f61 7869 2e70 5f6f 7574 6572 5b31  _d_axi.p_outer[1
-000306d0: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
+00030600: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00030610: 705f 7769 6e64 6f77 5b35 2c20 305d 2c0a  p_window[5, 0],.
+00030620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030630: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00030640: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
+00030650: 6e64 6f77 5b35 2c20 315d 290a 2020 2020  ndow[5, 1]).    
+00030660: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00030670: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
+00030680: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
+00030690: 5b35 2c20 305d 2c0a 2020 2020 2020 2020  [5, 0],.        
+000306a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000306b0: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+000306c0: 6178 692e 705f 7769 6e64 6f77 5b35 2c20  axi.p_window[5, 
+000306d0: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
 000306e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000306f0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-00030700: 692e 705f 6f75 7465 725b 312c 2031 5d2c  i.p_outer[1, 1],
-00030710: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00030720: 2020 2020 2020 2020 2020 2020 2020 302c                0,
-00030730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00030740: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00030750: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-00030760: 7574 6572 5b30 2c20 315d 290a 2020 2020  uter[0, 1]).    
-00030770: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
-00030780: 6472 6177 6c69 6e65 2830 2c0a 2020 2020  drawline(0,.    
+000306f0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00030700: 705f 7769 6e64 6f77 5b37 2c20 305d 2c0a  p_window[7, 0],.
+00030710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030720: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00030730: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
+00030740: 6e64 6f77 5b37 2c20 315d 290a 2020 2020  ndow[7, 1]).    
+00030750: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00030760: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
+00030770: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
+00030780: 5b37 2c20 305d 2c0a 2020 2020 2020 2020  [7, 0],.        
 00030790: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000307a0: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
-000307b0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-000307c0: 302c 2031 5d2c 0a20 2020 2020 2020 2020  0, 1],.         
+000307a0: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+000307b0: 6178 692e 705f 7769 6e64 6f77 5b37 2c20  axi.p_window[7, 
+000307c0: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
 000307d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000307e0: 2020 2020 302c 0a20 2020 2020 2020 2020      0,.         
-000307f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030800: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00030810: 7869 2e70 5f6f 7574 6572 5b32 2c20 315d  xi.p_outer[2, 1]
-00030820: 290a 2020 2020 2020 2020 656c 6966 2073  ).        elif s
-00030830: 656c 662e 6169 725f 6761 7073 2e6e 756d  elf.air_gaps.num
-00030840: 6265 7220 3e20 303a 0a20 2020 2020 2020  ber > 0:.       
-00030850: 2020 2020 2066 656d 6d2e 6d69 5f64 7261       femm.mi_dra
-00030860: 776c 696e 6528 302c 0a20 2020 2020 2020  wline(0,.       
-00030870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030880: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00030890: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
-000308a0: 302c 2031 5d2c 0a20 2020 2020 2020 2020  0, 1],.         
-000308b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000308c0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-000308d0: 7869 2e70 5f61 6972 5f67 6170 735b 312c  xi.p_air_gaps[1,
-000308e0: 2030 5d2c 0a20 2020 2020 2020 2020 2020   0],.           
+000307e0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+000307f0: 705f 7769 6e64 6f77 5b36 2c20 305d 2c0a  p_window[6, 0],.
+00030800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030810: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00030820: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
+00030830: 6e64 6f77 5b36 2c20 315d 290a 2020 2020  ndow[6, 1]).    
+00030840: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00030850: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
+00030860: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
+00030870: 5b36 2c20 305d 2c0a 2020 2020 2020 2020  [6, 0],.        
+00030880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030890: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+000308a0: 6178 692e 705f 7769 6e64 6f77 5b36 2c20  axi.p_window[6, 
+000308b0: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
+000308c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000308d0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+000308e0: 705f 7769 6e64 6f77 5b34 2c20 305d 2c0a  p_window[4, 0],.
 000308f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030900: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-00030910: 2e70 5f61 6972 5f67 6170 735b 312c 2031  .p_air_gaps[1, 1
-00030920: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
-00030930: 656d 6d2e 6d69 5f64 7261 776c 696e 6528  emm.mi_drawline(
-00030940: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00030950: 5f61 6972 5f67 6170 735b 312c 2030 5d2c  _air_gaps[1, 0],
-00030960: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00030970: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00030980: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f61  lf.two_d_axi.p_a
-00030990: 6972 5f67 6170 735b 312c 2031 5d2c 0a20  ir_gaps[1, 1],. 
-000309a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000309b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000309c0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
-000309d0: 646f 775b 342c 2030 5d2c 0a20 2020 2020  dow[4, 0],.     
-000309e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000309f0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-00030a00: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
-00030a10: 342c 2031 5d29 0a20 2020 2020 2020 2020  4, 1]).         
-00030a20: 2020 2066 656d 6d2e 6d69 5f64 7261 776c     femm.mi_drawl
-00030a30: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
-00030a40: 7869 2e70 5f77 696e 646f 775b 342c 2030  xi.p_window[4, 0
-00030a50: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00030a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030a70: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00030a80: 5f77 696e 646f 775b 342c 2031 5d2c 0a20  _window[4, 1],. 
-00030a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030aa0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00030ab0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
-00030ac0: 646f 775b 352c 2030 5d2c 0a20 2020 2020  dow[5, 0],.     
-00030ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030ae0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-00030af0: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
-00030b00: 352c 2031 5d29 0a20 2020 2020 2020 2020  5, 1]).         
-00030b10: 2020 2066 656d 6d2e 6d69 5f64 7261 776c     femm.mi_drawl
-00030b20: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
-00030b30: 7869 2e70 5f77 696e 646f 775b 352c 2030  xi.p_window[5, 0
-00030b40: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00030b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030b60: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00030b70: 5f77 696e 646f 775b 352c 2031 5d2c 0a20  _window[5, 1],. 
+00030900: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00030910: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
+00030920: 6e64 6f77 5b34 2c20 315d 290a 2020 2020  ndow[4, 1]).    
+00030930: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00030940: 6472 6177 6c69 6e65 2830 2c0a 2020 2020  drawline(0,.    
+00030950: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030960: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+00030970: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+00030980: 322c 2031 5d2c 0a20 2020 2020 2020 2020  2, 1],.         
+00030990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000309a0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+000309b0: 7869 2e70 5f6f 7574 6572 5b33 2c20 305d  xi.p_outer[3, 0]
+000309c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000309d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000309e0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+000309f0: 6f75 7465 725b 332c 2031 5d29 0a20 2020  outer[3, 1]).   
+00030a00: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
+00030a10: 5f64 7261 776c 696e 6528 7365 6c66 2e74  _drawline(self.t
+00030a20: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+00030a30: 5b33 2c20 305d 2c0a 2020 2020 2020 2020  [3, 0],.        
+00030a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030a50: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+00030a60: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
+00030a70: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00030a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030a90: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00030aa0: 5f6f 7574 6572 5b31 2c20 305d 2c0a 2020  _outer[1, 0],.  
+00030ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030ac0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00030ad0: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
+00030ae0: 725b 312c 2031 5d29 0a20 2020 2020 2020  r[1, 1]).       
+00030af0: 2020 2020 2066 656d 6d2e 6d69 5f64 7261       femm.mi_dra
+00030b00: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
+00030b10: 5f61 7869 2e70 5f6f 7574 6572 5b31 2c20  _axi.p_outer[1, 
+00030b20: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
+00030b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030b40: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00030b50: 705f 6f75 7465 725b 312c 2031 5d2c 0a20  p_outer[1, 1],. 
+00030b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030b70: 2020 2020 2020 2020 2020 2020 302c 0a20              0,. 
 00030b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00030b90: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00030ba0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
-00030bb0: 646f 775b 372c 2030 5d2c 0a20 2020 2020  dow[7, 0],.     
-00030bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030bd0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-00030be0: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
-00030bf0: 372c 2031 5d29 0a20 2020 2020 2020 2020  7, 1]).         
-00030c00: 2020 2066 656d 6d2e 6d69 5f64 7261 776c     femm.mi_drawl
-00030c10: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
-00030c20: 7869 2e70 5f77 696e 646f 775b 372c 2030  xi.p_window[7, 0
-00030c30: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00030ba0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+00030bb0: 6572 5b30 2c20 315d 290a 2020 2020 2020  er[0, 1]).      
+00030bc0: 2020 2020 2020 6665 6d6d 2e6d 695f 6472        femm.mi_dr
+00030bd0: 6177 6c69 6e65 2830 2c0a 2020 2020 2020  awline(0,.      
+00030be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030bf0: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+00030c00: 645f 6178 692e 705f 6f75 7465 725b 302c  d_axi.p_outer[0,
+00030c10: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+00030c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030c30: 2020 302c 0a20 2020 2020 2020 2020 2020    0,.           
 00030c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030c50: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00030c60: 5f77 696e 646f 775b 372c 2031 5d2c 0a20  _window[7, 1],. 
-00030c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030c80: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00030c90: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
-00030ca0: 646f 775b 362c 2030 5d2c 0a20 2020 2020  dow[6, 0],.     
-00030cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030cc0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-00030cd0: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
-00030ce0: 362c 2031 5d29 0a20 2020 2020 2020 2020  6, 1]).         
-00030cf0: 2020 2066 656d 6d2e 6d69 5f64 7261 776c     femm.mi_drawl
-00030d00: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
-00030d10: 7869 2e70 5f77 696e 646f 775b 362c 2030  xi.p_window[6, 0
-00030d20: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00030d30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030d40: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00030d50: 5f77 696e 646f 775b 362c 2031 5d2c 0a20  _window[6, 1],. 
-00030d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030d70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00030d80: 2e74 776f 5f64 5f61 7869 2e70 5f61 6972  .two_d_axi.p_air
-00030d90: 5f67 6170 735b 332c 2030 5d2c 0a20 2020  _gaps[3, 0],.   
-00030da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030db0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-00030dc0: 776f 5f64 5f61 7869 2e70 5f61 6972 5f67  wo_d_axi.p_air_g
-00030dd0: 6170 735b 332c 2031 5d29 0a20 2020 2020  aps[3, 1]).     
-00030de0: 2020 2020 2020 2066 656d 6d2e 6d69 5f64         femm.mi_d
-00030df0: 7261 776c 696e 6528 7365 6c66 2e74 776f  rawline(self.two
-00030e00: 5f64 5f61 7869 2e70 5f61 6972 5f67 6170  _d_axi.p_air_gap
-00030e10: 735b 332c 2030 5d2c 0a20 2020 2020 2020  s[3, 0],.       
-00030e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030e30: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00030e40: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
-00030e50: 332c 2031 5d2c 0a20 2020 2020 2020 2020  3, 1],.         
-00030e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030e70: 2020 2020 302c 0a20 2020 2020 2020 2020      0,.         
-00030e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030e90: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00030ea0: 7869 2e70 5f61 6972 5f67 6170 735b 322c  xi.p_air_gaps[2,
-00030eb0: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
-00030ec0: 2066 656d 6d2e 6d69 5f64 7261 776c 696e   femm.mi_drawlin
-00030ed0: 6528 302c 0a20 2020 2020 2020 2020 2020  e(0,.           
+00030c50: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00030c60: 2e70 5f6f 7574 6572 5b32 2c20 315d 290a  .p_outer[2, 1]).
+00030c70: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
+00030c80: 662e 6169 725f 6761 7073 2e6e 756d 6265  f.air_gaps.numbe
+00030c90: 7220 3e20 303a 0a20 2020 2020 2020 2020  r > 0:.         
+00030ca0: 2020 2066 656d 6d2e 6d69 5f64 7261 776c     femm.mi_drawl
+00030cb0: 696e 6528 302c 0a20 2020 2020 2020 2020  ine(0,.         
+00030cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030cd0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00030ce0: 7869 2e70 5f61 6972 5f67 6170 735b 302c  xi.p_air_gaps[0,
+00030cf0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+00030d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030d10: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00030d20: 2e70 5f61 6972 5f67 6170 735b 312c 2030  .p_air_gaps[1, 0
+00030d30: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00030d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030d50: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00030d60: 5f61 6972 5f67 6170 735b 312c 2031 5d29  _air_gaps[1, 1])
+00030d70: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
+00030d80: 6d2e 6d69 5f64 7261 776c 696e 6528 7365  m.mi_drawline(se
+00030d90: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f61  lf.two_d_axi.p_a
+00030da0: 6972 5f67 6170 735b 312c 2030 5d2c 0a20  ir_gaps[1, 0],. 
+00030db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030dc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00030dd0: 2e74 776f 5f64 5f61 7869 2e70 5f61 6972  .two_d_axi.p_air
+00030de0: 5f67 6170 735b 312c 2031 5d2c 0a20 2020  _gaps[1, 1],.   
+00030df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030e00: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+00030e10: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
+00030e20: 775b 342c 2030 5d2c 0a20 2020 2020 2020  w[4, 0],.       
+00030e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00030e40: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
+00030e50: 5f61 7869 2e70 5f77 696e 646f 775b 342c  _axi.p_window[4,
+00030e60: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
+00030e70: 2066 656d 6d2e 6d69 5f64 7261 776c 696e   femm.mi_drawlin
+00030e80: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
+00030e90: 2e70 5f77 696e 646f 775b 342c 2030 5d2c  .p_window[4, 0],
+00030ea0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00030eb0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00030ec0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+00030ed0: 696e 646f 775b 342c 2031 5d2c 0a20 2020  indow[4, 1],.   
 00030ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030ef0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-00030f00: 2e70 5f61 6972 5f67 6170 735b 322c 2031  .p_air_gaps[2, 1
-00030f10: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00030ef0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+00030f00: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
+00030f10: 775b 352c 2030 5d2c 0a20 2020 2020 2020  w[5, 0],.       
 00030f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030f30: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
-00030f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030f50: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00030f60: 5f6f 7574 6572 5b32 2c20 315d 290a 2020  _outer[2, 1]).  
-00030f70: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-00030f80: 695f 6472 6177 6c69 6e65 2830 2c0a 2020  i_drawline(0,.  
-00030f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030fa0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00030fb0: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-00030fc0: 725b 322c 2031 5d2c 0a20 2020 2020 2020  r[2, 1],.       
+00030f30: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
+00030f40: 5f61 7869 2e70 5f77 696e 646f 775b 352c  _axi.p_window[5,
+00030f50: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
+00030f60: 2066 656d 6d2e 6d69 5f64 7261 776c 696e   femm.mi_drawlin
+00030f70: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
+00030f80: 2e70 5f77 696e 646f 775b 352c 2030 5d2c  .p_window[5, 0],
+00030f90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00030fa0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00030fb0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+00030fc0: 696e 646f 775b 352c 2031 5d2c 0a20 2020  indow[5, 1],.   
 00030fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00030fe0: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00030ff0: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
-00031000: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
+00030fe0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+00030ff0: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
+00031000: 775b 372c 2030 5d2c 0a20 2020 2020 2020  w[7, 0],.       
 00031010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031020: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-00031030: 705f 6f75 7465 725b 332c 2031 5d29 0a20  p_outer[3, 1]). 
-00031040: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
-00031050: 6d69 5f64 7261 776c 696e 6528 7365 6c66  mi_drawline(self
-00031060: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-00031070: 6572 5b33 2c20 305d 2c0a 2020 2020 2020  er[3, 0],.      
-00031080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031090: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-000310a0: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
-000310b0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+00031020: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
+00031030: 5f61 7869 2e70 5f77 696e 646f 775b 372c  _axi.p_window[7,
+00031040: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
+00031050: 2066 656d 6d2e 6d69 5f64 7261 776c 696e   femm.mi_drawlin
+00031060: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
+00031070: 2e70 5f77 696e 646f 775b 372c 2030 5d2c  .p_window[7, 0],
+00031080: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031090: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000310a0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+000310b0: 696e 646f 775b 372c 2031 5d2c 0a20 2020  indow[7, 1],.   
 000310c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000310d0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-000310e0: 2e70 5f6f 7574 6572 5b31 2c20 305d 2c0a  .p_outer[1, 0],.
-000310f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031100: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00031110: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
-00031120: 7465 725b 312c 2031 5d29 0a20 2020 2020  ter[1, 1]).     
-00031130: 2020 2020 2020 2066 656d 6d2e 6d69 5f64         femm.mi_d
-00031140: 7261 776c 696e 6528 7365 6c66 2e74 776f  rawline(self.two
-00031150: 5f64 5f61 7869 2e70 5f6f 7574 6572 5b31  _d_axi.p_outer[1
-00031160: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
-00031170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031180: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-00031190: 692e 705f 6f75 7465 725b 312c 2031 5d2c  i.p_outer[1, 1],
-000311a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000311b0: 2020 2020 2020 2020 2020 2020 2020 302c                0,
-000311c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000311d0: 2020 2020 2020 2020 2020 2020 2020 7365                se
-000311e0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-000311f0: 7574 6572 5b30 2c20 315d 290a 2020 2020  uter[0, 1]).    
-00031200: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
-00031210: 6472 6177 6c69 6e65 2830 2c0a 2020 2020  drawline(0,.    
-00031220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031230: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
-00031240: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-00031250: 302c 2031 5d2c 0a20 2020 2020 2020 2020  0, 1],.         
-00031260: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031270: 2020 2020 302c 0a20 2020 2020 2020 2020      0,.         
-00031280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031290: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-000312a0: 7869 2e70 5f61 6972 5f67 6170 735b 302c  xi.p_air_gaps[0,
-000312b0: 2031 5d29 0a20 2020 2020 2020 2065 6c73   1]).        els
-000312c0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
-000312d0: 6169 7365 2045 7863 6570 7469 6f6e 2822  aise Exception("
-000312e0: 4e65 6761 7469 7665 2061 6972 2067 6170  Negative air gap
-000312f0: 206e 756d 6265 7220 6973 206e 6f74 2061   number is not a
-00031300: 6c6c 6f77 6564 2229 0a20 2020 2020 2020  llowed").       
-00031310: 2023 2041 6464 2043 6f69 6c0a 0a20 2020   # Add Coil..   
-00031320: 2020 2020 2023 2066 656d 6d2e 6d69 5f64       # femm.mi_d
-00031330: 7261 7772 6563 7461 6e67 6c65 2873 656c  rawrectangle(sel
-00031340: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
-00031350: 6e64 6f77 5b34 2c20 305d 2b73 656c 662e  ndow[4, 0]+self.
-00031360: 696e 7375 6c61 7469 6f6e 2e63 6f72 655f  insulation.core_
-00031370: 636f 6e64 2c0a 2020 2020 2020 2020 2320  cond,.        # 
-00031380: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00031390: 5f77 696e 646f 775b 342c 2031 5d2b 7365  _window[4, 1]+se
-000313a0: 6c66 2e63 6f6d 706f 6e65 6e74 2e69 6e73  lf.component.ins
-000313b0: 756c 6174 696f 6e2e 636f 7265 5f63 6f6e  ulation.core_con
-000313c0: 642c 0a20 2020 2020 2020 2023 2073 656c  d,.        # sel
-000313d0: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
-000313e0: 6e64 6f77 5b37 2c20 305d 2d73 656c 662e  ndow[7, 0]-self.
-000313f0: 696e 7375 6c61 7469 6f6e 2e63 6f72 655f  insulation.core_
-00031400: 636f 6e64 2c0a 2020 2020 2020 2020 2320  cond,.        # 
-00031410: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00031420: 5f77 696e 646f 775b 372c 2031 5d2d 7365  _window[7, 1]-se
-00031430: 6c66 2e69 6e73 756c 6174 696f 6e2e 636f  lf.insulation.co
-00031440: 7265 5f63 6f6e 6429 0a20 2020 2020 2020  re_cond).       
-00031450: 2023 0a20 2020 2020 2020 2023 2066 656d   #.        # fem
-00031460: 6d2e 6d69 5f61 6464 626c 6f63 6b6c 6162  m.mi_addblocklab
-00031470: 656c 2873 656c 662e 7477 6f5f 645f 6178  el(self.two_d_ax
-00031480: 692e 705f 7769 6e64 6f77 5b37 2c20 305d  i.p_window[7, 0]
-00031490: 2d32 2a73 656c 662e 696e 7375 6c61 7469  -2*self.insulati
-000314a0: 6f6e 2e63 6f72 655f 636f 6e64 2c0a 2020  on.core_cond,.  
-000314b0: 2020 2020 2020 2320 7365 6c66 2e74 776f        # self.two
-000314c0: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
-000314d0: 372c 2031 5d2d 322a 7365 6c66 2e69 6e73  7, 1]-2*self.ins
-000314e0: 756c 6174 696f 6e2e 636f 7265 5f63 6f6e  ulation.core_con
-000314f0: 6429 0a20 2020 2020 2020 2023 0a20 2020  d).        #.   
-00031500: 2020 2020 2023 2066 656d 6d2e 6d69 5f73       # femm.mi_s
-00031510: 656c 6563 746c 6162 656c 2873 656c 662e  electlabel(self.
-00031520: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
-00031530: 6f77 5b37 2c20 305d 2d32 2a73 656c 662e  ow[7, 0]-2*self.
-00031540: 696e 7375 6c61 7469 6f6e 2e63 6f72 655f  insulation.core_
-00031550: 636f 6e64 2c0a 2020 2020 2020 2020 2320  cond,.        # 
-00031560: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00031570: 5f77 696e 646f 775b 372c 2031 5d2d 322a  _window[7, 1]-2*
-00031580: 7365 6c66 2e69 6e73 756c 6174 696f 6e2e  self.insulation.
-00031590: 636f 7265 5f63 6f6e 6429 0a20 2020 2020  core_cond).     
-000315a0: 2020 2023 0a20 2020 2020 2020 2023 2066     #.        # f
-000315b0: 656d 6d2e 6d69 5f73 6574 626c 6f63 6b70  emm.mi_setblockp
-000315c0: 726f 7028 2743 6f70 7065 7227 2c20 302c  rop('Copper', 0,
-000315d0: 2031 2c20 2769 636f 696c 272c 2030 2c20   1, 'icoil', 0, 
-000315e0: 302c 2031 290a 2020 2020 2020 2020 230a  0, 1).        #.
-000315f0: 2020 2020 2020 2020 2320 6665 6d6d 2e6d          # femm.m
-00031600: 695f 636c 6561 7273 656c 6563 7465 6428  i_clearselected(
-00031610: 290a 0a20 2020 2020 2020 2066 6f72 206e  )..        for n
-00031620: 756d 2069 6e20 7261 6e67 6528 6c65 6e28  um in range(len(
-00031630: 7365 6c66 2e77 696e 6469 6e67 7329 293a  self.windings)):
-00031640: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00031650: 7365 6c66 2e77 696e 6469 6e67 735b 6e75  self.windings[nu
-00031660: 6d5d 2e63 6f6e 6475 6374 6f72 5f74 7970  m].conductor_typ
-00031670: 6520 696e 205b 436f 6e64 7563 746f 7254  e in [ConductorT
-00031680: 7970 652e 526f 756e 644c 6974 7a2c 2043  ype.RoundLitz, C
-00031690: 6f6e 6475 6374 6f72 5479 7065 2e52 6f75  onductorType.Rou
-000316a0: 6e64 536f 6c69 645d 3a0a 2020 2020 2020  ndSolid]:.      
-000316b0: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-000316c0: 696e 2072 616e 6765 2830 2c20 696e 7428  in range(0, int(
-000316d0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-000316e0: 5f63 6f6e 6475 6374 6f72 5b6e 756d 5d2e  _conductor[num].
-000316f0: 7368 6170 655b 305d 202f 2035 2929 3a0a  shape[0] / 5)):.
-00031700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031710: 2020 2020 2320 303a 2063 656e 7465 7220      # 0: center 
-00031720: 7c20 313a 206c 6566 7420 7c20 323a 2074  | 1: left | 2: t
-00031730: 6f70 207c 2033 3a20 7269 6768 7420 7c20  op | 3: right | 
-00031740: 342e 626f 7474 6f6d 0a20 2020 2020 2020  4.bottom.       
-00031750: 2020 2020 2020 2020 2020 2020 2066 656d               fem
-00031760: 6d2e 6d69 5f64 7261 7761 7263 2873 656c  m.mi_drawarc(sel
-00031770: 662e 7477 6f5f 645f 6178 692e 705f 636f  f.two_d_axi.p_co
-00031780: 6e64 7563 746f 725b 6e75 6d5d 5b35 202a  nductor[num][5 *
-00031790: 2069 202b 2031 5d5b 305d 2c0a 2020 2020   i + 1][0],.    
-000317a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000317b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000317c0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-000317d0: 5f63 6f6e 6475 6374 6f72 5b6e 756d 5d5b  _conductor[num][
-000317e0: 3520 2a20 6920 2b20 315d 5b31 5d2c 0a20  5 * i + 1][1],. 
-000317f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031810: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-00031820: 692e 705f 636f 6e64 7563 746f 725b 6e75  i.p_conductor[nu
-00031830: 6d5d 5b35 202a 2069 202b 2033 5d5b 305d  m][5 * i + 3][0]
-00031840: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00031850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031860: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00031870: 5f61 7869 2e70 5f63 6f6e 6475 6374 6f72  _axi.p_conductor
-00031880: 5b6e 756d 5d5b 3520 2a20 6920 2b20 335d  [num][5 * i + 3]
-00031890: 5b31 5d2c 2031 3830 2c20 322e 3529 0a20  [1], 180, 2.5). 
-000318a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000318b0: 2020 2066 656d 6d2e 6d69 5f61 6464 6172     femm.mi_addar
-000318c0: 6328 7365 6c66 2e74 776f 5f64 5f61 7869  c(self.two_d_axi
-000318d0: 2e70 5f63 6f6e 6475 6374 6f72 5b6e 756d  .p_conductor[num
-000318e0: 5d5b 3520 2a20 6920 2b20 335d 5b30 5d2c  ][5 * i + 3][0],
-000318f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031910: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00031920: 7869 2e70 5f63 6f6e 6475 6374 6f72 5b6e  xi.p_conductor[n
-00031930: 756d 5d5b 3520 2a20 6920 2b20 335d 5b31  um][5 * i + 3][1
-00031940: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00031950: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031960: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00031970: 5f61 7869 2e70 5f63 6f6e 6475 6374 6f72  _axi.p_conductor
-00031980: 5b6e 756d 5d5b 3520 2a20 6920 2b20 315d  [num][5 * i + 1]
-00031990: 5b30 5d2c 0a20 2020 2020 2020 2020 2020  [0],.           
-000319a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000319b0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-000319c0: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
-000319d0: 6f72 5b6e 756d 5d5b 3520 2a20 6920 2b20  or[num][5 * i + 
-000319e0: 315d 5b31 5d2c 2031 3830 2c20 322e 3529  1][1], 180, 2.5)
-000319f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031a00: 2020 2020 2066 656d 6d2e 6d69 5f61 6464       femm.mi_add
-00031a10: 626c 6f63 6b6c 6162 656c 2873 656c 662e  blocklabel(self.
-00031a20: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
-00031a30: 7563 746f 725b 6e75 6d5d 5b35 202a 2069  uctor[num][5 * i
-00031a40: 5d5b 305d 2c0a 2020 2020 2020 2020 2020  ][0],.          
-00031a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031a70: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00031a80: 5f63 6f6e 6475 6374 6f72 5b6e 756d 5d5b  _conductor[num][
-00031a90: 3520 2a20 695d 5b31 5d29 0a20 2020 2020  5 * i][1]).     
-00031aa0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00031ab0: 656d 6d2e 6d69 5f73 656c 6563 746c 6162  emm.mi_selectlab
-00031ac0: 656c 2873 656c 662e 7477 6f5f 645f 6178  el(self.two_d_ax
-00031ad0: 692e 705f 636f 6e64 7563 746f 725b 6e75  i.p_conductor[nu
-00031ae0: 6d5d 5b35 202a 2069 5d5b 305d 2c0a 2020  m][5 * i][0],.  
-00031af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031b10: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00031b20: 5f61 7869 2e70 5f63 6f6e 6475 6374 6f72  _axi.p_conductor
-00031b30: 5b6e 756d 5d5b 3520 2a20 695d 5b31 5d29  [num][5 * i][1])
-00031b40: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00031b50: 2020 2020 2020 7769 6e64 696e 675f 6e61        winding_na
-00031b60: 6d65 203d 2027 5769 6e64 696e 6727 202b  me = 'Winding' +
-00031b70: 2073 7472 286e 756d 202b 2031 290a 2020   str(num + 1).  
-00031b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031b90: 2020 6966 2073 656c 662e 7769 6e64 696e    if self.windin
-00031ba0: 6773 5b6e 756d 5d2e 636f 6e64 7563 746f  gs[num].conducto
-00031bb0: 725f 7479 7065 203d 3d20 436f 6e64 7563  r_type == Conduc
-00031bc0: 746f 7254 7970 652e 526f 756e 644c 6974  torType.RoundLit
-00031bd0: 7a3a 0a20 2020 2020 2020 2020 2020 2020  z:.             
-00031be0: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
-00031bf0: 6d69 5f73 6574 626c 6f63 6b70 726f 7028  mi_setblockprop(
-00031c00: 274c 6974 7a27 2c20 6175 746f 6d65 7368  'Litz', automesh
-00031c10: 5f63 6f6e 6475 6374 6f72 2c20 6d65 7368  _conductor, mesh
-00031c20: 5f73 697a 655f 636f 6e64 7563 746f 722c  _size_conductor,
-00031c30: 2077 696e 6469 6e67 5f6e 616d 652c 2030   winding_name, 0
-00031c40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000310d0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+000310e0: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
+000310f0: 775b 362c 2030 5d2c 0a20 2020 2020 2020  w[6, 0],.       
+00031100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031110: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
+00031120: 5f61 7869 2e70 5f77 696e 646f 775b 362c  _axi.p_window[6,
+00031130: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
+00031140: 2066 656d 6d2e 6d69 5f64 7261 776c 696e   femm.mi_drawlin
+00031150: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
+00031160: 2e70 5f77 696e 646f 775b 362c 2030 5d2c  .p_window[6, 0],
+00031170: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031180: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00031190: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+000311a0: 696e 646f 775b 362c 2031 5d2c 0a20 2020  indow[6, 1],.   
+000311b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000311c0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+000311d0: 776f 5f64 5f61 7869 2e70 5f61 6972 5f67  wo_d_axi.p_air_g
+000311e0: 6170 735b 332c 2030 5d2c 0a20 2020 2020  aps[3, 0],.     
+000311f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031200: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+00031210: 5f64 5f61 7869 2e70 5f61 6972 5f67 6170  _d_axi.p_air_gap
+00031220: 735b 332c 2031 5d29 0a20 2020 2020 2020  s[3, 1]).       
+00031230: 2020 2020 2066 656d 6d2e 6d69 5f64 7261       femm.mi_dra
+00031240: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
+00031250: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
+00031260: 332c 2030 5d2c 0a20 2020 2020 2020 2020  3, 0],.         
+00031270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031280: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00031290: 7869 2e70 5f61 6972 5f67 6170 735b 332c  xi.p_air_gaps[3,
+000312a0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+000312b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000312c0: 2020 302c 0a20 2020 2020 2020 2020 2020    0,.           
+000312d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000312e0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+000312f0: 2e70 5f61 6972 5f67 6170 735b 322c 2031  .p_air_gaps[2, 1
+00031300: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
+00031310: 656d 6d2e 6d69 5f64 7261 776c 696e 6528  emm.mi_drawline(
+00031320: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00031330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031340: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00031350: 5f61 6972 5f67 6170 735b 322c 2031 5d2c  _air_gaps[2, 1],
+00031360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031370: 2020 2020 2020 2020 2020 2020 2020 302c                0,
+00031380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031390: 2020 2020 2020 2020 2020 2020 2020 7365                se
+000313a0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+000313b0: 7574 6572 5b32 2c20 315d 290a 2020 2020  uter[2, 1]).    
+000313c0: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+000313d0: 6472 6177 6c69 6e65 2830 2c0a 2020 2020  drawline(0,.    
+000313e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000313f0: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+00031400: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+00031410: 322c 2031 5d2c 0a20 2020 2020 2020 2020  2, 1],.         
+00031420: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031430: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00031440: 7869 2e70 5f6f 7574 6572 5b33 2c20 305d  xi.p_outer[3, 0]
+00031450: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00031460: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00031470: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00031480: 6f75 7465 725b 332c 2031 5d29 0a20 2020  outer[3, 1]).   
+00031490: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
+000314a0: 5f64 7261 776c 696e 6528 7365 6c66 2e74  _drawline(self.t
+000314b0: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+000314c0: 5b33 2c20 305d 2c0a 2020 2020 2020 2020  [3, 0],.        
+000314d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000314e0: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+000314f0: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
+00031500: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00031510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031520: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00031530: 5f6f 7574 6572 5b31 2c20 305d 2c0a 2020  _outer[1, 0],.  
+00031540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031550: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00031560: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
+00031570: 725b 312c 2031 5d29 0a20 2020 2020 2020  r[1, 1]).       
+00031580: 2020 2020 2066 656d 6d2e 6d69 5f64 7261       femm.mi_dra
+00031590: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
+000315a0: 5f61 7869 2e70 5f6f 7574 6572 5b31 2c20  _axi.p_outer[1, 
+000315b0: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
+000315c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000315d0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+000315e0: 705f 6f75 7465 725b 312c 2031 5d2c 0a20  p_outer[1, 1],. 
+000315f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031600: 2020 2020 2020 2020 2020 2020 302c 0a20              0,. 
+00031610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031620: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00031630: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+00031640: 6572 5b30 2c20 315d 290a 2020 2020 2020  er[0, 1]).      
+00031650: 2020 2020 2020 6665 6d6d 2e6d 695f 6472        femm.mi_dr
+00031660: 6177 6c69 6e65 2830 2c0a 2020 2020 2020  awline(0,.      
+00031670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031680: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+00031690: 645f 6178 692e 705f 6f75 7465 725b 302c  d_axi.p_outer[0,
+000316a0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+000316b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000316c0: 2020 302c 0a20 2020 2020 2020 2020 2020    0,.           
+000316d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000316e0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+000316f0: 2e70 5f61 6972 5f67 6170 735b 302c 2031  .p_air_gaps[0, 1
+00031700: 5d29 0a20 2020 2020 2020 2065 6c73 653a  ]).        else:
+00031710: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
+00031720: 7365 2045 7863 6570 7469 6f6e 2822 4e65  se Exception("Ne
+00031730: 6761 7469 7665 2061 6972 2067 6170 206e  gative air gap n
+00031740: 756d 6265 7220 6973 206e 6f74 2061 6c6c  umber is not all
+00031750: 6f77 6564 2229 0a20 2020 2020 2020 2023  owed").        #
+00031760: 2041 6464 2043 6f69 6c0a 0a20 2020 2020   Add Coil..     
+00031770: 2020 2023 2066 656d 6d2e 6d69 5f64 7261     # femm.mi_dra
+00031780: 7772 6563 7461 6e67 6c65 2873 656c 662e  wrectangle(self.
+00031790: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+000317a0: 6f77 5b34 2c20 305d 2b73 656c 662e 696e  ow[4, 0]+self.in
+000317b0: 7375 6c61 7469 6f6e 2e63 6f72 655f 636f  sulation.core_co
+000317c0: 6e64 2c0a 2020 2020 2020 2020 2320 7365  nd,.        # se
+000317d0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+000317e0: 696e 646f 775b 342c 2031 5d2b 7365 6c66  indow[4, 1]+self
+000317f0: 2e63 6f6d 706f 6e65 6e74 2e69 6e73 756c  .component.insul
+00031800: 6174 696f 6e2e 636f 7265 5f63 6f6e 642c  ation.core_cond,
+00031810: 0a20 2020 2020 2020 2023 2073 656c 662e  .        # self.
+00031820: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+00031830: 6f77 5b37 2c20 305d 2d73 656c 662e 696e  ow[7, 0]-self.in
+00031840: 7375 6c61 7469 6f6e 2e63 6f72 655f 636f  sulation.core_co
+00031850: 6e64 2c0a 2020 2020 2020 2020 2320 7365  nd,.        # se
+00031860: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+00031870: 696e 646f 775b 372c 2031 5d2d 7365 6c66  indow[7, 1]-self
+00031880: 2e69 6e73 756c 6174 696f 6e2e 636f 7265  .insulation.core
+00031890: 5f63 6f6e 6429 0a20 2020 2020 2020 2023  _cond).        #
+000318a0: 0a20 2020 2020 2020 2023 2066 656d 6d2e  .        # femm.
+000318b0: 6d69 5f61 6464 626c 6f63 6b6c 6162 656c  mi_addblocklabel
+000318c0: 2873 656c 662e 7477 6f5f 645f 6178 692e  (self.two_d_axi.
+000318d0: 705f 7769 6e64 6f77 5b37 2c20 305d 2d32  p_window[7, 0]-2
+000318e0: 2a73 656c 662e 696e 7375 6c61 7469 6f6e  *self.insulation
+000318f0: 2e63 6f72 655f 636f 6e64 2c0a 2020 2020  .core_cond,.    
+00031900: 2020 2020 2320 7365 6c66 2e74 776f 5f64      # self.two_d
+00031910: 5f61 7869 2e70 5f77 696e 646f 775b 372c  _axi.p_window[7,
+00031920: 2031 5d2d 322a 7365 6c66 2e69 6e73 756c   1]-2*self.insul
+00031930: 6174 696f 6e2e 636f 7265 5f63 6f6e 6429  ation.core_cond)
+00031940: 0a20 2020 2020 2020 2023 0a20 2020 2020  .        #.     
+00031950: 2020 2023 2066 656d 6d2e 6d69 5f73 656c     # femm.mi_sel
+00031960: 6563 746c 6162 656c 2873 656c 662e 7477  ectlabel(self.tw
+00031970: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
+00031980: 5b37 2c20 305d 2d32 2a73 656c 662e 696e  [7, 0]-2*self.in
+00031990: 7375 6c61 7469 6f6e 2e63 6f72 655f 636f  sulation.core_co
+000319a0: 6e64 2c0a 2020 2020 2020 2020 2320 7365  nd,.        # se
+000319b0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
+000319c0: 696e 646f 775b 372c 2031 5d2d 322a 7365  indow[7, 1]-2*se
+000319d0: 6c66 2e69 6e73 756c 6174 696f 6e2e 636f  lf.insulation.co
+000319e0: 7265 5f63 6f6e 6429 0a20 2020 2020 2020  re_cond).       
+000319f0: 2023 0a20 2020 2020 2020 2023 2066 656d   #.        # fem
+00031a00: 6d2e 6d69 5f73 6574 626c 6f63 6b70 726f  m.mi_setblockpro
+00031a10: 7028 2743 6f70 7065 7227 2c20 302c 2031  p('Copper', 0, 1
+00031a20: 2c20 2769 636f 696c 272c 2030 2c20 302c  , 'icoil', 0, 0,
+00031a30: 2031 290a 2020 2020 2020 2020 230a 2020   1).        #.  
+00031a40: 2020 2020 2020 2320 6665 6d6d 2e6d 695f        # femm.mi_
+00031a50: 636c 6561 7273 656c 6563 7465 6428 290a  clearselected().
+00031a60: 0a20 2020 2020 2020 2066 6f72 206e 756d  .        for num
+00031a70: 2069 6e20 7261 6e67 6528 6c65 6e28 7365   in range(len(se
+00031a80: 6c66 2e77 696e 6469 6e67 7329 293a 0a20  lf.windings)):. 
+00031a90: 2020 2020 2020 2020 2020 2069 6620 7365             if se
+00031aa0: 6c66 2e77 696e 6469 6e67 735b 6e75 6d5d  lf.windings[num]
+00031ab0: 2e63 6f6e 6475 6374 6f72 5f74 7970 6520  .conductor_type 
+00031ac0: 696e 205b 436f 6e64 7563 746f 7254 7970  in [ConductorTyp
+00031ad0: 652e 526f 756e 644c 6974 7a2c 2043 6f6e  e.RoundLitz, Con
+00031ae0: 6475 6374 6f72 5479 7065 2e52 6f75 6e64  ductorType.Round
+00031af0: 536f 6c69 645d 3a0a 2020 2020 2020 2020  Solid]:.        
+00031b00: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+00031b10: 2072 616e 6765 2830 2c20 696e 7428 7365   range(0, int(se
+00031b20: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
+00031b30: 6f6e 6475 6374 6f72 5b6e 756d 5d2e 7368  onductor[num].sh
+00031b40: 6170 655b 305d 202f 2035 2929 3a0a 2020  ape[0] / 5)):.  
+00031b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031b60: 2020 2320 303a 2063 656e 7465 7220 7c20    # 0: center | 
+00031b70: 313a 206c 6566 7420 7c20 323a 2074 6f70  1: left | 2: top
+00031b80: 207c 2033 3a20 7269 6768 7420 7c20 342e   | 3: right | 4.
+00031b90: 626f 7474 6f6d 0a20 2020 2020 2020 2020  bottom.         
+00031ba0: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
+00031bb0: 6d69 5f64 7261 7761 7263 2873 656c 662e  mi_drawarc(self.
+00031bc0: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
+00031bd0: 7563 746f 725b 6e75 6d5d 5b35 202a 2069  uctor[num][5 * i
+00031be0: 202b 2031 5d5b 305d 2c0a 2020 2020 2020   + 1][0],.      
+00031bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031c00: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00031c10: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
+00031c20: 6f6e 6475 6374 6f72 5b6e 756d 5d5b 3520  onductor[num][5 
+00031c30: 2a20 6920 2b20 315d 5b31 5d2c 0a20 2020  * i + 1][1],.   
+00031c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00031c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031c60: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00031c70: 756d 202b 2032 2c20 3129 0a20 2020 2020  um + 2, 1).     
-00031c80: 2020 2020 2020 2020 2020 2020 2020 2065                 e
-00031c90: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00031ca0: 2020 2020 2020 2020 2020 2020 2066 656d               fem
-00031cb0: 6d2e 6d69 5f73 6574 626c 6f63 6b70 726f  m.mi_setblockpro
-00031cc0: 7028 2743 6f70 7065 7227 2c20 6175 746f  p('Copper', auto
-00031cd0: 6d65 7368 5f63 6f6e 6475 6374 6f72 2c20  mesh_conductor, 
-00031ce0: 6d65 7368 5f73 697a 655f 636f 6e64 7563  mesh_size_conduc
-00031cf0: 746f 722c 0a20 2020 2020 2020 2020 2020  tor,.           
-00031d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d20: 2020 7769 6e64 696e 675f 6e61 6d65 2c20    winding_name, 
-00031d30: 302c 206e 756d 202b 2032 2c20 3129 0a0a  0, num + 2, 1)..
+00031c60: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00031c70: 705f 636f 6e64 7563 746f 725b 6e75 6d5d  p_conductor[num]
+00031c80: 5b35 202a 2069 202b 2033 5d5b 305d 2c0a  [5 * i + 3][0],.
+00031c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031cb0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00031cc0: 7869 2e70 5f63 6f6e 6475 6374 6f72 5b6e  xi.p_conductor[n
+00031cd0: 756d 5d5b 3520 2a20 6920 2b20 335d 5b31  um][5 * i + 3][1
+00031ce0: 5d2c 2031 3830 2c20 322e 3529 0a20 2020  ], 180, 2.5).   
+00031cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031d00: 2066 656d 6d2e 6d69 5f61 6464 6172 6328   femm.mi_addarc(
+00031d10: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00031d20: 5f63 6f6e 6475 6374 6f72 5b6e 756d 5d5b  _conductor[num][
+00031d30: 3520 2a20 6920 2b20 335d 5b30 5d2c 0a20  5 * i + 3][0],. 
 00031d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031d50: 2020 2020 6665 6d6d 2e6d 695f 636c 6561      femm.mi_clea
-00031d60: 7273 656c 6563 7465 6428 290a 2020 2020  rselected().    
-00031d70: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
-00031d80: 662e 7769 6e64 696e 6773 5b6e 756d 5d2e  f.windings[num].
-00031d90: 636f 6e64 7563 746f 725f 7479 7065 203d  conductor_type =
-00031da0: 3d20 436f 6e64 7563 746f 7254 7970 652e  = ConductorType.
-00031db0: 5265 6374 616e 6775 6c61 7253 6f6c 6964  RectangularSolid
-00031dc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00031dd0: 2020 666f 7220 6920 696e 2072 616e 6765    for i in range
-00031de0: 2830 2c20 696e 7428 7365 6c66 2e74 776f  (0, int(self.two
-00031df0: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
-00031e00: 6f72 5b6e 756d 5d2e 7368 6170 655b 305d  or[num].shape[0]
-00031e10: 202f 2035 2929 3a0a 2020 2020 2020 2020   / 5)):.        
-00031e20: 2020 2020 2020 2020 2020 2020 2320 303a              # 0:
-00031e30: 206c 6566 745f 626f 7474 6f6d 207c 2031   left_bottom | 1
-00031e40: 3a20 7269 6768 745f 626f 7474 6f6d 207c  : right_bottom |
-00031e50: 2032 3a20 6c65 6674 5f74 6f70 207c 2033   2: left_top | 3
-00031e60: 3a20 7269 6768 745f 746f 7020 7c20 343a  : right_top | 4:
-00031e70: 2063 656e 7465 720a 2020 2020 2020 2020   center.        
-00031e80: 2020 2020 2020 2020 2020 2020 6c65 6674              left
-00031e90: 5f62 6f74 746f 6d20 3d20 7365 6c66 2e74  _bottom = self.t
-00031ea0: 776f 5f64 5f61 7869 2e70 5f63 6f6e 6475  wo_d_axi.p_condu
-00031eb0: 6374 6f72 5b6e 756d 5d5b 3520 2a20 695d  ctor[num][5 * i]
-00031ec0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00031ed0: 2020 2020 2072 6967 6874 5f62 6f74 746f       right_botto
-00031ee0: 6d20 3d20 7365 6c66 2e74 776f 5f64 5f61  m = self.two_d_a
-00031ef0: 7869 2e70 5f63 6f6e 6475 6374 6f72 5b6e  xi.p_conductor[n
-00031f00: 756d 5d5b 3520 2a20 6920 2b20 315d 0a20  um][5 * i + 1]. 
-00031f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00031f20: 2020 206c 6566 745f 746f 7020 3d20 7365     left_top = se
-00031f30: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
-00031f40: 6f6e 6475 6374 6f72 5b6e 756d 5d5b 3520  onductor[num][5 
-00031f50: 2a20 6920 2b20 325d 0a20 2020 2020 2020  * i + 2].       
-00031f60: 2020 2020 2020 2020 2020 2020 2072 6967               rig
-00031f70: 6874 5f74 6f70 203d 2073 656c 662e 7477  ht_top = self.tw
-00031f80: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
-00031f90: 746f 725b 6e75 6d5d 5b35 202a 2069 202b  tor[num][5 * i +
-00031fa0: 2033 5d0a 2020 2020 2020 2020 2020 2020   3].            
-00031fb0: 2020 2020 2020 2020 6365 6e74 6572 203d          center =
-00031fc0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-00031fd0: 705f 636f 6e64 7563 746f 725b 6e75 6d5d  p_conductor[num]
-00031fe0: 5b35 202a 2069 202b 2034 5d0a 2020 2020  [5 * i + 4].    
-00031ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032000: 6665 6d6d 2e6d 695f 6472 6177 6c69 6e65  femm.mi_drawline
-00032010: 286c 6566 745f 626f 7474 6f6d 5b30 5d2c  (left_bottom[0],
-00032020: 206c 6566 745f 626f 7474 6f6d 5b31 5d2c   left_bottom[1],
-00032030: 2072 6967 6874 5f62 6f74 746f 6d5b 305d   right_bottom[0]
-00032040: 2c20 7269 6768 745f 626f 7474 6f6d 5b31  , right_bottom[1
-00032050: 5d29 0a20 2020 2020 2020 2020 2020 2020  ]).             
-00032060: 2020 2020 2020 2066 656d 6d2e 6d69 5f64         femm.mi_d
-00032070: 7261 776c 696e 6528 7269 6768 745f 626f  rawline(right_bo
-00032080: 7474 6f6d 5b30 5d2c 2072 6967 6874 5f62  ttom[0], right_b
-00032090: 6f74 746f 6d5b 315d 2c20 7269 6768 745f  ottom[1], right_
-000320a0: 746f 705b 305d 2c20 7269 6768 745f 746f  top[0], right_to
-000320b0: 705b 315d 290a 2020 2020 2020 2020 2020  p[1]).          
-000320c0: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-000320d0: 695f 6472 6177 6c69 6e65 2872 6967 6874  i_drawline(right
-000320e0: 5f74 6f70 5b30 5d2c 2072 6967 6874 5f74  _top[0], right_t
-000320f0: 6f70 5b31 5d2c 206c 6566 745f 746f 705b  op[1], left_top[
-00032100: 305d 2c20 6c65 6674 5f74 6f70 5b31 5d29  0], left_top[1])
-00032110: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00032120: 2020 2020 2066 656d 6d2e 6d69 5f64 7261       femm.mi_dra
-00032130: 776c 696e 6528 6c65 6674 5f74 6f70 5b30  wline(left_top[0
-00032140: 5d2c 206c 6566 745f 746f 705b 315d 2c20  ], left_top[1], 
-00032150: 6c65 6674 5f62 6f74 746f 6d5b 305d 2c20  left_bottom[0], 
-00032160: 6c65 6674 5f62 6f74 746f 6d5b 315d 290a  left_bottom[1]).
-00032170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032180: 2020 2020 6665 6d6d 2e6d 695f 6164 6462      femm.mi_addb
-00032190: 6c6f 636b 6c61 6265 6c28 6365 6e74 6572  locklabel(center
-000321a0: 5b30 5d2c 2063 656e 7465 725b 315d 290a  [0], center[1]).
-000321b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000321c0: 2020 2020 6665 6d6d 2e6d 695f 7365 6c65      femm.mi_sele
-000321d0: 6374 6c61 6265 6c28 6365 6e74 6572 5b30  ctlabel(center[0
-000321e0: 5d2c 2063 656e 7465 725b 315d 290a 0a20  ], center[1]).. 
-000321f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032200: 2020 2077 696e 6469 6e67 5f6e 616d 6520     winding_name 
-00032210: 3d20 2757 696e 6469 6e67 2720 2b20 7374  = 'Winding' + st
-00032220: 7228 6e75 6d20 2b20 3129 0a20 2020 2020  r(num + 1).     
-00032230: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00032240: 656d 6d2e 6d69 5f73 6574 626c 6f63 6b70  emm.mi_setblockp
-00032250: 726f 7028 2743 6f70 7065 7227 2c20 6175  rop('Copper', au
-00032260: 746f 6d65 7368 5f63 6f6e 6475 6374 6f72  tomesh_conductor
-00032270: 2c20 6d65 7368 5f73 697a 655f 636f 6e64  , mesh_size_cond
-00032280: 7563 746f 722c 2077 696e 6469 6e67 5f6e  uctor, winding_n
-00032290: 616d 652c 2030 2c20 6e75 6d20 2b20 322c  ame, 0, num + 2,
-000322a0: 2031 290a 0a20 2020 2020 2020 2020 2020   1)..           
-000322b0: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
-000322c0: 5f63 6c65 6172 7365 6c65 6374 6564 2829  _clearselected()
-000322d0: 0a20 2020 2020 2020 2020 2020 2065 6c73  .            els
-000322e0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
-000322f0: 2020 2072 6169 7365 2045 7863 6570 7469     raise Excepti
-00032300: 6f6e 2866 2246 454d 4d20 5369 6d75 6c61  on(f"FEMM Simula
-00032310: 7469 6f6e 206e 6f74 2070 6f73 7369 626c  tion not possibl
-00032320: 6520 7369 6e63 6520 436f 6e64 7563 746f  e since Conducto
-00032330: 7254 7970 6520 220a 2020 2020 2020 2020  rType ".        
-00032340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00032350: 2020 2020 2020 2020 6622 7b73 656c 662e          f"{self.
-00032360: 7769 6e64 696e 6773 5b6e 756d 5d2e 636f  windings[num].co
-00032370: 6e64 7563 746f 725f 7479 7065 7d20 6973  nductor_type} is
-00032380: 206e 6f74 2069 6d70 6c65 6d65 6e74 6564   not implemented
-00032390: 2229 0a0a 2020 2020 2020 2020 2320 4465  ")..        # De
-000323a0: 6669 6e65 2061 6e20 226f 7065 6e22 2062  fine an "open" b
-000323b0: 6f75 6e64 6172 7920 636f 6e64 6974 696f  oundary conditio
-000323c0: 6e20 7573 696e 6720 7468 6520 6275 696c  n using the buil
-000323d0: 742d 696e 2066 756e 6374 696f 6e3a 0a20  t-in function:. 
-000323e0: 2020 2020 2020 2066 656d 6d2e 6d69 5f6d         femm.mi_m
-000323f0: 616b 6541 4243 2829 0a20 2020 2020 2020  akeABC().       
-00032400: 2022 2222 0a20 2020 2020 2020 2023 2041   """.        # A
-00032410: 6c74 6572 6e61 7469 7665 2042 430a 2020  lternative BC.  
-00032420: 2020 2020 2020 7265 6769 6f6e 5f61 6464        region_add
-00032430: 203d 2031 2e31 0a0a 2020 2020 2020 2020   = 1.1..        
-00032440: 6665 6d6d 2e6d 695f 6472 6177 7265 6374  femm.mi_drawrect
-00032450: 616e 676c 6528 302c 2072 6567 696f 6e5f  angle(0, region_
-00032460: 6164 642a 7365 6c66 2e74 776f 5f64 5f61  add*self.two_d_a
-00032470: 7869 2e70 5f6f 7574 6572 5b30 5d5b 315d  xi.p_outer[0][1]
-00032480: 2c20 7265 6769 6f6e 5f61 6464 2a73 656c  , region_add*sel
-00032490: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
-000324a0: 7465 725b 335d 5b30 5d2c 200a 2020 2020  ter[3][0], .    
-000324b0: 2020 2020 7265 6769 6f6e 5f61 6464 2a73      region_add*s
-000324c0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000324d0: 6f75 7465 725b 335d 5b31 5d29 0a20 2020  outer[3][1]).   
-000324e0: 2020 2020 2023 206d 695f 6164 6462 6f75       # mi_addbou
-000324f0: 6e64 7072 6f70 2827 4173 796d 7074 6f74  ndprop('Asymptot
-00032500: 6963 272c 2030 2c20 302c 2030 2c20 302c  ic', 0, 0, 0, 0,
-00032510: 2030 2c20 302c 2031 202f 2028 6d75 5f30   0, 0, 1 / (mu_0
-00032520: 202a 2062 6f75 6e64 2e77 6964 7468 292c   * bound.width),
-00032530: 2030 2c20 3229 3b20 2520 4d69 7865 640a   0, 2); % Mixed.
-00032540: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
-00032550: 6164 6462 6f75 6e64 7072 6f70 2827 4173  addboundprop('As
-00032560: 796d 7074 6f74 6963 272c 2030 2c20 302c  ymptotic', 0, 0,
-00032570: 2030 2c20 302c 2031 2c20 3530 2c20 302c   0, 0, 1, 50, 0,
-00032580: 2030 2c20 3129 0a20 2020 2020 2020 2066   0, 1).        f
-00032590: 656d 6d2e 6d69 5f73 656c 6563 7473 6567  emm.mi_selectseg
-000325a0: 6d65 6e74 2872 6567 696f 6e5f 6164 642a  ment(region_add*
-000325b0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-000325c0: 5f6f 7574 6572 5b33 5d5b 305d 2c20 7265  _outer[3][0], re
-000325d0: 6769 6f6e 5f61 6464 2a73 656c 662e 7477  gion_add*self.tw
-000325e0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-000325f0: 335d 5b31 5d29 0a20 2020 2020 2020 2066  3][1]).        f
-00032600: 656d 6d2e 6d69 5f73 6574 7365 676d 656e  emm.mi_setsegmen
-00032610: 7470 726f 7028 2741 7379 6d70 746f 7469  tprop('Asymptoti
-00032620: 6327 2c20 312c 2031 2c20 302c 2030 290a  c', 1, 1, 0, 0).
-00032630: 2020 2020 2020 2020 2222 220a 0a20 2020          """..   
-00032640: 2020 2020 2023 203d 3d20 4c61 6265 6c73       # == Labels
-00032650: 2f44 6573 6967 6e61 7469 6f6e 7320 3d3d  /Designations ==
-00032660: 0a0a 2020 2020 2020 2020 2320 4c61 6265  ..        # Labe
-00032670: 6c20 666f 7220 636f 7265 0a20 2020 2020  l for core.     
-00032680: 2020 2066 656d 6d2e 6d69 5f61 6464 626c     femm.mi_addbl
-00032690: 6f63 6b6c 6162 656c 2873 656c 662e 7477  ocklabel(self.tw
-000326a0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-000326b0: 332c 2030 5d20 2d20 302e 3030 312c 2073  3, 0] - 0.001, s
-000326c0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000326d0: 6f75 7465 725b 332c 2031 5d20 2d20 302e  outer[3, 1] - 0.
-000326e0: 3030 3129 0a20 2020 2020 2020 2066 656d  001).        fem
-000326f0: 6d2e 6d69 5f73 656c 6563 746c 6162 656c  m.mi_selectlabel
-00032700: 2873 656c 662e 7477 6f5f 645f 6178 692e  (self.two_d_axi.
-00032710: 705f 6f75 7465 725b 332c 2030 5d20 2d20  p_outer[3, 0] - 
-00032720: 302e 3030 312c 2073 656c 662e 7477 6f5f  0.001, self.two_
-00032730: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
-00032740: 2031 5d20 2d20 302e 3030 3129 0a20 2020   1] - 0.001).   
-00032750: 2020 2020 2066 656d 6d2e 6d69 5f73 6574       femm.mi_set
-00032760: 626c 6f63 6b70 726f 7028 2746 6572 7269  blockprop('Ferri
-00032770: 7465 272c 2061 7574 6f6d 6573 682c 206d  te', automesh, m
-00032780: 6573 685f 7369 7a65 2c20 273c 4e6f 6e65  esh_size, '<None
-00032790: 3e27 2c20 302c 2030 2c20 3029 0a20 2020  >', 0, 0, 0).   
-000327a0: 2020 2020 2066 656d 6d2e 6d69 5f63 6c65       femm.mi_cle
-000327b0: 6172 7365 6c65 6374 6564 2829 0a0a 2020  arselected()..  
-000327c0: 2020 2020 2020 2320 4c61 6265 6c73 2066        # Labels f
-000327d0: 6f72 2061 6972 0a20 2020 2020 2020 2069  or air.        i
-000327e0: 6620 7365 6c66 2e61 6972 5f67 6170 732e  f self.air_gaps.
-000327f0: 6e75 6d62 6572 203d 3d20 303a 0a20 2020  number == 0:.   
-00032800: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
-00032810: 5f61 6464 626c 6f63 6b6c 6162 656c 2873  _addblocklabel(s
-00032820: 656c 662e 7477 6f5f 645f 6178 692e 725f  elf.two_d_axi.r_
-00032830: 696e 6e65 7220 2d20 302e 3030 3031 2c20  inner - 0.0001, 
-00032840: 3029 0a20 2020 2020 2020 2020 2020 2066  0).            f
-00032850: 656d 6d2e 6d69 5f73 656c 6563 746c 6162  emm.mi_selectlab
-00032860: 656c 2873 656c 662e 7477 6f5f 645f 6178  el(self.two_d_ax
-00032870: 692e 725f 696e 6e65 7220 2d20 302e 3030  i.r_inner - 0.00
-00032880: 312c 2030 290a 2020 2020 2020 2020 2020  1, 0).          
-00032890: 2020 6665 6d6d 2e6d 695f 7365 7462 6c6f    femm.mi_setblo
-000328a0: 636b 7072 6f70 2827 4169 7227 2c20 6175  ckprop('Air', au
-000328b0: 746f 6d65 7368 2c20 6d65 7368 5f73 697a  tomesh, mesh_siz
-000328c0: 652c 2027 3c4e 6f6e 653e 272c 2030 2c20  e, '<None>', 0, 
-000328d0: 312c 2030 290a 2020 2020 2020 2020 2020  1, 0).          
-000328e0: 2020 6665 6d6d 2e6d 695f 636c 6561 7273    femm.mi_clears
-000328f0: 656c 6563 7465 6428 290a 2020 2020 2020  elected().      
-00032900: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00032910: 2020 2020 6665 6d6d 2e6d 695f 6164 6462      femm.mi_addb
-00032920: 6c6f 636b 6c61 6265 6c28 302e 3030 312c  locklabel(0.001,
-00032930: 2030 290a 2020 2020 2020 2020 2020 2020   0).            
-00032940: 6665 6d6d 2e6d 695f 7365 6c65 6374 6c61  femm.mi_selectla
-00032950: 6265 6c28 302e 3030 312c 2030 290a 2020  bel(0.001, 0).  
-00032960: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-00032970: 695f 7365 7462 6c6f 636b 7072 6f70 2827  i_setblockprop('
-00032980: 4169 7227 2c20 6175 746f 6d65 7368 2c20  Air', automesh, 
-00032990: 6d65 7368 5f73 697a 652c 2027 3c4e 6f6e  mesh_size, '<Non
-000329a0: 653e 272c 2030 2c20 312c 2030 290a 2020  e>', 0, 1, 0).  
-000329b0: 2020 2020 2020 2020 2020 6665 6d6d 2e6d            femm.m
-000329c0: 695f 636c 6561 7273 656c 6563 7465 6428  i_clearselected(
-000329d0: 290a 2020 2020 2020 2020 6665 6d6d 2e6d  ).        femm.m
-000329e0: 695f 6164 6462 6c6f 636b 6c61 6265 6c28  i_addblocklabel(
-000329f0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00032a00: 5f6f 7574 6572 5b33 2c20 305d 202b 2030  _outer[3, 0] + 0
-00032a10: 2e30 3031 2c20 7365 6c66 2e74 776f 5f64  .001, self.two_d
-00032a20: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
-00032a30: 315d 202b 2030 2e30 3031 290a 2020 2020  1] + 0.001).    
-00032a40: 2020 2020 6665 6d6d 2e6d 695f 7365 6c65      femm.mi_sele
-00032a50: 6374 6c61 6265 6c28 7365 6c66 2e74 776f  ctlabel(self.two
-00032a60: 5f64 5f61 7869 2e70 5f6f 7574 6572 5b33  _d_axi.p_outer[3
-00032a70: 2c20 305d 202b 2030 2e30 3031 2c20 7365  , 0] + 0.001, se
-00032a80: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-00032a90: 7574 6572 5b33 2c20 315d 202b 2030 2e30  uter[3, 1] + 0.0
-00032aa0: 3031 290a 2020 2020 2020 2020 6665 6d6d  01).        femm
-00032ab0: 2e6d 695f 7365 7462 6c6f 636b 7072 6f70  .mi_setblockprop
-00032ac0: 2827 4169 7227 2c20 6175 746f 6d65 7368  ('Air', automesh
-00032ad0: 2c20 6d65 7368 5f73 697a 652c 2027 3c4e  , mesh_size, '<N
-00032ae0: 6f6e 653e 272c 2030 2c20 312c 2030 290a  one>', 0, 1, 0).
-00032af0: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
-00032b00: 636c 6561 7273 656c 6563 7465 6428 290a  clearselected().
-00032b10: 0a20 2020 2020 2020 2023 204e 6f77 2c20  .        # Now, 
-00032b20: 7468 6520 6669 6e69 7368 6564 2069 6e70  the finished inp
-00032b30: 7574 2067 656f 6d65 7472 7920 6361 6e20  ut geometry can 
-00032b40: 6265 2064 6973 706c 6179 6564 2e0a 2020  be displayed..  
-00032b50: 2020 2020 2020 6665 6d6d 2e6d 695f 7a6f        femm.mi_zo
-00032b60: 6f6d 6e61 7475 7261 6c28 290a 2020 2020  omnatural().    
-00032b70: 2020 2020 6665 6d6d 2e6d 695f 7361 7665      femm.mi_save
-00032b80: 6173 286f 732e 7061 7468 2e6a 6f69 6e28  as(os.path.join(
-00032b90: 7365 6c66 2e66 696c 655f 6461 7461 2e66  self.file_data.f
-00032ba0: 656d 6d5f 666f 6c64 6572 5f70 6174 682c  emm_folder_path,
-00032bb0: 2027 636f 696c 2e66 656d 2729 290a 2020   'coil.fem')).  
-00032bc0: 2020 2020 2020 6665 6d6d 2e6d 695f 616e        femm.mi_an
-00032bd0: 616c 797a 6528 290a 2020 2020 2020 2020  alyze().        
-00032be0: 6665 6d6d 2e6d 695f 6c6f 6164 736f 6c75  femm.mi_loadsolu
-00032bf0: 7469 6f6e 2829 0a0a 2020 2020 2020 2020  tion()..        
-00032c00: 2320 3d3d 204c 6f67 2072 6573 756c 7473  # == Log results
-00032c10: 203d 3d0a 2020 2020 2020 2020 7365 6c66   ==.        self
-00032c20: 2e77 7269 7465 5f66 656d 6d5f 6c6f 6728  .write_femm_log(
-00032c30: 290a 0a20 2020 2020 2020 2022 2222 0a20  )..        """. 
-00032c40: 2020 2020 2020 2023 2049 6620 7765 2077         # If we w
-00032c50: 6572 6520 696e 7465 7265 7374 6564 2069  ere interested i
-00032c60: 6e20 7468 6520 666c 7578 2064 656e 7369  n the flux densi
-00032c70: 7479 2061 7420 7370 6563 6966 6963 2070  ty at specific p
-00032c80: 6f73 6974 696f 6e73 2c0a 2020 2020 2020  ositions,.      
-00032c90: 2020 2320 7765 2063 6f75 6c64 2069 6e71    # we could inq
-00032ca0: 7569 7265 2061 7420 7370 6563 6966 6963  uire at specific
-00032cb0: 2070 6f69 6e74 7320 6469 7265 6374 6c79   points directly
-00032cc0: 3a0a 2020 2020 2020 2020 6230 203d 2066  :.        b0 = f
-00032cd0: 656d 6d2e 6d6f 5f67 6574 6228 302c 2030  emm.mo_getb(0, 0
-00032ce0: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00032cf0: 656d 6d74 5f70 7269 6e74 2827 466c 7578  emmt_print('Flux
-00032d00: 2064 656e 7369 7479 2061 7420 7468 6520   density at the 
-00032d10: 6365 6e74 6572 206f 6620 7468 6520 6261  center of the ba
-00032d20: 7220 6973 2025 6720 5427 2025 206e 702e  r is %g T' % np.
-00032d30: 6162 7328 6230 5b31 5d29 290a 2020 2020  abs(b0[1])).    
-00032d40: 2020 2020 6231 203d 2066 656d 6d2e 6d6f      b1 = femm.mo
-00032d50: 5f67 6574 6228 302e 3031 2c20 302e 3035  _getb(0.01, 0.05
-00032d60: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00032d70: 656d 6d74 5f70 7269 6e74 2866 2246 6c75  emmt_print(f"Flu
-00032d80: 7820 6465 6e73 6974 7920 6174 2072 3d31  x density at r=1
-00032d90: 636d 2c20 7a3d 3563 6d20 6973 207b 6e70  cm, z=5cm is {np
-00032da0: 2e61 6273 2862 315b 315d 297d 2054 2229  .abs(b1[1])} T")
-00032db0: 0a0a 2020 2020 2020 2020 2320 5468 6520  ..        # The 
-00032dc0: 7072 6f67 7261 6d20 7769 6c6c 2072 6570  program will rep
-00032dd0: 6f72 7420 7468 6520 7465 726d 696e 616c  ort the terminal
-00032de0: 2070 726f 7065 7274 6965 7320 6f66 2074   properties of t
-00032df0: 6865 2063 6972 6375 6974 3a0a 2020 2020  he circuit:.    
-00032e00: 2020 2020 2320 6375 7272 656e 742c 2076      # current, v
-00032e10: 6f6c 7461 6765 2c20 616e 6420 666c 7578  oltage, and flux
-00032e20: 206c 696e 6b61 6765 0a20 2020 2020 2020   linkage.       
-00032e30: 2076 616c 7320 3d20 6665 6d6d 2e6d 6f5f   vals = femm.mo_
-00032e40: 6765 7463 6972 6375 6974 7072 6f70 6572  getcircuitproper
-00032e50: 7469 6573 2827 6963 6f69 6c27 290a 0a0a  ties('icoil')...
-00032e60: 2020 2020 2020 2020 2320 5b69 2c20 762c          # [i, v,
-00032e70: 205b 5068 695d 5d20 3d20 4d4f 4765 7443   [Phi]] = MOGetC
-00032e80: 6972 6375 6974 5072 6f70 6572 7469 6573  ircuitProperties
-00032e90: 5b22 6963 6f69 6c22 5d0a 0a20 2020 2020  ["icoil"]..     
-00032ea0: 2020 2023 2049 6620 7765 2077 6572 6520     # If we were 
-00032eb0: 696e 7465 7265 7374 6564 2069 6e20 696e  interested in in
-00032ec0: 6475 6374 616e 6365 2c20 6974 2063 6f75  ductance, it cou
-00032ed0: 6c64 2062 6520 6f62 7461 696e 6564 2062  ld be obtained b
-00032ee0: 790a 2020 2020 2020 2020 2320 6469 7669  y.        # divi
-00032ef0: 6469 6e67 2066 6c75 7820 6c69 6e6b 6167  ding flux linkag
-00032f00: 6520 6279 2063 7572 7265 6e74 0a20 2020  e by current.   
-00032f10: 2020 2020 204c 203d 2031 3030 3020 2a20       L = 1000 * 
-00032f20: 6e70 2e61 6273 2876 616c 735b 325d 2920  np.abs(vals[2]) 
-00032f30: 2f20 6e70 2e61 6273 2876 616c 735b 305d  / np.abs(vals[0]
-00032f40: 290a 2020 2020 2020 2020 7365 6c66 2e66  ).        self.f
-00032f50: 656d 6d74 5f70 7269 6e74 2827 5468 6520  emmt_print('The 
-00032f60: 7365 6c66 2d69 6e64 7563 7461 6e63 6520  self-inductance 
-00032f70: 6f66 2074 6865 2063 6f69 6c20 6973 2025  of the coil is %
-00032f80: 6720 6d48 2720 2520 4c29 0a0a 2020 2020  g mH' % L)..    
-00032f90: 2020 2020 2320 4f72 2077 6520 636f 756c      # Or we coul
-00032fa0: 642c 2066 6f72 2065 7861 6d70 6c65 2c20  d, for example, 
-00032fb0: 706c 6f74 2074 6865 2072 6573 756c 7473  plot the results
-00032fc0: 2061 6c6f 6e67 2061 206c 696e 6520 7573   along a line us
-00032fd0: 696e 670a 2020 2020 2020 2020 7a65 6520  ing.        zee 
-00032fe0: 3d20 5b5d 0a20 2020 2020 2020 2062 6565  = [].        bee
-00032ff0: 203d 205b 5d0a 2020 2020 2020 2020 666f   = [].        fo
-00033000: 7220 6e20 696e 2072 616e 6765 282d 3130  r n in range(-10
-00033010: 302c 2031 3031 293a 0a20 2020 2020 2020  0, 101):.       
-00033020: 2020 2020 2062 203d 2066 656d 6d2e 6d6f       b = femm.mo
-00033030: 5f67 6574 6228 302e 3031 2c20 6e29 0a20  _getb(0.01, n). 
-00033040: 2020 2020 2020 2020 2020 207a 6565 2e61             zee.a
-00033050: 7070 656e 6428 6e29 0a20 2020 2020 2020  ppend(n).       
-00033060: 2020 2020 2062 6565 2e61 7070 656e 6428       bee.append(
-00033070: 625b 315d 290a 0a20 2020 2020 2020 2070  b[1])..        p
-00033080: 6c74 2e70 6c6f 7428 7a65 652c 2062 6565  lt.plot(zee, bee
-00033090: 290a 2020 2020 2020 2020 706c 742e 796c  ).        plt.yl
-000330a0: 6162 656c 2827 466c 7578 2044 656e 7369  abel('Flux Densi
-000330b0: 7479 2c20 5465 736c 6127 290a 2020 2020  ty, Tesla').    
-000330c0: 2020 2020 706c 742e 786c 6162 656c 2827      plt.xlabel('
-000330d0: 4469 7374 616e 6365 2061 6c6f 6e67 2074  Distance along t
-000330e0: 6865 207a 2d61 7869 732c 206d 6d27 290a  he z-axis, mm').
-000330f0: 2020 2020 2020 2020 706c 742e 7469 746c          plt.titl
-00033100: 6528 2750 6c6f 7420 6f66 2066 6c75 7820  e('Plot of flux 
-00033110: 6465 6e73 6974 7920 616c 6f6e 6720 7468  density along th
-00033120: 6520 6178 6973 2729 0a20 2020 2020 2020  e axis').       
-00033130: 2070 6c74 2e73 686f 7728 290a 2020 2020   plt.show().    
-00033140: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00033150: 2320 5768 656e 2074 6865 2061 6e61 6c79  # When the analy
-00033160: 7369 7320 6973 2063 6f6d 706c 6574 6564  sis is completed
-00033170: 2c20 4645 4d4d 2063 616e 2062 6520 7368  , FEMM can be sh
-00033180: 7574 2064 6f77 6e2e 0a20 2020 2020 2020  ut down..       
-00033190: 2023 2066 656d 6d2e 636c 6f73 6566 656d   # femm.closefem
-000331a0: 6d28 290a 0a20 2020 2064 6566 2077 7269  m()..    def wri
-000331b0: 7465 5f66 656d 6d5f 6c6f 6728 7365 6c66  te_femm_log(self
-000331c0: 293a 0a20 2020 2020 2020 2022 2222 5772  ):.        """Wr
-000331d0: 6974 6520 6c6f 6766 696c 6520 666f 7220  ite logfile for 
-000331e0: 4645 4d4d 2c20 616e 6f74 6865 7220 6f70  FEMM, another op
-000331f0: 656e 2073 6f75 7263 6520 746f 6f6c 2066  en source tool f
-00033200: 6f72 2046 454d 2073 696d 756c 6174 696f  or FEM simulatio
-00033210: 6e73 2e22 2222 0a20 2020 2020 2020 2069  ns.""".        i
-00033220: 6620 6f73 2e6e 616d 6520 3d3d 2027 6e74  f os.name == 'nt
-00033230: 273a 0a20 2020 2020 2020 2020 2020 2066  ':.            f
-00033240: 662e 696e 7374 616c 6c5f 7079 6665 6d6d  f.install_pyfemm
-00033250: 5f69 665f 6d69 7373 696e 6728 290a 2020  _if_missing().  
-00033260: 2020 2020 2020 2020 2020 6966 206e 6f74            if not
-00033270: 2073 656c 662e 6665 6d6d 5f69 735f 696d   self.femm_is_im
-00033280: 706f 7274 6564 3a0a 2020 2020 2020 2020  ported:.        
-00033290: 2020 2020 2020 2020 676c 6f62 616c 7328          globals(
-000332a0: 295b 2266 656d 6d22 5d20 3d20 5f5f 696d  )["femm"] = __im
-000332b0: 706f 7274 5f5f 2822 6665 6d6d 2229 0a20  port__("femm"). 
-000332c0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000332d0: 656c 662e 6665 6d6d 5f69 735f 696d 706f  elf.femm_is_impo
-000332e0: 7274 6564 203d 2054 7275 650a 2020 2020  rted = True.    
-000332f0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00033300: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
-00033310: 7074 696f 6e28 2759 6f75 2061 7265 2075  ption('You are u
-00033320: 7369 6e67 2061 2063 6f6d 7075 7465 7220  sing a computer 
-00033330: 7468 6174 2069 7320 6e6f 7420 7275 6e6e  that is not runn
-00033340: 696e 6720 7769 6e64 6f77 732e 2027 0a20  ing windows. '. 
-00033350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033360: 2020 2020 2020 2020 2020 2027 5468 6973             'This
-00033370: 2063 6f6d 6d61 6e64 2069 7320 6f6e 6c79   command is only
-00033380: 2065 7865 6375 7461 626c 6520 6f6e 2057   executable on W
-00033390: 696e 646f 7773 2063 6f6d 7075 7465 7273  indows computers
-000333a0: 2e27 290a 0a20 2020 2020 2020 2066 696c  .')..        fil
-000333b0: 6520 3d20 6f70 656e 2873 656c 662e 6669  e = open(self.fi
-000333c0: 6c65 5f64 6174 612e 6665 6d6d 5f72 6573  le_data.femm_res
-000333d0: 756c 7473 5f6c 6f67 5f70 6174 682c 2027  ults_log_path, '
-000333e0: 772b 272c 2065 6e63 6f64 696e 673d 2775  w+', encoding='u
-000333f0: 7466 2d38 2729 0a0a 2020 2020 2020 2020  tf-8')..        
-00033400: 6c6f 6720 3d20 7b7d 0a0a 2020 2020 2020  log = {}..      
-00033410: 2020 2320 7365 6c66 2e66 656d 6d74 5f70    # self.femmt_p
-00033420: 7269 6e74 2868 7973 745f 6c6f 7373 290a  rint(hyst_loss).
-00033430: 2020 2020 2020 2020 2320 746d 7020 3d20          # tmp = 
-00033440: 6665 6d6d 2e6d 6f5f 6765 7463 6972 6375  femm.mo_getcircu
-00033450: 6974 7072 6f70 6572 7469 6573 2827 5072  itproperties('Pr
-00033460: 696d 6172 7927 290a 2020 2020 2020 2020  imary').        
-00033470: 2320 7365 6c66 2e66 656d 6d74 5f70 7269  # self.femmt_pri
-00033480: 6e74 2874 6d70 290a 2020 2020 2020 2020  nt(tmp).        
-00033490: 2320 7365 6c66 2e74 6f74 5f6c 6f73 735f  # self.tot_loss_
-000334a0: 6665 6d6d 203d 2030 2e35 202a 2074 6d70  femm = 0.5 * tmp
-000334b0: 5b30 5d20 2a20 746d 705b 315d 0a20 2020  [0] * tmp[1].   
-000334c0: 2020 2020 2023 2073 656c 662e 6665 6d6d       # self.femm
-000334d0: 745f 7072 696e 7428 7365 6c66 2e74 6f74  t_print(self.tot
-000334e0: 5f6c 6f73 735f 6665 6d6d 290a 0a20 2020  _loss_femm)..   
-000334f0: 2020 2020 2023 2057 7269 7465 2043 6972       # Write Cir
-00033500: 6375 6974 2050 726f 7065 7274 6965 730a  cuit Properties.
-00033510: 2020 2020 2020 2020 2320 6c6f 675b 2243          # log["C
-00033520: 6972 6375 6974 2050 726f 7065 7274 6965  ircuit Propertie
-00033530: 7322 5d20 3d20 6665 6d6d 2e6d 6f5f 6765  s"] = femm.mo_ge
-00033540: 7463 6972 6375 6974 7072 6f70 6572 7469  tcircuitproperti
-00033550: 6573 2827 5072 696d 6172 7927 290a 0a20  es('Primary').. 
-00033560: 2020 2020 2020 2023 2057 7269 7465 2048         # Write H
-00033570: 7973 7465 7265 7369 7320 4c6f 7373 6573  ysteresis Losses
-00033580: 0a20 2020 2020 2020 2066 656d 6d2e 6d6f  .        femm.mo
-00033590: 5f67 726f 7570 7365 6c65 6374 626c 6f63  _groupselectbloc
-000335a0: 6b28 3029 0a20 2020 2020 2020 206c 6f67  k(0).        log
-000335b0: 5b22 4879 7374 6572 6573 6973 204c 6f73  ["Hysteresis Los
-000335c0: 7365 7322 5d20 3d20 6665 6d6d 2e6d 6f5f  ses"] = femm.mo_
-000335d0: 626c 6f63 6b69 6e74 6567 7261 6c28 3329  blockintegral(3)
-000335e0: 0a20 2020 2020 2020 2066 656d 6d2e 6d6f  .        femm.mo
-000335f0: 5f63 6c65 6172 626c 6f63 6b28 290a 0a20  _clearblock().. 
-00033600: 2020 2020 2020 2023 2050 7269 6d61 7279         # Primary
-00033610: 2057 696e 6469 6e67 2063 6972 6375 6974   Winding circuit
-00033620: 2050 726f 7065 7274 6965 730a 2020 2020   Properties.    
-00033630: 2020 2020 2320 6369 7263 7569 745f 7072      # circuit_pr
-00033640: 6f70 6572 7469 6573 5f70 7269 6d61 7279  operties_primary
-00033650: 203d 2066 656d 6d2e 6d6f 5f67 6574 6369   = femm.mo_getci
-00033660: 7263 7569 7470 726f 7065 7274 6965 7328  rcuitproperties(
-00033670: 2750 7269 6d61 7279 2729 0a20 2020 2020  'Primary').     
-00033680: 2020 2023 206c 6f67 5b22 5072 696d 6172     # log["Primar
-00033690: 7920 4375 7272 656e 7422 5d20 3d20 6369  y Current"] = ci
-000336a0: 7263 7569 745f 7072 6f70 6572 7469 6573  rcuit_properties
-000336b0: 5f70 7269 6d61 7279 5b30 5d0a 2020 2020  _primary[0].    
-000336c0: 2020 2020 2320 6c6f 675b 2250 7269 6d61      # log["Prima
-000336d0: 7279 2056 6f6c 7461 6765 225d 203d 205b  ry Voltage"] = [
-000336e0: 6369 7263 7569 745f 7072 6f70 6572 7469  circuit_properti
-000336f0: 6573 5f70 7269 6d61 7279 5b31 5d2e 7265  es_primary[1].re
-00033700: 616c 2c20 6369 7263 7569 745f 7072 6f70  al, circuit_prop
-00033710: 6572 7469 6573 5f70 7269 6d61 7279 5b31  erties_primary[1
-00033720: 5d2e 696d 6167 5d0a 2020 2020 2020 2020  ].imag].        
-00033730: 2320 6c6f 675b 2250 7269 6d61 7279 2046  # log["Primary F
-00033740: 6c75 7822 5d20 3d20 5b63 6972 6375 6974  lux"] = [circuit
-00033750: 5f70 726f 7065 7274 6965 735f 7072 696d  _properties_prim
-00033760: 6172 795b 325d 2e72 6561 6c2c 2063 6972  ary[2].real, cir
-00033770: 6375 6974 5f70 726f 7065 7274 6965 735f  cuit_properties_
-00033780: 7072 696d 6172 795b 325d 2e69 6d61 675d  primary[2].imag]
-00033790: 0a20 2020 2020 2020 2023 206c 6f67 5b22  .        # log["
-000337a0: 5072 696d 6172 7920 5365 6c66 2049 6e64  Primary Self Ind
-000337b0: 7563 7461 6e63 6522 5d20 3d20 5b63 6972  uctance"] = [cir
-000337c0: 6375 6974 5f70 726f 7065 7274 6965 735f  cuit_properties_
-000337d0: 7072 696d 6172 795b 325d 2e72 6561 6c20  primary[2].real 
-000337e0: 2f20 6369 7263 7569 745f 7072 6f70 6572  / circuit_proper
-000337f0: 7469 6573 5f70 7269 6d61 7279 5b30 5d2c  ties_primary[0],
-00033800: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-00033810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033820: 2020 2020 2020 2020 2020 2020 6369 7263              circ
-00033830: 7569 745f 7072 6f70 6572 7469 6573 5f70  uit_properties_p
-00033840: 7269 6d61 7279 5b32 5d2e 696d 6167 202f  rimary[2].imag /
-00033850: 2063 6972 6375 6974 5f70 726f 7065 7274   circuit_propert
-00033860: 6965 735f 7072 696d 6172 795b 305d 5d0a  ies_primary[0]].
-00033870: 2020 2020 2020 2020 2320 6c6f 675b 2250          # log["P
-00033880: 7269 6d61 7279 204d 6561 6e20 506f 7765  rimary Mean Powe
-00033890: 7222 5d20 3d20 5b30 2e35 202a 2063 6972  r"] = [0.5 * cir
-000338a0: 6375 6974 5f70 726f 7065 7274 6965 735f  cuit_properties_
-000338b0: 7072 696d 6172 795b 315d 2e72 6561 6c20  primary[1].real 
-000338c0: 2a20 6369 7263 7569 745f 7072 6f70 6572  * circuit_proper
-000338d0: 7469 6573 5f70 7269 6d61 7279 5b30 5d2c  ties_primary[0],
-000338e0: 0a20 2020 2020 2020 2023 2020 2020 2020  .        #      
-000338f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033900: 2020 2020 2020 2030 2e35 202a 2063 6972         0.5 * cir
-00033910: 6375 6974 5f70 726f 7065 7274 6965 735f  cuit_properties_
-00033920: 7072 696d 6172 795b 315d 2e69 6d61 6720  primary[1].imag 
-00033930: 2a20 6369 7263 7569 745f 7072 6f70 6572  * circuit_proper
-00033940: 7469 6573 5f70 7269 6d61 7279 5b30 5d5d  ties_primary[0]]
-00033950: 0a20 2020 2020 2020 2066 6f72 2069 2069  .        for i i
-00033960: 6e20 7261 6e67 6528 6c65 6e28 7365 6c66  n range(len(self
-00033970: 2e77 696e 6469 6e67 7329 293a 0a20 2020  .windings)):.   
-00033980: 2020 2020 2020 2020 2063 6972 6375 6974           circuit
-00033990: 5f70 726f 7065 7274 6965 7320 3d20 6665  _properties = fe
-000339a0: 6d6d 2e6d 6f5f 6765 7463 6972 6375 6974  mm.mo_getcircuit
-000339b0: 7072 6f70 6572 7469 6573 2827 5769 6e64  properties('Wind
-000339c0: 696e 6727 202b 2073 7472 2869 202b 2031  ing' + str(i + 1
-000339d0: 2929 0a20 2020 2020 2020 2020 2020 206c  )).            l
-000339e0: 6f67 5b22 5769 6e64 696e 6722 202b 2073  og["Winding" + s
-000339f0: 7472 2869 202b 2031 2920 2b20 2220 4375  tr(i + 1) + " Cu
-00033a00: 7272 656e 7422 5d20 3d20 6369 7263 7569  rrent"] = circui
-00033a10: 745f 7072 6f70 6572 7469 6573 5b30 5d0a  t_properties[0].
-00033a20: 2020 2020 2020 2020 2020 2020 6c6f 675b              log[
-00033a30: 2257 696e 6469 6e67 2220 2b20 7374 7228  "Winding" + str(
-00033a40: 6920 2b20 3129 202b 2022 2056 6f6c 7461  i + 1) + " Volta
-00033a50: 6765 225d 203d 205b 6369 7263 7569 745f  ge"] = [circuit_
-00033a60: 7072 6f70 6572 7469 6573 5b31 5d2e 7265  properties[1].re
-00033a70: 616c 2c20 6369 7263 7569 745f 7072 6f70  al, circuit_prop
-00033a80: 6572 7469 6573 5b31 5d2e 696d 6167 5d0a  erties[1].imag].
-00033a90: 2020 2020 2020 2020 2020 2020 6c6f 675b              log[
-00033aa0: 2257 696e 6469 6e67 2220 2b20 7374 7228  "Winding" + str(
-00033ab0: 6920 2b20 3129 202b 2022 2046 6c75 7822  i + 1) + " Flux"
-00033ac0: 5d20 3d20 5b63 6972 6375 6974 5f70 726f  ] = [circuit_pro
-00033ad0: 7065 7274 6965 735b 325d 2e72 6561 6c2c  perties[2].real,
-00033ae0: 2063 6972 6375 6974 5f70 726f 7065 7274   circuit_propert
-00033af0: 6965 735b 325d 2e69 6d61 675d 0a20 2020  ies[2].imag].   
-00033b00: 2020 2020 2020 2020 2069 6620 6369 7263           if circ
-00033b10: 7569 745f 7072 6f70 6572 7469 6573 5b30  uit_properties[0
-00033b20: 5d20 213d 2030 3a0a 2020 2020 2020 2020  ] != 0:.        
-00033b30: 2020 2020 2020 2020 6c6f 675b 2257 696e          log["Win
-00033b40: 6469 6e67 2220 2b20 7374 7228 6920 2b20  ding" + str(i + 
-00033b50: 3129 202b 2022 2053 656c 6620 496e 6475  1) + " Self Indu
-00033b60: 6374 616e 6365 225d 203d 205b 6369 7263  ctance"] = [circ
-00033b70: 7569 745f 7072 6f70 6572 7469 6573 5b32  uit_properties[2
-00033b80: 5d2e 7265 616c 202f 2063 6972 6375 6974  ].real / circuit
-00033b90: 5f70 726f 7065 7274 6965 735b 305d 2c0a  _properties[0],.
-00033ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033be0: 2020 2020 6369 7263 7569 745f 7072 6f70      circuit_prop
-00033bf0: 6572 7469 6573 5b32 5d2e 696d 6167 202f  erties[2].imag /
-00033c00: 2063 6972 6375 6974 5f70 726f 7065 7274   circuit_propert
-00033c10: 6965 735b 305d 5d0a 2020 2020 2020 2020  ies[0]].        
-00033c20: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-00033c30: 2020 2020 2020 2020 2020 6c6f 675b 2257            log["W
-00033c40: 696e 6469 6e67 2220 2b20 7374 7228 6920  inding" + str(i 
-00033c50: 2b20 3129 202b 2022 2053 656c 6620 496e  + 1) + " Self In
-00033c60: 6475 6374 616e 6365 225d 203d 205b 302c  ductance"] = [0,
-00033c70: 2030 5d0a 2020 2020 2020 2020 2020 2020   0].            
-00033c80: 6c6f 675b 2257 696e 6469 6e67 2220 2b20  log["Winding" + 
-00033c90: 7374 7228 6920 2b20 3129 202b 2022 204d  str(i + 1) + " M
-00033ca0: 6561 6e20 506f 7765 7222 5d20 3d20 5b30  ean Power"] = [0
-00033cb0: 2e35 202a 2063 6972 6375 6974 5f70 726f  .5 * circuit_pro
-00033cc0: 7065 7274 6965 735b 315d 2e72 6561 6c20  perties[1].real 
-00033cd0: 2a20 6369 7263 7569 745f 7072 6f70 6572  * circuit_proper
-00033ce0: 7469 6573 5b30 5d2c 0a20 2020 2020 2020  ties[0],.       
-00033cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00033d20: 2020 2020 302e 3520 2a20 6369 7263 7569      0.5 * circui
-00033d30: 745f 7072 6f70 6572 7469 6573 5b31 5d2e  t_properties[1].
-00033d40: 696d 6167 202a 2063 6972 6375 6974 5f70  imag * circuit_p
-00033d50: 726f 7065 7274 6965 735b 305d 5d0a 0a20  roperties[0]].. 
-00033d60: 2020 2020 2020 2020 2020 2023 204f 6274             # Obt
-00033d70: 6169 6e20 7769 6e64 696e 6720 6c6f 7373  ain winding loss
-00033d80: 6573 2066 6f72 2065 6163 6820 7769 6e64  es for each wind
-00033d90: 696e 670a 2020 2020 2020 2020 2020 2020  ing.            
-00033da0: 6665 6d6d 2e6d 6f5f 6772 6f75 7073 656c  femm.mo_groupsel
-00033db0: 6563 7462 6c6f 636b 2869 202b 2032 290a  ectblock(i + 2).
-00033dc0: 2020 2020 2020 2020 2020 2020 6c6f 675b              log[
-00033dd0: 2257 696e 6469 6e67 2220 2b20 7374 7228  "Winding" + str(
-00033de0: 6920 2b20 3129 202b 2022 204c 6f73 7365  i + 1) + " Losse
-00033df0: 7322 5d20 3d20 6665 6d6d 2e6d 6f5f 626c  s"] = femm.mo_bl
-00033e00: 6f63 6b69 6e74 6567 7261 6c28 3629 2e72  ockintegral(6).r
-00033e10: 6561 6c0a 2020 2020 2020 2020 2020 2020  eal.            
-00033e20: 6665 6d6d 2e6d 6f5f 636c 6561 7262 6c6f  femm.mo_clearblo
-00033e30: 636b 2829 0a0a 2020 2020 2020 2020 6a73  ck()..        js
-00033e40: 6f6e 2e64 756d 7028 6c6f 672c 2066 696c  on.dump(log, fil
-00033e50: 652c 2069 6e64 656e 743d 322c 2065 6e73  e, indent=2, ens
-00033e60: 7572 655f 6173 6369 693d 4661 6c73 6529  ure_ascii=False)
-00033e70: 0a20 2020 2020 2020 2066 696c 652e 636c  .        file.cl
-00033e80: 6f73 6528 290a 0a20 2020 2040 7374 6174  ose()..    @stat
-00033e90: 6963 6d65 7468 6f64 0a20 2020 2064 6566  icmethod.    def
-00033ea0: 2063 616c 6375 6c61 7465 5f70 6f69 6e74   calculate_point
-00033eb0: 5f61 7665 7261 6765 2878 313a 2066 6c6f  _average(x1: flo
-00033ec0: 6174 2c20 7931 3a20 666c 6f61 742c 2078  at, y1: float, x
-00033ed0: 323a 2066 6c6f 6174 2c20 7932 3a20 666c  2: float, y2: fl
-00033ee0: 6f61 7429 202d 3e20 5475 706c 655b 666c  oat) -> Tuple[fl
-00033ef0: 6f61 742c 2066 6c6f 6174 5d3a 0a20 2020  oat, float]:.   
-00033f00: 2020 2020 2022 2222 4361 6c63 756c 6174       """Calculat
-00033f10: 6520 7468 6520 6d69 6464 6c65 2070 6f69  e the middle poi
-00033f20: 6e74 2062 6574 7765 656e 2074 776f 2067  nt between two g
-00033f30: 6976 656e 2070 6f69 6e74 732e 0a0a 2020  iven points...  
-00033f40: 2020 2020 2020 3a70 6172 616d 2078 313a        :param x1:
-00033f50: 2050 6f69 6e74 3120 780a 2020 2020 2020   Point1 x.      
-00033f60: 2020 3a74 7970 6520 7831 3a20 666c 6f61    :type x1: floa
-00033f70: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
-00033f80: 2079 313a 2050 6f69 6e74 3120 790a 2020   y1: Point1 y.  
-00033f90: 2020 2020 2020 3a74 7970 6520 7931 3a20        :type y1: 
-00033fa0: 666c 6f61 740a 2020 2020 2020 2020 3a70  float.        :p
-00033fb0: 6172 616d 2078 323a 2050 6f69 6e74 3220  aram x2: Point2 
-00033fc0: 780a 2020 2020 2020 2020 3a74 7970 6520  x.        :type 
-00033fd0: 7832 3a20 666c 6f61 740a 2020 2020 2020  x2: float.      
-00033fe0: 2020 3a70 6172 616d 2079 323a 2050 6f69    :param y2: Poi
-00033ff0: 6e74 3220 790a 2020 2020 2020 2020 3a74  nt2 y.        :t
-00034000: 7970 6520 7932 3a20 666c 6f61 740a 2020  ype y2: float.  
-00034010: 2020 2020 2020 3a72 6574 7572 6e3a 2041        :return: A
-00034020: 7665 7261 6765 2050 6f69 6e74 2078 2c20  verage Point x, 
-00034030: 790a 2020 2020 2020 2020 3a72 7479 7065  y.        :rtype
-00034040: 3a20 666c 6f61 742c 2066 6c6f 6174 0a20  : float, float. 
-00034050: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00034060: 2020 2023 2054 4f44 4f20 4d6f 7665 2074     # TODO Move t
-00034070: 6f20 6665 6d6d 745f 6675 6e63 7469 6f6e  o femmt_function
-00034080: 730a 2020 2020 2020 2020 7265 7475 726e  s.        return
-00034090: 2028 7831 202b 2078 3229 202f 2032 2c20   (x1 + x2) / 2, 
-000340a0: 2879 3120 2b20 7932 2920 2f20 320a 0a20  (y1 + y2) / 2.. 
-000340b0: 2020 2064 6566 2066 656d 6d5f 7468 6572     def femm_ther
-000340c0: 6d61 6c5f 7661 6c69 6461 7469 6f6e 2873  mal_validation(s
-000340d0: 656c 662c 2074 6865 726d 616c 5f63 6f6e  elf, thermal_con
-000340e0: 6475 6374 6976 6974 795f 6469 6374 3a20  ductivity_dict: 
-000340f0: 4469 6374 2c20 626f 756e 6461 7279 5f74  Dict, boundary_t
-00034100: 656d 7065 7261 7475 7265 3a20 4469 6374  emperature: Dict
-00034110: 2c20 6361 7365 5f67 6170 5f74 6f70 3a20  , case_gap_top: 
-00034120: 666c 6f61 742c 0a20 2020 2020 2020 2020  float,.         
-00034130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034140: 2020 2020 2020 2063 6173 655f 6761 705f         case_gap_
-00034150: 7269 6768 743a 2066 6c6f 6174 2c20 6361  right: float, ca
-00034160: 7365 5f67 6170 5f62 6f74 3a20 666c 6f61  se_gap_bot: floa
-00034170: 7429 3a0a 2020 2020 2020 2020 2222 2243  t):.        """C
-00034180: 7265 6174 6520 6120 7468 6572 6d61 6c20  reate a thermal 
-00034190: 6d6f 6465 6c20 696e 2066 656d 6d20 616e  model in femm an
-000341a0: 6420 7369 6d75 6c61 7465 7320 6974 2077  d simulates it w
-000341b0: 6974 6820 7468 6520 6769 7665 6e20 7468  ith the given th
-000341c0: 6572 6d61 6c20 636f 6e64 7563 7469 7669  ermal conductivi
-000341d0: 7469 6573 2e0a 0a20 2020 2020 2020 203a  ties...        :
-000341e0: 7061 7261 6d20 7468 6572 6d61 6c5f 636f  param thermal_co
-000341f0: 6e64 7563 7469 7669 7479 5f64 6963 743a  nductivity_dict:
-00034200: 2044 6963 7420 636f 6e74 6169 6e69 6e67   Dict containing
-00034210: 2063 6f6e 6475 6374 6976 6974 6965 7320   conductivities 
-00034220: 666f 7220 6169 722c 2077 696e 6469 6e67  for air, winding
-00034230: 2c20 6361 7365 2c20 636f 7265 0a20 2020  , case, core.   
-00034240: 2020 2020 203a 7479 7065 2074 6865 726d       :type therm
-00034250: 616c 5f63 6f6e 6475 6374 6976 6974 795f  al_conductivity_
-00034260: 6469 6374 3a20 4469 6374 0a20 2020 2020  dict: Dict.     
-00034270: 2020 203a 7061 7261 6d20 626f 756e 6461     :param bounda
-00034280: 7279 5f74 656d 7065 7261 7475 7265 3a20  ry_temperature: 
-00034290: 4469 6374 2063 6f6e 7461 696e 696e 6720  Dict containing 
-000342a0: 7465 6d70 6572 6174 7572 6573 206f 6e20  temperatures on 
-000342b0: 626f 756e 6461 7279 206c 696e 6573 0a20  boundary lines. 
-000342c0: 2020 2020 2020 203a 7479 7065 2062 6f75         :type bou
-000342d0: 6e64 6172 795f 7465 6d70 6572 6174 7572  ndary_temperatur
-000342e0: 653a 2044 6963 740a 2020 2020 2020 2020  e: Dict.        
-000342f0: 3a70 6172 616d 2063 6173 655f 6761 705f  :param case_gap_
-00034300: 746f 703a 204c 656e 6774 6820 746f 7020  top: Length top 
-00034310: 6361 7365 0a20 2020 2020 2020 203a 7479  case.        :ty
-00034320: 7065 2063 6173 655f 6761 705f 746f 703a  pe case_gap_top:
-00034330: 2066 6c6f 6174 0a20 2020 2020 2020 203a   float.        :
-00034340: 7061 7261 6d20 6361 7365 5f67 6170 5f72  param case_gap_r
-00034350: 6967 6874 3a20 4c65 6e67 7468 2072 6967  ight: Length rig
-00034360: 6874 2063 6173 650a 2020 2020 2020 2020  ht case.        
-00034370: 3a74 7970 6520 6361 7365 5f67 6170 5f72  :type case_gap_r
-00034380: 6967 6874 3a20 666c 6f61 740a 2020 2020  ight: float.    
-00034390: 2020 2020 3a70 6172 616d 2063 6173 655f      :param case_
-000343a0: 6761 705f 626f 743a 204c 656e 6774 6820  gap_bot: Length 
-000343b0: 626f 7420 6361 7365 0a20 2020 2020 2020  bot case.       
-000343c0: 203a 7479 7065 2063 6173 655f 6761 705f   :type case_gap_
-000343d0: 626f 743a 2066 6c6f 6174 0a20 2020 2020  bot: float.     
-000343e0: 2020 2022 2222 0a20 2020 2020 2020 2023     """.        #
-000343f0: 204f 7074 696f 6e61 6c20 7573 6167 6520   Optional usage 
-00034400: 6f66 2046 454d 4d20 746f 6f6c 2062 7920  of FEMM tool by 
-00034410: 4461 7669 6420 4d65 656b 6572 0a20 2020  David Meeker.   
-00034420: 2020 2020 2023 2032 4420 4d65 7368 2061       # 2D Mesh a
-00034430: 6e64 2046 454d 2069 6e74 6572 6661 6365  nd FEM interface
-00034440: 7320 286f 6e6c 7920 666f 7220 5769 6e64  s (only for Wind
-00034450: 6f77 7320 6d61 6368 696e 6573 290a 2020  ows machines).  
-00034460: 2020 2020 2020 6966 206f 732e 6e61 6d65        if os.name
-00034470: 203d 3d20 276e 7427 3a0a 2020 2020 2020   == 'nt':.      
-00034480: 2020 2020 2020 6666 2e69 6e73 7461 6c6c        ff.install
-00034490: 5f70 7966 656d 6d5f 6966 5f6d 6973 7369  _pyfemm_if_missi
-000344a0: 6e67 2829 0a20 2020 2020 2020 2020 2020  ng().           
-000344b0: 2069 6620 6e6f 7420 7365 6c66 2e66 656d   if not self.fem
-000344c0: 6d5f 6973 5f69 6d70 6f72 7465 643a 0a20  m_is_imported:. 
-000344d0: 2020 2020 2020 2020 2020 2020 2020 2067                 g
-000344e0: 6c6f 6261 6c73 2829 5b22 6665 6d6d 225d  lobals()["femm"]
-000344f0: 203d 205f 5f69 6d70 6f72 745f 5f28 2266   = __import__("f
-00034500: 656d 6d22 290a 2020 2020 2020 2020 2020  emm").          
-00034510: 2020 2020 2020 7365 6c66 2e66 656d 6d5f        self.femm_
-00034520: 6973 5f69 6d70 6f72 7465 6420 3d20 5472  is_imported = Tr
-00034530: 7565 0a20 2020 2020 2020 2065 6c73 653a  ue.        else:
-00034540: 0a20 2020 2020 2020 2020 2020 2072 6169  .            rai
-00034550: 7365 2045 7863 6570 7469 6f6e 2827 596f  se Exception('Yo
-00034560: 7520 6172 6520 7573 696e 6720 6120 636f  u are using a co
-00034570: 6d70 7574 6572 2074 6861 7420 6973 206e  mputer that is n
-00034580: 6f74 2072 756e 6e69 6e67 2077 696e 646f  ot running windo
-00034590: 7773 2e20 270a 2020 2020 2020 2020 2020  ws. '.          
-000345a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000345b0: 2020 2754 6869 7320 636f 6d6d 616e 6420    'This command 
-000345c0: 6973 206f 6e6c 7920 6578 6563 7574 6162  is only executab
-000345d0: 6c65 206f 6e20 5769 6e64 6f77 7320 636f  le on Windows co
-000345e0: 6d70 7574 6572 732e 2729 0a0a 2020 2020  mputers.')..    
-000345f0: 2020 2020 2320 4765 7420 7061 7468 730a      # Get paths.
-00034600: 2020 2020 2020 2020 6665 6d6d 5f6d 6f64          femm_mod
-00034610: 656c 5f66 696c 655f 7061 7468 203d 206f  el_file_path = o
-00034620: 732e 7061 7468 2e6a 6f69 6e28 7365 6c66  s.path.join(self
-00034630: 2e66 696c 655f 6461 7461 2e66 656d 6d5f  .file_data.femm_
-00034640: 666f 6c64 6572 5f70 6174 682c 2022 7468  folder_path, "th
-00034650: 6572 6d61 6c2d 7661 6c69 6461 7469 6f6e  ermal-validation
-00034660: 2e46 4548 2229 0a0a 2020 2020 2020 2020  .FEH")..        
-00034670: 7365 6c66 2e66 696c 655f 6461 7461 2e63  self.file_data.c
-00034680: 7265 6174 655f 666f 6c64 6572 7328 7365  reate_folders(se
-00034690: 6c66 2e66 696c 655f 6461 7461 2e66 656d  lf.file_data.fem
-000346a0: 6d5f 666f 6c64 6572 5f70 6174 6829 0a0a  m_folder_path)..
-000346b0: 2020 2020 2020 2020 2320 4578 7472 6163          # Extrac
-000346c0: 7420 6c6f 7373 6573 0a20 2020 2020 2020  t losses.       
-000346d0: 206c 6f73 7365 7320 3d20 7265 6164 5f72   losses = read_r
-000346e0: 6573 756c 7473 5f6c 6f67 2873 656c 662e  esults_log(self.
-000346f0: 6669 6c65 5f64 6174 612e 655f 6d5f 7265  file_data.e_m_re
-00034700: 7375 6c74 735f 6c6f 675f 7061 7468 290a  sults_log_path).
-00034710: 0a20 2020 2020 2020 2023 2045 7874 7261  .        # Extra
-00034720: 6374 2077 6972 655f 7261 6469 690a 2020  ct wire_radii.  
-00034730: 2020 2020 2020 7769 7265 5f72 6164 6969        wire_radii
-00034740: 203d 205b 7769 6e64 696e 672e 636f 6e64   = [winding.cond
-00034750: 7563 746f 725f 7261 6469 7573 2066 6f72  uctor_radius for
-00034760: 2077 696e 6469 6e67 2069 6e20 7365 6c66   winding in self
-00034770: 2e77 696e 6469 6e67 735d 0a0a 2020 2020  .windings]..    
-00034780: 2020 2020 2320 3d3d 2049 6e69 7420 3d3d      # == Init ==
-00034790: 0a20 2020 2020 2020 2066 656d 6d2e 6f70  .        femm.op
-000347a0: 656e 6665 6d6d 2830 290a 2020 2020 2020  enfemm(0).      
-000347b0: 2020 6665 6d6d 2e6e 6577 646f 6375 6d65    femm.newdocume
-000347c0: 6e74 2832 290a 2020 2020 2020 2020 6665  nt(2).        fe
-000347d0: 6d6d 2e68 695f 7072 6f62 6465 6628 226d  mm.hi_probdef("m
-000347e0: 6574 6572 7322 2c20 2261 7869 222c 2031  eters", "axi", 1
-000347f0: 2e65 2d38 2c20 3029 0a0a 2020 2020 2020  .e-8, 0)..      
-00034800: 2020 2320 3d3d 204d 6174 6572 6961 6c73    # == Materials
-00034810: 203d 3d0a 2020 2020 2020 2020 2320 436f   ==.        # Co
-00034820: 7265 0a20 2020 2020 2020 206b 5f63 6f72  re.        k_cor
-00034830: 6520 3d20 7468 6572 6d61 6c5f 636f 6e64  e = thermal_cond
-00034840: 7563 7469 7669 7479 5f64 6963 745b 2263  uctivity_dict["c
-00034850: 6f72 6522 5d0a 2020 2020 2020 2020 715f  ore"].        q_
-00034860: 766f 6c5f 636f 7265 203d 206c 6f73 7365  vol_core = losse
-00034870: 735b 2263 6f72 6522 5d20 2f20 7365 6c66  s["core"] / self
-00034880: 2e63 616c 6375 6c61 7465 5f63 6f72 655f  .calculate_core_
-00034890: 766f 6c75 6d65 2829 0a20 2020 2020 2020  volume().       
-000348a0: 2023 2063 5f63 6f72 6520 3d20 302e 3030   # c_core = 0.00
-000348b0: 370a 2020 2020 2020 2020 635f 636f 7265  7.        c_core
-000348c0: 203d 2030 0a0a 2020 2020 2020 2020 2320   = 0..        # 
-000348d0: 4169 720a 2020 2020 2020 2020 6b5f 6169  Air.        k_ai
-000348e0: 7220 3d20 7468 6572 6d61 6c5f 636f 6e64  r = thermal_cond
-000348f0: 7563 7469 7669 7479 5f64 6963 745b 2261  uctivity_dict["a
-00034900: 6972 225d 0a20 2020 2020 2020 2071 5f76  ir"].        q_v
-00034910: 6f6c 5f61 6972 203d 2030 0a20 2020 2020  ol_air = 0.     
-00034920: 2020 2023 2063 5f61 6972 203d 2031 3030     # c_air = 100
-00034930: 342e 370a 2020 2020 2020 2020 635f 6169  4.7.        c_ai
-00034940: 7220 3d20 300a 0a20 2020 2020 2020 2023  r = 0..        #
-00034950: 2057 6972 650a 2020 2020 2020 2020 6b5f   Wire.        k_
-00034960: 7769 7265 203d 2074 6865 726d 616c 5f63  wire = thermal_c
-00034970: 6f6e 6475 6374 6976 6974 795f 6469 6374  onductivity_dict
-00034980: 5b22 7769 6e64 696e 6722 5d0a 2020 2020  ["winding"].    
-00034990: 2020 2020 2320 635f 7769 7265 203d 2033      # c_wire = 3
-000349a0: 3835 0a20 2020 2020 2020 2063 5f77 6972  85.        c_wir
-000349b0: 6520 3d20 300a 0a20 2020 2020 2020 2023  e = 0..        #
-000349c0: 2043 6173 650a 2020 2020 2020 2020 6b5f   Case.        k_
-000349d0: 6361 7365 203d 2074 6865 726d 616c 5f63  case = thermal_c
-000349e0: 6f6e 6475 6374 6976 6974 795f 6469 6374  onductivity_dict
-000349f0: 5b22 6361 7365 225d 5b0a 2020 2020 2020  ["case"][.      
-00034a00: 2020 2020 2020 2274 6f70 225d 2020 2320        "top"]  # 
-00034a10: 446f 6573 206e 6f74 206d 6174 7465 7220  Does not matter 
-00034a20: 7768 656e 2074 6865 2072 6567 696f 6e73  when the regions
-00034a30: 2061 6c6c 2068 6176 6520 7468 6520 7361   all have the sa
-00034a40: 6d65 2074 6865 726d 616c 2063 6f6e 6475  me thermal condu
-00034a50: 6374 6976 6974 792e 0a20 2020 2020 2020  ctivity..       
-00034a60: 2071 5f76 6f6c 5f63 6173 6520 3d20 300a   q_vol_case = 0.
-00034a70: 2020 2020 2020 2020 2320 635f 6361 7365          # c_case
-00034a80: 203d 2030 2e30 310a 2020 2020 2020 2020   = 0.01.        
-00034a90: 635f 6361 7365 203d 2030 0a0a 2020 2020  c_case = 0..    
-00034aa0: 2020 2020 2320 4169 7220 6761 700a 2020      # Air gap.  
-00034ab0: 2020 2020 2020 6b5f 6169 725f 6761 7020        k_air_gap 
-00034ac0: 3d20 7468 6572 6d61 6c5f 636f 6e64 7563  = thermal_conduc
-00034ad0: 7469 7669 7479 5f64 6963 745b 2261 6972  tivity_dict["air
-00034ae0: 5f67 6170 7322 5d0a 2020 2020 2020 2020  _gaps"].        
-00034af0: 715f 766f 6c5f 6169 725f 6761 7020 3d20  q_vol_air_gap = 
-00034b00: 300a 2020 2020 2020 2020 635f 6169 725f  0.        c_air_
-00034b10: 6761 7020 3d20 300a 0a20 2020 2020 2020  gap = 0..       
-00034b20: 2023 2053 6574 7570 2077 696e 6469 6e67   # Setup winding
-00034b30: 206c 6973 740a 2020 2020 2020 2020 7769   list.        wi
-00034b40: 6e64 696e 675f 6c6f 7373 6573 5f6c 6973  nding_losses_lis
-00034b50: 7420 3d20 5b5d 0a20 2020 2020 2020 2066  t = [].        f
-00034b60: 6f72 2069 2069 6e20 7261 6e67 6528 312c  or i in range(1,
-00034b70: 2031 3029 3a0a 2020 2020 2020 2020 2020   10):.          
-00034b80: 2020 6b65 7920 3d20 6622 7769 6e64 696e    key = f"windin
-00034b90: 677b 697d 220a 2020 2020 2020 2020 2020  g{i}".          
-00034ba0: 2020 696e 6e65 725f 7769 6e64 696e 675f    inner_winding_
-00034bb0: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
-00034bc0: 2020 2020 2020 6966 206b 6579 2069 6e20        if key in 
-00034bd0: 6c6f 7373 6573 3a0a 2020 2020 2020 2020  losses:.        
-00034be0: 2020 2020 2020 2020 666f 7220 7769 6e64          for wind
-00034bf0: 696e 6720 696e 206c 6f73 7365 735b 6b65  ing in losses[ke
-00034c00: 795d 5b22 7475 726e 7322 5d3a 0a20 2020  y]["turns"]:.   
-00034c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034c20: 2069 6e6e 6572 5f77 696e 6469 6e67 5f6c   inner_winding_l
-00034c30: 6973 742e 6170 7065 6e64 2877 696e 6469  ist.append(windi
-00034c40: 6e67 290a 2020 2020 2020 2020 2020 2020  ng).            
-00034c50: 7769 6e64 696e 675f 6c6f 7373 6573 5f6c  winding_losses_l
-00034c60: 6973 742e 6170 7065 6e64 2869 6e6e 6572  ist.append(inner
-00034c70: 5f77 696e 6469 6e67 5f6c 6973 7429 0a0a  _winding_list)..
-00034c80: 2020 2020 2020 2020 2320 5365 7475 7020          # Setup 
-00034c90: 6d61 7465 7269 616c 730a 2020 2020 2020  materials.      
-00034ca0: 2020 6665 6d6d 2e68 695f 6164 646d 6174    femm.hi_addmat
-00034cb0: 6572 6961 6c28 2743 6f72 6527 2c20 6b5f  erial('Core', k_
-00034cc0: 636f 7265 2c20 6b5f 636f 7265 2c20 715f  core, k_core, q_
-00034cd0: 766f 6c5f 636f 7265 2c20 635f 636f 7265  vol_core, c_core
-00034ce0: 290a 2020 2020 2020 2020 6665 6d6d 2e68  ).        femm.h
-00034cf0: 695f 6164 646d 6174 6572 6961 6c28 2741  i_addmaterial('A
-00034d00: 6972 272c 206b 5f61 6972 2c20 6b5f 6169  ir', k_air, k_ai
-00034d10: 722c 2071 5f76 6f6c 5f61 6972 2c20 635f  r, q_vol_air, c_
-00034d20: 6169 7229 0a20 2020 2020 2020 2066 656d  air).        fem
-00034d30: 6d2e 6869 5f61 6464 6d61 7465 7269 616c  m.hi_addmaterial
-00034d40: 2827 4169 7220 4761 7073 272c 206b 5f61  ('Air Gaps', k_a
-00034d50: 6972 5f67 6170 2c20 6b5f 6169 725f 6761  ir_gap, k_air_ga
-00034d60: 702c 2071 5f76 6f6c 5f61 6972 5f67 6170  p, q_vol_air_gap
-00034d70: 2c20 635f 6169 725f 6761 7029 0a20 2020  , c_air_gap).   
-00034d80: 2020 2020 2077 6972 655f 6469 7374 616e       wire_distan
-00034d90: 6365 7320 3d20 7365 6c66 2e67 6574 5f77  ces = self.get_w
-00034da0: 6972 655f 6469 7374 616e 6365 7328 290a  ire_distances().
-00034db0: 0a20 2020 2020 2020 2023 2043 6865 636b  .        # Check
-00034dc0: 2074 6865 2074 7970 6520 6f66 2063 6f6e   the type of con
-00034dd0: 6475 6374 6f72 2066 6f72 2074 6869 7320  ductor for this 
-00034de0: 7769 6e64 696e 670a 2020 2020 2020 2020  winding.        
-00034df0: 666f 7220 7769 6e64 696e 675f 696e 6465  for winding_inde
-00034e00: 782c 2077 696e 6469 6e67 2069 6e20 656e  x, winding in en
-00034e10: 756d 6572 6174 6528 7769 6e64 696e 675f  umerate(winding_
-00034e20: 6c6f 7373 6573 5f6c 6973 7429 3a0a 2020  losses_list):.  
-00034e30: 2020 2020 2020 2020 2020 666f 7220 6920            for i 
-00034e40: 696e 2072 616e 6765 286c 656e 2877 696e  in range(len(win
-00034e50: 6469 6e67 2929 3a0a 2020 2020 2020 2020  ding)):.        
-00034e60: 2020 2020 2020 2020 2320 4164 6420 6120          # Add a 
-00034e70: 6e65 7720 6d61 7465 7269 616c 2074 6f20  new material to 
-00034e80: 4645 4d4d 2077 6974 6820 4c69 747a 2063  FEMM with Litz c
-00034e90: 6f6e 6475 6374 6f72 2070 726f 7065 7274  onductor propert
-00034ea0: 6965 730a 2020 2020 2020 2020 2020 2020  ies.            
-00034eb0: 2020 2020 6665 6d6d 2e68 695f 6164 646d      femm.hi_addm
-00034ec0: 6174 6572 6961 6c28 6627 5769 7265 5f7b  aterial(f'Wire_{
-00034ed0: 7769 6e64 696e 675f 696e 6465 787d 5f7b  winding_index}_{
-00034ee0: 697d 272c 206b 5f77 6972 652c 206b 5f77  i}', k_wire, k_w
-00034ef0: 6972 652c 0a20 2020 2020 2020 2020 2020  ire,.           
-00034f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034f10: 2020 2020 2020 2020 2063 616c 6375 6c61           calcula
-00034f20: 7465 5f68 6561 745f 666c 7578 5f72 6f75  te_heat_flux_rou
-00034f30: 6e64 5f77 6972 6528 7769 6e64 696e 675b  nd_wire(winding[
-00034f40: 695d 2c20 7769 7265 5f72 6164 6969 5b77  i], wire_radii[w
-00034f50: 696e 6469 6e67 5f69 6e64 6578 5d2c 0a20  inding_index],. 
-00034f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00034fa0: 2020 7769 7265 5f64 6973 7461 6e63 6573    wire_distances
-00034fb0: 5b77 696e 6469 6e67 5f69 6e64 6578 5d5b  [winding_index][
-00034fc0: 695d 292c 2063 5f77 6972 6529 0a20 2020  i]), c_wire).   
-00034fd0: 2020 2020 2066 656d 6d2e 6869 5f61 6464       femm.hi_add
-00034fe0: 6d61 7465 7269 616c 2827 4361 7365 272c  material('Case',
-00034ff0: 206b 5f63 6173 652c 206b 5f63 6173 652c   k_case, k_case,
-00035000: 2071 5f76 6f6c 5f63 6173 652c 2063 5f63   q_vol_case, c_c
-00035010: 6173 6529 0a0a 2020 2020 2020 2020 2320  ase)..        # 
-00035020: 4164 6420 626f 756e 6461 7279 2063 6f6e  Add boundary con
-00035030: 6469 7469 6f6e 0a20 2020 2020 2020 2066  dition.        f
-00035040: 656d 6d2e 6869 5f61 6464 626f 756e 6470  emm.hi_addboundp
-00035050: 726f 7028 2242 6f75 6e64 6172 7922 2c20  rop("Boundary", 
-00035060: 302c 2062 6f75 6e64 6172 795f 7465 6d70  0, boundary_temp
-00035070: 6572 6174 7572 652c 2030 2c20 302c 2030  erature, 0, 0, 0
-00035080: 2c20 3029 0a20 2020 2020 2020 2066 656d  , 0).        fem
-00035090: 6d2e 6869 5f61 6464 626f 756e 6470 726f  m.hi_addboundpro
-000350a0: 7028 224e 6575 6d61 6e6e 426f 756e 6461  p("NeumannBounda
-000350b0: 7279 222c 2031 2c20 302c 2030 2c20 302c  ry", 1, 0, 0, 0,
-000350c0: 2030 2c20 3029 0a0a 2020 2020 2020 2020   0, 0)..        
-000350d0: 2320 3d3d 2047 656f 6d65 7472 7920 3d3d  # == Geometry ==
-000350e0: 0a20 2020 2020 2020 2073 656c 662e 6869  .        self.hi
-000350f0: 6768 5f6c 6576 656c 5f67 656f 5f67 656e  gh_level_geo_gen
-00035100: 2829 0a20 2020 2020 2020 2023 2041 6464  ().        # Add
-00035110: 2063 6f72 650a 2020 2020 2020 2020 6966   core.        if
-00035120: 2073 656c 662e 6169 725f 6761 7073 2e6e   self.air_gaps.n
-00035130: 756d 6265 7220 3d3d 2030 3a0a 2020 2020  umber == 0:.    
-00035140: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00035150: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
-00035160: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
-00035170: 5b34 2c20 305d 2c0a 2020 2020 2020 2020  [4, 0],.        
-00035180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035190: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-000351a0: 6178 692e 705f 7769 6e64 6f77 5b34 2c20  axi.p_window[4, 
-000351b0: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
-000351c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000351d0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-000351e0: 705f 7769 6e64 6f77 5b35 2c20 305d 2c0a  p_window[5, 0],.
-000351f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035200: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00035210: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
-00035220: 6e64 6f77 5b35 2c20 315d 290a 2020 2020  ndow[5, 1]).    
-00035230: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00035240: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
-00035250: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
-00035260: 5b35 2c20 305d 2c0a 2020 2020 2020 2020  [5, 0],.        
-00035270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035280: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-00035290: 6178 692e 705f 7769 6e64 6f77 5b35 2c20  axi.p_window[5, 
-000352a0: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
-000352b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000352c0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-000352d0: 705f 7769 6e64 6f77 5b37 2c20 305d 2c0a  p_window[7, 0],.
-000352e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000352f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00035300: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
-00035310: 6e64 6f77 5b37 2c20 315d 290a 2020 2020  ndow[7, 1]).    
-00035320: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00035330: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
-00035340: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
-00035350: 5b37 2c20 305d 2c0a 2020 2020 2020 2020  [7, 0],.        
-00035360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035370: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-00035380: 6178 692e 705f 7769 6e64 6f77 5b37 2c20  axi.p_window[7, 
-00035390: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
-000353a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000353b0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-000353c0: 705f 7769 6e64 6f77 5b36 2c20 305d 2c0a  p_window[6, 0],.
+00031d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031d60: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00031d70: 2e70 5f63 6f6e 6475 6374 6f72 5b6e 756d  .p_conductor[num
+00031d80: 5d5b 3520 2a20 6920 2b20 335d 5b31 5d2c  ][5 * i + 3][1],
+00031d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00031da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031db0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00031dc0: 7869 2e70 5f63 6f6e 6475 6374 6f72 5b6e  xi.p_conductor[n
+00031dd0: 756d 5d5b 3520 2a20 6920 2b20 315d 5b30  um][5 * i + 1][0
+00031de0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00031df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e00: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
+00031e10: 5f61 7869 2e70 5f63 6f6e 6475 6374 6f72  _axi.p_conductor
+00031e20: 5b6e 756d 5d5b 3520 2a20 6920 2b20 315d  [num][5 * i + 1]
+00031e30: 5b31 5d2c 2031 3830 2c20 322e 3529 0a20  [1], 180, 2.5). 
+00031e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031e50: 2020 2066 656d 6d2e 6d69 5f61 6464 626c     femm.mi_addbl
+00031e60: 6f63 6b6c 6162 656c 2873 656c 662e 7477  ocklabel(self.tw
+00031e70: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
+00031e80: 746f 725b 6e75 6d5d 5b35 202a 2069 5d5b  tor[num][5 * i][
+00031e90: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
+00031ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031eb0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00031ec0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f63  lf.two_d_axi.p_c
+00031ed0: 6f6e 6475 6374 6f72 5b6e 756d 5d5b 3520  onductor[num][5 
+00031ee0: 2a20 695d 5b31 5d29 0a20 2020 2020 2020  * i][1]).       
+00031ef0: 2020 2020 2020 2020 2020 2020 2066 656d               fem
+00031f00: 6d2e 6d69 5f73 656c 6563 746c 6162 656c  m.mi_selectlabel
+00031f10: 2873 656c 662e 7477 6f5f 645f 6178 692e  (self.two_d_axi.
+00031f20: 705f 636f 6e64 7563 746f 725b 6e75 6d5d  p_conductor[num]
+00031f30: 5b35 202a 2069 5d5b 305d 2c0a 2020 2020  [5 * i][0],.    
+00031f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031f60: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00031f70: 7869 2e70 5f63 6f6e 6475 6374 6f72 5b6e  xi.p_conductor[n
+00031f80: 756d 5d5b 3520 2a20 695d 5b31 5d29 0a0a  um][5 * i][1])..
+00031f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031fa0: 2020 2020 7769 6e64 696e 675f 6e61 6d65      winding_name
+00031fb0: 203d 2027 5769 6e64 696e 6727 202b 2073   = 'Winding' + s
+00031fc0: 7472 286e 756d 202b 2031 290a 2020 2020  tr(num + 1).    
+00031fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00031fe0: 6966 2073 656c 662e 7769 6e64 696e 6773  if self.windings
+00031ff0: 5b6e 756d 5d2e 636f 6e64 7563 746f 725f  [num].conductor_
+00032000: 7479 7065 203d 3d20 436f 6e64 7563 746f  type == Conducto
+00032010: 7254 7970 652e 526f 756e 644c 6974 7a3a  rType.RoundLitz:
+00032020: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00032030: 2020 2020 2020 2020 2066 656d 6d2e 6d69           femm.mi
+00032040: 5f73 6574 626c 6f63 6b70 726f 7028 274c  _setblockprop('L
+00032050: 6974 7a27 2c20 6175 746f 6d65 7368 5f63  itz', automesh_c
+00032060: 6f6e 6475 6374 6f72 2c20 6d65 7368 5f73  onductor, mesh_s
+00032070: 697a 655f 636f 6e64 7563 746f 722c 2077  ize_conductor, w
+00032080: 696e 6469 6e67 5f6e 616d 652c 2030 2c0a  inding_name, 0,.
+00032090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000320a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000320b0: 2020 2020 2020 2020 2020 2020 206e 756d               num
+000320c0: 202b 2032 2c20 3129 0a20 2020 2020 2020   + 2, 1).       
+000320d0: 2020 2020 2020 2020 2020 2020 2065 6c73               els
+000320e0: 653a 0a20 2020 2020 2020 2020 2020 2020  e:.             
+000320f0: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
+00032100: 6d69 5f73 6574 626c 6f63 6b70 726f 7028  mi_setblockprop(
+00032110: 2743 6f70 7065 7227 2c20 6175 746f 6d65  'Copper', autome
+00032120: 7368 5f63 6f6e 6475 6374 6f72 2c20 6d65  sh_conductor, me
+00032130: 7368 5f73 697a 655f 636f 6e64 7563 746f  sh_size_conducto
+00032140: 722c 0a20 2020 2020 2020 2020 2020 2020  r,.             
+00032150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032170: 7769 6e64 696e 675f 6e61 6d65 2c20 302c  winding_name, 0,
+00032180: 206e 756d 202b 2032 2c20 3129 0a0a 2020   num + 2, 1)..  
+00032190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000321a0: 2020 6665 6d6d 2e6d 695f 636c 6561 7273    femm.mi_clears
+000321b0: 656c 6563 7465 6428 290a 2020 2020 2020  elected().      
+000321c0: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
+000321d0: 7769 6e64 696e 6773 5b6e 756d 5d2e 636f  windings[num].co
+000321e0: 6e64 7563 746f 725f 7479 7065 203d 3d20  nductor_type == 
+000321f0: 436f 6e64 7563 746f 7254 7970 652e 5265  ConductorType.Re
+00032200: 6374 616e 6775 6c61 7253 6f6c 6964 3a0a  ctangularSolid:.
+00032210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032220: 666f 7220 6920 696e 2072 616e 6765 2830  for i in range(0
+00032230: 2c20 696e 7428 7365 6c66 2e74 776f 5f64  , int(self.two_d
+00032240: 5f61 7869 2e70 5f63 6f6e 6475 6374 6f72  _axi.p_conductor
+00032250: 5b6e 756d 5d2e 7368 6170 655b 305d 202f  [num].shape[0] /
+00032260: 2035 2929 3a0a 2020 2020 2020 2020 2020   5)):.          
+00032270: 2020 2020 2020 2020 2020 2320 303a 206c            # 0: l
+00032280: 6566 745f 626f 7474 6f6d 207c 2031 3a20  eft_bottom | 1: 
+00032290: 7269 6768 745f 626f 7474 6f6d 207c 2032  right_bottom | 2
+000322a0: 3a20 6c65 6674 5f74 6f70 207c 2033 3a20  : left_top | 3: 
+000322b0: 7269 6768 745f 746f 7020 7c20 343a 2063  right_top | 4: c
+000322c0: 656e 7465 720a 2020 2020 2020 2020 2020  enter.          
+000322d0: 2020 2020 2020 2020 2020 6c65 6674 5f62            left_b
+000322e0: 6f74 746f 6d20 3d20 7365 6c66 2e74 776f  ottom = self.two
+000322f0: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
+00032300: 6f72 5b6e 756d 5d5b 3520 2a20 695d 0a20  or[num][5 * i]. 
+00032310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032320: 2020 2072 6967 6874 5f62 6f74 746f 6d20     right_bottom 
+00032330: 3d20 7365 6c66 2e74 776f 5f64 5f61 7869  = self.two_d_axi
+00032340: 2e70 5f63 6f6e 6475 6374 6f72 5b6e 756d  .p_conductor[num
+00032350: 5d5b 3520 2a20 6920 2b20 315d 0a20 2020  ][5 * i + 1].   
+00032360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032370: 206c 6566 745f 746f 7020 3d20 7365 6c66   left_top = self
+00032380: 2e74 776f 5f64 5f61 7869 2e70 5f63 6f6e  .two_d_axi.p_con
+00032390: 6475 6374 6f72 5b6e 756d 5d5b 3520 2a20  ductor[num][5 * 
+000323a0: 6920 2b20 325d 0a20 2020 2020 2020 2020  i + 2].         
+000323b0: 2020 2020 2020 2020 2020 2072 6967 6874             right
+000323c0: 5f74 6f70 203d 2073 656c 662e 7477 6f5f  _top = self.two_
+000323d0: 645f 6178 692e 705f 636f 6e64 7563 746f  d_axi.p_conducto
+000323e0: 725b 6e75 6d5d 5b35 202a 2069 202b 2033  r[num][5 * i + 3
+000323f0: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
+00032400: 2020 2020 2020 6365 6e74 6572 203d 2073        center = s
+00032410: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00032420: 636f 6e64 7563 746f 725b 6e75 6d5d 5b35  conductor[num][5
+00032430: 202a 2069 202b 2034 5d0a 2020 2020 2020   * i + 4].      
+00032440: 2020 2020 2020 2020 2020 2020 2020 6665                fe
+00032450: 6d6d 2e6d 695f 6472 6177 6c69 6e65 286c  mm.mi_drawline(l
+00032460: 6566 745f 626f 7474 6f6d 5b30 5d2c 206c  eft_bottom[0], l
+00032470: 6566 745f 626f 7474 6f6d 5b31 5d2c 2072  eft_bottom[1], r
+00032480: 6967 6874 5f62 6f74 746f 6d5b 305d 2c20  ight_bottom[0], 
+00032490: 7269 6768 745f 626f 7474 6f6d 5b31 5d29  right_bottom[1])
+000324a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000324b0: 2020 2020 2066 656d 6d2e 6d69 5f64 7261       femm.mi_dra
+000324c0: 776c 696e 6528 7269 6768 745f 626f 7474  wline(right_bott
+000324d0: 6f6d 5b30 5d2c 2072 6967 6874 5f62 6f74  om[0], right_bot
+000324e0: 746f 6d5b 315d 2c20 7269 6768 745f 746f  tom[1], right_to
+000324f0: 705b 305d 2c20 7269 6768 745f 746f 705b  p[0], right_top[
+00032500: 315d 290a 2020 2020 2020 2020 2020 2020  1]).            
+00032510: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00032520: 6472 6177 6c69 6e65 2872 6967 6874 5f74  drawline(right_t
+00032530: 6f70 5b30 5d2c 2072 6967 6874 5f74 6f70  op[0], right_top
+00032540: 5b31 5d2c 206c 6566 745f 746f 705b 305d  [1], left_top[0]
+00032550: 2c20 6c65 6674 5f74 6f70 5b31 5d29 0a20  , left_top[1]). 
+00032560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032570: 2020 2066 656d 6d2e 6d69 5f64 7261 776c     femm.mi_drawl
+00032580: 696e 6528 6c65 6674 5f74 6f70 5b30 5d2c  ine(left_top[0],
+00032590: 206c 6566 745f 746f 705b 315d 2c20 6c65   left_top[1], le
+000325a0: 6674 5f62 6f74 746f 6d5b 305d 2c20 6c65  ft_bottom[0], le
+000325b0: 6674 5f62 6f74 746f 6d5b 315d 290a 2020  ft_bottom[1]).  
+000325c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000325d0: 2020 6665 6d6d 2e6d 695f 6164 6462 6c6f    femm.mi_addblo
+000325e0: 636b 6c61 6265 6c28 6365 6e74 6572 5b30  cklabel(center[0
+000325f0: 5d2c 2063 656e 7465 725b 315d 290a 2020  ], center[1]).  
+00032600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032610: 2020 6665 6d6d 2e6d 695f 7365 6c65 6374    femm.mi_select
+00032620: 6c61 6265 6c28 6365 6e74 6572 5b30 5d2c  label(center[0],
+00032630: 2063 656e 7465 725b 315d 290a 0a20 2020   center[1])..   
+00032640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00032650: 2077 696e 6469 6e67 5f6e 616d 6520 3d20   winding_name = 
+00032660: 2757 696e 6469 6e67 2720 2b20 7374 7228  'Winding' + str(
+00032670: 6e75 6d20 2b20 3129 0a20 2020 2020 2020  num + 1).       
+00032680: 2020 2020 2020 2020 2020 2020 2066 656d               fem
+00032690: 6d2e 6d69 5f73 6574 626c 6f63 6b70 726f  m.mi_setblockpro
+000326a0: 7028 2743 6f70 7065 7227 2c20 6175 746f  p('Copper', auto
+000326b0: 6d65 7368 5f63 6f6e 6475 6374 6f72 2c20  mesh_conductor, 
+000326c0: 6d65 7368 5f73 697a 655f 636f 6e64 7563  mesh_size_conduc
+000326d0: 746f 722c 2077 696e 6469 6e67 5f6e 616d  tor, winding_nam
+000326e0: 652c 2030 2c20 6e75 6d20 2b20 322c 2031  e, 0, num + 2, 1
+000326f0: 290a 0a20 2020 2020 2020 2020 2020 2020  )..             
+00032700: 2020 2020 2020 2066 656d 6d2e 6d69 5f63         femm.mi_c
+00032710: 6c65 6172 7365 6c65 6374 6564 2829 0a20  learselected(). 
+00032720: 2020 2020 2020 2020 2020 2065 6c73 653a             else:
+00032730: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00032740: 2072 6169 7365 2045 7863 6570 7469 6f6e   raise Exception
+00032750: 2866 2246 454d 4d20 5369 6d75 6c61 7469  (f"FEMM Simulati
+00032760: 6f6e 206e 6f74 2070 6f73 7369 626c 6520  on not possible 
+00032770: 7369 6e63 6520 436f 6e64 7563 746f 7254  since ConductorT
+00032780: 7970 6520 220a 2020 2020 2020 2020 2020  ype ".          
+00032790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000327a0: 2020 2020 2020 6622 7b73 656c 662e 7769        f"{self.wi
+000327b0: 6e64 696e 6773 5b6e 756d 5d2e 636f 6e64  ndings[num].cond
+000327c0: 7563 746f 725f 7479 7065 7d20 6973 206e  uctor_type} is n
+000327d0: 6f74 2069 6d70 6c65 6d65 6e74 6564 2229  ot implemented")
+000327e0: 0a0a 2020 2020 2020 2020 2320 4465 6669  ..        # Defi
+000327f0: 6e65 2061 6e20 226f 7065 6e22 2062 6f75  ne an "open" bou
+00032800: 6e64 6172 7920 636f 6e64 6974 696f 6e20  ndary condition 
+00032810: 7573 696e 6720 7468 6520 6275 696c 742d  using the built-
+00032820: 696e 2066 756e 6374 696f 6e3a 0a20 2020  in function:.   
+00032830: 2020 2020 2066 656d 6d2e 6d69 5f6d 616b       femm.mi_mak
+00032840: 6541 4243 2829 0a20 2020 2020 2020 2022  eABC().        "
+00032850: 2222 0a20 2020 2020 2020 2023 2041 6c74  "".        # Alt
+00032860: 6572 6e61 7469 7665 2042 430a 2020 2020  ernative BC.    
+00032870: 2020 2020 7265 6769 6f6e 5f61 6464 203d      region_add =
+00032880: 2031 2e31 0a0a 2020 2020 2020 2020 6665   1.1..        fe
+00032890: 6d6d 2e6d 695f 6472 6177 7265 6374 616e  mm.mi_drawrectan
+000328a0: 676c 6528 302c 2072 6567 696f 6e5f 6164  gle(0, region_ad
+000328b0: 642a 7365 6c66 2e74 776f 5f64 5f61 7869  d*self.two_d_axi
+000328c0: 2e70 5f6f 7574 6572 5b30 5d5b 315d 2c20  .p_outer[0][1], 
+000328d0: 7265 6769 6f6e 5f61 6464 2a73 656c 662e  region_add*self.
+000328e0: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
+000328f0: 725b 335d 5b30 5d2c 200a 2020 2020 2020  r[3][0], .      
+00032900: 2020 7265 6769 6f6e 5f61 6464 2a73 656c    region_add*sel
+00032910: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00032920: 7465 725b 335d 5b31 5d29 0a20 2020 2020  ter[3][1]).     
+00032930: 2020 2023 206d 695f 6164 6462 6f75 6e64     # mi_addbound
+00032940: 7072 6f70 2827 4173 796d 7074 6f74 6963  prop('Asymptotic
+00032950: 272c 2030 2c20 302c 2030 2c20 302c 2030  ', 0, 0, 0, 0, 0
+00032960: 2c20 302c 2031 202f 2028 6d75 5f30 202a  , 0, 1 / (mu_0 *
+00032970: 2062 6f75 6e64 2e77 6964 7468 292c 2030   bound.width), 0
+00032980: 2c20 3229 3b20 2520 4d69 7865 640a 2020  , 2); % Mixed.  
+00032990: 2020 2020 2020 6665 6d6d 2e6d 695f 6164        femm.mi_ad
+000329a0: 6462 6f75 6e64 7072 6f70 2827 4173 796d  dboundprop('Asym
+000329b0: 7074 6f74 6963 272c 2030 2c20 302c 2030  ptotic', 0, 0, 0
+000329c0: 2c20 302c 2031 2c20 3530 2c20 302c 2030  , 0, 1, 50, 0, 0
+000329d0: 2c20 3129 0a20 2020 2020 2020 2066 656d  , 1).        fem
+000329e0: 6d2e 6d69 5f73 656c 6563 7473 6567 6d65  m.mi_selectsegme
+000329f0: 6e74 2872 6567 696f 6e5f 6164 642a 7365  nt(region_add*se
+00032a00: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+00032a10: 7574 6572 5b33 5d5b 305d 2c20 7265 6769  uter[3][0], regi
+00032a20: 6f6e 5f61 6464 2a73 656c 662e 7477 6f5f  on_add*self.two_
+00032a30: 645f 6178 692e 705f 6f75 7465 725b 335d  d_axi.p_outer[3]
+00032a40: 5b31 5d29 0a20 2020 2020 2020 2066 656d  [1]).        fem
+00032a50: 6d2e 6d69 5f73 6574 7365 676d 656e 7470  m.mi_setsegmentp
+00032a60: 726f 7028 2741 7379 6d70 746f 7469 6327  rop('Asymptotic'
+00032a70: 2c20 312c 2031 2c20 302c 2030 290a 2020  , 1, 1, 0, 0).  
+00032a80: 2020 2020 2020 2222 220a 0a20 2020 2020        """..     
+00032a90: 2020 2023 203d 3d20 4c61 6265 6c73 2f44     # == Labels/D
+00032aa0: 6573 6967 6e61 7469 6f6e 7320 3d3d 0a0a  esignations ==..
+00032ab0: 2020 2020 2020 2020 2320 4c61 6265 6c20          # Label 
+00032ac0: 666f 7220 636f 7265 0a20 2020 2020 2020  for core.       
+00032ad0: 2066 656d 6d2e 6d69 5f61 6464 626c 6f63   femm.mi_addbloc
+00032ae0: 6b6c 6162 656c 2873 656c 662e 7477 6f5f  klabel(self.two_
+00032af0: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
+00032b00: 2030 5d20 2d20 302e 3030 312c 2073 656c   0] - 0.001, sel
+00032b10: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00032b20: 7465 725b 332c 2031 5d20 2d20 302e 3030  ter[3, 1] - 0.00
+00032b30: 3129 0a20 2020 2020 2020 2066 656d 6d2e  1).        femm.
+00032b40: 6d69 5f73 656c 6563 746c 6162 656c 2873  mi_selectlabel(s
+00032b50: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00032b60: 6f75 7465 725b 332c 2030 5d20 2d20 302e  outer[3, 0] - 0.
+00032b70: 3030 312c 2073 656c 662e 7477 6f5f 645f  001, self.two_d_
+00032b80: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
+00032b90: 5d20 2d20 302e 3030 3129 0a20 2020 2020  ] - 0.001).     
+00032ba0: 2020 2066 656d 6d2e 6d69 5f73 6574 626c     femm.mi_setbl
+00032bb0: 6f63 6b70 726f 7028 2746 6572 7269 7465  ockprop('Ferrite
+00032bc0: 272c 2061 7574 6f6d 6573 682c 206d 6573  ', automesh, mes
+00032bd0: 685f 7369 7a65 2c20 273c 4e6f 6e65 3e27  h_size, '<None>'
+00032be0: 2c20 302c 2030 2c20 3029 0a20 2020 2020  , 0, 0, 0).     
+00032bf0: 2020 2066 656d 6d2e 6d69 5f63 6c65 6172     femm.mi_clear
+00032c00: 7365 6c65 6374 6564 2829 0a0a 2020 2020  selected()..    
+00032c10: 2020 2020 2320 4c61 6265 6c73 2066 6f72      # Labels for
+00032c20: 2061 6972 0a20 2020 2020 2020 2069 6620   air.        if 
+00032c30: 7365 6c66 2e61 6972 5f67 6170 732e 6e75  self.air_gaps.nu
+00032c40: 6d62 6572 203d 3d20 303a 0a20 2020 2020  mber == 0:.     
+00032c50: 2020 2020 2020 2066 656d 6d2e 6d69 5f61         femm.mi_a
+00032c60: 6464 626c 6f63 6b6c 6162 656c 2873 656c  ddblocklabel(sel
+00032c70: 662e 7477 6f5f 645f 6178 692e 725f 696e  f.two_d_axi.r_in
+00032c80: 6e65 7220 2d20 302e 3030 3031 2c20 3029  ner - 0.0001, 0)
+00032c90: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
+00032ca0: 6d2e 6d69 5f73 656c 6563 746c 6162 656c  m.mi_selectlabel
+00032cb0: 2873 656c 662e 7477 6f5f 645f 6178 692e  (self.two_d_axi.
+00032cc0: 725f 696e 6e65 7220 2d20 302e 3030 312c  r_inner - 0.001,
+00032cd0: 2030 290a 2020 2020 2020 2020 2020 2020   0).            
+00032ce0: 6665 6d6d 2e6d 695f 7365 7462 6c6f 636b  femm.mi_setblock
+00032cf0: 7072 6f70 2827 4169 7227 2c20 6175 746f  prop('Air', auto
+00032d00: 6d65 7368 2c20 6d65 7368 5f73 697a 652c  mesh, mesh_size,
+00032d10: 2027 3c4e 6f6e 653e 272c 2030 2c20 312c   '<None>', 0, 1,
+00032d20: 2030 290a 2020 2020 2020 2020 2020 2020   0).            
+00032d30: 6665 6d6d 2e6d 695f 636c 6561 7273 656c  femm.mi_clearsel
+00032d40: 6563 7465 6428 290a 2020 2020 2020 2020  ected().        
+00032d50: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00032d60: 2020 6665 6d6d 2e6d 695f 6164 6462 6c6f    femm.mi_addblo
+00032d70: 636b 6c61 6265 6c28 302e 3030 312c 2030  cklabel(0.001, 0
+00032d80: 290a 2020 2020 2020 2020 2020 2020 6665  ).            fe
+00032d90: 6d6d 2e6d 695f 7365 6c65 6374 6c61 6265  mm.mi_selectlabe
+00032da0: 6c28 302e 3030 312c 2030 290a 2020 2020  l(0.001, 0).    
+00032db0: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00032dc0: 7365 7462 6c6f 636b 7072 6f70 2827 4169  setblockprop('Ai
+00032dd0: 7227 2c20 6175 746f 6d65 7368 2c20 6d65  r', automesh, me
+00032de0: 7368 5f73 697a 652c 2027 3c4e 6f6e 653e  sh_size, '<None>
+00032df0: 272c 2030 2c20 312c 2030 290a 2020 2020  ', 0, 1, 0).    
+00032e00: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00032e10: 636c 6561 7273 656c 6563 7465 6428 290a  clearselected().
+00032e20: 2020 2020 2020 2020 6665 6d6d 2e6d 695f          femm.mi_
+00032e30: 6164 6462 6c6f 636b 6c61 6265 6c28 7365  addblocklabel(se
+00032e40: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+00032e50: 7574 6572 5b33 2c20 305d 202b 2030 2e30  uter[3, 0] + 0.0
+00032e60: 3031 2c20 7365 6c66 2e74 776f 5f64 5f61  01, self.two_d_a
+00032e70: 7869 2e70 5f6f 7574 6572 5b33 2c20 315d  xi.p_outer[3, 1]
+00032e80: 202b 2030 2e30 3031 290a 2020 2020 2020   + 0.001).      
+00032e90: 2020 6665 6d6d 2e6d 695f 7365 6c65 6374    femm.mi_select
+00032ea0: 6c61 6265 6c28 7365 6c66 2e74 776f 5f64  label(self.two_d
+00032eb0: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
+00032ec0: 305d 202b 2030 2e30 3031 2c20 7365 6c66  0] + 0.001, self
+00032ed0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+00032ee0: 6572 5b33 2c20 315d 202b 2030 2e30 3031  er[3, 1] + 0.001
+00032ef0: 290a 2020 2020 2020 2020 6665 6d6d 2e6d  ).        femm.m
+00032f00: 695f 7365 7462 6c6f 636b 7072 6f70 2827  i_setblockprop('
+00032f10: 4169 7227 2c20 6175 746f 6d65 7368 2c20  Air', automesh, 
+00032f20: 6d65 7368 5f73 697a 652c 2027 3c4e 6f6e  mesh_size, '<Non
+00032f30: 653e 272c 2030 2c20 312c 2030 290a 2020  e>', 0, 1, 0).  
+00032f40: 2020 2020 2020 6665 6d6d 2e6d 695f 636c        femm.mi_cl
+00032f50: 6561 7273 656c 6563 7465 6428 290a 0a20  earselected().. 
+00032f60: 2020 2020 2020 2023 204e 6f77 2c20 7468         # Now, th
+00032f70: 6520 6669 6e69 7368 6564 2069 6e70 7574  e finished input
+00032f80: 2067 656f 6d65 7472 7920 6361 6e20 6265   geometry can be
+00032f90: 2064 6973 706c 6179 6564 2e0a 2020 2020   displayed..    
+00032fa0: 2020 2020 6665 6d6d 2e6d 695f 7a6f 6f6d      femm.mi_zoom
+00032fb0: 6e61 7475 7261 6c28 290a 2020 2020 2020  natural().      
+00032fc0: 2020 6665 6d6d 2e6d 695f 7361 7665 6173    femm.mi_saveas
+00032fd0: 286f 732e 7061 7468 2e6a 6f69 6e28 7365  (os.path.join(se
+00032fe0: 6c66 2e66 696c 655f 6461 7461 2e66 656d  lf.file_data.fem
+00032ff0: 6d5f 666f 6c64 6572 5f70 6174 682c 2027  m_folder_path, '
+00033000: 636f 696c 2e66 656d 2729 290a 2020 2020  coil.fem')).    
+00033010: 2020 2020 6665 6d6d 2e6d 695f 616e 616c      femm.mi_anal
+00033020: 797a 6528 290a 2020 2020 2020 2020 6665  yze().        fe
+00033030: 6d6d 2e6d 695f 6c6f 6164 736f 6c75 7469  mm.mi_loadsoluti
+00033040: 6f6e 2829 0a0a 2020 2020 2020 2020 2320  on()..        # 
+00033050: 3d3d 204c 6f67 2072 6573 756c 7473 203d  == Log results =
+00033060: 3d0a 2020 2020 2020 2020 7365 6c66 2e77  =.        self.w
+00033070: 7269 7465 5f66 656d 6d5f 6c6f 6728 290a  rite_femm_log().
+00033080: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00033090: 2020 2020 2023 2049 6620 7765 2077 6572       # If we wer
+000330a0: 6520 696e 7465 7265 7374 6564 2069 6e20  e interested in 
+000330b0: 7468 6520 666c 7578 2064 656e 7369 7479  the flux density
+000330c0: 2061 7420 7370 6563 6966 6963 2070 6f73   at specific pos
+000330d0: 6974 696f 6e73 2c0a 2020 2020 2020 2020  itions,.        
+000330e0: 2320 7765 2063 6f75 6c64 2069 6e71 7569  # we could inqui
+000330f0: 7265 2061 7420 7370 6563 6966 6963 2070  re at specific p
+00033100: 6f69 6e74 7320 6469 7265 6374 6c79 3a0a  oints directly:.
+00033110: 2020 2020 2020 2020 6230 203d 2066 656d          b0 = fem
+00033120: 6d2e 6d6f 5f67 6574 6228 302c 2030 290a  m.mo_getb(0, 0).
+00033130: 2020 2020 2020 2020 7365 6c66 2e66 656d          self.fem
+00033140: 6d74 5f70 7269 6e74 2827 466c 7578 2064  mt_print('Flux d
+00033150: 656e 7369 7479 2061 7420 7468 6520 6365  ensity at the ce
+00033160: 6e74 6572 206f 6620 7468 6520 6261 7220  nter of the bar 
+00033170: 6973 2025 6720 5427 2025 206e 702e 6162  is %g T' % np.ab
+00033180: 7328 6230 5b31 5d29 290a 2020 2020 2020  s(b0[1])).      
+00033190: 2020 6231 203d 2066 656d 6d2e 6d6f 5f67    b1 = femm.mo_g
+000331a0: 6574 6228 302e 3031 2c20 302e 3035 290a  etb(0.01, 0.05).
+000331b0: 2020 2020 2020 2020 7365 6c66 2e66 656d          self.fem
+000331c0: 6d74 5f70 7269 6e74 2866 2246 6c75 7820  mt_print(f"Flux 
+000331d0: 6465 6e73 6974 7920 6174 2072 3d31 636d  density at r=1cm
+000331e0: 2c20 7a3d 3563 6d20 6973 207b 6e70 2e61  , z=5cm is {np.a
+000331f0: 6273 2862 315b 315d 297d 2054 2229 0a0a  bs(b1[1])} T")..
+00033200: 2020 2020 2020 2020 2320 5468 6520 7072          # The pr
+00033210: 6f67 7261 6d20 7769 6c6c 2072 6570 6f72  ogram will repor
+00033220: 7420 7468 6520 7465 726d 696e 616c 2070  t the terminal p
+00033230: 726f 7065 7274 6965 7320 6f66 2074 6865  roperties of the
+00033240: 2063 6972 6375 6974 3a0a 2020 2020 2020   circuit:.      
+00033250: 2020 2320 6375 7272 656e 742c 2076 6f6c    # current, vol
+00033260: 7461 6765 2c20 616e 6420 666c 7578 206c  tage, and flux l
+00033270: 696e 6b61 6765 0a20 2020 2020 2020 2076  inkage.        v
+00033280: 616c 7320 3d20 6665 6d6d 2e6d 6f5f 6765  als = femm.mo_ge
+00033290: 7463 6972 6375 6974 7072 6f70 6572 7469  tcircuitproperti
+000332a0: 6573 2827 6963 6f69 6c27 290a 0a0a 2020  es('icoil')...  
+000332b0: 2020 2020 2020 2320 5b69 2c20 762c 205b        # [i, v, [
+000332c0: 5068 695d 5d20 3d20 4d4f 4765 7443 6972  Phi]] = MOGetCir
+000332d0: 6375 6974 5072 6f70 6572 7469 6573 5b22  cuitProperties["
+000332e0: 6963 6f69 6c22 5d0a 0a20 2020 2020 2020  icoil"]..       
+000332f0: 2023 2049 6620 7765 2077 6572 6520 696e   # If we were in
+00033300: 7465 7265 7374 6564 2069 6e20 696e 6475  terested in indu
+00033310: 6374 616e 6365 2c20 6974 2063 6f75 6c64  ctance, it could
+00033320: 2062 6520 6f62 7461 696e 6564 2062 790a   be obtained by.
+00033330: 2020 2020 2020 2020 2320 6469 7669 6469          # dividi
+00033340: 6e67 2066 6c75 7820 6c69 6e6b 6167 6520  ng flux linkage 
+00033350: 6279 2063 7572 7265 6e74 0a20 2020 2020  by current.     
+00033360: 2020 204c 203d 2031 3030 3020 2a20 6e70     L = 1000 * np
+00033370: 2e61 6273 2876 616c 735b 325d 2920 2f20  .abs(vals[2]) / 
+00033380: 6e70 2e61 6273 2876 616c 735b 305d 290a  np.abs(vals[0]).
+00033390: 2020 2020 2020 2020 7365 6c66 2e66 656d          self.fem
+000333a0: 6d74 5f70 7269 6e74 2827 5468 6520 7365  mt_print('The se
+000333b0: 6c66 2d69 6e64 7563 7461 6e63 6520 6f66  lf-inductance of
+000333c0: 2074 6865 2063 6f69 6c20 6973 2025 6720   the coil is %g 
+000333d0: 6d48 2720 2520 4c29 0a0a 2020 2020 2020  mH' % L)..      
+000333e0: 2020 2320 4f72 2077 6520 636f 756c 642c    # Or we could,
+000333f0: 2066 6f72 2065 7861 6d70 6c65 2c20 706c   for example, pl
+00033400: 6f74 2074 6865 2072 6573 756c 7473 2061  ot the results a
+00033410: 6c6f 6e67 2061 206c 696e 6520 7573 696e  long a line usin
+00033420: 670a 2020 2020 2020 2020 7a65 6520 3d20  g.        zee = 
+00033430: 5b5d 0a20 2020 2020 2020 2062 6565 203d  [].        bee =
+00033440: 205b 5d0a 2020 2020 2020 2020 666f 7220   [].        for 
+00033450: 6e20 696e 2072 616e 6765 282d 3130 302c  n in range(-100,
+00033460: 2031 3031 293a 0a20 2020 2020 2020 2020   101):.         
+00033470: 2020 2062 203d 2066 656d 6d2e 6d6f 5f67     b = femm.mo_g
+00033480: 6574 6228 302e 3031 2c20 6e29 0a20 2020  etb(0.01, n).   
+00033490: 2020 2020 2020 2020 207a 6565 2e61 7070           zee.app
+000334a0: 656e 6428 6e29 0a20 2020 2020 2020 2020  end(n).         
+000334b0: 2020 2062 6565 2e61 7070 656e 6428 625b     bee.append(b[
+000334c0: 315d 290a 0a20 2020 2020 2020 2070 6c74  1])..        plt
+000334d0: 2e70 6c6f 7428 7a65 652c 2062 6565 290a  .plot(zee, bee).
+000334e0: 2020 2020 2020 2020 706c 742e 796c 6162          plt.ylab
+000334f0: 656c 2827 466c 7578 2044 656e 7369 7479  el('Flux Density
+00033500: 2c20 5465 736c 6127 290a 2020 2020 2020  , Tesla').      
+00033510: 2020 706c 742e 786c 6162 656c 2827 4469    plt.xlabel('Di
+00033520: 7374 616e 6365 2061 6c6f 6e67 2074 6865  stance along the
+00033530: 207a 2d61 7869 732c 206d 6d27 290a 2020   z-axis, mm').  
+00033540: 2020 2020 2020 706c 742e 7469 746c 6528        plt.title(
+00033550: 2750 6c6f 7420 6f66 2066 6c75 7820 6465  'Plot of flux de
+00033560: 6e73 6974 7920 616c 6f6e 6720 7468 6520  nsity along the 
+00033570: 6178 6973 2729 0a20 2020 2020 2020 2070  axis').        p
+00033580: 6c74 2e73 686f 7728 290a 2020 2020 2020  lt.show().      
+00033590: 2020 2222 220a 2020 2020 2020 2020 2320    """.        # 
+000335a0: 5768 656e 2074 6865 2061 6e61 6c79 7369  When the analysi
+000335b0: 7320 6973 2063 6f6d 706c 6574 6564 2c20  s is completed, 
+000335c0: 4645 4d4d 2063 616e 2062 6520 7368 7574  FEMM can be shut
+000335d0: 2064 6f77 6e2e 0a20 2020 2020 2020 2023   down..        #
+000335e0: 2066 656d 6d2e 636c 6f73 6566 656d 6d28   femm.closefemm(
+000335f0: 290a 0a20 2020 2064 6566 2077 7269 7465  )..    def write
+00033600: 5f66 656d 6d5f 6c6f 6728 7365 6c66 293a  _femm_log(self):
+00033610: 0a20 2020 2020 2020 2022 2222 5772 6974  .        """Writ
+00033620: 6520 6c6f 6766 696c 6520 666f 7220 4645  e logfile for FE
+00033630: 4d4d 2c20 616e 6f74 6865 7220 6f70 656e  MM, another open
+00033640: 2073 6f75 7263 6520 746f 6f6c 2066 6f72   source tool for
+00033650: 2046 454d 2073 696d 756c 6174 696f 6e73   FEM simulations
+00033660: 2e22 2222 0a20 2020 2020 2020 2069 6620  .""".        if 
+00033670: 6f73 2e6e 616d 6520 3d3d 2027 6e74 273a  os.name == 'nt':
+00033680: 0a20 2020 2020 2020 2020 2020 2066 662e  .            ff.
+00033690: 696e 7374 616c 6c5f 7079 6665 6d6d 5f69  install_pyfemm_i
+000336a0: 665f 6d69 7373 696e 6728 290a 2020 2020  f_missing().    
+000336b0: 2020 2020 2020 2020 6966 206e 6f74 2073          if not s
+000336c0: 656c 662e 6665 6d6d 5f69 735f 696d 706f  elf.femm_is_impo
+000336d0: 7274 6564 3a0a 2020 2020 2020 2020 2020  rted:.          
+000336e0: 2020 2020 2020 676c 6f62 616c 7328 295b        globals()[
+000336f0: 2266 656d 6d22 5d20 3d20 5f5f 696d 706f  "femm"] = __impo
+00033700: 7274 5f5f 2822 6665 6d6d 2229 0a20 2020  rt__("femm").   
+00033710: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00033720: 662e 6665 6d6d 5f69 735f 696d 706f 7274  f.femm_is_import
+00033730: 6564 203d 2054 7275 650a 2020 2020 2020  ed = True.      
+00033740: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00033750: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
+00033760: 696f 6e28 2759 6f75 2061 7265 2075 7369  ion('You are usi
+00033770: 6e67 2061 2063 6f6d 7075 7465 7220 7468  ng a computer th
+00033780: 6174 2069 7320 6e6f 7420 7275 6e6e 696e  at is not runnin
+00033790: 6720 7769 6e64 6f77 732e 2027 0a20 2020  g windows. '.   
+000337a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000337b0: 2020 2020 2020 2020 2027 5468 6973 2063           'This c
+000337c0: 6f6d 6d61 6e64 2069 7320 6f6e 6c79 2065  ommand is only e
+000337d0: 7865 6375 7461 626c 6520 6f6e 2057 696e  xecutable on Win
+000337e0: 646f 7773 2063 6f6d 7075 7465 7273 2e27  dows computers.'
+000337f0: 290a 0a20 2020 2020 2020 2066 696c 6520  )..        file 
+00033800: 3d20 6f70 656e 2873 656c 662e 6669 6c65  = open(self.file
+00033810: 5f64 6174 612e 6665 6d6d 5f72 6573 756c  _data.femm_resul
+00033820: 7473 5f6c 6f67 5f70 6174 682c 2027 772b  ts_log_path, 'w+
+00033830: 272c 2065 6e63 6f64 696e 673d 2775 7466  ', encoding='utf
+00033840: 2d38 2729 0a0a 2020 2020 2020 2020 6c6f  -8')..        lo
+00033850: 6720 3d20 7b7d 0a0a 2020 2020 2020 2020  g = {}..        
+00033860: 2320 7365 6c66 2e66 656d 6d74 5f70 7269  # self.femmt_pri
+00033870: 6e74 2868 7973 745f 6c6f 7373 290a 2020  nt(hyst_loss).  
+00033880: 2020 2020 2020 2320 746d 7020 3d20 6665        # tmp = fe
+00033890: 6d6d 2e6d 6f5f 6765 7463 6972 6375 6974  mm.mo_getcircuit
+000338a0: 7072 6f70 6572 7469 6573 2827 5072 696d  properties('Prim
+000338b0: 6172 7927 290a 2020 2020 2020 2020 2320  ary').        # 
+000338c0: 7365 6c66 2e66 656d 6d74 5f70 7269 6e74  self.femmt_print
+000338d0: 2874 6d70 290a 2020 2020 2020 2020 2320  (tmp).        # 
+000338e0: 7365 6c66 2e74 6f74 5f6c 6f73 735f 6665  self.tot_loss_fe
+000338f0: 6d6d 203d 2030 2e35 202a 2074 6d70 5b30  mm = 0.5 * tmp[0
+00033900: 5d20 2a20 746d 705b 315d 0a20 2020 2020  ] * tmp[1].     
+00033910: 2020 2023 2073 656c 662e 6665 6d6d 745f     # self.femmt_
+00033920: 7072 696e 7428 7365 6c66 2e74 6f74 5f6c  print(self.tot_l
+00033930: 6f73 735f 6665 6d6d 290a 0a20 2020 2020  oss_femm)..     
+00033940: 2020 2023 2057 7269 7465 2043 6972 6375     # Write Circu
+00033950: 6974 2050 726f 7065 7274 6965 730a 2020  it Properties.  
+00033960: 2020 2020 2020 2320 6c6f 675b 2243 6972        # log["Cir
+00033970: 6375 6974 2050 726f 7065 7274 6965 7322  cuit Properties"
+00033980: 5d20 3d20 6665 6d6d 2e6d 6f5f 6765 7463  ] = femm.mo_getc
+00033990: 6972 6375 6974 7072 6f70 6572 7469 6573  ircuitproperties
+000339a0: 2827 5072 696d 6172 7927 290a 0a20 2020  ('Primary')..   
+000339b0: 2020 2020 2023 2057 7269 7465 2048 7973       # Write Hys
+000339c0: 7465 7265 7369 7320 4c6f 7373 6573 0a20  teresis Losses. 
+000339d0: 2020 2020 2020 2066 656d 6d2e 6d6f 5f67         femm.mo_g
+000339e0: 726f 7570 7365 6c65 6374 626c 6f63 6b28  roupselectblock(
+000339f0: 3029 0a20 2020 2020 2020 206c 6f67 5b22  0).        log["
+00033a00: 4879 7374 6572 6573 6973 204c 6f73 7365  Hysteresis Losse
+00033a10: 7322 5d20 3d20 6665 6d6d 2e6d 6f5f 626c  s"] = femm.mo_bl
+00033a20: 6f63 6b69 6e74 6567 7261 6c28 3329 0a20  ockintegral(3). 
+00033a30: 2020 2020 2020 2066 656d 6d2e 6d6f 5f63         femm.mo_c
+00033a40: 6c65 6172 626c 6f63 6b28 290a 0a20 2020  learblock()..   
+00033a50: 2020 2020 2023 2050 7269 6d61 7279 2057       # Primary W
+00033a60: 696e 6469 6e67 2063 6972 6375 6974 2050  inding circuit P
+00033a70: 726f 7065 7274 6965 730a 2020 2020 2020  roperties.      
+00033a80: 2020 2320 6369 7263 7569 745f 7072 6f70    # circuit_prop
+00033a90: 6572 7469 6573 5f70 7269 6d61 7279 203d  erties_primary =
+00033aa0: 2066 656d 6d2e 6d6f 5f67 6574 6369 7263   femm.mo_getcirc
+00033ab0: 7569 7470 726f 7065 7274 6965 7328 2750  uitproperties('P
+00033ac0: 7269 6d61 7279 2729 0a20 2020 2020 2020  rimary').       
+00033ad0: 2023 206c 6f67 5b22 5072 696d 6172 7920   # log["Primary 
+00033ae0: 4375 7272 656e 7422 5d20 3d20 6369 7263  Current"] = circ
+00033af0: 7569 745f 7072 6f70 6572 7469 6573 5f70  uit_properties_p
+00033b00: 7269 6d61 7279 5b30 5d0a 2020 2020 2020  rimary[0].      
+00033b10: 2020 2320 6c6f 675b 2250 7269 6d61 7279    # log["Primary
+00033b20: 2056 6f6c 7461 6765 225d 203d 205b 6369   Voltage"] = [ci
+00033b30: 7263 7569 745f 7072 6f70 6572 7469 6573  rcuit_properties
+00033b40: 5f70 7269 6d61 7279 5b31 5d2e 7265 616c  _primary[1].real
+00033b50: 2c20 6369 7263 7569 745f 7072 6f70 6572  , circuit_proper
+00033b60: 7469 6573 5f70 7269 6d61 7279 5b31 5d2e  ties_primary[1].
+00033b70: 696d 6167 5d0a 2020 2020 2020 2020 2320  imag].        # 
+00033b80: 6c6f 675b 2250 7269 6d61 7279 2046 6c75  log["Primary Flu
+00033b90: 7822 5d20 3d20 5b63 6972 6375 6974 5f70  x"] = [circuit_p
+00033ba0: 726f 7065 7274 6965 735f 7072 696d 6172  roperties_primar
+00033bb0: 795b 325d 2e72 6561 6c2c 2063 6972 6375  y[2].real, circu
+00033bc0: 6974 5f70 726f 7065 7274 6965 735f 7072  it_properties_pr
+00033bd0: 696d 6172 795b 325d 2e69 6d61 675d 0a20  imary[2].imag]. 
+00033be0: 2020 2020 2020 2023 206c 6f67 5b22 5072         # log["Pr
+00033bf0: 696d 6172 7920 5365 6c66 2049 6e64 7563  imary Self Induc
+00033c00: 7461 6e63 6522 5d20 3d20 5b63 6972 6375  tance"] = [circu
+00033c10: 6974 5f70 726f 7065 7274 6965 735f 7072  it_properties_pr
+00033c20: 696d 6172 795b 325d 2e72 6561 6c20 2f20  imary[2].real / 
+00033c30: 6369 7263 7569 745f 7072 6f70 6572 7469  circuit_properti
+00033c40: 6573 5f70 7269 6d61 7279 5b30 5d2c 0a20  es_primary[0],. 
+00033c50: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00033c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033c70: 2020 2020 2020 2020 2020 6369 7263 7569            circui
+00033c80: 745f 7072 6f70 6572 7469 6573 5f70 7269  t_properties_pri
+00033c90: 6d61 7279 5b32 5d2e 696d 6167 202f 2063  mary[2].imag / c
+00033ca0: 6972 6375 6974 5f70 726f 7065 7274 6965  ircuit_propertie
+00033cb0: 735f 7072 696d 6172 795b 305d 5d0a 2020  s_primary[0]].  
+00033cc0: 2020 2020 2020 2320 6c6f 675b 2250 7269        # log["Pri
+00033cd0: 6d61 7279 204d 6561 6e20 506f 7765 7222  mary Mean Power"
+00033ce0: 5d20 3d20 5b30 2e35 202a 2063 6972 6375  ] = [0.5 * circu
+00033cf0: 6974 5f70 726f 7065 7274 6965 735f 7072  it_properties_pr
+00033d00: 696d 6172 795b 315d 2e72 6561 6c20 2a20  imary[1].real * 
+00033d10: 6369 7263 7569 745f 7072 6f70 6572 7469  circuit_properti
+00033d20: 6573 5f70 7269 6d61 7279 5b30 5d2c 0a20  es_primary[0],. 
+00033d30: 2020 2020 2020 2023 2020 2020 2020 2020         #        
+00033d40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00033d50: 2020 2020 2030 2e35 202a 2063 6972 6375       0.5 * circu
+00033d60: 6974 5f70 726f 7065 7274 6965 735f 7072  it_properties_pr
+00033d70: 696d 6172 795b 315d 2e69 6d61 6720 2a20  imary[1].imag * 
+00033d80: 6369 7263 7569 745f 7072 6f70 6572 7469  circuit_properti
+00033d90: 6573 5f70 7269 6d61 7279 5b30 5d5d 0a20  es_primary[0]]. 
+00033da0: 2020 2020 2020 2066 6f72 2069 2069 6e20         for i in 
+00033db0: 7261 6e67 6528 6c65 6e28 7365 6c66 2e77  range(len(self.w
+00033dc0: 696e 6469 6e67 7329 293a 0a20 2020 2020  indings)):.     
+00033dd0: 2020 2020 2020 2063 6972 6375 6974 5f70         circuit_p
+00033de0: 726f 7065 7274 6965 7320 3d20 6665 6d6d  roperties = femm
+00033df0: 2e6d 6f5f 6765 7463 6972 6375 6974 7072  .mo_getcircuitpr
+00033e00: 6f70 6572 7469 6573 2827 5769 6e64 696e  operties('Windin
+00033e10: 6727 202b 2073 7472 2869 202b 2031 2929  g' + str(i + 1))
+00033e20: 0a20 2020 2020 2020 2020 2020 206c 6f67  .            log
+00033e30: 5b22 5769 6e64 696e 6722 202b 2073 7472  ["Winding" + str
+00033e40: 2869 202b 2031 2920 2b20 2220 4375 7272  (i + 1) + " Curr
+00033e50: 656e 7422 5d20 3d20 6369 7263 7569 745f  ent"] = circuit_
+00033e60: 7072 6f70 6572 7469 6573 5b30 5d0a 2020  properties[0].  
+00033e70: 2020 2020 2020 2020 2020 6c6f 675b 2257            log["W
+00033e80: 696e 6469 6e67 2220 2b20 7374 7228 6920  inding" + str(i 
+00033e90: 2b20 3129 202b 2022 2056 6f6c 7461 6765  + 1) + " Voltage
+00033ea0: 225d 203d 205b 6369 7263 7569 745f 7072  "] = [circuit_pr
+00033eb0: 6f70 6572 7469 6573 5b31 5d2e 7265 616c  operties[1].real
+00033ec0: 2c20 6369 7263 7569 745f 7072 6f70 6572  , circuit_proper
+00033ed0: 7469 6573 5b31 5d2e 696d 6167 5d0a 2020  ties[1].imag].  
+00033ee0: 2020 2020 2020 2020 2020 6c6f 675b 2257            log["W
+00033ef0: 696e 6469 6e67 2220 2b20 7374 7228 6920  inding" + str(i 
+00033f00: 2b20 3129 202b 2022 2046 6c75 7822 5d20  + 1) + " Flux"] 
+00033f10: 3d20 5b63 6972 6375 6974 5f70 726f 7065  = [circuit_prope
+00033f20: 7274 6965 735b 325d 2e72 6561 6c2c 2063  rties[2].real, c
+00033f30: 6972 6375 6974 5f70 726f 7065 7274 6965  ircuit_propertie
+00033f40: 735b 325d 2e69 6d61 675d 0a20 2020 2020  s[2].imag].     
+00033f50: 2020 2020 2020 2069 6620 6369 7263 7569         if circui
+00033f60: 745f 7072 6f70 6572 7469 6573 5b30 5d20  t_properties[0] 
+00033f70: 213d 2030 3a0a 2020 2020 2020 2020 2020  != 0:.          
+00033f80: 2020 2020 2020 6c6f 675b 2257 696e 6469        log["Windi
+00033f90: 6e67 2220 2b20 7374 7228 6920 2b20 3129  ng" + str(i + 1)
+00033fa0: 202b 2022 2053 656c 6620 496e 6475 6374   + " Self Induct
+00033fb0: 616e 6365 225d 203d 205b 6369 7263 7569  ance"] = [circui
+00033fc0: 745f 7072 6f70 6572 7469 6573 5b32 5d2e  t_properties[2].
+00033fd0: 7265 616c 202f 2063 6972 6375 6974 5f70  real / circuit_p
+00033fe0: 726f 7065 7274 6965 735b 305d 2c0a 2020  roperties[0],.  
+00033ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034030: 2020 6369 7263 7569 745f 7072 6f70 6572    circuit_proper
+00034040: 7469 6573 5b32 5d2e 696d 6167 202f 2063  ties[2].imag / c
+00034050: 6972 6375 6974 5f70 726f 7065 7274 6965  ircuit_propertie
+00034060: 735b 305d 5d0a 2020 2020 2020 2020 2020  s[0]].          
+00034070: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00034080: 2020 2020 2020 2020 6c6f 675b 2257 696e          log["Win
+00034090: 6469 6e67 2220 2b20 7374 7228 6920 2b20  ding" + str(i + 
+000340a0: 3129 202b 2022 2053 656c 6620 496e 6475  1) + " Self Indu
+000340b0: 6374 616e 6365 225d 203d 205b 302c 2030  ctance"] = [0, 0
+000340c0: 5d0a 2020 2020 2020 2020 2020 2020 6c6f  ].            lo
+000340d0: 675b 2257 696e 6469 6e67 2220 2b20 7374  g["Winding" + st
+000340e0: 7228 6920 2b20 3129 202b 2022 204d 6561  r(i + 1) + " Mea
+000340f0: 6e20 506f 7765 7222 5d20 3d20 5b30 2e35  n Power"] = [0.5
+00034100: 202a 2063 6972 6375 6974 5f70 726f 7065   * circuit_prope
+00034110: 7274 6965 735b 315d 2e72 6561 6c20 2a20  rties[1].real * 
+00034120: 6369 7263 7569 745f 7072 6f70 6572 7469  circuit_properti
+00034130: 6573 5b30 5d2c 0a20 2020 2020 2020 2020  es[0],.         
+00034140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034170: 2020 302e 3520 2a20 6369 7263 7569 745f    0.5 * circuit_
+00034180: 7072 6f70 6572 7469 6573 5b31 5d2e 696d  properties[1].im
+00034190: 6167 202a 2063 6972 6375 6974 5f70 726f  ag * circuit_pro
+000341a0: 7065 7274 6965 735b 305d 5d0a 0a20 2020  perties[0]]..   
+000341b0: 2020 2020 2020 2020 2023 204f 6274 6169           # Obtai
+000341c0: 6e20 7769 6e64 696e 6720 6c6f 7373 6573  n winding losses
+000341d0: 2066 6f72 2065 6163 6820 7769 6e64 696e   for each windin
+000341e0: 670a 2020 2020 2020 2020 2020 2020 6665  g.            fe
+000341f0: 6d6d 2e6d 6f5f 6772 6f75 7073 656c 6563  mm.mo_groupselec
+00034200: 7462 6c6f 636b 2869 202b 2032 290a 2020  tblock(i + 2).  
+00034210: 2020 2020 2020 2020 2020 6c6f 675b 2257            log["W
+00034220: 696e 6469 6e67 2220 2b20 7374 7228 6920  inding" + str(i 
+00034230: 2b20 3129 202b 2022 204c 6f73 7365 7322  + 1) + " Losses"
+00034240: 5d20 3d20 6665 6d6d 2e6d 6f5f 626c 6f63  ] = femm.mo_bloc
+00034250: 6b69 6e74 6567 7261 6c28 3629 2e72 6561  kintegral(6).rea
+00034260: 6c0a 2020 2020 2020 2020 2020 2020 6665  l.            fe
+00034270: 6d6d 2e6d 6f5f 636c 6561 7262 6c6f 636b  mm.mo_clearblock
+00034280: 2829 0a0a 2020 2020 2020 2020 6a73 6f6e  ()..        json
+00034290: 2e64 756d 7028 6c6f 672c 2066 696c 652c  .dump(log, file,
+000342a0: 2069 6e64 656e 743d 322c 2065 6e73 7572   indent=2, ensur
+000342b0: 655f 6173 6369 693d 4661 6c73 6529 0a20  e_ascii=False). 
+000342c0: 2020 2020 2020 2066 696c 652e 636c 6f73         file.clos
+000342d0: 6528 290a 0a20 2020 2040 7374 6174 6963  e()..    @static
+000342e0: 6d65 7468 6f64 0a20 2020 2064 6566 2063  method.    def c
+000342f0: 616c 6375 6c61 7465 5f70 6f69 6e74 5f61  alculate_point_a
+00034300: 7665 7261 6765 2878 313a 2066 6c6f 6174  verage(x1: float
+00034310: 2c20 7931 3a20 666c 6f61 742c 2078 323a  , y1: float, x2:
+00034320: 2066 6c6f 6174 2c20 7932 3a20 666c 6f61   float, y2: floa
+00034330: 7429 202d 3e20 5475 706c 655b 666c 6f61  t) -> Tuple[floa
+00034340: 742c 2066 6c6f 6174 5d3a 0a20 2020 2020  t, float]:.     
+00034350: 2020 2022 2222 4361 6c63 756c 6174 6520     """Calculate 
+00034360: 7468 6520 6d69 6464 6c65 2070 6f69 6e74  the middle point
+00034370: 2062 6574 7765 656e 2074 776f 2067 6976   between two giv
+00034380: 656e 2070 6f69 6e74 732e 0a0a 2020 2020  en points...    
+00034390: 2020 2020 3a70 6172 616d 2078 313a 2050      :param x1: P
+000343a0: 6f69 6e74 3120 780a 2020 2020 2020 2020  oint1 x.        
+000343b0: 3a74 7970 6520 7831 3a20 666c 6f61 740a  :type x1: float.
+000343c0: 2020 2020 2020 2020 3a70 6172 616d 2079          :param y
+000343d0: 313a 2050 6f69 6e74 3120 790a 2020 2020  1: Point1 y.    
+000343e0: 2020 2020 3a74 7970 6520 7931 3a20 666c      :type y1: fl
+000343f0: 6f61 740a 2020 2020 2020 2020 3a70 6172  oat.        :par
+00034400: 616d 2078 323a 2050 6f69 6e74 3220 780a  am x2: Point2 x.
+00034410: 2020 2020 2020 2020 3a74 7970 6520 7832          :type x2
+00034420: 3a20 666c 6f61 740a 2020 2020 2020 2020  : float.        
+00034430: 3a70 6172 616d 2079 323a 2050 6f69 6e74  :param y2: Point
+00034440: 3220 790a 2020 2020 2020 2020 3a74 7970  2 y.        :typ
+00034450: 6520 7932 3a20 666c 6f61 740a 2020 2020  e y2: float.    
+00034460: 2020 2020 3a72 6574 7572 6e3a 2041 7665      :return: Ave
+00034470: 7261 6765 2050 6f69 6e74 2078 2c20 790a  rage Point x, y.
+00034480: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
+00034490: 666c 6f61 742c 2066 6c6f 6174 0a20 2020  float, float.   
+000344a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+000344b0: 2023 2054 4f44 4f20 4d6f 7665 2074 6f20   # TODO Move to 
+000344c0: 6665 6d6d 745f 6675 6e63 7469 6f6e 730a  femmt_functions.
+000344d0: 2020 2020 2020 2020 7265 7475 726e 2028          return (
+000344e0: 7831 202b 2078 3229 202f 2032 2c20 2879  x1 + x2) / 2, (y
+000344f0: 3120 2b20 7932 2920 2f20 320a 0a20 2020  1 + y2) / 2..   
+00034500: 2064 6566 2066 656d 6d5f 7468 6572 6d61   def femm_therma
+00034510: 6c5f 7661 6c69 6461 7469 6f6e 2873 656c  l_validation(sel
+00034520: 662c 2074 6865 726d 616c 5f63 6f6e 6475  f, thermal_condu
+00034530: 6374 6976 6974 795f 6469 6374 3a20 4469  ctivity_dict: Di
+00034540: 6374 2c20 626f 756e 6461 7279 5f74 656d  ct, boundary_tem
+00034550: 7065 7261 7475 7265 3a20 4469 6374 2c20  perature: Dict, 
+00034560: 6361 7365 5f67 6170 5f74 6f70 3a20 666c  case_gap_top: fl
+00034570: 6f61 742c 0a20 2020 2020 2020 2020 2020  oat,.           
+00034580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034590: 2020 2020 2063 6173 655f 6761 705f 7269       case_gap_ri
+000345a0: 6768 743a 2066 6c6f 6174 2c20 6361 7365  ght: float, case
+000345b0: 5f67 6170 5f62 6f74 3a20 666c 6f61 7429  _gap_bot: float)
+000345c0: 3a0a 2020 2020 2020 2020 2222 2243 7265  :.        """Cre
+000345d0: 6174 6520 6120 7468 6572 6d61 6c20 6d6f  ate a thermal mo
+000345e0: 6465 6c20 696e 2066 656d 6d20 616e 6420  del in femm and 
+000345f0: 7369 6d75 6c61 7465 7320 6974 2077 6974  simulates it wit
+00034600: 6820 7468 6520 6769 7665 6e20 7468 6572  h the given ther
+00034610: 6d61 6c20 636f 6e64 7563 7469 7669 7469  mal conductiviti
+00034620: 6573 2e0a 0a20 2020 2020 2020 203a 7061  es...        :pa
+00034630: 7261 6d20 7468 6572 6d61 6c5f 636f 6e64  ram thermal_cond
+00034640: 7563 7469 7669 7479 5f64 6963 743a 2044  uctivity_dict: D
+00034650: 6963 7420 636f 6e74 6169 6e69 6e67 2063  ict containing c
+00034660: 6f6e 6475 6374 6976 6974 6965 7320 666f  onductivities fo
+00034670: 7220 6169 722c 2077 696e 6469 6e67 2c20  r air, winding, 
+00034680: 6361 7365 2c20 636f 7265 0a20 2020 2020  case, core.     
+00034690: 2020 203a 7479 7065 2074 6865 726d 616c     :type thermal
+000346a0: 5f63 6f6e 6475 6374 6976 6974 795f 6469  _conductivity_di
+000346b0: 6374 3a20 4469 6374 0a20 2020 2020 2020  ct: Dict.       
+000346c0: 203a 7061 7261 6d20 626f 756e 6461 7279   :param boundary
+000346d0: 5f74 656d 7065 7261 7475 7265 3a20 4469  _temperature: Di
+000346e0: 6374 2063 6f6e 7461 696e 696e 6720 7465  ct containing te
+000346f0: 6d70 6572 6174 7572 6573 206f 6e20 626f  mperatures on bo
+00034700: 756e 6461 7279 206c 696e 6573 0a20 2020  undary lines.   
+00034710: 2020 2020 203a 7479 7065 2062 6f75 6e64       :type bound
+00034720: 6172 795f 7465 6d70 6572 6174 7572 653a  ary_temperature:
+00034730: 2044 6963 740a 2020 2020 2020 2020 3a70   Dict.        :p
+00034740: 6172 616d 2063 6173 655f 6761 705f 746f  aram case_gap_to
+00034750: 703a 204c 656e 6774 6820 746f 7020 6361  p: Length top ca
+00034760: 7365 0a20 2020 2020 2020 203a 7479 7065  se.        :type
+00034770: 2063 6173 655f 6761 705f 746f 703a 2066   case_gap_top: f
+00034780: 6c6f 6174 0a20 2020 2020 2020 203a 7061  loat.        :pa
+00034790: 7261 6d20 6361 7365 5f67 6170 5f72 6967  ram case_gap_rig
+000347a0: 6874 3a20 4c65 6e67 7468 2072 6967 6874  ht: Length right
+000347b0: 2063 6173 650a 2020 2020 2020 2020 3a74   case.        :t
+000347c0: 7970 6520 6361 7365 5f67 6170 5f72 6967  ype case_gap_rig
+000347d0: 6874 3a20 666c 6f61 740a 2020 2020 2020  ht: float.      
+000347e0: 2020 3a70 6172 616d 2063 6173 655f 6761    :param case_ga
+000347f0: 705f 626f 743a 204c 656e 6774 6820 626f  p_bot: Length bo
+00034800: 7420 6361 7365 0a20 2020 2020 2020 203a  t case.        :
+00034810: 7479 7065 2063 6173 655f 6761 705f 626f  type case_gap_bo
+00034820: 743a 2066 6c6f 6174 0a20 2020 2020 2020  t: float.       
+00034830: 2022 2222 0a20 2020 2020 2020 2023 204f   """.        # O
+00034840: 7074 696f 6e61 6c20 7573 6167 6520 6f66  ptional usage of
+00034850: 2046 454d 4d20 746f 6f6c 2062 7920 4461   FEMM tool by Da
+00034860: 7669 6420 4d65 656b 6572 0a20 2020 2020  vid Meeker.     
+00034870: 2020 2023 2032 4420 4d65 7368 2061 6e64     # 2D Mesh and
+00034880: 2046 454d 2069 6e74 6572 6661 6365 7320   FEM interfaces 
+00034890: 286f 6e6c 7920 666f 7220 5769 6e64 6f77  (only for Window
+000348a0: 7320 6d61 6368 696e 6573 290a 2020 2020  s machines).    
+000348b0: 2020 2020 6966 206f 732e 6e61 6d65 203d      if os.name =
+000348c0: 3d20 276e 7427 3a0a 2020 2020 2020 2020  = 'nt':.        
+000348d0: 2020 2020 6666 2e69 6e73 7461 6c6c 5f70      ff.install_p
+000348e0: 7966 656d 6d5f 6966 5f6d 6973 7369 6e67  yfemm_if_missing
+000348f0: 2829 0a20 2020 2020 2020 2020 2020 2069  ().            i
+00034900: 6620 6e6f 7420 7365 6c66 2e66 656d 6d5f  f not self.femm_
+00034910: 6973 5f69 6d70 6f72 7465 643a 0a20 2020  is_imported:.   
+00034920: 2020 2020 2020 2020 2020 2020 2067 6c6f               glo
+00034930: 6261 6c73 2829 5b22 6665 6d6d 225d 203d  bals()["femm"] =
+00034940: 205f 5f69 6d70 6f72 745f 5f28 2266 656d   __import__("fem
+00034950: 6d22 290a 2020 2020 2020 2020 2020 2020  m").            
+00034960: 2020 2020 7365 6c66 2e66 656d 6d5f 6973      self.femm_is
+00034970: 5f69 6d70 6f72 7465 6420 3d20 5472 7565  _imported = True
+00034980: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00034990: 2020 2020 2020 2020 2020 2072 6169 7365             raise
+000349a0: 2045 7863 6570 7469 6f6e 2827 596f 7520   Exception('You 
+000349b0: 6172 6520 7573 696e 6720 6120 636f 6d70  are using a comp
+000349c0: 7574 6572 2074 6861 7420 6973 206e 6f74  uter that is not
+000349d0: 2072 756e 6e69 6e67 2077 696e 646f 7773   running windows
+000349e0: 2e20 270a 2020 2020 2020 2020 2020 2020  . '.            
+000349f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00034a00: 2754 6869 7320 636f 6d6d 616e 6420 6973  'This command is
+00034a10: 206f 6e6c 7920 6578 6563 7574 6162 6c65   only executable
+00034a20: 206f 6e20 5769 6e64 6f77 7320 636f 6d70   on Windows comp
+00034a30: 7574 6572 732e 2729 0a0a 2020 2020 2020  uters.')..      
+00034a40: 2020 2320 4765 7420 7061 7468 730a 2020    # Get paths.  
+00034a50: 2020 2020 2020 6665 6d6d 5f6d 6f64 656c        femm_model
+00034a60: 5f66 696c 655f 7061 7468 203d 206f 732e  _file_path = os.
+00034a70: 7061 7468 2e6a 6f69 6e28 7365 6c66 2e66  path.join(self.f
+00034a80: 696c 655f 6461 7461 2e66 656d 6d5f 666f  ile_data.femm_fo
+00034a90: 6c64 6572 5f70 6174 682c 2022 7468 6572  lder_path, "ther
+00034aa0: 6d61 6c2d 7661 6c69 6461 7469 6f6e 2e46  mal-validation.F
+00034ab0: 4548 2229 0a0a 2020 2020 2020 2020 7365  EH")..        se
+00034ac0: 6c66 2e66 696c 655f 6461 7461 2e63 7265  lf.file_data.cre
+00034ad0: 6174 655f 666f 6c64 6572 7328 7365 6c66  ate_folders(self
+00034ae0: 2e66 696c 655f 6461 7461 2e66 656d 6d5f  .file_data.femm_
+00034af0: 666f 6c64 6572 5f70 6174 6829 0a0a 2020  folder_path)..  
+00034b00: 2020 2020 2020 2320 4578 7472 6163 7420        # Extract 
+00034b10: 6c6f 7373 6573 0a20 2020 2020 2020 206c  losses.        l
+00034b20: 6f73 7365 7320 3d20 7265 6164 5f72 6573  osses = read_res
+00034b30: 756c 7473 5f6c 6f67 2873 656c 662e 6669  ults_log(self.fi
+00034b40: 6c65 5f64 6174 612e 655f 6d5f 7265 7375  le_data.e_m_resu
+00034b50: 6c74 735f 6c6f 675f 7061 7468 290a 0a20  lts_log_path).. 
+00034b60: 2020 2020 2020 2023 2045 7874 7261 6374         # Extract
+00034b70: 2077 6972 655f 7261 6469 690a 2020 2020   wire_radii.    
+00034b80: 2020 2020 7769 7265 5f72 6164 6969 203d      wire_radii =
+00034b90: 205b 7769 6e64 696e 672e 636f 6e64 7563   [winding.conduc
+00034ba0: 746f 725f 7261 6469 7573 2066 6f72 2077  tor_radius for w
+00034bb0: 696e 6469 6e67 2069 6e20 7365 6c66 2e77  inding in self.w
+00034bc0: 696e 6469 6e67 735d 0a0a 2020 2020 2020  indings]..      
+00034bd0: 2020 2320 3d3d 2049 6e69 7420 3d3d 0a20    # == Init ==. 
+00034be0: 2020 2020 2020 2066 656d 6d2e 6f70 656e         femm.open
+00034bf0: 6665 6d6d 2830 290a 2020 2020 2020 2020  femm(0).        
+00034c00: 6665 6d6d 2e6e 6577 646f 6375 6d65 6e74  femm.newdocument
+00034c10: 2832 290a 2020 2020 2020 2020 6665 6d6d  (2).        femm
+00034c20: 2e68 695f 7072 6f62 6465 6628 226d 6574  .hi_probdef("met
+00034c30: 6572 7322 2c20 2261 7869 222c 2031 2e65  ers", "axi", 1.e
+00034c40: 2d38 2c20 3029 0a0a 2020 2020 2020 2020  -8, 0)..        
+00034c50: 2320 3d3d 204d 6174 6572 6961 6c73 203d  # == Materials =
+00034c60: 3d0a 2020 2020 2020 2020 2320 436f 7265  =.        # Core
+00034c70: 0a20 2020 2020 2020 206b 5f63 6f72 6520  .        k_core 
+00034c80: 3d20 7468 6572 6d61 6c5f 636f 6e64 7563  = thermal_conduc
+00034c90: 7469 7669 7479 5f64 6963 745b 2263 6f72  tivity_dict["cor
+00034ca0: 6522 5d0a 2020 2020 2020 2020 715f 766f  e"].        q_vo
+00034cb0: 6c5f 636f 7265 203d 206c 6f73 7365 735b  l_core = losses[
+00034cc0: 2263 6f72 6522 5d20 2f20 7365 6c66 2e63  "core"] / self.c
+00034cd0: 616c 6375 6c61 7465 5f63 6f72 655f 766f  alculate_core_vo
+00034ce0: 6c75 6d65 2829 0a20 2020 2020 2020 2023  lume().        #
+00034cf0: 2063 5f63 6f72 6520 3d20 302e 3030 370a   c_core = 0.007.
+00034d00: 2020 2020 2020 2020 635f 636f 7265 203d          c_core =
+00034d10: 2030 0a0a 2020 2020 2020 2020 2320 4169   0..        # Ai
+00034d20: 720a 2020 2020 2020 2020 6b5f 6169 7220  r.        k_air 
+00034d30: 3d20 7468 6572 6d61 6c5f 636f 6e64 7563  = thermal_conduc
+00034d40: 7469 7669 7479 5f64 6963 745b 2261 6972  tivity_dict["air
+00034d50: 225d 0a20 2020 2020 2020 2071 5f76 6f6c  "].        q_vol
+00034d60: 5f61 6972 203d 2030 0a20 2020 2020 2020  _air = 0.       
+00034d70: 2023 2063 5f61 6972 203d 2031 3030 342e   # c_air = 1004.
+00034d80: 370a 2020 2020 2020 2020 635f 6169 7220  7.        c_air 
+00034d90: 3d20 300a 0a20 2020 2020 2020 2023 2057  = 0..        # W
+00034da0: 6972 650a 2020 2020 2020 2020 6b5f 7769  ire.        k_wi
+00034db0: 7265 203d 2074 6865 726d 616c 5f63 6f6e  re = thermal_con
+00034dc0: 6475 6374 6976 6974 795f 6469 6374 5b22  ductivity_dict["
+00034dd0: 7769 6e64 696e 6722 5d0a 2020 2020 2020  winding"].      
+00034de0: 2020 2320 635f 7769 7265 203d 2033 3835    # c_wire = 385
+00034df0: 0a20 2020 2020 2020 2063 5f77 6972 6520  .        c_wire 
+00034e00: 3d20 300a 0a20 2020 2020 2020 2023 2043  = 0..        # C
+00034e10: 6173 650a 2020 2020 2020 2020 6b5f 6361  ase.        k_ca
+00034e20: 7365 203d 2074 6865 726d 616c 5f63 6f6e  se = thermal_con
+00034e30: 6475 6374 6976 6974 795f 6469 6374 5b22  ductivity_dict["
+00034e40: 6361 7365 225d 5b0a 2020 2020 2020 2020  case"][.        
+00034e50: 2020 2020 2274 6f70 225d 2020 2320 446f      "top"]  # Do
+00034e60: 6573 206e 6f74 206d 6174 7465 7220 7768  es not matter wh
+00034e70: 656e 2074 6865 2072 6567 696f 6e73 2061  en the regions a
+00034e80: 6c6c 2068 6176 6520 7468 6520 7361 6d65  ll have the same
+00034e90: 2074 6865 726d 616c 2063 6f6e 6475 6374   thermal conduct
+00034ea0: 6976 6974 792e 0a20 2020 2020 2020 2071  ivity..        q
+00034eb0: 5f76 6f6c 5f63 6173 6520 3d20 300a 2020  _vol_case = 0.  
+00034ec0: 2020 2020 2020 2320 635f 6361 7365 203d        # c_case =
+00034ed0: 2030 2e30 310a 2020 2020 2020 2020 635f   0.01.        c_
+00034ee0: 6361 7365 203d 2030 0a0a 2020 2020 2020  case = 0..      
+00034ef0: 2020 2320 4169 7220 6761 700a 2020 2020    # Air gap.    
+00034f00: 2020 2020 6b5f 6169 725f 6761 7020 3d20      k_air_gap = 
+00034f10: 7468 6572 6d61 6c5f 636f 6e64 7563 7469  thermal_conducti
+00034f20: 7669 7479 5f64 6963 745b 2261 6972 5f67  vity_dict["air_g
+00034f30: 6170 7322 5d0a 2020 2020 2020 2020 715f  aps"].        q_
+00034f40: 766f 6c5f 6169 725f 6761 7020 3d20 300a  vol_air_gap = 0.
+00034f50: 2020 2020 2020 2020 635f 6169 725f 6761          c_air_ga
+00034f60: 7020 3d20 300a 0a20 2020 2020 2020 2023  p = 0..        #
+00034f70: 2053 6574 7570 2077 696e 6469 6e67 206c   Setup winding l
+00034f80: 6973 740a 2020 2020 2020 2020 7769 6e64  ist.        wind
+00034f90: 696e 675f 6c6f 7373 6573 5f6c 6973 7420  ing_losses_list 
+00034fa0: 3d20 5b5d 0a20 2020 2020 2020 2066 6f72  = [].        for
+00034fb0: 2069 2069 6e20 7261 6e67 6528 312c 2031   i in range(1, 1
+00034fc0: 3029 3a0a 2020 2020 2020 2020 2020 2020  0):.            
+00034fd0: 6b65 7920 3d20 6622 7769 6e64 696e 677b  key = f"winding{
+00034fe0: 697d 220a 2020 2020 2020 2020 2020 2020  i}".            
+00034ff0: 696e 6e65 725f 7769 6e64 696e 675f 6c69  inner_winding_li
+00035000: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
+00035010: 2020 2020 6966 206b 6579 2069 6e20 6c6f      if key in lo
+00035020: 7373 6573 3a0a 2020 2020 2020 2020 2020  sses:.          
+00035030: 2020 2020 2020 666f 7220 7769 6e64 696e        for windin
+00035040: 6720 696e 206c 6f73 7365 735b 6b65 795d  g in losses[key]
+00035050: 5b22 7475 726e 7322 5d3a 0a20 2020 2020  ["turns"]:.     
+00035060: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+00035070: 6e6e 6572 5f77 696e 6469 6e67 5f6c 6973  nner_winding_lis
+00035080: 742e 6170 7065 6e64 2877 696e 6469 6e67  t.append(winding
+00035090: 290a 2020 2020 2020 2020 2020 2020 7769  ).            wi
+000350a0: 6e64 696e 675f 6c6f 7373 6573 5f6c 6973  nding_losses_lis
+000350b0: 742e 6170 7065 6e64 2869 6e6e 6572 5f77  t.append(inner_w
+000350c0: 696e 6469 6e67 5f6c 6973 7429 0a0a 2020  inding_list)..  
+000350d0: 2020 2020 2020 2320 5365 7475 7020 6d61        # Setup ma
+000350e0: 7465 7269 616c 730a 2020 2020 2020 2020  terials.        
+000350f0: 6665 6d6d 2e68 695f 6164 646d 6174 6572  femm.hi_addmater
+00035100: 6961 6c28 2743 6f72 6527 2c20 6b5f 636f  ial('Core', k_co
+00035110: 7265 2c20 6b5f 636f 7265 2c20 715f 766f  re, k_core, q_vo
+00035120: 6c5f 636f 7265 2c20 635f 636f 7265 290a  l_core, c_core).
+00035130: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
+00035140: 6164 646d 6174 6572 6961 6c28 2741 6972  addmaterial('Air
+00035150: 272c 206b 5f61 6972 2c20 6b5f 6169 722c  ', k_air, k_air,
+00035160: 2071 5f76 6f6c 5f61 6972 2c20 635f 6169   q_vol_air, c_ai
+00035170: 7229 0a20 2020 2020 2020 2066 656d 6d2e  r).        femm.
+00035180: 6869 5f61 6464 6d61 7465 7269 616c 2827  hi_addmaterial('
+00035190: 4169 7220 4761 7073 272c 206b 5f61 6972  Air Gaps', k_air
+000351a0: 5f67 6170 2c20 6b5f 6169 725f 6761 702c  _gap, k_air_gap,
+000351b0: 2071 5f76 6f6c 5f61 6972 5f67 6170 2c20   q_vol_air_gap, 
+000351c0: 635f 6169 725f 6761 7029 0a20 2020 2020  c_air_gap).     
+000351d0: 2020 2077 6972 655f 6469 7374 616e 6365     wire_distance
+000351e0: 7320 3d20 7365 6c66 2e67 6574 5f77 6972  s = self.get_wir
+000351f0: 655f 6469 7374 616e 6365 7328 290a 0a20  e_distances().. 
+00035200: 2020 2020 2020 2023 2043 6865 636b 2074         # Check t
+00035210: 6865 2074 7970 6520 6f66 2063 6f6e 6475  he type of condu
+00035220: 6374 6f72 2066 6f72 2074 6869 7320 7769  ctor for this wi
+00035230: 6e64 696e 670a 2020 2020 2020 2020 666f  nding.        fo
+00035240: 7220 7769 6e64 696e 675f 696e 6465 782c  r winding_index,
+00035250: 2077 696e 6469 6e67 2069 6e20 656e 756d   winding in enum
+00035260: 6572 6174 6528 7769 6e64 696e 675f 6c6f  erate(winding_lo
+00035270: 7373 6573 5f6c 6973 7429 3a0a 2020 2020  sses_list):.    
+00035280: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+00035290: 2072 616e 6765 286c 656e 2877 696e 6469   range(len(windi
+000352a0: 6e67 2929 3a0a 2020 2020 2020 2020 2020  ng)):.          
+000352b0: 2020 2020 2020 2320 4164 6420 6120 6e65        # Add a ne
+000352c0: 7720 6d61 7465 7269 616c 2074 6f20 4645  w material to FE
+000352d0: 4d4d 2077 6974 6820 4c69 747a 2063 6f6e  MM with Litz con
+000352e0: 6475 6374 6f72 2070 726f 7065 7274 6965  ductor propertie
+000352f0: 730a 2020 2020 2020 2020 2020 2020 2020  s.              
+00035300: 2020 6665 6d6d 2e68 695f 6164 646d 6174    femm.hi_addmat
+00035310: 6572 6961 6c28 6627 5769 7265 5f7b 7769  erial(f'Wire_{wi
+00035320: 6e64 696e 675f 696e 6465 787d 5f7b 697d  nding_index}_{i}
+00035330: 272c 206b 5f77 6972 652c 206b 5f77 6972  ', k_wire, k_wir
+00035340: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00035350: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035360: 2020 2020 2020 2063 616c 6375 6c61 7465         calculate
+00035370: 5f68 6561 745f 666c 7578 5f72 6f75 6e64  _heat_flux_round
+00035380: 5f77 6972 6528 7769 6e64 696e 675b 695d  _wire(winding[i]
+00035390: 2c20 7769 7265 5f72 6164 6969 5b77 696e  , wire_radii[win
+000353a0: 6469 6e67 5f69 6e64 6578 5d2c 0a20 2020  ding_index],.   
+000353b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000353c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 000353d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000353e0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-000353f0: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
-00035400: 6e64 6f77 5b36 2c20 315d 290a 2020 2020  ndow[6, 1]).    
-00035410: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00035420: 6472 6177 6c69 6e65 2873 656c 662e 7477  drawline(self.tw
-00035430: 6f5f 645f 6178 692e 705f 7769 6e64 6f77  o_d_axi.p_window
-00035440: 5b36 2c20 305d 2c0a 2020 2020 2020 2020  [6, 0],.        
-00035450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035460: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-00035470: 6178 692e 705f 7769 6e64 6f77 5b36 2c20  axi.p_window[6, 
-00035480: 315d 2c0a 2020 2020 2020 2020 2020 2020  1],.            
-00035490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000354a0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-000354b0: 705f 7769 6e64 6f77 5b34 2c20 305d 2c0a  p_window[4, 0],.
-000354c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000354d0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-000354e0: 662e 7477 6f5f 645f 6178 692e 705f 7769  f.two_d_axi.p_wi
-000354f0: 6e64 6f77 5b34 2c20 315d 290a 2020 2020  ndow[4, 1]).    
-00035500: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00035510: 6472 6177 6c69 6e65 2830 2c0a 2020 2020  drawline(0,.    
-00035520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035530: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
-00035540: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-00035550: 322c 2031 5d2c 0a20 2020 2020 2020 2020  2, 1],.         
-00035560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035570: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00035580: 7869 2e70 5f6f 7574 6572 5b33 2c20 305d  xi.p_outer[3, 0]
-00035590: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000355a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000355b0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000355c0: 6f75 7465 725b 332c 2031 5d29 0a20 2020  outer[3, 1]).   
-000355d0: 2020 2020 2020 2020 2066 656d 6d2e 6869           femm.hi
-000355e0: 5f64 7261 776c 696e 6528 7365 6c66 2e74  _drawline(self.t
-000355f0: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
-00035600: 5b33 2c20 305d 2c0a 2020 2020 2020 2020  [3, 0],.        
-00035610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035620: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-00035630: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
-00035640: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00035650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035660: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00035670: 5f6f 7574 6572 5b31 2c20 305d 2c0a 2020  _outer[1, 0],.  
-00035680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035690: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000356a0: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-000356b0: 725b 312c 2031 5d29 0a20 2020 2020 2020  r[1, 1]).       
-000356c0: 2020 2020 2066 656d 6d2e 6869 5f64 7261       femm.hi_dra
-000356d0: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
-000356e0: 5f61 7869 2e70 5f6f 7574 6572 5b31 2c20  _axi.p_outer[1, 
-000356f0: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
-00035700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035710: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-00035720: 705f 6f75 7465 725b 312c 2031 5d2c 0a20  p_outer[1, 1],. 
+000353e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000353f0: 7769 7265 5f64 6973 7461 6e63 6573 5b77  wire_distances[w
+00035400: 696e 6469 6e67 5f69 6e64 6578 5d5b 695d  inding_index][i]
+00035410: 292c 2063 5f77 6972 6529 0a20 2020 2020  ), c_wire).     
+00035420: 2020 2066 656d 6d2e 6869 5f61 6464 6d61     femm.hi_addma
+00035430: 7465 7269 616c 2827 4361 7365 272c 206b  terial('Case', k
+00035440: 5f63 6173 652c 206b 5f63 6173 652c 2071  _case, k_case, q
+00035450: 5f76 6f6c 5f63 6173 652c 2063 5f63 6173  _vol_case, c_cas
+00035460: 6529 0a0a 2020 2020 2020 2020 2320 4164  e)..        # Ad
+00035470: 6420 626f 756e 6461 7279 2063 6f6e 6469  d boundary condi
+00035480: 7469 6f6e 0a20 2020 2020 2020 2066 656d  tion.        fem
+00035490: 6d2e 6869 5f61 6464 626f 756e 6470 726f  m.hi_addboundpro
+000354a0: 7028 2242 6f75 6e64 6172 7922 2c20 302c  p("Boundary", 0,
+000354b0: 2062 6f75 6e64 6172 795f 7465 6d70 6572   boundary_temper
+000354c0: 6174 7572 652c 2030 2c20 302c 2030 2c20  ature, 0, 0, 0, 
+000354d0: 3029 0a20 2020 2020 2020 2066 656d 6d2e  0).        femm.
+000354e0: 6869 5f61 6464 626f 756e 6470 726f 7028  hi_addboundprop(
+000354f0: 224e 6575 6d61 6e6e 426f 756e 6461 7279  "NeumannBoundary
+00035500: 222c 2031 2c20 302c 2030 2c20 302c 2030  ", 1, 0, 0, 0, 0
+00035510: 2c20 3029 0a0a 2020 2020 2020 2020 2320  , 0)..        # 
+00035520: 3d3d 2047 656f 6d65 7472 7920 3d3d 0a20  == Geometry ==. 
+00035530: 2020 2020 2020 2073 656c 662e 6869 6768         self.high
+00035540: 5f6c 6576 656c 5f67 656f 5f67 656e 2829  _level_geo_gen()
+00035550: 0a20 2020 2020 2020 2023 2041 6464 2063  .        # Add c
+00035560: 6f72 650a 2020 2020 2020 2020 6966 2073  ore.        if s
+00035570: 656c 662e 6169 725f 6761 7073 2e6e 756d  elf.air_gaps.num
+00035580: 6265 7220 3d3d 2030 3a0a 2020 2020 2020  ber == 0:.      
+00035590: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
+000355a0: 6177 6c69 6e65 2873 656c 662e 7477 6f5f  awline(self.two_
+000355b0: 645f 6178 692e 705f 7769 6e64 6f77 5b34  d_axi.p_window[4
+000355c0: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
+000355d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000355e0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+000355f0: 692e 705f 7769 6e64 6f77 5b34 2c20 315d  i.p_window[4, 1]
+00035600: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00035610: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00035620: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00035630: 7769 6e64 6f77 5b35 2c20 305d 2c0a 2020  window[5, 0],.  
+00035640: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035650: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00035660: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+00035670: 6f77 5b35 2c20 315d 290a 2020 2020 2020  ow[5, 1]).      
+00035680: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
+00035690: 6177 6c69 6e65 2873 656c 662e 7477 6f5f  awline(self.two_
+000356a0: 645f 6178 692e 705f 7769 6e64 6f77 5b35  d_axi.p_window[5
+000356b0: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
+000356c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000356d0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+000356e0: 692e 705f 7769 6e64 6f77 5b35 2c20 315d  i.p_window[5, 1]
+000356f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00035700: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00035710: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00035720: 7769 6e64 6f77 5b37 2c20 305d 2c0a 2020  window[7, 0],.  
 00035730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035740: 2020 2020 2020 2020 2020 2020 302c 0a20              0,. 
-00035750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035760: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00035770: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-00035780: 6572 5b30 2c20 315d 290a 2020 2020 2020  er[0, 1]).      
-00035790: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
-000357a0: 6177 6c69 6e65 2830 2c0a 2020 2020 2020  awline(0,.      
+00035740: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00035750: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+00035760: 6f77 5b37 2c20 315d 290a 2020 2020 2020  ow[7, 1]).      
+00035770: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
+00035780: 6177 6c69 6e65 2873 656c 662e 7477 6f5f  awline(self.two_
+00035790: 645f 6178 692e 705f 7769 6e64 6f77 5b37  d_axi.p_window[7
+000357a0: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
 000357b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000357c0: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-000357d0: 645f 6178 692e 705f 6f75 7465 725b 302c  d_axi.p_outer[0,
-000357e0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
-000357f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035800: 2020 302c 0a20 2020 2020 2020 2020 2020    0,.           
-00035810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035820: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-00035830: 2e70 5f6f 7574 6572 5b32 2c20 315d 290a  .p_outer[2, 1]).
-00035840: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
-00035850: 662e 6169 725f 6761 7073 2e6e 756d 6265  f.air_gaps.numbe
-00035860: 7220 3e20 303a 0a20 2020 2020 2020 2020  r > 0:.         
-00035870: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
-00035880: 696e 6528 302c 0a20 2020 2020 2020 2020  ine(0,.         
-00035890: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000358a0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-000358b0: 7869 2e70 5f61 6972 5f67 6170 735b 302c  xi.p_air_gaps[0,
-000358c0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
-000358d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000358e0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-000358f0: 2e70 5f61 6972 5f67 6170 735b 312c 2030  .p_air_gaps[1, 0
-00035900: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000357c0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+000357d0: 692e 705f 7769 6e64 6f77 5b37 2c20 315d  i.p_window[7, 1]
+000357e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000357f0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00035800: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00035810: 7769 6e64 6f77 5b36 2c20 305d 2c0a 2020  window[6, 0],.  
+00035820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035830: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00035840: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+00035850: 6f77 5b36 2c20 315d 290a 2020 2020 2020  ow[6, 1]).      
+00035860: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
+00035870: 6177 6c69 6e65 2873 656c 662e 7477 6f5f  awline(self.two_
+00035880: 645f 6178 692e 705f 7769 6e64 6f77 5b36  d_axi.p_window[6
+00035890: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
+000358a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000358b0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+000358c0: 692e 705f 7769 6e64 6f77 5b36 2c20 315d  i.p_window[6, 1]
+000358d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000358e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000358f0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00035900: 7769 6e64 6f77 5b34 2c20 305d 2c0a 2020  window[4, 0],.  
 00035910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035920: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00035930: 5f61 6972 5f67 6170 735b 312c 2031 5d29  _air_gaps[1, 1])
-00035940: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
-00035950: 6d2e 6869 5f64 7261 776c 696e 6528 7365  m.hi_drawline(se
-00035960: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f61  lf.two_d_axi.p_a
-00035970: 6972 5f67 6170 735b 312c 2030 5d2c 0a20  ir_gaps[1, 0],. 
-00035980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035990: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000359a0: 2e74 776f 5f64 5f61 7869 2e70 5f61 6972  .two_d_axi.p_air
-000359b0: 5f67 6170 735b 312c 2031 5d2c 0a20 2020  _gaps[1, 1],.   
-000359c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000359d0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-000359e0: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
-000359f0: 775b 342c 2030 5d2c 0a20 2020 2020 2020  w[4, 0],.       
-00035a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035a10: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00035a20: 5f61 7869 2e70 5f77 696e 646f 775b 342c  _axi.p_window[4,
-00035a30: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
-00035a40: 2066 656d 6d2e 6869 5f64 7261 776c 696e   femm.hi_drawlin
-00035a50: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
-00035a60: 2e70 5f77 696e 646f 775b 342c 2030 5d2c  .p_window[4, 0],
-00035a70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00035a80: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00035a90: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
-00035aa0: 696e 646f 775b 342c 2031 5d2c 0a20 2020  indow[4, 1],.   
-00035ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035ac0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-00035ad0: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
-00035ae0: 775b 352c 2030 5d2c 0a20 2020 2020 2020  w[5, 0],.       
-00035af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035b00: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00035b10: 5f61 7869 2e70 5f77 696e 646f 775b 352c  _axi.p_window[5,
-00035b20: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
-00035b30: 2066 656d 6d2e 6869 5f64 7261 776c 696e   femm.hi_drawlin
-00035b40: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
-00035b50: 2e70 5f77 696e 646f 775b 352c 2030 5d2c  .p_window[5, 0],
-00035b60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00035b70: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00035b80: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
-00035b90: 696e 646f 775b 352c 2031 5d2c 0a20 2020  indow[5, 1],.   
+00035920: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00035930: 7477 6f5f 645f 6178 692e 705f 7769 6e64  two_d_axi.p_wind
+00035940: 6f77 5b34 2c20 315d 290a 2020 2020 2020  ow[4, 1]).      
+00035950: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
+00035960: 6177 6c69 6e65 2830 2c0a 2020 2020 2020  awline(0,.      
+00035970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035980: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+00035990: 645f 6178 692e 705f 6f75 7465 725b 322c  d_axi.p_outer[2,
+000359a0: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+000359b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000359c0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+000359d0: 2e70 5f6f 7574 6572 5b33 2c20 305d 2c0a  .p_outer[3, 0],.
+000359e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000359f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00035a00: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00035a10: 7465 725b 332c 2031 5d29 0a20 2020 2020  ter[3, 1]).     
+00035a20: 2020 2020 2020 2066 656d 6d2e 6869 5f64         femm.hi_d
+00035a30: 7261 776c 696e 6528 7365 6c66 2e74 776f  rawline(self.two
+00035a40: 5f64 5f61 7869 2e70 5f6f 7574 6572 5b33  _d_axi.p_outer[3
+00035a50: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
+00035a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035a70: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+00035a80: 692e 705f 6f75 7465 725b 332c 2031 5d2c  i.p_outer[3, 1],
+00035a90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00035aa0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00035ab0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+00035ac0: 7574 6572 5b31 2c20 305d 2c0a 2020 2020  uter[1, 0],.    
+00035ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035ae0: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+00035af0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+00035b00: 312c 2031 5d29 0a20 2020 2020 2020 2020  1, 1]).         
+00035b10: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
+00035b20: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
+00035b30: 7869 2e70 5f6f 7574 6572 5b31 2c20 305d  xi.p_outer[1, 0]
+00035b40: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00035b50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+00035b60: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00035b70: 6f75 7465 725b 312c 2031 5d2c 0a20 2020  outer[1, 1],.   
+00035b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035b90: 2020 2020 2020 2020 2020 302c 0a20 2020            0,.   
 00035ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00035bb0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-00035bc0: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
-00035bd0: 775b 372c 2030 5d2c 0a20 2020 2020 2020  w[7, 0],.       
-00035be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035bf0: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00035c00: 5f61 7869 2e70 5f77 696e 646f 775b 372c  _axi.p_window[7,
-00035c10: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
-00035c20: 2066 656d 6d2e 6869 5f64 7261 776c 696e   femm.hi_drawlin
-00035c30: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
-00035c40: 2e70 5f77 696e 646f 775b 372c 2030 5d2c  .p_window[7, 0],
-00035c50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00035c60: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00035c70: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
-00035c80: 696e 646f 775b 372c 2031 5d2c 0a20 2020  indow[7, 1],.   
-00035c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035ca0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-00035cb0: 776f 5f64 5f61 7869 2e70 5f77 696e 646f  wo_d_axi.p_windo
-00035cc0: 775b 362c 2030 5d2c 0a20 2020 2020 2020  w[6, 0],.       
-00035cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035ce0: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00035cf0: 5f61 7869 2e70 5f77 696e 646f 775b 362c  _axi.p_window[6,
-00035d00: 2031 5d29 0a20 2020 2020 2020 2020 2020   1]).           
-00035d10: 2066 656d 6d2e 6869 5f64 7261 776c 696e   femm.hi_drawlin
-00035d20: 6528 7365 6c66 2e74 776f 5f64 5f61 7869  e(self.two_d_axi
-00035d30: 2e70 5f77 696e 646f 775b 362c 2030 5d2c  .p_window[6, 0],
-00035d40: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00035d50: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00035d60: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f77  lf.two_d_axi.p_w
-00035d70: 696e 646f 775b 362c 2031 5d2c 0a20 2020  indow[6, 1],.   
-00035d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035d90: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-00035da0: 776f 5f64 5f61 7869 2e70 5f61 6972 5f67  wo_d_axi.p_air_g
-00035db0: 6170 735b 332c 2030 5d2c 0a20 2020 2020  aps[3, 0],.     
-00035dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035dd0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
-00035de0: 5f64 5f61 7869 2e70 5f61 6972 5f67 6170  _d_axi.p_air_gap
-00035df0: 735b 332c 2031 5d29 0a20 2020 2020 2020  s[3, 1]).       
-00035e00: 2020 2020 2066 656d 6d2e 6869 5f64 7261       femm.hi_dra
-00035e10: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
-00035e20: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
-00035e30: 332c 2030 5d2c 0a20 2020 2020 2020 2020  3, 0],.         
-00035e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035e50: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00035e60: 7869 2e70 5f61 6972 5f67 6170 735b 332c  xi.p_air_gaps[3,
-00035e70: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
-00035e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035e90: 2020 302c 0a20 2020 2020 2020 2020 2020    0,.           
-00035ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035eb0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-00035ec0: 2e70 5f61 6972 5f67 6170 735b 322c 2031  .p_air_gaps[2, 1
-00035ed0: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
-00035ee0: 656d 6d2e 6869 5f64 7261 776c 696e 6528  emm.hi_drawline(
-00035ef0: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00035bc0: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+00035bd0: 5b30 2c20 315d 290a 2020 2020 2020 2020  [0, 1]).        
+00035be0: 2020 2020 6665 6d6d 2e68 695f 6472 6177      femm.hi_draw
+00035bf0: 6c69 6e65 2830 2c0a 2020 2020 2020 2020  line(0,.        
+00035c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035c10: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+00035c20: 6178 692e 705f 6f75 7465 725b 302c 2031  axi.p_outer[0, 1
+00035c30: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00035c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035c50: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00035c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035c70: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00035c80: 5f6f 7574 6572 5b32 2c20 315d 290a 2020  _outer[2, 1]).  
+00035c90: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
+00035ca0: 6169 725f 6761 7073 2e6e 756d 6265 7220  air_gaps.number 
+00035cb0: 3e20 303a 0a20 2020 2020 2020 2020 2020  > 0:.           
+00035cc0: 2066 656d 6d2e 6869 5f64 7261 776c 696e   femm.hi_drawlin
+00035cd0: 6528 302c 0a20 2020 2020 2020 2020 2020  e(0,.           
+00035ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035cf0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00035d00: 2e70 5f61 6972 5f67 6170 735b 302c 2031  .p_air_gaps[0, 1
+00035d10: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00035d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035d30: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00035d40: 5f61 6972 5f67 6170 735b 312c 2030 5d2c  _air_gaps[1, 0],
+00035d50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00035d60: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00035d70: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f61  lf.two_d_axi.p_a
+00035d80: 6972 5f67 6170 735b 312c 2031 5d29 0a20  ir_gaps[1, 1]). 
+00035d90: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
+00035da0: 6869 5f64 7261 776c 696e 6528 7365 6c66  hi_drawline(self
+00035db0: 2e74 776f 5f64 5f61 7869 2e70 5f61 6972  .two_d_axi.p_air
+00035dc0: 5f67 6170 735b 312c 2030 5d2c 0a20 2020  _gaps[1, 0],.   
+00035dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035de0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+00035df0: 776f 5f64 5f61 7869 2e70 5f61 6972 5f67  wo_d_axi.p_air_g
+00035e00: 6170 735b 312c 2031 5d2c 0a20 2020 2020  aps[1, 1],.     
+00035e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035e20: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+00035e30: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
+00035e40: 342c 2030 5d2c 0a20 2020 2020 2020 2020  4, 0],.         
+00035e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035e60: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00035e70: 7869 2e70 5f77 696e 646f 775b 342c 2031  xi.p_window[4, 1
+00035e80: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
+00035e90: 656d 6d2e 6869 5f64 7261 776c 696e 6528  emm.hi_drawline(
+00035ea0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00035eb0: 5f77 696e 646f 775b 342c 2030 5d2c 0a20  _window[4, 0],. 
+00035ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035ed0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00035ee0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
+00035ef0: 646f 775b 342c 2031 5d2c 0a20 2020 2020  dow[4, 1],.     
 00035f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035f10: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00035f20: 5f61 6972 5f67 6170 735b 322c 2031 5d2c  _air_gaps[2, 1],
-00035f30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00035f40: 2020 2020 2020 2020 2020 2020 2020 302c                0,
-00035f50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00035f60: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00035f70: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-00035f80: 7574 6572 5b32 2c20 315d 290a 2020 2020  uter[2, 1]).    
-00035f90: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00035fa0: 6472 6177 6c69 6e65 2830 2c0a 2020 2020  drawline(0,.    
+00035f10: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+00035f20: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
+00035f30: 352c 2030 5d2c 0a20 2020 2020 2020 2020  5, 0],.         
+00035f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00035f50: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00035f60: 7869 2e70 5f77 696e 646f 775b 352c 2031  xi.p_window[5, 1
+00035f70: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
+00035f80: 656d 6d2e 6869 5f64 7261 776c 696e 6528  emm.hi_drawline(
+00035f90: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00035fa0: 5f77 696e 646f 775b 352c 2030 5d2c 0a20  _window[5, 0],. 
 00035fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00035fc0: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
-00035fd0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-00035fe0: 322c 2031 5d2c 0a20 2020 2020 2020 2020  2, 1],.         
+00035fc0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00035fd0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
+00035fe0: 646f 775b 352c 2031 5d2c 0a20 2020 2020  dow[5, 1],.     
 00035ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036000: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00036010: 7869 2e70 5f6f 7574 6572 5b33 2c20 305d  xi.p_outer[3, 0]
-00036020: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00036030: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00036040: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00036050: 6f75 7465 725b 332c 2031 5d29 0a20 2020  outer[3, 1]).   
-00036060: 2020 2020 2020 2020 2066 656d 6d2e 6869           femm.hi
-00036070: 5f64 7261 776c 696e 6528 7365 6c66 2e74  _drawline(self.t
-00036080: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
-00036090: 5b33 2c20 305d 2c0a 2020 2020 2020 2020  [3, 0],.        
+00036000: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+00036010: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
+00036020: 372c 2030 5d2c 0a20 2020 2020 2020 2020  7, 0],.         
+00036030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036040: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00036050: 7869 2e70 5f77 696e 646f 775b 372c 2031  xi.p_window[7, 1
+00036060: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
+00036070: 656d 6d2e 6869 5f64 7261 776c 696e 6528  emm.hi_drawline(
+00036080: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00036090: 5f77 696e 646f 775b 372c 2030 5d2c 0a20  _window[7, 0],. 
 000360a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000360b0: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-000360c0: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
-000360d0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000360b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000360c0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
+000360d0: 646f 775b 372c 2031 5d2c 0a20 2020 2020  dow[7, 1],.     
 000360e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000360f0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00036100: 5f6f 7574 6572 5b31 2c20 305d 2c0a 2020  _outer[1, 0],.  
-00036110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036120: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00036130: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-00036140: 725b 312c 2031 5d29 0a20 2020 2020 2020  r[1, 1]).       
-00036150: 2020 2020 2066 656d 6d2e 6869 5f64 7261       femm.hi_dra
-00036160: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
-00036170: 5f61 7869 2e70 5f6f 7574 6572 5b31 2c20  _axi.p_outer[1, 
-00036180: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
+000360f0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+00036100: 5f64 5f61 7869 2e70 5f77 696e 646f 775b  _d_axi.p_window[
+00036110: 362c 2030 5d2c 0a20 2020 2020 2020 2020  6, 0],.         
+00036120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036130: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00036140: 7869 2e70 5f77 696e 646f 775b 362c 2031  xi.p_window[6, 1
+00036150: 5d29 0a20 2020 2020 2020 2020 2020 2066  ]).            f
+00036160: 656d 6d2e 6869 5f64 7261 776c 696e 6528  emm.hi_drawline(
+00036170: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00036180: 5f77 696e 646f 775b 362c 2030 5d2c 0a20  _window[6, 0],. 
 00036190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000361a0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-000361b0: 705f 6f75 7465 725b 312c 2031 5d2c 0a20  p_outer[1, 1],. 
-000361c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000361d0: 2020 2020 2020 2020 2020 2020 302c 0a20              0,. 
-000361e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000361f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00036200: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-00036210: 6572 5b30 2c20 315d 290a 2020 2020 2020  er[0, 1]).      
-00036220: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
-00036230: 6177 6c69 6e65 2830 2c0a 2020 2020 2020  awline(0,.      
-00036240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036250: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
-00036260: 645f 6178 692e 705f 6f75 7465 725b 302c  d_axi.p_outer[0,
-00036270: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
-00036280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036290: 2020 302c 0a20 2020 2020 2020 2020 2020    0,.           
-000362a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000362b0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
-000362c0: 2e70 5f61 6972 5f67 6170 735b 302c 2031  .p_air_gaps[0, 1
-000362d0: 5d29 0a0a 2020 2020 2020 2020 2020 2020  ])..            
-000362e0: 2320 496e 206f 7264 6572 2066 6f72 2074  # In order for t
-000362f0: 6865 2073 696d 756c 6174 696f 6e20 746f  he simulation to
-00036300: 2077 6f72 6b20 7468 6520 6169 725f 6761   work the air_ga
-00036310: 7020 6d75 7374 2062 6520 636c 6f73 6564  p must be closed
-00036320: 3a0a 2020 2020 2020 2020 2020 2020 6665  :.            fe
-00036330: 6d6d 2e68 695f 6472 6177 6c69 6e65 2830  mm.hi_drawline(0
-00036340: 2c20 7365 6c66 2e74 776f 5f64 5f61 7869  , self.two_d_axi
-00036350: 2e70 5f61 6972 5f67 6170 735b 302c 2031  .p_air_gaps[0, 1
-00036360: 5d2c 2030 2c20 7365 6c66 2e74 776f 5f64  ], 0, self.two_d
-00036370: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
-00036380: 322c 2031 5d29 0a0a 2020 2020 2020 2020  2, 1])..        
-00036390: 2020 2020 2320 436c 6f73 6520 6169 7220      # Close air 
-000363a0: 6761 7020 746f 2073 6570 6172 6174 6520  gap to separate 
-000363b0: 6672 6f6d 2061 6972 0a20 2020 2020 2020  from air.       
-000363c0: 2020 2020 2066 656d 6d2e 6869 5f64 7261       femm.hi_dra
-000363d0: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
-000363e0: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
-000363f0: 312c 2030 5d2c 2073 656c 662e 7477 6f5f  1, 0], self.two_
-00036400: 645f 6178 692e 705f 6169 725f 6761 7073  d_axi.p_air_gaps
-00036410: 5b31 2c20 315d 2c0a 2020 2020 2020 2020  [1, 1],.        
-00036420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036430: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-00036440: 6178 692e 705f 6169 725f 6761 7073 5b33  axi.p_air_gaps[3
-00036450: 2c20 305d 2c20 7365 6c66 2e74 776f 5f64  , 0], self.two_d
-00036460: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
-00036470: 332c 2031 5d29 0a20 2020 2020 2020 2065  3, 1]).        e
-00036480: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
-00036490: 2072 6169 7365 2045 7863 6570 7469 6f6e   raise Exception
-000364a0: 2822 4e65 6761 7469 7665 2061 6972 2067  ("Negative air g
-000364b0: 6170 206e 756d 6265 7220 6973 206e 6f74  ap number is not
-000364c0: 2061 6c6c 6f77 6564 2229 0a0a 2020 2020   allowed")..    
-000364d0: 2020 2020 2320 4164 6420 6361 7365 0a20      # Add case. 
-000364e0: 2020 2020 2020 2066 656d 6d2e 6869 5f64         femm.hi_d
-000364f0: 7261 776c 696e 6528 302c 2073 656c 662e  rawline(0, self.
-00036500: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-00036510: 725b 322c 2031 5d2c 2030 2c0a 2020 2020  r[2, 1], 0,.    
-00036520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036530: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
-00036540: 6178 692e 705f 6f75 7465 725b 322c 2031  axi.p_outer[2, 1
-00036550: 5d20 2b20 6361 7365 5f67 6170 5f74 6f70  ] + case_gap_top
-00036560: 2920 2023 2054 6f70 206c 6566 7420 6c69  )  # Top left li
-00036570: 6e65 0a20 2020 2020 2020 2066 656d 6d2e  ne.        femm.
-00036580: 6869 5f64 7261 776c 696e 6528 302c 2073  hi_drawline(0, s
-00036590: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000365a0: 6f75 7465 725b 322c 2031 5d20 2b20 6361  outer[2, 1] + ca
-000365b0: 7365 5f67 6170 5f74 6f70 2c20 7365 6c66  se_gap_top, self
-000365c0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-000365d0: 6572 5b33 2c20 305d 202b 2063 6173 655f  er[3, 0] + case_
-000365e0: 6761 705f 7269 6768 742c 0a20 2020 2020  gap_right,.     
-000365f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036600: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00036610: 7869 2e70 5f6f 7574 6572 5b33 2c20 315d  xi.p_outer[3, 1]
-00036620: 202b 2063 6173 655f 6761 705f 746f 7029   + case_gap_top)
-00036630: 2020 2320 546f 7020 6c69 6e65 0a20 2020    # Top line.   
-00036640: 2020 2020 2066 656d 6d2e 6869 5f64 7261       femm.hi_dra
-00036650: 776c 696e 6528 7365 6c66 2e74 776f 5f64  wline(self.two_d
-00036660: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
-00036670: 305d 202b 2063 6173 655f 6761 705f 7269  0] + case_gap_ri
-00036680: 6768 742c 2073 656c 662e 7477 6f5f 645f  ght, self.two_d_
-00036690: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
-000366a0: 5d20 2b20 6361 7365 5f67 6170 5f74 6f70  ] + case_gap_top
-000366b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000366c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000366d0: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-000366e0: 725b 312c 2030 5d20 2b20 6361 7365 5f67  r[1, 0] + case_g
-000366f0: 6170 5f72 6967 6874 2c0a 2020 2020 2020  ap_right,.      
-00036700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036710: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-00036720: 692e 705f 6f75 7465 725b 312c 2031 5d20  i.p_outer[1, 1] 
-00036730: 2d20 6361 7365 5f67 6170 5f62 6f74 2920  - case_gap_bot) 
-00036740: 2023 2052 6967 6874 206c 696e 650a 2020   # Right line.  
-00036750: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
-00036760: 6177 6c69 6e65 2873 656c 662e 7477 6f5f  awline(self.two_
-00036770: 645f 6178 692e 705f 6f75 7465 725b 312c  d_axi.p_outer[1,
-00036780: 2030 5d20 2b20 6361 7365 5f67 6170 5f72   0] + case_gap_r
-00036790: 6967 6874 2c20 7365 6c66 2e74 776f 5f64  ight, self.two_d
-000367a0: 5f61 7869 2e70 5f6f 7574 6572 5b31 2c20  _axi.p_outer[1, 
-000367b0: 315d 202d 2063 6173 655f 6761 705f 626f  1] - case_gap_bo
-000367c0: 742c 2030 2c0a 2020 2020 2020 2020 2020  t, 0,.          
-000367d0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000367e0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000367f0: 6f75 7465 725b 302c 2031 5d20 2d20 6361  outer[0, 1] - ca
-00036800: 7365 5f67 6170 5f62 6f74 2920 2023 2042  se_gap_bot)  # B
-00036810: 6f74 746f 6d20 6c69 6e65 0a20 2020 2020  ottom line.     
-00036820: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
-00036830: 696e 6528 302c 2073 656c 662e 7477 6f5f  ine(0, self.two_
-00036840: 645f 6178 692e 705f 6f75 7465 725b 302c  d_axi.p_outer[0,
-00036850: 2031 5d20 2d20 6361 7365 5f67 6170 5f62   1] - case_gap_b
-00036860: 6f74 2c20 302c 0a20 2020 2020 2020 2020  ot, 0,.         
+000361a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000361b0: 2e74 776f 5f64 5f61 7869 2e70 5f77 696e  .two_d_axi.p_win
+000361c0: 646f 775b 362c 2031 5d2c 0a20 2020 2020  dow[6, 1],.     
+000361d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000361e0: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+000361f0: 5f64 5f61 7869 2e70 5f61 6972 5f67 6170  _d_axi.p_air_gap
+00036200: 735b 332c 2030 5d2c 0a20 2020 2020 2020  s[3, 0],.       
+00036210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036220: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
+00036230: 5f61 7869 2e70 5f61 6972 5f67 6170 735b  _axi.p_air_gaps[
+00036240: 332c 2031 5d29 0a20 2020 2020 2020 2020  3, 1]).         
+00036250: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
+00036260: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
+00036270: 7869 2e70 5f61 6972 5f67 6170 735b 332c  xi.p_air_gaps[3,
+00036280: 2030 5d2c 0a20 2020 2020 2020 2020 2020   0],.           
+00036290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000362a0: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+000362b0: 2e70 5f61 6972 5f67 6170 735b 332c 2031  .p_air_gaps[3, 1
+000362c0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000362d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000362e0: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+000362f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036300: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00036310: 5f61 6972 5f67 6170 735b 322c 2031 5d29  _air_gaps[2, 1])
+00036320: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
+00036330: 6d2e 6869 5f64 7261 776c 696e 6528 302c  m.hi_drawline(0,
+00036340: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00036350: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00036360: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f61  lf.two_d_axi.p_a
+00036370: 6972 5f67 6170 735b 322c 2031 5d2c 0a20  ir_gaps[2, 1],. 
+00036380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036390: 2020 2020 2020 2020 2020 2020 302c 0a20              0,. 
+000363a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000363b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000363c0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+000363d0: 6572 5b32 2c20 315d 290a 2020 2020 2020  er[2, 1]).      
+000363e0: 2020 2020 2020 6665 6d6d 2e68 695f 6472        femm.hi_dr
+000363f0: 6177 6c69 6e65 2830 2c0a 2020 2020 2020  awline(0,.      
+00036400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036410: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+00036420: 645f 6178 692e 705f 6f75 7465 725b 322c  d_axi.p_outer[2,
+00036430: 2031 5d2c 0a20 2020 2020 2020 2020 2020   1],.           
+00036440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036450: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00036460: 2e70 5f6f 7574 6572 5b33 2c20 305d 2c0a  .p_outer[3, 0],.
+00036470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036480: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00036490: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+000364a0: 7465 725b 332c 2031 5d29 0a20 2020 2020  ter[3, 1]).     
+000364b0: 2020 2020 2020 2066 656d 6d2e 6869 5f64         femm.hi_d
+000364c0: 7261 776c 696e 6528 7365 6c66 2e74 776f  rawline(self.two
+000364d0: 5f64 5f61 7869 2e70 5f6f 7574 6572 5b33  _d_axi.p_outer[3
+000364e0: 2c20 305d 2c0a 2020 2020 2020 2020 2020  , 0],.          
+000364f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036500: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+00036510: 692e 705f 6f75 7465 725b 332c 2031 5d2c  i.p_outer[3, 1],
+00036520: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00036530: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00036540: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+00036550: 7574 6572 5b31 2c20 305d 2c0a 2020 2020  uter[1, 0],.    
+00036560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036570: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+00036580: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+00036590: 312c 2031 5d29 0a20 2020 2020 2020 2020  1, 1]).         
+000365a0: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
+000365b0: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
+000365c0: 7869 2e70 5f6f 7574 6572 5b31 2c20 305d  xi.p_outer[1, 0]
+000365d0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000365e0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+000365f0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00036600: 6f75 7465 725b 312c 2031 5d2c 0a20 2020  outer[1, 1],.   
+00036610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036620: 2020 2020 2020 2020 2020 302c 0a20 2020            0,.   
+00036630: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036640: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+00036650: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+00036660: 5b30 2c20 315d 290a 2020 2020 2020 2020  [0, 1]).        
+00036670: 2020 2020 6665 6d6d 2e68 695f 6472 6177      femm.hi_draw
+00036680: 6c69 6e65 2830 2c0a 2020 2020 2020 2020  line(0,.        
+00036690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000366a0: 2020 2020 2073 656c 662e 7477 6f5f 645f       self.two_d_
+000366b0: 6178 692e 705f 6f75 7465 725b 302c 2031  axi.p_outer[0, 1
+000366c0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000366d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000366e0: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+000366f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036700: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+00036710: 5f61 6972 5f67 6170 735b 302c 2031 5d29  _air_gaps[0, 1])
+00036720: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+00036730: 496e 206f 7264 6572 2066 6f72 2074 6865  In order for the
+00036740: 2073 696d 756c 6174 696f 6e20 746f 2077   simulation to w
+00036750: 6f72 6b20 7468 6520 6169 725f 6761 7020  ork the air_gap 
+00036760: 6d75 7374 2062 6520 636c 6f73 6564 3a0a  must be closed:.
+00036770: 2020 2020 2020 2020 2020 2020 6665 6d6d              femm
+00036780: 2e68 695f 6472 6177 6c69 6e65 2830 2c20  .hi_drawline(0, 
+00036790: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
+000367a0: 5f61 6972 5f67 6170 735b 302c 2031 5d2c  _air_gaps[0, 1],
+000367b0: 2030 2c20 7365 6c66 2e74 776f 5f64 5f61   0, self.two_d_a
+000367c0: 7869 2e70 5f61 6972 5f67 6170 735b 322c  xi.p_air_gaps[2,
+000367d0: 2031 5d29 0a0a 2020 2020 2020 2020 2020   1])..          
+000367e0: 2020 2320 436c 6f73 6520 6169 7220 6761    # Close air ga
+000367f0: 7020 746f 2073 6570 6172 6174 6520 6672  p to separate fr
+00036800: 6f6d 2061 6972 0a20 2020 2020 2020 2020  om air.         
+00036810: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
+00036820: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
+00036830: 7869 2e70 5f61 6972 5f67 6170 735b 312c  xi.p_air_gaps[1,
+00036840: 2030 5d2c 2073 656c 662e 7477 6f5f 645f   0], self.two_d_
+00036850: 6178 692e 705f 6169 725f 6761 7073 5b31  axi.p_air_gaps[1
+00036860: 2c20 315d 2c0a 2020 2020 2020 2020 2020  , 1],.          
 00036870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036880: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-00036890: 5f6f 7574 6572 5b30 2c20 315d 2920 2023  _outer[0, 1])  #
-000368a0: 2042 6f74 746f 6d20 7269 6768 7420 6c69   Bottom right li
-000368b0: 6e65 0a0a 2020 2020 2020 2020 2320 4372  ne..        # Cr
-000368c0: 6561 7465 2062 6f75 6e64 6172 790a 2020  eate boundary.  
-000368d0: 2020 2020 2020 2320 6665 6d6d 2e68 695f        # femm.hi_
-000368e0: 7365 6c65 6374 7365 676d 656e 7428 2a73  selectsegment(*s
-000368f0: 656c 662e 6361 6c63 756c 6174 6550 6f69  elf.calculatePoi
-00036900: 6e74 4176 6572 6167 6528 302c 2073 656c  ntAverage(0, sel
-00036910: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
-00036920: 7465 725b 322c 2031 5d2c 2030 2c0a 2020  ter[2, 1], 0,.  
-00036930: 2020 2020 2020 2320 7365 6c66 2e74 776f        # self.two
-00036940: 5f64 5f61 7869 2e70 5f6f 7574 6572 5b32  _d_axi.p_outer[2
-00036950: 2c20 315d 202b 2063 6173 6547 6170 546f  , 1] + caseGapTo
-00036960: 7029 290a 2020 2020 2020 2020 6665 6d6d  p)).        femm
-00036970: 2e68 695f 7365 6c65 6374 7365 676d 656e  .hi_selectsegmen
-00036980: 7428 2a4d 6167 6e65 7469 6343 6f6d 706f  t(*MagneticCompo
-00036990: 6e65 6e74 2e63 616c 6375 6c61 7465 5f70  nent.calculate_p
-000369a0: 6f69 6e74 5f61 7665 7261 6765 2830 2c20  oint_average(0, 
-000369b0: 7365 6c66 2e74 776f 5f64 5f61 7869 2e70  self.two_d_axi.p
-000369c0: 5f6f 7574 6572 5b32 2c20 315d 202b 2063  _outer[2, 1] + c
-000369d0: 6173 655f 6761 705f 746f 702c 0a20 2020  ase_gap_top,.   
-000369e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000369f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036a20: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00036a30: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
-00036a40: 305d 202b 2063 6173 655f 6761 705f 7269  0] + case_gap_ri
-00036a50: 6768 742c 0a20 2020 2020 2020 2020 2020  ght,.           
-00036a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036a90: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00036aa0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-00036ab0: 7574 6572 5b33 2c20 315d 202b 2063 6173  uter[3, 1] + cas
-00036ac0: 655f 6761 705f 746f 7029 290a 2020 2020  e_gap_top)).    
-00036ad0: 2020 2020 6665 6d6d 2e68 695f 7365 7473      femm.hi_sets
-00036ae0: 6567 6d65 6e74 7072 6f70 2822 4e65 756d  egmentprop("Neum
-00036af0: 616e 6e42 6f75 6e64 6172 7922 2c20 302c  annBoundary", 0,
-00036b00: 2031 2c20 302c 2032 2c20 223c 4e6f 6e65   1, 0, 2, "<None
-00036b10: 3e22 290a 2020 2020 2020 2020 6665 6d6d  >").        femm
-00036b20: 2e68 695f 636c 6561 7273 656c 6563 7465  .hi_clearselecte
-00036b30: 6428 290a 0a20 2020 2020 2020 2066 656d  d()..        fem
-00036b40: 6d2e 6869 5f73 656c 6563 7473 6567 6d65  m.hi_selectsegme
-00036b50: 6e74 282a 4d61 676e 6574 6963 436f 6d70  nt(*MagneticComp
-00036b60: 6f6e 656e 742e 6361 6c63 756c 6174 655f  onent.calculate_
-00036b70: 706f 696e 745f 6176 6572 6167 6528 7365  point_average(se
-00036b80: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-00036b90: 7574 6572 5b33 2c20 305d 202b 2063 6173  uter[3, 0] + cas
-00036ba0: 655f 6761 705f 7269 6768 742c 0a20 2020  e_gap_right,.   
-00036bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036bf0: 2020 2020 2020 7365 6c66 2e74 776f 5f64        self.two_d
-00036c00: 5f61 7869 2e70 5f6f 7574 6572 5b33 2c20  _axi.p_outer[3, 
-00036c10: 315d 202b 2063 6173 655f 6761 705f 746f  1] + case_gap_to
-00036c20: 702c 0a20 2020 2020 2020 2020 2020 2020  p,.             
-00036c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036c60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00036c70: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-00036c80: 6572 5b31 2c20 305d 202b 2063 6173 655f  er[1, 0] + case_
-00036c90: 6761 705f 7269 6768 742c 0a20 2020 2020  gap_right,.     
-00036ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036cb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036ce0: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
-00036cf0: 7869 2e70 5f6f 7574 6572 5b31 2c20 315d  xi.p_outer[1, 1]
-00036d00: 202d 2063 6173 655f 6761 705f 626f 7429   - case_gap_bot)
-00036d10: 290a 2020 2020 2020 2020 6665 6d6d 2e68  ).        femm.h
-00036d20: 695f 7365 6c65 6374 7365 676d 656e 7428  i_selectsegment(
-00036d30: 2a4d 6167 6e65 7469 6343 6f6d 706f 6e65  *MagneticCompone
-00036d40: 6e74 2e63 616c 6375 6c61 7465 5f70 6f69  nt.calculate_poi
-00036d50: 6e74 5f61 7665 7261 6765 2873 656c 662e  nt_average(self.
+00036880: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+00036890: 692e 705f 6169 725f 6761 7073 5b33 2c20  i.p_air_gaps[3, 
+000368a0: 305d 2c20 7365 6c66 2e74 776f 5f64 5f61  0], self.two_d_a
+000368b0: 7869 2e70 5f61 6972 5f67 6170 735b 332c  xi.p_air_gaps[3,
+000368c0: 2031 5d29 0a20 2020 2020 2020 2065 6c73   1]).        els
+000368d0: 653a 0a20 2020 2020 2020 2020 2020 2072  e:.            r
+000368e0: 6169 7365 2045 7863 6570 7469 6f6e 2822  aise Exception("
+000368f0: 4e65 6761 7469 7665 2061 6972 2067 6170  Negative air gap
+00036900: 206e 756d 6265 7220 6973 206e 6f74 2061   number is not a
+00036910: 6c6c 6f77 6564 2229 0a0a 2020 2020 2020  llowed")..      
+00036920: 2020 2320 4164 6420 6361 7365 0a20 2020    # Add case.   
+00036930: 2020 2020 2066 656d 6d2e 6869 5f64 7261       femm.hi_dra
+00036940: 776c 696e 6528 302c 2073 656c 662e 7477  wline(0, self.tw
+00036950: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+00036960: 322c 2031 5d2c 2030 2c0a 2020 2020 2020  2, 1], 0,.      
+00036970: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036980: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
+00036990: 692e 705f 6f75 7465 725b 322c 2031 5d20  i.p_outer[2, 1] 
+000369a0: 2b20 6361 7365 5f67 6170 5f74 6f70 2920  + case_gap_top) 
+000369b0: 2023 2054 6f70 206c 6566 7420 6c69 6e65   # Top left line
+000369c0: 0a20 2020 2020 2020 2066 656d 6d2e 6869  .        femm.hi
+000369d0: 5f64 7261 776c 696e 6528 302c 2073 656c  _drawline(0, sel
+000369e0: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+000369f0: 7465 725b 322c 2031 5d20 2b20 6361 7365  ter[2, 1] + case
+00036a00: 5f67 6170 5f74 6f70 2c20 7365 6c66 2e74  _gap_top, self.t
+00036a10: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+00036a20: 5b33 2c20 305d 202b 2063 6173 655f 6761  [3, 0] + case_ga
+00036a30: 705f 7269 6768 742c 0a20 2020 2020 2020  p_right,.       
+00036a40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036a50: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00036a60: 2e70 5f6f 7574 6572 5b33 2c20 315d 202b  .p_outer[3, 1] +
+00036a70: 2063 6173 655f 6761 705f 746f 7029 2020   case_gap_top)  
+00036a80: 2320 546f 7020 6c69 6e65 0a20 2020 2020  # Top line.     
+00036a90: 2020 2066 656d 6d2e 6869 5f64 7261 776c     femm.hi_drawl
+00036aa0: 696e 6528 7365 6c66 2e74 776f 5f64 5f61  ine(self.two_d_a
+00036ab0: 7869 2e70 5f6f 7574 6572 5b33 2c20 305d  xi.p_outer[3, 0]
+00036ac0: 202b 2063 6173 655f 6761 705f 7269 6768   + case_gap_righ
+00036ad0: 742c 2073 656c 662e 7477 6f5f 645f 6178  t, self.two_d_ax
+00036ae0: 692e 705f 6f75 7465 725b 332c 2031 5d20  i.p_outer[3, 1] 
+00036af0: 2b20 6361 7365 5f67 6170 5f74 6f70 2c0a  + case_gap_top,.
+00036b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036b10: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+00036b20: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+00036b30: 312c 2030 5d20 2b20 6361 7365 5f67 6170  1, 0] + case_gap
+00036b40: 5f72 6967 6874 2c0a 2020 2020 2020 2020  _right,.        
+00036b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036b60: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00036b70: 705f 6f75 7465 725b 312c 2031 5d20 2d20  p_outer[1, 1] - 
+00036b80: 6361 7365 5f67 6170 5f62 6f74 2920 2023  case_gap_bot)  #
+00036b90: 2052 6967 6874 206c 696e 650a 2020 2020   Right line.    
+00036ba0: 2020 2020 6665 6d6d 2e68 695f 6472 6177      femm.hi_draw
+00036bb0: 6c69 6e65 2873 656c 662e 7477 6f5f 645f  line(self.two_d_
+00036bc0: 6178 692e 705f 6f75 7465 725b 312c 2030  axi.p_outer[1, 0
+00036bd0: 5d20 2b20 6361 7365 5f67 6170 5f72 6967  ] + case_gap_rig
+00036be0: 6874 2c20 7365 6c66 2e74 776f 5f64 5f61  ht, self.two_d_a
+00036bf0: 7869 2e70 5f6f 7574 6572 5b31 2c20 315d  xi.p_outer[1, 1]
+00036c00: 202d 2063 6173 655f 6761 705f 626f 742c   - case_gap_bot,
+00036c10: 2030 2c0a 2020 2020 2020 2020 2020 2020   0,.            
+00036c20: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00036c30: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00036c40: 7465 725b 302c 2031 5d20 2d20 6361 7365  ter[0, 1] - case
+00036c50: 5f67 6170 5f62 6f74 2920 2023 2042 6f74  _gap_bot)  # Bot
+00036c60: 746f 6d20 6c69 6e65 0a20 2020 2020 2020  tom line.       
+00036c70: 2066 656d 6d2e 6869 5f64 7261 776c 696e   femm.hi_drawlin
+00036c80: 6528 302c 2073 656c 662e 7477 6f5f 645f  e(0, self.two_d_
+00036c90: 6178 692e 705f 6f75 7465 725b 302c 2031  axi.p_outer[0, 1
+00036ca0: 5d20 2d20 6361 7365 5f67 6170 5f62 6f74  ] - case_gap_bot
+00036cb0: 2c20 302c 0a20 2020 2020 2020 2020 2020  , 0,.           
+00036cc0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+00036cd0: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+00036ce0: 7574 6572 5b30 2c20 315d 2920 2023 2042  uter[0, 1])  # B
+00036cf0: 6f74 746f 6d20 7269 6768 7420 6c69 6e65  ottom right line
+00036d00: 0a0a 2020 2020 2020 2020 2320 4372 6561  ..        # Crea
+00036d10: 7465 2062 6f75 6e64 6172 790a 2020 2020  te boundary.    
+00036d20: 2020 2020 2320 6665 6d6d 2e68 695f 7365      # femm.hi_se
+00036d30: 6c65 6374 7365 676d 656e 7428 2a73 656c  lectsegment(*sel
+00036d40: 662e 6361 6c63 756c 6174 6550 6f69 6e74  f.calculatePoint
+00036d50: 4176 6572 6167 6528 302c 2073 656c 662e  Average(0, self.
 00036d60: 7477 6f5f 645f 6178 692e 705f 6f75 7465  two_d_axi.p_oute
-00036d70: 725b 312c 2030 5d20 2b20 6361 7365 5f67  r[1, 0] + case_g
-00036d80: 6170 5f72 6967 6874 2c0a 2020 2020 2020  ap_right,.      
-00036d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036dd0: 2020 2073 656c 662e 7477 6f5f 645f 6178     self.two_d_ax
-00036de0: 692e 705f 6f75 7465 725b 312c 2031 5d20  i.p_outer[1, 1] 
-00036df0: 2d20 6361 7365 5f67 6170 5f62 6f74 2c20  - case_gap_bot, 
-00036e00: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
-00036e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036d70: 725b 322c 2031 5d2c 2030 2c0a 2020 2020  r[2, 1], 0,.    
+00036d80: 2020 2020 2320 7365 6c66 2e74 776f 5f64      # self.two_d
+00036d90: 5f61 7869 2e70 5f6f 7574 6572 5b32 2c20  _axi.p_outer[2, 
+00036da0: 315d 202b 2063 6173 6547 6170 546f 7029  1] + caseGapTop)
+00036db0: 290a 2020 2020 2020 2020 6665 6d6d 2e68  ).        femm.h
+00036dc0: 695f 7365 6c65 6374 7365 676d 656e 7428  i_selectsegment(
+00036dd0: 2a4d 6167 6e65 7469 6343 6f6d 706f 6e65  *MagneticCompone
+00036de0: 6e74 2e63 616c 6375 6c61 7465 5f70 6f69  nt.calculate_poi
+00036df0: 6e74 5f61 7665 7261 6765 2830 2c20 7365  nt_average(0, se
+00036e00: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
+00036e10: 7574 6572 5b32 2c20 315d 202b 2063 6173  uter[2, 1] + cas
+00036e20: 655f 6761 705f 746f 702c 0a20 2020 2020  e_gap_top,.     
 00036e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00036e40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00036e50: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
-00036e60: 6572 5b30 2c20 315d 202d 2063 6173 655f  er[0, 1] - case_
-00036e70: 6761 705f 626f 7429 290a 2020 2020 2020  gap_bot)).      
-00036e80: 2020 2320 6665 6d6d 2e68 695f 7365 6c65    # femm.hi_sele
-00036e90: 6374 7365 676d 656e 7428 2a73 656c 662e  ctsegment(*self.
-00036ea0: 6361 6c63 756c 6174 6550 6f69 6e74 4176  calculatePointAv
-00036eb0: 6572 6167 6528 302c 2073 656c 662e 7477  erage(0, self.tw
-00036ec0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-00036ed0: 302c 2031 5d20 2d20 6361 7365 4761 7042  0, 1] - caseGapB
-00036ee0: 6f74 2c0a 2020 2020 2020 2020 2320 302c  ot,.        # 0,
-00036ef0: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
-00036f00: 705f 6f75 7465 725b 302c 2031 5d29 290a  p_outer[0, 1])).
-00036f10: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00036f20: 7365 7473 6567 6d65 6e74 7072 6f70 2822  setsegmentprop("
-00036f30: 426f 756e 6461 7279 222c 2030 2c20 312c  Boundary", 0, 1,
-00036f40: 2030 2c20 322c 2022 3c4e 6f6e 653e 2229   0, 2, "<None>")
-00036f50: 0a20 2020 2020 2020 2066 656d 6d2e 6869  .        femm.hi
-00036f60: 5f63 6c65 6172 7365 6c65 6374 6564 2829  _clearselected()
-00036f70: 0a0a 2020 2020 2020 2020 2320 4164 6420  ..        # Add 
-00036f80: 6361 7365 206d 6174 6572 6961 6c0a 2020  case material.  
-00036f90: 2020 2020 2020 6d61 7465 7269 616c 5f78        material_x
-00036fa0: 2c20 6d61 7465 7269 616c 5f79 203d 2073  , material_y = s
-00036fb0: 656c 662e 6361 6c63 756c 6174 655f 706f  elf.calculate_po
-00036fc0: 696e 745f 6176 6572 6167 6528 302c 2073  int_average(0, s
-00036fd0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00036fe0: 6f75 7465 725b 322c 2031 5d2c 2030 2c0a  outer[2, 1], 0,.
-00036ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036e70: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00036e80: 7869 2e70 5f6f 7574 6572 5b33 2c20 305d  xi.p_outer[3, 0]
+00036e90: 202b 2063 6173 655f 6761 705f 7269 6768   + case_gap_righ
+00036ea0: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
+00036eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00036ee0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00036ef0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+00036f00: 6572 5b33 2c20 315d 202b 2063 6173 655f  er[3, 1] + case_
+00036f10: 6761 705f 746f 7029 290a 2020 2020 2020  gap_top)).      
+00036f20: 2020 6665 6d6d 2e68 695f 7365 7473 6567    femm.hi_setseg
+00036f30: 6d65 6e74 7072 6f70 2822 4e65 756d 616e  mentprop("Neuman
+00036f40: 6e42 6f75 6e64 6172 7922 2c20 302c 2031  nBoundary", 0, 1
+00036f50: 2c20 302c 2032 2c20 223c 4e6f 6e65 3e22  , 0, 2, "<None>"
+00036f60: 290a 2020 2020 2020 2020 6665 6d6d 2e68  ).        femm.h
+00036f70: 695f 636c 6561 7273 656c 6563 7465 6428  i_clearselected(
+00036f80: 290a 0a20 2020 2020 2020 2066 656d 6d2e  )..        femm.
+00036f90: 6869 5f73 656c 6563 7473 6567 6d65 6e74  hi_selectsegment
+00036fa0: 282a 4d61 676e 6574 6963 436f 6d70 6f6e  (*MagneticCompon
+00036fb0: 656e 742e 6361 6c63 756c 6174 655f 706f  ent.calculate_po
+00036fc0: 696e 745f 6176 6572 6167 6528 7365 6c66  int_average(self
+00036fd0: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+00036fe0: 6572 5b33 2c20 305d 202b 2063 6173 655f  er[3, 0] + case_
+00036ff0: 6761 705f 7269 6768 742c 0a20 2020 2020  gap_right,.     
 00037000: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00037010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00037020: 2020 2020 2020 2020 2020 2020 2020 7365                se
-00037030: 6c66 2e74 776f 5f64 5f61 7869 2e70 5f6f  lf.two_d_axi.p_o
-00037040: 7574 6572 5b32 2c20 315d 202b 2063 6173  uter[2, 1] + cas
-00037050: 655f 6761 705f 746f 7029 0a20 2020 2020  e_gap_top).     
-00037060: 2020 2066 656d 6d2e 6869 5f61 6464 626c     femm.hi_addbl
-00037070: 6f63 6b6c 6162 656c 286d 6174 6572 6961  ocklabel(materia
-00037080: 6c5f 7820 2b20 302e 3030 312c 206d 6174  l_x + 0.001, mat
-00037090: 6572 6961 6c5f 7929 0a20 2020 2020 2020  erial_y).       
-000370a0: 2066 656d 6d2e 6869 5f73 656c 6563 746c   femm.hi_selectl
-000370b0: 6162 656c 286d 6174 6572 6961 6c5f 7820  abel(material_x 
-000370c0: 2b20 302e 3030 312c 206d 6174 6572 6961  + 0.001, materia
-000370d0: 6c5f 7929 0a20 2020 2020 2020 2066 656d  l_y).        fem
-000370e0: 6d2e 6869 5f73 6574 626c 6f63 6b70 726f  m.hi_setblockpro
-000370f0: 7028 2743 6173 6527 2c20 312c 2030 2c20  p('Case', 1, 0, 
-00037100: 3029 0a20 2020 2020 2020 2066 656d 6d2e  0).        femm.
-00037110: 6869 5f63 6c65 6172 7365 6c65 6374 6564  hi_clearselected
-00037120: 2829 0a0a 2020 2020 2020 2020 2320 4164  ()..        # Ad
-00037130: 6420 436f 696c 0a20 2020 2020 2020 2066  d Coil.        f
-00037140: 6f72 206e 756d 2069 6e20 7261 6e67 6528  or num in range(
-00037150: 6c65 6e28 7365 6c66 2e77 696e 6469 6e67  len(self.winding
-00037160: 7329 293a 0a20 2020 2020 2020 2020 2020  s)):.           
-00037170: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-00037180: 302c 2069 6e74 2873 656c 662e 7477 6f5f  0, int(self.two_
-00037190: 645f 6178 692e 705f 636f 6e64 7563 746f  d_axi.p_conducto
-000371a0: 725b 6e75 6d5d 2e73 6861 7065 5b30 5d20  r[num].shape[0] 
-000371b0: 2f20 3529 293a 0a20 2020 2020 2020 2020  / 5)):.         
-000371c0: 2020 2020 2020 2023 2030 3a20 6365 6e74         # 0: cent
-000371d0: 6572 207c 2031 3a20 6c65 6674 207c 2032  er | 1: left | 2
-000371e0: 3a20 746f 7020 7c20 333a 2072 6967 6874  : top | 3: right
-000371f0: 207c 2034 2e62 6f74 746f 6d0a 2020 2020   | 4.bottom.    
-00037200: 2020 2020 2020 2020 2020 2020 6665 6d6d              femm
-00037210: 2e68 695f 6472 6177 6172 6328 7365 6c66  .hi_drawarc(self
-00037220: 2e74 776f 5f64 5f61 7869 2e70 5f63 6f6e  .two_d_axi.p_con
-00037230: 6475 6374 6f72 5b6e 756d 5d5b 3520 2a20  ductor[num][5 * 
-00037240: 6920 2b20 315d 5b30 5d2c 0a20 2020 2020  i + 1][0],.     
-00037250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00037260: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00037270: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
-00037280: 7563 746f 725b 6e75 6d5d 5b35 202a 2069  uctor[num][5 * i
-00037290: 202b 2031 5d5b 315d 2c0a 2020 2020 2020   + 1][1],.      
-000372a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000372b0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-000372c0: 776f 5f64 5f61 7869 2e70 5f63 6f6e 6475  wo_d_axi.p_condu
-000372d0: 6374 6f72 5b6e 756d 5d5b 3520 2a20 6920  ctor[num][5 * i 
-000372e0: 2b20 335d 5b30 5d2c 0a20 2020 2020 2020  + 3][0],.       
-000372f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00037300: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
-00037310: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
-00037320: 746f 725b 6e75 6d5d 5b35 202a 2069 202b  tor[num][5 * i +
-00037330: 2033 5d5b 315d 2c20 3138 302c 2032 2e35   3][1], 180, 2.5
-00037340: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00037350: 2020 6665 6d6d 2e68 695f 6164 6461 7263    femm.hi_addarc
-00037360: 2873 656c 662e 7477 6f5f 645f 6178 692e  (self.two_d_axi.
-00037370: 705f 636f 6e64 7563 746f 725b 6e75 6d5d  p_conductor[num]
-00037380: 5b35 202a 2069 202b 2033 5d5b 305d 2c0a  [5 * i + 3][0],.
-00037390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000373a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000373b0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-000373c0: 636f 6e64 7563 746f 725b 6e75 6d5d 5b35  conductor[num][5
-000373d0: 202a 2069 202b 2033 5d5b 315d 2c0a 2020   * i + 3][1],.  
-000373e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000373f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-00037400: 662e 7477 6f5f 645f 6178 692e 705f 636f  f.two_d_axi.p_co
-00037410: 6e64 7563 746f 725b 6e75 6d5d 5b35 202a  nductor[num][5 *
-00037420: 2069 202b 2031 5d5b 305d 2c0a 2020 2020   i + 1][0],.    
-00037430: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00037440: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00037450: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
-00037460: 7563 746f 725b 6e75 6d5d 5b35 202a 2069  uctor[num][5 * i
-00037470: 202b 2031 5d5b 315d 2c20 3138 302c 2032   + 1][1], 180, 2
-00037480: 2e35 290a 2020 2020 2020 2020 2020 2020  .5).            
-00037490: 2020 2020 6665 6d6d 2e68 695f 6164 6462      femm.hi_addb
-000374a0: 6c6f 636b 6c61 6265 6c28 7365 6c66 2e74  locklabel(self.t
-000374b0: 776f 5f64 5f61 7869 2e70 5f63 6f6e 6475  wo_d_axi.p_condu
-000374c0: 6374 6f72 5b6e 756d 5d5b 3520 2a20 695d  ctor[num][5 * i]
-000374d0: 5b30 5d2c 0a20 2020 2020 2020 2020 2020  [0],.           
-000374e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000374f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00037500: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
-00037510: 7563 746f 725b 6e75 6d5d 5b35 202a 2069  uctor[num][5 * i
-00037520: 5d5b 315d 290a 2020 2020 2020 2020 2020  ][1]).          
-00037530: 2020 2020 2020 6665 6d6d 2e68 695f 7365        femm.hi_se
-00037540: 6c65 6374 6c61 6265 6c28 7365 6c66 2e74  lectlabel(self.t
-00037550: 776f 5f64 5f61 7869 2e70 5f63 6f6e 6475  wo_d_axi.p_condu
-00037560: 6374 6f72 5b6e 756d 5d5b 3520 2a20 695d  ctor[num][5 * i]
-00037570: 5b30 5d2c 0a20 2020 2020 2020 2020 2020  [0],.           
-00037580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00037590: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
-000375a0: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
-000375b0: 746f 725b 6e75 6d5d 5b35 202a 2069 5d5b  tor[num][5 * i][
-000375c0: 315d 290a 2020 2020 2020 2020 2020 2020  1]).            
-000375d0: 2020 2020 6966 206e 756d 203d 3d20 303a      if num == 0:
-000375e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000375f0: 2020 2020 2066 656d 6d2e 6869 5f73 6574       femm.hi_set
-00037600: 626c 6f63 6b70 726f 7028 6627 5769 7265  blockprop(f'Wire
-00037610: 5f7b 6e75 6d7d 5f7b 697d 272c 2031 2c20  _{num}_{i}', 1, 
-00037620: 302c 2031 290a 2020 2020 2020 2020 2020  0, 1).          
-00037630: 2020 2020 2020 6966 206e 756d 203d 3d20        if num == 
-00037640: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-00037650: 2020 2020 2020 2066 656d 6d2e 6869 5f73         femm.hi_s
-00037660: 6574 626c 6f63 6b70 726f 7028 6627 5769  etblockprop(f'Wi
-00037670: 7265 5f7b 6e75 6d7d 5f7b 697d 272c 2031  re_{num}_{i}', 1
-00037680: 2c20 302c 2031 290a 2020 2020 2020 2020  , 0, 1).        
-00037690: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-000376a0: 636c 6561 7273 656c 6563 7465 6428 290a  clearselected().
-000376b0: 0a20 2020 2020 2020 2023 2044 6566 696e  .        # Defin
-000376c0: 6520 616e 2022 6f70 656e 2220 626f 756e  e an "open" boun
-000376d0: 6461 7279 2063 6f6e 6469 7469 6f6e 2075  dary condition u
-000376e0: 7369 6e67 2074 6865 2062 7569 6c74 2d69  sing the built-i
-000376f0: 6e20 6675 6e63 7469 6f6e 3a0a 2020 2020  n function:.    
-00037700: 2020 2020 2320 6665 6d6d 2e68 695f 6d61      # femm.hi_ma
-00037710: 6b65 4142 4328 290a 0a20 2020 2020 2020  keABC()..       
-00037720: 2023 203d 3d20 4c61 6265 6c73 2f44 6573   # == Labels/Des
-00037730: 6967 6e61 7469 6f6e 7320 3d3d 0a20 2020  ignations ==.   
-00037740: 2020 2020 2023 204c 6162 656c 2066 6f72       # Label for
-00037750: 2061 6972 2061 6e64 2061 6972 2067 6170   air and air gap
-00037760: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-00037770: 2e61 6972 5f67 6170 732e 6e75 6d62 6572  .air_gaps.number
-00037780: 203d 3d20 303a 0a20 2020 2020 2020 2020   == 0:.         
-00037790: 2020 2066 656d 6d2e 6869 5f61 6464 626c     femm.hi_addbl
-000377a0: 6f63 6b6c 6162 656c 2873 656c 662e 7477  ocklabel(self.tw
-000377b0: 6f5f 645f 6178 692e 725f 696e 6e65 7220  o_d_axi.r_inner 
-000377c0: 2d20 302e 3030 3031 2c20 3029 0a20 2020  - 0.0001, 0).   
-000377d0: 2020 2020 2020 2020 2066 656d 6d2e 6869           femm.hi
-000377e0: 5f73 656c 6563 746c 6162 656c 2873 656c  _selectlabel(sel
-000377f0: 662e 7477 6f5f 645f 6178 692e 725f 696e  f.two_d_axi.r_in
-00037800: 6e65 7220 2d20 302e 3030 312c 2030 290a  ner - 0.001, 0).
-00037810: 2020 2020 2020 2020 2020 2020 6665 6d6d              femm
-00037820: 2e68 695f 7365 7462 6c6f 636b 7072 6f70  .hi_setblockprop
-00037830: 2827 4169 7227 2c20 312c 2030 2c20 3029  ('Air', 1, 0, 0)
-00037840: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
-00037850: 6d2e 6869 5f63 6c65 6172 7365 6c65 6374  m.hi_clearselect
-00037860: 6564 2829 0a20 2020 2020 2020 2065 6c73  ed().        els
-00037870: 653a 0a20 2020 2020 2020 2020 2020 2066  e:.            f
-00037880: 656d 6d2e 6869 5f61 6464 626c 6f63 6b6c  emm.hi_addblockl
-00037890: 6162 656c 2873 656c 662e 7477 6f5f 645f  abel(self.two_d_
-000378a0: 6178 692e 725f 696e 6e65 7220 2d20 302e  axi.r_inner - 0.
-000378b0: 3030 3031 2c20 3029 0a20 2020 2020 2020  0001, 0).       
-000378c0: 2020 2020 2066 656d 6d2e 6869 5f73 656c       femm.hi_sel
-000378d0: 6563 746c 6162 656c 2873 656c 662e 7477  ectlabel(self.tw
-000378e0: 6f5f 645f 6178 692e 725f 696e 6e65 7220  o_d_axi.r_inner 
-000378f0: 2d20 302e 3030 312c 2030 290a 2020 2020  - 0.001, 0).    
-00037900: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
-00037910: 7365 7462 6c6f 636b 7072 6f70 2827 4169  setblockprop('Ai
-00037920: 7227 2c20 312c 2030 2c20 3029 0a20 2020  r', 1, 0, 0).   
-00037930: 2020 2020 2020 2020 2066 656d 6d2e 6869           femm.hi
-00037940: 5f63 6c65 6172 7365 6c65 6374 6564 2829  _clearselected()
-00037950: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
-00037960: 6d2e 6869 5f61 6464 626c 6f63 6b6c 6162  m.hi_addblocklab
-00037970: 656c 2830 2e30 3031 2c20 3029 0a20 2020  el(0.001, 0).   
-00037980: 2020 2020 2020 2020 2066 656d 6d2e 6869           femm.hi
-00037990: 5f73 656c 6563 746c 6162 656c 2830 2e30  _selectlabel(0.0
-000379a0: 3031 2c20 3029 0a20 2020 2020 2020 2020  01, 0).         
-000379b0: 2020 2066 656d 6d2e 6869 5f73 6574 626c     femm.hi_setbl
-000379c0: 6f63 6b70 726f 7028 2741 6972 2047 6170  ockprop('Air Gap
-000379d0: 7327 2c20 312c 2030 2c20 3029 0a20 2020  s', 1, 0, 0).   
-000379e0: 2020 2020 2020 2020 2066 656d 6d2e 6869           femm.hi
-000379f0: 5f63 6c65 6172 7365 6c65 6374 6564 2829  _clearselected()
-00037a00: 0a0a 2020 2020 2020 2020 2320 4c61 6265  ..        # Labe
-00037a10: 6c20 666f 7220 636f 7265 0a20 2020 2020  l for core.     
-00037a20: 2020 2066 656d 6d2e 6869 5f61 6464 626c     femm.hi_addbl
-00037a30: 6f63 6b6c 6162 656c 2873 656c 662e 7477  ocklabel(self.tw
-00037a40: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-00037a50: 332c 2030 5d20 2d20 302e 3030 312c 2073  3, 0] - 0.001, s
-00037a60: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00037a70: 6f75 7465 725b 332c 2031 5d20 2d20 302e  outer[3, 1] - 0.
-00037a80: 3030 3129 0a20 2020 2020 2020 2066 656d  001).        fem
-00037a90: 6d2e 6869 5f73 656c 6563 746c 6162 656c  m.hi_selectlabel
-00037aa0: 2873 656c 662e 7477 6f5f 645f 6178 692e  (self.two_d_axi.
-00037ab0: 705f 6f75 7465 725b 332c 2030 5d20 2d20  p_outer[3, 0] - 
-00037ac0: 302e 3030 312c 2073 656c 662e 7477 6f5f  0.001, self.two_
-00037ad0: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
-00037ae0: 2031 5d20 2d20 302e 3030 3129 0a20 2020   1] - 0.001).   
-00037af0: 2020 2020 2066 656d 6d2e 6869 5f73 6574       femm.hi_set
-00037b00: 626c 6f63 6b70 726f 7028 2743 6f72 6527  blockprop('Core'
-00037b10: 2c20 312c 2030 2c20 3029 0a20 2020 2020  , 1, 0, 0).     
-00037b20: 2020 2066 656d 6d2e 6869 5f63 6c65 6172     femm.hi_clear
-00037b30: 7365 6c65 6374 6564 2829 0a0a 2020 2020  selected()..    
-00037b40: 2020 2020 2320 4e6f 7420 6e65 6564 6564      # Not needed
-00037b50: 2077 6865 6e20 7468 6520 636f 7265 2069   when the core i
-00037b60: 7320 7468 6520 626f 756e 6461 7279 0a20  s the boundary. 
-00037b70: 2020 2020 2020 2023 2066 656d 6d2e 6869         # femm.hi
-00037b80: 5f61 6464 626c 6f63 6b6c 6162 656c 2873  _addblocklabel(s
-00037b90: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00037ba0: 6f75 7465 725b 332c 2030 5d20 2b20 302e  outer[3, 0] + 0.
-00037bb0: 3030 312c 2073 656c 662e 7477 6f5f 645f  001, self.two_d_
-00037bc0: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
-00037bd0: 5d20 2b20 302e 3030 3129 0a20 2020 2020  ] + 0.001).     
-00037be0: 2020 2023 2066 656d 6d2e 6869 5f73 656c     # femm.hi_sel
-00037bf0: 6563 746c 6162 656c 2873 656c 662e 7477  ectlabel(self.tw
-00037c00: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
-00037c10: 332c 2030 5d20 2b20 302e 3030 312c 2073  3, 0] + 0.001, s
-00037c20: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
-00037c30: 6f75 7465 725b 332c 2031 5d20 2b20 302e  outer[3, 1] + 0.
-00037c40: 3030 3129 0a20 2020 2020 2020 2023 2066  001).        # f
-00037c50: 656d 6d2e 6869 5f73 6574 626c 6f63 6b70  emm.hi_setblockp
-00037c60: 726f 7028 2741 6972 272c 2031 2c20 302c  rop('Air', 1, 0,
-00037c70: 2030 290a 2020 2020 2020 2020 2320 6665   0).        # fe
-00037c80: 6d6d 2e68 695f 636c 6561 7273 656c 6563  mm.hi_clearselec
-00037c90: 7465 6428 290a 0a20 2020 2020 2020 2023  ted()..        #
-00037ca0: 204e 6f77 2c20 7468 6520 6669 6e69 7368   Now, the finish
-00037cb0: 6564 2069 6e70 7574 2067 656f 6d65 7472  ed input geometr
-00037cc0: 7920 6361 6e20 6265 2064 6973 706c 6179  y can be display
-00037cd0: 6564 2e0a 2020 2020 2020 2020 6665 6d6d  ed..        femm
-00037ce0: 2e68 695f 7a6f 6f6d 6e61 7475 7261 6c28  .hi_zoomnatural(
-00037cf0: 290a 2020 2020 2020 2020 6665 6d6d 2e68  ).        femm.h
-00037d00: 695f 7361 7665 6173 2866 656d 6d5f 6d6f  i_saveas(femm_mo
-00037d10: 6465 6c5f 6669 6c65 5f70 6174 6829 0a20  del_file_path). 
-00037d20: 2020 2020 2020 2066 656d 6d2e 6869 5f61         femm.hi_a
-00037d30: 6e61 6c79 7a65 2829 0a20 2020 2020 2020  nalyze().       
-00037d40: 2066 656d 6d2e 6869 5f6c 6f61 6473 6f6c   femm.hi_loadsol
-00037d50: 7574 696f 6e28 290a 2020 2020 2020 2020  ution().        
-00037d60: 696e 7075 7428 2920 2023 2053 6f20 7468  input()  # So th
-00037d70: 6520 7769 6e64 6f77 2073 7461 7973 206f  e window stays o
-00037d80: 7065 6e0a 2020 2020 2020 2020 2320 6665  pen.        # fe
-00037d90: 6d6d 2e63 6c6f 7365 6665 6d6d 2829 0a0a  mm.closefemm()..
-00037da0: 2020 2020 4073 7461 7469 636d 6574 686f      @staticmetho
-00037db0: 640a 2020 2020 6465 6620 656e 636f 6465  d.    def encode
-00037dc0: 5f73 6574 7469 6e67 7328 6f29 202d 3e20  _settings(o) -> 
-00037dd0: 4469 6374 3a0a 2020 2020 2020 2020 2222  Dict:.        ""
-00037de0: 2245 6e63 6f64 6520 7468 6520 6d61 676e  "Encode the magn
-00037df0: 6574 6963 2063 6f6d 706f 6e65 6e74 2069  etic component i
-00037e00: 6e20 6120 6469 6374 696f 6e61 7279 2e0a  n a dictionary..
-00037e10: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00037e20: 6f3a 204d 6167 6e65 7469 6320 636f 6d70  o: Magnetic comp
-00037e30: 6f6e 656e 7420 636f 6e74 6169 6e69 6e67  onent containing
-00037e40: 2074 6865 206d 6f64 656c 2e0a 2020 2020   the model..    
-00037e50: 2020 2020 3a74 7970 6520 6f3a 204d 6167      :type o: Mag
-00037e60: 6e65 7469 6343 6f6d 706f 6e65 6e74 0a20  neticComponent. 
-00037e70: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
-00037e80: 4d6f 6465 6c20 656e 636f 6465 7320 6173  Model encodes as
-00037e90: 2064 6963 7469 6f6e 6172 790a 2020 2020   dictionary.    
-00037ea0: 2020 2020 3a72 7479 7065 3a20 4469 6374      :rtype: Dict
-00037eb0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00037ec0: 2020 2020 2063 6f6e 7465 6e74 203d 207b       content = {
-00037ed0: 0a20 2020 2020 2020 2020 2020 2022 7369  .            "si
-00037ee0: 6d75 6c61 7469 6f6e 5f6e 616d 6522 3a20  mulation_name": 
-00037ef0: 6f2e 7369 6d75 6c61 7469 6f6e 5f6e 616d  o.simulation_nam
-00037f00: 652c 0a20 2020 2020 2020 2020 2020 2022  e,.            "
-00037f10: 6461 7465 223a 2064 6174 6574 696d 652e  date": datetime.
-00037f20: 746f 6461 7928 292e 7374 7266 7469 6d65  today().strftime
-00037f30: 2827 2559 2d25 6d2d 2564 2025 483a 254d  ('%Y-%m-%d %H:%M
-00037f40: 3a25 5327 292c 0a20 2020 2020 2020 2020  :%S'),.         
-00037f50: 2020 2022 636f 6d70 6f6e 656e 745f 7479     "component_ty
-00037f60: 7065 223a 206f 2e63 6f6d 706f 6e65 6e74  pe": o.component
-00037f70: 5f74 7970 652e 6e61 6d65 2c0a 2020 2020  _type.name,.    
-00037f80: 2020 2020 2020 2020 2277 6f72 6b69 6e67          "working
-00037f90: 5f64 6972 6563 746f 7279 223a 206f 2e66  _directory": o.f
-00037fa0: 696c 655f 6461 7461 2e77 6f72 6b69 6e67  ile_data.working
-00037fb0: 5f64 6972 6563 746f 7279 2c0a 2020 2020  _directory,.    
-00037fc0: 2020 2020 2020 2020 2263 6f72 6522 3a20          "core": 
-00037fd0: 6f2e 636f 7265 2e74 6f5f 6469 6374 2829  o.core.to_dict()
-00037fe0: 2c0a 2020 2020 2020 2020 2020 2020 2277  ,.            "w
-00037ff0: 696e 6469 6e67 5f77 696e 646f 7773 223a  inding_windows":
-00038000: 205b 7777 2e74 6f5f 6469 6374 2829 2066   [ww.to_dict() f
-00038010: 6f72 2077 7720 696e 206f 2e77 696e 6469  or ww in o.windi
-00038020: 6e67 5f77 696e 646f 7773 5d2c 0a20 2020  ng_windows],.   
-00038030: 2020 2020 207d 0a0a 2020 2020 2020 2020       }..        
-00038040: 6966 206f 2e61 6972 5f67 6170 7320 6973  if o.air_gaps is
-00038050: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00038060: 2020 2020 2020 2063 6f6e 7465 6e74 5b22         content["
-00038070: 6169 725f 6761 7073 225d 203d 206f 2e61  air_gaps"] = o.a
-00038080: 6972 5f67 6170 732e 746f 5f64 6963 7428  ir_gaps.to_dict(
-00038090: 290a 0a20 2020 2020 2020 2069 6620 6f2e  )..        if o.
-000380a0: 696e 7375 6c61 7469 6f6e 2069 7320 6e6f  insulation is no
-000380b0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-000380c0: 2020 2020 636f 6e74 656e 745b 2269 6e73      content["ins
-000380d0: 756c 6174 696f 6e22 5d20 3d20 6f2e 696e  ulation"] = o.in
-000380e0: 7375 6c61 7469 6f6e 2e74 6f5f 6469 6374  sulation.to_dict
-000380f0: 2829 0a0a 2020 2020 2020 2020 6966 206f  ()..        if o
-00038100: 2e73 7472 6179 5f70 6174 6820 6973 206e  .stray_path is n
-00038110: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
-00038120: 2020 2020 2063 6f6e 7465 6e74 5b22 7374       content["st
-00038130: 7261 795f 7061 7468 225d 203d 206f 2e73  ray_path"] = o.s
-00038140: 7472 6179 5f70 6174 682e 5f5f 6469 6374  tray_path.__dict
-00038150: 5f5f 0a0a 2020 2020 2020 2020 7265 7475  __..        retu
-00038160: 726e 2063 6f6e 7465 6e74 0a0a 2020 2020  rn content..    
-00038170: 4073 7461 7469 636d 6574 686f 640a 2020  @staticmethod.  
-00038180: 2020 6465 6620 6465 636f 6465 5f73 6574    def decode_set
-00038190: 7469 6e67 735f 6672 6f6d 5f6c 6f67 286c  tings_from_log(l
-000381a0: 6f67 5f66 696c 655f 7061 7468 3a20 7374  og_file_path: st
-000381b0: 722c 2077 6f72 6b69 6e67 5f64 6972 6563  r, working_direc
-000381c0: 746f 7279 3a20 7374 7220 3d20 4e6f 6e65  tory: str = None
-000381d0: 2c20 7665 7262 6f73 6974 793a 2056 6572  , verbosity: Ver
-000381e0: 626f 7369 7479 203d 2056 6572 626f 7369  bosity = Verbosi
-000381f0: 7479 2e53 696c 656e 7429 3a0a 2020 2020  ty.Silent):.    
-00038200: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00038210: 5265 6164 2074 6865 2067 6976 656e 206c  Read the given l
-00038220: 6f67 2061 6e64 2072 6574 7572 6e73 2074  og and returns t
-00038230: 6865 206d 6167 6e65 7469 6320 636f 6d70  he magnetic comp
-00038240: 6f6e 656e 7420 6672 6f6d 2074 6820 656c  onent from th el
-00038250: 6f67 2e0a 0a20 2020 2020 2020 203a 7061  og...        :pa
-00038260: 7261 6d20 6c6f 675f 6669 6c65 5f70 6174  ram log_file_pat
-00038270: 683a 2050 6174 6820 746f 2074 6865 206c  h: Path to the l
-00038280: 6f67 2066 696c 650a 2020 2020 2020 2020  og file.        
-00038290: 3a74 7970 6520 6c6f 675f 6669 6c65 5f70  :type log_file_p
-000382a0: 6174 683a 2073 7472 0a20 2020 2020 2020  ath: str.       
-000382b0: 203a 7061 7261 6d20 776f 726b 696e 675f   :param working_
-000382c0: 6469 7265 6374 6f72 793a 2049 6620 7468  directory: If th
-000382d0: 6520 776f 726b 696e 6720 6469 7265 6374  e working direct
-000382e0: 6f72 7920 7368 616c 6c20 6265 2061 2064  ory shall be a d
-000382f0: 6966 6665 7265 6e74 2066 726f 6d20 7468  ifferent from th
-00038300: 6520 6c6f 6720 6669 6c65 2065 6e74 6572  e log file enter
-00038310: 2061 206e 6577 206f 6e65 2068 6572 652c   a new one here,
-00038320: 0a20 2020 2020 2020 2020 2020 2064 6566  .            def
-00038330: 6175 6c74 7320 746f 204e 6f6e 650a 2020  aults to None.  
-00038340: 2020 2020 2020 3a74 7970 6520 776f 726b        :type work
-00038350: 696e 675f 6469 7265 6374 6f72 793a 2073  ing_directory: s
-00038360: 7472 2c20 6f70 7469 6f6e 616c 0a20 2020  tr, optional.   
-00038370: 2020 2020 203a 7061 7261 6d20 7665 7262       :param verb
-00038380: 6f73 6974 793a 2053 6574 2074 6865 2076  osity: Set the v
-00038390: 6572 626f 7369 7479 2074 6f20 6368 6f6f  erbosity to choo
-000383a0: 7365 2079 6f75 7220 6465 7374 696e 6174  se your destinat
-000383b0: 696f 6e2e 2045 2e67 2e20 546f 436f 6e73  ion. E.g. ToCons
-000383c0: 6f6c 6520 6f72 2054 6f46 696c 650a 2020  ole or ToFile.  
-000383d0: 2020 2020 2020 3a74 7970 6520 7665 7262        :type verb
-000383e0: 6f73 6974 793a 2066 656d 6d74 2e56 6572  osity: femmt.Ver
-000383f0: 626f 7369 7479 0a20 2020 2020 2020 203a  bosity.        :
-00038400: 7265 7475 726e 3a20 4d61 676e 6574 6963  return: Magnetic
-00038410: 2063 6f6d 706f 6e65 6e74 2063 6f6e 7461   component conta
-00038420: 696e 696e 6720 7468 6520 6d6f 6465 6c0a  ining the model.
-00038430: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
-00038440: 4d61 676e 6574 6963 436f 6d70 6f6e 656e  MagneticComponen
-00038450: 740a 2020 2020 2020 2020 2222 220a 2020  t.        """.  
-00038460: 2020 2020 2020 6966 206e 6f74 206f 732e        if not os.
-00038470: 7061 7468 2e69 7366 696c 6528 6c6f 675f  path.isfile(log_
-00038480: 6669 6c65 5f70 6174 6829 3a0a 2020 2020  file_path):.    
-00038490: 2020 2020 2020 2020 7261 6973 6520 4578          raise Ex
-000384a0: 6365 7074 696f 6e28 6622 4669 6c65 207b  ception(f"File {
-000384b0: 6c6f 675f 6669 6c65 5f70 6174 687d 2064  log_file_path} d
-000384c0: 6f65 7320 6e6f 7420 6578 6973 7473 206f  oes not exists o
-000384d0: 7220 6973 206e 6f74 2061 2066 696c 6521  r is not a file!
-000384e0: 2229 0a0a 2020 2020 2020 2020 7769 7468  ")..        with
-000384f0: 206f 7065 6e28 6c6f 675f 6669 6c65 5f70   open(log_file_p
-00038500: 6174 682c 2022 7222 2920 6173 2066 643a  ath, "r") as fd:
-00038510: 0a20 2020 2020 2020 2020 2020 2063 6f6e  .            con
-00038520: 7465 6e74 203d 206a 736f 6e2e 6c6f 6164  tent = json.load
-00038530: 2866 6429 0a20 2020 2020 2020 2020 2020  (fd).           
-00038540: 2073 6574 7469 6e67 7320 3d20 636f 6e74   settings = cont
-00038550: 656e 745b 2273 696d 756c 6174 696f 6e5f  ent["simulation_
-00038560: 7365 7474 696e 6773 225d 0a0a 2020 2020  settings"]..    
-00038570: 2020 2020 6966 2073 6574 7469 6e67 7320      if settings 
-00038580: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
-00038590: 2020 2020 2020 2020 2063 7764 203d 2077           cwd = w
-000385a0: 6f72 6b69 6e67 5f64 6972 6563 746f 7279  orking_directory
-000385b0: 2069 6620 776f 726b 696e 675f 6469 7265   if working_dire
-000385c0: 6374 6f72 7920 6973 206e 6f74 204e 6f6e  ctory is not Non
-000385d0: 6520 656c 7365 2073 6574 7469 6e67 735b  e else settings[
-000385e0: 2277 6f72 6b69 6e67 5f64 6972 6563 746f  "working_directo
-000385f0: 7279 225d 0a20 2020 2020 2020 2020 2020  ry"].           
-00038600: 2067 656f 203d 204d 6167 6e65 7469 6343   geo = MagneticC
-00038610: 6f6d 706f 6e65 6e74 2863 6f6d 706f 6e65  omponent(compone
-00038620: 6e74 5f74 7970 653d 436f 6d70 6f6e 656e  nt_type=Componen
-00038630: 7454 7970 655b 7365 7474 696e 6773 5b22  tType[settings["
-00038640: 636f 6d70 6f6e 656e 745f 7479 7065 225d  component_type"]
-00038650: 5d2c 2077 6f72 6b69 6e67 5f64 6972 6563  ], working_direc
-00038660: 746f 7279 3d63 7764 2c0a 2020 2020 2020  tory=cwd,.      
-00038670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038680: 2020 2020 2020 2020 2020 2020 2020 7665                ve
-00038690: 7262 6f73 6974 793d 7665 7262 6f73 6974  rbosity=verbosit
-000386a0: 7929 0a0a 2020 2020 2020 2020 2020 2020  y)..            
-000386b0: 7365 7474 696e 6773 5b22 636f 7265 225d  settings["core"]
-000386c0: 5b22 6c6f 7373 5f61 7070 726f 6163 6822  ["loss_approach"
-000386d0: 5d20 3d20 4c6f 7373 4170 7072 6f61 6368  ] = LossApproach
-000386e0: 5b73 6574 7469 6e67 735b 2263 6f72 6522  [settings["core"
-000386f0: 5d5b 226c 6f73 735f 6170 7072 6f61 6368  ]["loss_approach
-00038700: 225d 5d0a 2020 2020 2020 2020 2020 2020  "]].            
-00038710: 636f 7265 5f74 7970 6520 3d20 7365 7474  core_type = sett
-00038720: 696e 6773 5b22 636f 7265 225d 5b22 636f  ings["core"]["co
-00038730: 7265 5f74 7970 6522 5d0a 2020 2020 2020  re_type"].      
-00038740: 2020 2020 2020 6966 2063 6f72 655f 7479        if core_ty
-00038750: 7065 203d 3d20 436f 7265 5479 7065 2e53  pe == CoreType.S
-00038760: 696e 676c 653a 0a20 2020 2020 2020 2020  ingle:.         
-00038770: 2020 2020 2020 2063 6f72 655f 6469 6d65         core_dime
-00038780: 6e73 696f 6e73 203d 2053 696e 676c 6543  nsions = SingleC
-00038790: 6f72 6544 696d 656e 7369 6f6e 7328 636f  oreDimensions(co
-000387a0: 7265 5f69 6e6e 6572 5f64 6961 6d65 7465  re_inner_diamete
-000387b0: 723d 7365 7474 696e 6773 5b22 636f 7265  r=settings["core
-000387c0: 225d 5b22 636f 7265 5f69 6e6e 6572 5f64  "]["core_inner_d
-000387d0: 6961 6d65 7465 7222 5d2c 0a20 2020 2020  iameter"],.     
-000387e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000387f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038810: 2020 7769 6e64 6f77 5f77 3d73 6574 7469    window_w=setti
-00038820: 6e67 735b 2263 6f72 6522 5d5b 2277 696e  ngs["core"]["win
-00038830: 646f 775f 7722 5d2c 0a20 2020 2020 2020  dow_w"],.       
-00038840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038870: 7769 6e64 6f77 5f68 3d73 6574 7469 6e67  window_h=setting
-00038880: 735b 2263 6f72 6522 5d5b 2277 696e 646f  s["core"]["windo
-00038890: 775f 6822 5d2c 0a20 2020 2020 2020 2020  w_h"],.         
-000388a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000388b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000388c0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-000388d0: 7265 5f68 3d73 6574 7469 6e67 735b 2263  re_h=settings["c
-000388e0: 6f72 6522 5d5b 2263 6f72 655f 6822 5d29  ore"]["core_h"])
-000388f0: 0a0a 2020 2020 2020 2020 2020 2020 656c  ..            el
-00038900: 6966 2063 6f72 655f 7479 7065 203d 3d20  if core_type == 
-00038910: 436f 7265 5479 7065 2e53 7461 636b 6564  CoreType.Stacked
-00038920: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00038930: 2020 636f 7265 5f64 696d 656e 7369 6f6e    core_dimension
-00038940: 7320 3d20 5374 6163 6b65 6443 6f72 6544  s = StackedCoreD
-00038950: 696d 656e 7369 6f6e 7328 636f 7265 5f69  imensions(core_i
-00038960: 6e6e 6572 5f64 6961 6d65 7465 723d 7365  nner_diameter=se
-00038970: 7474 696e 6773 5b22 636f 7265 225d 5b22  ttings["core"]["
-00038980: 636f 7265 5f69 6e6e 6572 5f64 6961 6d65  core_inner_diame
-00038990: 7465 7222 5d2c 0a20 2020 2020 2020 2020  ter"],.         
-000389a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000389b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000389c0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-000389d0: 696e 646f 775f 773d 7365 7474 696e 6773  indow_w=settings
-000389e0: 5b22 636f 7265 225d 5b22 7769 6e64 6f77  ["core"]["window
-000389f0: 5f77 225d 2c0a 2020 2020 2020 2020 2020  _w"],.          
-00038a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038a20: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-00038a30: 6e64 6f77 5f68 5f62 6f74 3d73 6574 7469  ndow_h_bot=setti
-00038a40: 6e67 735b 2263 6f72 6522 5d5b 2277 696e  ngs["core"]["win
-00038a50: 646f 775f 685f 626f 7422 5d2c 0a20 2020  dow_h_bot"],.   
-00038a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038a90: 2020 2020 2077 696e 646f 775f 685f 746f       window_h_to
-00038aa0: 703d 7365 7474 696e 6773 5b22 636f 7265  p=settings["core
-00038ab0: 225d 5b22 7769 6e64 6f77 5f68 5f74 6f70  "]["window_h_top
-00038ac0: 225d 290a 2020 2020 2020 2020 2020 2020  "]).            
-00038ad0: 2020 2020 2320 546f 446f 3a20 636f 7265      # ToDo: core
-00038ae0: 5f68 206e 6f74 2069 6d70 6c65 6d65 6e74  _h not implement
-00038af0: 6564 2079 6574 2e0a 2020 2020 2020 2020  ed yet..        
-00038b00: 2020 2020 2020 2020 2320 636f 7265 5f68          # core_h
-00038b10: 3d73 6574 7469 6e67 735b 2263 6f72 6522  =settings["core"
-00038b20: 5d5b 2263 6f72 655f 6822 5d29 0a20 2020  ]["core_h"]).   
-00038b30: 2020 2020 2020 2020 2065 6c73 653a 0a20           else:. 
-00038b40: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-00038b50: 6169 7365 2056 616c 7565 4572 726f 7228  aise ValueError(
-00038b60: 2275 6e6b 6e6f 776e 2063 6f72 655f 7479  "unknown core_ty
-00038b70: 7065 2066 6f72 2064 6563 6f64 696e 6720  pe for decoding 
-00038b80: 6672 6f6d 2072 6573 756c 745f 6c6f 672e  from result_log.
-00038b90: 2229 0a0a 2020 2020 2020 2020 2020 2020  ")..            
-00038ba0: 6966 2069 7369 6e73 7461 6e63 6528 7365  if isinstance(se
-00038bb0: 7474 696e 6773 5b22 636f 7265 225d 5b22  ttings["core"]["
-00038bc0: 7369 676d 6122 5d2c 204c 6973 7429 3a0a  sigma"], List):.
-00038bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00038be0: 2320 696e 2063 6173 6520 6f66 2073 6967  # in case of sig
-00038bf0: 6d61 2069 7320 6120 636f 6d70 6c65 7820  ma is a complex 
-00038c00: 6e75 6d62 6572 2c20 6974 2069 7320 6769  number, it is gi
-00038c10: 7665 6e20 6173 2061 206c 6973 7420 616e  ven as a list an
-00038c20: 6420 6e65 6564 7320 746f 2074 7261 6e73  d needs to trans
-00038c30: 6c61 7465 6420 746f 2063 6f6d 706c 6578  lated to complex
-00038c40: 2e0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00038c50: 2020 7365 7474 696e 6773 5b22 636f 7265    settings["core
-00038c60: 225d 5b22 7369 676d 6122 5d20 3d20 636f  "]["sigma"] = co
-00038c70: 6d70 6c65 7828 7365 7474 696e 6773 5b22  mplex(settings["
-00038c80: 636f 7265 225d 5b22 7369 676d 6122 5d5b  core"]["sigma"][
-00038c90: 305d 2c20 7365 7474 696e 6773 5b22 636f  0], settings["co
-00038ca0: 7265 225d 5b22 7369 676d 6122 5d5b 315d  re"]["sigma"][1]
-00038cb0: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
-00038cc0: 6620 7365 7474 696e 6773 5b22 636f 7265  f settings["core
-00038cd0: 225d 5b22 6d61 7465 7269 616c 225d 2021  "]["material"] !
-00038ce0: 3d20 2763 7573 746f 6d27 3a0a 2020 2020  = 'custom':.    
-00038cf0: 2020 2020 2020 2020 2020 2020 2320 6120              # a 
-00038d00: 6375 7374 6f6d 2063 6f72 6520 646f 6573  custom core does
-00038d10: 206e 6f74 206e 6565 6420 6120 6d61 7465   not need a mate
-00038d20: 7269 616c 2c20 6d65 6173 7572 656d 656e  rial, measuremen
-00038d30: 745f 7365 7475 7020 616e 6420 5f64 6174  t_setup and _dat
-00038d40: 6174 7970 650a 2020 2020 2020 2020 2020  atype.          
-00038d50: 2020 2020 2020 7365 7474 696e 6773 5b22        settings["
-00038d60: 636f 7265 225d 5b22 6d61 7465 7269 616c  core"]["material
-00038d70: 225d 203d 204d 6174 6572 6961 6c28 7365  "] = Material(se
-00038d80: 7474 696e 6773 5b22 636f 7265 225d 5b22  ttings["core"]["
-00038d90: 6d61 7465 7269 616c 225d 290a 2020 2020  material"]).    
-00038da0: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00038db0: 696e 6773 5b22 636f 7265 225d 5b22 7065  ings["core"]["pe
-00038dc0: 726d 6561 6269 6c69 7479 5f6d 6561 7375  rmeability_measu
-00038dd0: 7265 6d65 6e74 5f73 6574 7570 225d 203d  rement_setup"] =
-00038de0: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
-00038df0: 2020 2020 2020 204d 6561 7375 7265 6d65         Measureme
-00038e00: 6e74 5365 7475 7028 7365 7474 696e 6773  ntSetup(settings
-00038e10: 5b22 636f 7265 225d 5b22 7065 726d 6561  ["core"]["permea
-00038e20: 6269 6c69 7479 5f6d 6561 7375 7265 6d65  bility_measureme
-00038e30: 6e74 5f73 6574 7570 225d 290a 2020 2020  nt_setup"]).    
-00038e40: 2020 2020 2020 2020 2020 2020 7365 7474              sett
-00038e50: 696e 6773 5b22 636f 7265 225d 5b22 7065  ings["core"]["pe
-00038e60: 726d 6561 6269 6c69 7479 5f64 6174 6174  rmeability_datat
-00038e70: 7970 6522 5d20 3d20 5c0a 2020 2020 2020  ype"] = \.      
-00038e80: 2020 2020 2020 2020 2020 2020 2020 4d65                Me
-00038e90: 6173 7572 656d 656e 7444 6174 6154 7970  asurementDataTyp
-00038ea0: 6528 7365 7474 696e 6773 5b22 636f 7265  e(settings["core
-00038eb0: 225d 5b22 7065 726d 6561 6269 6c69 7479  "]["permeability
-00038ec0: 5f64 6174 6174 7970 6522 5d29 0a20 2020  _datatype"]).   
-00038ed0: 2020 2020 2020 2020 2020 2020 2073 6574               set
-00038ee0: 7469 6e67 735b 2263 6f72 6522 5d5b 2270  tings["core"]["p
-00038ef0: 6572 6d69 7474 6976 6974 795f 6d65 6173  ermittivity_meas
-00038f00: 7572 656d 656e 745f 7365 7475 7022 5d20  urement_setup"] 
-00038f10: 3d20 5c0a 2020 2020 2020 2020 2020 2020  = \.            
-00038f20: 2020 2020 2020 2020 4d65 6173 7572 656d          Measurem
-00038f30: 656e 7453 6574 7570 2873 6574 7469 6e67  entSetup(setting
-00038f40: 735b 2263 6f72 6522 5d5b 2270 6572 6d69  s["core"]["permi
-00038f50: 7474 6976 6974 795f 6d65 6173 7572 656d  ttivity_measurem
-00038f60: 656e 745f 7365 7475 7022 5d29 0a20 2020  ent_setup"]).   
-00038f70: 2020 2020 2020 2020 2020 2020 2073 6574               set
-00038f80: 7469 6e67 735b 2263 6f72 6522 5d5b 2270  tings["core"]["p
-00038f90: 6572 6d69 7474 6976 6974 795f 6461 7461  ermittivity_data
-00038fa0: 7479 7065 225d 203d 205c 0a20 2020 2020  type"] = \.     
-00038fb0: 2020 2020 2020 2020 2020 2020 2020 204d                 M
-00038fc0: 6561 7375 7265 6d65 6e74 4461 7461 5479  easurementDataTy
-00038fd0: 7065 2873 6574 7469 6e67 735b 2263 6f72  pe(settings["cor
-00038fe0: 6522 5d5b 2270 6572 6d69 7474 6976 6974  e"]["permittivit
-00038ff0: 795f 6461 7461 7479 7065 225d 290a 0a20  y_datatype"]).. 
-00039000: 2020 2020 2020 2020 2020 2073 6574 7469             setti
-00039010: 6e67 735b 2263 6f72 6522 5d5b 2270 6572  ngs["core"]["per
-00039020: 6d65 6162 696c 6974 795f 6461 7461 736f  meability_dataso
-00039030: 7572 6365 225d 203d 205c 0a20 2020 2020  urce"] = \.     
-00039040: 2020 2020 2020 2020 2020 204d 6174 6572             Mater
-00039050: 6961 6c44 6174 6153 6f75 7263 6528 7365  ialDataSource(se
-00039060: 7474 696e 6773 5b22 636f 7265 225d 5b22  ttings["core"]["
-00039070: 7065 726d 6561 6269 6c69 7479 5f64 6174  permeability_dat
-00039080: 6173 6f75 7263 6522 5d29 0a20 2020 2020  asource"]).     
-00039090: 2020 2020 2020 2073 6574 7469 6e67 735b         settings[
-000390a0: 2263 6f72 6522 5d5b 2270 6572 6d69 7474  "core"]["permitt
-000390b0: 6976 6974 795f 6461 7461 736f 7572 6365  ivity_datasource
-000390c0: 225d 203d 205c 0a20 2020 2020 2020 2020  "] = \.         
-000390d0: 2020 2020 2020 204d 6174 6572 6961 6c44         MaterialD
-000390e0: 6174 6153 6f75 7263 6528 7365 7474 696e  ataSource(settin
-000390f0: 6773 5b22 636f 7265 225d 5b22 7065 726d  gs["core"]["perm
-00039100: 6974 7469 7669 7479 5f64 6174 6173 6f75  ittivity_datasou
-00039110: 7263 6522 5d29 0a0a 2020 2020 2020 2020  rce"])..        
-00039120: 2020 2020 636f 7265 203d 2043 6f72 6528      core = Core(
-00039130: 636f 7265 5f64 696d 656e 7369 6f6e 733d  core_dimensions=
-00039140: 636f 7265 5f64 696d 656e 7369 6f6e 732c  core_dimensions,
-00039150: 202a 2a73 6574 7469 6e67 735b 2263 6f72   **settings["cor
-00039160: 6522 5d29 0a20 2020 2020 2020 2020 2020  e"]).           
-00039170: 2067 656f 2e73 6574 5f63 6f72 6528 636f   geo.set_core(co
-00039180: 7265 290a 0a20 2020 2020 2020 2020 2020  re)..           
-00039190: 2069 6620 2261 6972 5f67 6170 7322 2069   if "air_gaps" i
-000391a0: 6e20 7365 7474 696e 6773 3a0a 2020 2020  n settings:.    
-000391b0: 2020 2020 2020 2020 2020 2020 6169 725f              air_
-000391c0: 6761 7073 203d 2041 6972 4761 7073 2841  gaps = AirGaps(A
-000391d0: 6972 4761 704d 6574 686f 645b 7365 7474  irGapMethod[sett
-000391e0: 696e 6773 5b22 6169 725f 6761 7073 225d  ings["air_gaps"]
-000391f0: 5b22 6d65 7468 6f64 225d 5d2c 2063 6f72  ["method"]], cor
-00039200: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00039210: 2020 2066 6f72 2061 6972 5f67 6170 2069     for air_gap i
-00039220: 6e20 7365 7474 696e 6773 5b22 6169 725f  n settings["air_
-00039230: 6761 7073 225d 5b22 6169 725f 6761 7073  gaps"]["air_gaps
-00039240: 225d 3a0a 2020 2020 2020 2020 2020 2020  "]:.            
-00039250: 2020 2020 2020 2020 6169 725f 6761 7073          air_gaps
-00039260: 2e61 6464 5f61 6972 5f67 6170 2841 6972  .add_air_gap(Air
-00039270: 4761 704c 6567 506f 7369 7469 6f6e 5b61  GapLegPosition[a
-00039280: 6972 5f67 6170 5b22 6c65 675f 706f 7369  ir_gap["leg_posi
-00039290: 7469 6f6e 225d 5d2c 2061 6972 5f67 6170  tion"]], air_gap
-000392a0: 5b22 6865 6967 6874 225d 2c0a 2020 2020  ["height"],.    
-000392b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000392c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000392d0: 2020 2020 2061 6972 5f67 6170 5b22 706f       air_gap["po
-000392e0: 7369 7469 6f6e 5f76 616c 7565 225d 2c20  sition_value"], 
-000392f0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00039300: 2020 6765 6f2e 7365 745f 6169 725f 6761    geo.set_air_ga
-00039310: 7073 2861 6972 5f67 6170 7329 0a0a 2020  ps(air_gaps)..  
-00039320: 2020 2020 2020 2020 2020 6966 2022 696e            if "in
-00039330: 7375 6c61 7469 6f6e 2220 696e 2073 6574  sulation" in set
-00039340: 7469 6e67 733a 0a20 2020 2020 2020 2020  tings:.         
-00039350: 2020 2020 2020 2069 6e73 756c 6174 696f         insulatio
-00039360: 6e20 3d20 496e 7375 6c61 7469 6f6e 2829  n = Insulation()
-00039370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00039380: 2069 6e73 756c 6174 696f 6e2e 6164 645f   insulation.add_
-00039390: 636f 7265 5f69 6e73 756c 6174 696f 6e73  core_insulations
-000393a0: 282a 7365 7474 696e 6773 5b22 696e 7375  (*settings["insu
-000393b0: 6c61 7469 6f6e 225d 5b22 636f 7265 5f69  lation"]["core_i
-000393c0: 6e73 756c 6174 696f 6e73 225d 290a 2020  nsulations"]).  
-000393d0: 2020 2020 2020 2020 2020 2020 2020 696e                in
-000393e0: 7375 6c61 7469 6f6e 2e61 6464 5f77 696e  sulation.add_win
-000393f0: 6469 6e67 5f69 6e73 756c 6174 696f 6e73  ding_insulations
-00039400: 2873 6574 7469 6e67 735b 2269 6e73 756c  (settings["insul
-00039410: 6174 696f 6e22 5d5b 2269 6e6e 6572 5f77  ation"]["inner_w
-00039420: 696e 6469 6e67 5f69 6e73 756c 6174 696f  inding_insulatio
-00039430: 6e73 225d 290a 2020 2020 2020 2020 2020  ns"]).          
-00039440: 2020 2020 2020 6765 6f2e 7365 745f 696e        geo.set_in
-00039450: 7375 6c61 7469 6f6e 2869 6e73 756c 6174  sulation(insulat
-00039460: 696f 6e29 0a0a 2020 2020 2020 2020 2020  ion)..          
-00039470: 2020 6966 2022 7374 7261 795f 7061 7468    if "stray_path
-00039480: 2220 696e 2073 6574 7469 6e67 733a 0a20  " in settings:. 
-00039490: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000394a0: 7472 6179 5f70 6174 6820 3d20 5374 7261  tray_path = Stra
-000394b0: 7950 6174 6828 2a2a 7365 7474 696e 6773  yPath(**settings
-000394c0: 5b22 7374 7261 795f 7061 7468 225d 290a  ["stray_path"]).
-000394d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000394e0: 6765 6f2e 7365 745f 7374 7261 795f 7061  geo.set_stray_pa
-000394f0: 7468 2873 7472 6179 5f70 6174 6829 0a0a  th(stray_path)..
-00039500: 2020 2020 2020 2020 2020 2020 6e65 775f              new_
-00039510: 7669 7274 7561 6c5f 7769 6e64 696e 675f  virtual_winding_
-00039520: 7769 6e64 6f77 7320 3d20 5b5d 0a20 2020  windows = [].   
-00039530: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-00039540: 5f77 696e 646f 7773 203d 2073 6574 7469  _windows = setti
-00039550: 6e67 735b 2277 696e 6469 6e67 5f77 696e  ngs["winding_win
-00039560: 646f 7773 225d 0a20 2020 2020 2020 2020  dows"].         
-00039570: 2020 2066 6f72 2077 696e 6469 6e67 5f77     for winding_w
-00039580: 696e 646f 7720 696e 2077 696e 6469 6e67  indow in winding
-00039590: 5f77 696e 646f 7773 3a0a 2020 2020 2020  _windows:.      
-000395a0: 2020 2020 2020 2020 2020 7669 7274 7561            virtua
-000395b0: 6c5f 7769 6e64 696e 675f 7769 6e64 6f77  l_winding_window
-000395c0: 7320 3d20 7769 6e64 696e 675f 7769 6e64  s = winding_wind
-000395d0: 6f77 5b22 7669 7274 7561 6c5f 7769 6e64  ow["virtual_wind
-000395e0: 696e 675f 7769 6e64 6f77 7322 5d0a 2020  ing_windows"].  
-000395f0: 2020 2020 2020 2020 2020 2020 2020 666f                fo
-00039600: 7220 7677 7720 696e 2076 6972 7475 616c  r vww in virtual
-00039610: 5f77 696e 6469 6e67 5f77 696e 646f 7773  _winding_windows
-00039620: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00039630: 2020 2020 2020 7475 726e 7320 3d20 7677        turns = vw
-00039640: 775b 2274 7572 6e73 225d 0a20 2020 2020  w["turns"].     
-00039650: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00039660: 6f6e 6475 6374 6f72 7320 3d20 5b5d 0a20  onductors = []. 
-00039670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039680: 2020 2066 6f72 2077 696e 6469 6e67 2069     for winding i
-00039690: 6e20 7677 775b 2277 696e 6469 6e67 7322  n vww["windings"
-000396a0: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
-000396b0: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-000396c0: 6e67 5f6e 756d 6265 7220 3d20 7769 6e64  ng_number = wind
-000396d0: 696e 675b 2277 696e 6469 6e67 5f6e 756d  ing["winding_num
-000396e0: 6265 7222 5d0a 2020 2020 2020 2020 2020  ber"].          
-000396f0: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00039700: 6e64 7563 746f 7220 3d20 436f 6e64 7563  nductor = Conduc
-00039710: 746f 7228 7769 6e64 696e 675b 2277 696e  tor(winding["win
-00039720: 6469 6e67 5f6e 756d 6265 7222 5d2c 2043  ding_number"], C
-00039730: 6f6e 6475 6374 6976 6974 795b 7769 6e64  onductivity[wind
-00039740: 696e 675b 2263 6f6e 6475 6374 6976 6974  ing["conductivit
-00039750: 7922 5d5d 290a 2020 2020 2020 2020 2020  y"]]).          
-00039760: 2020 2020 2020 2020 2020 2020 2020 636f                co
-00039770: 6e64 7563 746f 725f 7479 7065 203d 2043  nductor_type = C
-00039780: 6f6e 6475 6374 6f72 5479 7065 5b77 696e  onductorType[win
-00039790: 6469 6e67 5b22 636f 6e64 7563 746f 725f  ding["conductor_
-000397a0: 7479 7065 225d 5d0a 2020 2020 2020 2020  type"]].        
-000397b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000397c0: 6966 2063 6f6e 6475 6374 6f72 5f74 7970  if conductor_typ
-000397d0: 6520 3d3d 2043 6f6e 6475 6374 6f72 5479  e == ConductorTy
-000397e0: 7065 2e52 6563 7461 6e67 756c 6172 536f  pe.RectangularSo
-000397f0: 6c69 643a 0a20 2020 2020 2020 2020 2020  lid:.           
-00039800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039810: 2063 6f6e 6475 6374 6f72 2e73 6574 5f72   conductor.set_r
-00039820: 6563 7461 6e67 756c 6172 5f63 6f6e 6475  ectangular_condu
-00039830: 6374 6f72 2877 696e 6469 6e67 5b22 7468  ctor(winding["th
-00039840: 6963 6b6e 6573 7322 5d29 0a20 2020 2020  ickness"]).     
-00039850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039860: 2020 2065 6c69 6620 636f 6e64 7563 746f     elif conducto
-00039870: 725f 7479 7065 203d 3d20 436f 6e64 7563  r_type == Conduc
-00039880: 746f 7254 7970 652e 526f 756e 644c 6974  torType.RoundLit
-00039890: 7a3a 0a20 2020 2020 2020 2020 2020 2020  z:.             
-000398a0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-000398b0: 2033 206f 6620 3420 7769 7265 2070 7265   3 of 4 wire pre
-000398c0: 6665 7265 6e63 6573 2061 7265 2061 6c6c  ferences are all
-000398d0: 6f77 6564 2c20 736f 2066 696c 6c2d 6661  owed, so fill-fa
-000398e0: 6374 6f72 2069 7320 7365 7420 746f 204e  ctor is set to N
-000398f0: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00039900: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039910: 2023 2065 7665 6e20 7468 6520 7661 6c75   # even the valu
-00039920: 6520 6973 206b 6e6f 776e 2066 726f 6d20  e is known from 
-00039930: 7468 6520 6c6f 672e 0a20 2020 2020 2020  the log..       
-00039940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039950: 2020 2020 2063 6f6e 6475 6374 6f72 2e73       conductor.s
-00039960: 6574 5f6c 6974 7a5f 726f 756e 645f 636f  et_litz_round_co
-00039970: 6e64 7563 746f 7228 7769 6e64 696e 675b  nductor(winding[
-00039980: 2263 6f6e 6475 6374 6f72 5f72 6164 6975  "conductor_radiu
-00039990: 7322 5d2c 2077 696e 6469 6e67 5b22 6e75  s"], winding["nu
-000399a0: 6d62 6572 5f73 7472 616e 6473 225d 2c0a  mber_strands"],.
-000399b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000399c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000399d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000399e0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-000399f0: 696e 6469 6e67 5b22 7374 7261 6e64 5f72  inding["strand_r
-00039a00: 6164 6975 7322 5d2c 204e 6f6e 652c 0a20  adius"], None,. 
-00039a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039a40: 2020 2020 2020 2020 2020 2020 2020 436f                Co
-00039a50: 6e64 7563 746f 7241 7272 616e 6765 6d65  nductorArrangeme
-00039a60: 6e74 5b77 696e 6469 6e67 5b22 636f 6e64  nt[winding["cond
-00039a70: 7563 746f 725f 6172 7261 6e67 656d 656e  uctor_arrangemen
-00039a80: 7422 5d5d 290a 2020 2020 2020 2020 2020  t"]]).          
-00039a90: 2020 2020 2020 2020 2020 2020 2020 656c                el
-00039aa0: 6966 2063 6f6e 6475 6374 6f72 5f74 7970  if conductor_typ
-00039ab0: 6520 3d3d 2043 6f6e 6475 6374 6f72 5479  e == ConductorTy
-00039ac0: 7065 2e52 6f75 6e64 536f 6c69 643a 0a20  pe.RoundSolid:. 
-00039ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039ae0: 2020 2020 2020 2020 2020 2063 6f6e 6475             condu
-00039af0: 6374 6f72 2e73 6574 5f73 6f6c 6964 5f72  ctor.set_solid_r
-00039b00: 6f75 6e64 5f63 6f6e 6475 6374 6f72 2877  ound_conductor(w
-00039b10: 696e 6469 6e67 5b22 636f 6e64 7563 746f  inding["conducto
-00039b20: 725f 7261 6469 7573 225d 2c0a 2020 2020  r_radius"],.    
-00039b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039b60: 2020 2020 2020 2020 2020 2020 436f 6e64              Cond
-00039b70: 7563 746f 7241 7272 616e 6765 6d65 6e74  uctorArrangement
-00039b80: 5b77 696e 6469 6e67 5b22 636f 6e64 7563  [winding["conduc
-00039b90: 746f 725f 6172 7261 6e67 656d 656e 7422  tor_arrangement"
+00037020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037040: 2020 2020 7365 6c66 2e74 776f 5f64 5f61      self.two_d_a
+00037050: 7869 2e70 5f6f 7574 6572 5b33 2c20 315d  xi.p_outer[3, 1]
+00037060: 202b 2063 6173 655f 6761 705f 746f 702c   + case_gap_top,
+00037070: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00037080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000370a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000370b0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+000370c0: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+000370d0: 5b31 2c20 305d 202b 2063 6173 655f 6761  [1, 0] + case_ga
+000370e0: 705f 7269 6768 742c 0a20 2020 2020 2020  p_right,.       
+000370f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037130: 2020 7365 6c66 2e74 776f 5f64 5f61 7869    self.two_d_axi
+00037140: 2e70 5f6f 7574 6572 5b31 2c20 315d 202d  .p_outer[1, 1] -
+00037150: 2063 6173 655f 6761 705f 626f 7429 290a   case_gap_bot)).
+00037160: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
+00037170: 7365 6c65 6374 7365 676d 656e 7428 2a4d  selectsegment(*M
+00037180: 6167 6e65 7469 6343 6f6d 706f 6e65 6e74  agneticComponent
+00037190: 2e63 616c 6375 6c61 7465 5f70 6f69 6e74  .calculate_point
+000371a0: 5f61 7665 7261 6765 2873 656c 662e 7477  _average(self.tw
+000371b0: 6f5f 645f 6178 692e 705f 6f75 7465 725b  o_d_axi.p_outer[
+000371c0: 312c 2030 5d20 2b20 6361 7365 5f67 6170  1, 0] + case_gap
+000371d0: 5f72 6967 6874 2c0a 2020 2020 2020 2020  _right,.        
+000371e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000371f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037200: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037220: 2073 656c 662e 7477 6f5f 645f 6178 692e   self.two_d_axi.
+00037230: 705f 6f75 7465 725b 312c 2031 5d20 2d20  p_outer[1, 1] - 
+00037240: 6361 7365 5f67 6170 5f62 6f74 2c20 302c  case_gap_bot, 0,
+00037250: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00037260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037290: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
+000372a0: 776f 5f64 5f61 7869 2e70 5f6f 7574 6572  wo_d_axi.p_outer
+000372b0: 5b30 2c20 315d 202d 2063 6173 655f 6761  [0, 1] - case_ga
+000372c0: 705f 626f 7429 290a 2020 2020 2020 2020  p_bot)).        
+000372d0: 2320 6665 6d6d 2e68 695f 7365 6c65 6374  # femm.hi_select
+000372e0: 7365 676d 656e 7428 2a73 656c 662e 6361  segment(*self.ca
+000372f0: 6c63 756c 6174 6550 6f69 6e74 4176 6572  lculatePointAver
+00037300: 6167 6528 302c 2073 656c 662e 7477 6f5f  age(0, self.two_
+00037310: 645f 6178 692e 705f 6f75 7465 725b 302c  d_axi.p_outer[0,
+00037320: 2031 5d20 2d20 6361 7365 4761 7042 6f74   1] - caseGapBot
+00037330: 2c0a 2020 2020 2020 2020 2320 302c 2073  ,.        # 0, s
+00037340: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00037350: 6f75 7465 725b 302c 2031 5d29 290a 2020  outer[0, 1])).  
+00037360: 2020 2020 2020 6665 6d6d 2e68 695f 7365        femm.hi_se
+00037370: 7473 6567 6d65 6e74 7072 6f70 2822 426f  tsegmentprop("Bo
+00037380: 756e 6461 7279 222c 2030 2c20 312c 2030  undary", 0, 1, 0
+00037390: 2c20 322c 2022 3c4e 6f6e 653e 2229 0a20  , 2, "<None>"). 
+000373a0: 2020 2020 2020 2066 656d 6d2e 6869 5f63         femm.hi_c
+000373b0: 6c65 6172 7365 6c65 6374 6564 2829 0a0a  learselected()..
+000373c0: 2020 2020 2020 2020 2320 4164 6420 6361          # Add ca
+000373d0: 7365 206d 6174 6572 6961 6c0a 2020 2020  se material.    
+000373e0: 2020 2020 6d61 7465 7269 616c 5f78 2c20      material_x, 
+000373f0: 6d61 7465 7269 616c 5f79 203d 2073 656c  material_y = sel
+00037400: 662e 6361 6c63 756c 6174 655f 706f 696e  f.calculate_poin
+00037410: 745f 6176 6572 6167 6528 302c 2073 656c  t_average(0, sel
+00037420: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00037430: 7465 725b 322c 2031 5d2c 2030 2c0a 2020  ter[2, 1], 0,.  
+00037440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037470: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00037480: 2e74 776f 5f64 5f61 7869 2e70 5f6f 7574  .two_d_axi.p_out
+00037490: 6572 5b32 2c20 315d 202b 2063 6173 655f  er[2, 1] + case_
+000374a0: 6761 705f 746f 7029 0a20 2020 2020 2020  gap_top).       
+000374b0: 2066 656d 6d2e 6869 5f61 6464 626c 6f63   femm.hi_addbloc
+000374c0: 6b6c 6162 656c 286d 6174 6572 6961 6c5f  klabel(material_
+000374d0: 7820 2b20 302e 3030 312c 206d 6174 6572  x + 0.001, mater
+000374e0: 6961 6c5f 7929 0a20 2020 2020 2020 2066  ial_y).        f
+000374f0: 656d 6d2e 6869 5f73 656c 6563 746c 6162  emm.hi_selectlab
+00037500: 656c 286d 6174 6572 6961 6c5f 7820 2b20  el(material_x + 
+00037510: 302e 3030 312c 206d 6174 6572 6961 6c5f  0.001, material_
+00037520: 7929 0a20 2020 2020 2020 2066 656d 6d2e  y).        femm.
+00037530: 6869 5f73 6574 626c 6f63 6b70 726f 7028  hi_setblockprop(
+00037540: 2743 6173 6527 2c20 312c 2030 2c20 3029  'Case', 1, 0, 0)
+00037550: 0a20 2020 2020 2020 2066 656d 6d2e 6869  .        femm.hi
+00037560: 5f63 6c65 6172 7365 6c65 6374 6564 2829  _clearselected()
+00037570: 0a0a 2020 2020 2020 2020 2320 4164 6420  ..        # Add 
+00037580: 436f 696c 0a20 2020 2020 2020 2066 6f72  Coil.        for
+00037590: 206e 756d 2069 6e20 7261 6e67 6528 6c65   num in range(le
+000375a0: 6e28 7365 6c66 2e77 696e 6469 6e67 7329  n(self.windings)
+000375b0: 293a 0a20 2020 2020 2020 2020 2020 2066  ):.            f
+000375c0: 6f72 2069 2069 6e20 7261 6e67 6528 302c  or i in range(0,
+000375d0: 2069 6e74 2873 656c 662e 7477 6f5f 645f   int(self.two_d_
+000375e0: 6178 692e 705f 636f 6e64 7563 746f 725b  axi.p_conductor[
+000375f0: 6e75 6d5d 2e73 6861 7065 5b30 5d20 2f20  num].shape[0] / 
+00037600: 3529 293a 0a20 2020 2020 2020 2020 2020  5)):.           
+00037610: 2020 2020 2023 2030 3a20 6365 6e74 6572       # 0: center
+00037620: 207c 2031 3a20 6c65 6674 207c 2032 3a20   | 1: left | 2: 
+00037630: 746f 7020 7c20 333a 2072 6967 6874 207c  top | 3: right |
+00037640: 2034 2e62 6f74 746f 6d0a 2020 2020 2020   4.bottom.      
+00037650: 2020 2020 2020 2020 2020 6665 6d6d 2e68            femm.h
+00037660: 695f 6472 6177 6172 6328 7365 6c66 2e74  i_drawarc(self.t
+00037670: 776f 5f64 5f61 7869 2e70 5f63 6f6e 6475  wo_d_axi.p_condu
+00037680: 6374 6f72 5b6e 756d 5d5b 3520 2a20 6920  ctor[num][5 * i 
+00037690: 2b20 315d 5b30 5d2c 0a20 2020 2020 2020  + 1][0],.       
+000376a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000376b0: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+000376c0: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
+000376d0: 746f 725b 6e75 6d5d 5b35 202a 2069 202b  tor[num][5 * i +
+000376e0: 2031 5d5b 315d 2c0a 2020 2020 2020 2020   1][1],.        
+000376f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037700: 2020 2020 2020 2020 7365 6c66 2e74 776f          self.two
+00037710: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
+00037720: 6f72 5b6e 756d 5d5b 3520 2a20 6920 2b20  or[num][5 * i + 
+00037730: 335d 5b30 5d2c 0a20 2020 2020 2020 2020  3][0],.         
+00037740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037750: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+00037760: 645f 6178 692e 705f 636f 6e64 7563 746f  d_axi.p_conducto
+00037770: 725b 6e75 6d5d 5b35 202a 2069 202b 2033  r[num][5 * i + 3
+00037780: 5d5b 315d 2c20 3138 302c 2032 2e35 290a  ][1], 180, 2.5).
+00037790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000377a0: 6665 6d6d 2e68 695f 6164 6461 7263 2873  femm.hi_addarc(s
+000377b0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+000377c0: 636f 6e64 7563 746f 725b 6e75 6d5d 5b35  conductor[num][5
+000377d0: 202a 2069 202b 2033 5d5b 305d 2c0a 2020   * i + 3][0],.  
+000377e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000377f0: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+00037800: 662e 7477 6f5f 645f 6178 692e 705f 636f  f.two_d_axi.p_co
+00037810: 6e64 7563 746f 725b 6e75 6d5d 5b35 202a  nductor[num][5 *
+00037820: 2069 202b 2033 5d5b 315d 2c0a 2020 2020   i + 3][1],.    
+00037830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037840: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00037850: 7477 6f5f 645f 6178 692e 705f 636f 6e64  two_d_axi.p_cond
+00037860: 7563 746f 725b 6e75 6d5d 5b35 202a 2069  uctor[num][5 * i
+00037870: 202b 2031 5d5b 305d 2c0a 2020 2020 2020   + 1][0],.      
+00037880: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037890: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+000378a0: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
+000378b0: 746f 725b 6e75 6d5d 5b35 202a 2069 202b  tor[num][5 * i +
+000378c0: 2031 5d5b 315d 2c20 3138 302c 2032 2e35   1][1], 180, 2.5
+000378d0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+000378e0: 2020 6665 6d6d 2e68 695f 6164 6462 6c6f    femm.hi_addblo
+000378f0: 636b 6c61 6265 6c28 7365 6c66 2e74 776f  cklabel(self.two
+00037900: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
+00037910: 6f72 5b6e 756d 5d5b 3520 2a20 695d 5b30  or[num][5 * i][0
+00037920: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+00037930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037940: 2020 2020 2020 2020 2073 656c 662e 7477           self.tw
+00037950: 6f5f 645f 6178 692e 705f 636f 6e64 7563  o_d_axi.p_conduc
+00037960: 746f 725b 6e75 6d5d 5b35 202a 2069 5d5b  tor[num][5 * i][
+00037970: 315d 290a 2020 2020 2020 2020 2020 2020  1]).            
+00037980: 2020 2020 6665 6d6d 2e68 695f 7365 6c65      femm.hi_sele
+00037990: 6374 6c61 6265 6c28 7365 6c66 2e74 776f  ctlabel(self.two
+000379a0: 5f64 5f61 7869 2e70 5f63 6f6e 6475 6374  _d_axi.p_conduct
+000379b0: 6f72 5b6e 756d 5d5b 3520 2a20 695d 5b30  or[num][5 * i][0
+000379c0: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
+000379d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000379e0: 2020 2020 2020 2073 656c 662e 7477 6f5f         self.two_
+000379f0: 645f 6178 692e 705f 636f 6e64 7563 746f  d_axi.p_conducto
+00037a00: 725b 6e75 6d5d 5b35 202a 2069 5d5b 315d  r[num][5 * i][1]
+00037a10: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00037a20: 2020 6966 206e 756d 203d 3d20 303a 0a20    if num == 0:. 
+00037a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00037a40: 2020 2066 656d 6d2e 6869 5f73 6574 626c     femm.hi_setbl
+00037a50: 6f63 6b70 726f 7028 6627 5769 7265 5f7b  ockprop(f'Wire_{
+00037a60: 6e75 6d7d 5f7b 697d 272c 2031 2c20 302c  num}_{i}', 1, 0,
+00037a70: 2031 290a 2020 2020 2020 2020 2020 2020   1).            
+00037a80: 2020 2020 6966 206e 756d 203d 3d20 313a      if num == 1:
+00037a90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00037aa0: 2020 2020 2066 656d 6d2e 6869 5f73 6574       femm.hi_set
+00037ab0: 626c 6f63 6b70 726f 7028 6627 5769 7265  blockprop(f'Wire
+00037ac0: 5f7b 6e75 6d7d 5f7b 697d 272c 2031 2c20  _{num}_{i}', 1, 
+00037ad0: 302c 2031 290a 2020 2020 2020 2020 2020  0, 1).          
+00037ae0: 2020 2020 2020 6665 6d6d 2e68 695f 636c        femm.hi_cl
+00037af0: 6561 7273 656c 6563 7465 6428 290a 0a20  earselected().. 
+00037b00: 2020 2020 2020 2023 2044 6566 696e 6520         # Define 
+00037b10: 616e 2022 6f70 656e 2220 626f 756e 6461  an "open" bounda
+00037b20: 7279 2063 6f6e 6469 7469 6f6e 2075 7369  ry condition usi
+00037b30: 6e67 2074 6865 2062 7569 6c74 2d69 6e20  ng the built-in 
+00037b40: 6675 6e63 7469 6f6e 3a0a 2020 2020 2020  function:.      
+00037b50: 2020 2320 6665 6d6d 2e68 695f 6d61 6b65    # femm.hi_make
+00037b60: 4142 4328 290a 0a20 2020 2020 2020 2023  ABC()..        #
+00037b70: 203d 3d20 4c61 6265 6c73 2f44 6573 6967   == Labels/Desig
+00037b80: 6e61 7469 6f6e 7320 3d3d 0a20 2020 2020  nations ==.     
+00037b90: 2020 2023 204c 6162 656c 2066 6f72 2061     # Label for a
+00037ba0: 6972 2061 6e64 2061 6972 2067 6170 0a20  ir and air gap. 
+00037bb0: 2020 2020 2020 2069 6620 7365 6c66 2e61         if self.a
+00037bc0: 6972 5f67 6170 732e 6e75 6d62 6572 203d  ir_gaps.number =
+00037bd0: 3d20 303a 0a20 2020 2020 2020 2020 2020  = 0:.           
+00037be0: 2066 656d 6d2e 6869 5f61 6464 626c 6f63   femm.hi_addbloc
+00037bf0: 6b6c 6162 656c 2873 656c 662e 7477 6f5f  klabel(self.two_
+00037c00: 645f 6178 692e 725f 696e 6e65 7220 2d20  d_axi.r_inner - 
+00037c10: 302e 3030 3031 2c20 3029 0a20 2020 2020  0.0001, 0).     
+00037c20: 2020 2020 2020 2066 656d 6d2e 6869 5f73         femm.hi_s
+00037c30: 656c 6563 746c 6162 656c 2873 656c 662e  electlabel(self.
+00037c40: 7477 6f5f 645f 6178 692e 725f 696e 6e65  two_d_axi.r_inne
+00037c50: 7220 2d20 302e 3030 312c 2030 290a 2020  r - 0.001, 0).  
+00037c60: 2020 2020 2020 2020 2020 6665 6d6d 2e68            femm.h
+00037c70: 695f 7365 7462 6c6f 636b 7072 6f70 2827  i_setblockprop('
+00037c80: 4169 7227 2c20 312c 2030 2c20 3029 0a20  Air', 1, 0, 0). 
+00037c90: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
+00037ca0: 6869 5f63 6c65 6172 7365 6c65 6374 6564  hi_clearselected
+00037cb0: 2829 0a20 2020 2020 2020 2065 6c73 653a  ().        else:
+00037cc0: 0a20 2020 2020 2020 2020 2020 2066 656d  .            fem
+00037cd0: 6d2e 6869 5f61 6464 626c 6f63 6b6c 6162  m.hi_addblocklab
+00037ce0: 656c 2873 656c 662e 7477 6f5f 645f 6178  el(self.two_d_ax
+00037cf0: 692e 725f 696e 6e65 7220 2d20 302e 3030  i.r_inner - 0.00
+00037d00: 3031 2c20 3029 0a20 2020 2020 2020 2020  01, 0).         
+00037d10: 2020 2066 656d 6d2e 6869 5f73 656c 6563     femm.hi_selec
+00037d20: 746c 6162 656c 2873 656c 662e 7477 6f5f  tlabel(self.two_
+00037d30: 645f 6178 692e 725f 696e 6e65 7220 2d20  d_axi.r_inner - 
+00037d40: 302e 3030 312c 2030 290a 2020 2020 2020  0.001, 0).      
+00037d50: 2020 2020 2020 6665 6d6d 2e68 695f 7365        femm.hi_se
+00037d60: 7462 6c6f 636b 7072 6f70 2827 4169 7227  tblockprop('Air'
+00037d70: 2c20 312c 2030 2c20 3029 0a20 2020 2020  , 1, 0, 0).     
+00037d80: 2020 2020 2020 2066 656d 6d2e 6869 5f63         femm.hi_c
+00037d90: 6c65 6172 7365 6c65 6374 6564 2829 0a20  learselected(). 
+00037da0: 2020 2020 2020 2020 2020 2066 656d 6d2e             femm.
+00037db0: 6869 5f61 6464 626c 6f63 6b6c 6162 656c  hi_addblocklabel
+00037dc0: 2830 2e30 3031 2c20 3029 0a20 2020 2020  (0.001, 0).     
+00037dd0: 2020 2020 2020 2066 656d 6d2e 6869 5f73         femm.hi_s
+00037de0: 656c 6563 746c 6162 656c 2830 2e30 3031  electlabel(0.001
+00037df0: 2c20 3029 0a20 2020 2020 2020 2020 2020  , 0).           
+00037e00: 2066 656d 6d2e 6869 5f73 6574 626c 6f63   femm.hi_setbloc
+00037e10: 6b70 726f 7028 2741 6972 2047 6170 7327  kprop('Air Gaps'
+00037e20: 2c20 312c 2030 2c20 3029 0a20 2020 2020  , 1, 0, 0).     
+00037e30: 2020 2020 2020 2066 656d 6d2e 6869 5f63         femm.hi_c
+00037e40: 6c65 6172 7365 6c65 6374 6564 2829 0a0a  learselected()..
+00037e50: 2020 2020 2020 2020 2320 4c61 6265 6c20          # Label 
+00037e60: 666f 7220 636f 7265 0a20 2020 2020 2020  for core.       
+00037e70: 2066 656d 6d2e 6869 5f61 6464 626c 6f63   femm.hi_addbloc
+00037e80: 6b6c 6162 656c 2873 656c 662e 7477 6f5f  klabel(self.two_
+00037e90: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
+00037ea0: 2030 5d20 2d20 302e 3030 312c 2073 656c   0] - 0.001, sel
+00037eb0: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00037ec0: 7465 725b 332c 2031 5d20 2d20 302e 3030  ter[3, 1] - 0.00
+00037ed0: 3129 0a20 2020 2020 2020 2066 656d 6d2e  1).        femm.
+00037ee0: 6869 5f73 656c 6563 746c 6162 656c 2873  hi_selectlabel(s
+00037ef0: 656c 662e 7477 6f5f 645f 6178 692e 705f  elf.two_d_axi.p_
+00037f00: 6f75 7465 725b 332c 2030 5d20 2d20 302e  outer[3, 0] - 0.
+00037f10: 3030 312c 2073 656c 662e 7477 6f5f 645f  001, self.two_d_
+00037f20: 6178 692e 705f 6f75 7465 725b 332c 2031  axi.p_outer[3, 1
+00037f30: 5d20 2d20 302e 3030 3129 0a20 2020 2020  ] - 0.001).     
+00037f40: 2020 2066 656d 6d2e 6869 5f73 6574 626c     femm.hi_setbl
+00037f50: 6f63 6b70 726f 7028 2743 6f72 6527 2c20  ockprop('Core', 
+00037f60: 312c 2030 2c20 3029 0a20 2020 2020 2020  1, 0, 0).       
+00037f70: 2066 656d 6d2e 6869 5f63 6c65 6172 7365   femm.hi_clearse
+00037f80: 6c65 6374 6564 2829 0a0a 2020 2020 2020  lected()..      
+00037f90: 2020 2320 4e6f 7420 6e65 6564 6564 2077    # Not needed w
+00037fa0: 6865 6e20 7468 6520 636f 7265 2069 7320  hen the core is 
+00037fb0: 7468 6520 626f 756e 6461 7279 0a20 2020  the boundary.   
+00037fc0: 2020 2020 2023 2066 656d 6d2e 6869 5f61       # femm.hi_a
+00037fd0: 6464 626c 6f63 6b6c 6162 656c 2873 656c  ddblocklabel(sel
+00037fe0: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00037ff0: 7465 725b 332c 2030 5d20 2b20 302e 3030  ter[3, 0] + 0.00
+00038000: 312c 2073 656c 662e 7477 6f5f 645f 6178  1, self.two_d_ax
+00038010: 692e 705f 6f75 7465 725b 332c 2031 5d20  i.p_outer[3, 1] 
+00038020: 2b20 302e 3030 3129 0a20 2020 2020 2020  + 0.001).       
+00038030: 2023 2066 656d 6d2e 6869 5f73 656c 6563   # femm.hi_selec
+00038040: 746c 6162 656c 2873 656c 662e 7477 6f5f  tlabel(self.two_
+00038050: 645f 6178 692e 705f 6f75 7465 725b 332c  d_axi.p_outer[3,
+00038060: 2030 5d20 2b20 302e 3030 312c 2073 656c   0] + 0.001, sel
+00038070: 662e 7477 6f5f 645f 6178 692e 705f 6f75  f.two_d_axi.p_ou
+00038080: 7465 725b 332c 2031 5d20 2b20 302e 3030  ter[3, 1] + 0.00
+00038090: 3129 0a20 2020 2020 2020 2023 2066 656d  1).        # fem
+000380a0: 6d2e 6869 5f73 6574 626c 6f63 6b70 726f  m.hi_setblockpro
+000380b0: 7028 2741 6972 272c 2031 2c20 302c 2030  p('Air', 1, 0, 0
+000380c0: 290a 2020 2020 2020 2020 2320 6665 6d6d  ).        # femm
+000380d0: 2e68 695f 636c 6561 7273 656c 6563 7465  .hi_clearselecte
+000380e0: 6428 290a 0a20 2020 2020 2020 2023 204e  d()..        # N
+000380f0: 6f77 2c20 7468 6520 6669 6e69 7368 6564  ow, the finished
+00038100: 2069 6e70 7574 2067 656f 6d65 7472 7920   input geometry 
+00038110: 6361 6e20 6265 2064 6973 706c 6179 6564  can be displayed
+00038120: 2e0a 2020 2020 2020 2020 6665 6d6d 2e68  ..        femm.h
+00038130: 695f 7a6f 6f6d 6e61 7475 7261 6c28 290a  i_zoomnatural().
+00038140: 2020 2020 2020 2020 6665 6d6d 2e68 695f          femm.hi_
+00038150: 7361 7665 6173 2866 656d 6d5f 6d6f 6465  saveas(femm_mode
+00038160: 6c5f 6669 6c65 5f70 6174 6829 0a20 2020  l_file_path).   
+00038170: 2020 2020 2066 656d 6d2e 6869 5f61 6e61       femm.hi_ana
+00038180: 6c79 7a65 2829 0a20 2020 2020 2020 2066  lyze().        f
+00038190: 656d 6d2e 6869 5f6c 6f61 6473 6f6c 7574  emm.hi_loadsolut
+000381a0: 696f 6e28 290a 2020 2020 2020 2020 696e  ion().        in
+000381b0: 7075 7428 2920 2023 2053 6f20 7468 6520  put()  # So the 
+000381c0: 7769 6e64 6f77 2073 7461 7973 206f 7065  window stays ope
+000381d0: 6e0a 2020 2020 2020 2020 2320 6665 6d6d  n.        # femm
+000381e0: 2e63 6c6f 7365 6665 6d6d 2829 0a0a 2020  .closefemm()..  
+000381f0: 2020 4073 7461 7469 636d 6574 686f 640a    @staticmethod.
+00038200: 2020 2020 6465 6620 656e 636f 6465 5f73      def encode_s
+00038210: 6574 7469 6e67 7328 6f29 202d 3e20 4469  ettings(o) -> Di
+00038220: 6374 3a0a 2020 2020 2020 2020 2222 2245  ct:.        """E
+00038230: 6e63 6f64 6520 7468 6520 6d61 676e 6574  ncode the magnet
+00038240: 6963 2063 6f6d 706f 6e65 6e74 2069 6e20  ic component in 
+00038250: 6120 6469 6374 696f 6e61 7279 2e0a 0a20  a dictionary... 
+00038260: 2020 2020 2020 203a 7061 7261 6d20 6f3a         :param o:
+00038270: 204d 6167 6e65 7469 6320 636f 6d70 6f6e   Magnetic compon
+00038280: 656e 7420 636f 6e74 6169 6e69 6e67 2074  ent containing t
+00038290: 6865 206d 6f64 656c 2e0a 2020 2020 2020  he model..      
+000382a0: 2020 3a74 7970 6520 6f3a 204d 6167 6e65    :type o: Magne
+000382b0: 7469 6343 6f6d 706f 6e65 6e74 0a20 2020  ticComponent.   
+000382c0: 2020 2020 203a 7265 7475 726e 3a20 4d6f       :return: Mo
+000382d0: 6465 6c20 656e 636f 6465 7320 6173 2064  del encodes as d
+000382e0: 6963 7469 6f6e 6172 790a 2020 2020 2020  ictionary.      
+000382f0: 2020 3a72 7479 7065 3a20 4469 6374 0a20    :rtype: Dict. 
+00038300: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00038310: 2020 2063 6f6e 7465 6e74 203d 207b 0a20     content = {. 
+00038320: 2020 2020 2020 2020 2020 2022 7369 6d75             "simu
+00038330: 6c61 7469 6f6e 5f6e 616d 6522 3a20 6f2e  lation_name": o.
+00038340: 7369 6d75 6c61 7469 6f6e 5f6e 616d 652c  simulation_name,
+00038350: 0a20 2020 2020 2020 2020 2020 2022 6461  .            "da
+00038360: 7465 223a 2064 6174 6574 696d 652e 746f  te": datetime.to
+00038370: 6461 7928 292e 7374 7266 7469 6d65 2827  day().strftime('
+00038380: 2559 2d25 6d2d 2564 2025 483a 254d 3a25  %Y-%m-%d %H:%M:%
+00038390: 5327 292c 0a20 2020 2020 2020 2020 2020  S'),.           
+000383a0: 2022 636f 6d70 6f6e 656e 745f 7479 7065   "component_type
+000383b0: 223a 206f 2e63 6f6d 706f 6e65 6e74 5f74  ": o.component_t
+000383c0: 7970 652e 6e61 6d65 2c0a 2020 2020 2020  ype.name,.      
+000383d0: 2020 2020 2020 2277 6f72 6b69 6e67 5f64        "working_d
+000383e0: 6972 6563 746f 7279 223a 206f 2e66 696c  irectory": o.fil
+000383f0: 655f 6461 7461 2e77 6f72 6b69 6e67 5f64  e_data.working_d
+00038400: 6972 6563 746f 7279 2c0a 2020 2020 2020  irectory,.      
+00038410: 2020 2020 2020 2263 6f72 6522 3a20 6f2e        "core": o.
+00038420: 636f 7265 2e74 6f5f 6469 6374 2829 2c0a  core.to_dict(),.
+00038430: 2020 2020 2020 2020 2020 2020 2277 696e              "win
+00038440: 6469 6e67 5f77 696e 646f 7773 223a 205b  ding_windows": [
+00038450: 7777 2e74 6f5f 6469 6374 2829 2066 6f72  ww.to_dict() for
+00038460: 2077 7720 696e 206f 2e77 696e 6469 6e67   ww in o.winding
+00038470: 5f77 696e 646f 7773 5d2c 0a20 2020 2020  _windows],.     
+00038480: 2020 207d 0a0a 2020 2020 2020 2020 6966     }..        if
+00038490: 206f 2e61 6972 5f67 6170 7320 6973 206e   o.air_gaps is n
+000384a0: 6f74 204e 6f6e 653a 0a20 2020 2020 2020  ot None:.       
+000384b0: 2020 2020 2063 6f6e 7465 6e74 5b22 6169       content["ai
+000384c0: 725f 6761 7073 225d 203d 206f 2e61 6972  r_gaps"] = o.air
+000384d0: 5f67 6170 732e 746f 5f64 6963 7428 290a  _gaps.to_dict().
+000384e0: 0a20 2020 2020 2020 2069 6620 6f2e 696e  .        if o.in
+000384f0: 7375 6c61 7469 6f6e 2069 7320 6e6f 7420  sulation is not 
+00038500: 4e6f 6e65 3a0a 2020 2020 2020 2020 2020  None:.          
+00038510: 2020 636f 6e74 656e 745b 2269 6e73 756c    content["insul
+00038520: 6174 696f 6e22 5d20 3d20 6f2e 696e 7375  ation"] = o.insu
+00038530: 6c61 7469 6f6e 2e74 6f5f 6469 6374 2829  lation.to_dict()
+00038540: 0a0a 2020 2020 2020 2020 6966 206f 2e73  ..        if o.s
+00038550: 7472 6179 5f70 6174 6820 6973 206e 6f74  tray_path is not
+00038560: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00038570: 2020 2063 6f6e 7465 6e74 5b22 7374 7261     content["stra
+00038580: 795f 7061 7468 225d 203d 206f 2e73 7472  y_path"] = o.str
+00038590: 6179 5f70 6174 682e 5f5f 6469 6374 5f5f  ay_path.__dict__
+000385a0: 0a0a 2020 2020 2020 2020 7265 7475 726e  ..        return
+000385b0: 2063 6f6e 7465 6e74 0a0a 2020 2020 4073   content..    @s
+000385c0: 7461 7469 636d 6574 686f 640a 2020 2020  taticmethod.    
+000385d0: 6465 6620 6465 636f 6465 5f73 6574 7469  def decode_setti
+000385e0: 6e67 735f 6672 6f6d 5f6c 6f67 286c 6f67  ngs_from_log(log
+000385f0: 5f66 696c 655f 7061 7468 3a20 7374 722c  _file_path: str,
+00038600: 2077 6f72 6b69 6e67 5f64 6972 6563 746f   working_directo
+00038610: 7279 3a20 7374 7220 3d20 4e6f 6e65 2c20  ry: str = None, 
+00038620: 7665 7262 6f73 6974 793a 2056 6572 626f  verbosity: Verbo
+00038630: 7369 7479 203d 2056 6572 626f 7369 7479  sity = Verbosity
+00038640: 2e53 696c 656e 7429 3a0a 2020 2020 2020  .Silent):.      
+00038650: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
+00038660: 6164 2074 6865 2067 6976 656e 206c 6f67  ad the given log
+00038670: 2061 6e64 2072 6574 7572 6e73 2074 6865   and returns the
+00038680: 206d 6167 6e65 7469 6320 636f 6d70 6f6e   magnetic compon
+00038690: 656e 7420 6672 6f6d 2074 6820 656c 6f67  ent from th elog
+000386a0: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+000386b0: 6d20 6c6f 675f 6669 6c65 5f70 6174 683a  m log_file_path:
+000386c0: 2050 6174 6820 746f 2074 6865 206c 6f67   Path to the log
+000386d0: 2066 696c 650a 2020 2020 2020 2020 3a74   file.        :t
+000386e0: 7970 6520 6c6f 675f 6669 6c65 5f70 6174  ype log_file_pat
+000386f0: 683a 2073 7472 0a20 2020 2020 2020 203a  h: str.        :
+00038700: 7061 7261 6d20 776f 726b 696e 675f 6469  param working_di
+00038710: 7265 6374 6f72 793a 2049 6620 7468 6520  rectory: If the 
+00038720: 776f 726b 696e 6720 6469 7265 6374 6f72  working director
+00038730: 7920 7368 616c 6c20 6265 2061 2064 6966  y shall be a dif
+00038740: 6665 7265 6e74 2066 726f 6d20 7468 6520  ferent from the 
+00038750: 6c6f 6720 6669 6c65 2065 6e74 6572 2061  log file enter a
+00038760: 206e 6577 206f 6e65 2068 6572 652c 0a20   new one here,. 
+00038770: 2020 2020 2020 2020 2020 2064 6566 6175             defau
+00038780: 6c74 7320 746f 204e 6f6e 650a 2020 2020  lts to None.    
+00038790: 2020 2020 3a74 7970 6520 776f 726b 696e      :type workin
+000387a0: 675f 6469 7265 6374 6f72 793a 2073 7472  g_directory: str
+000387b0: 2c20 6f70 7469 6f6e 616c 0a20 2020 2020  , optional.     
+000387c0: 2020 203a 7061 7261 6d20 7665 7262 6f73     :param verbos
+000387d0: 6974 793a 2053 6574 2074 6865 2076 6572  ity: Set the ver
+000387e0: 626f 7369 7479 2074 6f20 6368 6f6f 7365  bosity to choose
+000387f0: 2079 6f75 7220 6465 7374 696e 6174 696f   your destinatio
+00038800: 6e2e 2045 2e67 2e20 546f 436f 6e73 6f6c  n. E.g. ToConsol
+00038810: 6520 6f72 2054 6f46 696c 650a 2020 2020  e or ToFile.    
+00038820: 2020 2020 3a74 7970 6520 7665 7262 6f73      :type verbos
+00038830: 6974 793a 2066 656d 6d74 2e56 6572 626f  ity: femmt.Verbo
+00038840: 7369 7479 0a20 2020 2020 2020 203a 7265  sity.        :re
+00038850: 7475 726e 3a20 4d61 676e 6574 6963 2063  turn: Magnetic c
+00038860: 6f6d 706f 6e65 6e74 2063 6f6e 7461 696e  omponent contain
+00038870: 696e 6720 7468 6520 6d6f 6465 6c0a 2020  ing the model.  
+00038880: 2020 2020 2020 3a72 7479 7065 3a20 4d61        :rtype: Ma
+00038890: 676e 6574 6963 436f 6d70 6f6e 656e 740a  gneticComponent.
+000388a0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+000388b0: 2020 2020 6966 206e 6f74 206f 732e 7061      if not os.pa
+000388c0: 7468 2e69 7366 696c 6528 6c6f 675f 6669  th.isfile(log_fi
+000388d0: 6c65 5f70 6174 6829 3a0a 2020 2020 2020  le_path):.      
+000388e0: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
+000388f0: 7074 696f 6e28 6622 4669 6c65 207b 6c6f  ption(f"File {lo
+00038900: 675f 6669 6c65 5f70 6174 687d 2064 6f65  g_file_path} doe
+00038910: 7320 6e6f 7420 6578 6973 7473 206f 7220  s not exists or 
+00038920: 6973 206e 6f74 2061 2066 696c 6521 2229  is not a file!")
+00038930: 0a0a 2020 2020 2020 2020 7769 7468 206f  ..        with o
+00038940: 7065 6e28 6c6f 675f 6669 6c65 5f70 6174  pen(log_file_pat
+00038950: 682c 2022 7222 2920 6173 2066 643a 0a20  h, "r") as fd:. 
+00038960: 2020 2020 2020 2020 2020 2063 6f6e 7465             conte
+00038970: 6e74 203d 206a 736f 6e2e 6c6f 6164 2866  nt = json.load(f
+00038980: 6429 0a20 2020 2020 2020 2020 2020 2073  d).            s
+00038990: 6574 7469 6e67 7320 3d20 636f 6e74 656e  ettings = conten
+000389a0: 745b 2273 696d 756c 6174 696f 6e5f 7365  t["simulation_se
+000389b0: 7474 696e 6773 225d 0a0a 2020 2020 2020  ttings"]..      
+000389c0: 2020 6966 2073 6574 7469 6e67 7320 6973    if settings is
+000389d0: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
+000389e0: 2020 2020 2020 2063 7764 203d 2077 6f72         cwd = wor
+000389f0: 6b69 6e67 5f64 6972 6563 746f 7279 2069  king_directory i
+00038a00: 6620 776f 726b 696e 675f 6469 7265 6374  f working_direct
+00038a10: 6f72 7920 6973 206e 6f74 204e 6f6e 6520  ory is not None 
+00038a20: 656c 7365 2073 6574 7469 6e67 735b 2277  else settings["w
+00038a30: 6f72 6b69 6e67 5f64 6972 6563 746f 7279  orking_directory
+00038a40: 225d 0a20 2020 2020 2020 2020 2020 2067  "].            g
+00038a50: 656f 203d 204d 6167 6e65 7469 6343 6f6d  eo = MagneticCom
+00038a60: 706f 6e65 6e74 2863 6f6d 706f 6e65 6e74  ponent(component
+00038a70: 5f74 7970 653d 436f 6d70 6f6e 656e 7454  _type=ComponentT
+00038a80: 7970 655b 7365 7474 696e 6773 5b22 636f  ype[settings["co
+00038a90: 6d70 6f6e 656e 745f 7479 7065 225d 5d2c  mponent_type"]],
+00038aa0: 2077 6f72 6b69 6e67 5f64 6972 6563 746f   working_directo
+00038ab0: 7279 3d63 7764 2c0a 2020 2020 2020 2020  ry=cwd,.        
+00038ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038ad0: 2020 2020 2020 2020 2020 2020 7665 7262              verb
+00038ae0: 6f73 6974 793d 7665 7262 6f73 6974 7929  osity=verbosity)
+00038af0: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+00038b00: 7474 696e 6773 5b22 636f 7265 225d 5b22  ttings["core"]["
+00038b10: 6c6f 7373 5f61 7070 726f 6163 6822 5d20  loss_approach"] 
+00038b20: 3d20 4c6f 7373 4170 7072 6f61 6368 5b73  = LossApproach[s
+00038b30: 6574 7469 6e67 735b 2263 6f72 6522 5d5b  ettings["core"][
+00038b40: 226c 6f73 735f 6170 7072 6f61 6368 225d  "loss_approach"]
+00038b50: 5d0a 2020 2020 2020 2020 2020 2020 636f  ].            co
+00038b60: 7265 5f74 7970 6520 3d20 7365 7474 696e  re_type = settin
+00038b70: 6773 5b22 636f 7265 225d 5b22 636f 7265  gs["core"]["core
+00038b80: 5f74 7970 6522 5d0a 2020 2020 2020 2020  _type"].        
+00038b90: 2020 2020 6966 2063 6f72 655f 7479 7065      if core_type
+00038ba0: 203d 3d20 436f 7265 5479 7065 2e53 696e   == CoreType.Sin
+00038bb0: 676c 653a 0a20 2020 2020 2020 2020 2020  gle:.           
+00038bc0: 2020 2020 2063 6f72 655f 6469 6d65 6e73       core_dimens
+00038bd0: 696f 6e73 203d 2053 696e 676c 6543 6f72  ions = SingleCor
+00038be0: 6544 696d 656e 7369 6f6e 7328 636f 7265  eDimensions(core
+00038bf0: 5f69 6e6e 6572 5f64 6961 6d65 7465 723d  _inner_diameter=
+00038c00: 7365 7474 696e 6773 5b22 636f 7265 225d  settings["core"]
+00038c10: 5b22 636f 7265 5f69 6e6e 6572 5f64 6961  ["core_inner_dia
+00038c20: 6d65 7465 7222 5d2c 0a20 2020 2020 2020  meter"],.       
+00038c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038c60: 7769 6e64 6f77 5f77 3d73 6574 7469 6e67  window_w=setting
+00038c70: 735b 2263 6f72 6522 5d5b 2277 696e 646f  s["core"]["windo
+00038c80: 775f 7722 5d2c 0a20 2020 2020 2020 2020  w_w"],.         
+00038c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038cb0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+00038cc0: 6e64 6f77 5f68 3d73 6574 7469 6e67 735b  ndow_h=settings[
+00038cd0: 2263 6f72 6522 5d5b 2277 696e 646f 775f  "core"]["window_
+00038ce0: 6822 5d2c 0a20 2020 2020 2020 2020 2020  h"],.           
+00038cf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038d00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038d10: 2020 2020 2020 2020 2020 2020 636f 7265              core
+00038d20: 5f68 3d73 6574 7469 6e67 735b 2263 6f72  _h=settings["cor
+00038d30: 6522 5d5b 2263 6f72 655f 6822 5d29 0a0a  e"]["core_h"])..
+00038d40: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00038d50: 2063 6f72 655f 7479 7065 203d 3d20 436f   core_type == Co
+00038d60: 7265 5479 7065 2e53 7461 636b 6564 3a0a  reType.Stacked:.
+00038d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038d80: 636f 7265 5f64 696d 656e 7369 6f6e 7320  core_dimensions 
+00038d90: 3d20 5374 6163 6b65 6443 6f72 6544 696d  = StackedCoreDim
+00038da0: 656e 7369 6f6e 7328 636f 7265 5f69 6e6e  ensions(core_inn
+00038db0: 6572 5f64 6961 6d65 7465 723d 7365 7474  er_diameter=sett
+00038dc0: 696e 6773 5b22 636f 7265 225d 5b22 636f  ings["core"]["co
+00038dd0: 7265 5f69 6e6e 6572 5f64 6961 6d65 7465  re_inner_diamete
+00038de0: 7222 5d2c 0a20 2020 2020 2020 2020 2020  r"],.           
+00038df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038e10: 2020 2020 2020 2020 2020 2020 2077 696e               win
+00038e20: 646f 775f 773d 7365 7474 696e 6773 5b22  dow_w=settings["
+00038e30: 636f 7265 225d 5b22 7769 6e64 6f77 5f77  core"]["window_w
+00038e40: 225d 2c0a 2020 2020 2020 2020 2020 2020  "],.            
+00038e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038e70: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00038e80: 6f77 5f68 5f62 6f74 3d73 6574 7469 6e67  ow_h_bot=setting
+00038e90: 735b 2263 6f72 6522 5d5b 2277 696e 646f  s["core"]["windo
+00038ea0: 775f 685f 626f 7422 5d2c 0a20 2020 2020  w_h_bot"],.     
+00038eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00038ee0: 2020 2077 696e 646f 775f 685f 746f 703d     window_h_top=
+00038ef0: 7365 7474 696e 6773 5b22 636f 7265 225d  settings["core"]
+00038f00: 5b22 7769 6e64 6f77 5f68 5f74 6f70 225d  ["window_h_top"]
+00038f10: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00038f20: 2020 2320 546f 446f 3a20 636f 7265 5f68    # ToDo: core_h
+00038f30: 206e 6f74 2069 6d70 6c65 6d65 6e74 6564   not implemented
+00038f40: 2079 6574 2e0a 2020 2020 2020 2020 2020   yet..          
+00038f50: 2020 2020 2020 2320 636f 7265 5f68 3d73        # core_h=s
+00038f60: 6574 7469 6e67 735b 2263 6f72 6522 5d5b  ettings["core"][
+00038f70: 2263 6f72 655f 6822 5d29 0a20 2020 2020  "core_h"]).     
+00038f80: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+00038f90: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+00038fa0: 7365 2056 616c 7565 4572 726f 7228 2275  se ValueError("u
+00038fb0: 6e6b 6e6f 776e 2063 6f72 655f 7479 7065  nknown core_type
+00038fc0: 2066 6f72 2064 6563 6f64 696e 6720 6672   for decoding fr
+00038fd0: 6f6d 2072 6573 756c 745f 6c6f 672e 2229  om result_log.")
+00038fe0: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
+00038ff0: 2069 7369 6e73 7461 6e63 6528 7365 7474   isinstance(sett
+00039000: 696e 6773 5b22 636f 7265 225d 5b22 7369  ings["core"]["si
+00039010: 676d 6122 5d2c 204c 6973 7429 3a0a 2020  gma"], List):.  
+00039020: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00039030: 696e 2063 6173 6520 6f66 2073 6967 6d61  in case of sigma
+00039040: 2069 7320 6120 636f 6d70 6c65 7820 6e75   is a complex nu
+00039050: 6d62 6572 2c20 6974 2069 7320 6769 7665  mber, it is give
+00039060: 6e20 6173 2061 206c 6973 7420 616e 6420  n as a list and 
+00039070: 6e65 6564 7320 746f 2074 7261 6e73 6c61  needs to transla
+00039080: 7465 6420 746f 2063 6f6d 706c 6578 2e0a  ted to complex..
+00039090: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000390a0: 7365 7474 696e 6773 5b22 636f 7265 225d  settings["core"]
+000390b0: 5b22 7369 676d 6122 5d20 3d20 636f 6d70  ["sigma"] = comp
+000390c0: 6c65 7828 7365 7474 696e 6773 5b22 636f  lex(settings["co
+000390d0: 7265 225d 5b22 7369 676d 6122 5d5b 305d  re"]["sigma"][0]
+000390e0: 2c20 7365 7474 696e 6773 5b22 636f 7265  , settings["core
+000390f0: 225d 5b22 7369 676d 6122 5d5b 315d 290a  "]["sigma"][1]).
+00039100: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00039110: 7365 7474 696e 6773 5b22 636f 7265 225d  settings["core"]
+00039120: 5b22 6d61 7465 7269 616c 225d 2021 3d20  ["material"] != 
+00039130: 2763 7573 746f 6d27 3a0a 2020 2020 2020  'custom':.      
+00039140: 2020 2020 2020 2020 2020 2320 6120 6375            # a cu
+00039150: 7374 6f6d 2063 6f72 6520 646f 6573 206e  stom core does n
+00039160: 6f74 206e 6565 6420 6120 6d61 7465 7269  ot need a materi
+00039170: 616c 2c20 6d65 6173 7572 656d 656e 745f  al, measurement_
+00039180: 7365 7475 7020 616e 6420 5f64 6174 6174  setup and _datat
+00039190: 7970 650a 2020 2020 2020 2020 2020 2020  ype.            
+000391a0: 2020 2020 7365 7474 696e 6773 5b22 636f      settings["co
+000391b0: 7265 225d 5b22 6d61 7465 7269 616c 225d  re"]["material"]
+000391c0: 203d 204d 6174 6572 6961 6c28 7365 7474   = Material(sett
+000391d0: 696e 6773 5b22 636f 7265 225d 5b22 6d61  ings["core"]["ma
+000391e0: 7465 7269 616c 225d 290a 2020 2020 2020  terial"]).      
+000391f0: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+00039200: 6773 5b22 636f 7265 225d 5b22 7065 726d  gs["core"]["perm
+00039210: 6561 6269 6c69 7479 5f6d 6561 7375 7265  eability_measure
+00039220: 6d65 6e74 5f73 6574 7570 225d 203d 205c  ment_setup"] = \
+00039230: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00039240: 2020 2020 204d 6561 7375 7265 6d65 6e74       Measurement
+00039250: 5365 7475 7028 7365 7474 696e 6773 5b22  Setup(settings["
+00039260: 636f 7265 225d 5b22 7065 726d 6561 6269  core"]["permeabi
+00039270: 6c69 7479 5f6d 6561 7375 7265 6d65 6e74  lity_measurement
+00039280: 5f73 6574 7570 225d 290a 2020 2020 2020  _setup"]).      
+00039290: 2020 2020 2020 2020 2020 7365 7474 696e            settin
+000392a0: 6773 5b22 636f 7265 225d 5b22 7065 726d  gs["core"]["perm
+000392b0: 6561 6269 6c69 7479 5f64 6174 6174 7970  eability_datatyp
+000392c0: 6522 5d20 3d20 5c0a 2020 2020 2020 2020  e"] = \.        
+000392d0: 2020 2020 2020 2020 2020 2020 4d65 6173              Meas
+000392e0: 7572 656d 656e 7444 6174 6154 7970 6528  urementDataType(
+000392f0: 7365 7474 696e 6773 5b22 636f 7265 225d  settings["core"]
+00039300: 5b22 7065 726d 6561 6269 6c69 7479 5f64  ["permeability_d
+00039310: 6174 6174 7970 6522 5d29 0a20 2020 2020  atatype"]).     
+00039320: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+00039330: 6e67 735b 2263 6f72 6522 5d5b 2270 6572  ngs["core"]["per
+00039340: 6d69 7474 6976 6974 795f 6d65 6173 7572  mittivity_measur
+00039350: 656d 656e 745f 7365 7475 7022 5d20 3d20  ement_setup"] = 
+00039360: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+00039370: 2020 2020 2020 4d65 6173 7572 656d 656e        Measuremen
+00039380: 7453 6574 7570 2873 6574 7469 6e67 735b  tSetup(settings[
+00039390: 2263 6f72 6522 5d5b 2270 6572 6d69 7474  "core"]["permitt
+000393a0: 6976 6974 795f 6d65 6173 7572 656d 656e  ivity_measuremen
+000393b0: 745f 7365 7475 7022 5d29 0a20 2020 2020  t_setup"]).     
+000393c0: 2020 2020 2020 2020 2020 2073 6574 7469             setti
+000393d0: 6e67 735b 2263 6f72 6522 5d5b 2270 6572  ngs["core"]["per
+000393e0: 6d69 7474 6976 6974 795f 6461 7461 7479  mittivity_dataty
+000393f0: 7065 225d 203d 205c 0a20 2020 2020 2020  pe"] = \.       
+00039400: 2020 2020 2020 2020 2020 2020 204d 6561               Mea
+00039410: 7375 7265 6d65 6e74 4461 7461 5479 7065  surementDataType
+00039420: 2873 6574 7469 6e67 735b 2263 6f72 6522  (settings["core"
+00039430: 5d5b 2270 6572 6d69 7474 6976 6974 795f  ]["permittivity_
+00039440: 6461 7461 7479 7065 225d 290a 0a20 2020  datatype"])..   
+00039450: 2020 2020 2020 2020 2073 6574 7469 6e67           setting
+00039460: 735b 2263 6f72 6522 5d5b 2270 6572 6d65  s["core"]["perme
+00039470: 6162 696c 6974 795f 6461 7461 736f 7572  ability_datasour
+00039480: 6365 225d 203d 205c 0a20 2020 2020 2020  ce"] = \.       
+00039490: 2020 2020 2020 2020 204d 6174 6572 6961           Materia
+000394a0: 6c44 6174 6153 6f75 7263 6528 7365 7474  lDataSource(sett
+000394b0: 696e 6773 5b22 636f 7265 225d 5b22 7065  ings["core"]["pe
+000394c0: 726d 6561 6269 6c69 7479 5f64 6174 6173  rmeability_datas
+000394d0: 6f75 7263 6522 5d29 0a20 2020 2020 2020  ource"]).       
+000394e0: 2020 2020 2073 6574 7469 6e67 735b 2263       settings["c
+000394f0: 6f72 6522 5d5b 2270 6572 6d69 7474 6976  ore"]["permittiv
+00039500: 6974 795f 6461 7461 736f 7572 6365 225d  ity_datasource"]
+00039510: 203d 205c 0a20 2020 2020 2020 2020 2020   = \.           
+00039520: 2020 2020 204d 6174 6572 6961 6c44 6174       MaterialDat
+00039530: 6153 6f75 7263 6528 7365 7474 696e 6773  aSource(settings
+00039540: 5b22 636f 7265 225d 5b22 7065 726d 6974  ["core"]["permit
+00039550: 7469 7669 7479 5f64 6174 6173 6f75 7263  tivity_datasourc
+00039560: 6522 5d29 0a0a 2020 2020 2020 2020 2020  e"])..          
+00039570: 2020 636f 7265 203d 2043 6f72 6528 636f    core = Core(co
+00039580: 7265 5f64 696d 656e 7369 6f6e 733d 636f  re_dimensions=co
+00039590: 7265 5f64 696d 656e 7369 6f6e 732c 202a  re_dimensions, *
+000395a0: 2a73 6574 7469 6e67 735b 2263 6f72 6522  *settings["core"
+000395b0: 5d29 0a20 2020 2020 2020 2020 2020 2067  ]).            g
+000395c0: 656f 2e73 6574 5f63 6f72 6528 636f 7265  eo.set_core(core
+000395d0: 290a 0a20 2020 2020 2020 2020 2020 2069  )..            i
+000395e0: 6620 2261 6972 5f67 6170 7322 2069 6e20  f "air_gaps" in 
+000395f0: 7365 7474 696e 6773 3a0a 2020 2020 2020  settings:.      
+00039600: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+00039610: 7073 203d 2041 6972 4761 7073 2841 6972  ps = AirGaps(Air
+00039620: 4761 704d 6574 686f 645b 7365 7474 696e  GapMethod[settin
+00039630: 6773 5b22 6169 725f 6761 7073 225d 5b22  gs["air_gaps"]["
+00039640: 6d65 7468 6f64 225d 5d2c 2063 6f72 6529  method"]], core)
+00039650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00039660: 2066 6f72 2061 6972 5f67 6170 2069 6e20   for air_gap in 
+00039670: 7365 7474 696e 6773 5b22 6169 725f 6761  settings["air_ga
+00039680: 7073 225d 5b22 6169 725f 6761 7073 225d  ps"]["air_gaps"]
+00039690: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000396a0: 2020 2020 2020 6169 725f 6761 7073 2e61        air_gaps.a
+000396b0: 6464 5f61 6972 5f67 6170 2841 6972 4761  dd_air_gap(AirGa
+000396c0: 704c 6567 506f 7369 7469 6f6e 5b61 6972  pLegPosition[air
+000396d0: 5f67 6170 5b22 6c65 675f 706f 7369 7469  _gap["leg_positi
+000396e0: 6f6e 225d 5d2c 2061 6972 5f67 6170 5b22  on"]], air_gap["
+000396f0: 6865 6967 6874 225d 2c0a 2020 2020 2020  height"],.      
+00039700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039720: 2020 2061 6972 5f67 6170 5b22 706f 7369     air_gap["posi
+00039730: 7469 6f6e 5f76 616c 7565 225d 2c20 290a  tion_value"], ).
+00039740: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039750: 6765 6f2e 7365 745f 6169 725f 6761 7073  geo.set_air_gaps
+00039760: 2861 6972 5f67 6170 7329 0a0a 2020 2020  (air_gaps)..    
+00039770: 2020 2020 2020 2020 6966 2022 696e 7375          if "insu
+00039780: 6c61 7469 6f6e 2220 696e 2073 6574 7469  lation" in setti
+00039790: 6e67 733a 0a20 2020 2020 2020 2020 2020  ngs:.           
+000397a0: 2020 2020 2069 6e73 756c 6174 696f 6e20       insulation 
+000397b0: 3d20 496e 7375 6c61 7469 6f6e 2829 0a20  = Insulation(). 
+000397c0: 2020 2020 2020 2020 2020 2020 2020 2069                 i
+000397d0: 6e73 756c 6174 696f 6e2e 6164 645f 636f  nsulation.add_co
+000397e0: 7265 5f69 6e73 756c 6174 696f 6e73 282a  re_insulations(*
+000397f0: 7365 7474 696e 6773 5b22 696e 7375 6c61  settings["insula
+00039800: 7469 6f6e 225d 5b22 636f 7265 5f69 6e73  tion"]["core_ins
+00039810: 756c 6174 696f 6e73 225d 290a 2020 2020  ulations"]).    
+00039820: 2020 2020 2020 2020 2020 2020 696e 7375              insu
+00039830: 6c61 7469 6f6e 2e61 6464 5f77 696e 6469  lation.add_windi
+00039840: 6e67 5f69 6e73 756c 6174 696f 6e73 2873  ng_insulations(s
+00039850: 6574 7469 6e67 735b 2269 6e73 756c 6174  ettings["insulat
+00039860: 696f 6e22 5d5b 2269 6e6e 6572 5f77 696e  ion"]["inner_win
+00039870: 6469 6e67 5f69 6e73 756c 6174 696f 6e73  ding_insulations
+00039880: 225d 290a 2020 2020 2020 2020 2020 2020  "]).            
+00039890: 2020 2020 6765 6f2e 7365 745f 696e 7375      geo.set_insu
+000398a0: 6c61 7469 6f6e 2869 6e73 756c 6174 696f  lation(insulatio
+000398b0: 6e29 0a0a 2020 2020 2020 2020 2020 2020  n)..            
+000398c0: 6966 2022 7374 7261 795f 7061 7468 2220  if "stray_path" 
+000398d0: 696e 2073 6574 7469 6e67 733a 0a20 2020  in settings:.   
+000398e0: 2020 2020 2020 2020 2020 2020 2073 7472               str
+000398f0: 6179 5f70 6174 6820 3d20 5374 7261 7950  ay_path = StrayP
+00039900: 6174 6828 2a2a 7365 7474 696e 6773 5b22  ath(**settings["
+00039910: 7374 7261 795f 7061 7468 225d 290a 2020  stray_path"]).  
+00039920: 2020 2020 2020 2020 2020 2020 2020 6765                ge
+00039930: 6f2e 7365 745f 7374 7261 795f 7061 7468  o.set_stray_path
+00039940: 2873 7472 6179 5f70 6174 6829 0a0a 2020  (stray_path)..  
+00039950: 2020 2020 2020 2020 2020 6e65 775f 7669            new_vi
+00039960: 7274 7561 6c5f 7769 6e64 696e 675f 7769  rtual_winding_wi
+00039970: 6e64 6f77 7320 3d20 5b5d 0a20 2020 2020  ndows = [].     
+00039980: 2020 2020 2020 2077 696e 6469 6e67 5f77         winding_w
+00039990: 696e 646f 7773 203d 2073 6574 7469 6e67  indows = setting
+000399a0: 735b 2277 696e 6469 6e67 5f77 696e 646f  s["winding_windo
+000399b0: 7773 225d 0a20 2020 2020 2020 2020 2020  ws"].           
+000399c0: 2066 6f72 2077 696e 6469 6e67 5f77 696e   for winding_win
+000399d0: 646f 7720 696e 2077 696e 6469 6e67 5f77  dow in winding_w
+000399e0: 696e 646f 7773 3a0a 2020 2020 2020 2020  indows:.        
+000399f0: 2020 2020 2020 2020 7669 7274 7561 6c5f          virtual_
+00039a00: 7769 6e64 696e 675f 7769 6e64 6f77 7320  winding_windows 
+00039a10: 3d20 7769 6e64 696e 675f 7769 6e64 6f77  = winding_window
+00039a20: 5b22 7669 7274 7561 6c5f 7769 6e64 696e  ["virtual_windin
+00039a30: 675f 7769 6e64 6f77 7322 5d0a 2020 2020  g_windows"].    
+00039a40: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00039a50: 7677 7720 696e 2076 6972 7475 616c 5f77  vww in virtual_w
+00039a60: 696e 6469 6e67 5f77 696e 646f 7773 3a0a  inding_windows:.
+00039a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039a80: 2020 2020 7475 726e 7320 3d20 7677 775b      turns = vww[
+00039a90: 2274 7572 6e73 225d 0a20 2020 2020 2020  "turns"].       
+00039aa0: 2020 2020 2020 2020 2020 2020 2063 6f6e               con
+00039ab0: 6475 6374 6f72 7320 3d20 5b5d 0a20 2020  ductors = [].   
+00039ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039ad0: 2066 6f72 2077 696e 6469 6e67 2069 6e20   for winding in 
+00039ae0: 7677 775b 2277 696e 6469 6e67 7322 5d3a  vww["windings"]:
+00039af0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00039b00: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+00039b10: 5f6e 756d 6265 7220 3d20 7769 6e64 696e  _number = windin
+00039b20: 675b 2277 696e 6469 6e67 5f6e 756d 6265  g["winding_numbe
+00039b30: 7222 5d0a 2020 2020 2020 2020 2020 2020  r"].            
+00039b40: 2020 2020 2020 2020 2020 2020 636f 6e64              cond
+00039b50: 7563 746f 7220 3d20 436f 6e64 7563 746f  uctor = Conducto
+00039b60: 7228 7769 6e64 696e 675b 2277 696e 6469  r(winding["windi
+00039b70: 6e67 5f6e 756d 6265 7222 5d2c 2043 6f6e  ng_number"], Con
+00039b80: 6475 6374 6976 6974 795b 7769 6e64 696e  ductivity[windin
+00039b90: 675b 2263 6f6e 6475 6374 6976 6974 7922  g["conductivity"
 00039ba0: 5d5d 290a 2020 2020 2020 2020 2020 2020  ]]).            
-00039bb0: 2020 2020 2020 2020 2020 2020 656c 7365              else
-00039bc0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00039bd0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
-00039be0: 6973 6520 4578 6365 7074 696f 6e28 6622  ise Exception(f"
-00039bf0: 556e 6b6e 6f77 6e20 636f 6e64 7563 746f  Unknown conducto
-00039c00: 7220 7479 7065 207b 636f 6e64 7563 746f  r type {conducto
-00039c10: 725f 7479 7065 2e6e 616d 657d 2229 0a0a  r_type.name}")..
-00039c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039c30: 2020 2020 2020 2020 636f 6e64 7563 746f          conducto
-00039c40: 7273 2e61 7070 656e 6428 636f 6e64 7563  rs.append(conduc
-00039c50: 746f 7229 0a0a 2020 2020 2020 2020 2020  tor)..          
-00039c60: 2020 2020 2020 2020 2020 6e65 775f 7677            new_vw
-00039c70: 7720 3d20 5669 7274 7561 6c57 696e 6469  w = VirtualWindi
-00039c80: 6e67 5769 6e64 6f77 2876 7777 5b22 626f  ngWindow(vww["bo
-00039c90: 745f 626f 756e 6422 5d2c 2076 7777 5b22  t_bound"], vww["
-00039ca0: 746f 705f 626f 756e 6422 5d2c 2076 7777  top_bound"], vww
-00039cb0: 5b22 6c65 6674 5f62 6f75 6e64 225d 2c0a  ["left_bound"],.
-00039cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039cf0: 2020 2076 7777 5b22 7269 6768 745f 626f     vww["right_bo
-00039d00: 756e 6422 5d29 0a20 2020 2020 2020 2020  und"]).         
-00039d10: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-00039d20: 6e67 5f74 7970 6520 3d20 5769 6e64 696e  ng_type = Windin
-00039d30: 6754 7970 655b 7677 775b 2277 696e 6469  gType[vww["windi
-00039d40: 6e67 5f74 7970 6522 5d5d 0a20 2020 2020  ng_type"]].     
-00039d50: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-00039d60: 6620 7769 6e64 696e 675f 7479 7065 203d  f winding_type =
-00039d70: 3d20 5769 6e64 696e 6754 7970 652e 5369  = WindingType.Si
-00039d80: 6e67 6c65 3a0a 2020 2020 2020 2020 2020  ngle:.          
-00039d90: 2020 2020 2020 2020 2020 2020 2020 7072                pr
-00039da0: 696e 7428 2257 696e 6469 6e67 2054 7970  int("Winding Typ
-00039db0: 6520 5369 6e67 6c65 2229 0a20 2020 2020  e Single").     
-00039dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039dd0: 2020 2077 696e 6469 6e67 5f73 6368 656d     winding_schem
-00039de0: 6520 3d20 5769 6e64 696e 6753 6368 656d  e = WindingSchem
-00039df0: 655b 7677 775b 2277 696e 6469 6e67 5f73  e[vww["winding_s
-00039e00: 6368 656d 6522 5d5d 2069 6620 7677 775b  cheme"]] if vww[
-00039e10: 2277 696e 6469 6e67 5f73 6368 656d 6522  "winding_scheme"
-00039e20: 5d20 5c0a 2020 2020 2020 2020 2020 2020  ] \.            
-00039e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039e40: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
-00039e50: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
-00039e60: 2020 2020 2020 2020 2020 2020 2020 7772                wr
-00039e70: 6170 5f70 6172 615f 7479 7065 203d 2057  ap_para_type = W
-00039e80: 7261 7050 6172 6154 7970 655b 7677 775b  rapParaType[vww[
-00039e90: 2277 7261 705f 7061 7261 225d 5d20 6966  "wrap_para"]] if
-00039ea0: 2076 7777 5b22 7772 6170 5f70 6172 6122   vww["wrap_para"
-00039eb0: 5d20 6973 206e 6f74 204e 6f6e 6520 656c  ] is not None el
-00039ec0: 7365 204e 6f6e 650a 2020 2020 2020 2020  se None.        
-00039ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039ee0: 6e65 775f 7677 772e 7365 745f 7769 6e64  new_vww.set_wind
-00039ef0: 696e 6728 636f 6e64 7563 746f 7273 5b30  ing(conductors[0
-00039f00: 5d2c 2074 7572 6e73 5b77 696e 6469 6e67  ], turns[winding
-00039f10: 5f6e 756d 6265 725d 2c20 7769 6e64 696e  _number], windin
-00039f20: 675f 7363 6865 6d65 2c20 7772 6170 5f70  g_scheme, wrap_p
-00039f30: 6172 615f 7479 7065 290a 2020 2020 2020  ara_type).      
-00039f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00039f50: 2020 7072 696e 7428 7475 726e 735b 305d    print(turns[0]
-00039f60: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00039f70: 2020 2020 2020 656c 6966 2077 696e 6469        elif windi
-00039f80: 6e67 5f74 7970 6520 3d3d 2057 696e 6469  ng_type == Windi
-00039f90: 6e67 5479 7065 2e54 776f 496e 7465 726c  ngType.TwoInterl
-00039fa0: 6561 7665 643a 0a20 2020 2020 2020 2020  eaved:.         
-00039fb0: 2020 2020 2020 2020 2020 2020 2020 206e                 n
-00039fc0: 6577 5f76 7777 2e73 6574 5f69 6e74 6572  ew_vww.set_inter
-00039fd0: 6c65 6176 6564 5f77 696e 6469 6e67 2863  leaved_winding(c
-00039fe0: 6f6e 6475 6374 6f72 735b 305d 2c20 7475  onductors[0], tu
-00039ff0: 726e 735b 305d 2c20 636f 6e64 7563 746f  rns[0], conducto
-0003a000: 7273 5b31 5d2c 2074 7572 6e73 5b31 5d2c  rs[1], turns[1],
-0003a010: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0003a020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0003a030: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0003a040: 2020 2020 2020 2020 2049 6e74 6572 6c65           Interle
-0003a050: 6176 6564 5769 6e64 696e 6753 6368 656d  avedWindingSchem
-0003a060: 655b 7677 775b 2277 696e 6469 6e67 5f73  e[vww["winding_s
-0003a070: 6368 656d 6522 5d5d 2c0a 2020 2020 2020  cheme"]],.      
-0003a080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0003a090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0003a0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0003a0b0: 2020 7677 775b 2277 696e 6469 6e67 5f69    vww["winding_i
-0003a0c0: 6e73 756c 6174 696f 6e22 5d29 0a20 2020  nsulation"]).   
-0003a0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0003a0e0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0003a0f0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
-0003a100: 6169 7365 2045 7863 6570 7469 6f6e 2866  aise Exception(f
-0003a110: 2257 696e 6469 6e67 2074 7970 6520 7b77  "Winding type {w
-0003a120: 696e 6469 6e67 5f74 7970 657d 2069 7320  inding_type} is 
-0003a130: 6e6f 7420 696d 706c 656d 656e 7465 6422  not implemented"
-0003a140: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-0003a150: 2020 2020 2020 6e65 775f 7669 7274 7561        new_virtua
-0003a160: 6c5f 7769 6e64 696e 675f 7769 6e64 6f77  l_winding_window
-0003a170: 732e 6170 7065 6e64 286e 6577 5f76 7777  s.append(new_vww
-0003a180: 290a 0a20 2020 2020 2020 2020 2020 2077  )..            w
-0003a190: 696e 6469 6e67 5f77 696e 646f 7720 3d20  inding_window = 
-0003a1a0: 5769 6e64 696e 6757 696e 646f 7728 636f  WindingWindow(co
-0003a1b0: 7265 2c20 696e 7375 6c61 7469 6f6e 290a  re, insulation).
-0003a1c0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-0003a1d0: 696e 675f 7769 6e64 6f77 2e76 6972 7475  ing_window.virtu
-0003a1e0: 616c 5f77 696e 6469 6e67 5f77 696e 646f  al_winding_windo
-0003a1f0: 7773 203d 206e 6577 5f76 6972 7475 616c  ws = new_virtual
-0003a200: 5f77 696e 6469 6e67 5f77 696e 646f 7773  _winding_windows
-0003a210: 0a20 2020 2020 2020 2020 2020 2067 656f  .            geo
-0003a220: 2e73 6574 5f77 696e 6469 6e67 5f77 696e  .set_winding_win
-0003a230: 646f 7773 285b 7769 6e64 696e 675f 7769  dows([winding_wi
-0003a240: 6e64 6f77 5d29 0a0a 2020 2020 2020 2020  ndow])..        
-0003a250: 2020 2020 7265 7475 726e 2067 656f 0a0a      return geo..
-0003a260: 2020 2020 2020 2020 7261 6973 6520 4578          raise Ex
-0003a270: 6365 7074 696f 6e28 6622 436f 756c 646e  ception(f"Couldn
-0003a280: 2774 2065 7874 7261 6374 2073 6574 7469  't extract setti
-0003a290: 6e67 7320 6672 6f6d 2066 696c 6520 7b6c  ngs from file {l
-0003a2a0: 6f67 5f66 696c 655f 7061 7468 7d22 290a  og_file_path}").
+00039bb0: 2020 2020 2020 2020 2020 2020 636f 6e64              cond
+00039bc0: 7563 746f 725f 7479 7065 203d 2043 6f6e  uctor_type = Con
+00039bd0: 6475 6374 6f72 5479 7065 5b77 696e 6469  ductorType[windi
+00039be0: 6e67 5b22 636f 6e64 7563 746f 725f 7479  ng["conductor_ty
+00039bf0: 7065 225d 5d0a 2020 2020 2020 2020 2020  pe"]].          
+00039c00: 2020 2020 2020 2020 2020 2020 2020 6966                if
+00039c10: 2063 6f6e 6475 6374 6f72 5f74 7970 6520   conductor_type 
+00039c20: 3d3d 2043 6f6e 6475 6374 6f72 5479 7065  == ConductorType
+00039c30: 2e52 6563 7461 6e67 756c 6172 536f 6c69  .RectangularSoli
+00039c40: 643a 0a20 2020 2020 2020 2020 2020 2020  d:.             
+00039c50: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00039c60: 6f6e 6475 6374 6f72 2e73 6574 5f72 6563  onductor.set_rec
+00039c70: 7461 6e67 756c 6172 5f63 6f6e 6475 6374  tangular_conduct
+00039c80: 6f72 2877 696e 6469 6e67 5b22 7468 6963  or(winding["thic
+00039c90: 6b6e 6573 7322 5d29 0a20 2020 2020 2020  kness"]).       
+00039ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039cb0: 2065 6c69 6620 636f 6e64 7563 746f 725f   elif conductor_
+00039cc0: 7479 7065 203d 3d20 436f 6e64 7563 746f  type == Conducto
+00039cd0: 7254 7970 652e 526f 756e 644c 6974 7a3a  rType.RoundLitz:
+00039ce0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00039cf0: 2020 2020 2020 2020 2020 2020 2023 2033               # 3
+00039d00: 206f 6620 3420 7769 7265 2070 7265 6665   of 4 wire prefe
+00039d10: 7265 6e63 6573 2061 7265 2061 6c6c 6f77  rences are allow
+00039d20: 6564 2c20 736f 2066 696c 6c2d 6661 6374  ed, so fill-fact
+00039d30: 6f72 2069 7320 7365 7420 746f 204e 6f6e  or is set to Non
+00039d40: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00039d50: 2020 2020 2020 2020 2020 2020 2020 2023                 #
+00039d60: 2065 7665 6e20 7468 6520 7661 6c75 6520   even the value 
+00039d70: 6973 206b 6e6f 776e 2066 726f 6d20 7468  is known from th
+00039d80: 6520 6c6f 672e 0a20 2020 2020 2020 2020  e log..         
+00039d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039da0: 2020 2063 6f6e 6475 6374 6f72 2e73 6574     conductor.set
+00039db0: 5f6c 6974 7a5f 726f 756e 645f 636f 6e64  _litz_round_cond
+00039dc0: 7563 746f 7228 7769 6e64 696e 675b 2263  uctor(winding["c
+00039dd0: 6f6e 6475 6374 6f72 5f72 6164 6975 7322  onductor_radius"
+00039de0: 5d2c 2077 696e 6469 6e67 5b22 6e75 6d62  ], winding["numb
+00039df0: 6572 5f73 7472 616e 6473 225d 2c0a 2020  er_strands"],.  
+00039e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039e20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039e30: 2020 2020 2020 2020 2020 2020 2077 696e               win
+00039e40: 6469 6e67 5b22 7374 7261 6e64 5f72 6164  ding["strand_rad
+00039e50: 6975 7322 5d2c 204e 6f6e 652c 0a20 2020  ius"], None,.   
+00039e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039e90: 2020 2020 2020 2020 2020 2020 436f 6e64              Cond
+00039ea0: 7563 746f 7241 7272 616e 6765 6d65 6e74  uctorArrangement
+00039eb0: 5b77 696e 6469 6e67 5b22 636f 6e64 7563  [winding["conduc
+00039ec0: 746f 725f 6172 7261 6e67 656d 656e 7422  tor_arrangement"
+00039ed0: 5d5d 290a 2020 2020 2020 2020 2020 2020  ]]).            
+00039ee0: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+00039ef0: 2063 6f6e 6475 6374 6f72 5f74 7970 6520   conductor_type 
+00039f00: 3d3d 2043 6f6e 6475 6374 6f72 5479 7065  == ConductorType
+00039f10: 2e52 6f75 6e64 536f 6c69 643a 0a20 2020  .RoundSolid:.   
+00039f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039f30: 2020 2020 2020 2020 2063 6f6e 6475 6374           conduct
+00039f40: 6f72 2e73 6574 5f73 6f6c 6964 5f72 6f75  or.set_solid_rou
+00039f50: 6e64 5f63 6f6e 6475 6374 6f72 2877 696e  nd_conductor(win
+00039f60: 6469 6e67 5b22 636f 6e64 7563 746f 725f  ding["conductor_
+00039f70: 7261 6469 7573 225d 2c0a 2020 2020 2020  radius"],.      
+00039f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00039fb0: 2020 2020 2020 2020 2020 436f 6e64 7563            Conduc
+00039fc0: 746f 7241 7272 616e 6765 6d65 6e74 5b77  torArrangement[w
+00039fd0: 696e 6469 6e67 5b22 636f 6e64 7563 746f  inding["conducto
+00039fe0: 725f 6172 7261 6e67 656d 656e 7422 5d5d  r_arrangement"]]
+00039ff0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+0003a000: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
+0003a010: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a020: 2020 2020 2020 2020 2020 2020 7261 6973              rais
+0003a030: 6520 4578 6365 7074 696f 6e28 6622 556e  e Exception(f"Un
+0003a040: 6b6e 6f77 6e20 636f 6e64 7563 746f 7220  known conductor 
+0003a050: 7479 7065 207b 636f 6e64 7563 746f 725f  type {conductor_
+0003a060: 7479 7065 2e6e 616d 657d 2229 0a0a 2020  type.name}")..  
+0003a070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a080: 2020 2020 2020 636f 6e64 7563 746f 7273        conductors
+0003a090: 2e61 7070 656e 6428 636f 6e64 7563 746f  .append(conducto
+0003a0a0: 7229 0a0a 2020 2020 2020 2020 2020 2020  r)..            
+0003a0b0: 2020 2020 2020 2020 6e65 775f 7677 7720          new_vww 
+0003a0c0: 3d20 5669 7274 7561 6c57 696e 6469 6e67  = VirtualWinding
+0003a0d0: 5769 6e64 6f77 2876 7777 5b22 626f 745f  Window(vww["bot_
+0003a0e0: 626f 756e 6422 5d2c 2076 7777 5b22 746f  bound"], vww["to
+0003a0f0: 705f 626f 756e 6422 5d2c 2076 7777 5b22  p_bound"], vww["
+0003a100: 6c65 6674 5f62 6f75 6e64 225d 2c0a 2020  left_bound"],.  
+0003a110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a130: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a140: 2076 7777 5b22 7269 6768 745f 626f 756e   vww["right_boun
+0003a150: 6422 5d29 0a20 2020 2020 2020 2020 2020  d"]).           
+0003a160: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+0003a170: 5f74 7970 6520 3d20 5769 6e64 696e 6754  _type = WindingT
+0003a180: 7970 655b 7677 775b 2277 696e 6469 6e67  ype[vww["winding
+0003a190: 5f74 7970 6522 5d5d 0a20 2020 2020 2020  _type"]].       
+0003a1a0: 2020 2020 2020 2020 2020 2020 2069 6620               if 
+0003a1b0: 7769 6e64 696e 675f 7479 7065 203d 3d20  winding_type == 
+0003a1c0: 5769 6e64 696e 6754 7970 652e 5369 6e67  WindingType.Sing
+0003a1d0: 6c65 3a0a 2020 2020 2020 2020 2020 2020  le:.            
+0003a1e0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+0003a1f0: 7428 2257 696e 6469 6e67 2054 7970 6520  t("Winding Type 
+0003a200: 5369 6e67 6c65 2229 0a20 2020 2020 2020  Single").       
+0003a210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a220: 2077 696e 6469 6e67 5f73 6368 656d 6520   winding_scheme 
+0003a230: 3d20 5769 6e64 696e 6753 6368 656d 655b  = WindingScheme[
+0003a240: 7677 775b 2277 696e 6469 6e67 5f73 6368  vww["winding_sch
+0003a250: 656d 6522 5d5d 2069 6620 7677 775b 2277  eme"]] if vww["w
+0003a260: 696e 6469 6e67 5f73 6368 656d 6522 5d20  inding_scheme"] 
+0003a270: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+0003a280: 2020 2020 2020 2020 2020 2020 2020 6973                is
+0003a290: 206e 6f74 204e 6f6e 6520 656c 7365 204e   not None else N
+0003a2a0: 6f6e 650a 2020 2020 2020 2020 2020 2020  one.            
+0003a2b0: 2020 2020 2020 2020 2020 2020 7772 6170              wrap
+0003a2c0: 5f70 6172 615f 7479 7065 203d 2057 7261  _para_type = Wra
+0003a2d0: 7050 6172 6154 7970 655b 7677 775b 2277  pParaType[vww["w
+0003a2e0: 7261 705f 7061 7261 225d 5d20 6966 2076  rap_para"]] if v
+0003a2f0: 7777 5b22 7772 6170 5f70 6172 6122 5d20  ww["wrap_para"] 
+0003a300: 6973 206e 6f74 204e 6f6e 6520 656c 7365  is not None else
+0003a310: 204e 6f6e 650a 2020 2020 2020 2020 2020   None.          
+0003a320: 2020 2020 2020 2020 2020 2020 2020 6e65                ne
+0003a330: 775f 7677 772e 7365 745f 7769 6e64 696e  w_vww.set_windin
+0003a340: 6728 636f 6e64 7563 746f 7273 5b30 5d2c  g(conductors[0],
+0003a350: 2074 7572 6e73 5b77 696e 6469 6e67 5f6e   turns[winding_n
+0003a360: 756d 6265 725d 2c20 7769 6e64 696e 675f  umber], winding_
+0003a370: 7363 6865 6d65 2c20 7772 6170 5f70 6172  scheme, wrap_par
+0003a380: 615f 7479 7065 290a 2020 2020 2020 2020  a_type).        
+0003a390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a3a0: 7072 696e 7428 7475 726e 735b 305d 290a  print(turns[0]).
+0003a3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a3c0: 2020 2020 656c 6966 2077 696e 6469 6e67      elif winding
+0003a3d0: 5f74 7970 6520 3d3d 2057 696e 6469 6e67  _type == Winding
+0003a3e0: 5479 7065 2e54 776f 496e 7465 726c 6561  Type.TwoInterlea
+0003a3f0: 7665 643a 0a20 2020 2020 2020 2020 2020  ved:.           
+0003a400: 2020 2020 2020 2020 2020 2020 206e 6577               new
+0003a410: 5f76 7777 2e73 6574 5f69 6e74 6572 6c65  _vww.set_interle
+0003a420: 6176 6564 5f77 696e 6469 6e67 2863 6f6e  aved_winding(con
+0003a430: 6475 6374 6f72 735b 305d 2c20 7475 726e  ductors[0], turn
+0003a440: 735b 305d 2c20 636f 6e64 7563 746f 7273  s[0], conductors
+0003a450: 5b31 5d2c 2074 7572 6e73 5b31 5d2c 0a20  [1], turns[1],. 
+0003a460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a470: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a490: 2020 2020 2020 2049 6e74 6572 6c65 6176         Interleav
+0003a4a0: 6564 5769 6e64 696e 6753 6368 656d 655b  edWindingScheme[
+0003a4b0: 7677 775b 2277 696e 6469 6e67 5f73 6368  vww["winding_sch
+0003a4c0: 656d 6522 5d5d 2c0a 2020 2020 2020 2020  eme"]],.        
+0003a4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a4e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a500: 7677 775b 2277 696e 6469 6e67 5f69 6e73  vww["winding_ins
+0003a510: 756c 6174 696f 6e22 5d29 0a20 2020 2020  ulation"]).     
+0003a520: 2020 2020 2020 2020 2020 2020 2020 2065                 e
+0003a530: 6c73 653a 0a20 2020 2020 2020 2020 2020  lse:.           
+0003a540: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+0003a550: 7365 2045 7863 6570 7469 6f6e 2866 2257  se Exception(f"W
+0003a560: 696e 6469 6e67 2074 7970 6520 7b77 696e  inding type {win
+0003a570: 6469 6e67 5f74 7970 657d 2069 7320 6e6f  ding_type} is no
+0003a580: 7420 696d 706c 656d 656e 7465 6422 290a  t implemented").
+0003a590: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0003a5a0: 2020 2020 6e65 775f 7669 7274 7561 6c5f      new_virtual_
+0003a5b0: 7769 6e64 696e 675f 7769 6e64 6f77 732e  winding_windows.
+0003a5c0: 6170 7065 6e64 286e 6577 5f76 7777 290a  append(new_vww).
+0003a5d0: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
+0003a5e0: 6469 6e67 5f77 696e 646f 7720 3d20 5769  ding_window = Wi
+0003a5f0: 6e64 696e 6757 696e 646f 7728 636f 7265  ndingWindow(core
+0003a600: 2c20 696e 7375 6c61 7469 6f6e 290a 2020  , insulation).  
+0003a610: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+0003a620: 675f 7769 6e64 6f77 2e76 6972 7475 616c  g_window.virtual
+0003a630: 5f77 696e 6469 6e67 5f77 696e 646f 7773  _winding_windows
+0003a640: 203d 206e 6577 5f76 6972 7475 616c 5f77   = new_virtual_w
+0003a650: 696e 6469 6e67 5f77 696e 646f 7773 0a20  inding_windows. 
+0003a660: 2020 2020 2020 2020 2020 2067 656f 2e73             geo.s
+0003a670: 6574 5f77 696e 6469 6e67 5f77 696e 646f  et_winding_windo
+0003a680: 7773 285b 7769 6e64 696e 675f 7769 6e64  ws([winding_wind
+0003a690: 6f77 5d29 0a0a 2020 2020 2020 2020 2020  ow])..          
+0003a6a0: 2020 7265 7475 726e 2067 656f 0a0a 2020    return geo..  
+0003a6b0: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
+0003a6c0: 7074 696f 6e28 6622 436f 756c 646e 2774  ption(f"Couldn't
+0003a6d0: 2065 7874 7261 6374 2073 6574 7469 6e67   extract setting
+0003a6e0: 7320 6672 6f6d 2066 696c 6520 7b6c 6f67  s from file {log
+0003a6f0: 5f66 696c 655f 7061 7468 7d22 290a       _file_path}").
```

### Comparing `femmt-0.5.2/femmt/data.py` & `femmt-0.5.3/femmt/data.py`

 * *Files 0% similar despite different names*

```diff
@@ -27,15 +27,15 @@
                 os.mkdir(folder)
 
     def clear_previous_simulation_results(self):
         """
         Clear all simulation results from previous simulations.
 
         Therefore, the result-folder structure as well as some temporary files
-        (Parameter.pro, core_materials_temp.pro are cleaned up.
+        (Parameter.pro, core_materials_temp.pro) are cleaned up.
         """
         self.clean_folder_structure(self.results_folder_path)
         if os.path.exists(os.path.join(self.electro_magnetic_folder_path, "core_materials_temp.pro")):
             os.remove(os.path.join(self.electro_magnetic_folder_path, "core_materials_temp.pro"))
         if os.path.exists(os.path.join(self.electro_magnetic_folder_path, "Parameter.pro")):
             os.remove(os.path.join(self.electro_magnetic_folder_path, "Parameter.pro"))
```

### Comparing `femmt-0.5.2/femmt/drawing.py` & `femmt-0.5.3/femmt/drawing.py`

 * *Files 0% similar despite different names*

```diff
@@ -848,21 +848,21 @@
                             # Since round conductors have no winding scheme check for each conductor_arrangement.
                             conductor_arrangement = winding.conductor_arrangement
                             if conductor_arrangement == ConductorArrangement.Square:
                                 # Define initial conditions based on the placement strategy.
                                 # 16 cases will be handled here, 8 cases with consistent direction, and 8 cases with Zigzag movement.
                                 vertical_first = placing_strategy in [
                                     ConductorDistribution.VerticalUpward_HorizontalRightward,
-                                    ConductorDistribution.VerticalUpward_HorizontalLefttward,
+                                    ConductorDistribution.VerticalUpward_HorizontalLeftward,
                                     ConductorDistribution.VerticalDownward_HorizontalRightward,
                                     ConductorDistribution.VerticalDownward_HorizontalLeftward]
 
                                 upward_movement = placing_strategy in [
                                     ConductorDistribution.VerticalUpward_HorizontalRightward,
-                                    ConductorDistribution.VerticalUpward_HorizontalLefttward,
+                                    ConductorDistribution.VerticalUpward_HorizontalLeftward,
                                     ConductorDistribution.HorizontalRightward_VerticalUpward,
                                     ConductorDistribution.HorizontalLeftward_VerticalUpward]
 
                                 rightward_movement = placing_strategy in [
                                     ConductorDistribution.VerticalUpward_HorizontalRightward,
                                     ConductorDistribution.VerticalDownward_HorizontalRightward,
                                     ConductorDistribution.HorizontalRightward_VerticalUpward,
@@ -1232,16 +1232,16 @@
 
             if winding.conductor_type in [ConductorType.RoundSolid, ConductorType.RoundLitz]:
                 drawn_number_of_turns += int(self.p_conductor[winding.winding_number].shape[0] / 5)  # round conductors
             else:
                 drawn_number_of_turns += int(self.p_conductor[winding.winding_number].shape[0] / 5)  # rectangular conductors
 
         if drawn_number_of_turns != needed_number_of_turns:
-            self.femmt_print(f"{drawn_number_of_turns = }")
-            self.femmt_print(f"{needed_number_of_turns = }")
+            self.femmt_print(f"{drawn_number_of_turns=}")
+            self.femmt_print(f"{needed_number_of_turns=}")
             raise Exception("Winding mismatch. Probably too many turns that do not fit in the winding window")
 
     def draw_region_single(self):
         """
         Region for Boundary Condition: Draws a rectangular outer region. Needed for air gaps in the outer flux path.
 
         Currently not used. Code kept for future implementations
@@ -1288,20 +1288,20 @@
             # Since there are many cases in which alternating conductors would lead to slightly different
             # mesh densities a simplification is made: Just use the lowest mesh density to be safe all the time.
             mesh_density_to_winding = min(mesh_data.c_conductor)
 
             mesh_density_to_core = mesh_data.c_window
 
             # Using the delta the lines and points from the insulation and the core/windings are not overlapping
-            # which makes creating the mesh more simpler
+            # which makes creating the mesh simpler
             # Insulation between winding and core
             # Since an aspect ratio is given the insulation delta is calculated using the length of the longest side of the triangle,
             # which is always smaller than c_window.
             if self.insulation.max_aspect_ratio == 0:
-                # If no aspect ratio is set insulations wont be drawn
+                # If no aspect ratio is set insulations will not be drawn
                 return
             else:
                 insulation_delta = self.mesh_data.c_window / self.insulation.max_aspect_ratio
 
             self.p_iso_core = []  # Order: Left, Top, Right, Bot
             self.p_iso_pri_sec = []
```

### Comparing `femmt-0.5.2/femmt/dtos.py` & `femmt-0.5.3/femmt/dtos.py`

 * *Files 4% similar despite different names*

```diff
@@ -12,15 +12,15 @@
     window_w: float
     window_h: float
     core_h: float
 
 
 @dataclass
 class StackedCoreDimensions:
-    """Defines the dimensions of a stacked core. A stacked core is made of a transformer section an an inductor."""
+    """Defines the dimensions of a stacked core. A stacked core is made of a transformer section and an inductor."""
 
     core_inner_diameter: float
     window_w: float
     window_h_top: float
     window_h_bot: float
```

### Comparing `femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/cell.geo` & `femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/cell.geo`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/cell.pro` & `femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/cell.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/cell_dat.pro` & `femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/cell_dat.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/unused/cell_hexa_circ.geo` & `femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/unused/cell_hexa_circ.geo`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/Strands_Coefficients/unused/cell_square_circ.geo` & `femmt-0.5.3/femmt/electro_magnetic/Strands_Coefficients/unused/cell_square_circ.geo`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/fields.pro` & `femmt-0.5.3/femmt/electro_magnetic/fields.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/fields_time.pro` & `femmt-0.5.3/femmt/electro_magnetic/fields_time.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/ind_axi_python_controlled.pro` & `femmt-0.5.3/femmt/electro_magnetic/ind_axi_python_controlled.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/ind_axi_python_controlled_time.pro` & `femmt-0.5.3/femmt/electro_magnetic/ind_axi_python_controlled_time.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/solver.pro` & `femmt-0.5.3/femmt/electro_magnetic/solver.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/solver_time.pro` & `femmt-0.5.3/femmt/electro_magnetic/solver_time.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/values.pro` & `femmt-0.5.3/femmt/electro_magnetic/values.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/electro_magnetic/values_time.pro` & `femmt-0.5.3/femmt/electro_magnetic/values_time.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/enumerations.py` & `femmt-0.5.3/femmt/enumerations.py`

 * *Files 0% similar despite different names*

```diff
@@ -199,15 +199,15 @@
 
 class ConductorDistribution(IntEnum):
     """Defines specific strategies for placing conductors starting from the peripheral (edges) of the virtual winding window."""
 
     VerticalUpward_HorizontalRightward = 1
     """Places conductors vertically upwards first, then moves horizontally rightward for the next set with consistent direction."""
 
-    VerticalUpward_HorizontalLefttward = 2
+    VerticalUpward_HorizontalLeftward = 2
     """Places conductors vertically upwards first, then moves horizontally leftward for the next set with consistent direction."""
 
     VerticalDownward_HorizontalRightward = 3
     """Places conductors vertically downwards first, then moves horizontally rightward for the next set with consistent direction."""
 
     VerticalDownward_HorizontalLeftward = 4
     """Places conductors vertically downwards first, then moves horizontally leftward for the next set with consistent direction."""
```

### Comparing `femmt-0.5.2/femmt/examples/advanced_inductor_air_gap_sweep.py` & `femmt-0.5.3/femmt/examples/advanced_inductor_air_gap_sweep.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/advanced_inductor_sweep.py` & `femmt-0.5.3/femmt/examples/advanced_inductor_sweep.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/advanced_sto.py` & `femmt-0.5.3/femmt/examples/advanced_sto.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_inductor.py` & `femmt-0.5.3/femmt/examples/basic_inductor.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_inductor_foil_vertical.py` & `femmt-0.5.3/femmt/examples/basic_inductor_foil_vertical.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_inductor_time_domain.py` & `femmt-0.5.3/femmt/examples/basic_inductor_time_domain.py`

 * *Files 1% similar despite different names*

```diff
@@ -17,15 +17,15 @@
         os.mkdir(working_directory)
 
     # 1. chose simulation type
     geo = fmt.MagneticComponent(simulation_type=fmt.SimulationType.TimeDomain,
                                 component_type=fmt.ComponentType.Inductor, working_directory=working_directory,
                                 verbosity=fmt.Verbosity.ToConsole, is_gui=is_test)
 
-    # This line is for automated pytest running on github only. Please ignore this line!
+    # This line is for automated pytest running on GitHub only. Please ignore this line!
     if onelab_folder is not None:
         geo.file_data.onelab_folder_path = onelab_folder
 
     inductor_frequency = 270000
 
     # 2. set core parameters
     core_db = fmt.core_database()["PQ 40/40"]
@@ -103,16 +103,16 @@
     # plt.ylabel('Current (A)')
     # plt.title(f'Cos wave: {inductor_frequency} Hz, {4.5} A amplitude')
     # plt.grid(True)
     # if show_visual_outputs and not is_test:
     #     plt.show()
 
     # Electromagnetic time-domain simulation
-    #  The 'current_periode_vec' parameter accepts a list of lists, where each sublist represents the current values for a particular winding.
-    #  The 'time_periode_vec' parameter accepts a single list representing the time steps for the simulation; this is common for all windings.
+    #  The 'current_period_vec' parameter accepts a list of lists, where each sublist represents the current values for a particular winding.
+    #  The 'time_period_vec' parameter accepts a single list representing the time steps for the simulation; this is common for all windings.
     #  The 'number_of_periods' parameter defines the number of periods or the simulation duration time internally.
     # The 'show_rolling_average' parameter is a boolean that determines whether to plot the rolling average of the simulation results.
     # The 'rolling_avg_window_size' parameter is an integer that specifies the window size for calculating the rolling average.
     # It defines the number of data points used in each calculation of the average
     # a too-small window size may not effectively smooth out short-term fluctuations.
     geo.time_domain_simulation(current_period_vec=[current_values_list],
                                time_period_vec=t_list,
```

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer.py` & `femmt-0.5.3/femmt/examples/basic_transformer.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_5_windings.py` & `femmt-0.5.3/femmt/examples/basic_transformer_5_windings.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_6_windings.py` & `femmt-0.5.3/femmt/examples/basic_transformer_6_windings.py`

 * *Files 1% similar despite different names*

```diff
@@ -146,15 +146,15 @@
     # 7. assign windings to virtual winding windows (cells)
     cells[0].set_winding(winding1, 7, fmt.WindingType.Single, fmt.Align.CenterOnVerticalAxis, fmt.ConductorDistribution.VerticalUpward_HorizontalRightward)
     cells[1].set_winding(winding2, 7, fmt.WindingType.Single, fmt.Align.ToEdges, fmt.ConductorDistribution.VerticalDownward_HorizontalLeftward, zigzag=True)
     cells[2].set_winding(winding3, 5, fmt.WindingType.Single, fmt.Align.CenterOnHorizontalAxis, fmt.ConductorDistribution.HorizontalRightward_VerticalUpward,
                          zigzag=True)
     cells[3].set_winding(winding4, 7, fmt.WindingType.Single, fmt.Align.ToEdges, fmt.ConductorDistribution.HorizontalLeftward_VerticalUpward)
     cells[4].set_winding(winding5, 5, fmt.WindingType.Single, fmt.Align.CenterOnHorizontalAxis, fmt.ConductorDistribution.HorizontalLeftward_VerticalDownward)
-    cells[5].set_winding(winding6, 6, fmt.WindingType.Single, fmt.Align.ToEdges, fmt.ConductorDistribution.VerticalUpward_HorizontalLefttward)
+    cells[5].set_winding(winding6, 6, fmt.WindingType.Single, fmt.Align.ToEdges, fmt.ConductorDistribution.VerticalUpward_HorizontalLeftward)
     geo.set_winding_windows([winding_window])
 
     # 8. perform an FEM simulation
     geo.create_model(freq=100000, pre_visualize_geometry=show_visual_outputs)
     geo.single_simulation(freq=100000, current=[1.625, 6.9, 4.9, 0.5, 1, 2],
                           phi_deg=[0, 180, 180, 90, 89, 180], show_fem_simulation_results=show_visual_outputs)
```

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_center_tapped.py` & `femmt-0.5.3/femmt/examples/basic_transformer_center_tapped.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_integrated.py` & `femmt-0.5.3/femmt/examples/basic_transformer_integrated.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_interleaved.py` & `femmt-0.5.3/femmt/examples/basic_transformer_interleaved.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_n_winding.py` & `femmt-0.5.3/femmt/examples/basic_transformer_n_winding.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-"""Basic example to show how to simulate a n-winding transformer."""
+"""Basic example to show how to simulate an n-winding transformer."""
 import femmt as fmt
 import os
 
 
 def basic_example_transformer_n_winding(onelab_folder: str = None, show_visual_outputs: bool = True,
                                         is_test: bool = False):
     """Run the example code for the three-winding transformer."""
```

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_stacked.py` & `femmt-0.5.3/femmt/examples/basic_transformer_stacked.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_stacked_center_tapped.py` & `femmt-0.5.3/femmt/examples/basic_transformer_stacked_center_tapped.py`

 * *Files 2% similar despite different names*

```diff
@@ -1,15 +1,15 @@
-"""Basic example to show how to buld up the geometry for a stacked center tapped transformer."""
+"""Basic example to show how to build up the geometry for a stacked center tapped transformer."""
 import femmt as fmt
 import os
 
 
 def basic_example_transformer_stacked_center_tapped(onelab_folder: str = None, show_visual_outputs: bool = True,
                                                     is_test: bool = False):
-    """Show how to buld up the geometry for a stacked center tapped transformer."""
+    """Show how to build up the geometry for a stacked center tapped transformer."""
     def example_thermal_simulation(show_thermal_visual_outputs: bool = True, flag_insulation: bool = True):
         # Thermal simulation:
         # The losses calculated by the magnetics simulation can be used to calculate the heat distribution of the
         # given magnetic component. In order to use the thermal simulation, thermal conductivities for each material
         # can be entered as well as a boundary temperature which will be applied on the boundary of the
         # simulation (dirichlet boundary condition).
```

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_three_winding.py` & `femmt-0.5.3/femmt/examples/basic_transformer_three_winding.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_three_winding_time_domain.py` & `femmt-0.5.3/femmt/examples/basic_transformer_three_winding_time_domain.py`

 * *Files 1% similar despite different names*

```diff
@@ -96,16 +96,16 @@
     # plt.xlabel('Time (s)')
     # plt.ylabel('Current (A)')
     # plt.title(f'Cos wave: {250000} Hz, {4.5} A amplitude')
     # plt.grid(True)
     # if show_visual_outputs and not is_test:
     #     plt.show()
     # Electromagnetic time-domain simulation
-    # The 'current_periode_vec' parameter accepts a list of lists, where each sublist represents the current values for a particular winding.
-    # The 'time_periode_vec' parameter accepts a single list representing the time steps for the simulation; this is common for all windings.
+    # The 'current_period_vec' parameter accepts a list of lists, where each sublist represents the current values for a particular winding.
+    # The 'time_period_vec' parameter accepts a single list representing the time steps for the simulation; this is common for all windings.
     # The 'number_of_periods' parameter defines the number of periods or the simulation duration time internally.
     # The 'show_rolling_average' parameter is a boolean that determines whether to plot the rolling average of the simulation results.
     # The 'rolling_avg_window_size' parameter is an integer that specifies the window size for calculating the rolling average.
     # It defines the number of data points used in each calculation of the average
     # a too-small window size may not effectively smooth out short-term fluctuations.
     geo.time_domain_simulation(current_period_vec=[current_values_list_1, current_values_list_2, current_values_list_3],
                                time_period_vec=t_list,
```

### Comparing `femmt-0.5.2/femmt/examples/basic_transformer_time_domain.py` & `femmt-0.5.3/femmt/examples/basic_transformer_time_domain.py`

 * *Files 2% similar despite different names*

```diff
@@ -97,16 +97,16 @@
     # plt.grid(True)
     # if show_visual_outputs and not is_test:
     #     plt.show()
 
     # 8. start simulation with given frequency, currents and phases
     geo.create_model(freq=200000, pre_visualize_geometry=show_visual_outputs)
     # Electromagnetic time-domain simulation
-    # The 'current_periode_vec' parameter accepts a list of lists, where each sublist represents the current values for a particular winding.
-    # The 'time_periode_vec' parameter accepts a single list representing the time steps for the simulation; this is common for all windings.
+    # The 'current_period_vec' parameter accepts a list of lists, where each sublist represents the current values for a particular winding.
+    # The 'time_period_vec' parameter accepts a single list representing the time steps for the simulation; this is common for all windings.
     # The 'number_of_periods' parameter defines the number of periods or the simulation duration time internally.
     # The 'show_rolling_average' parameter is a boolean that determines whether to plot the rolling average of the simulation results.
     # The 'rolling_avg_window_size' parameter is an integer that specifies the window size for calculating the rolling average.
     # It defines the number of data points used in each calculation of the average
     # a too-small window size may not effectively smooth out short-term fluctuations.
     geo.time_domain_simulation(current_period_vec=[current_values_list_1, current_values_list_2],
                                time_period_vec=t_list,
```

### Comparing `femmt-0.5.2/femmt/examples/component_study/create_currents.py` & `femmt-0.5.3/femmt/examples/component_study/create_currents.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/component_study/i1.csv` & `femmt-0.5.3/femmt/examples/component_study/i1.csv`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/component_study/i2.csv` & `femmt-0.5.3/femmt/examples/component_study/i2.csv`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/component_study/transformer_component_study.py` & `femmt-0.5.3/femmt/examples/component_study/transformer_component_study.py`

 * *Files 0% similar despite different names*

```diff
@@ -27,15 +27,15 @@
     if not os.path.exists(working_directory):
         os.mkdir(working_directory)
 
     # 1. chose simulation type
     geo = fmt.MagneticComponent(component_type=fmt.ComponentType.Transformer, working_directory=working_directory,
                                 verbosity=fmt.Verbosity.Silent, is_gui=is_test)
 
-    # This line is for automated pytest running on github only. Please ignore this line!
+    # This line is for automated pytest running on GitHub only. Please ignore this line!
     if onelab_folder is not None:
         geo.file_data.onelab_folder_path = onelab_folder
 
     # 2. set core parameters
     core_dimensions = fmt.dtos.SingleCoreDimensions(core_inner_diameter=0.015, window_w=0.012, window_h=0.0295, core_h=0.012 + 0.015/2)
     core = fmt.Core(core_dimensions=core_dimensions, mu_r_abs=3100, phi_mu_deg=12, sigma=1.2,
                     permeability_datasource=fmt.MaterialDataSource.Custom,
```

### Comparing `femmt-0.5.2/femmt/examples/example_log.json` & `femmt-0.5.3/femmt/examples/example_log.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/femmt_benchmark.py` & `femmt-0.5.3/femmt/examples/femmt_benchmark.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/examples/hpc_examples.py` & `femmt-0.5.3/femmt/examples/hpc_examples.py`

 * *Files 0% similar despite different names*

```diff
@@ -8,15 +8,15 @@
 import statistics
 
 
 # Local libraries
 import femmt as fmt
 import materialdatabase as mdb
 
-"""This file contains examples for the use of the hpc function. Internally the multprocessing package is used.
+"""This file contains examples for the use of the hpc function. Internally the multiprocessing package is used.
 
 IMPORTANT:
 The __name__ == __main__ is necessary for the hpc function to work properly. So if a custom file is created from which the run_hpc function is
 called please make sure to also include a __name__ == __main__ otherwise errors will be thrown.
 For more information have a look here: https://docs.python.org/2/library/multiprocessing.html#windows
 """
 
@@ -50,15 +50,15 @@
 
 def create_parallel_example_inductor(inductor_frequency: int, air_gap_height: float = 0.0005, air_gap_position: int = 50) -> fmt.MagneticComponent:
     """Create an example model which is used for the parallel execution example. This does implement a simple inductor with given inductor_frequency.
 
     :param inductor_frequency: Frequency for the inductor.
     :type inductor_frequency: int
     """ 
-    geo = fmt.MagneticComponent(component_type=fmt.ComponentType.Inductor, working_directory=None,  # Can be set to None since it will be overwritten anyways
+    geo = fmt.MagneticComponent(component_type=fmt.ComponentType.Inductor, working_directory=None,  # Can be set to None since it will be overwritten anyway
                                 clean_previous_results=False, verbosity=fmt.Verbosity.ToFile)
     core_db = fmt.core_database()["PQ 40/40"]
     core_dimensions = fmt.dtos.SingleCoreDimensions(core_inner_diameter=core_db["core_inner_diameter"],
                                                     window_w=core_db["window_w"],
                                                     window_h=core_db["window_h"],
                                                     core_h=core_db["core_h"])
     core = fmt.Core(core_type=fmt.CoreType.Single,
```

### Comparing `femmt-0.5.2/femmt/examples/inductor_optimization.py` & `femmt-0.5.3/femmt/examples/inductor_optimization.py`

 * *Files 1% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 # python libraries
 import json
 import csv
 import re
 import os
 import shutil
 from itertools import product
-import logging
+# import logging
 import inspect
 import time
 
 # 3rd party libraries
 import numpy as np
 import matplotlib.pyplot as plt
 from mpl_toolkits.mplot3d import proj3d
@@ -351,15 +351,15 @@
     param working_directory: Sets the working directory
     :type fem_simulation_results_directory: str
     """
     working_directories = []
     labels = []
     fem_simulation_results_directory = os.path.join(working_directory, 'fem_simulation_results')
     print("##########################")
-    print(f"{fem_simulation_results_directory =}")
+    print(f"{fem_simulation_results_directory=}")
     print("##########################")
     file_names = [f for f in os.listdir(fem_simulation_results_directory) if os.path.isfile(os.path.join(fem_simulation_results_directory, f))]
 
     counter = 0
     for name in file_names:
         temp_var = os.path.join(fem_simulation_results_directory, name)
         working_directories.append(temp_var)
@@ -375,15 +375,15 @@
 
     # In this case the self inductivity of winding1 will be analyzed
     inductivities = []
     total_loss = []
     total_volume = []
     total_cost = []
     for _, data in log_parser.data.items():
-        inductivities.append(data.sweeps[0].windings[0].self_inductance)
+        inductivities.append(data.sweeps[0].windings[0].flux_over_current)
         total_loss.append(data.total_core_losses + data.total_winding_losses)
         total_volume.append(data.core_2daxi_total_volume)
         total_cost.append(data.total_cost)
 
     real_inductance = []
     for i in range(len(total_loss)):
         real_inductance.append(inductivities[i].real)
@@ -627,15 +627,16 @@
 
         litz_conductor_r = db_litz_conductor_r + self.manual_litz_conductor_r
         litz_strand_r = db_litz_strand_r + self.manual_litz_strand_r
         litz_strand_n = db_litz_strand_n + self.manual_litz_strand_n
         litz_fill_factor = db_litz_fill_factor + self.manual_litz_fill_factor
 
         # List of initial permeability extracted from core material database
-        mu_r_abs = [material_db.get_material_property(material_name=material_name, property="initial_permeability") for material_name in self.core_material]
+        mu_r_abs = [material_db.get_material_attribute(material_name=material_name, attribute="initial_permeability")
+                    for material_name in self.core_material]
 
         # Mapping mult_air_gap_type string to float value (To include it in numpy float array easily)
         mult_air_gap_type_list = []
         for item in self.mult_air_gap_type:
             if item == 'edge_distributed':
                 mult_air_gap_type_list.append(1)
             elif item == 'center_distributed':
@@ -664,17 +665,16 @@
 
         param data_matrix: Matrix containing the design parameters
         :type data_matrix: ndarray
         """
         # Dictionary to store {initial_permeability: 'Material_name'} to map material_name during FEM iteration
         b_sat_dict = {}
         for material_name in self.core_material:
-            b_sat_key = material_db.get_material_property(material_name=material_name, property="initial_permeability")
-            b_sat_dict[b_sat_key] = material_db.get_material_property(material_name=material_name,
-                                                                      property="max_flux_density")
+            b_sat_key = material_db.get_material_attribute(material_name=material_name, attribute="initial_permeability")
+            b_sat_dict[b_sat_key] = material_db.get_material_attribute(material_name=material_name, attribute="max_flux_density")
             self.core_material_dict[b_sat_key] = material_name
         # print(self.core_material_dict)
 
         # Creating B_saturated array corresponding to the material type
         b_sat = np.zeros((len(data_matrix), 1))
         for index in range(len(data_matrix)):
             b_sat[index] = b_sat_dict[data_matrix[index, self.param["mu_r_abs"]]]
@@ -780,15 +780,15 @@
         :param data_matrix: Matrix containing the design parameters
         :type data_matrix: ndarray
         """
         # Dictionary to store {initial_permeability: counter}
         mu_r_imag_dict = {}
         counter = 0
         for material_name in self.core_material:
-            mu_r_imag_key = material_db.get_material_property(material_name=material_name, property="initial_permeability")
+            mu_r_imag_key = material_db.get_material_attribute(material_name=material_name, attribute="initial_permeability")
             mu_r_imag_dict[mu_r_imag_key] = counter
             counter = counter + 1
 
         material_data_list = [material_db.permeability_data_to_pro_file(material_name=material_name,
                                                                         temperature=self.temperature,
                                                                         frequency=self.frequency,
                                                                         datatype="complex_permeability",
@@ -802,15 +802,15 @@
 
         # Creating mu_imag array corresponding to the material type
         mu_r_imag = np.zeros(len(data_matrix))
         for index in range(len(data_matrix)):
             mu_r_imag[index] = mu_r_imag_interpol_func[mu_r_imag_dict[data_matrix[index, self.param["mu_r_abs"]]]](
                 data_matrix[index, self.param["b_max_center"]])
 
-        # Volume chosen as per "Masterthesis_Till_Piepenbrock" pg-45
+        # Volume chosen as per "Master thesis Till Piepenbrock" pg-45
         volume_center = (np.pi * (data_matrix[:, self.param["core_inner_diameter"]] / 2) ** 2) * \
                         (data_matrix[:, self.param["window_h"]] + data_matrix[:, self.param["core_h_middle"]] - \
                          (data_matrix[:, self.param["n_air_gaps"]] * data_matrix[:, self.param["air_gap_h"]]))
         volume_outer = (np.pi * ((data_matrix[:, self.param["r_outer"]] ** 2) - (data_matrix[:, self.param["r_inner"]] ** 2))) * \
                        (data_matrix[:, self.param["window_h"]] + data_matrix[:, self.param["core_h_middle"]])
         # TODO: Confirm which volume to use
 
@@ -878,15 +878,15 @@
         y_pareto_vec = []
 
         for count_mask, mask in enumerate(pareto_tuple_mask_vec):
             if mask:
                 x_pareto_vec.append(core_2daxi_total_volume_vec[count_mask])
                 y_pareto_vec.append(total_loss_vec[count_mask])
 
-        print(f"{len(x_pareto_vec) = }")
+        print(f"{len(x_pareto_vec)=}")
 
         vector_to_sort = np.array([x_pareto_vec, y_pareto_vec])
 
         # sorting 2d array by 1st row
         # https://stackoverflow.com/questions/49374253/sort-a-numpy-2d-array-by-1st-row-maintaining-columns
         sorted_vector = vector_to_sort[:, vector_to_sort[0].argsort()]
         x_pareto_vec = sorted_vector[0]
@@ -896,19 +896,19 @@
 
     def filter_reluctance_pareto_front_tolerance(self, data_matrix, factor_min_dc_losses: float = 1):
         """Filter all reluctance calculations to see the pareto front."""
         total_loss_vec = data_matrix[:, self.param["total_loss"]]
         total_volume_vec = data_matrix[:, self.param["total_volume"]]
 
         min_total_loss = np.min(total_loss_vec)
-        print(f"{min_total_loss = }")
+        print(f"{min_total_loss=}")
 
         pareto_x_vec, pareto_y_vec = self.pareto_front_from_data_matrix(data_matrix)
-        print(f"{pareto_x_vec = }")
-        print(f"{pareto_y_vec = }")
+        print(f"{pareto_x_vec=}")
+        print(f"{pareto_y_vec=}")
 
         loss_offset = factor_min_dc_losses * min_total_loss
 
         ref_loss_vec = np.interp(total_volume_vec, pareto_x_vec, pareto_y_vec) + loss_offset
 
         return_data_matrix = data_matrix[np.where(total_loss_vec < ref_loss_vec)]
 
@@ -921,19 +921,20 @@
         data_files = []
         file_names = []
         successful_sim_counter = 0
         for count, _ in enumerate(self.data_matrix_fem):
 
             # MagneticComponent class object
             geo = fmt.MagneticComponent(component_type=self.component_type_dict[self.magnetic_component],
-                                        working_directory=self.femmt_working_directory, silent=True)
+                                        working_directory=self.femmt_working_directory, verbosity=fmt.Verbosity.Silent)
 
             core_dimensions = fmt.dtos.SingleCoreDimensions(core_inner_diameter=self.data_matrix_fem[count, self.param["core_inner_diameter"]],
                                                             window_w=self.data_matrix_fem[count, self.param["window_w"]],
-                                                            window_h=self.data_matrix_fem[count, self.param["window_h"]])
+                                                            window_h=self.data_matrix_fem[count, self.param["window_h"]],
+                                                            core_h=self.data_matrix_fem[count, self.param["core_h"]])
 
             core = fmt.Core(core_type=fmt.CoreType.Single,
                             core_dimensions=core_dimensions,
                             material=self.core_material_dict[self.data_matrix_fem[count, self.param["mu_r_abs"]]],
                             temperature=self.temperature, frequency=self.frequency,
                             permeability_datasource=fmt.MaterialDataSource.ManufacturerDatasheet,
                             permittivity_datasource=fmt.MaterialDataSource.ManufacturerDatasheet)
@@ -965,15 +966,16 @@
                                              position)
             geo.set_air_gaps(air_gaps)
 
             # 4. set insulations
             insulation = fmt.Insulation()
             insulation.add_core_insulations(self.top_core_insulation, self.bot_core_insulation,
                                             self.left_core_insulation, self.right_core_insulation)
-            insulation.add_winding_insulations([self.inner_winding_insulation], 0.0001)
+            # insulation.add_winding_insulations([self.inner_winding_insulation], 0.0001)
+            insulation.add_winding_insulations([[self.inner_winding_insulation]])
             geo.set_insulation(insulation)
 
             # 5. create winding window and virtual winding windows (vww)
             winding_window = fmt.WindingWindow(core, insulation)
             vww = winding_window.split_window(fmt.WindingWindowSplit.NoSplit)
 
             # 6. create conductor and set parameters: use solid wires
@@ -991,15 +993,15 @@
                     conductor_arrangement=self.winding_scheme_dict[self.winding_scheme][1])
             else:
                 winding.set_solid_round_conductor(conductor_radius=self.data_matrix_fem[count, self.param["solid_conductor_r"]],
                                                   conductor_arrangement=self.winding_scheme_dict[self.winding_scheme][1])
 
             # 7. add conductor to vww and add winding window to MagneticComponent
             vww.set_winding(winding, int(self.data_matrix_fem[count, self.param["no_of_turns"]]), None)
-            geo.set_winding_window(winding_window)
+            geo.set_winding_windows([winding_window])
 
             try:
                 # 5. create the model
                 geo.create_model(freq=self.frequency, pre_visualize_geometry=False, save_png=False)
 
                 # 6. start simulation
                 geo.single_simulation(freq=self.frequency, current=[self.peak_current], show_fem_simulation_results=False)
@@ -1015,21 +1017,21 @@
                 successful_sim_counter = successful_sim_counter + 1
 
                 end_time = time.time()
 
                 time_difference_seconds = end_time - start_time
                 time_difference_minutes = time_difference_seconds / 60
                 time_difference_hours = time_difference_minutes / 60
-                print(f"{time_difference_seconds = }")
-                print(f"{time_difference_minutes = }")
-                print(f"{time_difference_hours = }")
+                print(f"{time_difference_seconds=}")
+                print(f"{time_difference_minutes=}")
+                print(f"{time_difference_hours=}")
 
             except Exception as e:
-                print("next iteration")
-                logging.exception(e)
+                print(f"next iteration due to {e}")
+                # logging.exception(e)
         print(f"Successful FEM simulations: {successful_sim_counter} out of total cases: {len(self.data_matrix_fem)}")
 
     def add_column_to_data_matrix(self, data_matrix, column_value, column_name: str):
         """
         Add columns to the given matrix.
 
         param data_matrix: Matrix containing the design parameters
@@ -1142,15 +1144,15 @@
                              manual_core_inner_diameter=list(np.linspace(min_core['core_inner_diameter'], max_core['core_inner_diameter'], 3)),
                              manual_window_h=list(np.linspace(min_core['window_h'], max_core['window_h'], 3)),
                              manual_window_w=list(np.linspace(min_core['window_w'], max_core['window_w'], 3)),
                              no_of_turns=np.arange(1, 80).tolist(),
                              n_air_gaps=[1],
                              air_gap_height=list(np.linspace(0.0001, 0.0005, 20)),
                              air_gap_position=[50],
-                             core_material=['N95'],
+                             core_material=[fmt.Material.N95],
                              mult_air_gap_type=['center_distributed'],
                              top_core_insulation=0.002,
                              bot_core_insulation=0.002,
                              left_core_insulation=0.0013,
                              right_core_insulation=0.001,
                              inner_winding_insulation=0.0005,
                              temperature=60.0,
```

### Comparing `femmt-0.5.2/femmt/examples/ito_brute_force_example.py` & `femmt-0.5.3/femmt/examples/ito_brute_force_example.py`

 * *Files 2% similar despite different names*

```diff
@@ -52,55 +52,55 @@
     # save all calculated and valid reluctance model calculations
     fmt.IntegratedTransformerOptimization.ReluctanceModel.save_unfiltered_results(config_file=dab_transformer_config,
                                                                                   result_file_list=valid_reluctance_model_designs)
 
 elif task == 'load_reluctance_and_filter':
     # load all calculated and valid reluctance model calculations
     valid_reluctance_model_designs = fmt.IntegratedTransformerOptimization.ReluctanceModel.load_unfiltered_results(dab_transformer_config.working_directory)
-    print(f"{len(valid_reluctance_model_designs) = }")
+    print(f"{len(valid_reluctance_model_designs)=}")
 
     # filter air gaps
     filtered_air_gaps_dto_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.filter_min_air_gap_length(valid_reluctance_model_designs)
-    print(f"{len(filtered_air_gaps_dto_list) = }")
+    print(f"{len(filtered_air_gaps_dto_list)=}")
 
     # filter for Pareto front
     pareto_reluctance_dto_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.filter_loss_list(filtered_air_gaps_dto_list, factor_min_dc_losses=0.5)
-    print(f"{len(pareto_reluctance_dto_list) = }")
+    print(f"{len(pareto_reluctance_dto_list)=}")
 
     # save results
     fmt.IntegratedTransformerOptimization.ReluctanceModel.save_dto_list(pareto_reluctance_dto_list, os.path.join(dab_transformer_config.working_directory,
                                                                                                                  '01_reluctance_model_results_filtered'))
 
     # plot unfiltered and filtered Pareto planes
     fmt.IntegratedTransformerOptimization.plot(valid_reluctance_model_designs)
     fmt.IntegratedTransformerOptimization.plot(pareto_reluctance_dto_list)
 
 
 elif task == 'load_reluctance_filter_and_simulate_fem':
 
     # load filtered reluctance models
     pareto_reluctance_dto_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.load_filtered_results(dab_transformer_config.working_directory)
-    print(f"{len(pareto_reluctance_dto_list) = }")
+    print(f"{len(pareto_reluctance_dto_list)=}")
 
     # start FEM simulation
     fmt.IntegratedTransformerOptimization.FemSimulation.simulate(config_dto=dab_transformer_config,
                                                                  simulation_dto_list=pareto_reluctance_dto_list)
 
 elif task == 'plot_and_filter_fem_simulations_results':
 
     # load unfiltered results
     unfiltered_fem_results = fmt.IntegratedTransformerOptimization.FemSimulation.load_unfiltered_results(dab_transformer_config.working_directory)
-    print(f"{len(unfiltered_fem_results) = }")
+    print(f"{len(unfiltered_fem_results)=}")
 
     # plot unfiltered results
     fmt.IntegratedTransformerOptimization.FemSimulation.plot(unfiltered_fem_results)
 
     # filter results
     filtered_fem_results = fmt.IntegratedTransformerOptimization.FemSimulation.filter_loss_list(unfiltered_fem_results, factor_min_dc_losses=0.1)
-    print(f"{len(filtered_fem_results) = }")
+    print(f"{len(filtered_fem_results)=}")
 
     # save filtered results
     # fmt.IntegratedTransformerOptimization.FemSimulation.save_filtered_results(filtered_fem_results, dab_transformer_config.working_directory)
 
     # plot filtered results
     fmt.IntegratedTransformerOptimization.FemSimulation.plot(filtered_fem_results)
 
@@ -112,27 +112,27 @@
     # start thermal FEM simulation
     fmt.IntegratedTransformerOptimization.ThermalSimulation.simulation(config_dto=dab_transformer_config, result_log_dict_list=filtered_fem_simulation_results)
 
 elif task == 'plot_thermal_fem_simulation_results':
     # load thermal simulation results
     unfiltered_thermal_fem_results = fmt.IntegratedTransformerOptimization.ThermalSimulation.load_unfiltered_simulations(
         dab_transformer_config.working_directory)
-    print(f"{len(unfiltered_thermal_fem_results) = }")
+    print(f"{len(unfiltered_thermal_fem_results)=}")
 
     # filter thermal FEM simulations
     filtered_thermal_fem_results = fmt.IntegratedTransformerOptimization.ThermalSimulation.filter_max_temperature(unfiltered_thermal_fem_results, 125, 125)
-    print(f"{len(filtered_thermal_fem_results) = }")
+    print(f"{len(filtered_thermal_fem_results)=}")
 
     # load filtered FEM simulation results
     unfiltered_fem_simulation_results = fmt.IntegratedTransformerOptimization.FemSimulation.load_unfiltered_results(
         dab_transformer_config.working_directory)
 
     # find common cases of loss vs. volume and temperature vs. volume
     # du to the plot will contain the loss vs. volume area, so non-working cases of temperature vs. volume need
     # to be removed in loss vs. volume plane.
     valid_thermal_simulations = fmt.IntegratedTransformerOptimization.ThermalSimulation.find_common_cases(
         unfiltered_fem_simulation_results, filtered_thermal_fem_results)
-    print(f"{len(valid_thermal_simulations) = }")
+    print(f"{len(valid_thermal_simulations)=}")
 
     # plot all thermal simulation results, and plot
     fmt.IntegratedTransformerOptimization.FemSimulation.plot(unfiltered_thermal_fem_results)
     fmt.IntegratedTransformerOptimization.FemSimulation.plot(valid_thermal_simulations)
```

### Comparing `femmt-0.5.2/femmt/examples/ito_optuna_example.py` & `femmt-0.5.3/femmt/examples/ito_optuna_example.py`

 * *Files 4% similar despite different names*

```diff
@@ -52,41 +52,41 @@
 
     if task == 'start_study':
         fmt.IntegratedTransformerOptimization.ReluctanceModel.NSGAII.start_study(study_name, dab_transformer_config, 1000, storage='sqlite')
 
     elif task == 'filter_reluctance_model':
         # load trials from reluctance model
         reluctance_result_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.NSGAII.load_study_to_dto(study_name, dab_transformer_config)
-        print(f"{len(reluctance_result_list) = }")
+        print(f"{len(reluctance_result_list)=}")
 
         # filter air gaps
         filtered_air_gaps_dto_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.filter_min_air_gap_length(reluctance_result_list)
-        print(f"{len(filtered_air_gaps_dto_list) = }")
+        print(f"{len(filtered_air_gaps_dto_list)=}")
 
         # filter for Pareto front
         pareto_reluctance_dto_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.filter_loss_list(
             filtered_air_gaps_dto_list, factor_min_dc_losses=0.5)
-        print(f"{len(pareto_reluctance_dto_list) = }")
+        print(f"{len(pareto_reluctance_dto_list)=}")
 
         fmt.IntegratedTransformerOptimization.plot(reluctance_result_list)
         fmt.IntegratedTransformerOptimization.plot(pareto_reluctance_dto_list)
 
         # save results
         fmt.IntegratedTransformerOptimization.ReluctanceModel.save_dto_list(pareto_reluctance_dto_list, os.path.join(dab_transformer_config.working_directory,
                                                                                                                      '01_reluctance_model_results_filtered'))
 
     elif task == 'fem_simulation_from_filtered_reluctance_model_results':
         # load filtered reluctance models
         pareto_reluctance_dto_list = fmt.IntegratedTransformerOptimization.ReluctanceModel.load_filtered_results(dab_transformer_config.working_directory)
-        print(f"{len(pareto_reluctance_dto_list) = }")
+        print(f"{len(pareto_reluctance_dto_list)=}")
 
         # start FEM simulation
         fmt.IntegratedTransformerOptimization.FemSimulation.simulate(config_dto=dab_transformer_config,
                                                                      simulation_dto_list=pareto_reluctance_dto_list)
 
     elif task == 'plot_study_results':
         fmt.IntegratedTransformerOptimization.ReluctanceModel.NSGAII.show_study_results(study_name, dab_transformer_config)
 
     time_stop = datetime.datetime.now()
 
     time_difference = time_stop - time_start
-    print(f"{time_difference = }")
+    print(f"{time_difference=}")
```

### Comparing `femmt-0.5.2/femmt/examples/winding_test.py` & `femmt-0.5.3/femmt/examples/winding_test.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/functions.py` & `femmt-0.5.3/femmt/functions.py`

 * *Files 3% similar despite different names*

```diff
@@ -453,15 +453,15 @@
     Return costs for core and winding. This is split in material and fabrication costs.
 
     Both, material and fabrication costs have a euro_per_kilogram and a euro_per_unit (fix costs) price.
 
     Source: R. Burkart and J. Kolar 'Component Cost Models for Multi-Objective Optimizations of #
     Switched-Mode Power Converter' 2013.
 
-    These are outdated prices (year 2013). Update needed in future.
+    These are outdated prices (year 2013). Update needed in the future.
     """
     cost_database = {}
     cost_database["core_euro_per_kilogram"] = {"ferrite": 5.5,
                                                "amorphous": 16,
                                                "nanocristalline": 23,
                                                "high_si_steel": 12,
                                                "goes": 2.5}
@@ -751,19 +751,19 @@
         x_out = x_mag_corrected
         phi_rad_out = phi_rad_corrected
     else:
         raise ValueError(
             f"filter_type '{filter_value_harmonic}' not available: Must be 'factor','harmonic' or 'disabled ")
 
     if plot != 'no' and plot is not False:
-        print(f"{title = }")
-        print(f"{t[-1] = }")
-        print(f"{f0 = }")
-        print(f"{Fs = }")
-        print(f"{sample_factor = }")
+        print(f"{title=}")
+        print(f"{t[-1]=}")
+        print(f"{f0=}")
+        print(f"{Fs=}")
+        print(f"{sample_factor=}")
         print(f"f_out = {np.around(f_out, decimals=0)}")
         print(f"x_out = {np.around(x_out, decimals=3)}")
         print(f"phi_rad_out = {np.around(phi_rad_out, decimals=3)}")
 
         reconstructed_signal = 0
         for i_range in range(len(f_out)):
             reconstructed_signal += x_out[i_range] * np.cos(
@@ -973,17 +973,17 @@
     """
     common_amplitude_list_1 = []
     common_phase_list_1 = []
     common_amplitude_list_2 = []
     common_phases_list_2 = []
 
     common_frequency_list = list(set(frequency_list_1).intersection(frequency_list_2))
-    print(f"{common_frequency_list = }")
+    print(f"{common_frequency_list=}")
     common_frequency_list.sort()
-    print(f"{common_frequency_list = }")
+    print(f"{common_frequency_list=}")
 
     # Delete the corresponding phases and amplitudes
     if isinstance(amplitude_list_1, List):
         for frequency in common_frequency_list:
             common_amplitude_list_1.append(amplitude_list_1[frequency_list_1.index(frequency)])
             common_phase_list_1.append(phase_list_1_rad_or_deg[frequency_list_1.index(frequency)])
             common_amplitude_list_2.append(amplitude_list_2[frequency_list_2.index(frequency)])
@@ -1060,41 +1060,57 @@
     return tag
 
 
 def visualize_simulation_results(simulation_result_file_path: str, store_figure_file_path: str, show_plot=True) -> None:
     """Visualize the simulation results by a figure."""
     with open(simulation_result_file_path, "r") as fd:
         loaded_results_dict = json.loads(fd.read())
-
-    inductance = loaded_results_dict["single_sweeps"][0]["winding1"]["self_inductance"][0]
+    # core eddy and hysteresis losses
     loss_core_eddy_current = loaded_results_dict["total_losses"]["eddy_core"]
     loss_core_hysteresis = loaded_results_dict["total_losses"]["hyst_core_fundamental_freq"]
-    loss_winding_1 = loaded_results_dict["total_losses"]["winding1"]["total"]
-
-    print(inductance)
-    print(loss_core_eddy_current)
-    print(loss_core_hysteresis)
-    print(loss_winding_1)
+    # Inductances and winding losses
+    windings_inductance = []
+    windings_loss = []
+    windings_labels = []
+    # Dynamically for 3 windings
+    for i in range(1, 3):
+        winding_key = f"winding{i}"
+        if winding_key in loaded_results_dict["single_sweeps"][0]:
+            windings_inductance.append(loaded_results_dict["single_sweeps"][0][winding_key]["flux_over_current"][0])
+            windings_loss.append(loaded_results_dict["total_losses"][winding_key]["total"])
+            windings_labels.append(f"Winding {i}")
 
+    # Plotting results
+    fig, ax = plt.subplots()
     bar_width = 0.35
-    plt.bar(0, loss_core_hysteresis, width=bar_width)
-    plt.bar(0, loss_core_eddy_current, bottom=loss_core_hysteresis, width=bar_width)
-    plt.bar(1, loss_winding_1, width=bar_width)
-    plt.legend(['Hysteresis loss', 'Eddy current loss', 'Winding loss'])
-    plt.ylabel('Losses in W')
-    plt.xticks([0, 1, 2], ['Core', 'Winding 1', 'Winding 2'])
-    plt.grid()
+
+    # Plot core losses
+    ax.bar(0, loss_core_hysteresis, width=bar_width, label='Core Hysteresis Loss')
+    ax.bar(0, loss_core_eddy_current, bottom=loss_core_hysteresis, width=bar_width, label='Core Eddy Current Loss')
+
+    # Plot winding inductances and losses
+    for index, (inductance, loss) in enumerate(zip(windings_inductance, windings_loss), start=1):
+        ax.bar(index, loss, width=bar_width, label=f'{windings_labels[index - 1]} Loss')
+        print(f"{windings_labels[index - 1]} Inductance: {inductance} H")
+        print(f"{windings_labels[index - 1]} Loss: {loss} W")
+
+    ax.set_ylabel('Losses in W')
+    ax.set_title('Loss Distribution in Magnetic Components')
+    ax.set_xticks(list(range(len(windings_labels) + 1)))
+    ax.set_xticklabels(['Core'] + windings_labels)
+    ax.legend()
+
+    plt.grid(True)
     plt.savefig(store_figure_file_path, bbox_inches="tight")
 
     if show_plot:
         plt.show()
 
     return loaded_results_dict
 
-
 def point_is_in_rect(x, y, rect):
     """Check if a given x-y point is inside a rectangular field (e.g. inside a conductor)."""
     # x, y of the point
     # List of 4 points given as tuples with (x, y) in the order top-right, top-left, bottom-right, bottom-left
 
     # Return true if point is in rect
     if y < rect[0][1] and y > rect[3][1] and x > rect[0][0] and x < rect[1][0]:
@@ -1614,74 +1630,74 @@
         string_to_print += "\n"
 
     if not silent:
         print("\n"
               "Inductance Matrix: ")
         print(string_to_print)
 
-def calculate_quadrature_integral(timesteps: List[float], data: List[float]) -> float:
+def calculate_quadrature_integral(time_steps: List[float], data: List[float]) -> float:
     """
-    Calculate the integral of given data over specific timesteps using the quadrature method.
+    Calculate the integral of given data over specific time steps using the quadrature method.
 
-    :param timesteps: List of timesteps.
-    :type timesteps: List[float]
+    :param time_steps: List of time steps.
+    :type time_steps: List[float]
     :param data: List of data corresponding to each timestep.
     :type data: List[float]
     :return: The calculated integral.
     :rtype: float
     """
-    func = lambda x: np.interp(x, timesteps, data)
-    return quadrature(func, timesteps[0], timesteps[-1])[0]
+    func = lambda x: np.interp(x, time_steps, data)
+    return quadrature(func, time_steps[0], time_steps[-1])[0]
 
-def calculate_squared_quadrature_integral(timesteps: List[float], data: List[float]) -> float:
+def calculate_squared_quadrature_integral(time_steps: List[float], data: List[float]) -> float:
     """
-    Calculate the integral of squared given data over specific timesteps using the quadrature method..
+    Calculate the integral of squared given data over specific time steps using the quadrature method..
 
-    :param timesteps: List of timesteps.
-    :type timesteps: List[float]
+    :param time_steps: List of time steps.
+    :type time_steps: List[float]
     :param data: List of data corresponding to each timestep.
     :type data: List[float]
     :return: The calculated integral.
     :rtype: float
     """
-    func = lambda x: np.interp(x, timesteps, data)**2
-    return quadrature(func, timesteps[0], timesteps[-1])[0]
+    func = lambda x: np.interp(x, time_steps, data) ** 2
+    return quadrature(func, time_steps[0], time_steps[-1])[0]
 
-def calculate_average(integral: float, timesteps: List[float]) -> float:
+def calculate_average(integral: float, time_steps: List[float]) -> float:
     """
     Compute the average in general.
 
     :param integral: The integral value.
     :type integral: float
-    :param timesteps: List of timesteps.
-    :type timesteps: List[float]
+    :param time_steps: List of time steps.
+    :type time_steps: List[float]
 
     Returns:
     :return: The calculated average.
     :rtype: float.
     """
-    total_time = timesteps[-1] - timesteps[0]
+    total_time = time_steps[-1] - time_steps[0]
     if total_time == 0:
         raise ValueError("Total time cannot be zero.")
     return integral / total_time
 
-def calculate_rms(squared_integral: float, timesteps: List[float]) -> float:
+def calculate_rms(squared_integral: float, time_steps: List[float]) -> float:
     """
     Compute the RMS.
 
     :param squared_integral: The integral value.
     :type squared_integral: float
-    :param timesteps: List of timesteps.
-    :type timesteps: List[float]
+    :param time_steps: List of time steps.
+    :type time_steps: List[float]
 
     Returns:
     :return: The calculated average.
     :rtype: float.
     """
-    total_time = timesteps[-1] - timesteps[0]
+    total_time = time_steps[-1] - time_steps[0]
     if total_time == 0:
         raise ValueError("Total time cannot be zero.")
     mean_square = squared_integral / total_time  # Calculate the mean of the square of the data
     return np.sqrt(mean_square)  # Take the square root to get RMS value
 
 
 def convert_air_gap_corner_points_to_center_and_distance(corner_points):
```

### Comparing `femmt-0.5.2/femmt/functions_drawing.py` & `femmt-0.5.3/femmt/functions_drawing.py`

 * *Files 1% similar despite different names*

```diff
@@ -161,15 +161,15 @@
             total_height += row_element.row_height
         elif isinstance(row_element, StackIsolation):
             total_height += row_element.thickness
     return total_height
 
 
 def add_tertiary_winding_to_stack(stack_order_without_tertiary, tertiary_row_to_be_added):
-    """Add tertiary widing to stack."""
+    """Add tertiary winding to stack."""
     secondary_tags = []
     number_of_added_tertiaries = 0
     for i, obj in enumerate(stack_order_without_tertiary):
         if isinstance(obj, ConductorRow):
             if obj.winding_tag == WindingTag.Secondary:
                 secondary_tags.append(i + 1 + number_of_added_tertiaries)
                 number_of_added_tertiaries += 1
@@ -179,15 +179,15 @@
 
 # Insert insulations into the stack_order
 def insert_insulations_to_stack(stack_order, isolations: ThreeWindingIsolation):
     """Insert insulations to a stack."""
     # Which insulation is needed depends on the bot and top row neighbours
     # TODO: insert insulations into the stack depending on isolation matrix
 
-    # TODO: remove following fix insertation
+    # TODO: remove following fix insert
     insulation_positions = []
     insulation_tags = []
     insulation_stack = []
     number_of_added_insulations = 0
     # here: zero index means bot_row
     for i, _ in enumerate(stack_order[0:-1]):
         insulation_string = ""
@@ -419,15 +419,15 @@
         # Placing with adjusted isolation
         stack_order = []
         stack_order_from_interleaving_scheme(interleaving_scheme, stack_order,
                                              primary_additional_bobbin, center_foil_additional_bobbin,
                                              primary_row, secondary_row, tertiary_row,
                                              isolations)
 
-        # Add insulations afterwards
+        # Add insulations afterward
         insert_insulations_to_stack(stack_order, isolations)
 
         # Create the complete ConductorStack from the stack_order
         return ConductorStack(number_of_groups=0, number_of_single_rows=None, order=stack_order)
 
     elif interleaving_type == CenterTappedInterleavingType.TypeD:
         number_of_single_rows = None
@@ -477,23 +477,23 @@
     if x % 2:
         return False
     else:
         return True
 
 
 def center(l_list: List):
-    """Return the center indes of a list. Rounds off."""
+    """Return the center index of a list. Rounds off."""
     return int(len(l_list) / 2)
 
 
 def mix_x_and_i(input_x, input_i):
     """General usage to interleave windings. One winding could be input_x and the other input_i. Experimental.
 
     Example: 16 primary windings (input_x), 3 secondary windings (input_i).
-    Trys to fit these widings symmetric into the winding window.
+    Tries to fit these windings symmetric into the winding window.
     """
     len_x = len(input_x)
     len_i = len(input_i)
     if len_x > len_i:
         print("x must be smaller or equal I")
     else:
         if len_x == 0:
```

### Comparing `femmt-0.5.2/femmt/functions_model.py` & `femmt-0.5.3/femmt/functions_model.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/functions_reluctance.py` & `femmt-0.5.3/femmt/functions_reluctance.py`

 * *Files 1% similar despite different names*

```diff
@@ -538,20 +538,20 @@
     r_basic_lower = r_basic_round_inf(air_gap_radius, air_gap_basic_height, core_height_lower)
 
     r_equivalent_round_round = r_basic_upper + r_basic_lower
 
     sigma = sigma_round(r_equivalent_round_round, air_gap_radius, air_gap_total_height)
     if np.any(sigma > 1):
         raise Exception(f"Failure in calculating reluctance. Sigma was calculated to >1. Check input parameters!\n"
-                        f"\t{air_gap_total_height = }\n"
-                        f"\t{core_inner_diameter = }\n"
-                        f"\t{core_height_upper = }\n"
-                        f"\t{core_height_lower = }\n"
-                        f"\t{r_equivalent_round_round = }\n"
-                        f"\t{air_gap_radius = }")
+                        f"\t{air_gap_total_height=}\n"
+                        f"\t{core_inner_diameter=}\n"
+                        f"\t{core_height_upper=}\n"
+                        f"\t{core_height_lower=}\n"
+                        f"\t{r_equivalent_round_round=}\n"
+                        f"\t{air_gap_radius=}")
 
     r_air_gap_ideal = air_gap_total_height / mu_0 / np.pi / (air_gap_radius ** 2)
     r_air_gap = sigma ** 2 * r_air_gap_ideal
 
     return r_air_gap
 
 
@@ -608,15 +608,15 @@
     :param tablet_height: tablet height = air gap width for tablet-cylinder structure
     :param air_gap_basic_height: air gap height for the BASIC-AIR-GAP (e.g. if you use a round-round structure, this
         is half of the total air gap).
     :param tablet_radius: tablet radius
     :return: basic reluctance for tablet - cylinder structure
     """
     if air_gap_basic_height == 0:
-        raise ZeroDivisionError(f"Division by zero: {air_gap_basic_height = }")
+        raise ZeroDivisionError(f"Division by zero: {air_gap_basic_height=}")
 
     conductance_basic = mu_0 * (tablet_height / 2 / air_gap_basic_height + 2 / \
                                 np.pi * (1 + np.log(np.pi * tablet_radius / 4 / air_gap_basic_height)))
 
     return 1 / conductance_basic
```

### Comparing `femmt-0.5.2/femmt/functions_topologies.py` & `femmt-0.5.3/femmt/functions_topologies.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/hpc.py` & `femmt-0.5.3/femmt/hpc.py`

 * *Files 1% similar despite different names*

```diff
@@ -74,15 +74,15 @@
         Since the dictionary is given to the hpc_function directly, if a custom_hpc function is used the
         needed parameters can be added through this dict.
     :type simulation_parameters: List[Dict]
     :param working_directory: The directory stores the model data and results data for every parallel simulation.
     :type working_directory: str
     :param custom_hpc: If set to None the default hpc will be used (create_model() and single_simulation()
         are executed). If a custom_hpc is set this function
-        will be called for the parallel execution and the funtion parameters is the simulation_parameter dict taken
+        will be called for the parallel execution and the function parameters is the simulation_parameter dict taken
         from the simulation_parameters list., defaults to None
     :type custom_hpc: Callable, optional
     """
     electro_magnetic_folder = os.path.join(os.path.dirname(os.path.abspath(__file__)), "electro_magnetic")
     strands_coefficients_folder = os.path.join(electro_magnetic_folder, "Strands_Coefficients")
     
     if not os.path.isdir(working_directory):
```

### Comparing `femmt-0.5.2/femmt/logparser.py` & `femmt-0.5.3/femmt/logparser.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/mesh.py` & `femmt-0.5.3/femmt/mesh.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/model.py` & `femmt-0.5.3/femmt/model.py`

 * *Files 5% similar despite different names*

```diff
@@ -172,15 +172,15 @@
 
     # Permeability
     # TDK N95 as standard material:
     permeability_type: PermeabilityType
     mu_r_abs: float  # Relative Permeability [if complex: mu_complex = re_mu_rel + j*im_mu_rel with mu_rel=|mu_complex|]
     phi_mu_deg: float  # mu_complex = mu_r_abs * exp(j*phi_mu_deg)
 
-    # Permitivity - [Conductivity in a magneto-quasistatic sense]
+    # Permittivity - [Conductivity in a magneto-quasistatic sense]
     sigma: complex  # complex equivalent permittivity [frequency-dependent], real and imaginary part
 
     steinmetz_loss: int = 0
     generalized_steinmetz_loss: int = 0
 
     # Needed for to_dict
     loss_approach: LossApproach = None
@@ -288,27 +288,44 @@
             # this is the default-case
             self.r_outer = fr.calculate_r_outer(self.core_inner_diameter, self.window_w)
 
         # Material Parameters
         # General
         # Initialize database
         self.material_database = mdb.MaterialDatabase(self.mdb_verbosity == Verbosity.Silent)
-        self.material = material
+        if material != 'custom' and isinstance(material, str):
+            self.material = Material(material)
+        else:
+            self.material = material
         self.file_path_to_solver_folder = None
         self.temperature = temperature
         # Permeability
+        if permeability_datasource != 'custom' and isinstance(permeability_datasource, str):
+            permeability_datasource = MaterialDataSource(permeability_datasource)
+        if permeability_measurement_setup != 'custom' and permeability_measurement_setup is not None and isinstance(permeability_datasource, str):
+            permeability_measurement_setup = MeasurementSetup(permeability_measurement_setup)
+        if permeability_datatype != 'custom' and permeability_datatype is not None and isinstance(permeability_datatype, str):
+            permeability_datatype = MeasurementDataType(permeability_datatype)
+
         self.permeability = {"datasource": permeability_datasource,
                              "measurement_setup": permeability_measurement_setup,
                              "datatype": permeability_datatype}
         self.non_linear = non_linear
         self.mu_r_abs = mu_r_abs
         self.phi_mu_deg = phi_mu_deg
         self.loss_approach = loss_approach
         # Permittivity
         self.complex_permittivity = None
+        if permittivity_datasource != 'custom' and isinstance(permittivity_datasource, str):
+            permittivity_datasource = MaterialDataSource(permittivity_datasource)
+        if permittivity_measurement_setup != 'custom' and permittivity_measurement_setup is not None and isinstance(permittivity_datasource, str):
+            permittivity_measurement_setup = MeasurementSetup(permittivity_measurement_setup)
+        if permittivity_datatype != 'custom' and permittivity_datatype is not None and isinstance(permittivity_datatype, str):
+            permittivity_datatype = MeasurementDataType(permittivity_datatype)
+
         self.permittivity = {"datasource": permittivity_datasource,
                              "measurement_setup": permittivity_measurement_setup,
                              "datatype": permittivity_datatype}
         self.sigma = sigma
 
         # Check loss approach
         if loss_approach == LossApproach.Steinmetz:
@@ -410,15 +427,15 @@
 
         if self.permittivity["datasource"] == MaterialDataSource.ManufacturerDatasheet:
             self.sigma = 1 / self.material_database.get_material_attribute(material_name=self.material, attribute="resistivity")
 
     def update_core_material_pro_file(self, frequency, electro_magnetic_folder, plot_interpolation: bool = False):
         """Update the pro file for the solver depending on the frequency of the upcoming simulation."""
         if self.mdb_verbosity == Verbosity.ToConsole:
-            print(f"{self.permeability['datasource'] = }")
+            print(f"{self.permeability['datasource']=}")
         self.material_database.permeability_data_to_pro_file(temperature=self.temperature, frequency=frequency,
                                                              material_name=self.material,
                                                              datasource=self.permeability["datasource"],
                                                              datatype=self.permeability["datatype"],
                                                              measurement_setup=self.permeability["measurement_setup"],
                                                              parent_directory=electro_magnetic_folder,
                                                              plot_interpolation=plot_interpolation)
@@ -745,23 +762,23 @@
         :param conductor: Conductor which will be set to the vww.
         :type conductor: Conductor
         :param turns: Number of turns of the conductor
         :type turns: int
         :param winding_scheme: Winding scheme defines the way the conductor is wrapped. Can be set to None.
         :type winding_scheme: WindingScheme
         :param placing_strategy: Placing strategy defines the way the conductors are placing in vww
-        :type placing_strategy: ConductorPlacingStragety, optional
+        :type placing_strategy: ConductorPlacingStrategy, optional
         :param wrap_para_type: Additional wrap parameter. Not always needed, defaults to None
         :type wrap_para_type: WrapParaType, optional
         """
         self.winding_type = WindingType.Single
         self.winding_scheme = winding_scheme
         self.windings = [conductor]
-        self.turns = [0] * (conductor.winding_number + 1)  # TODO: find another soultion for this (is needed in mesh.py for air_stacked)
-        # self.turns = [0] * (3)  # TODO: find another soultion for this (is needed in mesh.py for air_stacked)
+        self.turns = [0] * (conductor.winding_number + 1)  # TODO: find another solution for this (is needed in mesh.py for air_stacked)
+        # self.turns = [0] * (3)  # TODO: find another solution for this (is needed in mesh.py for air_stacked)
         self.placing_strategy = placing_strategy
         self.alignment = alignment
         self.zigzag = zigzag
         self.turns.insert(conductor.winding_number, turns)
         self.winding_is_set = True
         self.wrap_para = wrap_para_type
 
@@ -800,25 +817,25 @@
                                   conductor1: Conductor, turns1: int,
                                   conductor2: Conductor, turns2: int,
                                   conductor3: Conductor, turns3: int,
                                   isolation_primary_to_primary: float,
                                   isolation_secondary_to_secondary: float,
                                   isolation_primary_to_secondary: float):
         """Set a center tapped winding scheme."""
-        # TODO: centertapped is following line allowed to set winding insulation this way?
+        # TODO: center tapped is following line allowed to set winding insulation this way?
         # self.winding_insulation = define_center_tapped_insulation(primary_to_primary=2e-4,
         #                                                           secondary_to_secondary=2e-4,
         #                                                           primary_to_secondary=5e-4)
         self.winding_insulation = [isolation_primary_to_primary, isolation_secondary_to_secondary,
                                    isolation_primary_to_secondary]
         self.winding_type = WindingType.CenterTappedGroup
-        self.winding_scheme = None  # TODO: centertapped maybe add vertical or sth. like this
+        self.winding_scheme = None  # TODO: center tapped maybe add vertical or sth. like this
         self.windings = [conductor1, conductor2, conductor3]
         self.turns = [turns1, turns2, turns3]
-        # TODO: centertapped is also a deepcopy needed somewhere: tertiary...?
+        # TODO: center tapped is also a deepcopy needed somewhere: tertiary...?
         self.winding_is_set = True
         self.wrap_para = None
 
     def __repr__(self):
         """Define a printable representation of the VirtualWindingWindow object."""
         return f"WindingType: {self.winding_type}, WindingScheme: {self.winding_scheme}, Bounds: bot: {self.bot_bound}, " \
                f"top: {self.top_bound}, left: {self.left_bound}, right: {self.right_bound}"
@@ -1068,18 +1085,18 @@
         else:
             raise Exception(f"Winding window split type {split_type} not found")
 
     def NCellsSplit(self, split_distance: float = 0, horizontal_split_factors: List[float] = None, vertical_split_factor: float = 0.5):
         """
         Split a winding window into N columns (horizontal).
 
-        Optionally the N columns can be splitted into two rows each.
+        Optionally the N columns can be split into two rows each.
         :param split_distance: sets the distance between the vwws
         :param horizontal_split_factors: sets the borders between the columns
-        :param vertical_split_factor: sets the height of where the rows are splitted
+        :param vertical_split_factor: sets the height of where the rows are split
         :return:
         """
         self.vertical_split_factor = vertical_split_factor
         # Convert horizontal_split_factors to a numpy array
         horizontal_split_factors = np.array(horizontal_split_factors)
         if self.stray_path is not None and self.air_gaps is not None and self.air_gaps.number > self.stray_path.start_index:
             air_gap_1_position = self.air_gaps.midpoints[self.stray_path.start_index][1]
@@ -1145,14 +1162,91 @@
         for i in range(0, len(horizontal_splits) + 1):
             self.virtual_winding_windows.append(self.Left_cells[i])
             self.virtual_winding_windows.append(self.Right_cells[i])
         # Instead of returning the separate lists of Left_cells and Right_cells,
         # we return the combined list of all virtual winding windows.
         return self.virtual_winding_windows
 
+    def flexible_split(self, split_distance: float = 0,
+                       horizontal_split_factors: Optional[List[float]] = None,
+                       vertical_split_factors: Optional[List[List[float]]] = None) -> List[VirtualWindingWindow]:
+        """
+        Flexible split function to divide a window into sections based on provided horizontal and vertical split factors.
+
+        :param split_distance: Distance between split sections.
+        :param horizontal_split_factors: Relative positions for horizontal splits (0-1 range).
+        :param vertical_split_factors: Nested list of relative positions for vertical splits (0-1 range).
+                                       Each sublist corresponds to the vertical splits for each horizontal section.
+        :return: List of VirtualWindingWindow instances.
+        """
+        if horizontal_split_factors is None:
+            horizontal_split_factors = []
+
+        if vertical_split_factors is None:
+            vertical_split_factors = [[]]
+
+        if self.stray_path is not None and self.air_gaps is not None and self.air_gaps.number > self.stray_path.start_index:
+            air_gap_1_position = self.air_gaps.midpoints[self.stray_path.start_index][1]
+            air_gap_2_position = self.air_gaps.midpoints[self.stray_path.start_index + 1][1]
+            max_pos = max(air_gap_2_position, air_gap_1_position)
+            min_pos = min(air_gap_2_position, air_gap_1_position)
+            distance = max_pos - min_pos  # TODO: this is set in accordance to the midpoint of the air gap:
+            # TODO: should be changed to the core-cond isolation
+            horizontal_splits = min_pos + distance / 2
+            vertical_splits = self.max_left_bound + (self.max_right_bound - self.max_left_bound) * vertical_split_factors
+            split_distance = distance  # here, the distance between the two vwws is set automatically
+        else:
+
+            horizontal_splits = np.array(horizontal_split_factors)
+            horizontal_splits = np.sort(np.clip(horizontal_splits, 0, 1))
+            horizontal_splits = self.max_bot_bound + (self.max_top_bound - self.max_bot_bound) * horizontal_splits
+            horizontal_splits = np.concatenate(([self.max_bot_bound], horizontal_splits, [self.max_top_bound]))
+
+        cells = []
+
+        if len(horizontal_split_factors) == 0 and any(vertical_split_factors):  # Only vertical splits
+            for i in range(len(vertical_split_factors)):
+                vertical_splits = np.array(vertical_split_factors[i]) if vertical_split_factors[i] else []
+                vertical_splits = np.sort(np.clip(vertical_splits, 0, 1))
+                vertical_splits = self.max_left_bound + (self.max_right_bound - self.max_left_bound) * vertical_splits
+                vertical_splits = np.concatenate(([self.max_left_bound], vertical_splits, [self.max_right_bound]))
+
+                for j in range(len(vertical_splits) - 1):
+                    cells.append(VirtualWindingWindow(
+                        bot_bound=self.max_bot_bound,
+                        top_bound=self.max_top_bound,
+                        left_bound=vertical_splits[j],
+                        right_bound=vertical_splits[j + 1]
+                    ))
+        elif len(vertical_split_factors) == 0 and len(horizontal_split_factors) > 0:  # Only horizontal splits
+            for i in range(len(horizontal_splits) - 1):
+                cells.append(VirtualWindingWindow(
+                    bot_bound=horizontal_splits[i],
+                    top_bound=horizontal_splits[i + 1],
+                    left_bound=self.max_left_bound,
+                    right_bound=self.max_right_bound
+                ))
+        else:  # Both horizontal and vertical splits or no splits
+            for i in range(len(horizontal_splits) - 1):
+                vertical_splits = np.array(vertical_split_factors[i]) if vertical_split_factors[i] else []
+                vertical_splits = np.sort(np.clip(vertical_splits, 0, 1))
+                vertical_splits = self.max_left_bound + (self.max_right_bound - self.max_left_bound) * vertical_splits
+                vertical_splits = np.concatenate(([self.max_left_bound], vertical_splits, [self.max_right_bound]))
+
+                for j in range(len(vertical_splits) - 1):
+                    cells.append(VirtualWindingWindow(
+                        bot_bound=horizontal_splits[i],
+                        top_bound=horizontal_splits[i + 1],
+                        left_bound=vertical_splits[j],
+                        right_bound=vertical_splits[j + 1]
+                    ))
+
+        self.virtual_winding_windows = cells
+        return self.virtual_winding_windows
+
     def split_with_stack(self, stack: ConductorStack):
         """
         Split the winding window according to a ConductorStack dataclass.
 
         :param stack:
         :return:
         """
```

### Comparing `femmt-0.5.2/femmt/optimization/functions_optimization.py` & `femmt-0.5.3/femmt/optimization/functions_optimization.py`

 * *Files 2% similar despite different names*

```diff
@@ -181,15 +181,15 @@
     y_pareto_vec = []
 
     for count_mask, mask in enumerate(pareto_tuple_mask_vec):
         if mask:
             x_pareto_vec.append(x_vec[count_mask])
             y_pareto_vec.append(y_vec[count_mask])
 
-    print(f"{len(x_pareto_vec) = }")
+    print(f"{len(x_pareto_vec)=}")
 
     return np.array(x_pareto_vec), np.array(y_pareto_vec)
 
 
 def pareto_front_from_result_dicts(result_dict_list: List[Dict]) -> tuple:
     """
     Calculate the Pareto front from a list of result log dictionaries.
@@ -216,10 +216,10 @@
     y_pareto_vec = []
 
     for count_mask, mask in enumerate(pareto_tuple_mask_vec):
         if mask:
             x_pareto_vec.append(x_vec[count_mask])
             y_pareto_vec.append(y_vec[count_mask])
 
-    print(f"{len(x_pareto_vec) = }")
+    print(f"{len(x_pareto_vec)=}")
 
     return np.array(x_pareto_vec), np.array(y_pareto_vec)
```

### Comparing `femmt-0.5.2/femmt/optimization/ito.py` & `femmt-0.5.3/femmt/optimization/ito.py`

 * *Files 0% similar despite different names*

```diff
@@ -208,15 +208,15 @@
 
                 # 1. Extract fundamental frequency from current vectors
                 time_extracted, current_extracted_1_vec = fr.time_vec_current_vec_from_time_current_vec(
                     sweep_dto.time_current_1_vec)
                 time_extracted, current_extracted_2_vec = fr.time_vec_current_vec_from_time_current_vec(
                     sweep_dto.time_current_2_vec)
                 fundamental_frequency = np.around(1 / time_extracted[-1], decimals=0)
-                print(f"{fundamental_frequency = }")
+                print(f"{fundamental_frequency=}")
 
                 i_rms_1 = fr.i_rms(sweep_dto.time_current_1_vec)
                 i_rms_2 = fr.i_rms(sweep_dto.time_current_2_vec)
 
                 # generate list of all parameter combinations
                 t2_core_geometry_sweep = np.array(list(itertools.product(sweep_dto.t1_window_w, sweep_dto.t1_window_h_top,
                                                                          sweep_dto.t1_window_h_bot,
@@ -245,16 +245,16 @@
                     """
                     outer core material loop loads material properties from material database
                      * mu_r_abs
                      * saturation_flux_density and calculates the dimensioning_flux_density from it
                      * material vectors for mu_r_real and mu_r_imag depending on flux_density
     
                     """
-                    mu_r_abs = material_db.get_material_property(material_name=material_name,
-                                                                 property="initial_permeability")
+                    mu_r_abs = material_db.get_material_attribute(material_name=material_name,
+                                                                  attribute="initial_permeability")
 
                     saturation_flux_density = material_db.get_saturation_flux_density(material_name=material_name)
                     dimensioning_max_flux_density = saturation_flux_density * sweep_dto.factor_max_flux_density
 
                     # get material data from material database.
                     material_dto = material_db.material_data_interpolation_to_dto(material_name, fundamental_frequency, config_file.temperature)
 
@@ -267,15 +267,15 @@
 
                         # report about simulation progress
                         # if geometry_simulation_counter == geometry_simulations_per_percent * simulation_progress_percent:
                         #     simulation_progress_percent += 1
                         #     print(f"{simulation_progress_percent} simulation_progress_percent")
                         # geometry_simulation_counter += 1
                         simulation_progress_percent = count_geometry / number_of_geometry_simulations * 100
-                        print(f"{simulation_progress_percent = } %")
+                        print(f"{simulation_progress_percent=} %")
 
                         # print(geometry_simulation_counter)
 
                         for primary_litz_wire, secondary_litz_wire in t2_litz_sweep:
                             primary_litz = litz_database[primary_litz_wire]
                             secondary_litz = litz_database[secondary_litz_wire]
```

### Comparing `femmt-0.5.2/femmt/optimization/ito_dtos.py` & `femmt-0.5.3/femmt/optimization/ito_dtos.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/optimization/ito_functions.py` & `femmt-0.5.3/femmt/optimization/ito_functions.py`

 * *Files 1% similar despite different names*

```diff
@@ -148,17 +148,22 @@
     window_h = dto.window_h_bot + dto.window_h_top + dto.core_inner_diameter / 4
 
     core_dimensions = fmt.dtos.SingleCoreDimensions(core_inner_diameter=dto.core_inner_diameter,
                                                     window_w=dto.window_w,
                                                     window_h=window_h,
                                                     core_h=window_h + dto.core_inner_diameter / 2)
 
+    if isinstance(dto.core_material, str):
+        material = fmt.Material(dto.core_material)
+    else:
+        material = dto.core_material
+
     core = fmt.Core(core_type=fmt.CoreType.Single,
                     core_dimensions=core_dimensions,
-                    material=dto.core_material,
+                    material=material,
                     temperature=config_dto.temperature,
                     frequency=fundamental_frequency,
                     permeability_datasource=fmt.MaterialDataSource.ManufacturerDatasheet,
                     permittivity_datasource=fmt.MaterialDataSource.ManufacturerDatasheet)
 
     geo.set_core(core)
 
@@ -178,15 +183,16 @@
     air_gaps.add_air_gap(fmt.AirGapLegPosition.CenterLeg, dto.air_gap_bot, air_gap_bot_position_percent)
     air_gaps.add_air_gap(fmt.AirGapLegPosition.CenterLeg, dto.air_gap_top, air_gap_top_position_percent)
     geo.set_air_gaps(air_gaps)
 
     # 4. set insulations
     insulation = fmt.Insulation()
     insulation.add_core_insulations(0.001, 0.001, 0.001, 0.001)
-    insulation.add_winding_insulations([0.0002, 0.0002], 0.0001)
+    insulation.add_winding_insulations([[0.0002, 0.001],
+                                        [0.001, 0.0002]])
     geo.set_insulation(insulation)
 
     # 5. create winding window and virtual winding windows (vww)
     # For an integrated transformer it is not necessary to set horizontal and vertical split factors
     # since this is determined by the stray_path
     winding_window = fmt.WindingWindow(core, insulation, stray_path, air_gaps)
     top, bot = winding_window.split_window(fmt.WindingWindowSplit.HorizontalSplit)
@@ -201,20 +207,18 @@
 
     winding2 = fmt.Conductor(1, fmt.Conductivity.Copper)
     winding2.set_litz_round_conductor(secondary_litz["conductor_radii"], secondary_litz["strands_numbers"],
                                       secondary_litz["strand_radii"], None, fmt.ConductorArrangement.Square)
 
     # 7. add conductor to vww and add winding window to MagneticComponent
     top.set_interleaved_winding(winding1, dto.n_p_top, winding2, dto.n_s_top,
-                                fmt.InterleavedWindingScheme.HorizontalAlternating,
-                                0.0005)
+                                fmt.InterleavedWindingScheme.HorizontalAlternating)
     bot.set_interleaved_winding(winding1, dto.n_p_bot, winding2, dto.n_s_bot,
-                                fmt.InterleavedWindingScheme.HorizontalAlternating,
-                                0.0005)
-    geo.set_winding_window(winding_window)
+                                fmt.InterleavedWindingScheme.HorizontalAlternating)
+    geo.set_winding_windows([winding_window])
 
     # 8. start simulation with given frequency, currents and phases
     geo.create_model(freq=fundamental_frequency, pre_visualize_geometry=visualize)
     geo.single_simulation(freq=fundamental_frequency,
                           current=[i_peak_1, i_peak_2],
                           phi_deg=[phase_deg_1, phase_deg_2],
                           show_fem_simulation_results=visualize)
```

### Comparing `femmt-0.5.2/femmt/optimization/optuna_femmt_parser.py` & `femmt-0.5.3/femmt/optimization/optuna_femmt_parser.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/optimization/sto.py` & `femmt-0.5.3/femmt/optimization/sto.py`

 * *Files 0% similar despite different names*

```diff
@@ -164,17 +164,17 @@
 
         try:
             if config.max_transformer_total_height is not None:
                 # Maximum transformer height
                 window_h_bot_max = config.max_transformer_total_height - 3 * core_inner_diameter / 4 - window_h_top
                 window_h_bot_min = config.window_h_bot_min_max_list[0]
                 if window_h_bot_min > window_h_bot_max:
-                    print(f"{number_rows_coil_winding = }")
-                    print(f"{window_h_top = }")
-                    raise ValueError(f"{window_h_bot_min = } > {window_h_bot_max = }")
+                    print(f"{number_rows_coil_winding=}")
+                    print(f"{window_h_top=}")
+                    raise ValueError(f"{window_h_bot_min=} > {window_h_bot_max=}")
 
                 window_h_bot = trial.suggest_float("window_h_bot", window_h_bot_min, window_h_bot_max)
 
             else:
                 window_h_bot = trial.suggest_float("window_h_bot", config.window_h_bot_min_max_list[0],
                                                    config.window_h_bot_min_max_list[1])
 
@@ -511,20 +511,20 @@
         """
         study = optuna.create_study(study_name=study_name,
                                     storage=f"sqlite:///{config.working_directory}/study_{study_name}.sqlite3",
                                     load_if_exists=True)
 
         # Order: total_volume, total_loss, difference_l_h, difference_l_s
         l_h_absolute_error = percent_error_difference_l_h / 100 * config.l_h_target
-        print(f"{config.l_h_target = }")
-        print(f"{l_h_absolute_error = }")
+        print(f"{config.l_h_target=}")
+        print(f"{l_h_absolute_error=}")
 
         l_s_absolute_error = percent_error_difference_l_s12 / 100 * config.l_s12_target
-        print(f"{config.l_s12_target = }")
-        print(f"{l_s_absolute_error = }")
+        print(f"{config.l_s12_target=}")
+        print(f"{l_s_absolute_error=}")
 
         fig = optuna.visualization.plot_pareto_front(study, targets=lambda t: (
             t.values[0] if -l_h_absolute_error < t.values[2] < l_h_absolute_error else None,
             t.values[1] if -l_s_absolute_error < t.values[3] < l_s_absolute_error else None), target_names=["volume in m³", "loss in W"])
         fig.update_layout(
             title=f"{study_name}: Filtering l_h_absolute_error = {l_h_absolute_error * 100} %, l_s_absolute_error = {l_s_absolute_error * 100} %.")
         fig.write_html(
@@ -557,15 +557,15 @@
         study = optuna.load_study(study_name=study_name,
                                   storage=storage)
 
         print(f"Loaded study {study_name} contains {len(study.trials)} trials.")
         time_stop = datetime.datetime.now()
         print(f"Finished loading study {study_name} from database in time: {time_stop - time_start}")
 
-        print(f"{error_difference_inductance_sum_percent = }")
+        print(f"{error_difference_inductance_sum_percent=}")
 
         time_start = datetime.datetime.now()
         print("start generating Pareto front....")
         fig = optuna.visualization.plot_pareto_front(study, targets=lambda t: (
             t.values[0] if error_difference_inductance_sum_percent > t.values[2] else None,
             t.values[1] if error_difference_inductance_sum_percent > t.values[2] else None), target_names=["volume in m³", "loss in W"])
         fig.update_layout(title=f"{study_name}: Filtering {error_difference_inductance_sum_percent} % of |err(Ls_12)| + |err(L_h)|")
@@ -656,17 +656,17 @@
         foil_thickness = loaded_trial_params["foil_thickness"]
 
         if config.max_transformer_total_height is not None:
             # Maximum transformer height
             window_h_bot_max = config.max_transformer_total_height - 3 * core_inner_diameter / 4 - window_h_top
             window_h_bot_min = config.window_h_bot_min_max_list[0]
             if window_h_bot_min > window_h_bot_max:
-                print(f"{number_rows_coil_winding = }")
-                print(f"{window_h_top = }")
-                raise ValueError(f"{window_h_bot_min = } > {window_h_bot_max = }")
+                print(f"{number_rows_coil_winding=}")
+                print(f"{window_h_top=}")
+                raise ValueError(f"{window_h_bot_min=} > {window_h_bot_max=}")
 
             window_h_bot = loaded_trial_params["window_h_bot"]
 
         else:
             window_h_bot = loaded_trial_params["window_h_bot"]
 
         geo = femmt.MagneticComponent(component_type=femmt.ComponentType.IntegratedTransformer,
@@ -812,17 +812,17 @@
         foil_thickness = loaded_trial_params["params_foil_thickness"]
 
         if config.max_transformer_total_height is not None:
             # Maximum transformer height
             window_h_bot_max = config.max_transformer_total_height - 3 * core_inner_diameter / 4 - window_h_top
             window_h_bot_min = config.window_h_bot_min_max_list[0]
             if window_h_bot_min > window_h_bot_max:
-                print(f"{number_rows_coil_winding = }")
-                print(f"{window_h_top = }")
-                raise ValueError(f"{window_h_bot_min = } > {window_h_bot_max = }")
+                print(f"{number_rows_coil_winding=}")
+                print(f"{window_h_top=}")
+                raise ValueError(f"{window_h_bot_min=} > {window_h_bot_max=}")
 
             window_h_bot = loaded_trial_params["params_window_h_bot"]
 
         else:
             window_h_bot = loaded_trial_params["params_window_h_bot"]
 
         geo = femmt.MagneticComponent(component_type=femmt.ComponentType.IntegratedTransformer,
@@ -969,17 +969,17 @@
         foil_thickness = loaded_trial_params["params_foil_thickness"]
 
         if config.max_transformer_total_height is not None:
             # Maximum transformer height
             window_h_bot_max = config.max_transformer_total_height - 3 * core_inner_diameter / 4 - window_h_top
             window_h_bot_min = config.window_h_bot_min_max_list[0]
             if window_h_bot_min > window_h_bot_max:
-                print(f"{number_rows_coil_winding = }")
-                print(f"{window_h_top = }")
-                raise ValueError(f"{window_h_bot_min = } > {window_h_bot_max = }")
+                print(f"{number_rows_coil_winding=}")
+                print(f"{window_h_top=}")
+                raise ValueError(f"{window_h_bot_min=} > {window_h_bot_max=}")
 
             window_h_bot = loaded_trial_params["params_window_h_bot"]
 
         else:
             window_h_bot = loaded_trial_params["params_window_h_bot"]
 
         geo = femmt.MagneticComponent(component_type=femmt.ComponentType.IntegratedTransformer,
```

### Comparing `femmt-0.5.2/femmt/optimization/sto_dtos.py` & `femmt-0.5.3/femmt/optimization/sto_dtos.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/optimization/to.py` & `femmt-0.5.3/femmt/optimization/to.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/optimization/to_dtos.py` & `femmt-0.5.3/femmt/optimization/to_dtos.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-"""Includes the DTOs to perform a transfomer optimization."""
+"""Includes the DTOs to perform a transformer optimization."""
 # python libraries
 from dataclasses import dataclass
 from typing import List, Union
 
 # 3rd party libraries
 import numpy as np
 from materialdatabase.dtos import MaterialCurve
```

### Comparing `femmt-0.5.2/femmt/reluctance.py` & `femmt-0.5.3/femmt/reluctance.py`

 * *Files 1% similar despite different names*

```diff
@@ -559,15 +559,15 @@
 
         Method according to the following paper:
         ["A Novel Approach for 3D Air Gap Reluctance Calculations" - J. Mühlethaler, J.W. Kolar, A. Ecklebe]
 
         It is called when input variable sim_type == 'sweep'.
         Its calculation for multiple air-gap is based on superposition.
         That is, multiple air-gap's reluctance is calculated by taking one at a time and then adding them together
-        (like in superpostion theorem)
+        (like in superposition theorem)
         """
         # Single air-gap reluctance calculations
         # Convert percent position to absolute position
         air_gap_position_absolute = (self.air_gap_position[0:self.single_air_gap_len] / 100) * self.window_h[0:self.single_air_gap_len]
 
         core_height_lower = air_gap_position_absolute - (self.air_gap_h[0:self.single_air_gap_len] / 2)
         core_height_upper = self.window_h[0:self.single_air_gap_len] - air_gap_position_absolute - (self.air_gap_h[0:self.single_air_gap_len] / 2)
@@ -729,15 +729,15 @@
 
         Method is according to the following paper:
         ["A Novel Approach for 3D Air Gap Reluctance Calculations" - J. Mühlethaler, J.W. Kolar, A. Ecklebe]
 
         It is called when input variable sim_type == 'single'.
         Its calculation for multiple air-gap is based on superposition.
         That is, multiple air-gap's reluctance is calculated by taking one at a time and then adding them together
-        (like in superpostion theorem)
+        (like in superposition theorem)
         """
         # Conversion of different air_gap_method to manual method
         if self.air_gap_method == "Percent":
             self.air_gap_position = (np.array(self.air_gap_position) / 100) * self.window_h[0]
         elif self.air_gap_method == "Center":
             self.air_gap_position = [self.window_h[0] / 2]
```

### Comparing `femmt-0.5.2/femmt/thermal/solver/Solver.pro` & `femmt-0.5.3/femmt/thermal/solver/Solver.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/thermal/solver/Thermal.pro` & `femmt-0.5.3/femmt/thermal/solver/Thermal.pro`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/femmt/thermal/thermal_classes.py` & `femmt-0.5.3/femmt/thermal/thermal_classes.py`

 * *Files 2% similar despite different names*

```diff
@@ -15,15 +15,15 @@
 
     @staticmethod
     def create_boundary_if_string(flag, region, value):
         """Create the boundary region."""
         return f"\t\tIf({flag}==1)\n\t\t\t{{ Region {region} ; Type Assign; Value {value} ; }}\n\t\tEndIf\n"
 
     def add_boundary_constraint(self, more_constraints):
-        """Add boundary contraint."""
+        """Add boundary constraint."""
         for constraint in more_constraints:
             self.boundary_constraints.append(constraint)
 
     def create_file(self, file_path):
         """Create file."""
         with open(file_path, "w") as fd:
             fd.write("Constraint {\n  { Name Temperature ;\n\tCase {\n")
```

### Comparing `femmt-0.5.2/femmt/thermal/thermal_functions.py` & `femmt-0.5.3/femmt/thermal/thermal_functions.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-"""Functions for the termal simulations."""
+"""Functions for the thermal simulations."""
 # Python standard libraries
 import json
 import os
 from typing import Dict
 
 # 3rd party libraries
 import numpy as np
```

### Comparing `femmt-0.5.2/femmt/thermal/thermal_simulation.py` & `femmt-0.5.3/femmt/thermal/thermal_simulation.py`

 * *Files 1% similar despite different names*

```diff
@@ -132,15 +132,15 @@
                 windings_total_str += f"{name}, "
                 q_vol[name] = thermal_f.calculate_heat_flux_round_wire(winding_losses[winding_index][index],
                                                                        conductor_radii[winding_index],
                                                                        wire_distances[winding_index][index])
 
                 print(q_vol[name])
                 k[name] = k_windings
-                if tag not in tag_counters:  # The counter is needed here to create a single region for for every turn in case of parallel windings
+                if tag not in tag_counters:  # The counter is needed here to create a single region for every turn in case of parallel windings
                     tag_counters[tag] = 0
                 else:
                     tag_counters[tag] += 1
                 regions[name] = tag + tag_counters[tag]
 
     # Needs to be added. [:-2] removes the last ', '
     regions["windings_total"] = windings_total_str[:-2] + "}"
```

### Comparing `femmt-0.5.2/gui/FEMMT_Definitions.svg` & `femmt-0.5.3/gui/FEMMT_Definitions.svg`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/FigureObject.fig.pickle` & `femmt-0.5.3/gui/FigureObject.fig.pickle`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/example_results/inductor/mesh/hybrid_color.png` & `femmt-0.5.3/gui/example_results/inductor/mesh/hybrid_color.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/femmt_gui.py` & `femmt-0.5.3/gui/femmt_gui.py`

 * *Files 2% similar despite different names*

```diff
@@ -396,10924 +396,11340 @@
 000018b0: 7365 6c66 2e49 6e64 7563 7461 6e63 655f  self.Inductance_
 000018c0: 7661 6c75 655f 7075 7368 4275 7474 6f6e  value_pushButton
 000018d0: 2e63 6c69 636b 6564 2e63 6f6e 6e65 6374  .clicked.connect
 000018e0: 2873 656c 662e 696e 6475 6374 616e 6365  (self.inductance
 000018f0: 6361 6c63 290a 0a20 2020 2020 2020 2022  calc)..        "
 00001900: 6368 6563 6b62 6f78 2066 6f72 2049 6e73  checkbox for Ins
 00001910: 756c 6174 696f 6e20 6d6f 6465 220a 2020  ulation mode".  
-00001920: 2020 2020 2020 2320 6368 616e 6765 2036        # change 6
-00001930: 3a20 6e65 6564 6564 2066 6f72 2065 6e61  : needed for ena
-00001940: 6265 6c69 6e67 2074 6865 2069 6e73 756c  beling the insul
-00001950: 6174 696f 6e0a 2020 2020 2020 2020 7365  ation.        se
-00001960: 6c66 2e65 6e61 626c 655f 696e 7375 6c61  lf.enable_insula
-00001970: 7469 6f6e 5f63 6865 636b 626f 782e 7374  tion_checkbox.st
-00001980: 6174 6543 6861 6e67 6564 2e63 6f6e 6e65  ateChanged.conne
-00001990: 6374 2873 656c 662e 6f6e 5f69 6e73 756c  ct(self.on_insul
-000019a0: 6174 696f 6e5f 7374 6174 655f 6368 616e  ation_state_chan
-000019b0: 6765 6429 0a20 2020 2020 2020 2023 2049  ged).        # I
-000019c0: 6e69 7469 616c 697a 6520 666c 6167 5f69  nitialize flag_i
-000019d0: 6e73 756c 6174 696f 6e20 6261 7365 6420  nsulation based 
-000019e0: 6f6e 2074 6865 2063 6865 636b 626f 7827  on the checkbox'
-000019f0: 7320 696e 6974 6961 6c20 7374 6174 650a  s initial state.
-00001a00: 2020 2020 2020 2020 7365 6c66 2e66 6c61          self.fla
-00001a10: 675f 696e 7375 6c61 7469 6f6e 203d 2073  g_insulation = s
-00001a20: 656c 662e 656e 6162 6c65 5f69 6e73 756c  elf.enable_insul
-00001a30: 6174 696f 6e5f 6368 6563 6b62 6f78 2e69  ation_checkbox.i
-00001a40: 7343 6865 636b 6564 2829 0a0a 2020 2020  sChecked()..    
-00001a50: 2020 2020 2253 6967 6e61 6c73 2069 6e20      "Signals in 
-00001a60: 4578 6369 7461 7469 6f6e 2054 6162 220a  Excitation Tab".
-00001a70: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00001a80: 6463 5f63 6865 636b 426f 782e 7374 6174  dc_checkBox.stat
-00001a90: 6543 6861 6e67 6564 2e63 6f6e 6e65 6374  eChanged.connect
-00001aa0: 2873 656c 662e 6d64 5f64 635f 656e 6162  (self.md_dc_enab
-00001ab0: 6c65 290a 2020 2020 2020 2020 7365 6c66  le).        self
-00001ac0: 2e6d 645f 666b 315f 6368 6563 6b42 6f78  .md_fk1_checkBox
-00001ad0: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001ae0: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001af0: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001b00: 5f31 290a 2020 2020 2020 2020 7365 6c66  _1).        self
-00001b10: 2e6d 645f 666b 325f 6368 6563 6b42 6f78  .md_fk2_checkBox
-00001b20: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001b30: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001b40: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001b50: 5f32 290a 2020 2020 2020 2020 7365 6c66  _2).        self
-00001b60: 2e6d 645f 666b 335f 6368 6563 6b42 6f78  .md_fk3_checkBox
-00001b70: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001b80: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001b90: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001ba0: 5f33 290a 2020 2020 2020 2020 7365 6c66  _3).        self
-00001bb0: 2e6d 645f 666b 345f 6368 6563 6b42 6f78  .md_fk4_checkBox
-00001bc0: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001bd0: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001be0: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001bf0: 5f34 290a 2020 2020 2020 2020 7365 6c66  _4).        self
-00001c00: 2e6d 645f 666b 355f 6368 6563 6b42 6f78  .md_fk5_checkBox
-00001c10: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001c20: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001c30: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001c40: 5f35 290a 2020 2020 2020 2020 7365 6c66  _5).        self
-00001c50: 2e6d 645f 666b 365f 6368 6563 6b42 6f78  .md_fk6_checkBox
-00001c60: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001c70: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001c80: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001c90: 5f36 290a 2020 2020 2020 2020 7365 6c66  _6).        self
-00001ca0: 2e6d 645f 666b 375f 6368 6563 6b42 6f78  .md_fk7_checkBox
-00001cb0: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001cc0: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001cd0: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001ce0: 5f37 290a 2020 2020 2020 2020 7365 6c66  _7).        self
-00001cf0: 2e6d 645f 666b 385f 6368 6563 6b42 6f78  .md_fk8_checkBox
-00001d00: 2e73 7461 7465 4368 616e 6765 642e 636f  .stateChanged.co
-00001d10: 6e6e 6563 7428 7365 6c66 2e6d 645f 6368  nnect(self.md_ch
-00001d20: 616e 6765 5f66 7265 7175 656e 6369 6573  ange_frequencies
-00001d30: 5f38 290a 2020 2020 2020 2020 7365 6c66  _8).        self
-00001d40: 2e6d 645f 6578 6369 7461 7469 6f6e 5f75  .md_excitation_u
-00001d50: 7064 6174 655f 6772 6170 685f 4275 7474  pdate_graph_Butt
-00001d60: 6f6e 2e63 6c69 636b 6564 2e63 6f6e 6e65  on.clicked.conne
-00001d70: 6374 2873 656c 662e 6d64 5f72 6564 7261  ct(self.md_redra
-00001d80: 775f 696e 7075 745f 7369 676e 616c 7329  w_input_signals)
-00001d90: 0a0a 2020 2020 2020 2020 2253 6967 6e61  ..        "Signa
-00001da0: 6c73 2069 6e20 5369 6d75 6c61 7469 6f6e  ls in Simulation
-00001db0: 2054 6162 220a 2020 2020 2020 2020 7365   Tab".        se
-00001dc0: 6c66 2e6d 645f 7369 6d75 6c61 7469 6f6e  lf.md_simulation
-00001dd0: 5f51 5075 7368 4275 7474 6f6e 2e63 6c69  _QPushButton.cli
-00001de0: 636b 6564 2e63 6f6e 6e65 6374 2873 656c  cked.connect(sel
-00001df0: 662e 6d64 5f61 6374 696f 6e5f 7275 6e5f  f.md_action_run_
-00001e00: 7369 6d75 6c61 7469 6f6e 290a 0a20 2020  simulation)..   
-00001e10: 2020 2020 2023 2069 6e69 7469 616c 697a       # initializ
-00001e20: 6520 6368 6563 6b62 6f78 6573 2e20 4e65  e checkboxes. Ne
-00001e30: 6564 2074 6f20 6265 2073 6574 2074 6f20  ed to be set to 
-00001e40: 5472 7565 2061 6e64 2074 6865 6e20 746f  True and then to
-00001e50: 2046 616c 7365 2c20 736f 2072 6570 7265   False, so repre
-00001e60: 7365 6e74 2061 2063 6861 6e67 6520 616e  sent a change an
-00001e70: 6420 7468 6520 7369 676e 616c 0a20 2020  d the signal.   
-00001e80: 2020 2020 2023 2074 7269 6767 6572 7320       # triggers 
-00001e90: 7468 6520 6163 7469 6f6e 2074 6f20 756e  the action to un
-00001ea0: 6368 6563 6b20 616c 6c20 626f 7865 730a  check all boxes.
-00001eb0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00001ec0: 6463 5f63 6865 636b 426f 782e 7365 7443  dc_checkBox.setC
-00001ed0: 6865 636b 6564 2854 7275 6529 0a20 2020  hecked(True).   
-00001ee0: 2020 2020 2073 656c 662e 6d64 5f66 6b31       self.md_fk1
-00001ef0: 5f63 6865 636b 426f 782e 7365 7443 6865  _checkBox.setChe
-00001f00: 636b 6564 2854 7275 6529 0a20 2020 2020  cked(True).     
-00001f10: 2020 2073 656c 662e 6d64 5f66 6b32 5f63     self.md_fk2_c
-00001f20: 6865 636b 426f 782e 7365 7443 6865 636b  heckBox.setCheck
-00001f30: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
-00001f40: 2073 656c 662e 6d64 5f66 6b33 5f63 6865   self.md_fk3_che
-00001f50: 636b 426f 782e 7365 7443 6865 636b 6564  ckBox.setChecked
-00001f60: 2854 7275 6529 0a20 2020 2020 2020 2073  (True).        s
-00001f70: 656c 662e 6d64 5f66 6b34 5f63 6865 636b  elf.md_fk4_check
-00001f80: 426f 782e 7365 7443 6865 636b 6564 2854  Box.setChecked(T
-00001f90: 7275 6529 0a20 2020 2020 2020 2073 656c  rue).        sel
-00001fa0: 662e 6d64 5f66 6b35 5f63 6865 636b 426f  f.md_fk5_checkBo
-00001fb0: 782e 7365 7443 6865 636b 6564 2854 7275  x.setChecked(Tru
-00001fc0: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
-00001fd0: 6d64 5f66 6b36 5f63 6865 636b 426f 782e  md_fk6_checkBox.
-00001fe0: 7365 7443 6865 636b 6564 2854 7275 6529  setChecked(True)
-00001ff0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00002000: 5f66 6b37 5f63 6865 636b 426f 782e 7365  _fk7_checkBox.se
-00002010: 7443 6865 636b 6564 2854 7275 6529 0a20  tChecked(True). 
-00002020: 2020 2020 2020 2073 656c 662e 6d64 5f66         self.md_f
-00002030: 6b38 5f63 6865 636b 426f 782e 7365 7443  k8_checkBox.setC
-00002040: 6865 636b 6564 2854 7275 6529 0a20 2020  hecked(True).   
-00002050: 2020 2020 2023 2073 656c 662e 6d64 5f66       # self.md_f
-00002060: 6b31 5f63 6865 636b 426f 782e 7365 7443  k1_checkBox.setC
-00002070: 6865 636b 6564 2846 616c 7365 290a 2020  hecked(False).  
-00002080: 2020 2020 2020 7365 6c66 2e6d 645f 6463        self.md_dc
-00002090: 5f63 6865 636b 426f 782e 7365 7443 6865  _checkBox.setChe
-000020a0: 636b 6564 2846 616c 7365 290a 2020 2020  cked(False).    
-000020b0: 2020 2020 7365 6c66 2e6d 645f 666b 325f      self.md_fk2_
-000020c0: 6368 6563 6b42 6f78 2e73 6574 4368 6563  checkBox.setChec
-000020d0: 6b65 6428 4661 6c73 6529 0a20 2020 2020  ked(False).     
-000020e0: 2020 2073 656c 662e 6d64 5f66 6b33 5f63     self.md_fk3_c
-000020f0: 6865 636b 426f 782e 7365 7443 6865 636b  heckBox.setCheck
-00002100: 6564 2846 616c 7365 290a 2020 2020 2020  ed(False).      
-00002110: 2020 7365 6c66 2e6d 645f 666b 345f 6368    self.md_fk4_ch
-00002120: 6563 6b42 6f78 2e73 6574 4368 6563 6b65  eckBox.setChecke
-00002130: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-00002140: 2073 656c 662e 6d64 5f66 6b35 5f63 6865   self.md_fk5_che
-00002150: 636b 426f 782e 7365 7443 6865 636b 6564  ckBox.setChecked
-00002160: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
-00002170: 7365 6c66 2e6d 645f 666b 365f 6368 6563  self.md_fk6_chec
-00002180: 6b42 6f78 2e73 6574 4368 6563 6b65 6428  kBox.setChecked(
-00002190: 4661 6c73 6529 0a20 2020 2020 2020 2073  False).        s
-000021a0: 656c 662e 6d64 5f66 6b37 5f63 6865 636b  elf.md_fk7_check
-000021b0: 426f 782e 7365 7443 6865 636b 6564 2846  Box.setChecked(F
-000021c0: 616c 7365 290a 2020 2020 2020 2020 7365  alse).        se
-000021d0: 6c66 2e6d 645f 666b 385f 6368 6563 6b42  lf.md_fk8_checkB
-000021e0: 6f78 2e73 6574 4368 6563 6b65 6428 4661  ox.setChecked(Fa
-000021f0: 6c73 6529 0a0a 2020 2020 2020 2020 2249  lse)..        "I
-00002200: 6e69 7420 636f 6e74 726f 6c73 220a 2020  nit controls".  
-00002210: 2020 2020 2020 7365 6c66 2e6d 645f 696e        self.md_in
-00002220: 6974 6961 6c69 7a65 5f63 6f6e 7472 6f6c  itialize_control
-00002230: 7328 290a 0a20 2020 2020 2020 2022 5365  s()..        "Se
-00002240: 7420 7661 6c69 6461 746f 7273 2069 6e20  t validators in 
-00002250: 4465 6669 6e69 7469 6f6e 2074 6162 220a  Definition tab".
-00002260: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00002270: 636f 7265 5f77 6964 7468 5f6c 696e 6545  core_width_lineE
-00002280: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002290: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-000022a0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-000022b0: 645f 7769 6e64 6f77 5f68 6569 6768 745f  d_window_height_
-000022c0: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-000022d0: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-000022e0: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-000022f0: 656c 662e 6d64 5f77 696e 646f 775f 7769  elf.md_window_wi
-00002300: 6474 685f 6c69 6e65 4564 6974 2e73 6574  dth_lineEdit.set
-00002310: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00002320: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00002330: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00002340: 6e67 315f 7261 6469 7573 5f6c 696e 6545  ng1_radius_lineE
-00002350: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002360: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00002370: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00002380: 645f 7769 6e64 696e 6731 5f73 7472 616e  d_winding1_stran
-00002390: 6473 5f6c 696e 6545 6469 742e 7365 7456  ds_lineEdit.setV
-000023a0: 616c 6964 6174 6f72 2869 6e74 5f76 616c  alidator(int_val
-000023b0: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
-000023c0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-000023d0: 5f66 696c 6c5f 6661 6374 6f72 5f6c 696e  _fill_factor_lin
-000023e0: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
-000023f0: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
-00002400: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
-00002410: 2e6d 645f 7769 6e64 696e 6731 5f73 7472  .md_winding1_str
-00002420: 616e 645f 7261 6469 7573 5f6c 696e 6545  and_radius_lineE
-00002430: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002440: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00002450: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00002460: 645f 7769 6e64 696e 6732 5f72 6164 6975  d_winding2_radiu
-00002470: 735f 6c69 6e65 4564 6974 2e73 6574 5661  s_lineEdit.setVa
-00002480: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00002490: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-000024a0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-000024b0: 325f 7374 7261 6e64 735f 6c69 6e65 4564  2_strands_lineEd
-000024c0: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-000024d0: 696e 745f 7661 6c69 6461 746f 7229 0a20  int_validator). 
-000024e0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-000024f0: 696e 6469 6e67 325f 6669 6c6c 5f66 6163  inding2_fill_fac
-00002500: 746f 725f 6c69 6e65 4564 6974 2e73 6574  tor_lineEdit.set
-00002510: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00002520: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00002530: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00002540: 6e67 325f 7374 7261 6e64 5f72 6164 6975  ng2_strand_radiu
-00002550: 735f 6c69 6e65 4564 6974 2e73 6574 5661  s_lineEdit.setVa
-00002560: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00002570: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00002580: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-00002590: 315f 7475 726e 735f 6c69 6e65 4564 6974  1_turns_lineEdit
-000025a0: 2e73 6574 5661 6c69 6461 746f 7228 696e  .setValidator(in
-000025b0: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
-000025c0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-000025d0: 6469 6e67 325f 7475 726e 735f 6c69 6e65  ding2_turns_line
-000025e0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
-000025f0: 7228 696e 745f 7661 6c69 6461 746f 7229  r(int_validator)
-00002600: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00002610: 5f61 6972 5f67 6170 5f31 5f6c 656e 6774  _air_gap_1_lengt
-00002620: 685f 6c69 6e65 4564 6974 2e73 6574 5661  h_lineEdit.setVa
-00002630: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00002640: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00002650: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
-00002660: 5f32 5f6c 656e 6774 685f 6c69 6e65 4564  _2_length_lineEd
-00002670: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-00002680: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
-00002690: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-000026a0: 5f61 6972 5f67 6170 5f33 5f6c 656e 6774  _air_gap_3_lengt
-000026b0: 685f 6c69 6e65 4564 6974 2e73 6574 5661  h_lineEdit.setVa
-000026c0: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-000026d0: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-000026e0: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
-000026f0: 5f34 5f6c 656e 6774 685f 6c69 6e65 4564  _4_length_lineEd
-00002700: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-00002710: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
-00002720: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00002730: 5f61 6972 5f67 6170 5f35 5f6c 656e 6774  _air_gap_5_lengt
-00002740: 685f 6c69 6e65 4564 6974 2e73 6574 5661  h_lineEdit.setVa
-00002750: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00002760: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00002770: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
-00002780: 5f31 5f70 6f73 6974 696f 6e5f 6c69 6e65  _1_position_line
-00002790: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
-000027a0: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
-000027b0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
-000027c0: 6d64 5f61 6972 5f67 6170 5f32 5f70 6f73  md_air_gap_2_pos
-000027d0: 6974 696f 6e5f 6c69 6e65 4564 6974 2e73  ition_lineEdit.s
-000027e0: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
-000027f0: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
-00002800: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
-00002810: 5f67 6170 5f33 5f70 6f73 6974 696f 6e5f  _gap_3_position_
-00002820: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00002830: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00002840: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00002850: 656c 662e 6d64 5f61 6972 5f67 6170 5f34  elf.md_air_gap_4
-00002860: 5f70 6f73 6974 696f 6e5f 6c69 6e65 4564  _position_lineEd
-00002870: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-00002880: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
-00002890: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-000028a0: 5f61 6972 5f67 6170 5f35 5f70 6f73 6974  _air_gap_5_posit
-000028b0: 696f 6e5f 6c69 6e65 4564 6974 2e73 6574  ion_lineEdit.set
-000028c0: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-000028d0: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-000028e0: 2020 2073 656c 662e 6d64 5f69 736f 6c61     self.md_isola
-000028f0: 7469 6f6e 5f70 3270 5f6c 696e 6545 6469  tion_p2p_lineEdi
-00002900: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
-00002910: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
-00002920: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00002930: 6973 6f6c 6174 696f 6e5f 7032 735f 6c69  isolation_p2s_li
-00002940: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
-00002950: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
-00002960: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
-00002970: 662e 6d64 5f69 736f 6c61 7469 6f6e 5f73  f.md_isolation_s
-00002980: 3273 5f6c 696e 6545 6469 742e 7365 7456  2s_lineEdit.setV
-00002990: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-000029a0: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
-000029b0: 2020 2320 6368 616e 6765 2034 3a20 7332    # change 4: s2
-000029c0: 700a 2020 2020 2020 2020 7365 6c66 2e6d  p.        self.m
-000029d0: 645f 6973 6f6c 6174 696f 6e5f 7332 705f  d_isolation_s2p_
-000029e0: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-000029f0: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00002a00: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00002a10: 656c 662e 6d64 5f69 736f 6c61 7469 6f6e  elf.md_isolation
-00002a20: 5f63 6f72 6532 636f 6e64 5f74 6f70 5f6c  _core2cond_top_l
-00002a30: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002a40: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002a50: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00002a60: 6c66 2e6d 645f 6973 6f6c 6174 696f 6e5f  lf.md_isolation_
-00002a70: 636f 7265 3263 6f6e 645f 626f 745f 6c69  core2cond_bot_li
-00002a80: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
-00002a90: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
-00002aa0: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
-00002ab0: 662e 6d64 5f69 736f 6c61 7469 6f6e 5f63  f.md_isolation_c
-00002ac0: 6f72 6532 636f 6e64 5f69 6e6e 6572 5f6c  ore2cond_inner_l
-00002ad0: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002ae0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002af0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00002b00: 6c66 2e6d 645f 6973 6f6c 6174 696f 6e5f  lf.md_isolation_
-00002b10: 636f 7265 3263 6f6e 645f 6f75 7465 725f  core2cond_outer_
-00002b20: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00002b30: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00002b40: 6461 746f 7229 0a20 2020 2020 2020 2022  dator).        "
-00002b50: 5365 7420 5661 6c69 6461 746f 7273 2069  Set Validators i
-00002b60: 6e20 4578 6369 7461 7469 6f6e 2054 6162  n Excitation Tab
-00002b70: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
-00002b80: 645f 7769 6e64 696e 6731 5f69 6463 5f6c  d_winding1_idc_l
-00002b90: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002ba0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002bb0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00002bc0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f69  lf.md_winding1_i
-00002bd0: 6b31 5f6c 696e 6545 6469 742e 7365 7456  k1_lineEdit.setV
-00002be0: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-00002bf0: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
-00002c00: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00002c10: 6731 5f69 6b32 5f6c 696e 6545 6469 742e  g1_ik2_lineEdit.
-00002c20: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
-00002c30: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
-00002c40: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00002c50: 6e64 696e 6731 5f69 6b33 5f6c 696e 6545  nding1_ik3_lineE
-00002c60: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002c70: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00002c80: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00002c90: 645f 7769 6e64 696e 6731 5f69 6b34 5f6c  d_winding1_ik4_l
-00002ca0: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002cb0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002cc0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00002cd0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f69  lf.md_winding1_i
-00002ce0: 6b35 5f6c 696e 6545 6469 742e 7365 7456  k5_lineEdit.setV
-00002cf0: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-00002d00: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
-00002d10: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00002d20: 6731 5f69 6b36 5f6c 696e 6545 6469 742e  g1_ik6_lineEdit.
-00002d30: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
-00002d40: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
-00002d50: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00002d60: 6e64 696e 6731 5f69 6b37 5f6c 696e 6545  nding1_ik7_lineE
-00002d70: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002d80: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00002d90: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00002da0: 645f 7769 6e64 696e 6731 5f69 6b38 5f6c  d_winding1_ik8_l
-00002db0: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002dc0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002dd0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00002de0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f70  lf.md_winding1_p
-00002df0: 6b31 5f6c 696e 6545 6469 742e 7365 7456  k1_lineEdit.setV
-00002e00: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-00002e10: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
-00002e20: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00002e30: 6731 5f70 6b32 5f6c 696e 6545 6469 742e  g1_pk2_lineEdit.
-00002e40: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
-00002e50: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
-00002e60: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00002e70: 6e64 696e 6731 5f70 6b33 5f6c 696e 6545  nding1_pk3_lineE
-00002e80: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002e90: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00002ea0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00002eb0: 645f 7769 6e64 696e 6731 5f70 6b34 5f6c  d_winding1_pk4_l
-00002ec0: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002ed0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002ee0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00002ef0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f70  lf.md_winding1_p
-00002f00: 6b35 5f6c 696e 6545 6469 742e 7365 7456  k5_lineEdit.setV
-00002f10: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-00002f20: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
-00002f30: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00002f40: 6731 5f70 6b36 5f6c 696e 6545 6469 742e  g1_pk6_lineEdit.
-00002f50: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
-00002f60: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
-00002f70: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00002f80: 6e64 696e 6731 5f70 6b37 5f6c 696e 6545  nding1_pk7_lineE
-00002f90: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00002fa0: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00002fb0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00002fc0: 645f 7769 6e64 696e 6731 5f70 6b38 5f6c  d_winding1_pk8_l
-00002fd0: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00002fe0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00002ff0: 6174 6f72 290a 0a20 2020 2020 2020 2073  ator)..        s
-00003000: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00003010: 6964 635f 6c69 6e65 4564 6974 2e73 6574  idc_lineEdit.set
-00003020: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00003030: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00003040: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00003050: 6e67 325f 696b 315f 6c69 6e65 4564 6974  ng2_ik1_lineEdit
-00003060: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
-00003070: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
-00003080: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00003090: 696e 6469 6e67 325f 696b 325f 6c69 6e65  inding2_ik2_line
-000030a0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
-000030b0: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
-000030c0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
-000030d0: 6d64 5f77 696e 6469 6e67 325f 696b 335f  md_winding2_ik3_
-000030e0: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-000030f0: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00003100: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00003110: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00003120: 696b 345f 6c69 6e65 4564 6974 2e73 6574  ik4_lineEdit.set
-00003130: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00003140: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00003150: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00003160: 6e67 325f 696b 355f 6c69 6e65 4564 6974  ng2_ik5_lineEdit
-00003170: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
-00003180: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
-00003190: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-000031a0: 696e 6469 6e67 325f 696b 365f 6c69 6e65  inding2_ik6_line
-000031b0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
-000031c0: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
-000031d0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
-000031e0: 6d64 5f77 696e 6469 6e67 325f 696b 375f  md_winding2_ik7_
-000031f0: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00003200: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00003210: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00003220: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00003230: 696b 385f 6c69 6e65 4564 6974 2e73 6574  ik8_lineEdit.set
-00003240: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00003250: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00003260: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00003270: 6e67 325f 706b 315f 6c69 6e65 4564 6974  ng2_pk1_lineEdit
-00003280: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
-00003290: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
-000032a0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-000032b0: 696e 6469 6e67 325f 706b 325f 6c69 6e65  inding2_pk2_line
-000032c0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
-000032d0: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
-000032e0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
-000032f0: 6d64 5f77 696e 6469 6e67 325f 706b 335f  md_winding2_pk3_
-00003300: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00003310: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00003320: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00003330: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00003340: 706b 345f 6c69 6e65 4564 6974 2e73 6574  pk4_lineEdit.set
-00003350: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00003360: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00003370: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00003380: 6e67 325f 706b 355f 6c69 6e65 4564 6974  ng2_pk5_lineEdit
-00003390: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
-000033a0: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
-000033b0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-000033c0: 696e 6469 6e67 325f 706b 365f 6c69 6e65  inding2_pk6_line
-000033d0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
-000033e0: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
-000033f0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
-00003400: 6d64 5f77 696e 6469 6e67 325f 706b 375f  md_winding2_pk7_
-00003410: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00003420: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00003430: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00003440: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00003450: 706b 385f 6c69 6e65 4564 6974 2e73 6574  pk8_lineEdit.set
-00003460: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00003470: 7661 6c69 6461 746f 7229 0a0a 2020 2020  validator)..    
-00003480: 2020 2020 7365 6c66 2e6d 645f 6261 7365      self.md_base
-00003490: 5f66 7265 7175 656e 6379 5f6c 696e 6545  _frequency_lineE
-000034a0: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-000034b0: 2869 6e74 5f76 616c 6964 6174 6f72 290a  (int_validator).
-000034c0: 0a20 2020 2020 2020 2022 5365 7420 546f  .        "Set To
-000034d0: 6f6c 2054 6970 7320 696e 2044 6566 696e  ol Tips in Defin
-000034e0: 6974 696f 6e20 7461 6222 0a20 2020 2020  ition tab".     
-000034f0: 2020 2073 656c 662e 6d64 5f63 6f72 655f     self.md_core_
-00003500: 6765 6f6d 6574 7279 5f63 6f6d 626f 426f  geometry_comboBo
-00003510: 782e 7365 7454 6f6f 6c54 6970 280a 2020  x.setToolTip(.  
-00003520: 2020 2020 2020 2020 2020 2243 686f 7365            "Chose
-00003530: 2061 2063 6f72 6520 6765 6f6d 6574 7279   a core geometry
-00003540: 2066 726f 6d20 7468 6520 6461 7461 6261   from the databa
-00003550: 7365 2e20 4368 6f73 6520 274d 616e 7561  se. Chose 'Manua
-00003560: 6c27 2074 6f20 696e 7365 7274 2061 6e79  l' to insert any
-00003570: 2070 6172 616d 6574 6572 732e 2229 0a20   parameters."). 
-00003580: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00003590: 696e 6469 6e67 315f 6c69 747a 5f6d 6174  inding1_litz_mat
-000035a0: 6572 6961 6c5f 636f 6d62 6f42 6f78 2e73  erial_comboBox.s
-000035b0: 6574 546f 6f6c 5469 7028 0a20 2020 2020  etToolTip(.     
-000035c0: 2020 2020 2020 2022 4368 6f73 6520 6120         "Chose a 
-000035d0: 6c69 747a 2066 726f 6d20 7468 6520 6461  litz from the da
-000035e0: 7461 6261 7365 2e20 4368 6f73 6520 274d  tabase. Chose 'M
-000035f0: 616e 7561 6c27 2074 6f20 696e 7365 7274  anual' to insert
-00003600: 2061 6e79 2070 6172 616d 6574 6572 7322   any parameters"
-00003610: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00003620: 645f 7769 6e64 696e 6731 5f69 6d70 6c69  d_winding1_impli
-00003630: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
-00003640: 782e 7365 7454 6f6f 6c54 6970 280a 2020  x.setToolTip(.  
-00003650: 2020 2020 2020 2020 2020 2254 6f20 6465            "To de
-00003660: 7363 7269 6265 2061 2073 7472 616e 642c  scribe a strand,
-00003670: 2033 2061 7267 756d 656e 7473 2061 7265   3 arguments are
-00003680: 2073 7566 6669 6369 656e 742e 2053 656c   sufficient. Sel
-00003690: 6563 7420 6865 7265 2077 6869 6368 206f  ect here which o
-000036a0: 6620 7468 6520 6172 6775 6d65 6e74 7320  f the arguments 
-000036b0: 7368 6f75 6c64 206e 6f74 2062 6520 656e  should not be en
-000036c0: 7465 7265 642e 2229 0a20 2020 2020 2020  tered.").       
-000036d0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-000036e0: 325f 696d 706c 6963 6974 5f6c 6974 7a5f  2_implicit_litz_
-000036f0: 636f 6d62 6f42 6f78 2e73 6574 546f 6f6c  comboBox.setTool
-00003700: 5469 7028 0a20 2020 2020 2020 2020 2020  Tip(.           
-00003710: 2022 546f 2064 6573 6372 6962 6520 6120   "To describe a 
-00003720: 7374 7261 6e64 2c20 3320 6172 6775 6d65  strand, 3 argume
-00003730: 6e74 7320 6172 6520 7375 6666 6963 6965  nts are sufficie
-00003740: 6e74 2e20 5365 6c65 6374 2068 6572 6520  nt. Select here 
-00003750: 7768 6963 6820 6f66 2074 6865 2061 7267  which of the arg
-00003760: 756d 656e 7473 2073 686f 756c 6420 6e6f  uments should no
-00003770: 7420 6265 2065 6e74 6572 6564 2e22 290a  t be entered.").
-00003780: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00003790: 7769 6e64 696e 6732 5f6c 6974 7a5f 6d61  winding2_litz_ma
-000037a0: 7465 7269 616c 5f63 6f6d 626f 426f 782e  terial_comboBox.
-000037b0: 7365 7454 6f6f 6c54 6970 280a 2020 2020  setToolTip(.    
-000037c0: 2020 2020 2020 2020 2243 686f 7365 2061          "Chose a
-000037d0: 206c 6974 7a20 6672 6f6d 2074 6865 2064   litz from the d
-000037e0: 6174 6162 6173 652e 2043 686f 7365 2027  atabase. Chose '
-000037f0: 4d61 6e75 616c 2720 746f 2069 6e73 6572  Manual' to inser
-00003800: 7420 616e 7920 7061 7261 6d65 7465 7273  t any parameters
-00003810: 2229 0a0a 2020 2020 2020 2020 2253 6574  ")..        "Set
-00003820: 2054 6f6f 6c20 5469 7073 2069 6e20 6578   Tool Tips in ex
-00003830: 6974 6174 696f 6e20 7461 6222 0a20 2020  itation tab".   
-00003840: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-00003850: 6469 6e67 315f 6964 635f 6c69 6e65 4564  ding1_idc_lineEd
-00003860: 6974 2e73 6574 546f 6f6c 5469 7028 2244  it.setToolTip("D
-00003870: 4320 4375 7272 656e 7422 290a 2020 2020  C Current").    
-00003880: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-00003890: 696e 6731 5f69 6b31 5f6c 696e 6545 6469  ing1_ik1_lineEdi
-000038a0: 742e 7365 7454 6f6f 6c54 6970 2822 416d  t.setToolTip("Am
-000038b0: 706c 6974 7564 6520 6261 7365 2066 7265  plitude base fre
-000038c0: 7175 656e 6379 2229 0a20 2020 2020 2020  quency").       
-000038d0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-000038e0: 315f 696b 325f 6c69 6e65 4564 6974 2e73  1_ik2_lineEdit.s
-000038f0: 6574 546f 6f6c 5469 7028 2241 6d70 6c69  etToolTip("Ampli
-00003900: 7475 6465 2032 202a 2062 6173 6520 6672  tude 2 * base fr
-00003910: 6571 7565 6e63 7922 290a 2020 2020 2020  equency").      
-00003920: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00003930: 6731 5f69 6b33 5f6c 696e 6545 6469 742e  g1_ik3_lineEdit.
-00003940: 7365 7454 6f6f 6c54 6970 2822 416d 706c  setToolTip("Ampl
-00003950: 6974 7564 6520 3320 2a20 6261 7365 2066  itude 3 * base f
-00003960: 7265 7175 656e 6379 2229 0a20 2020 2020  requency").     
-00003970: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00003980: 6e67 315f 696b 345f 6c69 6e65 4564 6974  ng1_ik4_lineEdit
-00003990: 2e73 6574 546f 6f6c 5469 7028 2241 6d70  .setToolTip("Amp
-000039a0: 6c69 7475 6465 2034 202a 2062 6173 6520  litude 4 * base 
-000039b0: 6672 6571 7565 6e63 7922 290a 2020 2020  frequency").    
-000039c0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-000039d0: 696e 6731 5f69 6b35 5f6c 696e 6545 6469  ing1_ik5_lineEdi
-000039e0: 742e 7365 7454 6f6f 6c54 6970 2822 416d  t.setToolTip("Am
-000039f0: 706c 6974 7564 6520 3520 2a20 6261 7365  plitude 5 * base
-00003a00: 2066 7265 7175 656e 6379 2229 0a20 2020   frequency").   
-00003a10: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-00003a20: 6469 6e67 315f 696b 365f 6c69 6e65 4564  ding1_ik6_lineEd
-00003a30: 6974 2e73 6574 546f 6f6c 5469 7028 2241  it.setToolTip("A
-00003a40: 6d70 6c69 7475 6465 2036 202a 2062 6173  mplitude 6 * bas
-00003a50: 6520 6672 6571 7565 6e63 7922 290a 2020  e frequency").  
-00003a60: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00003a70: 6e64 696e 6731 5f69 6b37 5f6c 696e 6545  nding1_ik7_lineE
-00003a80: 6469 742e 7365 7454 6f6f 6c54 6970 2822  dit.setToolTip("
-00003a90: 416d 706c 6974 7564 6520 3720 2a20 6261  Amplitude 7 * ba
-00003aa0: 7365 2066 7265 7175 656e 6379 2229 0a20  se frequency"). 
-00003ab0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00003ac0: 696e 6469 6e67 315f 696b 385f 6c69 6e65  inding1_ik8_line
-00003ad0: 4564 6974 2e73 6574 546f 6f6c 5469 7028  Edit.setToolTip(
-00003ae0: 2241 6d70 6c69 7475 6465 2038 202a 2062  "Amplitude 8 * b
-00003af0: 6173 6520 6672 6571 7565 6e63 7922 290a  ase frequency").
-00003b00: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00003b10: 7769 6e64 696e 6731 5f70 6b31 5f6c 696e  winding1_pk1_lin
-00003b20: 6545 6469 742e 7365 7454 6f6f 6c54 6970  eEdit.setToolTip
-00003b30: 2822 5068 6173 6520 666f 7220 6261 7365  ("Phase for base
-00003b40: 2066 7265 7175 656e 6379 2229 0a20 2020   frequency").   
-00003b50: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-00003b60: 6469 6e67 315f 706b 325f 6c69 6e65 4564  ding1_pk2_lineEd
-00003b70: 6974 2e73 6574 546f 6f6c 5469 7028 2250  it.setToolTip("P
-00003b80: 6861 7365 2066 6f72 2032 202a 2062 6173  hase for 2 * bas
-00003b90: 6520 6672 6571 7565 6e63 7922 290a 2020  e frequency").  
-00003ba0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00003bb0: 6e64 696e 6731 5f70 6b33 5f6c 696e 6545  nding1_pk3_lineE
-00003bc0: 6469 742e 7365 7454 6f6f 6c54 6970 2822  dit.setToolTip("
-00003bd0: 5068 6173 6520 666f 7220 3320 2a20 6261  Phase for 3 * ba
-00003be0: 7365 2066 7265 7175 656e 6379 2229 0a20  se frequency"). 
-00003bf0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00003c00: 696e 6469 6e67 315f 706b 345f 6c69 6e65  inding1_pk4_line
-00003c10: 4564 6974 2e73 6574 546f 6f6c 5469 7028  Edit.setToolTip(
-00003c20: 2250 6861 7365 2066 6f72 2034 202a 2062  "Phase for 4 * b
-00003c30: 6173 6520 6672 6571 7565 6e63 7922 290a  ase frequency").
-00003c40: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00003c50: 7769 6e64 696e 6731 5f70 6b35 5f6c 696e  winding1_pk5_lin
-00003c60: 6545 6469 742e 7365 7454 6f6f 6c54 6970  eEdit.setToolTip
-00003c70: 2822 5068 6173 6520 666f 7220 3520 2a20  ("Phase for 5 * 
-00003c80: 6261 7365 2066 7265 7175 656e 6379 2229  base frequency")
-00003c90: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00003ca0: 5f77 696e 6469 6e67 315f 706b 365f 6c69  _winding1_pk6_li
-00003cb0: 6e65 4564 6974 2e73 6574 546f 6f6c 5469  neEdit.setToolTi
-00003cc0: 7028 2250 6861 7365 2066 6f72 2036 202a  p("Phase for 6 *
-00003cd0: 2062 6173 6520 6672 6571 7565 6e63 7922   base frequency"
-00003ce0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00003cf0: 645f 7769 6e64 696e 6731 5f70 6b37 5f6c  d_winding1_pk7_l
-00003d00: 696e 6545 6469 742e 7365 7454 6f6f 6c54  ineEdit.setToolT
-00003d10: 6970 2822 5068 6173 6520 666f 7220 3720  ip("Phase for 7 
-00003d20: 2a20 6261 7365 2066 7265 7175 656e 6379  * base frequency
-00003d30: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
-00003d40: 6d64 5f77 696e 6469 6e67 315f 706b 385f  md_winding1_pk8_
-00003d50: 6c69 6e65 4564 6974 2e73 6574 546f 6f6c  lineEdit.setTool
-00003d60: 5469 7028 2250 6861 7365 2066 6f72 2038  Tip("Phase for 8
-00003d70: 202a 2062 6173 6520 6672 6571 7565 6e63   * base frequenc
-00003d80: 7922 290a 0a20 2020 2020 2020 2073 656c  y")..        sel
-00003d90: 662e 6d64 5f77 696e 6469 6e67 325f 6964  f.md_winding2_id
-00003da0: 635f 6c69 6e65 4564 6974 2e73 6574 546f  c_lineEdit.setTo
-00003db0: 6f6c 5469 7028 2244 4320 4375 7272 656e  olTip("DC Curren
-00003dc0: 7422 290a 2020 2020 2020 2020 7365 6c66  t").        self
-00003dd0: 2e6d 645f 7769 6e64 696e 6732 5f69 6b31  .md_winding2_ik1
-00003de0: 5f6c 696e 6545 6469 742e 7365 7454 6f6f  _lineEdit.setToo
-00003df0: 6c54 6970 2822 416d 706c 6974 7564 6520  lTip("Amplitude 
-00003e00: 6261 7365 2066 7265 7175 656e 6379 2229  base frequency")
-00003e10: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00003e20: 5f77 696e 6469 6e67 325f 696b 325f 6c69  _winding2_ik2_li
-00003e30: 6e65 4564 6974 2e73 6574 546f 6f6c 5469  neEdit.setToolTi
-00003e40: 7028 2241 6d70 6c69 7475 6465 2032 202a  p("Amplitude 2 *
-00003e50: 2062 6173 6520 6672 6571 7565 6e63 7922   base frequency"
-00003e60: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00003e70: 645f 7769 6e64 696e 6732 5f69 6b33 5f6c  d_winding2_ik3_l
-00003e80: 696e 6545 6469 742e 7365 7454 6f6f 6c54  ineEdit.setToolT
-00003e90: 6970 2822 416d 706c 6974 7564 6520 3320  ip("Amplitude 3 
-00003ea0: 2a20 6261 7365 2066 7265 7175 656e 6379  * base frequency
-00003eb0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
-00003ec0: 6d64 5f77 696e 6469 6e67 325f 696b 345f  md_winding2_ik4_
-00003ed0: 6c69 6e65 4564 6974 2e73 6574 546f 6f6c  lineEdit.setTool
-00003ee0: 5469 7028 2241 6d70 6c69 7475 6465 2034  Tip("Amplitude 4
-00003ef0: 202a 2062 6173 6520 6672 6571 7565 6e63   * base frequenc
-00003f00: 7922 290a 2020 2020 2020 2020 7365 6c66  y").        self
-00003f10: 2e6d 645f 7769 6e64 696e 6732 5f69 6b35  .md_winding2_ik5
-00003f20: 5f6c 696e 6545 6469 742e 7365 7454 6f6f  _lineEdit.setToo
-00003f30: 6c54 6970 2822 416d 706c 6974 7564 6520  lTip("Amplitude 
-00003f40: 3520 2a20 6261 7365 2066 7265 7175 656e  5 * base frequen
-00003f50: 6379 2229 0a20 2020 2020 2020 2073 656c  cy").        sel
-00003f60: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
-00003f70: 365f 6c69 6e65 4564 6974 2e73 6574 546f  6_lineEdit.setTo
-00003f80: 6f6c 5469 7028 2241 6d70 6c69 7475 6465  olTip("Amplitude
-00003f90: 2036 202a 2062 6173 6520 6672 6571 7565   6 * base freque
-00003fa0: 6e63 7922 290a 2020 2020 2020 2020 7365  ncy").        se
-00003fb0: 6c66 2e6d 645f 7769 6e64 696e 6732 5f69  lf.md_winding2_i
-00003fc0: 6b37 5f6c 696e 6545 6469 742e 7365 7454  k7_lineEdit.setT
-00003fd0: 6f6f 6c54 6970 2822 416d 706c 6974 7564  oolTip("Amplitud
-00003fe0: 6520 3720 2a20 6261 7365 2066 7265 7175  e 7 * base frequ
-00003ff0: 656e 6379 2229 0a20 2020 2020 2020 2073  ency").        s
-00004000: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00004010: 696b 385f 6c69 6e65 4564 6974 2e73 6574  ik8_lineEdit.set
-00004020: 546f 6f6c 5469 7028 2241 6d70 6c69 7475  ToolTip("Amplitu
-00004030: 6465 2038 202a 2062 6173 6520 6672 6571  de 8 * base freq
-00004040: 7565 6e63 7922 290a 2020 2020 2020 2020  uency").        
-00004050: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-00004060: 5f70 6b31 5f6c 696e 6545 6469 742e 7365  _pk1_lineEdit.se
-00004070: 7454 6f6f 6c54 6970 2822 5068 6173 6520  tToolTip("Phase 
-00004080: 666f 7220 6261 7365 2066 7265 7175 656e  for base frequen
-00004090: 6379 2229 0a20 2020 2020 2020 2073 656c  cy").        sel
-000040a0: 662e 6d64 5f77 696e 6469 6e67 325f 706b  f.md_winding2_pk
-000040b0: 325f 6c69 6e65 4564 6974 2e73 6574 546f  2_lineEdit.setTo
-000040c0: 6f6c 5469 7028 2250 6861 7365 2066 6f72  olTip("Phase for
-000040d0: 2032 202a 2062 6173 6520 6672 6571 7565   2 * base freque
-000040e0: 6e63 7922 290a 2020 2020 2020 2020 7365  ncy").        se
-000040f0: 6c66 2e6d 645f 7769 6e64 696e 6732 5f70  lf.md_winding2_p
-00004100: 6b33 5f6c 696e 6545 6469 742e 7365 7454  k3_lineEdit.setT
-00004110: 6f6f 6c54 6970 2822 5068 6173 6520 666f  oolTip("Phase fo
-00004120: 7220 3320 2a20 6261 7365 2066 7265 7175  r 3 * base frequ
-00004130: 656e 6379 2229 0a20 2020 2020 2020 2073  ency").        s
-00004140: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00004150: 706b 345f 6c69 6e65 4564 6974 2e73 6574  pk4_lineEdit.set
-00004160: 546f 6f6c 5469 7028 2250 6861 7365 2066  ToolTip("Phase f
-00004170: 6f72 2034 202a 2062 6173 6520 6672 6571  or 4 * base freq
-00004180: 7565 6e63 7922 290a 2020 2020 2020 2020  uency").        
-00004190: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-000041a0: 5f70 6b35 5f6c 696e 6545 6469 742e 7365  _pk5_lineEdit.se
-000041b0: 7454 6f6f 6c54 6970 2822 5068 6173 6520  tToolTip("Phase 
-000041c0: 666f 7220 3520 2a20 6261 7365 2066 7265  for 5 * base fre
-000041d0: 7175 656e 6379 2229 0a20 2020 2020 2020  quency").       
-000041e0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-000041f0: 325f 706b 365f 6c69 6e65 4564 6974 2e73  2_pk6_lineEdit.s
-00004200: 6574 546f 6f6c 5469 7028 2250 6861 7365  etToolTip("Phase
-00004210: 2066 6f72 2036 202a 2062 6173 6520 6672   for 6 * base fr
-00004220: 6571 7565 6e63 7922 290a 2020 2020 2020  equency").      
-00004230: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00004240: 6732 5f70 6b37 5f6c 696e 6545 6469 742e  g2_pk7_lineEdit.
-00004250: 7365 7454 6f6f 6c54 6970 2822 5068 6173  setToolTip("Phas
-00004260: 6520 666f 7220 3720 2a20 6261 7365 2066  e for 7 * base f
-00004270: 7265 7175 656e 6379 2229 0a20 2020 2020  requency").     
-00004280: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00004290: 6e67 325f 706b 385f 6c69 6e65 4564 6974  ng2_pk8_lineEdit
-000042a0: 2e73 6574 546f 6f6c 5469 7028 2250 6861  .setToolTip("Pha
-000042b0: 7365 2066 6f72 2038 202a 2062 6173 6520  se for 8 * base 
-000042c0: 6672 6571 7565 6e63 7922 290a 0a20 2020  frequency")..   
-000042d0: 2020 2020 2073 656c 662e 6d64 5f64 635f       self.md_dc_
-000042e0: 6368 6563 6b42 6f78 2e73 6574 546f 6f6c  checkBox.setTool
-000042f0: 5469 7028 2245 6e61 626c 652f 4469 7361  Tip("Enable/Disa
-00004300: 626c 6520 4443 2063 7572 7265 6e74 2229  ble DC current")
-00004310: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00004320: 5f66 6b31 5f63 6865 636b 426f 782e 7365  _fk1_checkBox.se
-00004330: 7454 6f6f 6c54 6970 2822 456e 6162 6c65  tToolTip("Enable
-00004340: 2f44 6973 6162 6c65 2062 6173 6520 6672  /Disable base fr
-00004350: 6571 7565 6e63 7922 290a 2020 2020 2020  equency").      
-00004360: 2020 7365 6c66 2e6d 645f 666b 325f 6368    self.md_fk2_ch
-00004370: 6563 6b42 6f78 2e73 6574 546f 6f6c 5469  eckBox.setToolTi
-00004380: 7028 2245 6e61 626c 652f 4469 7361 626c  p("Enable/Disabl
-00004390: 6520 3220 2a20 6261 7365 2066 7265 7175  e 2 * base frequ
-000043a0: 656e 6379 2229 0a20 2020 2020 2020 2073  ency").        s
-000043b0: 656c 662e 6d64 5f66 6b33 5f63 6865 636b  elf.md_fk3_check
-000043c0: 426f 782e 7365 7454 6f6f 6c54 6970 2822  Box.setToolTip("
-000043d0: 456e 6162 6c65 2f44 6973 6162 6c65 2033  Enable/Disable 3
-000043e0: 202a 2062 6173 6520 6672 6571 7565 6e63   * base frequenc
-000043f0: 7922 290a 2020 2020 2020 2020 7365 6c66  y").        self
-00004400: 2e6d 645f 666b 345f 6368 6563 6b42 6f78  .md_fk4_checkBox
-00004410: 2e73 6574 546f 6f6c 5469 7028 2245 6e61  .setToolTip("Ena
-00004420: 626c 652f 4469 7361 626c 6520 3420 2a20  ble/Disable 4 * 
-00004430: 6261 7365 2066 7265 7175 656e 6379 2229  base frequency")
-00004440: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00004450: 5f66 6b35 5f63 6865 636b 426f 782e 7365  _fk5_checkBox.se
-00004460: 7454 6f6f 6c54 6970 2822 456e 6162 6c65  tToolTip("Enable
-00004470: 2f44 6973 6162 6c65 2035 202a 2062 6173  /Disable 5 * bas
-00004480: 6520 6672 6571 7565 6e63 7922 290a 2020  e frequency").  
-00004490: 2020 2020 2020 7365 6c66 2e6d 645f 666b        self.md_fk
-000044a0: 365f 6368 6563 6b42 6f78 2e73 6574 546f  6_checkBox.setTo
-000044b0: 6f6c 5469 7028 2245 6e61 626c 652f 4469  olTip("Enable/Di
-000044c0: 7361 626c 6520 3620 2a20 6261 7365 2066  sable 6 * base f
-000044d0: 7265 7175 656e 6379 2229 0a20 2020 2020  requency").     
-000044e0: 2020 2073 656c 662e 6d64 5f66 6b37 5f63     self.md_fk7_c
-000044f0: 6865 636b 426f 782e 7365 7454 6f6f 6c54  heckBox.setToolT
-00004500: 6970 2822 456e 6162 6c65 2f44 6973 6162  ip("Enable/Disab
-00004510: 6c65 2037 202a 2062 6173 6520 6672 6571  le 7 * base freq
-00004520: 7565 6e63 7922 290a 2020 2020 2020 2020  uency").        
-00004530: 7365 6c66 2e6d 645f 666b 385f 6368 6563  self.md_fk8_chec
-00004540: 6b42 6f78 2e73 6574 546f 6f6c 5469 7028  kBox.setToolTip(
-00004550: 2245 6e61 626c 652f 4469 7361 626c 6520  "Enable/Disable 
-00004560: 3820 2a20 6261 7365 2066 7265 7175 656e  8 * base frequen
-00004570: 6379 2229 0a0a 2020 2020 2020 2020 2253  cy")..        "S
-00004580: 6967 6e61 6c73 2069 6e20 5468 6572 6d61  ignals in Therma
-00004590: 6c20 7369 6d75 6c61 7469 6f6e 2054 6162  l simulation Tab
-000045a0: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
-000045b0: 645f 7468 6572 6d5f 7369 6d75 6c61 7469  d_therm_simulati
-000045c0: 6f6e 5f51 5075 7368 4275 7474 6f6e 2e63  on_QPushButton.c
-000045d0: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
-000045e0: 656c 662e 7468 6572 6d5f 7369 6d75 6c61  elf.therm_simula
-000045f0: 7469 6f6e 290a 0a20 2020 2020 2020 2022  tion)..        "
-00004600: 2a2a 2a2a 2a2a 2a20 4175 746f 6d61 7465  ******* Automate
-00004610: 6420 4465 7369 676e 202a 2a2a 2a2a 2a2a  d Design *******
-00004620: 2a2a 220a 0a20 2020 2020 2020 2022 4164  **"..        "Ad
-00004630: 6469 6e67 206f 7074 696f 6e73 220a 2020  ding options".  
-00004640: 2020 2020 2020 7365 6c66 2e61 7574 5f69        self.aut_i
-00004650: 6e69 7469 616c 697a 655f 636f 6e74 726f  nitialize_contro
-00004660: 6c73 2829 0a0a 2020 2020 2020 2020 2253  ls()..        "S
-00004670: 6967 6e61 6c73 2069 6e20 4465 6669 6e69  ignals in Defini
-00004680: 7469 6f6e 2054 6162 220a 2020 2020 2020  tion Tab".      
-00004690: 2020 6966 2073 656c 662e 6175 745f 7369    if self.aut_si
-000046a0: 6d75 6c61 7469 6f6e 5f74 7970 655f 636f  mulation_type_co
-000046b0: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-000046c0: 7874 2829 203d 3d20 7365 6c66 2e74 7261  xt() == self.tra
-000046d0: 6e73 6c61 7469 6f6e 5f64 6963 745b 2769  nslation_dict['i
-000046e0: 6e64 7563 746f 7227 5d3a 0a20 2020 2020  nductor']:.     
-000046f0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00004700: 7769 6e64 696e 6732 5f65 6e61 626c 6528  winding2_enable(
-00004710: 4661 6c73 6529 0a20 2020 2020 2020 2073  False).        s
-00004720: 656c 662e 6175 745f 7369 6d75 6c61 7469  elf.aut_simulati
-00004730: 6f6e 5f74 7970 655f 636f 6d62 6f42 6f78  on_type_comboBox
-00004740: 2e63 7572 7265 6e74 5465 7874 4368 616e  .currentTextChan
-00004750: 6765 642e 636f 6e6e 6563 7428 7365 6c66  ged.connect(self
-00004760: 2e61 7574 5f63 6861 6e67 655f 7369 6d75  .aut_change_simu
-00004770: 6c61 7469 6f6e 5f74 7970 6529 0a20 2020  lation_type).   
-00004780: 2020 2020 2073 656c 662e 6175 745f 636f       self.aut_co
-00004790: 7265 5f6d 6174 6572 6961 6c5f 6461 7461  re_material_data
-000047a0: 5f6c 6973 7457 6964 6765 742e 6164 6449  _listWidget.addI
-000047b0: 7465 6d28 224e 3935 2229 0a20 2020 2020  tem("N95").     
-000047c0: 2020 2073 656c 662e 6175 745f 636f 7265     self.aut_core
-000047d0: 5f6d 6174 6572 6961 6c5f 6461 7461 5f6c  _material_data_l
-000047e0: 6973 7457 6964 6765 742e 6164 6449 7465  istWidget.addIte
-000047f0: 6d28 224e 3837 2229 0a20 2020 2020 2020  m("N87").       
-00004800: 2073 656c 662e 6175 745f 636f 7265 5f6d   self.aut_core_m
-00004810: 6174 6572 6961 6c5f 6461 7461 5f6c 6973  aterial_data_lis
-00004820: 7457 6964 6765 742e 6164 6449 7465 6d28  tWidget.addItem(
-00004830: 224e 3439 2229 0a0a 2020 2020 2020 2020  "N49")..        
-00004840: 7365 6c66 2e61 7574 5f6c 6974 7a5f 6461  self.aut_litz_da
-00004850: 7461 5f6c 6973 7457 6964 6765 742e 6164  ta_listWidget.ad
-00004860: 6449 7465 6d28 2231 2e35 7831 3035 7830  dItem("1.5x105x0
-00004870: 2e31 2229 0a20 2020 2020 2020 2073 656c  .1").        sel
-00004880: 662e 6175 745f 6c69 747a 5f64 6174 615f  f.aut_litz_data_
-00004890: 6c69 7374 5769 6467 6574 2e61 6464 4974  listWidget.addIt
-000048a0: 656d 2822 312e 3478 3230 3078 302e 3037  em("1.4x200x0.07
-000048b0: 3122 290a 2020 2020 2020 2020 7365 6c66  1").        self
-000048c0: 2e61 7574 5f6c 6974 7a5f 6461 7461 5f6c  .aut_litz_data_l
-000048d0: 6973 7457 6964 6765 742e 6164 6449 7465  istWidget.addIte
-000048e0: 6d28 2232 2e30 7834 3035 7830 2e30 3731  m("2.0x405x0.071
-000048f0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
-00004900: 6175 745f 6c69 747a 5f64 6174 615f 6c69  aut_litz_data_li
-00004910: 7374 5769 6467 6574 2e61 6464 4974 656d  stWidget.addItem
-00004920: 2822 322e 3078 3830 3078 302e 3035 2229  ("2.0x800x0.05")
-00004930: 0a0a 2020 2020 2020 2020 7365 6c66 2e61  ..        self.a
-00004940: 7574 5f6c 6974 7a32 5f64 6174 615f 6c69  ut_litz2_data_li
-00004950: 7374 5769 6467 6574 2e61 6464 4974 656d  stWidget.addItem
-00004960: 2822 312e 3578 3130 3578 302e 3122 290a  ("1.5x105x0.1").
-00004970: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00004980: 5f6c 6974 7a32 5f64 6174 615f 6c69 7374  _litz2_data_list
-00004990: 5769 6467 6574 2e61 6464 4974 656d 2822  Widget.addItem("
-000049a0: 312e 3478 3230 3078 302e 3037 3122 290a  1.4x200x0.071").
-000049b0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-000049c0: 5f6c 6974 7a32 5f64 6174 615f 6c69 7374  _litz2_data_list
-000049d0: 5769 6467 6574 2e61 6464 4974 656d 2822  Widget.addItem("
-000049e0: 322e 3078 3430 3578 302e 3037 3122 290a  2.0x405x0.071").
-000049f0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00004a00: 5f6c 6974 7a32 5f64 6174 615f 6c69 7374  _litz2_data_list
-00004a10: 5769 6467 6574 2e61 6464 4974 656d 2822  Widget.addItem("
-00004a20: 322e 3078 3830 3078 302e 3035 2229 0a0a  2.0x800x0.05")..
-00004a30: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00004a40: 5f61 6972 6761 705f 7479 7065 5f6c 6973  _airgap_type_lis
-00004a50: 7457 6964 6765 742e 6164 6449 7465 6d28  tWidget.addItem(
-00004a60: 2245 6467 6520 6469 7374 7269 6275 7465  "Edge distribute
-00004a70: 6422 290a 2020 2020 2020 2020 7365 6c66  d").        self
-00004a80: 2e61 7574 5f61 6972 6761 705f 7479 7065  .aut_airgap_type
-00004a90: 5f6c 6973 7457 6964 6765 742e 6164 6449  _listWidget.addI
-00004aa0: 7465 6d28 2243 656e 7472 6520 6469 7374  tem("Centre dist
-00004ab0: 7269 6275 7465 6422 290a 0a20 2020 2020  ributed")..     
-00004ac0: 2020 2073 656c 662e 6175 745f 7769 6e64     self.aut_wind
-00004ad0: 696e 6731 5f74 7970 655f 636f 6d62 6f42  ing1_type_comboB
-00004ae0: 6f78 2e63 7572 7265 6e74 5465 7874 4368  ox.currentTextCh
-00004af0: 616e 6765 642e 636f 6e6e 6563 7428 7365  anged.connect(se
-00004b00: 6c66 2e61 7574 5f77 696e 6469 6e67 315f  lf.aut_winding1_
-00004b10: 6368 616e 6765 5f77 6972 655f 7479 7065  change_wire_type
-00004b20: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
-00004b30: 6175 745f 636f 7265 5f67 656f 5f61 6464  aut_core_geo_add
-00004b40: 5f70 7573 6842 7574 746f 6e2e 636c 6963  _pushButton.clic
-00004b50: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
-00004b60: 2e6f 6e63 6765 6f4d 756c 7469 706c 6543  .oncgeoMultipleC
-00004b70: 6c69 636b 6564 290a 2020 2020 2020 2020  licked).        
-00004b80: 7365 6c66 2e61 7574 5f63 6f72 655f 6765  self.aut_core_ge
-00004b90: 6f5f 6d61 6e75 616c 5f61 6464 5f70 7573  o_manual_add_pus
-00004ba0: 6842 7574 746f 6e2e 636c 6963 6b65 642e  hButton.clicked.
-00004bb0: 636f 6e6e 6563 7428 7365 6c66 2e6f 6e63  connect(self.onc
-00004bc0: 6765 6f6d 616e 7561 6c4d 756c 7469 706c  geomanualMultipl
-00004bd0: 6543 6c69 636b 6564 290a 2020 2020 2020  eClicked).      
-00004be0: 2020 7365 6c66 2e61 7574 5f73 656c 6563    self.aut_selec
-00004bf0: 745f 616c 6c5f 636f 7265 5f67 656f 5f70  t_all_core_geo_p
-00004c00: 7573 6842 7574 746f 6e2e 636c 6963 6b65  ushButton.clicke
-00004c10: 642e 636f 6e6e 6563 7428 7365 6c66 2e63  d.connect(self.c
-00004c20: 6765 6f73 656c 6563 7461 6c6c 290a 2020  geoselectall).  
-00004c30: 2020 2020 2020 7365 6c66 2e61 7574 5f63        self.aut_c
-00004c40: 6f72 655f 6765 6f6d 6574 7279 5f6c 6973  ore_geometry_lis
-00004c50: 7457 6964 6765 742e 6974 656d 446f 7562  tWidget.itemDoub
-00004c60: 6c65 436c 6963 6b65 642e 636f 6e6e 6563  leClicked.connec
-00004c70: 7428 7365 6c66 2e6f 6e63 6765 6f43 6c69  t(self.oncgeoCli
-00004c80: 636b 6564 290a 2020 2020 2020 2020 7365  cked).        se
-00004c90: 6c66 2e61 7574 5f63 6f72 655f 6765 6f5f  lf.aut_core_geo_
-00004ca0: 6261 736b 6574 5f63 6c65 6172 5f61 6c6c  basket_clear_all
-00004cb0: 5f70 7573 6862 7574 746f 6e2e 636c 6963  _pushbutton.clic
-00004cc0: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
-00004cd0: 2e6f 6e63 6765 6f43 6c65 6172 616c 6c43  .oncgeoClearallC
-00004ce0: 6c69 636b 6564 290a 2020 2020 2020 2020  licked).        
-00004cf0: 7365 6c66 2e61 7574 5f63 6f72 655f 6765  self.aut_core_ge
-00004d00: 6f5f 6261 736b 6574 5f63 6c65 6172 5f70  o_basket_clear_p
-00004d10: 7573 6862 7574 746f 6e2e 636c 6963 6b65  ushbutton.clicke
-00004d20: 642e 636f 6e6e 6563 7428 7365 6c66 2e6f  d.connect(self.o
-00004d30: 6e63 6765 6f43 6c65 6172 436c 6963 6b65  ncgeoClearClicke
-00004d40: 6429 0a0a 2020 2020 2020 2020 7365 6c66  d)..        self
-00004d50: 2e61 7574 5f63 6f72 655f 6d61 7465 7269  .aut_core_materi
-00004d60: 616c 5f61 6464 5f70 7573 6842 7574 746f  al_add_pushButto
-00004d70: 6e2e 636c 6963 6b65 642e 636f 6e6e 6563  n.clicked.connec
-00004d80: 7428 7365 6c66 2e6f 6e63 6d61 744d 756c  t(self.oncmatMul
-00004d90: 7469 706c 6543 6c69 636b 6564 290a 2020  tipleClicked).  
-00004da0: 2020 2020 2020 7365 6c66 2e61 7574 5f73        self.aut_s
-00004db0: 656c 6563 745f 616c 6c5f 636f 7265 5f6d  elect_all_core_m
-00004dc0: 6174 5f70 7573 6842 7574 746f 6e2e 636c  at_pushButton.cl
-00004dd0: 6963 6b65 642e 636f 6e6e 6563 7428 7365  icked.connect(se
-00004de0: 6c66 2e63 6d61 7473 656c 6563 7461 6c6c  lf.cmatselectall
-00004df0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00004e00: 7574 5f63 6f72 655f 6d61 7465 7269 616c  ut_core_material
-00004e10: 5f64 6174 615f 6c69 7374 5769 6467 6574  _data_listWidget
-00004e20: 2e69 7465 6d44 6f75 626c 6543 6c69 636b  .itemDoubleClick
-00004e30: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
-00004e40: 6f6e 636d 6174 436c 6963 6b65 6429 0a20  oncmatClicked). 
-00004e50: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00004e60: 636f 7265 5f6d 6174 5f62 6173 6b65 745f  core_mat_basket_
-00004e70: 636c 6561 725f 616c 6c5f 7075 7368 6275  clear_all_pushbu
-00004e80: 7474 6f6e 2e63 6c69 636b 6564 2e63 6f6e  tton.clicked.con
-00004e90: 6e65 6374 2873 656c 662e 6f6e 636d 6174  nect(self.oncmat
-00004ea0: 436c 6561 7261 6c6c 436c 6963 6b65 6429  ClearallClicked)
-00004eb0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-00004ec0: 745f 636f 7265 5f6d 6174 5f62 6173 6b65  t_core_mat_baske
-00004ed0: 745f 636c 6561 725f 7075 7368 6275 7474  t_clear_pushbutt
-00004ee0: 6f6e 2e63 6c69 636b 6564 2e63 6f6e 6e65  on.clicked.conne
-00004ef0: 6374 2873 656c 662e 6f6e 636d 6174 436c  ct(self.oncmatCl
-00004f00: 6561 7243 6c69 636b 6564 290a 0a20 2020  earClicked)..   
-00004f10: 2020 2020 2073 656c 662e 6175 745f 6164       self.aut_ad
-00004f20: 645f 6c69 747a 5f70 7573 6842 7574 746f  d_litz_pushButto
-00004f30: 6e2e 636c 6963 6b65 642e 636f 6e6e 6563  n.clicked.connec
-00004f40: 7428 7365 6c66 2e6f 6e6c 314d 756c 7469  t(self.onl1Multi
-00004f50: 706c 6543 6c69 636b 6564 290a 2020 2020  pleClicked).    
-00004f60: 2020 2020 7365 6c66 2e61 7574 5f73 656c      self.aut_sel
-00004f70: 6563 745f 616c 6c5f 6c69 747a 5f70 7573  ect_all_litz_pus
-00004f80: 6842 7574 746f 6e2e 636c 6963 6b65 642e  hButton.clicked.
-00004f90: 636f 6e6e 6563 7428 7365 6c66 2e6c 6974  connect(self.lit
-00004fa0: 7a31 7365 6c65 6374 616c 6c29 0a20 2020  z1selectall).   
-00004fb0: 2020 2020 2073 656c 662e 6175 745f 6c69       self.aut_li
-00004fc0: 747a 5f64 6174 615f 6c69 7374 5769 6467  tz_data_listWidg
-00004fd0: 6574 2e69 7465 6d44 6f75 626c 6543 6c69  et.itemDoubleCli
-00004fe0: 636b 6564 2e63 6f6e 6e65 6374 2873 656c  cked.connect(sel
-00004ff0: 662e 6f6e 6c31 436c 6963 6b65 6429 0a20  f.onl1Clicked). 
-00005000: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00005010: 6c69 747a 5f62 6173 6b65 745f 636c 6561  litz_basket_clea
-00005020: 725f 616c 6c5f 7075 7368 6275 7474 6f6e  r_all_pushbutton
-00005030: 2e63 6c69 636b 6564 2e63 6f6e 6e65 6374  .clicked.connect
-00005040: 2873 656c 662e 6f6e 6c31 436c 6561 7261  (self.onl1Cleara
-00005050: 6c6c 436c 6963 6b65 6429 0a20 2020 2020  llClicked).     
-00005060: 2020 2073 656c 662e 6175 745f 6c69 747a     self.aut_litz
-00005070: 5f62 6173 6b65 745f 636c 6561 725f 7075  _basket_clear_pu
-00005080: 7368 6275 7474 6f6e 2e63 6c69 636b 6564  shbutton.clicked
-00005090: 2e63 6f6e 6e65 6374 2873 656c 662e 6f6e  .connect(self.on
-000050a0: 6c31 436c 6561 7243 6c69 636b 6564 290a  l1ClearClicked).
-000050b0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-000050c0: 745f 6164 645f 6c69 747a 325f 7075 7368  t_add_litz2_push
-000050d0: 4275 7474 6f6e 2e63 6c69 636b 6564 2e63  Button.clicked.c
-000050e0: 6f6e 6e65 6374 2873 656c 662e 6f6e 6c32  onnect(self.onl2
-000050f0: 4d75 6c74 6970 6c65 436c 6963 6b65 6429  MultipleClicked)
-00005100: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-00005110: 745f 7365 6c65 6374 5f61 6c6c 5f6c 6974  t_select_all_lit
-00005120: 7a32 5f70 7573 6842 7574 746f 6e2e 636c  z2_pushButton.cl
-00005130: 6963 6b65 642e 636f 6e6e 6563 7428 7365  icked.connect(se
-00005140: 6c66 2e6c 6974 7a32 7365 6c65 6374 616c  lf.litz2selectal
-00005150: 6c29 0a20 2020 2020 2020 2073 656c 662e  l).        self.
-00005160: 6175 745f 6c69 747a 325f 6461 7461 5f6c  aut_litz2_data_l
-00005170: 6973 7457 6964 6765 742e 6974 656d 446f  istWidget.itemDo
-00005180: 7562 6c65 436c 6963 6b65 642e 636f 6e6e  ubleClicked.conn
-00005190: 6563 7428 7365 6c66 2e6f 6e6c 3243 6c69  ect(self.onl2Cli
-000051a0: 636b 6564 290a 2020 2020 2020 2020 7365  cked).        se
-000051b0: 6c66 2e61 7574 5f6c 6974 7a32 5f62 6173  lf.aut_litz2_bas
-000051c0: 6b65 745f 636c 6561 725f 616c 6c5f 7075  ket_clear_all_pu
-000051d0: 7368 6275 7474 6f6e 2e63 6c69 636b 6564  shbutton.clicked
-000051e0: 2e63 6f6e 6e65 6374 2873 656c 662e 6f6e  .connect(self.on
-000051f0: 6c32 436c 6561 7261 6c6c 436c 6963 6b65  l2ClearallClicke
-00005200: 6429 0a20 2020 2020 2020 2073 656c 662e  d).        self.
-00005210: 6175 745f 6c69 747a 325f 6261 736b 6574  aut_litz2_basket
-00005220: 5f63 6c65 6172 5f70 7573 6862 7574 746f  _clear_pushbutto
-00005230: 6e2e 636c 6963 6b65 642e 636f 6e6e 6563  n.clicked.connec
-00005240: 7428 7365 6c66 2e6f 6e6c 3243 6c65 6172  t(self.onl2Clear
-00005250: 436c 6963 6b65 6429 0a0a 2020 2020 2020  Clicked)..      
-00005260: 2020 7365 6c66 2e61 7574 5f61 6464 5f61    self.aut_add_a
-00005270: 6972 5f67 6170 5f74 7970 655f 7075 7368  ir_gap_type_push
-00005280: 4275 7474 6f6e 2e63 6c69 636b 6564 2e63  Button.clicked.c
-00005290: 6f6e 6e65 6374 2873 656c 662e 6f6e 6169  onnect(self.onai
-000052a0: 7267 6170 7479 7065 4d75 6c74 6970 6c65  rgaptypeMultiple
-000052b0: 436c 6963 6b65 6429 0a20 2020 2020 2020  Clicked).       
-000052c0: 2073 656c 662e 6175 745f 7365 6c65 6374   self.aut_select
-000052d0: 5f61 6c6c 5f61 6972 6761 705f 7479 7065  _all_airgap_type
-000052e0: 5f70 7573 6842 7574 746f 6e2e 636c 6963  _pushButton.clic
-000052f0: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
-00005300: 2e61 6972 6761 7074 7970 6573 656c 6563  .airgaptypeselec
-00005310: 7461 6c6c 290a 2020 2020 2020 2020 7365  tall).        se
-00005320: 6c66 2e61 7574 5f61 6972 6761 705f 7479  lf.aut_airgap_ty
-00005330: 7065 5f6c 6973 7457 6964 6765 742e 6974  pe_listWidget.it
-00005340: 656d 446f 7562 6c65 436c 6963 6b65 642e  emDoubleClicked.
-00005350: 636f 6e6e 6563 7428 7365 6c66 2e6f 6e61  connect(self.ona
-00005360: 6972 6761 7074 7970 6543 6c69 636b 6564  irgaptypeClicked
-00005370: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00005380: 7574 5f61 6972 5f67 6170 5f74 7970 655f  ut_air_gap_type_
-00005390: 6261 736b 6574 5f63 6c65 6172 5f61 6c6c  basket_clear_all
-000053a0: 5f70 7573 6862 7574 746f 6e2e 636c 6963  _pushbutton.clic
-000053b0: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
-000053c0: 2e6f 6e61 6972 6761 7074 7970 6543 6c65  .onairgaptypeCle
-000053d0: 6172 616c 6c43 6c69 636b 6564 290a 2020  arallClicked).  
-000053e0: 2020 2020 2020 7365 6c66 2e61 7574 5f61        self.aut_a
-000053f0: 6972 5f67 6170 5f74 7970 655f 6261 736b  ir_gap_type_bask
-00005400: 6574 5f63 6c65 6172 5f70 7573 6862 7574  et_clear_pushbut
-00005410: 746f 6e2e 636c 6963 6b65 642e 636f 6e6e  ton.clicked.conn
-00005420: 6563 7428 7365 6c66 2e6f 6e61 6972 6761  ect(self.onairga
-00005430: 7074 7970 6543 6c65 6172 436c 6963 6b65  ptypeClearClicke
-00005440: 6429 0a0a 2020 2020 2020 2020 7365 6c66  d)..        self
-00005450: 2e61 7574 5f77 696e 6469 6e67 315f 696d  .aut_winding1_im
-00005460: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
-00005470: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-00005480: 4368 616e 6765 642e 636f 6e6e 6563 7428  Changed.connect(
-00005490: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
-000054a0: 315f 6368 616e 6765 5f6c 6974 7a5f 696d  1_change_litz_im
-000054b0: 706c 6963 6974 290a 2020 2020 2020 2020  plicit).        
-000054c0: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
-000054d0: 315f 6368 616e 6765 5f6c 6974 7a5f 696d  1_change_litz_im
-000054e0: 706c 6963 6974 2873 656c 662e 6175 745f  plicit(self.aut_
-000054f0: 7769 6e64 696e 6731 5f69 6d70 6c69 6369  winding1_implici
-00005500: 745f 6c69 747a 5f63 6f6d 626f 426f 782e  t_litz_comboBox.
-00005510: 6375 7272 656e 7454 6578 7428 2929 0a0a  currentText())..
-00005520: 2020 2020 2020 2020 2253 6574 2056 616c          "Set Val
-00005530: 6964 6174 6f72 7320 696e 2044 6566 696e  idators in Defin
-00005540: 6974 696f 6e20 5461 6222 0a20 2020 2020  ition Tab".     
-00005550: 2020 2073 656c 662e 6175 745f 6d69 6e5f     self.aut_min_
-00005560: 636f 7265 5f77 6964 7468 5f6c 696e 6545  core_width_lineE
-00005570: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00005580: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00005590: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-000055a0: 7574 5f6d 6178 5f63 6f72 655f 7769 6474  ut_max_core_widt
-000055b0: 685f 6c69 6e65 4564 6974 2e73 6574 5661  h_lineEdit.setVa
-000055c0: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-000055d0: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-000055e0: 2073 656c 662e 6175 745f 7374 6570 5f63   self.aut_step_c
-000055f0: 6f72 655f 7769 6474 685f 6c69 6e65 4564  ore_width_lineEd
-00005600: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-00005610: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
-00005620: 0a0a 2020 2020 2020 2020 7365 6c66 2e61  ..        self.a
-00005630: 7574 5f6d 696e 5f77 696e 646f 775f 6865  ut_min_window_he
-00005640: 6967 6874 5f6c 696e 6545 6469 742e 7365  ight_lineEdit.se
-00005650: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
-00005660: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
-00005670: 2020 2020 7365 6c66 2e61 7574 5f6d 6178      self.aut_max
-00005680: 5f77 696e 646f 775f 6865 6967 6874 5f6c  _window_height_l
-00005690: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-000056a0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-000056b0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-000056c0: 6c66 2e61 7574 5f73 7465 705f 7769 6e64  lf.aut_step_wind
-000056d0: 6f77 5f68 6569 6768 745f 6c69 6e65 4564  ow_height_lineEd
-000056e0: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-000056f0: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
-00005700: 0a0a 2020 2020 2020 2020 7365 6c66 2e61  ..        self.a
-00005710: 7574 5f6d 696e 5f77 696e 646f 775f 7769  ut_min_window_wi
-00005720: 6474 685f 6c69 6e65 4564 6974 2e73 6574  dth_lineEdit.set
-00005730: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00005740: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00005750: 2020 2073 656c 662e 6175 745f 6d61 785f     self.aut_max_
-00005760: 7769 6e64 6f77 5f77 6964 7468 5f6c 696e  window_width_lin
-00005770: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
-00005780: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
-00005790: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
-000057a0: 2e61 7574 5f73 7465 705f 7769 6e64 6f77  .aut_step_window
-000057b0: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
-000057c0: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
-000057d0: 6174 5f76 616c 6964 6174 6f72 290a 0a20  at_validator).. 
-000057e0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-000057f0: 7769 6e64 696e 6731 5f72 6164 6975 735f  winding1_radius_
-00005800: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00005810: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00005820: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00005830: 656c 662e 6175 745f 7769 6e64 696e 6731  elf.aut_winding1
-00005840: 5f73 7472 616e 6473 5f6c 696e 6545 6469  _strands_lineEdi
-00005850: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
-00005860: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
-00005870: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00005880: 5f77 696e 6469 6e67 315f 6669 6c6c 5f66  _winding1_fill_f
-00005890: 6163 746f 725f 6c69 6e65 4564 6974 2e73  actor_lineEdit.s
-000058a0: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
-000058b0: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
-000058c0: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-000058d0: 6e64 696e 6731 5f73 7472 616e 645f 7261  nding1_strand_ra
-000058e0: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
-000058f0: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
-00005900: 5f76 616c 6964 6174 6f72 290a 0a20 2020  _validator)..   
-00005910: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-00005920: 6e64 696e 6732 5f72 6164 6975 735f 6c69  nding2_radius_li
-00005930: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
-00005940: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
-00005950: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
-00005960: 662e 6175 745f 7769 6e64 696e 6732 5f73  f.aut_winding2_s
-00005970: 7472 616e 6473 5f6c 696e 6545 6469 742e  trands_lineEdit.
-00005980: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
-00005990: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
-000059a0: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
-000059b0: 696e 6469 6e67 325f 6669 6c6c 5f66 6163  inding2_fill_fac
-000059c0: 746f 725f 6c69 6e65 4564 6974 2e73 6574  tor_lineEdit.set
-000059d0: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-000059e0: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-000059f0: 2020 2073 656c 662e 6175 745f 7769 6e64     self.aut_wind
-00005a00: 696e 6732 5f73 7472 616e 645f 7261 6469  ing2_strand_radi
-00005a10: 7573 5f6c 696e 6545 6469 742e 7365 7456  us_lineEdit.setV
-00005a20: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-00005a30: 616c 6964 6174 6f72 290a 0a20 2020 2020  alidator)..     
-00005a40: 2020 2073 656c 662e 6175 745f 6d69 6e5f     self.aut_min_
-00005a50: 7769 6e64 696e 6731 5f74 7572 6e73 5f6c  winding1_turns_l
-00005a60: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
-00005a70: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
-00005a80: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
-00005a90: 6c66 2e61 7574 5f6d 6178 5f77 696e 6469  lf.aut_max_windi
-00005aa0: 6e67 315f 7475 726e 735f 6c69 6e65 4564  ng1_turns_lineEd
-00005ab0: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
-00005ac0: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
-00005ad0: 0a0a 2020 2020 2020 2020 7365 6c66 2e61  ..        self.a
-00005ae0: 7574 5f6d 696e 5f77 696e 6469 6e67 325f  ut_min_winding2_
-00005af0: 7475 726e 735f 6c69 6e65 4564 6974 2e73  turns_lineEdit.s
-00005b00: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
-00005b10: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
-00005b20: 2020 2020 2073 656c 662e 6175 745f 6d61       self.aut_ma
-00005b30: 785f 7769 6e64 696e 6732 5f74 7572 6e73  x_winding2_turns
-00005b40: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
-00005b50: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
-00005b60: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
-00005b70: 7365 6c66 2e61 7574 5f73 7465 705f 7769  self.aut_step_wi
-00005b80: 6e64 696e 6732 5f74 7572 6e73 5f6c 696e  nding2_turns_lin
-00005b90: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
-00005ba0: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
-00005bb0: 6f72 290a 0a20 2020 2020 2020 2073 656c  or)..        sel
-00005bc0: 662e 6175 745f 6d69 6e5f 6169 725f 6761  f.aut_min_air_ga
-00005bd0: 705f 636f 756e 745f 6c69 6e65 4564 6974  p_count_lineEdit
-00005be0: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
-00005bf0: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
-00005c00: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00005c10: 6d61 785f 6169 725f 6761 705f 636f 756e  max_air_gap_coun
-00005c20: 745f 6c69 6e65 4564 6974 2e73 6574 5661  t_lineEdit.setVa
-00005c30: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00005c40: 6c69 6461 746f 7229 0a0a 2020 2020 2020  lidator)..      
-00005c50: 2020 7365 6c66 2e61 7574 5f61 6972 5f67    self.aut_air_g
-00005c60: 6170 5f6c 656e 6774 685f 6d69 6e5f 6c69  ap_length_min_li
-00005c70: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
-00005c80: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
-00005c90: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
-00005ca0: 662e 6175 745f 6169 725f 6761 705f 6c65  f.aut_air_gap_le
-00005cb0: 6e67 7468 5f6d 6178 5f6c 696e 6545 6469  ngth_max_lineEdi
-00005cc0: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
-00005cd0: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
-00005ce0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00005cf0: 5f61 6972 5f67 6170 5f6c 656e 6774 685f  _air_gap_length_
-00005d00: 7374 6570 5f6c 696e 6545 6469 742e 7365  step_lineEdit.se
-00005d10: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
-00005d20: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
-00005d30: 2020 2020 7365 6c66 2e61 7574 5f61 6972      self.aut_air
-00005d40: 5f67 6170 5f70 6f73 6974 696f 6e5f 6d69  _gap_position_mi
-00005d50: 6e5f 6c69 6e65 4564 6974 2e73 6574 5661  n_lineEdit.setVa
-00005d60: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00005d70: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00005d80: 2073 656c 662e 6175 745f 6169 725f 6761   self.aut_air_ga
-00005d90: 705f 706f 7369 7469 6f6e 5f73 7465 705f  p_position_step_
-00005da0: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-00005db0: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00005dc0: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-00005dd0: 656c 662e 6175 745f 6169 725f 6761 705f  elf.aut_air_gap_
-00005de0: 706f 7369 7469 6f6e 5f73 7465 705f 6c69  position_step_li
-00005df0: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
-00005e00: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
-00005e10: 746f 7229 0a0a 2020 2020 2020 2020 7365  tor)..        se
-00005e20: 6c66 2e61 7574 5f69 736f 6c61 7469 6f6e  lf.aut_isolation
-00005e30: 5f70 3270 5f6c 696e 6545 6469 742e 7365  _p2p_lineEdit.se
-00005e40: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
-00005e50: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
-00005e60: 2020 2020 7365 6c66 2e61 7574 5f69 736f      self.aut_iso
-00005e70: 6c61 7469 6f6e 5f70 3273 5f6c 696e 6545  lation_p2s_lineE
-00005e80: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00005e90: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00005ea0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00005eb0: 7574 5f69 736f 6c61 7469 6f6e 5f73 3273  ut_isolation_s2s
-00005ec0: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
-00005ed0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
-00005ee0: 6964 6174 6f72 290a 0a20 2020 2020 2020  idator)..       
-00005ef0: 2073 656c 662e 6175 745f 6973 6f6c 6174   self.aut_isolat
-00005f00: 696f 6e5f 636f 7265 3263 6f6e 645f 746f  ion_core2cond_to
-00005f10: 705f 6c69 6e65 4564 6974 2e73 6574 5661  p_lineEdit.setVa
-00005f20: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00005f30: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00005f40: 2073 656c 662e 6175 745f 6973 6f6c 6174   self.aut_isolat
-00005f50: 696f 6e5f 636f 7265 3263 6f6e 645f 626f  ion_core2cond_bo
-00005f60: 745f 6c69 6e65 4564 6974 2e73 6574 5661  t_lineEdit.setVa
-00005f70: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00005f80: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00005f90: 2073 656c 662e 6175 745f 6973 6f6c 6174   self.aut_isolat
-00005fa0: 696f 6e5f 636f 7265 3263 6f6e 645f 696e  ion_core2cond_in
-00005fb0: 6e65 725f 6c69 6e65 4564 6974 2e73 6574  ner_lineEdit.set
-00005fc0: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00005fd0: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
-00005fe0: 2020 2073 656c 662e 6175 745f 6973 6f6c     self.aut_isol
-00005ff0: 6174 696f 6e5f 636f 7265 3263 6f6e 645f  ation_core2cond_
-00006000: 6f75 7465 725f 6c69 6e65 4564 6974 2e73  outer_lineEdit.s
-00006010: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
-00006020: 745f 7661 6c69 6461 746f 7229 0a0a 2020  t_validator)..  
-00006030: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
-00006040: 656d 705f 6c69 6e65 4564 6974 2e73 6574  emp_lineEdit.set
-00006050: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
-00006060: 7661 6c69 6461 746f 7229 0a0a 2020 2020  validator)..    
-00006070: 2020 2020 2253 6574 2056 616c 6964 6174      "Set Validat
-00006080: 6f72 7320 696e 2052 656c 7563 7461 6e63  ors in Reluctanc
-00006090: 6520 4d6f 6465 6c73 2074 6162 220a 2020  e Models tab".  
-000060a0: 2020 2020 2020 7365 6c66 2e61 7574 5f67        self.aut_g
-000060b0: 6f61 6c5f 696e 6475 6374 616e 6365 5f76  oal_inductance_v
-000060c0: 616c 5f6c 696e 6545 6469 742e 7365 7456  al_lineEdit.setV
-000060d0: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
-000060e0: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
-000060f0: 2020 7365 6c66 2e61 7574 5f6d 6178 696d    self.aut_maxim
-00006100: 756d 5f63 7572 7265 6e74 5f6c 696e 6545  um_current_lineE
-00006110: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
-00006120: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
-00006130: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00006140: 7574 5f73 7769 7463 6869 6e67 5f66 7265  ut_switching_fre
-00006150: 715f 6c69 6e65 4564 6974 2e73 6574 5661  q_lineEdit.setVa
-00006160: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
-00006170: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
-00006180: 2073 656c 662e 6175 745f 625f 7361 745f   self.aut_b_sat_
-00006190: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-000061a0: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-000061b0: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
-000061c0: 656c 662e 6175 745f 6879 7374 6572 6973  elf.aut_hysteris
-000061d0: 6973 5f6c 6f73 735f 6f70 7469 6f6e 735f  is_loss_options_
-000061e0: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
-000061f0: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
-00006200: 6461 746f 7229 0a0a 2020 2020 2020 2020  dator)..        
-00006210: 2253 6967 6e61 6c73 2069 6e20 5265 6c75  "Signals in Relu
-00006220: 6374 616e 6365 204d 6f64 656c 7320 7461  ctance Models ta
-00006230: 6222 0a0a 2020 2020 2020 2020 7365 6c66  b"..        self
-00006240: 2e61 7574 5f73 696d 756c 6174 655f 7075  .aut_simulate_pu
-00006250: 7368 4275 7474 6f6e 2e63 6c69 636b 6564  shButton.clicked
-00006260: 2e63 6f6e 6e65 6374 2873 656c 662e 6175  .connect(self.au
-00006270: 746f 6d61 7465 645f 6465 7369 676e 5f66  tomated_design_f
-00006280: 756e 635f 636f 6e66 6967 290a 2020 2020  unc_config).    
-00006290: 2020 2020 7365 6c66 2e6d 6174 706c 6f74      self.matplot
-000062a0: 6c69 625f 7769 6467 6574 5f61 7574 5f74  lib_widget_aut_t
-000062b0: 6162 3220 3d20 4d61 7470 6c6f 746c 6962  ab2 = Matplotlib
-000062c0: 5769 6467 6574 2829 0a0a 2020 2020 2020  Widget()..      
-000062d0: 2020 2253 6967 6e61 6c73 2069 6e20 4645    "Signals in FE
-000062e0: 4d20 5369 6d75 6c61 7469 6f6e 7320 7461  M Simulations ta
-000062f0: 6222 0a0a 2020 2020 2020 2020 7365 6c66  b"..        self
-00006300: 2e61 7574 5f70 6f73 5f6d 6f64 5f73 696d  .aut_pos_mod_sim
-00006310: 5f70 7573 6842 7574 746f 6e2e 636c 6963  _pushButton.clic
-00006320: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
-00006330: 2e61 7574 6f6d 6174 6564 5f64 6573 6967  .automated_desig
-00006340: 6e5f 6665 6d5f 7369 6d5f 636f 6e66 6967  n_fem_sim_config
-00006350: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00006360: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-00006370: 5f61 7574 5f74 6162 3320 3d20 4d61 7470  _aut_tab3 = Matp
-00006380: 6c6f 746c 6962 5769 6467 6574 2829 0a0a  lotlibWidget()..
-00006390: 2020 2020 2020 2020 2253 6967 6e61 6c73          "Signals
-000063a0: 2069 6e20 4c6f 6164 2852 6573 756c 7473   in Load(Results
-000063b0: 2920 7461 6222 0a20 2020 2020 2020 2073  ) tab".        s
-000063c0: 656c 662e 6175 745f 6c6f 6164 5f64 6573  elf.aut_load_des
-000063d0: 6967 6e5f 7075 7368 4275 7474 6f6e 2e63  ign_pushButton.c
-000063e0: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
-000063f0: 656c 662e 6c6f 6164 5f64 6573 6967 6e73  elf.load_designs
-00006400: 5f63 6f6e 6669 6729 0a20 2020 2020 2020  _config).       
-00006410: 2073 656c 662e 6d61 7470 6c6f 746c 6962   self.matplotlib
-00006420: 5f77 6964 6765 745f 6175 745f 7461 6234  _widget_aut_tab4
-00006430: 203d 204d 6174 706c 6f74 6c69 6257 6964   = MatplotlibWid
-00006440: 6765 7428 290a 0a20 2020 2020 2020 2022  get()..        "
-00006450: 2a2a 2a2a 2a2a 2a20 4461 7461 6261 7365  ******* Database
-00006460: 2053 6563 7469 6f6e 202a 2a2a 2a2a 2a2a   Section *******
-00006470: 2a2a 220a 0a20 2020 2020 2020 2073 656c  **"..        sel
-00006480: 662e 6461 745f 7570 6461 7465 5f70 7265  f.dat_update_pre
-00006490: 7669 6577 5f70 7573 6862 7574 746f 6e31  view_pushbutton1
-000064a0: 2e63 6c69 636b 6564 2e63 6f6e 6e65 6374  .clicked.connect
-000064b0: 2873 656c 662e 6461 7475 7064 6174 6572  (self.datupdater
-000064c0: 6170 6831 5f63 6f6e 6669 6729 0a20 2020  aph1_config).   
-000064d0: 2020 2020 2073 656c 662e 6461 745f 7570       self.dat_up
-000064e0: 6461 7465 5f70 7265 7669 6577 5f70 7573  date_preview_pus
-000064f0: 6862 7574 746f 6e32 2e63 6c69 636b 6564  hbutton2.clicked
-00006500: 2e63 6f6e 6e65 6374 2873 656c 662e 6461  .connect(self.da
-00006510: 7475 7064 6174 6572 6170 6832 5f63 6f6e  tupdateraph2_con
-00006520: 6669 6729 0a20 2020 2020 2020 2073 656c  fig).        sel
-00006530: 662e 6461 745f 7570 6461 7465 5f70 7265  f.dat_update_pre
-00006540: 7669 6577 5f70 7573 6862 7574 746f 6e33  view_pushbutton3
-00006550: 2e63 6c69 636b 6564 2e63 6f6e 6e65 6374  .clicked.connect
-00006560: 2873 656c 662e 6461 7475 7064 6174 6572  (self.datupdater
-00006570: 6170 6833 5f63 6f6e 6669 6729 0a0a 2020  aph3_config)..  
-00006580: 2020 2020 2020 7365 6c66 2e6d 6174 706c        self.matpl
-00006590: 6f74 6c69 625f 7769 6467 6574 5f64 6174  otlib_widget_dat
-000065a0: 6d6d 3120 3d20 4d61 7470 6c6f 746c 6962  mm1 = Matplotlib
-000065b0: 5769 6467 6574 2829 0a20 2020 2020 2020  Widget().       
-000065c0: 2073 656c 662e 6d61 7470 6c6f 746c 6962   self.matplotlib
-000065d0: 5f77 6964 6765 745f 6461 746d 6d32 203d  _widget_datmm2 =
-000065e0: 204d 6174 706c 6f74 6c69 6257 6964 6765   MatplotlibWidge
-000065f0: 7428 290a 0a20 2020 2020 2020 2073 656c  t()..        sel
-00006600: 662e 6d61 7470 6c6f 746c 6962 5f77 6964  f.matplotlib_wid
-00006610: 6765 745f 6461 7464 6431 203d 204d 6174  get_datdd1 = Mat
-00006620: 706c 6f74 6c69 6257 6964 6765 7428 290a  plotlibWidget().
-00006630: 2020 2020 2020 2020 7365 6c66 2e6d 6174          self.mat
-00006640: 706c 6f74 6c69 625f 7769 6467 6574 5f64  plotlib_widget_d
-00006650: 6174 6464 3220 3d20 4d61 7470 6c6f 746c  atdd2 = Matplotl
-00006660: 6962 5769 6467 6574 2829 0a20 2020 2020  ibWidget().     
-00006670: 2020 2073 656c 662e 6d61 7470 6c6f 746c     self.matplotl
-00006680: 6962 5f77 6964 6765 745f 6461 7464 6433  ib_widget_datdd3
-00006690: 203d 204d 6174 706c 6f74 6c69 6257 6964   = MatplotlibWid
-000066a0: 6765 7428 290a 2020 2020 2020 2020 7365  get().        se
-000066b0: 6c66 2e6d 6174 706c 6f74 6c69 625f 7769  lf.matplotlib_wi
-000066c0: 6467 6574 5f64 6174 6464 3420 3d20 4d61  dget_datdd4 = Ma
-000066d0: 7470 6c6f 746c 6962 5769 6467 6574 2829  tplotlibWidget()
-000066e0: 0a0a 2020 2020 2020 2020 7365 6c66 2e6d  ..        self.m
-000066f0: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-00006700: 5f64 6174 646d 203d 204d 6174 706c 6f74  _datdm = Matplot
-00006710: 6c69 6257 6964 6765 7428 290a 0a20 2020  libWidget()..   
-00006720: 2020 2020 2073 656c 662e 6461 745f 636f       self.dat_co
-00006730: 7265 5f6d 6174 6572 6961 6c31 5f63 6f6d  re_material1_com
-00006740: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-00006750: 7443 6861 6e67 6564 2e63 6f6e 6e65 6374  tChanged.connect
-00006760: 2873 656c 662e 7465 6d70 666c 7578 696e  (self.tempfluxin
-00006770: 7075 7431 290a 2020 2020 2020 2020 7365  put1).        se
-00006780: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
-00006790: 7269 616c 325f 636f 6d62 6f42 6f78 2e63  rial2_comboBox.c
-000067a0: 7572 7265 6e74 5465 7874 4368 616e 6765  urrentTextChange
-000067b0: 642e 636f 6e6e 6563 7428 7365 6c66 2e74  d.connect(self.t
-000067c0: 656d 7066 6c75 7869 6e70 7574 3229 0a20  empfluxinput2). 
-000067d0: 2020 2020 2020 2073 656c 662e 6461 745f         self.dat_
-000067e0: 636f 7265 5f6d 6174 6572 6961 6c33 5f63  core_material3_c
-000067f0: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00006800: 6578 7443 6861 6e67 6564 2e63 6f6e 6e65  extChanged.conne
-00006810: 6374 2873 656c 662e 7465 6d70 666c 7578  ct(self.tempflux
-00006820: 696e 7075 7433 290a 2020 2020 2020 2020  input3).        
-00006830: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
-00006840: 7465 7269 616c 345f 636f 6d62 6f42 6f78  terial4_comboBox
-00006850: 2e63 7572 7265 6e74 5465 7874 4368 616e  .currentTextChan
-00006860: 6765 642e 636f 6e6e 6563 7428 7365 6c66  ged.connect(self
-00006870: 2e74 656d 7066 6c75 7869 6e70 7574 3429  .tempfluxinput4)
-00006880: 0a20 2020 2020 2020 2073 656c 662e 6461  .        self.da
-00006890: 745f 636f 7265 5f6d 6174 6572 6961 6c35  t_core_material5
-000068a0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-000068b0: 7454 6578 7443 6861 6e67 6564 2e63 6f6e  tTextChanged.con
-000068c0: 6e65 6374 2873 656c 662e 7465 6d70 666c  nect(self.tempfl
-000068d0: 7578 696e 7075 7435 290a 0a20 2020 2020  uxinput5)..     
-000068e0: 2020 2073 656c 662e 6461 745f 636f 7265     self.dat_core
-000068f0: 5f6d 6174 6572 6961 6c31 5f63 6f6d 626f  _material1_combo
-00006900: 426f 785f 322e 6375 7272 656e 7454 6578  Box_2.currentTex
-00006910: 7443 6861 6e67 6564 2e63 6f6e 6e65 6374  tChanged.connect
-00006920: 2873 656c 662e 7465 7374 5f73 6574 7570  (self.test_setup
-00006930: 5f6e 616d 6531 290a 2020 2020 2020 2020  _name1).        
-00006940: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
-00006950: 7465 7269 616c 325f 636f 6d62 6f42 6f78  terial2_comboBox
-00006960: 5f32 2e63 7572 7265 6e74 5465 7874 4368  _2.currentTextCh
-00006970: 616e 6765 642e 636f 6e6e 6563 7428 7365  anged.connect(se
-00006980: 6c66 2e74 6573 745f 7365 7475 705f 6e61  lf.test_setup_na
-00006990: 6d65 3229 0a20 2020 2020 2020 2073 656c  me2).        sel
-000069a0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
-000069b0: 6961 6c33 5f63 6f6d 626f 426f 785f 322e  ial3_comboBox_2.
-000069c0: 6375 7272 656e 7454 6578 7443 6861 6e67  currentTextChang
-000069d0: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
-000069e0: 7465 7374 5f73 6574 7570 5f6e 616d 6533  test_setup_name3
-000069f0: 290a 2020 2020 2020 2020 7365 6c66 2e64  ).        self.d
-00006a00: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
-00006a10: 345f 636f 6d62 6f42 6f78 5f32 2e63 7572  4_comboBox_2.cur
-00006a20: 7265 6e74 5465 7874 4368 616e 6765 642e  rentTextChanged.
-00006a30: 636f 6e6e 6563 7428 7365 6c66 2e74 6573  connect(self.tes
-00006a40: 745f 7365 7475 705f 6e61 6d65 3429 0a20  t_setup_name4). 
-00006a50: 2020 2020 2020 2073 656c 662e 6461 745f         self.dat_
-00006a60: 636f 7265 5f6d 6174 6572 6961 6c35 5f63  core_material5_c
-00006a70: 6f6d 626f 426f 785f 322e 6375 7272 656e  omboBox_2.curren
-00006a80: 7454 6578 7443 6861 6e67 6564 2e63 6f6e  tTextChanged.con
-00006a90: 6e65 6374 2873 656c 662e 7465 7374 5f73  nect(self.test_s
-00006aa0: 6574 7570 5f6e 616d 6535 290a 0a20 2020  etup_name5)..   
-00006ab0: 2020 2020 2073 656c 662e 6461 745f 636f       self.dat_co
-00006ac0: 7265 5f6d 6174 6572 6961 6c31 5f63 6f6d  re_material1_com
-00006ad0: 626f 426f 785f 322e 6375 7272 656e 7454  boBox_2.currentT
-00006ae0: 6578 7443 6861 6e67 6564 2e63 6f6e 6e65  extChanged.conne
-00006af0: 6374 2873 656c 662e 7465 6d70 6672 6571  ct(self.tempfreq
-00006b00: 696e 7075 7431 290a 2020 2020 2020 2020  input1).        
-00006b10: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
-00006b20: 7465 7269 616c 325f 636f 6d62 6f42 6f78  terial2_comboBox
-00006b30: 5f32 2e63 7572 7265 6e74 5465 7874 4368  _2.currentTextCh
-00006b40: 616e 6765 642e 636f 6e6e 6563 7428 7365  anged.connect(se
-00006b50: 6c66 2e74 656d 7066 7265 7169 6e70 7574  lf.tempfreqinput
-00006b60: 3229 0a20 2020 2020 2020 2073 656c 662e  2).        self.
-00006b70: 6461 745f 636f 7265 5f6d 6174 6572 6961  dat_core_materia
-00006b80: 6c33 5f63 6f6d 626f 426f 785f 322e 6375  l3_comboBox_2.cu
-00006b90: 7272 656e 7454 6578 7443 6861 6e67 6564  rrentTextChanged
-00006ba0: 2e63 6f6e 6e65 6374 2873 656c 662e 7465  .connect(self.te
-00006bb0: 6d70 6672 6571 696e 7075 7433 290a 2020  mpfreqinput3).  
-00006bc0: 2020 2020 2020 7365 6c66 2e64 6174 5f63        self.dat_c
-00006bd0: 6f72 655f 6d61 7465 7269 616c 345f 636f  ore_material4_co
-00006be0: 6d62 6f42 6f78 5f32 2e63 7572 7265 6e74  mboBox_2.current
-00006bf0: 5465 7874 4368 616e 6765 642e 636f 6e6e  TextChanged.conn
-00006c00: 6563 7428 7365 6c66 2e74 656d 7066 7265  ect(self.tempfre
-00006c10: 7169 6e70 7574 3429 0a20 2020 2020 2020  qinput4).       
-00006c20: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
-00006c30: 6174 6572 6961 6c35 5f63 6f6d 626f 426f  aterial5_comboBo
-00006c40: 785f 322e 6375 7272 656e 7454 6578 7443  x_2.currentTextC
-00006c50: 6861 6e67 6564 2e63 6f6e 6e65 6374 2873  hanged.connect(s
-00006c60: 656c 662e 7465 6d70 6672 6571 696e 7075  elf.tempfreqinpu
-00006c70: 7435 290a 0a20 2020 2020 2020 2073 656c  t5)..        sel
-00006c80: 662e 7465 7374 5f6e 616d 655f 315f 636f  f.test_name_1_co
-00006c90: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-00006ca0: 7874 4368 616e 6765 642e 636f 6e6e 6563  xtChanged.connec
-00006cb0: 7428 7365 6c66 2e74 656d 7066 7265 7169  t(self.tempfreqi
-00006cc0: 6e70 7574 3129 0a20 2020 2020 2020 2073  nput1).        s
-00006cd0: 656c 662e 7465 7374 5f6e 616d 655f 325f  elf.test_name_2_
-00006ce0: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00006cf0: 5465 7874 4368 616e 6765 642e 636f 6e6e  TextChanged.conn
-00006d00: 6563 7428 7365 6c66 2e74 656d 7066 7265  ect(self.tempfre
-00006d10: 7169 6e70 7574 3229 0a20 2020 2020 2020  qinput2).       
-00006d20: 2073 656c 662e 7465 7374 5f6e 616d 655f   self.test_name_
-00006d30: 335f 636f 6d62 6f42 6f78 2e63 7572 7265  3_comboBox.curre
-00006d40: 6e74 5465 7874 4368 616e 6765 642e 636f  ntTextChanged.co
-00006d50: 6e6e 6563 7428 7365 6c66 2e74 656d 7066  nnect(self.tempf
-00006d60: 7265 7169 6e70 7574 3329 0a20 2020 2020  reqinput3).     
-00006d70: 2020 2073 656c 662e 7465 7374 5f6e 616d     self.test_nam
-00006d80: 655f 345f 636f 6d62 6f42 6f78 2e63 7572  e_4_comboBox.cur
-00006d90: 7265 6e74 5465 7874 4368 616e 6765 642e  rentTextChanged.
-00006da0: 636f 6e6e 6563 7428 7365 6c66 2e74 656d  connect(self.tem
-00006db0: 7066 7265 7169 6e70 7574 3429 0a20 2020  pfreqinput4).   
-00006dc0: 2020 2020 2073 656c 662e 7465 7374 5f6e       self.test_n
-00006dd0: 616d 655f 355f 636f 6d62 6f42 6f78 2e63  ame_5_comboBox.c
-00006de0: 7572 7265 6e74 5465 7874 4368 616e 6765  urrentTextChange
-00006df0: 642e 636f 6e6e 6563 7428 7365 6c66 2e74  d.connect(self.t
-00006e00: 656d 7066 7265 7169 6e70 7574 3529 0a0a  empfreqinput5)..
-00006e10: 2020 2020 2020 2020 7365 6c66 2e64 6174          self.dat
-00006e20: 5f63 6f72 655f 6d61 7465 7269 616c 5f63  _core_material_c
-00006e30: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00006e40: 6578 7443 6861 6e67 6564 2e63 6f6e 6e65  extChanged.conne
-00006e50: 6374 2873 656c 662e 7465 6d70 5f64 6174  ct(self.temp_dat
-00006e60: 5f69 6e70 7574 290a 2020 2020 2020 2020  _input).        
-00006e70: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
-00006e80: 7465 7269 616c 5f63 6f6d 626f 426f 782e  terial_comboBox.
-00006e90: 6375 7272 656e 7454 6578 7443 6861 6e67  currentTextChang
-00006ea0: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
-00006eb0: 7465 6d70 5f6d 6561 735f 696e 7075 7429  temp_meas_input)
-00006ec0: 0a0a 2020 2020 2320 202a 2a2a 2a2a 2a2a  ..    #  *******
-00006ed0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00006ee0: 2a2a 2a2a 2a20 4d65 6e75 2062 6172 202a  ***** Menu bar *
-00006ef0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00006f00: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00006f10: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00006f20: 2a2a 2a2a 2a2a 2a2a 2a2a 2a20 2023 0a20  ***********  #. 
-00006f30: 2020 2023 2023 2320 4865 6c70 2061 6374     # ## Help act
-00006f40: 696f 6e73 2023 2323 0a20 2020 2064 6566  ions ###.    def
-00006f50: 2077 6562 6272 6f77 7365 725f 636f 6e74   webbrowser_cont
-00006f60: 7269 6275 7465 2873 656c 6629 3a0a 2020  ribute(self):.  
-00006f70: 2020 2020 2020 2222 224f 7065 6e20 7468        """Open th
-00006f80: 6520 7765 6220 6272 6f77 7365 7220 746f  e web browser to
-00006f90: 2074 6865 2047 6974 4875 6220 4645 4d4d   the GitHub FEMM
-00006fa0: 5420 7265 706f 7369 746f 7279 2063 6f6e  T repository con
-00006fb0: 7472 6962 7574 696f 6e20 7061 6765 2e22  tribution page."
-00006fc0: 2222 0a20 2020 2020 2020 2077 6562 6272  "".        webbr
-00006fd0: 6f77 7365 722e 6f70 656e 2827 6874 7470  owser.open('http
-00006fe0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f75  s://github.com/u
-00006ff0: 7062 2d6c 6561 2f46 454d 5f4d 6167 6e65  pb-lea/FEM_Magne
-00007000: 7469 6373 5f54 6f6f 6c62 6f78 2729 0a0a  tics_Toolbox')..
-00007010: 2020 2020 6465 6620 7765 6262 726f 7773      def webbrows
-00007020: 6572 5f62 7567 7265 706f 7274 2873 656c  er_bugreport(sel
-00007030: 6629 3a0a 2020 2020 2020 2020 2222 224f  f):.        """O
-00007040: 7065 6e20 7468 6520 7765 6220 6272 6f77  pen the web brow
-00007050: 7365 7220 746f 2074 6865 2047 6974 4875  ser to the GitHu
-00007060: 6220 4645 4d4d 5420 7265 706f 7369 746f  b FEMMT reposito
-00007070: 7279 2069 7373 7565 2070 6167 652e 2222  ry issue page.""
-00007080: 220a 2020 2020 2020 2020 7765 6262 726f  ".        webbro
-00007090: 7773 6572 2e6f 7065 6e28 2768 7474 7073  wser.open('https
-000070a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 7570  ://github.com/up
-000070b0: 622d 6c65 612f 4645 4d5f 4d61 676e 6574  b-lea/FEM_Magnet
-000070c0: 6963 735f 546f 6f6c 626f 782f 6973 7375  ics_Toolbox/issu
-000070d0: 6573 2729 0a0a 2020 2020 6465 6620 7765  es')..    def we
-000070e0: 6262 726f 7773 6572 5f64 6f63 756d 656e  bbrowser_documen
-000070f0: 7461 7469 6f6e 2873 656c 6629 3a0a 2020  tation(self):.  
-00007100: 2020 2020 2020 2222 224f 7065 6e20 7468        """Open th
-00007110: 6520 7765 6220 6272 6f77 6572 2074 6f20  e web brower to 
-00007120: 7468 6520 4645 4d4d 5420 646f 6375 6d65  the FEMMT docume
-00007130: 6e74 6174 696f 6e2e 2222 220a 2020 2020  ntation.""".    
-00007140: 2020 2020 7765 6262 726f 7773 6572 2e6f      webbrowser.o
-00007150: 7065 6e28 2768 7474 7073 3a2f 2f75 7062  pen('https://upb
-00007160: 2d6c 6561 2e67 6974 6875 622e 696f 2f46  -lea.github.io/F
-00007170: 454d 5f4d 6167 6e65 7469 6373 5f54 6f6f  EM_Magnetics_Too
-00007180: 6c62 6f78 2f6d 6169 6e2f 696e 7472 6f2e  lbox/main/intro.
-00007190: 6874 6d6c 2729 0a0a 2020 2020 2320 202a  html')..    #  *
-000071a0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-000071b0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a20 4175 746f  *********** Auto
-000071c0: 6d61 7465 6420 6465 7369 676e 2074 6162  mated design tab
-000071d0: 202a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a   ***************
-000071e0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-000071f0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00007200: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a20 2023  *************  #
-00007210: 0a0a 2020 2020 6465 6620 706c 6f74 5f76  ..    def plot_v
-00007220: 6f6c 756d 655f 6c6f 7373 2873 656c 662c  olume_loss(self,
-00007230: 2064 6174 615f 6d61 7472 6978 2c20 6d61   data_matrix, ma
-00007240: 7470 6c6f 746c 6962 5f77 6964 6765 7429  tplotlib_widget)
-00007250: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00007260: 2020 2020 2020 506c 6f74 2065 7374 696d        Plot estim
-00007270: 6174 6564 206e 6f72 6d61 6c69 7365 6420  ated normalised 
-00007280: 766f 6c75 6d65 2076 7320 6c6f 7373 2067  volume vs loss g
-00007290: 7261 7068 2066 726f 6d20 7265 6c75 6374  raph from reluct
-000072a0: 616e 6365 206d 6f64 656c 2072 6573 756c  ance model resul
-000072b0: 7473 2e0a 0a20 2020 2020 2020 203a 7061  ts...        :pa
-000072c0: 7261 6d20 6461 7461 5f6d 6174 7269 783a  ram data_matrix:
-000072d0: 204d 6174 7269 7820 636f 6e74 6169 6e69   Matrix containi
-000072e0: 6e67 2074 6865 2064 6573 6967 6e20 7061  ng the design pa
-000072f0: 7261 6d65 7465 7273 0a20 2020 2020 2020  rameters.       
-00007300: 203a 7479 7065 2064 6174 615f 6d61 7472   :type data_matr
-00007310: 6978 3a20 6172 7261 790a 2020 2020 2020  ix: array.      
-00007320: 2020 2222 220a 2020 2020 2020 2020 6d61    """.        ma
-00007330: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
-00007340: 6178 6973 2e73 6574 2878 6c61 6265 6c3d  axis.set(xlabel=
-00007350: 2256 6f6c 756d 6520 2f20 6d5c 7530 3062  "Volume / m\u00b
-00007360: 3322 2c20 796c 6162 656c 3d22 4c6f 7373  3", ylabel="Loss
-00007370: 202f 2057 222c 2074 6974 6c65 3d22 2056   / W", title=" V
-00007380: 6f6c 756d 6520 7673 204c 6f73 7322 290a  olume vs Loss").
-00007390: 2020 2020 2020 2020 6c69 6e65 7320 3d20          lines = 
-000073a0: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
-000073b0: 742e 6178 6973 2e70 6c6f 7428 6461 7461  t.axis.plot(data
-000073c0: 5f6d 6174 7269 785b 3a2c 2033 305d 2c0a  _matrix[:, 30],.
-000073d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000073f0: 2020 2020 2020 2020 2020 2020 6461 7461              data
-00007400: 5f6d 6174 7269 785b 3a2c 2032 385d 2c20  _matrix[:, 28], 
-00007410: 276f 2729 0a20 2020 2020 2020 206d 706c  'o').        mpl
-00007420: 6375 7273 6f72 732e 6375 7273 6f72 286c  cursors.cursor(l
-00007430: 696e 6573 290a 2020 2020 2020 2020 6d61  ines).        ma
-00007440: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
-00007450: 6669 6775 7265 2e74 6967 6874 5f6c 6179  figure.tight_lay
-00007460: 6f75 7428 290a 2020 2020 2020 2020 6d61  out().        ma
-00007470: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
-00007480: 6178 6973 2e67 7269 6428 290a 0a20 2020  axis.grid()..   
-00007490: 2064 6566 2070 6c6f 745f 3264 2873 656c   def plot_2d(sel
-000074a0: 662c 206d 6174 706c 6f74 6c69 625f 7769  f, matplotlib_wi
-000074b0: 6467 6574 2c20 785f 7661 6c75 653a 206c  dget, x_value: l
-000074c0: 6973 742c 2079 5f76 616c 7565 3a20 6c69  ist, y_value: li
-000074d0: 7374 2c20 785f 6c61 6265 6c3a 2073 7472  st, x_label: str
-000074e0: 2c20 795f 6c61 6265 6c3a 2073 7472 2c20  , y_label: str, 
-000074f0: 7469 746c 653a 2073 7472 2c0a 2020 2020  title: str,.    
-00007500: 2020 2020 2020 2020 2020 2020 706c 6f74              plot
-00007510: 5f63 6f6c 6f72 3a20 7374 722c 0a20 2020  _color: str,.   
-00007520: 2020 2020 2020 2020 2020 2020 207a 5f76               z_v
-00007530: 616c 7565 3a20 6c69 7374 203d 204e 6f6e  alue: list = Non
-00007540: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
-00007550: 2020 207a 5f6c 6162 656c 3a20 7374 7220     z_label: str 
-00007560: 3d20 4e6f 6e65 2c20 696e 6475 6374 616e  = None, inductan
-00007570: 6365 5f76 616c 7565 3a20 6c69 7374 203d  ce_value: list =
-00007580: 204e 6f6e 652c 2061 6e6e 6f74 6174 696f   None, annotatio
-00007590: 6e73 3a20 6c69 7374 203d 204e 6f6e 6529  ns: list = None)
-000075a0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-000075b0: 2020 2020 2020 5669 7375 616c 697a 6520        Visualize 
-000075c0: 6461 7461 2069 6e20 3264 2070 6c6f 7420  data in 2d plot 
-000075d0: 7769 7468 2070 6f70 6f76 6572 206e 6578  with popover nex
-000075e0: 7420 746f 206d 6f75 7365 2070 6f73 6974  t to mouse posit
-000075f0: 696f 6e2e 0a0a 2020 2020 2020 2020 3a70  ion...        :p
-00007600: 6172 616d 2078 5f76 616c 7565 3a20 4461  aram x_value: Da
-00007610: 7461 2070 6f69 6e74 7320 666f 7220 782d  ta points for x-
-00007620: 6178 6973 0a20 2020 2020 2020 203a 7479  axis.        :ty
-00007630: 7065 2078 5f76 616c 7565 3a20 6c69 7374  pe x_value: list
-00007640: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00007650: 795f 7661 6c75 653a 2044 6174 6120 706f  y_value: Data po
-00007660: 696e 7473 2066 6f72 2079 2d61 7869 730a  ints for y-axis.
-00007670: 2020 2020 2020 2020 3a74 7970 6520 795f          :type y_
-00007680: 7661 6c75 653a 206c 6973 740a 2020 2020  value: list.    
-00007690: 2020 2020 3a70 6172 616d 207a 5f76 616c      :param z_val
-000076a0: 7565 3a20 4461 7461 2070 6f69 6e74 7320  ue: Data points 
-000076b0: 666f 7220 7a2d 6178 6973 0a20 2020 2020  for z-axis.     
-000076c0: 2020 203a 7479 7065 207a 5f76 616c 7565     :type z_value
-000076d0: 3a20 6c69 7374 0a20 2020 2020 2020 203a  : list.        :
-000076e0: 7061 7261 6d20 785f 6c61 6265 6c3a 2078  param x_label: x
-000076f0: 2d61 7869 7320 6c61 6265 6c0a 2020 2020  -axis label.    
-00007700: 2020 2020 3a74 7970 6520 785f 6c61 6265      :type x_labe
-00007710: 6c3a 2073 7472 0a20 2020 2020 2020 203a  l: str.        :
-00007720: 7061 7261 6d20 795f 6c61 6265 6c3a 2079  param y_label: y
-00007730: 2d61 7869 7320 6c61 6265 6c0a 2020 2020  -axis label.    
-00007740: 2020 2020 3a74 7970 6520 795f 6c61 6265      :type y_labe
-00007750: 6c3a 2073 7472 0a20 2020 2020 2020 203a  l: str.        :
-00007760: 7061 7261 6d20 7a5f 6c61 6265 6c3a 207a  param z_label: z
-00007770: 2d61 7869 7320 6c61 6265 6c0a 2020 2020  -axis label.    
-00007780: 2020 2020 3a74 7970 6520 7a5f 6c61 6265      :type z_labe
-00007790: 6c3a 2073 7472 0a20 2020 2020 2020 203a  l: str.        :
-000077a0: 7061 7261 6d20 7469 746c 653a 2054 6974  param title: Tit
-000077b0: 6c65 206f 6620 7468 6520 6772 6170 680a  le of the graph.
-000077c0: 2020 2020 2020 2020 3a74 7970 6520 7469          :type ti
-000077d0: 746c 653a 2073 7472 0a20 2020 2020 2020  tle: str.       
-000077e0: 203a 7061 7261 6d20 696e 6475 6374 616e   :param inductan
-000077f0: 6365 5f76 616c 7565 3a20 4461 7461 2070  ce_value: Data p
-00007800: 6f69 6e74 7320 666f 7220 696e 6475 6374  oints for induct
-00007810: 616e 6365 2076 616c 7565 2063 6f72 7265  ance value corre
-00007820: 7370 6f6e 6469 6e67 2074 6f20 7468 6520  sponding to the 
-00007830: 2878 2c20 792c 207a 293a 2028 4f70 7469  (x, y, z): (Opti
-00007840: 6f6e 616c 290a 2020 2020 2020 2020 3a74  onal).        :t
-00007850: 7970 6520 696e 6475 6374 616e 6365 5f76  ype inductance_v
-00007860: 616c 7565 3a20 6c69 7374 0a20 2020 2020  alue: list.     
-00007870: 2020 203a 7061 7261 6d20 616e 6e6f 7461     :param annota
-00007880: 7469 6f6e 733a 2041 6e6e 6f74 6174 696f  tions: Annotatio
-00007890: 6e73 2063 6f72 7265 7370 6f6e 6469 6e67  ns corresponding
-000078a0: 2074 6f20 7468 6520 3344 2070 6f69 6e74   to the 3D point
-000078b0: 730a 2020 2020 2020 2020 3a74 7970 6520  s.        :type 
-000078c0: 616e 6e6f 7461 7469 6f6e 733a 206c 6973  annotations: lis
-000078d0: 740a 2020 2020 2020 2020 3a70 6172 616d  t.        :param
-000078e0: 2070 6c6f 745f 636f 6c6f 723a 2043 6f6c   plot_color: Col
-000078f0: 6f72 206f 6620 7468 6520 706c 6f74 2028  or of the plot (
-00007900: 7468 6520 636f 6c6f 7273 2061 7265 2062  the colors are b
-00007910: 6173 6564 206f 6e20 2766 6d74 2e63 6f6c  ased on 'fmt.col
-00007920: 6f72 735f 6665 6d6d 745f 6465 6661 756c  ors_femmt_defaul
-00007930: 7427 290a 2020 2020 2020 2020 3a74 7970  t').        :typ
-00007940: 6520 616e 6e6f 7461 7469 6f6e 733a 2073  e annotations: s
-00007950: 7472 0a20 2020 2020 2020 2022 2222 0a20  tr.        """. 
-00007960: 2020 2020 2020 2069 6620 616e 6e6f 7461         if annota
-00007970: 7469 6f6e 7320 6973 204e 6f6e 653a 0a20  tions is None:. 
-00007980: 2020 2020 2020 2020 2020 206e 616d 6573             names
-00007990: 203d 205b 7374 7228 7829 2066 6f72 2078   = [str(x) for x
-000079a0: 2069 6e20 6c69 7374 2872 616e 6765 286c   in list(range(l
-000079b0: 656e 2878 5f76 616c 7565 2929 295d 0a20  en(x_value)))]. 
-000079c0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-000079d0: 2020 2020 2020 2020 2074 656d 705f 7661           temp_va
-000079e0: 7220 3d20 5b69 6e74 2878 2920 666f 7220  r = [int(x) for 
-000079f0: 7820 696e 2061 6e6e 6f74 6174 696f 6e73  x in annotations
-00007a00: 5d0a 2020 2020 2020 2020 2020 2020 6e61  ].            na
-00007a10: 6d65 7320 3d20 5b73 7472 2878 2920 666f  mes = [str(x) fo
-00007a20: 7220 7820 696e 2074 656d 705f 7661 725d  r x in temp_var]
-00007a30: 0a0a 2020 2020 2020 2020 6966 2069 6e64  ..        if ind
-00007a40: 7563 7461 6e63 655f 7661 6c75 6520 6973  uctance_value is
-00007a50: 206e 6f74 204e 6f6e 653a 0a20 2020 2020   not None:.     
-00007a60: 2020 2020 2020 206c 5f6c 6162 656c 203d         l_label =
-00007a70: 2027 4c20 2f20 4827 0a0a 2020 2020 2020   'L / H'..      
-00007a80: 2020 6966 207a 5f76 616c 7565 2069 7320    if z_value is 
-00007a90: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
-00007aa0: 2020 2020 2020 7a5f 7661 6c75 655f 7374        z_value_st
-00007ab0: 7220 3d20 5b73 7472 2872 6f75 6e64 287a  r = [str(round(z
-00007ac0: 2c20 3329 2920 666f 7220 7a20 696e 207a  , 3)) for z in z
-00007ad0: 5f76 616c 7565 5d0a 0a20 2020 2020 2020  _value]..       
-00007ae0: 2069 6620 696e 6475 6374 616e 6365 5f76   if inductance_v
-00007af0: 616c 7565 2069 7320 6e6f 7420 4e6f 6e65  alue is not None
-00007b00: 3a0a 2020 2020 2020 2020 2020 2020 6c5f  :.            l_
-00007b10: 7661 6c75 655f 7374 7220 3d20 5b73 7472  value_str = [str
-00007b20: 2872 6f75 6e64 2869 6e64 7563 7461 6e63  (round(inductanc
-00007b30: 652c 2036 2929 2066 6f72 2069 6e64 7563  e, 6)) for induc
-00007b40: 7461 6e63 6520 696e 2069 6e64 7563 7461  tance in inducta
-00007b50: 6e63 655f 7661 6c75 655d 0a0a 2020 2020  nce_value]..    
-00007b60: 2020 2020 785f 7661 6c75 655f 7374 7220      x_value_str 
-00007b70: 3d20 5b73 7472 2872 6f75 6e64 2878 2c20  = [str(round(x, 
-00007b80: 3629 2920 666f 7220 7820 696e 2078 5f76  6)) for x in x_v
-00007b90: 616c 7565 5d0a 2020 2020 2020 2020 795f  alue].        y_
-00007ba0: 7661 6c75 655f 7374 7220 3d20 5b73 7472  value_str = [str
-00007bb0: 2872 6f75 6e64 2879 2c20 3329 2920 666f  (round(y, 3)) fo
-00007bc0: 7220 7920 696e 2079 5f76 616c 7565 5d0a  r y in y_value].
-00007bd0: 0a20 2020 2020 2020 2069 6620 7a5f 7661  .        if z_va
-00007be0: 6c75 6520 6973 204e 6f6e 653a 0a20 2020  lue is None:.   
-00007bf0: 2020 2020 2020 2020 2073 6320 3d20 6d61           sc = ma
-00007c00: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
-00007c10: 6178 6973 2e73 6361 7474 6572 2878 5f76  axis.scatter(x_v
-00007c20: 616c 7565 2c20 795f 7661 6c75 652c 0a20  alue, y_value,. 
-00007c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007c50: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00007c60: 3d27 2325 3032 7825 3032 7825 3032 7827  ='#%02x%02x%02x'
-00007c70: 2025 2066 6d74 2e63 6f6c 6f72 735f 6665   % fmt.colors_fe
-00007c80: 6d6d 745f 6465 6661 756c 745b 706c 6f74  mmt_default[plot
-00007c90: 5f63 6f6c 6f72 5d29 0a0a 2020 2020 2020  _color])..      
-00007ca0: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
-00007cb0: 2020 2020 7363 203d 206d 6174 706c 6f74      sc = matplot
-00007cc0: 6c69 625f 7769 6467 6574 2e61 7869 732e  lib_widget.axis.
-00007cd0: 7363 6174 7465 7228 785f 7661 6c75 652c  scatter(x_value,
-00007ce0: 2079 5f76 616c 7565 2c20 633d 7a5f 7661   y_value, c=z_va
-00007cf0: 6c75 652c 2063 6d61 703d 706c 6f74 5f63  lue, cmap=plot_c
-00007d00: 6f6c 6f72 290a 2020 2020 2020 2020 2020  olor).          
-00007d10: 2020 6362 6172 203d 206d 6174 706c 6f74    cbar = matplot
-00007d20: 6c69 625f 7769 6467 6574 2e66 6967 7572  lib_widget.figur
-00007d30: 652e 636f 6c6f 7262 6172 2873 6329 0a20  e.colorbar(sc). 
-00007d40: 2020 2020 2020 2020 2020 2063 6261 722e             cbar.
-00007d50: 6178 2e67 6574 5f79 6178 6973 2829 2e6c  ax.get_yaxis().l
-00007d60: 6162 656c 7061 6420 3d20 3135 0a20 2020  abelpad = 15.   
-00007d70: 2020 2020 2020 2020 2063 6261 722e 6178           cbar.ax
-00007d80: 2e73 6574 5f79 6c61 6265 6c28 7a5f 6c61  .set_ylabel(z_la
-00007d90: 6265 6c2c 2072 6f74 6174 696f 6e3d 3237  bel, rotation=27
-00007da0: 3029 0a0a 2020 2020 2020 2020 6d70 6c63  0)..        mplc
-00007db0: 7572 736f 7273 2e63 7572 736f 7228 7363  ursors.cursor(sc
-00007dc0: 290a 2020 2020 2020 2020 6d61 7470 6c6f  ).        matplo
-00007dd0: 746c 6962 5f77 6964 6765 742e 6178 6973  tlib_widget.axis
-00007de0: 2e73 6574 2878 6c61 6265 6c3d 785f 6c61  .set(xlabel=x_la
-00007df0: 6265 6c2c 2079 6c61 6265 6c3d 795f 6c61  bel, ylabel=y_la
-00007e00: 6265 6c2c 2074 6974 6c65 3d74 6974 6c65  bel, title=title
-00007e10: 290a 2020 2020 2020 2020 616e 6e6f 7420  ).        annot 
-00007e20: 3d20 6d61 7470 6c6f 746c 6962 5f77 6964  = matplotlib_wid
-00007e30: 6765 742e 6178 6973 2e61 6e6e 6f74 6174  get.axis.annotat
-00007e40: 6528 2222 2c20 7879 3d28 302c 2030 292c  e("", xy=(0, 0),
-00007e50: 2078 7974 6578 743d 2832 302c 2032 3029   xytext=(20, 20)
-00007e60: 2c20 7465 7874 636f 6f72 6473 3d22 6f66  , textcoords="of
-00007e70: 6673 6574 2070 6f69 6e74 7322 2c0a 2020  fset points",.  
-00007e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ea0: 2020 2020 2020 2020 2020 2020 2020 6262                bb
-00007eb0: 6f78 3d64 6963 7428 626f 7873 7479 6c65  ox=dict(boxstyle
-00007ec0: 3d22 726f 756e 6422 2c20 6663 3d22 7722  ="round", fc="w"
-00007ed0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
-00007ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00007f00: 2020 2061 7272 6f77 7072 6f70 733d 6469     arrowprops=di
-00007f10: 6374 2861 7272 6f77 7374 796c 653d 222d  ct(arrowstyle="-
-00007f20: 3e22 2929 0a20 2020 2020 2020 2061 6e6e  >")).        ann
-00007f30: 6f74 2e73 6574 5f76 6973 6962 6c65 2846  ot.set_visible(F
-00007f40: 616c 7365 290a 2020 2020 2020 2020 6d61  alse).        ma
-00007f50: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
-00007f60: 6669 6775 7265 2e74 6967 6874 5f6c 6179  figure.tight_lay
-00007f70: 6f75 7428 290a 2020 2020 2020 2020 6d61  out().        ma
-00007f80: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
-00007f90: 6178 6973 2e67 7269 6428 290a 0a20 2020  axis.grid()..   
-00007fa0: 2020 2020 2064 6566 2075 7064 6174 655f       def update_
-00007fb0: 616e 6e6f 7428 696e 6429 3a0a 2020 2020  annot(ind):.    
-00007fc0: 2020 2020 2020 2020 2222 2243 7265 6174          """Creat
-00007fd0: 6520 706f 706f 7665 7220 616e 6e6f 7461  e popover annota
-00007fe0: 7469 6f6e 7320 696e 2032 6420 706c 6f74  tions in 2d plot
-00007ff0: 2e22 2222 0a20 2020 2020 2020 2020 2020  .""".           
-00008000: 2070 6f73 203d 2073 632e 6765 745f 6f66   pos = sc.get_of
-00008010: 6673 6574 7328 295b 696e 645b 2269 6e64  fsets()[ind["ind
-00008020: 225d 5b30 5d5d 0a20 2020 2020 2020 2020  "][0]].         
-00008030: 2020 2061 6e6e 6f74 2e78 7920 3d20 706f     annot.xy = po
-00008040: 730a 2020 2020 2020 2020 2020 2020 7465  s.            te
-00008050: 7874 203d 2022 220a 2020 2020 2020 2020  xt = "".        
-00008060: 2020 2020 6966 207a 5f6c 6162 656c 2069      if z_label i
-00008070: 7320 4e6f 6e65 2061 6e64 2069 6e64 7563  s None and induc
-00008080: 7461 6e63 655f 7661 6c75 6520 6973 204e  tance_value is N
-00008090: 6f6e 653a 0a20 2020 2020 2020 2020 2020  one:.           
-000080a0: 2020 2020 2074 6578 7420 3d20 2263 6173       text = "cas
-000080b0: 653a 207b 7d5c 6e7b 7d3a 207b 7d5c 6e7b  e: {}\n{}: {}\n{
-000080c0: 7d3a 7b7d 222e 205c 0a20 2020 2020 2020  }:{}". \.       
-000080d0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-000080e0: 6d61 7428 2220 222e 6a6f 696e 285b 6e61  mat(" ".join([na
-000080f0: 6d65 735b 6e5d 2066 6f72 206e 2069 6e20  mes[n] for n in 
-00008100: 696e 645b 2269 6e64 225d 5d29 2c0a 2020  ind["ind"]]),.  
-00008110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008120: 2020 2020 2020 2020 2078 5f6c 6162 656c           x_label
-00008130: 2c20 2220 222e 6a6f 696e 285b 785f 7661  , " ".join([x_va
-00008140: 6c75 655f 7374 725b 6e5d 2066 6f72 206e  lue_str[n] for n
-00008150: 2069 6e20 696e 645b 2269 6e64 225d 5d29   in ind["ind"]])
-00008160: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00008170: 2020 2020 2020 2020 2020 2020 2079 5f6c               y_l
-00008180: 6162 656c 2c20 2220 222e 6a6f 696e 285b  abel, " ".join([
-00008190: 795f 7661 6c75 655f 7374 725b 6e5d 2066  y_value_str[n] f
-000081a0: 6f72 206e 2069 6e20 696e 645b 2269 6e64  or n in ind["ind
-000081b0: 225d 5d29 290a 2020 2020 2020 2020 2020  "]])).          
-000081c0: 2020 656c 6966 207a 5f6c 6162 656c 2069    elif z_label i
-000081d0: 7320 6e6f 7420 4e6f 6e65 2061 6e64 2069  s not None and i
-000081e0: 6e64 7563 7461 6e63 655f 7661 6c75 6520  nductance_value 
-000081f0: 6973 204e 6f6e 653a 0a20 2020 2020 2020  is None:.       
-00008200: 2020 2020 2020 2020 2074 6578 7420 3d20           text = 
-00008210: 2263 6173 653a 207b 7d5c 6e7b 7d3a 207b  "case: {}\n{}: {
-00008220: 7d5c 6e7b 7d3a 7b7d 5c6e 7b7d 3a7b 7d22  }\n{}:{}\n{}:{}"
-00008230: 2e20 5c0a 2020 2020 2020 2020 2020 2020  . \.            
-00008240: 2020 2020 2020 2020 666f 726d 6174 2822          format("
-00008250: 2022 2e6a 6f69 6e28 5b6e 616d 6573 5b6e   ".join([names[n
-00008260: 5d20 666f 7220 6e20 696e 2069 6e64 5b22  ] for n in ind["
-00008270: 696e 6422 5d5d 292c 0a20 2020 2020 2020  ind"]]),.       
-00008280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008290: 2020 2020 785f 6c61 6265 6c2c 2022 2022      x_label, " "
-000082a0: 2e6a 6f69 6e28 5b78 5f76 616c 7565 5f73  .join([x_value_s
-000082b0: 7472 5b6e 5d20 666f 7220 6e20 696e 2069  tr[n] for n in i
-000082c0: 6e64 5b22 696e 6422 5d5d 292c 0a20 2020  nd["ind"]]),.   
-000082d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000082e0: 2020 2020 2020 2020 795f 6c61 6265 6c2c          y_label,
-000082f0: 2022 2022 2e6a 6f69 6e28 5b79 5f76 616c   " ".join([y_val
-00008300: 7565 5f73 7472 5b6e 5d20 666f 7220 6e20  ue_str[n] for n 
-00008310: 696e 2069 6e64 5b22 696e 6422 5d5d 292c  in ind["ind"]]),
-00008320: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008330: 2020 2020 2020 2020 2020 2020 7a5f 6c61              z_la
-00008340: 6265 6c2c 2022 2022 2e6a 6f69 6e28 5b7a  bel, " ".join([z
-00008350: 5f76 616c 7565 5f73 7472 5b6e 5d20 666f  _value_str[n] fo
-00008360: 7220 6e20 696e 2069 6e64 5b22 696e 6422  r n in ind["ind"
-00008370: 5d5d 2929 0a20 2020 2020 2020 2020 2020  ]])).           
-00008380: 2065 6c69 6620 7a5f 6c61 6265 6c20 6973   elif z_label is
-00008390: 204e 6f6e 6520 616e 6420 696e 6475 6374   None and induct
-000083a0: 616e 6365 5f76 616c 7565 2069 7320 6e6f  ance_value is no
-000083b0: 7420 4e6f 6e65 3a0a 2020 2020 2020 2020  t None:.        
-000083c0: 2020 2020 2020 2020 7465 7874 203d 2022          text = "
-000083d0: 6361 7365 3a20 7b7d 5c6e 7b7d 3a20 7b7d  case: {}\n{}: {}
-000083e0: 5c6e 7b7d 3a7b 7d5c 6e7b 7d3a 7b7d 222e  \n{}:{}\n{}:{}".
-000083f0: 205c 0a20 2020 2020 2020 2020 2020 2020   \.             
-00008400: 2020 2020 2020 2066 6f72 6d61 7428 2220         format(" 
-00008410: 222e 6a6f 696e 285b 6e61 6d65 735b 6e5d  ".join([names[n]
-00008420: 2066 6f72 206e 2069 6e20 696e 645b 2269   for n in ind["i
-00008430: 6e64 225d 5d29 2c0a 2020 2020 2020 2020  nd"]]),.        
-00008440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008450: 2020 2078 5f6c 6162 656c 2c20 2220 222e     x_label, " ".
-00008460: 6a6f 696e 285b 785f 7661 6c75 655f 7374  join([x_value_st
-00008470: 725b 6e5d 2066 6f72 206e 2069 6e20 696e  r[n] for n in in
-00008480: 645b 2269 6e64 225d 5d29 2c0a 2020 2020  d["ind"]]),.    
-00008490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000084a0: 2020 2020 2020 2079 5f6c 6162 656c 2c20         y_label, 
-000084b0: 2220 222e 6a6f 696e 285b 795f 7661 6c75  " ".join([y_valu
-000084c0: 655f 7374 725b 6e5d 2066 6f72 206e 2069  e_str[n] for n i
-000084d0: 6e20 696e 645b 2269 6e64 225d 5d29 2c0a  n ind["ind"]]),.
-000084e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000084f0: 2020 2020 2020 2020 2020 206c 5f6c 6162             l_lab
-00008500: 656c 2c20 2220 222e 6a6f 696e 285b 6c5f  el, " ".join([l_
-00008510: 7661 6c75 655f 7374 725b 6e5d 2066 6f72  value_str[n] for
-00008520: 206e 2069 6e20 696e 645b 2269 6e64 225d   n in ind["ind"]
-00008530: 5d29 290a 2020 2020 2020 2020 2020 2020  ])).            
-00008540: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-00008550: 2020 2020 2020 7465 7874 203d 2022 6361        text = "ca
-00008560: 7365 3a20 7b7d 5c6e 7b7d 3a20 7b7d 5c6e  se: {}\n{}: {}\n
-00008570: 7b7d 3a7b 7d5c 6e7b 7d3a 7b7d 5c6e 7b7d  {}:{}\n{}:{}\n{}
-00008580: 3a7b 7d22 2e20 5c0a 2020 2020 2020 2020  :{}". \.        
-00008590: 2020 2020 2020 2020 2020 2020 666f 726d              form
-000085a0: 6174 2822 2022 2e6a 6f69 6e28 5b6e 616d  at(" ".join([nam
-000085b0: 6573 5b6e 5d20 666f 7220 6e20 696e 2069  es[n] for n in i
-000085c0: 6e64 5b22 696e 6422 5d5d 292c 0a20 2020  nd["ind"]]),.   
-000085d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000085e0: 2020 2020 2020 2020 785f 6c61 6265 6c2c          x_label,
-000085f0: 2022 2022 2e6a 6f69 6e28 5b78 5f76 616c   " ".join([x_val
-00008600: 7565 5f73 7472 5b6e 5d20 666f 7220 6e20  ue_str[n] for n 
-00008610: 696e 2069 6e64 5b22 696e 6422 5d5d 292c  in ind["ind"]]),
-00008620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00008630: 2020 2020 2020 2020 2020 2020 795f 6c61              y_la
-00008640: 6265 6c2c 2022 2022 2e6a 6f69 6e28 5b79  bel, " ".join([y
-00008650: 5f76 616c 7565 5f73 7472 5b6e 5d20 666f  _value_str[n] fo
-00008660: 7220 6e20 696e 2069 6e64 5b22 696e 6422  r n in ind["ind"
-00008670: 5d5d 292c 0a20 2020 2020 2020 2020 2020  ]]),.           
-00008680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00008690: 7a5f 6c61 6265 6c2c 2022 2022 2e6a 6f69  z_label, " ".joi
-000086a0: 6e28 5b7a 5f76 616c 7565 5f73 7472 5b6e  n([z_value_str[n
-000086b0: 5d20 666f 7220 6e20 696e 2069 6e64 5b22  ] for n in ind["
-000086c0: 696e 6422 5d5d 292c 0a20 2020 2020 2020  ind"]]),.       
-000086d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000086e0: 2020 2020 6c5f 6c61 6265 6c2c 2022 2022      l_label, " "
-000086f0: 2e6a 6f69 6e28 5b6c 5f76 616c 7565 5f73  .join([l_value_s
-00008700: 7472 5b6e 5d20 666f 7220 6e20 696e 2069  tr[n] for n in i
-00008710: 6e64 5b22 696e 6422 5d5d 2929 0a20 2020  nd["ind"]])).   
-00008720: 2020 2020 2020 2020 2061 6e6e 6f74 2e73           annot.s
-00008730: 6574 5f74 6578 7428 7465 7874 290a 2020  et_text(text).  
-00008740: 2020 2020 2020 2020 2020 616e 6e6f 742e            annot.
-00008750: 6765 745f 6262 6f78 5f70 6174 6368 2829  get_bbox_patch()
-00008760: 2e73 6574 5f61 6c70 6861 2830 2e34 290a  .set_alpha(0.4).
-00008770: 0a20 2020 2064 6566 2061 7574 6f6d 6174  .    def automat
-00008780: 6564 5f64 6573 6967 6e5f 6675 6e63 2873  ed_design_func(s
-00008790: 656c 662c 206d 6174 706c 6f74 6c69 625f  elf, matplotlib_
-000087a0: 7769 6467 6574 293a 0a20 2020 2020 2020  widget):.       
-000087b0: 2022 2222 4372 6561 7465 2074 6f20 6163   """Create to ac
-000087c0: 6365 7074 2069 6e70 7574 2070 6172 616d  cept input param
-000087d0: 6574 6572 7320 6672 6f6d 2074 6865 2064  eters from the d
-000087e0: 6566 696e 6974 696f 6e73 2074 6162 2c20  efinitions tab, 
-000087f0: 746f 2063 7265 6174 6520 6d61 7472 6978  to create matrix
-00008800: 2077 6974 6820 616c 6c20 696e 7075 7420   with all input 
-00008810: 636f 6d62 696e 6174 696f 6e73 2e0a 0a20  combinations... 
-00008820: 2020 2020 2020 2041 2063 616c 6c20 6973         A call is
-00008830: 2062 6569 6e67 206d 6164 6520 746f 2074   being made to t
-00008840: 6865 2072 656c 7563 7461 6e63 6520 6d6f  he reluctance mo
-00008850: 6465 6c20 746f 2066 696c 7465 7220 6f75  del to filter ou
-00008860: 7420 7468 6520 6361 7365 7320 666f 7220  t the cases for 
-00008870: 4645 4d20 7369 6d75 6c61 7469 6f6e 2e0a  FEM simulation..
-00008880: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-00008890: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
-000088a0: 743a 2054 6f20 706c 6f74 2076 6f6c 756d  t: To plot volum
-000088b0: 6520 7673 206c 6f73 7320 696e 2072 656c  e vs loss in rel
-000088c0: 7563 7461 6e63 6520 6d6f 6465 6c73 2074  uctance models t
-000088d0: 6162 0a20 2020 2020 2020 2022 2222 0a20  ab.        """. 
-000088e0: 2020 2020 2020 2023 2023 2323 2323 2323         # #######
-000088f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008900: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008910: 2320 2020 7b44 4553 4947 4e20 5041 5241  #   {DESIGN PARA
-00008920: 4d45 5445 5253 7d20 2020 2323 2323 2323  METERS}   ######
-00008930: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008940: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00008950: 2323 2323 2323 2323 2323 230a 2020 2020  ###########.    
-00008960: 2020 2020 676f 616c 5f69 6e64 7563 7461      goal_inducta
-00008970: 6e63 6520 3d20 636f 6d6d 615f 7374 725f  nce = comma_str_
-00008980: 746f 5f70 6f69 6e74 5f66 6c6f 6174 280a  to_point_float(.
-00008990: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000089a0: 2e61 7574 5f67 6f61 6c5f 696e 6475 6374  .aut_goal_induct
-000089b0: 616e 6365 5f76 616c 5f6c 696e 6545 6469  ance_val_lineEdi
-000089c0: 742e 7465 7874 2829 2920 2023 2041 7574  t.text())  # Aut
-000089d0: 6f6d 6174 6564 2064 6573 6967 6e2d 5265  omated design-Re
-000089e0: 6c75 6374 6163 6e65 206d 6f64 656c 2d47  luctacne model-G
-000089f0: 6f61 6c20 496e 6475 6374 616e 6365 0a20  oal Inductance. 
-00008a00: 2020 2020 2020 2073 656c 662e 7472 616e         self.tran
-00008a10: 735f 6469 6374 203d 207b 0a20 2020 2020  s_dict = {.     
-00008a20: 2020 2020 2020 2023 206b 6579 3a20 5573         # key: Us
-00008a30: 6564 2069 6e20 4645 4d4d 5420 636f 6465  ed in FEMMT code
-00008a40: 0a20 2020 2020 2020 2020 2020 2023 2076  .            # v
-00008a50: 616c 7565 3a20 5573 6564 2069 6e20 4755  alue: Used in GU
-00008a60: 490a 2020 2020 2020 2020 2020 2020 222b  I.            "+
-00008a70: 2f2d 2031 3025 223a 2022 3130 222c 0a20  /- 10%": "10",. 
-00008a80: 2020 2020 2020 2020 2020 2022 4564 6765             "Edge
-00008a90: 2064 6973 7472 6962 7574 6564 223a 2022   distributed": "
-00008aa0: 3122 2c0a 2020 2020 2020 2020 2020 2020  1",.            
-00008ab0: 2243 656e 7472 6520 6469 7374 7269 6275  "Centre distribu
-00008ac0: 7465 6422 3a20 2232 220a 2020 2020 2020  ted": "2".      
-00008ad0: 2020 7d0a 2020 2020 2020 2020 4c5f 746f    }.        L_to
-00008ae0: 6c65 7261 6e63 655f 7065 7263 656e 7420  lerance_percent 
-00008af0: 3d20 696e 7428 7365 6c66 2e74 7261 6e73  = int(self.trans
-00008b00: 5f64 6963 745b 7365 6c66 2e61 7574 5f72  _dict[self.aut_r
-00008b10: 656c 5f74 6f6c 6572 616e 6365 5f76 616c  el_tolerance_val
-00008b20: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-00008b30: 7454 6578 7428 295d 290a 2020 2020 2020  tText()]).      
-00008b40: 2020 7365 6c66 2e69 5f6d 6178 203d 2063    self.i_max = c
-00008b50: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00008b60: 745f 666c 6f61 7428 7365 6c66 2e61 7574  t_float(self.aut
-00008b70: 5f6d 6178 696d 756d 5f63 7572 7265 6e74  _maximum_current
-00008b80: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00008b90: 290a 2020 2020 2020 2020 2320 4d61 7820  ).        # Max 
-00008ba0: 6375 7272 656e 7420 616d 706c 6974 7564  current amplitud
-00008bb0: 6520 7769 7468 2061 7373 756d 7074 696f  e with assumptio
-00008bc0: 6e20 6f66 2073 696e 7573 6f69 6461 6c20  n of sinusoidal 
-00008bd0: 6375 7272 656e 7420 7761 7665 666f 726d  current waveform
-00008be0: 0a20 2020 2020 2020 2070 6572 6365 6e74  .        percent
-00008bf0: 5f6f 665f 425f 7361 7420 3d20 696e 7428  _of_B_sat = int(
-00008c00: 7365 6c66 2e61 7574 5f62 5f73 6174 5f6c  self.aut_b_sat_l
-00008c10: 696e 6545 6469 742e 7465 7874 2829 2920  ineEdit.text()) 
-00008c20: 2023 2050 6572 6365 6e74 206f 6620 425f   # Percent of B_
-00008c30: 7361 7420 616c 6c6f 7765 6420 696e 2074  sat allowed in t
-00008c40: 6865 2064 6573 6967 6e65 6420 636f 7265  he designed core
-00008c50: 0a0a 2020 2020 2020 2020 7065 7263 656e  ..        percen
-00008c60: 745f 6f66 5f74 6f74 616c 5f6c 6f73 7320  t_of_total_loss 
-00008c70: 3d20 696e 7428 7365 6c66 2e61 7574 5f68  = int(self.aut_h
-00008c80: 7973 7465 7269 7369 735f 6c6f 7373 5f6f  ysterisis_loss_o
-00008c90: 7074 696f 6e73 5f6c 696e 6545 6469 742e  ptions_lineEdit.
-00008ca0: 7465 7874 2829 290a 2020 2020 2020 2020  text()).        
-00008cb0: 2320 5065 7263 656e 7420 6f66 2074 6f74  # Percent of tot
-00008cc0: 616c 5f6c 6f73 7320 616c 6c6f 7765 6420  al_loss allowed 
-00008cd0: 696e 2046 454d 2073 696d 756c 6174 696f  in FEM simulatio
-00008ce0: 6e0a 0a20 2020 2020 2020 2073 656c 662e  n..        self.
-00008cf0: 6672 6571 203d 2063 6f6d 6d61 5f73 7472  freq = comma_str
-00008d00: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-00008d10: 7365 6c66 2e61 7574 5f73 7769 7463 6869  self.aut_switchi
-00008d20: 6e67 5f66 7265 715f 6c69 6e65 4564 6974  ng_freq_lineEdit
-00008d30: 2e74 6578 7428 2929 0a20 2020 2020 2020  .text()).       
-00008d40: 206d 755f 696d 6167 203d 2031 3030 0a20   mu_imag = 100. 
-00008d50: 2020 2020 2020 2043 755f 7369 676d 6120         Cu_sigma 
-00008d60: 3d20 352e 3936 202a 2031 6537 2020 2320  = 5.96 * 1e7  # 
-00008d70: 636f 7070 6572 2063 6f6e 6475 6374 6976  copper conductiv
-00008d80: 6974 7920 2873 6967 6d61 2920 4020 3230  ity (sigma) @ 20
-00008d90: 2064 6567 7265 6520 6365 6c73 6975 730a   degree celsius.
-00008da0: 0a20 2020 2020 2020 2023 2053 6574 2063  .        # Set c
-00008db0: 6f72 652d 6765 6f6d 6574 7279 2066 726f  ore-geometry fro
-00008dc0: 6d20 636f 7265 2064 6174 6162 6173 6520  m core database 
-00008dd0: 6f72 2f61 6e64 206d 616e 7561 6c20 656e  or/and manual en
-00008de0: 7472 790a 2020 2020 2020 2020 6d69 6e5f  try.        min_
-00008df0: 636f 7265 5f77 203d 2063 6f6d 6d61 5f73  core_w = comma_s
-00008e00: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00008e10: 7428 7365 6c66 2e61 7574 5f6d 696e 5f63  t(self.aut_min_c
-00008e20: 6f72 655f 7769 6474 685f 6c69 6e65 4564  ore_width_lineEd
-00008e30: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
-00008e40: 2020 206d 6178 5f63 6f72 655f 7720 3d20     max_core_w = 
-00008e50: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00008e60: 6e74 5f66 6c6f 6174 2873 656c 662e 6175  nt_float(self.au
-00008e70: 745f 6d61 785f 636f 7265 5f77 6964 7468  t_max_core_width
-00008e80: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00008e90: 290a 2020 2020 2020 2020 7374 6570 5f63  ).        step_c
-00008ea0: 6f72 655f 7720 3d20 696e 7428 7365 6c66  ore_w = int(self
-00008eb0: 2e61 7574 5f73 7465 705f 636f 7265 5f77  .aut_step_core_w
-00008ec0: 6964 7468 5f6c 696e 6545 6469 742e 7465  idth_lineEdit.te
-00008ed0: 7874 2829 290a 2020 2020 2020 2020 6d69  xt()).        mi
-00008ee0: 6e5f 7769 6e64 6f77 5f68 203d 2063 6f6d  n_window_h = com
-00008ef0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00008f00: 666c 6f61 7428 7365 6c66 2e61 7574 5f6d  float(self.aut_m
-00008f10: 696e 5f77 696e 646f 775f 6865 6967 6874  in_window_height
-00008f20: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00008f30: 290a 2020 2020 2020 2020 6d61 785f 7769  ).        max_wi
-00008f40: 6e64 6f77 5f68 203d 2063 6f6d 6d61 5f73  ndow_h = comma_s
-00008f50: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00008f60: 7428 7365 6c66 2e61 7574 5f6d 6178 5f77  t(self.aut_max_w
-00008f70: 696e 646f 775f 6865 6967 6874 5f6c 696e  indow_height_lin
-00008f80: 6545 6469 742e 7465 7874 2829 290a 2020  eEdit.text()).  
-00008f90: 2020 2020 2020 7374 6570 5f77 696e 646f        step_windo
-00008fa0: 775f 6820 3d20 696e 7428 7365 6c66 2e61  w_h = int(self.a
-00008fb0: 7574 5f73 7465 705f 7769 6e64 6f77 5f68  ut_step_window_h
-00008fc0: 6569 6768 745f 6c69 6e65 4564 6974 2e74  eight_lineEdit.t
-00008fd0: 6578 7428 2929 0a20 2020 2020 2020 206d  ext()).        m
-00008fe0: 696e 5f77 696e 646f 775f 7720 3d20 636f  in_window_w = co
-00008ff0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00009000: 5f66 6c6f 6174 2873 656c 662e 6175 745f  _float(self.aut_
-00009010: 6d69 6e5f 7769 6e64 6f77 5f77 6964 7468  min_window_width
-00009020: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00009030: 290a 2020 2020 2020 2020 6d61 785f 7769  ).        max_wi
-00009040: 6e64 6f77 5f77 203d 2063 6f6d 6d61 5f73  ndow_w = comma_s
-00009050: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00009060: 7428 7365 6c66 2e61 7574 5f6d 6178 5f77  t(self.aut_max_w
-00009070: 696e 646f 775f 7769 6474 685f 6c69 6e65  indow_width_line
-00009080: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
-00009090: 2020 2020 2073 7465 705f 7769 6e64 6f77       step_window
-000090a0: 5f77 203d 2069 6e74 2873 656c 662e 6175  _w = int(self.au
-000090b0: 745f 7374 6570 5f77 696e 646f 775f 7769  t_step_window_wi
-000090c0: 6474 685f 6c69 6e65 4564 6974 2e74 6578  dth_lineEdit.tex
-000090d0: 7428 2929 0a0a 2020 2020 2020 2020 6d61  t())..        ma
-000090e0: 6e75 616c 5f63 6f72 655f 7720 3d20 6c69  nual_core_w = li
-000090f0: 7374 286e 702e 6c69 6e73 7061 6365 286d  st(np.linspace(m
-00009100: 696e 5f63 6f72 655f 772c 206d 6178 5f63  in_core_w, max_c
-00009110: 6f72 655f 772c 2073 7465 705f 636f 7265  ore_w, step_core
-00009120: 5f77 2929 0a20 2020 2020 2020 206d 616e  _w)).        man
-00009130: 7561 6c5f 7769 6e64 6f77 5f68 203d 206c  ual_window_h = l
-00009140: 6973 7428 6e70 2e6c 696e 7370 6163 6528  ist(np.linspace(
-00009150: 6d69 6e5f 7769 6e64 6f77 5f68 2c20 6d61  min_window_h, ma
-00009160: 785f 7769 6e64 6f77 5f68 2c20 7374 6570  x_window_h, step
-00009170: 5f77 696e 646f 775f 6829 290a 2020 2020  _window_h)).    
-00009180: 2020 2020 6d61 6e75 616c 5f77 696e 646f      manual_windo
-00009190: 775f 7720 3d20 6c69 7374 286e 702e 6c69  w_w = list(np.li
-000091a0: 6e73 7061 6365 286d 696e 5f77 696e 646f  nspace(min_windo
-000091b0: 775f 772c 206d 6178 5f77 696e 646f 775f  w_w, max_window_
-000091c0: 772c 2073 7465 705f 7769 6e64 6f77 5f77  w, step_window_w
-000091d0: 2929 0a0a 2020 2020 2020 2020 6462 5f63  ))..        db_c
-000091e0: 6f72 655f 6e61 6d65 7320 3d20 5b5d 2020  ore_names = []  
-000091f0: 2320 2250 5120 3430 2f34 3022 2c20 2250  # "PQ 40/40", "P
-00009200: 5120 3430 2f33 3022 0a20 2020 2020 2020  Q 40/30".       
-00009210: 2066 6f72 2069 2069 6e20 7261 6e67 6528   for i in range(
-00009220: 7365 6c66 2e61 7574 5f63 6f72 655f 6765  self.aut_core_ge
-00009230: 6f6d 6574 7279 5f62 6173 6b65 745f 6c69  ometry_basket_li
-00009240: 7374 5769 6467 6574 2e63 6f75 6e74 2829  stWidget.count()
-00009250: 293a 0a20 2020 2020 2020 2020 2020 2064  ):.            d
-00009260: 625f 636f 7265 5f6e 616d 6573 2e61 7070  b_core_names.app
-00009270: 656e 6428 7365 6c66 2e61 7574 5f63 6f72  end(self.aut_cor
-00009280: 655f 6765 6f6d 6574 7279 5f62 6173 6b65  e_geometry_baske
-00009290: 745f 6c69 7374 5769 6467 6574 2e69 7465  t_listWidget.ite
-000092a0: 6d28 6929 2e74 6578 7428 2929 0a0a 2020  m(i).text())..  
-000092b0: 2020 2020 2020 636f 7265 5f64 6220 3d20        core_db = 
-000092c0: 666d 742e 636f 7265 5f64 6174 6162 6173  fmt.core_databas
-000092d0: 6528 290a 2020 2020 2020 2020 6462 5f63  e().        db_c
-000092e0: 6f72 655f 7720 3d20 5b63 6f72 655f 6462  ore_w = [core_db
-000092f0: 5b63 6f72 655f 6e61 6d65 5d5b 2263 6f72  [core_name]["cor
-00009300: 655f 696e 6e65 725f 6469 616d 6574 6572  e_inner_diameter
-00009310: 225d 2066 6f72 2063 6f72 655f 6e61 6d65  "] for core_name
-00009320: 2069 6e20 6462 5f63 6f72 655f 6e61 6d65   in db_core_name
-00009330: 735d 0a20 2020 2020 2020 2064 625f 7769  s].        db_wi
-00009340: 6e64 6f77 5f68 203d 205b 636f 7265 5f64  ndow_h = [core_d
-00009350: 625b 636f 7265 5f6e 616d 655d 5b22 7769  b[core_name]["wi
-00009360: 6e64 6f77 5f68 225d 2066 6f72 2063 6f72  ndow_h"] for cor
-00009370: 655f 6e61 6d65 2069 6e20 6462 5f63 6f72  e_name in db_cor
-00009380: 655f 6e61 6d65 735d 0a20 2020 2020 2020  e_names].       
-00009390: 2064 625f 7769 6e64 6f77 5f77 203d 205b   db_window_w = [
-000093a0: 636f 7265 5f64 625b 636f 7265 5f6e 616d  core_db[core_nam
-000093b0: 655d 5b22 7769 6e64 6f77 5f77 225d 2066  e]["window_w"] f
-000093c0: 6f72 2063 6f72 655f 6e61 6d65 2069 6e20  or core_name in 
-000093d0: 6462 5f63 6f72 655f 6e61 6d65 735d 0a0a  db_core_names]..
-000093e0: 2020 2020 2020 2020 636f 7265 5f77 5f6c          core_w_l
-000093f0: 6973 7420 3d20 6462 5f63 6f72 655f 7720  ist = db_core_w 
-00009400: 2b20 6d61 6e75 616c 5f63 6f72 655f 770a  + manual_core_w.
-00009410: 2020 2020 2020 2020 7769 6e64 6f77 5f68          window_h
-00009420: 5f6c 6973 7420 3d20 6462 5f77 696e 646f  _list = db_windo
-00009430: 775f 6820 2b20 6d61 6e75 616c 5f77 696e  w_h + manual_win
-00009440: 646f 775f 680a 2020 2020 2020 2020 7769  dow_h.        wi
-00009450: 6e64 6f77 5f77 5f6c 6973 7420 3d20 6462  ndow_w_list = db
-00009460: 5f77 696e 646f 775f 7720 2b20 6d61 6e75  _window_w + manu
-00009470: 616c 5f77 696e 646f 775f 770a 0a20 2020  al_window_w..   
-00009480: 2020 2020 2023 2053 6574 2077 696e 6469       # Set windi
-00009490: 6e67 2073 6574 7469 6e67 7320 2853 6f6c  ng settings (Sol
-000094a0: 6964 2061 6e64 204c 6974 7a20 7769 6e64  id and Litz wind
-000094b0: 696e 6720 7479 7065 290a 2020 2020 2020  ing type).      
-000094c0: 2020 736f 6c69 645f 636f 6e64 7563 746f    solid_conducto
-000094d0: 725f 7220 3d20 5b63 6f6d 6d61 5f73 7472  r_r = [comma_str
-000094e0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-000094f0: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
-00009500: 315f 7261 6469 7573 5f6c 696e 6545 6469  1_radius_lineEdi
-00009510: 742e 7465 7874 2829 295d 0a0a 2020 2020  t.text())]..    
-00009520: 2020 2020 6c69 747a 5f64 6220 3d20 666d      litz_db = fm
-00009530: 742e 6c69 747a 5f64 6174 6162 6173 6528  t.litz_database(
-00009540: 290a 2020 2020 2020 2020 2320 6c69 747a  ).        # litz
-00009550: 5f6e 616d 6573 203d 205b 2231 2e35 7831  _names = ["1.5x1
-00009560: 3035 7830 2e31 225d 2020 2320 2231 2e35  05x0.1"]  # "1.5
-00009570: 7831 3035 7830 2e31 222c 2022 312e 3478  x105x0.1", "1.4x
-00009580: 3230 3078 302e 3037 3122 0a20 2020 2020  200x0.071".     
-00009590: 2020 206c 6974 7a5f 6e61 6d65 7320 3d20     litz_names = 
-000095a0: 5b5d 0a20 2020 2020 2020 2066 6f72 2069  [].        for i
-000095b0: 2069 6e20 7261 6e67 6528 7365 6c66 2e61   in range(self.a
-000095c0: 7574 5f6c 6974 7a5f 6261 736b 6574 5f6c  ut_litz_basket_l
-000095d0: 6973 7457 6964 6765 742e 636f 756e 7428  istWidget.count(
-000095e0: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
-000095f0: 6c69 747a 5f6e 616d 6573 2e61 7070 656e  litz_names.appen
-00009600: 6428 7365 6c66 2e61 7574 5f6c 6974 7a5f  d(self.aut_litz_
-00009610: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
-00009620: 742e 6974 656d 2869 292e 7465 7874 2829  t.item(i).text()
-00009630: 290a 2020 2020 2020 2020 7365 6c66 2e6c  ).        self.l
-00009640: 6974 7a5f 636f 6e64 7563 746f 725f 7220  itz_conductor_r 
-00009650: 3d20 5b6c 6974 7a5f 6462 5b6c 6974 7a5f  = [litz_db[litz_
-00009660: 6e61 6d65 5d5b 2263 6f6e 6475 6374 6f72  name]["conductor
-00009670: 5f72 6164 6969 225d 2066 6f72 206c 6974  _radii"] for lit
-00009680: 7a5f 6e61 6d65 2069 6e20 6c69 747a 5f6e  z_name in litz_n
-00009690: 616d 6573 5d0a 2020 2020 2020 2020 7365  ames].        se
-000096a0: 6c66 2e6c 6974 7a5f 7374 7261 6e64 5f72  lf.litz_strand_r
-000096b0: 203d 205b 6c69 747a 5f64 625b 6c69 747a   = [litz_db[litz
-000096c0: 5f6e 616d 655d 5b22 7374 7261 6e64 5f72  _name]["strand_r
-000096d0: 6164 6969 225d 2066 6f72 206c 6974 7a5f  adii"] for litz_
-000096e0: 6e61 6d65 2069 6e20 6c69 747a 5f6e 616d  name in litz_nam
-000096f0: 6573 5d0a 2020 2020 2020 2020 7365 6c66  es].        self
-00009700: 2e6c 6974 7a5f 7374 7261 6e64 5f6e 203d  .litz_strand_n =
-00009710: 205b 6c69 747a 5f64 625b 6c69 747a 5f6e   [litz_db[litz_n
-00009720: 616d 655d 5b22 7374 7261 6e64 735f 6e75  ame]["strands_nu
-00009730: 6d62 6572 7322 5d20 666f 7220 6c69 747a  mbers"] for litz
-00009740: 5f6e 616d 6520 696e 206c 6974 7a5f 6e61  _name in litz_na
-00009750: 6d65 735d 0a0a 2020 2020 2020 2020 7769  mes]..        wi
-00009760: 6e64 696e 675f 7363 6865 6d65 203d 2073  nding_scheme = s
-00009770: 656c 662e 6175 745f 7769 6e64 696e 6731  elf.aut_winding1
-00009780: 5f73 6368 656d 655f 636f 6d62 6f42 6f78  _scheme_comboBox
-00009790: 2e63 7572 7265 6e74 5465 7874 2829 0a0a  .currentText()..
-000097a0: 2020 2020 2020 2020 6d69 6e5f 636f 6e64          min_cond
-000097b0: 7563 746f 725f 7220 3d20 6d69 6e28 7365  uctor_r = min(se
-000097c0: 6c66 2e6c 6974 7a5f 636f 6e64 7563 746f  lf.litz_conducto
-000097d0: 725f 7220 2b20 736f 6c69 645f 636f 6e64  r_r + solid_cond
-000097e0: 7563 746f 725f 7229 0a0a 2020 2020 2020  uctor_r)..      
-000097f0: 2020 2320 5365 7420 6169 722d 6761 7020    # Set air-gap 
-00009800: 616e 6420 636f 7265 2070 6172 616d 6574  and core paramet
-00009810: 6572 7337 0a20 2020 2020 2020 206e 6f5f  ers7.        no_
-00009820: 7475 726e 735f 6d69 6e20 3d20 696e 7428  turns_min = int(
-00009830: 7365 6c66 2e61 7574 5f6d 696e 5f77 696e  self.aut_min_win
-00009840: 6469 6e67 315f 7475 726e 735f 6c69 6e65  ding1_turns_line
-00009850: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
-00009860: 2020 2020 206e 6f5f 7475 726e 735f 6d61       no_turns_ma
-00009870: 7820 3d20 696e 7428 7365 6c66 2e61 7574  x = int(self.aut
-00009880: 5f6d 6178 5f77 696e 6469 6e67 315f 7475  _max_winding1_tu
-00009890: 726e 735f 6c69 6e65 4564 6974 2e74 6578  rns_lineEdit.tex
-000098a0: 7428 2929 0a20 2020 2020 2020 206e 6f5f  t()).        no_
-000098b0: 7475 726e 735f 7374 6570 203d 2028 6e6f  turns_step = (no
-000098c0: 5f74 7572 6e73 5f6d 6178 202d 206e 6f5f  _turns_max - no_
-000098d0: 7475 726e 735f 6d69 6e29 202b 2031 0a20  turns_min) + 1. 
-000098e0: 2020 2020 2020 206e 6f5f 6169 7267 6170         no_airgap
-000098f0: 735f 6d69 6e20 3d20 696e 7428 7365 6c66  s_min = int(self
-00009900: 2e61 7574 5f6d 696e 5f61 6972 5f67 6170  .aut_min_air_gap
-00009910: 5f63 6f75 6e74 5f6c 696e 6545 6469 742e  _count_lineEdit.
-00009920: 7465 7874 2829 290a 2020 2020 2020 2020  text()).        
-00009930: 6e6f 5f61 6972 6761 7073 5f6d 6178 203d  no_airgaps_max =
-00009940: 2069 6e74 2873 656c 662e 6175 745f 6d61   int(self.aut_ma
-00009950: 785f 6169 725f 6761 705f 636f 756e 745f  x_air_gap_count_
-00009960: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00009970: 0a20 2020 2020 2020 2061 6972 6761 705f  .        airgap_
-00009980: 685f 6d69 6e20 3d20 636f 6d6d 615f 7374  h_min = comma_st
-00009990: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-000099a0: 2873 656c 662e 6175 745f 6169 725f 6761  (self.aut_air_ga
-000099b0: 705f 6c65 6e67 7468 5f6d 696e 5f6c 696e  p_length_min_lin
-000099c0: 6545 6469 742e 7465 7874 2829 290a 2020  eEdit.text()).  
-000099d0: 2020 2020 2020 6169 7267 6170 5f68 5f6d        airgap_h_m
-000099e0: 6178 203d 2063 6f6d 6d61 5f73 7472 5f74  ax = comma_str_t
-000099f0: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00009a00: 6c66 2e61 7574 5f61 6972 5f67 6170 5f6c  lf.aut_air_gap_l
-00009a10: 656e 6774 685f 6d61 785f 6c69 6e65 4564  ength_max_lineEd
-00009a20: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
-00009a30: 2020 2061 6972 6761 705f 685f 7374 6570     airgap_h_step
-00009a40: 203d 2069 6e74 2873 656c 662e 6175 745f   = int(self.aut_
-00009a50: 6169 725f 6761 705f 6c65 6e67 7468 5f73  air_gap_length_s
-00009a60: 7465 705f 6c69 6e65 4564 6974 2e74 6578  tep_lineEdit.tex
-00009a70: 7428 2929 0a20 2020 2020 2020 2061 6972  t()).        air
-00009a80: 6761 705f 706f 735f 6d69 6e20 3d20 696e  gap_pos_min = in
-00009a90: 7428 7365 6c66 2e61 7574 5f61 6972 5f67  t(self.aut_air_g
-00009aa0: 6170 5f70 6f73 6974 696f 6e5f 6d69 6e5f  ap_position_min_
-00009ab0: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00009ac0: 0a20 2020 2020 2020 2061 6972 6761 705f  .        airgap_
-00009ad0: 706f 735f 6d61 7820 3d20 696e 7428 7365  pos_max = int(se
-00009ae0: 6c66 2e61 7574 5f61 6972 5f67 6170 5f70  lf.aut_air_gap_p
-00009af0: 6f73 6974 696f 6e5f 6d61 785f 6c69 6e65  osition_max_line
-00009b00: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
-00009b10: 2020 2020 2061 6972 6761 705f 706f 735f       airgap_pos_
-00009b20: 7374 6570 203d 2069 6e74 2873 656c 662e  step = int(self.
-00009b30: 6175 745f 6169 725f 6761 705f 706f 7369  aut_air_gap_posi
-00009b40: 7469 6f6e 5f73 7465 705f 6c69 6e65 4564  tion_step_lineEd
-00009b50: 6974 2e74 6578 7428 2929 0a0a 2020 2020  it.text())..    
-00009b60: 2020 2020 6e6f 5f6f 665f 7475 726e 735f      no_of_turns_
-00009b70: 666c 6f61 7420 3d20 6c69 7374 2828 6e70  float = list((np
-00009b80: 2e6c 696e 7370 6163 6528 6e6f 5f74 7572  .linspace(no_tur
-00009b90: 6e73 5f6d 696e 2c20 6e6f 5f74 7572 6e73  ns_min, no_turns
-00009ba0: 5f6d 6178 2c20 6e6f 5f74 7572 6e73 5f73  _max, no_turns_s
-00009bb0: 7465 7029 2929 0a20 2020 2020 2020 206e  tep))).        n
-00009bc0: 6f5f 6f66 5f74 7572 6e73 203d 205b 696e  o_of_turns = [in
-00009bd0: 7428 6974 656d 2920 666f 7220 6974 656d  t(item) for item
-00009be0: 2069 6e20 6e6f 5f6f 665f 7475 726e 735f   in no_of_turns_
-00009bf0: 666c 6f61 745d 0a20 2020 2020 2020 206e  float].        n
-00009c00: 5f61 6972 5f67 6170 7320 3d20 5b6e 6f5f  _air_gaps = [no_
-00009c10: 6169 7267 6170 735f 6d69 6e2c 206e 6f5f  airgaps_min, no_
-00009c20: 6169 7267 6170 735f 6d61 785d 2020 2320  airgaps_max]  # 
-00009c30: 5365 7420 4e6f 2e20 6f66 2061 6972 2d67  Set No. of air-g
-00009c40: 6170 7320 286e 290a 2020 2020 2020 2020  aps (n).        
-00009c50: 6169 725f 6761 705f 6865 6967 6874 203d  air_gap_height =
-00009c60: 206c 6973 7428 6e70 2e6c 696e 7370 6163   list(np.linspac
-00009c70: 6528 6169 7267 6170 5f68 5f6d 696e 2c20  e(airgap_h_min, 
-00009c80: 6169 7267 6170 5f68 5f6d 6178 2c20 6169  airgap_h_max, ai
-00009c90: 7267 6170 5f68 5f73 7465 7029 2920 2023  rgap_h_step))  #
-00009ca0: 2053 6574 2061 6972 2d67 6170 206c 656e   Set air-gap len
-00009cb0: 6774 6820 696e 206d 6574 7265 2028 6c29  gth in metre (l)
-00009cc0: 0a20 2020 2020 2020 2061 6972 5f67 6170  .        air_gap
-00009cd0: 5f70 6f73 6974 696f 6e20 3d20 6c69 7374  _position = list
-00009ce0: 286e 702e 6c69 6e73 7061 6365 2861 6972  (np.linspace(air
-00009cf0: 6761 705f 706f 735f 6d69 6e2c 2061 6972  gap_pos_min, air
-00009d00: 6761 705f 706f 735f 6d61 782c 0a20 2020  gap_pos_max,.   
-00009d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009d20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00009d30: 2020 2020 2020 2020 2061 6972 6761 705f           airgap_
-00009d40: 706f 735f 7374 6570 2929 2020 2320 5365  pos_step))  # Se
-00009d50: 7420 6169 722d 6761 7020 706f 7369 7469  t air-gap positi
-00009d60: 6f6e 2069 6e20 7065 7263 656e 7420 772e  on in percent w.
-00009d70: 722e 742e 2063 6f72 6520 7769 6e64 6f77  r.t. core window
-00009d80: 2068 6569 6768 740a 0a20 2020 2020 2020   height..       
-00009d90: 206d 6174 6572 6961 6c5f 6e61 6d65 7320   material_names 
-00009da0: 3d20 5b5d 0a20 2020 2020 2020 2066 6f72  = [].        for
-00009db0: 2069 2069 6e20 7261 6e67 6528 7365 6c66   i in range(self
-00009dc0: 2e61 7574 5f63 6f72 655f 6d61 7465 7269  .aut_core_materi
-00009dd0: 616c 5f62 6173 6b65 745f 6c69 7374 5769  al_basket_listWi
-00009de0: 6467 6574 2e63 6f75 6e74 2829 293a 0a20  dget.count()):. 
-00009df0: 2020 2020 2020 2020 2020 206d 6174 6572             mater
-00009e00: 6961 6c5f 6e61 6d65 732e 6170 7065 6e64  ial_names.append
-00009e10: 2873 656c 662e 6175 745f 636f 7265 5f6d  (self.aut_core_m
-00009e20: 6174 6572 6961 6c5f 6261 736b 6574 5f6c  aterial_basket_l
-00009e30: 6973 7457 6964 6765 742e 6974 656d 2869  istWidget.item(i
-00009e40: 292e 7465 7874 2829 290a 2020 2020 2020  ).text()).      
-00009e50: 2020 2320 6d61 7465 7269 616c 5f6e 616d    # material_nam
-00009e60: 6573 203d 205b 224e 3935 225d 0a0a 2020  es = ["N95"]..  
-00009e70: 2020 2020 2020 6d75 5f72 656c 203d 205b        mu_rel = [
-00009e80: 6461 7461 6261 7365 2e67 6574 5f6d 6174  database.get_mat
-00009e90: 6572 6961 6c5f 7072 6f70 6572 7479 286d  erial_property(m
-00009ea0: 6174 6572 6961 6c5f 6e61 6d65 3d6d 6174  aterial_name=mat
-00009eb0: 6572 6961 6c5f 6e61 6d65 2c20 7072 6f70  erial_name, prop
-00009ec0: 6572 7479 3d22 696e 6974 6961 6c5f 7065  erty="initial_pe
-00009ed0: 726d 6561 6269 6c69 7479 2229 0a20 2020  rmeability").   
-00009ee0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00009ef0: 6f72 206d 6174 6572 6961 6c5f 6e61 6d65  or material_name
-00009f00: 2069 6e20 6d61 7465 7269 616c 5f6e 616d   in material_nam
-00009f10: 6573 5d0a 2020 2020 2020 2020 636f 6d70  es].        comp
-00009f20: 6f6e 656e 7420 3d20 7365 6c66 2e61 7574  onent = self.aut
-00009f30: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
-00009f40: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-00009f50: 7454 6578 7428 290a 2020 2020 2020 2020  tText().        
-00009f60: 2320 5365 7420 7477 6f20 7479 7065 7320  # Set two types 
-00009f70: 6f66 2065 7175 616c 6c79 2064 6973 7472  of equally distr
-00009f80: 6962 7574 6564 2061 6972 2d67 6170 7320  ibuted air-gaps 
-00009f90: 2875 7365 6420 6f6e 6c79 2066 6f72 2061  (used only for a
-00009fa0: 6972 2d67 6170 7320 6d6f 7265 2074 6861  ir-gaps more tha
-00009fb0: 6e20 3129 3a0a 2020 2020 2020 2020 2320  n 1):.        # 
-00009fc0: 5479 7065 2031 3a20 4571 7561 6c6c 7920  Type 1: Equally 
-00009fd0: 6469 7374 7269 6275 7465 6420 6169 722d  distributed air-
-00009fe0: 6761 7073 2069 6e63 6c75 6469 6e67 2063  gaps including c
-00009ff0: 6f72 6e65 7220 6169 722d 6761 7073 2028  orner air-gaps (
-0000a000: 6567 3a20 6169 722d 6761 7073 2d70 6f73  eg: air-gaps-pos
-0000a010: 6974 696f 6e20 3d20 5b30 2c20 3530 2c20  ition = [0, 50, 
-0000a020: 3130 305d 290a 2020 2020 2020 2020 2320  100]).        # 
-0000a030: 5479 7065 2032 3a20 4571 7561 6c6c 7920  Type 2: Equally 
-0000a040: 6469 7374 7269 6275 7465 6420 6169 722d  distributed air-
-0000a050: 6761 7073 2065 7863 6c75 6469 6e67 2063  gaps excluding c
-0000a060: 6f72 6e65 7220 6169 722d 6761 7073 2028  orner air-gaps (
-0000a070: 6567 3a20 6169 722d 6761 7073 2d70 6f73  eg: air-gaps-pos
-0000a080: 6974 696f 6e20 3d20 5b32 352c 2035 302c  ition = [25, 50,
-0000a090: 2037 355d 290a 2020 2020 2020 2020 2320   75]).        # 
-0000a0a0: 2754 7970 6531 203d 2077 6974 6820 636f  'Type1 = with co
-0000a0b0: 726e 6572 2061 6972 2d67 6170 733b 2027  rner air-gaps; '
-0000a0c0: 5479 7065 3227 203d 2077 6974 686f 7574  Type2' = without
-0000a0d0: 2063 6f72 6e65 7220 6169 722d 6761 7073   corner air-gaps
-0000a0e0: 3b20 2754 7970 6530 2720 3d20 7369 6e67  ; 'Type0' = sing
-0000a0f0: 6c65 2061 6972 2d67 6170 0a20 2020 2020  le air-gap.     
-0000a100: 2020 206d 756c 745f 6169 725f 6761 705f     mult_air_gap_
-0000a110: 7479 7065 203d 205b 325d 2020 2320 5479  type = [2]  # Ty
-0000a120: 7065 312d 4564 6765 2c20 5479 7065 323a  pe1-Edge, Type2:
-0000a130: 2043 656e 7472 650a 0a20 2020 2020 2020   Centre..       
-0000a140: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
-0000a150: 6574 2e61 7869 732e 636c 6561 7228 290a  et.axis.clear().
-0000a160: 2020 2020 2020 2020 7365 6c66 2e6c 6179          self.lay
-0000a170: 6f75 7420 3d20 5156 426f 784c 6179 6f75  out = QVBoxLayou
-0000a180: 7428 7365 6c66 2e66 656d 5f76 6f6c 5f6c  t(self.fem_vol_l
-0000a190: 6f73 735f 706c 6f74 7769 6467 6574 290a  oss_plotwidget).
-0000a1a0: 2020 2020 2020 2020 7365 6c66 2e6c 6179          self.lay
-0000a1b0: 6f75 742e 6164 6457 6964 6765 7428 6d61  out.addWidget(ma
-0000a1c0: 7470 6c6f 746c 6962 5f77 6964 6765 7429  tplotlib_widget)
-0000a1d0: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
-0000a1e0: 2020 2020 2020 2020 2020 6d61 7470 6c6f            matplo
-0000a1f0: 746c 6962 5f77 6964 6765 742e 6178 6973  tlib_widget.axis
-0000a200: 5f63 6d2e 7265 6d6f 7665 2829 0a20 2020  _cm.remove().   
-0000a210: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
-0000a220: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
-0000a230: 2020 2020 2020 2066 656d 5f64 6972 6563         fem_direc
-0000a240: 746f 7279 203d 2073 656c 662e 4645 4d5f  tory = self.FEM_
-0000a250: 7369 6d5f 776f 726b 696e 675f 6469 725f  sim_working_dir_
-0000a260: 4c69 6e65 4564 6974 2e74 6578 7428 290a  LineEdit.text().
-0000a270: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-0000a280: 2e61 7574 5f73 696d 756c 6174 696f 6e5f  .aut_simulation_
-0000a290: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-0000a2a0: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
-0000a2b0: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-0000a2c0: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-0000a2d0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000a2e0: 6c66 2e61 6420 3d20 4175 746f 6d61 7465  lf.ad = Automate
-0000a2f0: 6444 6573 6967 6e28 776f 726b 696e 675f  dDesign(working_
-0000a300: 6469 7265 6374 6f72 793d 6665 6d5f 6469  directory=fem_di
-0000a310: 7265 6374 6f72 792c 0a20 2020 2020 2020  rectory,.       
-0000a320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a330: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000a340: 6167 6e65 7469 635f 636f 6d70 6f6e 656e  agnetic_componen
-0000a350: 743d 2769 6e64 7563 746f 7227 2c0a 2020  t='inductor',.  
-0000a360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a370: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a380: 2020 2020 7461 7267 6574 5f69 6e64 7563      target_induc
-0000a390: 7461 6e63 653d 676f 616c 5f69 6e64 7563  tance=goal_induc
-0000a3a0: 7461 6e63 652c 0a20 2020 2020 2020 2020  tance,.         
-0000a3b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a3c0: 2020 2020 2020 2020 2020 2020 2066 7265               fre
-0000a3d0: 7175 656e 6379 3d73 656c 662e 6672 6571  quency=self.freq
-0000a3e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000a3f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a400: 2020 2020 2020 2020 7461 7267 6574 5f69          target_i
-0000a410: 6e64 7563 7461 6e63 655f 7065 7263 656e  nductance_percen
-0000a420: 745f 746f 6c65 7261 6e63 653d 4c5f 746f  t_tolerance=L_to
-0000a430: 6c65 7261 6e63 655f 7065 7263 656e 742c  lerance_percent,
-0000a440: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000a450: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a460: 2020 2020 2020 2077 696e 6469 6e67 5f73         winding_s
-0000a470: 6368 656d 653d 7769 6e64 696e 675f 7363  cheme=winding_sc
-0000a480: 6865 6d65 2c0a 2020 2020 2020 2020 2020  heme,.          
-0000a490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a4a0: 2020 2020 2020 2020 2020 2020 7065 616b              peak
-0000a4b0: 5f63 7572 7265 6e74 3d73 656c 662e 695f  _current=self.i_
-0000a4c0: 6d61 782c 0a20 2020 2020 2020 2020 2020  max,.           
-0000a4d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a4e0: 2020 2020 2020 2020 2020 2070 6572 6365             perce
-0000a4f0: 6e74 5f6f 665f 666c 7578 5f64 656e 7369  nt_of_flux_densi
-0000a500: 7479 5f73 6174 7572 6174 696f 6e3d 7065  ty_saturation=pe
-0000a510: 7263 656e 745f 6f66 5f42 5f73 6174 2c0a  rcent_of_B_sat,.
-0000a520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a540: 2020 2020 2020 7065 7263 656e 745f 6f66        percent_of
-0000a550: 5f74 6f74 616c 5f6c 6f73 733d 7065 7263  _total_loss=perc
-0000a560: 656e 745f 6f66 5f74 6f74 616c 5f6c 6f73  ent_of_total_los
-0000a570: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
-0000a580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a590: 2020 2020 2020 2020 2064 6174 6162 6173           databas
-0000a5a0: 655f 636f 7265 5f6e 616d 6573 3d64 625f  e_core_names=db_
-0000a5b0: 636f 7265 5f6e 616d 6573 2c0a 2020 2020  core_names,.    
-0000a5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a5d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a5e0: 2020 6461 7461 6261 7365 5f6c 6974 7a5f    database_litz_
-0000a5f0: 6e61 6d65 733d 6c69 747a 5f6e 616d 6573  names=litz_names
-0000a600: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0000a610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a620: 2020 2020 2020 2020 736f 6c69 645f 636f          solid_co
-0000a630: 6e64 7563 746f 725f 723d 736f 6c69 645f  nductor_r=solid_
-0000a640: 636f 6e64 7563 746f 725f 722c 0a20 2020  conductor_r,.   
-0000a650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a670: 2020 206d 616e 7561 6c5f 636f 7265 5f69     manual_core_i
-0000a680: 6e6e 6572 5f64 6961 6d65 7465 723d 6d61  nner_diameter=ma
-0000a690: 6e75 616c 5f63 6f72 655f 772c 0a20 2020  nual_core_w,.   
-0000a6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a6c0: 2020 206d 616e 7561 6c5f 7769 6e64 6f77     manual_window
-0000a6d0: 5f68 3d6d 616e 7561 6c5f 7769 6e64 6f77  _h=manual_window
-0000a6e0: 5f68 2c0a 2020 2020 2020 2020 2020 2020  _h,.            
-0000a6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a700: 2020 2020 2020 2020 2020 6d61 6e75 616c            manual
-0000a710: 5f77 696e 646f 775f 773d 6d61 6e75 616c  _window_w=manual
-0000a720: 5f77 696e 646f 775f 772c 0a20 2020 2020  _window_w,.     
-0000a730: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a740: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a750: 206e 6f5f 6f66 5f74 7572 6e73 3d6e 6f5f   no_of_turns=no_
-0000a760: 6f66 5f74 7572 6e73 2c0a 2020 2020 2020  of_turns,.      
-0000a770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a790: 6e5f 6169 725f 6761 7073 3d6e 5f61 6972  n_air_gaps=n_air
-0000a7a0: 5f67 6170 732c 0a20 2020 2020 2020 2020  _gaps,.         
-0000a7b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a7c0: 2020 2020 2020 2020 2020 2020 2061 6972               air
-0000a7d0: 5f67 6170 5f68 6569 6768 743d 6169 725f  _gap_height=air_
-0000a7e0: 6761 705f 6865 6967 6874 2c0a 2020 2020  gap_height,.    
-0000a7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a800: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a810: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
-0000a820: 6f6e 3d61 6972 5f67 6170 5f70 6f73 6974  on=air_gap_posit
-0000a830: 696f 6e2c 0a20 2020 2020 2020 2020 2020  ion,.           
-0000a840: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a850: 2020 2020 2020 2020 2020 2063 6f72 655f             core_
-0000a860: 6d61 7465 7269 616c 3d6d 6174 6572 6961  material=materia
-0000a870: 6c5f 6e61 6d65 732c 0a20 2020 2020 2020  l_names,.       
-0000a880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a890: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-0000a8a0: 756c 745f 6169 725f 6761 705f 7479 7065  ult_air_gap_type
-0000a8b0: 3d5b 2763 656e 7465 725f 6469 7374 7269  =['center_distri
-0000a8c0: 6275 7465 6427 5d2c 0a20 2020 2020 2020  buted'],.       
-0000a8d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a8e0: 2020 2020 2020 2020 2020 2020 2020 2074                 t
-0000a8f0: 6f70 5f63 6f72 655f 696e 7375 6c61 7469  op_core_insulati
-0000a900: 6f6e 3d63 6f6d 6d61 5f73 7472 5f74 6f5f  on=comma_str_to_
-0000a910: 706f 696e 745f 666c 6f61 7428 0a20 2020  point_float(.   
-0000a920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a930: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a940: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-0000a950: 6973 6f6c 6174 696f 6e5f 636f 7265 3263  isolation_core2c
-0000a960: 6f6e 645f 746f 705f 6c69 6e65 4564 6974  ond_top_lineEdit
-0000a970: 2e74 6578 7428 2929 2c0a 2020 2020 2020  .text()),.      
-0000a980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a990: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a9a0: 626f 745f 636f 7265 5f69 6e73 756c 6174  bot_core_insulat
-0000a9b0: 696f 6e3d 636f 6d6d 615f 7374 725f 746f  ion=comma_str_to
-0000a9c0: 5f70 6f69 6e74 5f66 6c6f 6174 280a 2020  _point_float(.  
-0000a9d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a9e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000a9f0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-0000aa00: 5f69 736f 6c61 7469 6f6e 5f63 6f72 6532  _isolation_core2
-0000aa10: 636f 6e64 5f62 6f74 5f6c 696e 6545 6469  cond_bot_lineEdi
-0000aa20: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
-0000aa30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aa40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aa50: 206c 6566 745f 636f 7265 5f69 6e73 756c   left_core_insul
-0000aa60: 6174 696f 6e3d 636f 6d6d 615f 7374 725f  ation=comma_str_
-0000aa70: 746f 5f70 6f69 6e74 5f66 6c6f 6174 280a  to_point_float(.
-0000aa80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aa90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aaa0: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-0000aab0: 7574 5f69 736f 6c61 7469 6f6e 5f63 6f72  ut_isolation_cor
-0000aac0: 6532 636f 6e64 5f69 6e6e 6572 5f6c 696e  e2cond_inner_lin
-0000aad0: 6545 6469 742e 7465 7874 2829 292c 0a20  eEdit.text()),. 
-0000aae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000aaf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab00: 2020 2020 2072 6967 6874 5f63 6f72 655f       right_core_
-0000ab10: 696e 7375 6c61 7469 6f6e 3d63 6f6d 6d61  insulation=comma
-0000ab20: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
-0000ab30: 6f61 7428 0a20 2020 2020 2020 2020 2020  oat(.           
-0000ab40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ab50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000ab60: 656c 662e 6175 745f 6973 6f6c 6174 696f  elf.aut_isolatio
-0000ab70: 6e5f 636f 7265 3263 6f6e 645f 6f75 7465  n_core2cond_oute
-0000ab80: 725f 6c69 6e65 4564 6974 2e74 6578 7428  r_lineEdit.text(
-0000ab90: 2929 2c0a 2020 2020 2020 2020 2020 2020  )),.            
+00001920: 2020 2020 2020 2320 6e65 6564 6564 2074        # needed t
+00001930: 6f20 656e 6162 6c65 2074 6865 2069 6e73  o enable the ins
+00001940: 756c 6174 696f 6e0a 2020 2020 2020 2020  ulation.        
+00001950: 7365 6c66 2e65 6e61 626c 655f 696e 7375  self.enable_insu
+00001960: 6c61 7469 6f6e 5f63 6865 636b 626f 782e  lation_checkbox.
+00001970: 7374 6174 6543 6861 6e67 6564 2e63 6f6e  stateChanged.con
+00001980: 6e65 6374 2873 656c 662e 6f6e 5f69 6e73  nect(self.on_ins
+00001990: 756c 6174 696f 6e5f 7374 6174 655f 6368  ulation_state_ch
+000019a0: 616e 6765 6429 0a20 2020 2020 2020 2023  anged).        #
+000019b0: 2049 6e69 7469 616c 697a 6520 666c 6167   Initialize flag
+000019c0: 5f69 6e73 756c 6174 696f 6e20 6261 7365  _insulation base
+000019d0: 6420 6f6e 2074 6865 2063 6865 636b 626f  d on the checkbo
+000019e0: 7827 7320 696e 6974 6961 6c20 7374 6174  x's initial stat
+000019f0: 650a 2020 2020 2020 2020 7365 6c66 2e66  e.        self.f
+00001a00: 6c61 675f 696e 7375 6c61 7469 6f6e 203d  lag_insulation =
+00001a10: 2073 656c 662e 656e 6162 6c65 5f69 6e73   self.enable_ins
+00001a20: 756c 6174 696f 6e5f 6368 6563 6b62 6f78  ulation_checkbox
+00001a30: 2e69 7343 6865 636b 6564 2829 0a0a 2020  .isChecked()..  
+00001a40: 2020 2020 2020 2253 6967 6e61 6c73 2069        "Signals i
+00001a50: 6e20 4578 6369 7461 7469 6f6e 2054 6162  n Excitation Tab
+00001a60: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
+00001a70: 645f 6463 5f63 6865 636b 426f 782e 7374  d_dc_checkBox.st
+00001a80: 6174 6543 6861 6e67 6564 2e63 6f6e 6e65  ateChanged.conne
+00001a90: 6374 2873 656c 662e 6d64 5f64 635f 656e  ct(self.md_dc_en
+00001aa0: 6162 6c65 290a 2020 2020 2020 2020 7365  able).        se
+00001ab0: 6c66 2e6d 645f 666b 315f 6368 6563 6b42  lf.md_fk1_checkB
+00001ac0: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001ad0: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001ae0: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001af0: 6573 5f31 290a 2020 2020 2020 2020 7365  es_1).        se
+00001b00: 6c66 2e6d 645f 666b 325f 6368 6563 6b42  lf.md_fk2_checkB
+00001b10: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001b20: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001b30: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001b40: 6573 5f32 290a 2020 2020 2020 2020 7365  es_2).        se
+00001b50: 6c66 2e6d 645f 666b 335f 6368 6563 6b42  lf.md_fk3_checkB
+00001b60: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001b70: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001b80: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001b90: 6573 5f33 290a 2020 2020 2020 2020 7365  es_3).        se
+00001ba0: 6c66 2e6d 645f 666b 345f 6368 6563 6b42  lf.md_fk4_checkB
+00001bb0: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001bc0: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001bd0: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001be0: 6573 5f34 290a 2020 2020 2020 2020 7365  es_4).        se
+00001bf0: 6c66 2e6d 645f 666b 355f 6368 6563 6b42  lf.md_fk5_checkB
+00001c00: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001c10: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001c20: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001c30: 6573 5f35 290a 2020 2020 2020 2020 7365  es_5).        se
+00001c40: 6c66 2e6d 645f 666b 365f 6368 6563 6b42  lf.md_fk6_checkB
+00001c50: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001c60: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001c70: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001c80: 6573 5f36 290a 2020 2020 2020 2020 7365  es_6).        se
+00001c90: 6c66 2e6d 645f 666b 375f 6368 6563 6b42  lf.md_fk7_checkB
+00001ca0: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001cb0: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001cc0: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001cd0: 6573 5f37 290a 2020 2020 2020 2020 7365  es_7).        se
+00001ce0: 6c66 2e6d 645f 666b 385f 6368 6563 6b42  lf.md_fk8_checkB
+00001cf0: 6f78 2e73 7461 7465 4368 616e 6765 642e  ox.stateChanged.
+00001d00: 636f 6e6e 6563 7428 7365 6c66 2e6d 645f  connect(self.md_
+00001d10: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00001d20: 6573 5f38 290a 2020 2020 2020 2020 7365  es_8).        se
+00001d30: 6c66 2e6d 645f 6578 6369 7461 7469 6f6e  lf.md_excitation
+00001d40: 5f75 7064 6174 655f 6772 6170 685f 4275  _update_graph_Bu
+00001d50: 7474 6f6e 2e63 6c69 636b 6564 2e63 6f6e  tton.clicked.con
+00001d60: 6e65 6374 2873 656c 662e 6d64 5f72 6564  nect(self.md_red
+00001d70: 7261 775f 696e 7075 745f 7369 676e 616c  raw_input_signal
+00001d80: 7329 0a0a 2020 2020 2020 2020 2253 6967  s)..        "Sig
+00001d90: 6e61 6c73 2069 6e20 5369 6d75 6c61 7469  nals in Simulati
+00001da0: 6f6e 2054 6162 220a 2020 2020 2020 2020  on Tab".        
+00001db0: 7365 6c66 2e6d 645f 7369 6d75 6c61 7469  self.md_simulati
+00001dc0: 6f6e 5f51 5075 7368 4275 7474 6f6e 2e63  on_QPushButton.c
+00001dd0: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
+00001de0: 656c 662e 6d64 5f61 6374 696f 6e5f 7275  elf.md_action_ru
+00001df0: 6e5f 7369 6d75 6c61 7469 6f6e 290a 0a20  n_simulation).. 
+00001e00: 2020 2020 2020 2023 2069 6e69 7469 616c         # initial
+00001e10: 697a 6520 6368 6563 6b62 6f78 6573 2e20  ize checkboxes. 
+00001e20: 4e65 6564 2074 6f20 6265 2073 6574 2074  Need to be set t
+00001e30: 6f20 5472 7565 2061 6e64 2074 6865 6e20  o True and then 
+00001e40: 746f 2046 616c 7365 2c20 736f 2072 6570  to False, so rep
+00001e50: 7265 7365 6e74 2061 2063 6861 6e67 6520  resent a change 
+00001e60: 616e 6420 7468 6520 7369 676e 616c 0a20  and the signal. 
+00001e70: 2020 2020 2020 2023 2074 7269 6767 6572         # trigger
+00001e80: 7320 7468 6520 6163 7469 6f6e 2074 6f20  s the action to 
+00001e90: 756e 6368 6563 6b20 616c 6c20 626f 7865  uncheck all boxe
+00001ea0: 730a 2020 2020 2020 2020 7365 6c66 2e6d  s.        self.m
+00001eb0: 645f 6463 5f63 6865 636b 426f 782e 7365  d_dc_checkBox.se
+00001ec0: 7443 6865 636b 6564 2854 7275 6529 0a20  tChecked(True). 
+00001ed0: 2020 2020 2020 2073 656c 662e 6d64 5f66         self.md_f
+00001ee0: 6b31 5f63 6865 636b 426f 782e 7365 7443  k1_checkBox.setC
+00001ef0: 6865 636b 6564 2854 7275 6529 0a20 2020  hecked(True).   
+00001f00: 2020 2020 2073 656c 662e 6d64 5f66 6b32       self.md_fk2
+00001f10: 5f63 6865 636b 426f 782e 7365 7443 6865  _checkBox.setChe
+00001f20: 636b 6564 2854 7275 6529 0a20 2020 2020  cked(True).     
+00001f30: 2020 2073 656c 662e 6d64 5f66 6b33 5f63     self.md_fk3_c
+00001f40: 6865 636b 426f 782e 7365 7443 6865 636b  heckBox.setCheck
+00001f50: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
+00001f60: 2073 656c 662e 6d64 5f66 6b34 5f63 6865   self.md_fk4_che
+00001f70: 636b 426f 782e 7365 7443 6865 636b 6564  ckBox.setChecked
+00001f80: 2854 7275 6529 0a20 2020 2020 2020 2073  (True).        s
+00001f90: 656c 662e 6d64 5f66 6b35 5f63 6865 636b  elf.md_fk5_check
+00001fa0: 426f 782e 7365 7443 6865 636b 6564 2854  Box.setChecked(T
+00001fb0: 7275 6529 0a20 2020 2020 2020 2073 656c  rue).        sel
+00001fc0: 662e 6d64 5f66 6b36 5f63 6865 636b 426f  f.md_fk6_checkBo
+00001fd0: 782e 7365 7443 6865 636b 6564 2854 7275  x.setChecked(Tru
+00001fe0: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+00001ff0: 6d64 5f66 6b37 5f63 6865 636b 426f 782e  md_fk7_checkBox.
+00002000: 7365 7443 6865 636b 6564 2854 7275 6529  setChecked(True)
+00002010: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00002020: 5f66 6b38 5f63 6865 636b 426f 782e 7365  _fk8_checkBox.se
+00002030: 7443 6865 636b 6564 2854 7275 6529 0a20  tChecked(True). 
+00002040: 2020 2020 2020 2023 2073 656c 662e 6d64         # self.md
+00002050: 5f66 6b31 5f63 6865 636b 426f 782e 7365  _fk1_checkBox.se
+00002060: 7443 6865 636b 6564 2846 616c 7365 290a  tChecked(False).
+00002070: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00002080: 6463 5f63 6865 636b 426f 782e 7365 7443  dc_checkBox.setC
+00002090: 6865 636b 6564 2846 616c 7365 290a 2020  hecked(False).  
+000020a0: 2020 2020 2020 7365 6c66 2e6d 645f 666b        self.md_fk
+000020b0: 325f 6368 6563 6b42 6f78 2e73 6574 4368  2_checkBox.setCh
+000020c0: 6563 6b65 6428 4661 6c73 6529 0a20 2020  ecked(False).   
+000020d0: 2020 2020 2073 656c 662e 6d64 5f66 6b33       self.md_fk3
+000020e0: 5f63 6865 636b 426f 782e 7365 7443 6865  _checkBox.setChe
+000020f0: 636b 6564 2846 616c 7365 290a 2020 2020  cked(False).    
+00002100: 2020 2020 7365 6c66 2e6d 645f 666b 345f      self.md_fk4_
+00002110: 6368 6563 6b42 6f78 2e73 6574 4368 6563  checkBox.setChec
+00002120: 6b65 6428 4661 6c73 6529 0a20 2020 2020  ked(False).     
+00002130: 2020 2073 656c 662e 6d64 5f66 6b35 5f63     self.md_fk5_c
+00002140: 6865 636b 426f 782e 7365 7443 6865 636b  heckBox.setCheck
+00002150: 6564 2846 616c 7365 290a 2020 2020 2020  ed(False).      
+00002160: 2020 7365 6c66 2e6d 645f 666b 365f 6368    self.md_fk6_ch
+00002170: 6563 6b42 6f78 2e73 6574 4368 6563 6b65  eckBox.setChecke
+00002180: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
+00002190: 2073 656c 662e 6d64 5f66 6b37 5f63 6865   self.md_fk7_che
+000021a0: 636b 426f 782e 7365 7443 6865 636b 6564  ckBox.setChecked
+000021b0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+000021c0: 7365 6c66 2e6d 645f 666b 385f 6368 6563  self.md_fk8_chec
+000021d0: 6b42 6f78 2e73 6574 4368 6563 6b65 6428  kBox.setChecked(
+000021e0: 4661 6c73 6529 0a0a 2020 2020 2020 2020  False)..        
+000021f0: 2249 6e69 7420 636f 6e74 726f 6c73 220a  "Init controls".
+00002200: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00002210: 696e 6974 6961 6c69 7a65 5f63 6f6e 7472  initialize_contr
+00002220: 6f6c 7328 290a 0a20 2020 2020 2020 2022  ols()..        "
+00002230: 5365 7420 7661 6c69 6461 746f 7273 2069  Set validators i
+00002240: 6e20 4465 6669 6e69 7469 6f6e 2074 6162  n Definition tab
+00002250: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
+00002260: 645f 636f 7265 5f77 6964 7468 5f6c 696e  d_core_width_lin
+00002270: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002280: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002290: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+000022a0: 2e6d 645f 7769 6e64 6f77 5f68 6569 6768  .md_window_heigh
+000022b0: 745f 6c69 6e65 4564 6974 2e73 6574 5661  t_lineEdit.setVa
+000022c0: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+000022d0: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+000022e0: 2073 656c 662e 6d64 5f77 696e 646f 775f   self.md_window_
+000022f0: 7769 6474 685f 6c69 6e65 4564 6974 2e73  width_lineEdit.s
+00002300: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00002310: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+00002320: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00002330: 6469 6e67 315f 7261 6469 7573 5f6c 696e  ding1_radius_lin
+00002340: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002350: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002360: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+00002370: 2e6d 645f 7769 6e64 696e 6731 5f73 7472  .md_winding1_str
+00002380: 616e 6473 5f6c 696e 6545 6469 742e 7365  ands_lineEdit.se
+00002390: 7456 616c 6964 6174 6f72 2869 6e74 5f76  tValidator(int_v
+000023a0: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
+000023b0: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+000023c0: 6731 5f66 696c 6c5f 6661 6374 6f72 5f6c  g1_fill_factor_l
+000023d0: 696e 6545 6469 742e 7365 7456 616c 6964  ineEdit.setValid
+000023e0: 6174 6f72 2866 6c6f 6174 5f76 616c 6964  ator(float_valid
+000023f0: 6174 6f72 290a 2020 2020 2020 2020 7365  ator).        se
+00002400: 6c66 2e6d 645f 7769 6e64 696e 6731 5f73  lf.md_winding1_s
+00002410: 7472 616e 645f 7261 6469 7573 5f6c 696e  trand_radius_lin
+00002420: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002430: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002440: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+00002450: 2e6d 645f 7769 6e64 696e 6732 5f72 6164  .md_winding2_rad
+00002460: 6975 735f 6c69 6e65 4564 6974 2e73 6574  ius_lineEdit.set
+00002470: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+00002480: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
+00002490: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+000024a0: 6e67 325f 7374 7261 6e64 735f 6c69 6e65  ng2_strands_line
+000024b0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
+000024c0: 7228 696e 745f 7661 6c69 6461 746f 7229  r(int_validator)
+000024d0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+000024e0: 5f77 696e 6469 6e67 325f 6669 6c6c 5f66  _winding2_fill_f
+000024f0: 6163 746f 725f 6c69 6e65 4564 6974 2e73  actor_lineEdit.s
+00002500: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00002510: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+00002520: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00002530: 6469 6e67 325f 7374 7261 6e64 5f72 6164  ding2_strand_rad
+00002540: 6975 735f 6c69 6e65 4564 6974 2e73 6574  ius_lineEdit.set
+00002550: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+00002560: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
+00002570: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+00002580: 6e67 315f 7475 726e 735f 6c69 6e65 4564  ng1_turns_lineEd
+00002590: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+000025a0: 696e 745f 7661 6c69 6461 746f 7229 0a20  int_validator). 
+000025b0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+000025c0: 696e 6469 6e67 325f 7475 726e 735f 6c69  inding2_turns_li
+000025d0: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+000025e0: 746f 7228 696e 745f 7661 6c69 6461 746f  tor(int_validato
+000025f0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+00002600: 6d64 5f61 6972 5f67 6170 5f31 5f6c 656e  md_air_gap_1_len
+00002610: 6774 685f 6c69 6e65 4564 6974 2e73 6574  gth_lineEdit.set
+00002620: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+00002630: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
+00002640: 2020 2073 656c 662e 6d64 5f61 6972 5f67     self.md_air_g
+00002650: 6170 5f32 5f6c 656e 6774 685f 6c69 6e65  ap_2_length_line
+00002660: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
+00002670: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
+00002680: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+00002690: 6d64 5f61 6972 5f67 6170 5f33 5f6c 656e  md_air_gap_3_len
+000026a0: 6774 685f 6c69 6e65 4564 6974 2e73 6574  gth_lineEdit.set
+000026b0: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+000026c0: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
+000026d0: 2020 2073 656c 662e 6d64 5f61 6972 5f67     self.md_air_g
+000026e0: 6170 5f34 5f6c 656e 6774 685f 6c69 6e65  ap_4_length_line
+000026f0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
+00002700: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
+00002710: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+00002720: 6d64 5f61 6972 5f67 6170 5f35 5f6c 656e  md_air_gap_5_len
+00002730: 6774 685f 6c69 6e65 4564 6974 2e73 6574  gth_lineEdit.set
+00002740: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+00002750: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
+00002760: 2020 2073 656c 662e 6d64 5f61 6972 5f67     self.md_air_g
+00002770: 6170 5f31 5f70 6f73 6974 696f 6e5f 6c69  ap_1_position_li
+00002780: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+00002790: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+000027a0: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+000027b0: 662e 6d64 5f61 6972 5f67 6170 5f32 5f70  f.md_air_gap_2_p
+000027c0: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
+000027d0: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
+000027e0: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
+000027f0: 2020 2020 2020 2073 656c 662e 6d64 5f61         self.md_a
+00002800: 6972 5f67 6170 5f33 5f70 6f73 6974 696f  ir_gap_3_positio
+00002810: 6e5f 6c69 6e65 4564 6974 2e73 6574 5661  n_lineEdit.setVa
+00002820: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+00002830: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00002840: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
+00002850: 5f34 5f70 6f73 6974 696f 6e5f 6c69 6e65  _4_position_line
+00002860: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
+00002870: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
+00002880: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+00002890: 6d64 5f61 6972 5f67 6170 5f35 5f70 6f73  md_air_gap_5_pos
+000028a0: 6974 696f 6e5f 6c69 6e65 4564 6974 2e73  ition_lineEdit.s
+000028b0: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+000028c0: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+000028d0: 2020 2020 2073 656c 662e 6d64 5f69 736f       self.md_iso
+000028e0: 6c61 7469 6f6e 5f70 3270 5f6c 696e 6545  lation_p2p_lineE
+000028f0: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
+00002900: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
+00002910: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+00002920: 645f 6973 6f6c 6174 696f 6e5f 7032 735f  d_isolation_p2s_
+00002930: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
+00002940: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
+00002950: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
+00002960: 656c 662e 6d64 5f69 736f 6c61 7469 6f6e  elf.md_isolation
+00002970: 5f73 3273 5f6c 696e 6545 6469 742e 7365  _s2s_lineEdit.se
+00002980: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00002990: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+000029a0: 2020 2020 2320 6368 616e 6765 2034 3a20      # change 4: 
+000029b0: 7332 700a 2020 2020 2020 2020 7365 6c66  s2p.        self
+000029c0: 2e6d 645f 6973 6f6c 6174 696f 6e5f 7332  .md_isolation_s2
+000029d0: 705f 6c69 6e65 4564 6974 2e73 6574 5661  p_lineEdit.setVa
+000029e0: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+000029f0: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00002a00: 2073 656c 662e 6d64 5f69 736f 6c61 7469   self.md_isolati
+00002a10: 6f6e 5f63 6f72 6532 636f 6e64 5f74 6f70  on_core2cond_top
+00002a20: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002a30: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002a40: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00002a50: 7365 6c66 2e6d 645f 6973 6f6c 6174 696f  self.md_isolatio
+00002a60: 6e5f 636f 7265 3263 6f6e 645f 626f 745f  n_core2cond_bot_
+00002a70: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
+00002a80: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
+00002a90: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
+00002aa0: 656c 662e 6d64 5f69 736f 6c61 7469 6f6e  elf.md_isolation
+00002ab0: 5f63 6f72 6532 636f 6e64 5f69 6e6e 6572  _core2cond_inner
+00002ac0: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002ad0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002ae0: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00002af0: 7365 6c66 2e6d 645f 6973 6f6c 6174 696f  self.md_isolatio
+00002b00: 6e5f 636f 7265 3263 6f6e 645f 6f75 7465  n_core2cond_oute
+00002b10: 725f 6c69 6e65 4564 6974 2e73 6574 5661  r_lineEdit.setVa
+00002b20: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+00002b30: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00002b40: 2022 5365 7420 5661 6c69 6461 746f 7273   "Set Validators
+00002b50: 2069 6e20 4578 6369 7461 7469 6f6e 2054   in Excitation T
+00002b60: 6162 220a 2020 2020 2020 2020 7365 6c66  ab".        self
+00002b70: 2e6d 645f 7769 6e64 696e 6731 5f69 6463  .md_winding1_idc
+00002b80: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002b90: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002ba0: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00002bb0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+00002bc0: 5f69 6b31 5f6c 696e 6545 6469 742e 7365  _ik1_lineEdit.se
+00002bd0: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00002be0: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00002bf0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+00002c00: 696e 6731 5f69 6b32 5f6c 696e 6545 6469  ing1_ik2_lineEdi
+00002c10: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+00002c20: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+00002c30: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00002c40: 7769 6e64 696e 6731 5f69 6b33 5f6c 696e  winding1_ik3_lin
+00002c50: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002c60: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002c70: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+00002c80: 2e6d 645f 7769 6e64 696e 6731 5f69 6b34  .md_winding1_ik4
+00002c90: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002ca0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002cb0: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00002cc0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+00002cd0: 5f69 6b35 5f6c 696e 6545 6469 742e 7365  _ik5_lineEdit.se
+00002ce0: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00002cf0: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00002d00: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+00002d10: 696e 6731 5f69 6b36 5f6c 696e 6545 6469  ing1_ik6_lineEdi
+00002d20: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+00002d30: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+00002d40: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00002d50: 7769 6e64 696e 6731 5f69 6b37 5f6c 696e  winding1_ik7_lin
+00002d60: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002d70: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002d80: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+00002d90: 2e6d 645f 7769 6e64 696e 6731 5f69 6b38  .md_winding1_ik8
+00002da0: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002db0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002dc0: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00002dd0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+00002de0: 5f70 6b31 5f6c 696e 6545 6469 742e 7365  _pk1_lineEdit.se
+00002df0: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00002e00: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00002e10: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+00002e20: 696e 6731 5f70 6b32 5f6c 696e 6545 6469  ing1_pk2_lineEdi
+00002e30: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+00002e40: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+00002e50: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00002e60: 7769 6e64 696e 6731 5f70 6b33 5f6c 696e  winding1_pk3_lin
+00002e70: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002e80: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002e90: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+00002ea0: 2e6d 645f 7769 6e64 696e 6731 5f70 6b34  .md_winding1_pk4
+00002eb0: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002ec0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002ed0: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00002ee0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+00002ef0: 5f70 6b35 5f6c 696e 6545 6469 742e 7365  _pk5_lineEdit.se
+00002f00: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00002f10: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00002f20: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+00002f30: 696e 6731 5f70 6b36 5f6c 696e 6545 6469  ing1_pk6_lineEdi
+00002f40: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+00002f50: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+00002f60: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00002f70: 7769 6e64 696e 6731 5f70 6b37 5f6c 696e  winding1_pk7_lin
+00002f80: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00002f90: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00002fa0: 6f72 290a 2020 2020 2020 2020 7365 6c66  or).        self
+00002fb0: 2e6d 645f 7769 6e64 696e 6731 5f70 6b38  .md_winding1_pk8
+00002fc0: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00002fd0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00002fe0: 6964 6174 6f72 290a 0a20 2020 2020 2020  idator)..       
+00002ff0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+00003000: 325f 6964 635f 6c69 6e65 4564 6974 2e73  2_idc_lineEdit.s
+00003010: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00003020: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+00003030: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00003040: 6469 6e67 325f 696b 315f 6c69 6e65 4564  ding2_ik1_lineEd
+00003050: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+00003060: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
+00003070: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00003080: 5f77 696e 6469 6e67 325f 696b 325f 6c69  _winding2_ik2_li
+00003090: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+000030a0: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+000030b0: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+000030c0: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
+000030d0: 335f 6c69 6e65 4564 6974 2e73 6574 5661  3_lineEdit.setVa
+000030e0: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+000030f0: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00003100: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+00003110: 325f 696b 345f 6c69 6e65 4564 6974 2e73  2_ik4_lineEdit.s
+00003120: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00003130: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+00003140: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00003150: 6469 6e67 325f 696b 355f 6c69 6e65 4564  ding2_ik5_lineEd
+00003160: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+00003170: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
+00003180: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00003190: 5f77 696e 6469 6e67 325f 696b 365f 6c69  _winding2_ik6_li
+000031a0: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+000031b0: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+000031c0: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+000031d0: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
+000031e0: 375f 6c69 6e65 4564 6974 2e73 6574 5661  7_lineEdit.setVa
+000031f0: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+00003200: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00003210: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+00003220: 325f 696b 385f 6c69 6e65 4564 6974 2e73  2_ik8_lineEdit.s
+00003230: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00003240: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+00003250: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00003260: 6469 6e67 325f 706b 315f 6c69 6e65 4564  ding2_pk1_lineEd
+00003270: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+00003280: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
+00003290: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+000032a0: 5f77 696e 6469 6e67 325f 706b 325f 6c69  _winding2_pk2_li
+000032b0: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+000032c0: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+000032d0: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+000032e0: 662e 6d64 5f77 696e 6469 6e67 325f 706b  f.md_winding2_pk
+000032f0: 335f 6c69 6e65 4564 6974 2e73 6574 5661  3_lineEdit.setVa
+00003300: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+00003310: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00003320: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+00003330: 325f 706b 345f 6c69 6e65 4564 6974 2e73  2_pk4_lineEdit.s
+00003340: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00003350: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+00003360: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00003370: 6469 6e67 325f 706b 355f 6c69 6e65 4564  ding2_pk5_lineEd
+00003380: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+00003390: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
+000033a0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+000033b0: 5f77 696e 6469 6e67 325f 706b 365f 6c69  _winding2_pk6_li
+000033c0: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+000033d0: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+000033e0: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+000033f0: 662e 6d64 5f77 696e 6469 6e67 325f 706b  f.md_winding2_pk
+00003400: 375f 6c69 6e65 4564 6974 2e73 6574 5661  7_lineEdit.setVa
+00003410: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+00003420: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00003430: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+00003440: 325f 706b 385f 6c69 6e65 4564 6974 2e73  2_pk8_lineEdit.s
+00003450: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00003460: 745f 7661 6c69 6461 746f 7229 0a0a 2020  t_validator)..  
+00003470: 2020 2020 2020 7365 6c66 2e6d 645f 6261        self.md_ba
+00003480: 7365 5f66 7265 7175 656e 6379 5f6c 696e  se_frequency_lin
+00003490: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+000034a0: 6f72 2869 6e74 5f76 616c 6964 6174 6f72  or(int_validator
+000034b0: 290a 0a20 2020 2020 2020 2022 5365 7420  )..        "Set 
+000034c0: 546f 6f6c 2054 6970 7320 696e 2044 6566  Tool Tips in Def
+000034d0: 696e 6974 696f 6e20 7461 6222 0a20 2020  inition tab".   
+000034e0: 2020 2020 2073 656c 662e 6d64 5f63 6f72       self.md_cor
+000034f0: 655f 6765 6f6d 6574 7279 5f63 6f6d 626f  e_geometry_combo
+00003500: 426f 782e 7365 7454 6f6f 6c54 6970 280a  Box.setToolTip(.
+00003510: 2020 2020 2020 2020 2020 2020 2243 686f              "Cho
+00003520: 7365 2061 2063 6f72 6520 6765 6f6d 6574  se a core geomet
+00003530: 7279 2066 726f 6d20 7468 6520 6461 7461  ry from the data
+00003540: 6261 7365 2e20 4368 6f73 6520 274d 616e  base. Chose 'Man
+00003550: 7561 6c27 2074 6f20 696e 7365 7274 2061  ual' to insert a
+00003560: 6e79 2070 6172 616d 6574 6572 732e 2229  ny parameters.")
+00003570: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00003580: 5f77 696e 6469 6e67 315f 6c69 747a 5f6d  _winding1_litz_m
+00003590: 6174 6572 6961 6c5f 636f 6d62 6f42 6f78  aterial_comboBox
+000035a0: 2e73 6574 546f 6f6c 5469 7028 0a20 2020  .setToolTip(.   
+000035b0: 2020 2020 2020 2020 2022 4368 6f73 6520           "Chose 
+000035c0: 6120 6c69 747a 2066 726f 6d20 7468 6520  a litz from the 
+000035d0: 6461 7461 6261 7365 2e20 4368 6f73 6520  database. Chose 
+000035e0: 274d 616e 7561 6c27 2074 6f20 696e 7365  'Manual' to inse
+000035f0: 7274 2061 6e79 2070 6172 616d 6574 6572  rt any parameter
+00003600: 7322 290a 2020 2020 2020 2020 7365 6c66  s").        self
+00003610: 2e6d 645f 7769 6e64 696e 6731 5f69 6d70  .md_winding1_imp
+00003620: 6c69 6369 745f 6c69 747a 5f63 6f6d 626f  licit_litz_combo
+00003630: 426f 782e 7365 7454 6f6f 6c54 6970 280a  Box.setToolTip(.
+00003640: 2020 2020 2020 2020 2020 2020 2254 6f20              "To 
+00003650: 6465 7363 7269 6265 2061 2073 7472 616e  describe a stran
+00003660: 642c 2033 2061 7267 756d 656e 7473 2061  d, 3 arguments a
+00003670: 7265 2073 7566 6669 6369 656e 742e 2053  re sufficient. S
+00003680: 656c 6563 7420 6865 7265 2077 6869 6368  elect here which
+00003690: 206f 6620 7468 6520 6172 6775 6d65 6e74   of the argument
+000036a0: 7320 7368 6f75 6c64 206e 6f74 2062 6520  s should not be 
+000036b0: 656e 7465 7265 642e 2229 0a20 2020 2020  entered.").     
+000036c0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+000036d0: 6e67 325f 696d 706c 6963 6974 5f6c 6974  ng2_implicit_lit
+000036e0: 7a5f 636f 6d62 6f42 6f78 2e73 6574 546f  z_comboBox.setTo
+000036f0: 6f6c 5469 7028 0a20 2020 2020 2020 2020  olTip(.         
+00003700: 2020 2022 546f 2064 6573 6372 6962 6520     "To describe 
+00003710: 6120 7374 7261 6e64 2c20 3320 6172 6775  a strand, 3 argu
+00003720: 6d65 6e74 7320 6172 6520 7375 6666 6963  ments are suffic
+00003730: 6965 6e74 2e20 5365 6c65 6374 2068 6572  ient. Select her
+00003740: 6520 7768 6963 6820 6f66 2074 6865 2061  e which of the a
+00003750: 7267 756d 656e 7473 2073 686f 756c 6420  rguments should 
+00003760: 6e6f 7420 6265 2065 6e74 6572 6564 2e22  not be entered."
+00003770: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+00003780: 645f 7769 6e64 696e 6732 5f6c 6974 7a5f  d_winding2_litz_
+00003790: 6d61 7465 7269 616c 5f63 6f6d 626f 426f  material_comboBo
+000037a0: 782e 7365 7454 6f6f 6c54 6970 280a 2020  x.setToolTip(.  
+000037b0: 2020 2020 2020 2020 2020 2243 686f 7365            "Chose
+000037c0: 2061 206c 6974 7a20 6672 6f6d 2074 6865   a litz from the
+000037d0: 2064 6174 6162 6173 652e 2043 686f 7365   database. Chose
+000037e0: 2027 4d61 6e75 616c 2720 746f 2069 6e73   'Manual' to ins
+000037f0: 6572 7420 616e 7920 7061 7261 6d65 7465  ert any paramete
+00003800: 7273 2229 0a0a 2020 2020 2020 2020 2253  rs")..        "S
+00003810: 6574 2054 6f6f 6c20 5469 7073 2069 6e20  et Tool Tips in 
+00003820: 6578 6369 7461 7469 6f6e 2074 6162 220a  excitation tab".
+00003830: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00003840: 7769 6e64 696e 6731 5f69 6463 5f6c 696e  winding1_idc_lin
+00003850: 6545 6469 742e 7365 7454 6f6f 6c54 6970  eEdit.setToolTip
+00003860: 2822 4443 2043 7572 7265 6e74 2229 0a20  ("DC Current"). 
+00003870: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+00003880: 696e 6469 6e67 315f 696b 315f 6c69 6e65  inding1_ik1_line
+00003890: 4564 6974 2e73 6574 546f 6f6c 5469 7028  Edit.setToolTip(
+000038a0: 2241 6d70 6c69 7475 6465 2062 6173 6520  "Amplitude base 
+000038b0: 6672 6571 7565 6e63 7922 290a 2020 2020  frequency").    
+000038c0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+000038d0: 696e 6731 5f69 6b32 5f6c 696e 6545 6469  ing1_ik2_lineEdi
+000038e0: 742e 7365 7454 6f6f 6c54 6970 2822 416d  t.setToolTip("Am
+000038f0: 706c 6974 7564 6520 3220 2a20 6261 7365  plitude 2 * base
+00003900: 2066 7265 7175 656e 6379 2229 0a20 2020   frequency").   
+00003910: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00003920: 6469 6e67 315f 696b 335f 6c69 6e65 4564  ding1_ik3_lineEd
+00003930: 6974 2e73 6574 546f 6f6c 5469 7028 2241  it.setToolTip("A
+00003940: 6d70 6c69 7475 6465 2033 202a 2062 6173  mplitude 3 * bas
+00003950: 6520 6672 6571 7565 6e63 7922 290a 2020  e frequency").  
+00003960: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+00003970: 6e64 696e 6731 5f69 6b34 5f6c 696e 6545  nding1_ik4_lineE
+00003980: 6469 742e 7365 7454 6f6f 6c54 6970 2822  dit.setToolTip("
+00003990: 416d 706c 6974 7564 6520 3420 2a20 6261  Amplitude 4 * ba
+000039a0: 7365 2066 7265 7175 656e 6379 2229 0a20  se frequency"). 
+000039b0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+000039c0: 696e 6469 6e67 315f 696b 355f 6c69 6e65  inding1_ik5_line
+000039d0: 4564 6974 2e73 6574 546f 6f6c 5469 7028  Edit.setToolTip(
+000039e0: 2241 6d70 6c69 7475 6465 2035 202a 2062  "Amplitude 5 * b
+000039f0: 6173 6520 6672 6571 7565 6e63 7922 290a  ase frequency").
+00003a00: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00003a10: 7769 6e64 696e 6731 5f69 6b36 5f6c 696e  winding1_ik6_lin
+00003a20: 6545 6469 742e 7365 7454 6f6f 6c54 6970  eEdit.setToolTip
+00003a30: 2822 416d 706c 6974 7564 6520 3620 2a20  ("Amplitude 6 * 
+00003a40: 6261 7365 2066 7265 7175 656e 6379 2229  base frequency")
+00003a50: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00003a60: 5f77 696e 6469 6e67 315f 696b 375f 6c69  _winding1_ik7_li
+00003a70: 6e65 4564 6974 2e73 6574 546f 6f6c 5469  neEdit.setToolTi
+00003a80: 7028 2241 6d70 6c69 7475 6465 2037 202a  p("Amplitude 7 *
+00003a90: 2062 6173 6520 6672 6571 7565 6e63 7922   base frequency"
+00003aa0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+00003ab0: 645f 7769 6e64 696e 6731 5f69 6b38 5f6c  d_winding1_ik8_l
+00003ac0: 696e 6545 6469 742e 7365 7454 6f6f 6c54  ineEdit.setToolT
+00003ad0: 6970 2822 416d 706c 6974 7564 6520 3820  ip("Amplitude 8 
+00003ae0: 2a20 6261 7365 2066 7265 7175 656e 6379  * base frequency
+00003af0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00003b00: 6d64 5f77 696e 6469 6e67 315f 706b 315f  md_winding1_pk1_
+00003b10: 6c69 6e65 4564 6974 2e73 6574 546f 6f6c  lineEdit.setTool
+00003b20: 5469 7028 2250 6861 7365 2066 6f72 2062  Tip("Phase for b
+00003b30: 6173 6520 6672 6571 7565 6e63 7922 290a  ase frequency").
+00003b40: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00003b50: 7769 6e64 696e 6731 5f70 6b32 5f6c 696e  winding1_pk2_lin
+00003b60: 6545 6469 742e 7365 7454 6f6f 6c54 6970  eEdit.setToolTip
+00003b70: 2822 5068 6173 6520 666f 7220 3220 2a20  ("Phase for 2 * 
+00003b80: 6261 7365 2066 7265 7175 656e 6379 2229  base frequency")
+00003b90: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00003ba0: 5f77 696e 6469 6e67 315f 706b 335f 6c69  _winding1_pk3_li
+00003bb0: 6e65 4564 6974 2e73 6574 546f 6f6c 5469  neEdit.setToolTi
+00003bc0: 7028 2250 6861 7365 2066 6f72 2033 202a  p("Phase for 3 *
+00003bd0: 2062 6173 6520 6672 6571 7565 6e63 7922   base frequency"
+00003be0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+00003bf0: 645f 7769 6e64 696e 6731 5f70 6b34 5f6c  d_winding1_pk4_l
+00003c00: 696e 6545 6469 742e 7365 7454 6f6f 6c54  ineEdit.setToolT
+00003c10: 6970 2822 5068 6173 6520 666f 7220 3420  ip("Phase for 4 
+00003c20: 2a20 6261 7365 2066 7265 7175 656e 6379  * base frequency
+00003c30: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00003c40: 6d64 5f77 696e 6469 6e67 315f 706b 355f  md_winding1_pk5_
+00003c50: 6c69 6e65 4564 6974 2e73 6574 546f 6f6c  lineEdit.setTool
+00003c60: 5469 7028 2250 6861 7365 2066 6f72 2035  Tip("Phase for 5
+00003c70: 202a 2062 6173 6520 6672 6571 7565 6e63   * base frequenc
+00003c80: 7922 290a 2020 2020 2020 2020 7365 6c66  y").        self
+00003c90: 2e6d 645f 7769 6e64 696e 6731 5f70 6b36  .md_winding1_pk6
+00003ca0: 5f6c 696e 6545 6469 742e 7365 7454 6f6f  _lineEdit.setToo
+00003cb0: 6c54 6970 2822 5068 6173 6520 666f 7220  lTip("Phase for 
+00003cc0: 3620 2a20 6261 7365 2066 7265 7175 656e  6 * base frequen
+00003cd0: 6379 2229 0a20 2020 2020 2020 2073 656c  cy").        sel
+00003ce0: 662e 6d64 5f77 696e 6469 6e67 315f 706b  f.md_winding1_pk
+00003cf0: 375f 6c69 6e65 4564 6974 2e73 6574 546f  7_lineEdit.setTo
+00003d00: 6f6c 5469 7028 2250 6861 7365 2066 6f72  olTip("Phase for
+00003d10: 2037 202a 2062 6173 6520 6672 6571 7565   7 * base freque
+00003d20: 6e63 7922 290a 2020 2020 2020 2020 7365  ncy").        se
+00003d30: 6c66 2e6d 645f 7769 6e64 696e 6731 5f70  lf.md_winding1_p
+00003d40: 6b38 5f6c 696e 6545 6469 742e 7365 7454  k8_lineEdit.setT
+00003d50: 6f6f 6c54 6970 2822 5068 6173 6520 666f  oolTip("Phase fo
+00003d60: 7220 3820 2a20 6261 7365 2066 7265 7175  r 8 * base frequ
+00003d70: 656e 6379 2229 0a0a 2020 2020 2020 2020  ency")..        
+00003d80: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+00003d90: 5f69 6463 5f6c 696e 6545 6469 742e 7365  _idc_lineEdit.se
+00003da0: 7454 6f6f 6c54 6970 2822 4443 2043 7572  tToolTip("DC Cur
+00003db0: 7265 6e74 2229 0a20 2020 2020 2020 2073  rent").        s
+00003dc0: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+00003dd0: 696b 315f 6c69 6e65 4564 6974 2e73 6574  ik1_lineEdit.set
+00003de0: 546f 6f6c 5469 7028 2241 6d70 6c69 7475  ToolTip("Amplitu
+00003df0: 6465 2062 6173 6520 6672 6571 7565 6e63  de base frequenc
+00003e00: 7922 290a 2020 2020 2020 2020 7365 6c66  y").        self
+00003e10: 2e6d 645f 7769 6e64 696e 6732 5f69 6b32  .md_winding2_ik2
+00003e20: 5f6c 696e 6545 6469 742e 7365 7454 6f6f  _lineEdit.setToo
+00003e30: 6c54 6970 2822 416d 706c 6974 7564 6520  lTip("Amplitude 
+00003e40: 3220 2a20 6261 7365 2066 7265 7175 656e  2 * base frequen
+00003e50: 6379 2229 0a20 2020 2020 2020 2073 656c  cy").        sel
+00003e60: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
+00003e70: 335f 6c69 6e65 4564 6974 2e73 6574 546f  3_lineEdit.setTo
+00003e80: 6f6c 5469 7028 2241 6d70 6c69 7475 6465  olTip("Amplitude
+00003e90: 2033 202a 2062 6173 6520 6672 6571 7565   3 * base freque
+00003ea0: 6e63 7922 290a 2020 2020 2020 2020 7365  ncy").        se
+00003eb0: 6c66 2e6d 645f 7769 6e64 696e 6732 5f69  lf.md_winding2_i
+00003ec0: 6b34 5f6c 696e 6545 6469 742e 7365 7454  k4_lineEdit.setT
+00003ed0: 6f6f 6c54 6970 2822 416d 706c 6974 7564  oolTip("Amplitud
+00003ee0: 6520 3420 2a20 6261 7365 2066 7265 7175  e 4 * base frequ
+00003ef0: 656e 6379 2229 0a20 2020 2020 2020 2073  ency").        s
+00003f00: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+00003f10: 696b 355f 6c69 6e65 4564 6974 2e73 6574  ik5_lineEdit.set
+00003f20: 546f 6f6c 5469 7028 2241 6d70 6c69 7475  ToolTip("Amplitu
+00003f30: 6465 2035 202a 2062 6173 6520 6672 6571  de 5 * base freq
+00003f40: 7565 6e63 7922 290a 2020 2020 2020 2020  uency").        
+00003f50: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+00003f60: 5f69 6b36 5f6c 696e 6545 6469 742e 7365  _ik6_lineEdit.se
+00003f70: 7454 6f6f 6c54 6970 2822 416d 706c 6974  tToolTip("Amplit
+00003f80: 7564 6520 3620 2a20 6261 7365 2066 7265  ude 6 * base fre
+00003f90: 7175 656e 6379 2229 0a20 2020 2020 2020  quency").       
+00003fa0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+00003fb0: 325f 696b 375f 6c69 6e65 4564 6974 2e73  2_ik7_lineEdit.s
+00003fc0: 6574 546f 6f6c 5469 7028 2241 6d70 6c69  etToolTip("Ampli
+00003fd0: 7475 6465 2037 202a 2062 6173 6520 6672  tude 7 * base fr
+00003fe0: 6571 7565 6e63 7922 290a 2020 2020 2020  equency").      
+00003ff0: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+00004000: 6732 5f69 6b38 5f6c 696e 6545 6469 742e  g2_ik8_lineEdit.
+00004010: 7365 7454 6f6f 6c54 6970 2822 416d 706c  setToolTip("Ampl
+00004020: 6974 7564 6520 3820 2a20 6261 7365 2066  itude 8 * base f
+00004030: 7265 7175 656e 6379 2229 0a20 2020 2020  requency").     
+00004040: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+00004050: 6e67 325f 706b 315f 6c69 6e65 4564 6974  ng2_pk1_lineEdit
+00004060: 2e73 6574 546f 6f6c 5469 7028 2250 6861  .setToolTip("Pha
+00004070: 7365 2066 6f72 2062 6173 6520 6672 6571  se for base freq
+00004080: 7565 6e63 7922 290a 2020 2020 2020 2020  uency").        
+00004090: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+000040a0: 5f70 6b32 5f6c 696e 6545 6469 742e 7365  _pk2_lineEdit.se
+000040b0: 7454 6f6f 6c54 6970 2822 5068 6173 6520  tToolTip("Phase 
+000040c0: 666f 7220 3220 2a20 6261 7365 2066 7265  for 2 * base fre
+000040d0: 7175 656e 6379 2229 0a20 2020 2020 2020  quency").       
+000040e0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+000040f0: 325f 706b 335f 6c69 6e65 4564 6974 2e73  2_pk3_lineEdit.s
+00004100: 6574 546f 6f6c 5469 7028 2250 6861 7365  etToolTip("Phase
+00004110: 2066 6f72 2033 202a 2062 6173 6520 6672   for 3 * base fr
+00004120: 6571 7565 6e63 7922 290a 2020 2020 2020  equency").      
+00004130: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+00004140: 6732 5f70 6b34 5f6c 696e 6545 6469 742e  g2_pk4_lineEdit.
+00004150: 7365 7454 6f6f 6c54 6970 2822 5068 6173  setToolTip("Phas
+00004160: 6520 666f 7220 3420 2a20 6261 7365 2066  e for 4 * base f
+00004170: 7265 7175 656e 6379 2229 0a20 2020 2020  requency").     
+00004180: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+00004190: 6e67 325f 706b 355f 6c69 6e65 4564 6974  ng2_pk5_lineEdit
+000041a0: 2e73 6574 546f 6f6c 5469 7028 2250 6861  .setToolTip("Pha
+000041b0: 7365 2066 6f72 2035 202a 2062 6173 6520  se for 5 * base 
+000041c0: 6672 6571 7565 6e63 7922 290a 2020 2020  frequency").    
+000041d0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+000041e0: 696e 6732 5f70 6b36 5f6c 696e 6545 6469  ing2_pk6_lineEdi
+000041f0: 742e 7365 7454 6f6f 6c54 6970 2822 5068  t.setToolTip("Ph
+00004200: 6173 6520 666f 7220 3620 2a20 6261 7365  ase for 6 * base
+00004210: 2066 7265 7175 656e 6379 2229 0a20 2020   frequency").   
+00004220: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+00004230: 6469 6e67 325f 706b 375f 6c69 6e65 4564  ding2_pk7_lineEd
+00004240: 6974 2e73 6574 546f 6f6c 5469 7028 2250  it.setToolTip("P
+00004250: 6861 7365 2066 6f72 2037 202a 2062 6173  hase for 7 * bas
+00004260: 6520 6672 6571 7565 6e63 7922 290a 2020  e frequency").  
+00004270: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+00004280: 6e64 696e 6732 5f70 6b38 5f6c 696e 6545  nding2_pk8_lineE
+00004290: 6469 742e 7365 7454 6f6f 6c54 6970 2822  dit.setToolTip("
+000042a0: 5068 6173 6520 666f 7220 3820 2a20 6261  Phase for 8 * ba
+000042b0: 7365 2066 7265 7175 656e 6379 2229 0a0a  se frequency")..
+000042c0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+000042d0: 6463 5f63 6865 636b 426f 782e 7365 7454  dc_checkBox.setT
+000042e0: 6f6f 6c54 6970 2822 456e 6162 6c65 2f44  oolTip("Enable/D
+000042f0: 6973 6162 6c65 2044 4320 6375 7272 656e  isable DC curren
+00004300: 7422 290a 2020 2020 2020 2020 7365 6c66  t").        self
+00004310: 2e6d 645f 666b 315f 6368 6563 6b42 6f78  .md_fk1_checkBox
+00004320: 2e73 6574 546f 6f6c 5469 7028 2245 6e61  .setToolTip("Ena
+00004330: 626c 652f 4469 7361 626c 6520 6261 7365  ble/Disable base
+00004340: 2066 7265 7175 656e 6379 2229 0a20 2020   frequency").   
+00004350: 2020 2020 2073 656c 662e 6d64 5f66 6b32       self.md_fk2
+00004360: 5f63 6865 636b 426f 782e 7365 7454 6f6f  _checkBox.setToo
+00004370: 6c54 6970 2822 456e 6162 6c65 2f44 6973  lTip("Enable/Dis
+00004380: 6162 6c65 2032 202a 2062 6173 6520 6672  able 2 * base fr
+00004390: 6571 7565 6e63 7922 290a 2020 2020 2020  equency").      
+000043a0: 2020 7365 6c66 2e6d 645f 666b 335f 6368    self.md_fk3_ch
+000043b0: 6563 6b42 6f78 2e73 6574 546f 6f6c 5469  eckBox.setToolTi
+000043c0: 7028 2245 6e61 626c 652f 4469 7361 626c  p("Enable/Disabl
+000043d0: 6520 3320 2a20 6261 7365 2066 7265 7175  e 3 * base frequ
+000043e0: 656e 6379 2229 0a20 2020 2020 2020 2073  ency").        s
+000043f0: 656c 662e 6d64 5f66 6b34 5f63 6865 636b  elf.md_fk4_check
+00004400: 426f 782e 7365 7454 6f6f 6c54 6970 2822  Box.setToolTip("
+00004410: 456e 6162 6c65 2f44 6973 6162 6c65 2034  Enable/Disable 4
+00004420: 202a 2062 6173 6520 6672 6571 7565 6e63   * base frequenc
+00004430: 7922 290a 2020 2020 2020 2020 7365 6c66  y").        self
+00004440: 2e6d 645f 666b 355f 6368 6563 6b42 6f78  .md_fk5_checkBox
+00004450: 2e73 6574 546f 6f6c 5469 7028 2245 6e61  .setToolTip("Ena
+00004460: 626c 652f 4469 7361 626c 6520 3520 2a20  ble/Disable 5 * 
+00004470: 6261 7365 2066 7265 7175 656e 6379 2229  base frequency")
+00004480: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+00004490: 5f66 6b36 5f63 6865 636b 426f 782e 7365  _fk6_checkBox.se
+000044a0: 7454 6f6f 6c54 6970 2822 456e 6162 6c65  tToolTip("Enable
+000044b0: 2f44 6973 6162 6c65 2036 202a 2062 6173  /Disable 6 * bas
+000044c0: 6520 6672 6571 7565 6e63 7922 290a 2020  e frequency").  
+000044d0: 2020 2020 2020 7365 6c66 2e6d 645f 666b        self.md_fk
+000044e0: 375f 6368 6563 6b42 6f78 2e73 6574 546f  7_checkBox.setTo
+000044f0: 6f6c 5469 7028 2245 6e61 626c 652f 4469  olTip("Enable/Di
+00004500: 7361 626c 6520 3720 2a20 6261 7365 2066  sable 7 * base f
+00004510: 7265 7175 656e 6379 2229 0a20 2020 2020  requency").     
+00004520: 2020 2073 656c 662e 6d64 5f66 6b38 5f63     self.md_fk8_c
+00004530: 6865 636b 426f 782e 7365 7454 6f6f 6c54  heckBox.setToolT
+00004540: 6970 2822 456e 6162 6c65 2f44 6973 6162  ip("Enable/Disab
+00004550: 6c65 2038 202a 2062 6173 6520 6672 6571  le 8 * base freq
+00004560: 7565 6e63 7922 290a 0a20 2020 2020 2020  uency")..       
+00004570: 2022 5369 676e 616c 7320 696e 2054 6865   "Signals in The
+00004580: 726d 616c 2073 696d 756c 6174 696f 6e20  rmal simulation 
+00004590: 5461 6222 0a20 2020 2020 2020 2073 656c  Tab".        sel
+000045a0: 662e 6d64 5f74 6865 726d 5f73 696d 756c  f.md_therm_simul
+000045b0: 6174 696f 6e5f 5150 7573 6842 7574 746f  ation_QPushButto
+000045c0: 6e2e 636c 6963 6b65 642e 636f 6e6e 6563  n.clicked.connec
+000045d0: 7428 7365 6c66 2e74 6865 726d 5f73 696d  t(self.therm_sim
+000045e0: 756c 6174 696f 6e29 0a0a 2020 2020 2020  ulation)..      
+000045f0: 2020 222a 2a2a 2a2a 2a2a 2041 7574 6f6d    "******* Autom
+00004600: 6174 6564 2044 6573 6967 6e20 2a2a 2a2a  ated Design ****
+00004610: 2a2a 2a2a 2a22 0a0a 2020 2020 2020 2020  *****"..        
+00004620: 2241 6464 696e 6720 6f70 7469 6f6e 7322  "Adding options"
+00004630: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00004640: 745f 696e 6974 6961 6c69 7a65 5f63 6f6e  t_initialize_con
+00004650: 7472 6f6c 7328 290a 0a20 2020 2020 2020  trols()..       
+00004660: 2022 5369 676e 616c 7320 696e 2044 6566   "Signals in Def
+00004670: 696e 6974 696f 6e20 5461 6222 0a20 2020  inition Tab".   
+00004680: 2020 2020 2069 6620 7365 6c66 2e61 7574       if self.aut
+00004690: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
+000046a0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+000046b0: 7454 6578 7428 2920 3d3d 2073 656c 662e  tText() == self.
+000046c0: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+000046d0: 5b27 696e 6475 6374 6f72 275d 3a0a 2020  ['inductor']:.  
+000046e0: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
+000046f0: 7574 5f77 696e 6469 6e67 325f 656e 6162  ut_winding2_enab
+00004700: 6c65 2846 616c 7365 290a 2020 2020 2020  le(False).      
+00004710: 2020 7365 6c66 2e61 7574 5f73 696d 756c    self.aut_simul
+00004720: 6174 696f 6e5f 7479 7065 5f63 6f6d 626f  ation_type_combo
+00004730: 426f 782e 6375 7272 656e 7454 6578 7443  Box.currentTextC
+00004740: 6861 6e67 6564 2e63 6f6e 6e65 6374 2873  hanged.connect(s
+00004750: 656c 662e 6175 745f 6368 616e 6765 5f73  elf.aut_change_s
+00004760: 696d 756c 6174 696f 6e5f 7479 7065 290a  imulation_type).
+00004770: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00004780: 5f63 6f72 655f 6d61 7465 7269 616c 5f64  _core_material_d
+00004790: 6174 615f 6c69 7374 5769 6467 6574 2e61  ata_listWidget.a
+000047a0: 6464 4974 656d 2822 4e39 3522 290a 2020  ddItem("N95").  
+000047b0: 2020 2020 2020 7365 6c66 2e61 7574 5f63        self.aut_c
+000047c0: 6f72 655f 6d61 7465 7269 616c 5f64 6174  ore_material_dat
+000047d0: 615f 6c69 7374 5769 6467 6574 2e61 6464  a_listWidget.add
+000047e0: 4974 656d 2822 4e38 3722 290a 2020 2020  Item("N87").    
+000047f0: 2020 2020 7365 6c66 2e61 7574 5f63 6f72      self.aut_cor
+00004800: 655f 6d61 7465 7269 616c 5f64 6174 615f  e_material_data_
+00004810: 6c69 7374 5769 6467 6574 2e61 6464 4974  listWidget.addIt
+00004820: 656d 2822 4e34 3922 290a 0a20 2020 2020  em("N49")..     
+00004830: 2020 2073 656c 662e 6175 745f 6c69 747a     self.aut_litz
+00004840: 5f64 6174 615f 6c69 7374 5769 6467 6574  _data_listWidget
+00004850: 2e61 6464 4974 656d 2822 312e 3578 3130  .addItem("1.5x10
+00004860: 3578 302e 3122 290a 2020 2020 2020 2020  5x0.1").        
+00004870: 7365 6c66 2e61 7574 5f6c 6974 7a5f 6461  self.aut_litz_da
+00004880: 7461 5f6c 6973 7457 6964 6765 742e 6164  ta_listWidget.ad
+00004890: 6449 7465 6d28 2231 2e34 7832 3030 7830  dItem("1.4x200x0
+000048a0: 2e30 3731 2229 0a20 2020 2020 2020 2073  .071").        s
+000048b0: 656c 662e 6175 745f 6c69 747a 5f64 6174  elf.aut_litz_dat
+000048c0: 615f 6c69 7374 5769 6467 6574 2e61 6464  a_listWidget.add
+000048d0: 4974 656d 2822 322e 3078 3430 3578 302e  Item("2.0x405x0.
+000048e0: 3037 3122 290a 2020 2020 2020 2020 7365  071").        se
+000048f0: 6c66 2e61 7574 5f6c 6974 7a5f 6461 7461  lf.aut_litz_data
+00004900: 5f6c 6973 7457 6964 6765 742e 6164 6449  _listWidget.addI
+00004910: 7465 6d28 2232 2e30 7838 3030 7830 2e30  tem("2.0x800x0.0
+00004920: 3522 290a 0a20 2020 2020 2020 2073 656c  5")..        sel
+00004930: 662e 6175 745f 6c69 747a 325f 6461 7461  f.aut_litz2_data
+00004940: 5f6c 6973 7457 6964 6765 742e 6164 6449  _listWidget.addI
+00004950: 7465 6d28 2231 2e35 7831 3035 7830 2e31  tem("1.5x105x0.1
+00004960: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+00004970: 6175 745f 6c69 747a 325f 6461 7461 5f6c  aut_litz2_data_l
+00004980: 6973 7457 6964 6765 742e 6164 6449 7465  istWidget.addIte
+00004990: 6d28 2231 2e34 7832 3030 7830 2e30 3731  m("1.4x200x0.071
+000049a0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+000049b0: 6175 745f 6c69 747a 325f 6461 7461 5f6c  aut_litz2_data_l
+000049c0: 6973 7457 6964 6765 742e 6164 6449 7465  istWidget.addIte
+000049d0: 6d28 2232 2e30 7834 3035 7830 2e30 3731  m("2.0x405x0.071
+000049e0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
+000049f0: 6175 745f 6c69 747a 325f 6461 7461 5f6c  aut_litz2_data_l
+00004a00: 6973 7457 6964 6765 742e 6164 6449 7465  istWidget.addIte
+00004a10: 6d28 2232 2e30 7838 3030 7830 2e30 3522  m("2.0x800x0.05"
+00004a20: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+00004a30: 6175 745f 6169 7267 6170 5f74 7970 655f  aut_airgap_type_
+00004a40: 6c69 7374 5769 6467 6574 2e61 6464 4974  listWidget.addIt
+00004a50: 656d 2822 4564 6765 2064 6973 7472 6962  em("Edge distrib
+00004a60: 7574 6564 2229 0a20 2020 2020 2020 2073  uted").        s
+00004a70: 656c 662e 6175 745f 6169 7267 6170 5f74  elf.aut_airgap_t
+00004a80: 7970 655f 6c69 7374 5769 6467 6574 2e61  ype_listWidget.a
+00004a90: 6464 4974 656d 2822 4365 6e74 7265 2064  ddItem("Centre d
+00004aa0: 6973 7472 6962 7574 6564 2229 0a0a 2020  istributed")..  
+00004ab0: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
+00004ac0: 696e 6469 6e67 315f 7479 7065 5f63 6f6d  inding1_type_com
+00004ad0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+00004ae0: 7443 6861 6e67 6564 2e63 6f6e 6e65 6374  tChanged.connect
+00004af0: 2873 656c 662e 6175 745f 7769 6e64 696e  (self.aut_windin
+00004b00: 6731 5f63 6861 6e67 655f 7769 7265 5f74  g1_change_wire_t
+00004b10: 7970 6529 0a0a 2020 2020 2020 2020 7365  ype)..        se
+00004b20: 6c66 2e61 7574 5f63 6f72 655f 6765 6f5f  lf.aut_core_geo_
+00004b30: 6164 645f 7075 7368 4275 7474 6f6e 2e63  add_pushButton.c
+00004b40: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
+00004b50: 656c 662e 6f6e 6367 656f 4d75 6c74 6970  elf.oncgeoMultip
+00004b60: 6c65 436c 6963 6b65 6429 0a20 2020 2020  leClicked).     
+00004b70: 2020 2073 656c 662e 6175 745f 636f 7265     self.aut_core
+00004b80: 5f67 656f 5f6d 616e 7561 6c5f 6164 645f  _geo_manual_add_
+00004b90: 7075 7368 4275 7474 6f6e 2e63 6c69 636b  pushButton.click
+00004ba0: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
+00004bb0: 6f6e 6367 656f 6d61 6e75 616c 4d75 6c74  oncgeomanualMult
+00004bc0: 6970 6c65 436c 6963 6b65 6429 0a20 2020  ipleClicked).   
+00004bd0: 2020 2020 2073 656c 662e 6175 745f 7365       self.aut_se
+00004be0: 6c65 6374 5f61 6c6c 5f63 6f72 655f 6765  lect_all_core_ge
+00004bf0: 6f5f 7075 7368 4275 7474 6f6e 2e63 6c69  o_pushButton.cli
+00004c00: 636b 6564 2e63 6f6e 6e65 6374 2873 656c  cked.connect(sel
+00004c10: 662e 6367 656f 7365 6c65 6374 616c 6c29  f.cgeoselectall)
+00004c20: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00004c30: 745f 636f 7265 5f67 656f 6d65 7472 795f  t_core_geometry_
+00004c40: 6c69 7374 5769 6467 6574 2e69 7465 6d44  listWidget.itemD
+00004c50: 6f75 626c 6543 6c69 636b 6564 2e63 6f6e  oubleClicked.con
+00004c60: 6e65 6374 2873 656c 662e 6f6e 6367 656f  nect(self.oncgeo
+00004c70: 436c 6963 6b65 6429 0a20 2020 2020 2020  Clicked).       
+00004c80: 2073 656c 662e 6175 745f 636f 7265 5f67   self.aut_core_g
+00004c90: 656f 5f62 6173 6b65 745f 636c 6561 725f  eo_basket_clear_
+00004ca0: 616c 6c5f 7075 7368 6275 7474 6f6e 2e63  all_pushbutton.c
+00004cb0: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
+00004cc0: 656c 662e 6f6e 6367 656f 436c 6561 7261  elf.oncgeoCleara
+00004cd0: 6c6c 436c 6963 6b65 6429 0a20 2020 2020  llClicked).     
+00004ce0: 2020 2073 656c 662e 6175 745f 636f 7265     self.aut_core
+00004cf0: 5f67 656f 5f62 6173 6b65 745f 636c 6561  _geo_basket_clea
+00004d00: 725f 7075 7368 6275 7474 6f6e 2e63 6c69  r_pushbutton.cli
+00004d10: 636b 6564 2e63 6f6e 6e65 6374 2873 656c  cked.connect(sel
+00004d20: 662e 6f6e 6367 656f 436c 6561 7243 6c69  f.oncgeoClearCli
+00004d30: 636b 6564 290a 0a20 2020 2020 2020 2073  cked)..        s
+00004d40: 656c 662e 6175 745f 636f 7265 5f6d 6174  elf.aut_core_mat
+00004d50: 6572 6961 6c5f 6164 645f 7075 7368 4275  erial_add_pushBu
+00004d60: 7474 6f6e 2e63 6c69 636b 6564 2e63 6f6e  tton.clicked.con
+00004d70: 6e65 6374 2873 656c 662e 6f6e 636d 6174  nect(self.oncmat
+00004d80: 4d75 6c74 6970 6c65 436c 6963 6b65 6429  MultipleClicked)
+00004d90: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00004da0: 745f 7365 6c65 6374 5f61 6c6c 5f63 6f72  t_select_all_cor
+00004db0: 655f 6d61 745f 7075 7368 4275 7474 6f6e  e_mat_pushButton
+00004dc0: 2e63 6c69 636b 6564 2e63 6f6e 6e65 6374  .clicked.connect
+00004dd0: 2873 656c 662e 636d 6174 7365 6c65 6374  (self.cmatselect
+00004de0: 616c 6c29 0a20 2020 2020 2020 2073 656c  all).        sel
+00004df0: 662e 6175 745f 636f 7265 5f6d 6174 6572  f.aut_core_mater
+00004e00: 6961 6c5f 6461 7461 5f6c 6973 7457 6964  ial_data_listWid
+00004e10: 6765 742e 6974 656d 446f 7562 6c65 436c  get.itemDoubleCl
+00004e20: 6963 6b65 642e 636f 6e6e 6563 7428 7365  icked.connect(se
+00004e30: 6c66 2e6f 6e63 6d61 7443 6c69 636b 6564  lf.oncmatClicked
+00004e40: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
+00004e50: 7574 5f63 6f72 655f 6d61 745f 6261 736b  ut_core_mat_bask
+00004e60: 6574 5f63 6c65 6172 5f61 6c6c 5f70 7573  et_clear_all_pus
+00004e70: 6862 7574 746f 6e2e 636c 6963 6b65 642e  hbutton.clicked.
+00004e80: 636f 6e6e 6563 7428 7365 6c66 2e6f 6e63  connect(self.onc
+00004e90: 6d61 7443 6c65 6172 616c 6c43 6c69 636b  matClearallClick
+00004ea0: 6564 290a 2020 2020 2020 2020 7365 6c66  ed).        self
+00004eb0: 2e61 7574 5f63 6f72 655f 6d61 745f 6261  .aut_core_mat_ba
+00004ec0: 736b 6574 5f63 6c65 6172 5f70 7573 6862  sket_clear_pushb
+00004ed0: 7574 746f 6e2e 636c 6963 6b65 642e 636f  utton.clicked.co
+00004ee0: 6e6e 6563 7428 7365 6c66 2e6f 6e63 6d61  nnect(self.oncma
+00004ef0: 7443 6c65 6172 436c 6963 6b65 6429 0a0a  tClearClicked)..
+00004f00: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00004f10: 5f61 6464 5f6c 6974 7a5f 7075 7368 4275  _add_litz_pushBu
+00004f20: 7474 6f6e 2e63 6c69 636b 6564 2e63 6f6e  tton.clicked.con
+00004f30: 6e65 6374 2873 656c 662e 6f6e 6c31 4d75  nect(self.onl1Mu
+00004f40: 6c74 6970 6c65 436c 6963 6b65 6429 0a20  ltipleClicked). 
+00004f50: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00004f60: 7365 6c65 6374 5f61 6c6c 5f6c 6974 7a5f  select_all_litz_
+00004f70: 7075 7368 4275 7474 6f6e 2e63 6c69 636b  pushButton.click
+00004f80: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
+00004f90: 6c69 747a 3173 656c 6563 7461 6c6c 290a  litz1selectall).
+00004fa0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00004fb0: 5f6c 6974 7a5f 6461 7461 5f6c 6973 7457  _litz_data_listW
+00004fc0: 6964 6765 742e 6974 656d 446f 7562 6c65  idget.itemDouble
+00004fd0: 436c 6963 6b65 642e 636f 6e6e 6563 7428  Clicked.connect(
+00004fe0: 7365 6c66 2e6f 6e6c 3143 6c69 636b 6564  self.onl1Clicked
+00004ff0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
+00005000: 7574 5f6c 6974 7a5f 6261 736b 6574 5f63  ut_litz_basket_c
+00005010: 6c65 6172 5f61 6c6c 5f70 7573 6862 7574  lear_all_pushbut
+00005020: 746f 6e2e 636c 6963 6b65 642e 636f 6e6e  ton.clicked.conn
+00005030: 6563 7428 7365 6c66 2e6f 6e6c 3143 6c65  ect(self.onl1Cle
+00005040: 6172 616c 6c43 6c69 636b 6564 290a 2020  arallClicked).  
+00005050: 2020 2020 2020 7365 6c66 2e61 7574 5f6c        self.aut_l
+00005060: 6974 7a5f 6261 736b 6574 5f63 6c65 6172  itz_basket_clear
+00005070: 5f70 7573 6862 7574 746f 6e2e 636c 6963  _pushbutton.clic
+00005080: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
+00005090: 2e6f 6e6c 3143 6c65 6172 436c 6963 6b65  .onl1ClearClicke
+000050a0: 6429 0a0a 2020 2020 2020 2020 7365 6c66  d)..        self
+000050b0: 2e61 7574 5f61 6464 5f6c 6974 7a32 5f70  .aut_add_litz2_p
+000050c0: 7573 6842 7574 746f 6e2e 636c 6963 6b65  ushButton.clicke
+000050d0: 642e 636f 6e6e 6563 7428 7365 6c66 2e6f  d.connect(self.o
+000050e0: 6e6c 324d 756c 7469 706c 6543 6c69 636b  nl2MultipleClick
+000050f0: 6564 290a 2020 2020 2020 2020 7365 6c66  ed).        self
+00005100: 2e61 7574 5f73 656c 6563 745f 616c 6c5f  .aut_select_all_
+00005110: 6c69 747a 325f 7075 7368 4275 7474 6f6e  litz2_pushButton
+00005120: 2e63 6c69 636b 6564 2e63 6f6e 6e65 6374  .clicked.connect
+00005130: 2873 656c 662e 6c69 747a 3273 656c 6563  (self.litz2selec
+00005140: 7461 6c6c 290a 2020 2020 2020 2020 7365  tall).        se
+00005150: 6c66 2e61 7574 5f6c 6974 7a32 5f64 6174  lf.aut_litz2_dat
+00005160: 615f 6c69 7374 5769 6467 6574 2e69 7465  a_listWidget.ite
+00005170: 6d44 6f75 626c 6543 6c69 636b 6564 2e63  mDoubleClicked.c
+00005180: 6f6e 6e65 6374 2873 656c 662e 6f6e 6c32  onnect(self.onl2
+00005190: 436c 6963 6b65 6429 0a20 2020 2020 2020  Clicked).       
+000051a0: 2073 656c 662e 6175 745f 6c69 747a 325f   self.aut_litz2_
+000051b0: 6261 736b 6574 5f63 6c65 6172 5f61 6c6c  basket_clear_all
+000051c0: 5f70 7573 6862 7574 746f 6e2e 636c 6963  _pushbutton.clic
+000051d0: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
+000051e0: 2e6f 6e6c 3243 6c65 6172 616c 6c43 6c69  .onl2ClearallCli
+000051f0: 636b 6564 290a 2020 2020 2020 2020 7365  cked).        se
+00005200: 6c66 2e61 7574 5f6c 6974 7a32 5f62 6173  lf.aut_litz2_bas
+00005210: 6b65 745f 636c 6561 725f 7075 7368 6275  ket_clear_pushbu
+00005220: 7474 6f6e 2e63 6c69 636b 6564 2e63 6f6e  tton.clicked.con
+00005230: 6e65 6374 2873 656c 662e 6f6e 6c32 436c  nect(self.onl2Cl
+00005240: 6561 7243 6c69 636b 6564 290a 0a20 2020  earClicked)..   
+00005250: 2020 2020 2073 656c 662e 6175 745f 6164       self.aut_ad
+00005260: 645f 6169 725f 6761 705f 7479 7065 5f70  d_air_gap_type_p
+00005270: 7573 6842 7574 746f 6e2e 636c 6963 6b65  ushButton.clicke
+00005280: 642e 636f 6e6e 6563 7428 7365 6c66 2e6f  d.connect(self.o
+00005290: 6e61 6972 6761 7074 7970 654d 756c 7469  nairgaptypeMulti
+000052a0: 706c 6543 6c69 636b 6564 290a 2020 2020  pleClicked).    
+000052b0: 2020 2020 7365 6c66 2e61 7574 5f73 656c      self.aut_sel
+000052c0: 6563 745f 616c 6c5f 6169 7267 6170 5f74  ect_all_airgap_t
+000052d0: 7970 655f 7075 7368 4275 7474 6f6e 2e63  ype_pushButton.c
+000052e0: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
+000052f0: 656c 662e 6169 7267 6170 7479 7065 7365  elf.airgaptypese
+00005300: 6c65 6374 616c 6c29 0a20 2020 2020 2020  lectall).       
+00005310: 2073 656c 662e 6175 745f 6169 7267 6170   self.aut_airgap
+00005320: 5f74 7970 655f 6c69 7374 5769 6467 6574  _type_listWidget
+00005330: 2e69 7465 6d44 6f75 626c 6543 6c69 636b  .itemDoubleClick
+00005340: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
+00005350: 6f6e 6169 7267 6170 7479 7065 436c 6963  onairgaptypeClic
+00005360: 6b65 6429 0a20 2020 2020 2020 2073 656c  ked).        sel
+00005370: 662e 6175 745f 6169 725f 6761 705f 7479  f.aut_air_gap_ty
+00005380: 7065 5f62 6173 6b65 745f 636c 6561 725f  pe_basket_clear_
+00005390: 616c 6c5f 7075 7368 6275 7474 6f6e 2e63  all_pushbutton.c
+000053a0: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
+000053b0: 656c 662e 6f6e 6169 7267 6170 7479 7065  elf.onairgaptype
+000053c0: 436c 6561 7261 6c6c 436c 6963 6b65 6429  ClearallClicked)
+000053d0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+000053e0: 745f 6169 725f 6761 705f 7479 7065 5f62  t_air_gap_type_b
+000053f0: 6173 6b65 745f 636c 6561 725f 7075 7368  asket_clear_push
+00005400: 6275 7474 6f6e 2e63 6c69 636b 6564 2e63  button.clicked.c
+00005410: 6f6e 6e65 6374 2873 656c 662e 6f6e 6169  onnect(self.onai
+00005420: 7267 6170 7479 7065 436c 6561 7243 6c69  rgaptypeClearCli
+00005430: 636b 6564 290a 0a20 2020 2020 2020 2073  cked)..        s
+00005440: 656c 662e 6175 745f 7769 6e64 696e 6731  elf.aut_winding1
+00005450: 5f69 6d70 6c69 6369 745f 6c69 747a 5f63  _implicit_litz_c
+00005460: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00005470: 6578 7443 6861 6e67 6564 2e63 6f6e 6e65  extChanged.conne
+00005480: 6374 2873 656c 662e 6175 745f 7769 6e64  ct(self.aut_wind
+00005490: 696e 6731 5f63 6861 6e67 655f 6c69 747a  ing1_change_litz
+000054a0: 5f69 6d70 6c69 6369 7429 0a20 2020 2020  _implicit).     
+000054b0: 2020 2073 656c 662e 6175 745f 7769 6e64     self.aut_wind
+000054c0: 696e 6731 5f63 6861 6e67 655f 6c69 747a  ing1_change_litz
+000054d0: 5f69 6d70 6c69 6369 7428 7365 6c66 2e61  _implicit(self.a
+000054e0: 7574 5f77 696e 6469 6e67 315f 696d 706c  ut_winding1_impl
+000054f0: 6963 6974 5f6c 6974 7a5f 636f 6d62 6f42  icit_litz_comboB
+00005500: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
+00005510: 290a 0a20 2020 2020 2020 2022 5365 7420  )..        "Set 
+00005520: 5661 6c69 6461 746f 7273 2069 6e20 4465  Validators in De
+00005530: 6669 6e69 7469 6f6e 2054 6162 220a 2020  finition Tab".  
+00005540: 2020 2020 2020 7365 6c66 2e61 7574 5f6d        self.aut_m
+00005550: 696e 5f63 6f72 655f 7769 6474 685f 6c69  in_core_width_li
+00005560: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+00005570: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+00005580: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+00005590: 662e 6175 745f 6d61 785f 636f 7265 5f77  f.aut_max_core_w
+000055a0: 6964 7468 5f6c 696e 6545 6469 742e 7365  idth_lineEdit.se
+000055b0: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+000055c0: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+000055d0: 2020 2020 7365 6c66 2e61 7574 5f73 7465      self.aut_ste
+000055e0: 705f 636f 7265 5f77 6964 7468 5f6c 696e  p_core_width_lin
+000055f0: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00005600: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00005610: 6f72 290a 0a20 2020 2020 2020 2073 656c  or)..        sel
+00005620: 662e 6175 745f 6d69 6e5f 7769 6e64 6f77  f.aut_min_window
+00005630: 5f68 6569 6768 745f 6c69 6e65 4564 6974  _height_lineEdit
+00005640: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
+00005650: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
+00005660: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00005670: 6d61 785f 7769 6e64 6f77 5f68 6569 6768  max_window_heigh
+00005680: 745f 6c69 6e65 4564 6974 2e73 6574 5661  t_lineEdit.setVa
+00005690: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+000056a0: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+000056b0: 2073 656c 662e 6175 745f 7374 6570 5f77   self.aut_step_w
+000056c0: 696e 646f 775f 6865 6967 6874 5f6c 696e  indow_height_lin
+000056d0: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+000056e0: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+000056f0: 6f72 290a 0a20 2020 2020 2020 2073 656c  or)..        sel
+00005700: 662e 6175 745f 6d69 6e5f 7769 6e64 6f77  f.aut_min_window
+00005710: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
+00005720: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
+00005730: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
+00005740: 2020 2020 2020 7365 6c66 2e61 7574 5f6d        self.aut_m
+00005750: 6178 5f77 696e 646f 775f 7769 6474 685f  ax_window_width_
+00005760: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
+00005770: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
+00005780: 6461 746f 7229 0a20 2020 2020 2020 2073  dator).        s
+00005790: 656c 662e 6175 745f 7374 6570 5f77 696e  elf.aut_step_win
+000057a0: 646f 775f 7769 6474 685f 6c69 6e65 4564  dow_width_lineEd
+000057b0: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+000057c0: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
+000057d0: 0a0a 2020 2020 2020 2020 7365 6c66 2e61  ..        self.a
+000057e0: 7574 5f77 696e 6469 6e67 315f 7261 6469  ut_winding1_radi
+000057f0: 7573 5f6c 696e 6545 6469 742e 7365 7456  us_lineEdit.setV
+00005800: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
+00005810: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
+00005820: 2020 7365 6c66 2e61 7574 5f77 696e 6469    self.aut_windi
+00005830: 6e67 315f 7374 7261 6e64 735f 6c69 6e65  ng1_strands_line
+00005840: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
+00005850: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
+00005860: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+00005870: 6175 745f 7769 6e64 696e 6731 5f66 696c  aut_winding1_fil
+00005880: 6c5f 6661 6374 6f72 5f6c 696e 6545 6469  l_factor_lineEdi
+00005890: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+000058a0: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+000058b0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+000058c0: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
+000058d0: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
+000058e0: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
+000058f0: 6f61 745f 7661 6c69 6461 746f 7229 0a0a  oat_validator)..
+00005900: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00005910: 5f77 696e 6469 6e67 325f 7261 6469 7573  _winding2_radius
+00005920: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00005930: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00005940: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00005950: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
+00005960: 325f 7374 7261 6e64 735f 6c69 6e65 4564  2_strands_lineEd
+00005970: 6974 2e73 6574 5661 6c69 6461 746f 7228  it.setValidator(
+00005980: 666c 6f61 745f 7661 6c69 6461 746f 7229  float_validator)
+00005990: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+000059a0: 745f 7769 6e64 696e 6732 5f66 696c 6c5f  t_winding2_fill_
+000059b0: 6661 6374 6f72 5f6c 696e 6545 6469 742e  factor_lineEdit.
+000059c0: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
+000059d0: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
+000059e0: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
+000059f0: 696e 6469 6e67 325f 7374 7261 6e64 5f72  inding2_strand_r
+00005a00: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
+00005a10: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+00005a20: 745f 7661 6c69 6461 746f 7229 0a0a 2020  t_validator)..  
+00005a30: 2020 2020 2020 7365 6c66 2e61 7574 5f6d        self.aut_m
+00005a40: 696e 5f77 696e 6469 6e67 315f 7475 726e  in_winding1_turn
+00005a50: 735f 6c69 6e65 4564 6974 2e73 6574 5661  s_lineEdit.setVa
+00005a60: 6c69 6461 746f 7228 666c 6f61 745f 7661  lidator(float_va
+00005a70: 6c69 6461 746f 7229 0a20 2020 2020 2020  lidator).       
+00005a80: 2073 656c 662e 6175 745f 6d61 785f 7769   self.aut_max_wi
+00005a90: 6e64 696e 6731 5f74 7572 6e73 5f6c 696e  nding1_turns_lin
+00005aa0: 6545 6469 742e 7365 7456 616c 6964 6174  eEdit.setValidat
+00005ab0: 6f72 2866 6c6f 6174 5f76 616c 6964 6174  or(float_validat
+00005ac0: 6f72 290a 0a20 2020 2020 2020 2073 656c  or)..        sel
+00005ad0: 662e 6175 745f 6d69 6e5f 7769 6e64 696e  f.aut_min_windin
+00005ae0: 6732 5f74 7572 6e73 5f6c 696e 6545 6469  g2_turns_lineEdi
+00005af0: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+00005b00: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+00005b10: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00005b20: 5f6d 6178 5f77 696e 6469 6e67 325f 7475  _max_winding2_tu
+00005b30: 726e 735f 6c69 6e65 4564 6974 2e73 6574  rns_lineEdit.set
+00005b40: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+00005b50: 7661 6c69 6461 746f 7229 0a20 2020 2020  validator).     
+00005b60: 2020 2073 656c 662e 6175 745f 7374 6570     self.aut_step
+00005b70: 5f77 696e 6469 6e67 325f 7475 726e 735f  _winding2_turns_
+00005b80: 6c69 6e65 4564 6974 2e73 6574 5661 6c69  lineEdit.setVali
+00005b90: 6461 746f 7228 666c 6f61 745f 7661 6c69  dator(float_vali
+00005ba0: 6461 746f 7229 0a0a 2020 2020 2020 2020  dator)..        
+00005bb0: 7365 6c66 2e61 7574 5f6d 696e 5f61 6972  self.aut_min_air
+00005bc0: 5f67 6170 5f63 6f75 6e74 5f6c 696e 6545  _gap_count_lineE
+00005bd0: 6469 742e 7365 7456 616c 6964 6174 6f72  dit.setValidator
+00005be0: 2866 6c6f 6174 5f76 616c 6964 6174 6f72  (float_validator
+00005bf0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
+00005c00: 7574 5f6d 6178 5f61 6972 5f67 6170 5f63  ut_max_air_gap_c
+00005c10: 6f75 6e74 5f6c 696e 6545 6469 742e 7365  ount_lineEdit.se
+00005c20: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00005c30: 5f76 616c 6964 6174 6f72 290a 0a20 2020  _validator)..   
+00005c40: 2020 2020 2073 656c 662e 6175 745f 6169       self.aut_ai
+00005c50: 725f 6761 705f 6c65 6e67 7468 5f6d 696e  r_gap_length_min
+00005c60: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00005c70: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00005c80: 6964 6174 6f72 290a 2020 2020 2020 2020  idator).        
+00005c90: 7365 6c66 2e61 7574 5f61 6972 5f67 6170  self.aut_air_gap
+00005ca0: 5f6c 656e 6774 685f 6d61 785f 6c69 6e65  _length_max_line
+00005cb0: 4564 6974 2e73 6574 5661 6c69 6461 746f  Edit.setValidato
+00005cc0: 7228 666c 6f61 745f 7661 6c69 6461 746f  r(float_validato
+00005cd0: 7229 0a20 2020 2020 2020 2073 656c 662e  r).        self.
+00005ce0: 6175 745f 6169 725f 6761 705f 6c65 6e67  aut_air_gap_leng
+00005cf0: 7468 5f73 7465 705f 6c69 6e65 4564 6974  th_step_lineEdit
+00005d00: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
+00005d10: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
+00005d20: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00005d30: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+00005d40: 5f6d 696e 5f6c 696e 6545 6469 742e 7365  _min_lineEdit.se
+00005d50: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00005d60: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00005d70: 2020 2020 7365 6c66 2e61 7574 5f61 6972      self.aut_air
+00005d80: 5f67 6170 5f70 6f73 6974 696f 6e5f 7374  _gap_position_st
+00005d90: 6570 5f6c 696e 6545 6469 742e 7365 7456  ep_lineEdit.setV
+00005da0: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
+00005db0: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
+00005dc0: 2020 7365 6c66 2e61 7574 5f61 6972 5f67    self.aut_air_g
+00005dd0: 6170 5f70 6f73 6974 696f 6e5f 7374 6570  ap_position_step
+00005de0: 5f6c 696e 6545 6469 742e 7365 7456 616c  _lineEdit.setVal
+00005df0: 6964 6174 6f72 2866 6c6f 6174 5f76 616c  idator(float_val
+00005e00: 6964 6174 6f72 290a 0a20 2020 2020 2020  idator)..       
+00005e10: 2073 656c 662e 6175 745f 6973 6f6c 6174   self.aut_isolat
+00005e20: 696f 6e5f 7032 705f 6c69 6e65 4564 6974  ion_p2p_lineEdit
+00005e30: 2e73 6574 5661 6c69 6461 746f 7228 666c  .setValidator(fl
+00005e40: 6f61 745f 7661 6c69 6461 746f 7229 0a20  oat_validator). 
+00005e50: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00005e60: 6973 6f6c 6174 696f 6e5f 7032 735f 6c69  isolation_p2s_li
+00005e70: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+00005e80: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+00005e90: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+00005ea0: 662e 6175 745f 6973 6f6c 6174 696f 6e5f  f.aut_isolation_
+00005eb0: 7332 735f 6c69 6e65 4564 6974 2e73 6574  s2s_lineEdit.set
+00005ec0: 5661 6c69 6461 746f 7228 666c 6f61 745f  Validator(float_
+00005ed0: 7661 6c69 6461 746f 7229 0a0a 2020 2020  validator)..    
+00005ee0: 2020 2020 7365 6c66 2e61 7574 5f69 736f      self.aut_iso
+00005ef0: 6c61 7469 6f6e 5f63 6f72 6532 636f 6e64  lation_core2cond
+00005f00: 5f74 6f70 5f6c 696e 6545 6469 742e 7365  _top_lineEdit.se
+00005f10: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00005f20: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00005f30: 2020 2020 7365 6c66 2e61 7574 5f69 736f      self.aut_iso
+00005f40: 6c61 7469 6f6e 5f63 6f72 6532 636f 6e64  lation_core2cond
+00005f50: 5f62 6f74 5f6c 696e 6545 6469 742e 7365  _bot_lineEdit.se
+00005f60: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00005f70: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00005f80: 2020 2020 7365 6c66 2e61 7574 5f69 736f      self.aut_iso
+00005f90: 6c61 7469 6f6e 5f63 6f72 6532 636f 6e64  lation_core2cond
+00005fa0: 5f69 6e6e 6572 5f6c 696e 6545 6469 742e  _inner_lineEdit.
+00005fb0: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
+00005fc0: 6174 5f76 616c 6964 6174 6f72 290a 2020  at_validator).  
+00005fd0: 2020 2020 2020 7365 6c66 2e61 7574 5f69        self.aut_i
+00005fe0: 736f 6c61 7469 6f6e 5f63 6f72 6532 636f  solation_core2co
+00005ff0: 6e64 5f6f 7574 6572 5f6c 696e 6545 6469  nd_outer_lineEdi
+00006000: 742e 7365 7456 616c 6964 6174 6f72 2866  t.setValidator(f
+00006010: 6c6f 6174 5f76 616c 6964 6174 6f72 290a  loat_validator).
+00006020: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00006030: 745f 7465 6d70 5f6c 696e 6545 6469 742e  t_temp_lineEdit.
+00006040: 7365 7456 616c 6964 6174 6f72 2866 6c6f  setValidator(flo
+00006050: 6174 5f76 616c 6964 6174 6f72 290a 0a20  at_validator).. 
+00006060: 2020 2020 2020 2022 5365 7420 5661 6c69         "Set Vali
+00006070: 6461 746f 7273 2069 6e20 5265 6c75 6374  dators in Reluct
+00006080: 616e 6365 204d 6f64 656c 7320 7461 6222  ance Models tab"
+00006090: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+000060a0: 745f 676f 616c 5f69 6e64 7563 7461 6e63  t_goal_inductanc
+000060b0: 655f 7661 6c5f 6c69 6e65 4564 6974 2e73  e_val_lineEdit.s
+000060c0: 6574 5661 6c69 6461 746f 7228 666c 6f61  etValidator(floa
+000060d0: 745f 7661 6c69 6461 746f 7229 0a20 2020  t_validator).   
+000060e0: 2020 2020 2073 656c 662e 6175 745f 6d61       self.aut_ma
+000060f0: 7869 6d75 6d5f 6375 7272 656e 745f 6c69  ximum_current_li
+00006100: 6e65 4564 6974 2e73 6574 5661 6c69 6461  neEdit.setValida
+00006110: 746f 7228 666c 6f61 745f 7661 6c69 6461  tor(float_valida
+00006120: 746f 7229 0a20 2020 2020 2020 2073 656c  tor).        sel
+00006130: 662e 6175 745f 7377 6974 6368 696e 675f  f.aut_switching_
+00006140: 6672 6571 5f6c 696e 6545 6469 742e 7365  freq_lineEdit.se
+00006150: 7456 616c 6964 6174 6f72 2866 6c6f 6174  tValidator(float
+00006160: 5f76 616c 6964 6174 6f72 290a 2020 2020  _validator).    
+00006170: 2020 2020 7365 6c66 2e61 7574 5f62 5f73      self.aut_b_s
+00006180: 6174 5f6c 696e 6545 6469 742e 7365 7456  at_lineEdit.setV
+00006190: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
+000061a0: 616c 6964 6174 6f72 290a 2020 2020 2020  alidator).      
+000061b0: 2020 7365 6c66 2e61 7574 5f68 7973 7465    self.aut_hyste
+000061c0: 7269 7369 735f 6c6f 7373 5f6f 7074 696f  risis_loss_optio
+000061d0: 6e73 5f6c 696e 6545 6469 742e 7365 7456  ns_lineEdit.setV
+000061e0: 616c 6964 6174 6f72 2866 6c6f 6174 5f76  alidator(float_v
+000061f0: 616c 6964 6174 6f72 290a 0a20 2020 2020  alidator)..     
+00006200: 2020 2022 5369 676e 616c 7320 696e 2052     "Signals in R
+00006210: 656c 7563 7461 6e63 6520 4d6f 6465 6c73  eluctance Models
+00006220: 2074 6162 220a 0a20 2020 2020 2020 2073   tab"..        s
+00006230: 656c 662e 6175 745f 7369 6d75 6c61 7465  elf.aut_simulate
+00006240: 5f70 7573 6842 7574 746f 6e2e 636c 6963  _pushButton.clic
+00006250: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
+00006260: 2e61 7574 6f6d 6174 6564 5f64 6573 6967  .automated_desig
+00006270: 6e5f 6675 6e63 5f63 6f6e 6669 6729 0a20  n_func_config). 
+00006280: 2020 2020 2020 2073 656c 662e 6d61 7470         self.matp
+00006290: 6c6f 746c 6962 5f77 6964 6765 745f 6175  lotlib_widget_au
+000062a0: 745f 7461 6232 203d 204d 6174 706c 6f74  t_tab2 = Matplot
+000062b0: 6c69 6257 6964 6765 7428 290a 0a20 2020  libWidget()..   
+000062c0: 2020 2020 2022 5369 676e 616c 7320 696e       "Signals in
+000062d0: 2046 454d 2053 696d 756c 6174 696f 6e73   FEM Simulations
+000062e0: 2074 6162 220a 0a20 2020 2020 2020 2073   tab"..        s
+000062f0: 656c 662e 6175 745f 706f 735f 6d6f 645f  elf.aut_pos_mod_
+00006300: 7369 6d5f 7075 7368 4275 7474 6f6e 2e63  sim_pushButton.c
+00006310: 6c69 636b 6564 2e63 6f6e 6e65 6374 2873  licked.connect(s
+00006320: 656c 662e 6175 746f 6d61 7465 645f 6465  elf.automated_de
+00006330: 7369 676e 5f66 656d 5f73 696d 5f63 6f6e  sign_fem_sim_con
+00006340: 6669 6729 0a20 2020 2020 2020 2073 656c  fig).        sel
+00006350: 662e 6d61 7470 6c6f 746c 6962 5f77 6964  f.matplotlib_wid
+00006360: 6765 745f 6175 745f 7461 6233 203d 204d  get_aut_tab3 = M
+00006370: 6174 706c 6f74 6c69 6257 6964 6765 7428  atplotlibWidget(
+00006380: 290a 0a20 2020 2020 2020 2022 5369 676e  )..        "Sign
+00006390: 616c 7320 696e 204c 6f61 6428 5265 7375  als in Load(Resu
+000063a0: 6c74 7329 2074 6162 220a 2020 2020 2020  lts) tab".      
+000063b0: 2020 7365 6c66 2e61 7574 5f6c 6f61 645f    self.aut_load_
+000063c0: 6465 7369 676e 5f70 7573 6842 7574 746f  design_pushButto
+000063d0: 6e2e 636c 6963 6b65 642e 636f 6e6e 6563  n.clicked.connec
+000063e0: 7428 7365 6c66 2e6c 6f61 645f 6465 7369  t(self.load_desi
+000063f0: 676e 735f 636f 6e66 6967 290a 2020 2020  gns_config).    
+00006400: 2020 2020 7365 6c66 2e6d 6174 706c 6f74      self.matplot
+00006410: 6c69 625f 7769 6467 6574 5f61 7574 5f74  lib_widget_aut_t
+00006420: 6162 3420 3d20 4d61 7470 6c6f 746c 6962  ab4 = Matplotlib
+00006430: 5769 6467 6574 2829 0a0a 2020 2020 2020  Widget()..      
+00006440: 2020 222a 2a2a 2a2a 2a2a 2044 6174 6162    "******* Datab
+00006450: 6173 6520 5365 6374 696f 6e20 2a2a 2a2a  ase Section ****
+00006460: 2a2a 2a2a 2a22 0a0a 2020 2020 2020 2020  *****"..        
+00006470: 7365 6c66 2e64 6174 5f75 7064 6174 655f  self.dat_update_
+00006480: 7072 6576 6965 775f 7075 7368 6275 7474  preview_pushbutt
+00006490: 6f6e 312e 636c 6963 6b65 642e 636f 6e6e  on1.clicked.conn
+000064a0: 6563 7428 7365 6c66 2e64 6174 7570 6461  ect(self.datupda
+000064b0: 7465 7261 7068 315f 636f 6e66 6967 290a  teraph1_config).
+000064c0: 2020 2020 2020 2020 7365 6c66 2e64 6174          self.dat
+000064d0: 5f75 7064 6174 655f 7072 6576 6965 775f  _update_preview_
+000064e0: 7075 7368 6275 7474 6f6e 322e 636c 6963  pushbutton2.clic
+000064f0: 6b65 642e 636f 6e6e 6563 7428 7365 6c66  ked.connect(self
+00006500: 2e64 6174 7570 6461 7465 7261 7068 325f  .datupdateraph2_
+00006510: 636f 6e66 6967 290a 2020 2020 2020 2020  config).        
+00006520: 7365 6c66 2e64 6174 5f75 7064 6174 655f  self.dat_update_
+00006530: 7072 6576 6965 775f 7075 7368 6275 7474  preview_pushbutt
+00006540: 6f6e 332e 636c 6963 6b65 642e 636f 6e6e  on3.clicked.conn
+00006550: 6563 7428 7365 6c66 2e64 6174 7570 6461  ect(self.datupda
+00006560: 7465 7261 7068 335f 636f 6e66 6967 290a  teraph3_config).
+00006570: 0a20 2020 2020 2020 2073 656c 662e 6d61  .        self.ma
+00006580: 7470 6c6f 746c 6962 5f77 6964 6765 745f  tplotlib_widget_
+00006590: 6461 746d 6d31 203d 204d 6174 706c 6f74  datmm1 = Matplot
+000065a0: 6c69 6257 6964 6765 7428 290a 2020 2020  libWidget().    
+000065b0: 2020 2020 7365 6c66 2e6d 6174 706c 6f74      self.matplot
+000065c0: 6c69 625f 7769 6467 6574 5f64 6174 6d6d  lib_widget_datmm
+000065d0: 3220 3d20 4d61 7470 6c6f 746c 6962 5769  2 = MatplotlibWi
+000065e0: 6467 6574 2829 0a0a 2020 2020 2020 2020  dget()..        
+000065f0: 7365 6c66 2e6d 6174 706c 6f74 6c69 625f  self.matplotlib_
+00006600: 7769 6467 6574 5f64 6174 6464 3120 3d20  widget_datdd1 = 
+00006610: 4d61 7470 6c6f 746c 6962 5769 6467 6574  MatplotlibWidget
+00006620: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+00006630: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00006640: 745f 6461 7464 6432 203d 204d 6174 706c  t_datdd2 = Matpl
+00006650: 6f74 6c69 6257 6964 6765 7428 290a 2020  otlibWidget().  
+00006660: 2020 2020 2020 7365 6c66 2e6d 6174 706c        self.matpl
+00006670: 6f74 6c69 625f 7769 6467 6574 5f64 6174  otlib_widget_dat
+00006680: 6464 3320 3d20 4d61 7470 6c6f 746c 6962  dd3 = Matplotlib
+00006690: 5769 6467 6574 2829 0a20 2020 2020 2020  Widget().       
+000066a0: 2073 656c 662e 6d61 7470 6c6f 746c 6962   self.matplotlib
+000066b0: 5f77 6964 6765 745f 6461 7464 6434 203d  _widget_datdd4 =
+000066c0: 204d 6174 706c 6f74 6c69 6257 6964 6765   MatplotlibWidge
+000066d0: 7428 290a 0a20 2020 2020 2020 2073 656c  t()..        sel
+000066e0: 662e 6d61 7470 6c6f 746c 6962 5f77 6964  f.matplotlib_wid
+000066f0: 6765 745f 6461 7464 6d20 3d20 4d61 7470  get_datdm = Matp
+00006700: 6c6f 746c 6962 5769 6467 6574 2829 0a0a  lotlibWidget()..
+00006710: 2020 2020 2020 2020 7365 6c66 2e64 6174          self.dat
+00006720: 5f63 6f72 655f 6d61 7465 7269 616c 315f  _core_material1_
+00006730: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+00006740: 5465 7874 4368 616e 6765 642e 636f 6e6e  TextChanged.conn
+00006750: 6563 7428 7365 6c66 2e74 656d 7066 6c75  ect(self.tempflu
+00006760: 7869 6e70 7574 3129 0a20 2020 2020 2020  xinput1).       
+00006770: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
+00006780: 6174 6572 6961 6c32 5f63 6f6d 626f 426f  aterial2_comboBo
+00006790: 782e 6375 7272 656e 7454 6578 7443 6861  x.currentTextCha
+000067a0: 6e67 6564 2e63 6f6e 6e65 6374 2873 656c  nged.connect(sel
+000067b0: 662e 7465 6d70 666c 7578 696e 7075 7432  f.tempfluxinput2
+000067c0: 290a 2020 2020 2020 2020 7365 6c66 2e64  ).        self.d
+000067d0: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
+000067e0: 335f 636f 6d62 6f42 6f78 2e63 7572 7265  3_comboBox.curre
+000067f0: 6e74 5465 7874 4368 616e 6765 642e 636f  ntTextChanged.co
+00006800: 6e6e 6563 7428 7365 6c66 2e74 656d 7066  nnect(self.tempf
+00006810: 6c75 7869 6e70 7574 3329 0a20 2020 2020  luxinput3).     
+00006820: 2020 2073 656c 662e 6461 745f 636f 7265     self.dat_core
+00006830: 5f6d 6174 6572 6961 6c34 5f63 6f6d 626f  _material4_combo
+00006840: 426f 782e 6375 7272 656e 7454 6578 7443  Box.currentTextC
+00006850: 6861 6e67 6564 2e63 6f6e 6e65 6374 2873  hanged.connect(s
+00006860: 656c 662e 7465 6d70 666c 7578 696e 7075  elf.tempfluxinpu
+00006870: 7434 290a 2020 2020 2020 2020 7365 6c66  t4).        self
+00006880: 2e64 6174 5f63 6f72 655f 6d61 7465 7269  .dat_core_materi
+00006890: 616c 355f 636f 6d62 6f42 6f78 2e63 7572  al5_comboBox.cur
+000068a0: 7265 6e74 5465 7874 4368 616e 6765 642e  rentTextChanged.
+000068b0: 636f 6e6e 6563 7428 7365 6c66 2e74 656d  connect(self.tem
+000068c0: 7066 6c75 7869 6e70 7574 3529 0a0a 2020  pfluxinput5)..  
+000068d0: 2020 2020 2020 7365 6c66 2e64 6174 5f63        self.dat_c
+000068e0: 6f72 655f 6d61 7465 7269 616c 315f 636f  ore_material1_co
+000068f0: 6d62 6f42 6f78 5f32 2e63 7572 7265 6e74  mboBox_2.current
+00006900: 5465 7874 4368 616e 6765 642e 636f 6e6e  TextChanged.conn
+00006910: 6563 7428 7365 6c66 2e74 6573 745f 7365  ect(self.test_se
+00006920: 7475 705f 6e61 6d65 3129 0a20 2020 2020  tup_name1).     
+00006930: 2020 2073 656c 662e 6461 745f 636f 7265     self.dat_core
+00006940: 5f6d 6174 6572 6961 6c32 5f63 6f6d 626f  _material2_combo
+00006950: 426f 785f 322e 6375 7272 656e 7454 6578  Box_2.currentTex
+00006960: 7443 6861 6e67 6564 2e63 6f6e 6e65 6374  tChanged.connect
+00006970: 2873 656c 662e 7465 7374 5f73 6574 7570  (self.test_setup
+00006980: 5f6e 616d 6532 290a 2020 2020 2020 2020  _name2).        
+00006990: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
+000069a0: 7465 7269 616c 335f 636f 6d62 6f42 6f78  terial3_comboBox
+000069b0: 5f32 2e63 7572 7265 6e74 5465 7874 4368  _2.currentTextCh
+000069c0: 616e 6765 642e 636f 6e6e 6563 7428 7365  anged.connect(se
+000069d0: 6c66 2e74 6573 745f 7365 7475 705f 6e61  lf.test_setup_na
+000069e0: 6d65 3329 0a20 2020 2020 2020 2073 656c  me3).        sel
+000069f0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+00006a00: 6961 6c34 5f63 6f6d 626f 426f 785f 322e  ial4_comboBox_2.
+00006a10: 6375 7272 656e 7454 6578 7443 6861 6e67  currentTextChang
+00006a20: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
+00006a30: 7465 7374 5f73 6574 7570 5f6e 616d 6534  test_setup_name4
+00006a40: 290a 2020 2020 2020 2020 7365 6c66 2e64  ).        self.d
+00006a50: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
+00006a60: 355f 636f 6d62 6f42 6f78 5f32 2e63 7572  5_comboBox_2.cur
+00006a70: 7265 6e74 5465 7874 4368 616e 6765 642e  rentTextChanged.
+00006a80: 636f 6e6e 6563 7428 7365 6c66 2e74 6573  connect(self.tes
+00006a90: 745f 7365 7475 705f 6e61 6d65 3529 0a0a  t_setup_name5)..
+00006aa0: 2020 2020 2020 2020 7365 6c66 2e64 6174          self.dat
+00006ab0: 5f63 6f72 655f 6d61 7465 7269 616c 315f  _core_material1_
+00006ac0: 636f 6d62 6f42 6f78 5f32 2e63 7572 7265  comboBox_2.curre
+00006ad0: 6e74 5465 7874 4368 616e 6765 642e 636f  ntTextChanged.co
+00006ae0: 6e6e 6563 7428 7365 6c66 2e74 656d 7066  nnect(self.tempf
+00006af0: 7265 7169 6e70 7574 3129 0a20 2020 2020  reqinput1).     
+00006b00: 2020 2073 656c 662e 6461 745f 636f 7265     self.dat_core
+00006b10: 5f6d 6174 6572 6961 6c32 5f63 6f6d 626f  _material2_combo
+00006b20: 426f 785f 322e 6375 7272 656e 7454 6578  Box_2.currentTex
+00006b30: 7443 6861 6e67 6564 2e63 6f6e 6e65 6374  tChanged.connect
+00006b40: 2873 656c 662e 7465 6d70 6672 6571 696e  (self.tempfreqin
+00006b50: 7075 7432 290a 2020 2020 2020 2020 7365  put2).        se
+00006b60: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
+00006b70: 7269 616c 335f 636f 6d62 6f42 6f78 5f32  rial3_comboBox_2
+00006b80: 2e63 7572 7265 6e74 5465 7874 4368 616e  .currentTextChan
+00006b90: 6765 642e 636f 6e6e 6563 7428 7365 6c66  ged.connect(self
+00006ba0: 2e74 656d 7066 7265 7169 6e70 7574 3329  .tempfreqinput3)
+00006bb0: 0a20 2020 2020 2020 2073 656c 662e 6461  .        self.da
+00006bc0: 745f 636f 7265 5f6d 6174 6572 6961 6c34  t_core_material4
+00006bd0: 5f63 6f6d 626f 426f 785f 322e 6375 7272  _comboBox_2.curr
+00006be0: 656e 7454 6578 7443 6861 6e67 6564 2e63  entTextChanged.c
+00006bf0: 6f6e 6e65 6374 2873 656c 662e 7465 6d70  onnect(self.temp
+00006c00: 6672 6571 696e 7075 7434 290a 2020 2020  freqinput4).    
+00006c10: 2020 2020 7365 6c66 2e64 6174 5f63 6f72      self.dat_cor
+00006c20: 655f 6d61 7465 7269 616c 355f 636f 6d62  e_material5_comb
+00006c30: 6f42 6f78 5f32 2e63 7572 7265 6e74 5465  oBox_2.currentTe
+00006c40: 7874 4368 616e 6765 642e 636f 6e6e 6563  xtChanged.connec
+00006c50: 7428 7365 6c66 2e74 656d 7066 7265 7169  t(self.tempfreqi
+00006c60: 6e70 7574 3529 0a0a 2020 2020 2020 2020  nput5)..        
+00006c70: 7365 6c66 2e74 6573 745f 6e61 6d65 5f31  self.test_name_1
+00006c80: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00006c90: 7454 6578 7443 6861 6e67 6564 2e63 6f6e  tTextChanged.con
+00006ca0: 6e65 6374 2873 656c 662e 7465 6d70 6672  nect(self.tempfr
+00006cb0: 6571 696e 7075 7431 290a 2020 2020 2020  eqinput1).      
+00006cc0: 2020 7365 6c66 2e74 6573 745f 6e61 6d65    self.test_name
+00006cd0: 5f32 5f63 6f6d 626f 426f 782e 6375 7272  _2_comboBox.curr
+00006ce0: 656e 7454 6578 7443 6861 6e67 6564 2e63  entTextChanged.c
+00006cf0: 6f6e 6e65 6374 2873 656c 662e 7465 6d70  onnect(self.temp
+00006d00: 6672 6571 696e 7075 7432 290a 2020 2020  freqinput2).    
+00006d10: 2020 2020 7365 6c66 2e74 6573 745f 6e61      self.test_na
+00006d20: 6d65 5f33 5f63 6f6d 626f 426f 782e 6375  me_3_comboBox.cu
+00006d30: 7272 656e 7454 6578 7443 6861 6e67 6564  rrentTextChanged
+00006d40: 2e63 6f6e 6e65 6374 2873 656c 662e 7465  .connect(self.te
+00006d50: 6d70 6672 6571 696e 7075 7433 290a 2020  mpfreqinput3).  
+00006d60: 2020 2020 2020 7365 6c66 2e74 6573 745f        self.test_
+00006d70: 6e61 6d65 5f34 5f63 6f6d 626f 426f 782e  name_4_comboBox.
+00006d80: 6375 7272 656e 7454 6578 7443 6861 6e67  currentTextChang
+00006d90: 6564 2e63 6f6e 6e65 6374 2873 656c 662e  ed.connect(self.
+00006da0: 7465 6d70 6672 6571 696e 7075 7434 290a  tempfreqinput4).
+00006db0: 2020 2020 2020 2020 7365 6c66 2e74 6573          self.tes
+00006dc0: 745f 6e61 6d65 5f35 5f63 6f6d 626f 426f  t_name_5_comboBo
+00006dd0: 782e 6375 7272 656e 7454 6578 7443 6861  x.currentTextCha
+00006de0: 6e67 6564 2e63 6f6e 6e65 6374 2873 656c  nged.connect(sel
+00006df0: 662e 7465 6d70 6672 6571 696e 7075 7435  f.tempfreqinput5
+00006e00: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+00006e10: 6461 745f 636f 7265 5f6d 6174 6572 6961  dat_core_materia
+00006e20: 6c5f 636f 6d62 6f42 6f78 2e63 7572 7265  l_comboBox.curre
+00006e30: 6e74 5465 7874 4368 616e 6765 642e 636f  ntTextChanged.co
+00006e40: 6e6e 6563 7428 7365 6c66 2e74 6573 745f  nnect(self.test_
+00006e50: 7365 7475 705f 6e61 6d65 290a 2020 2020  setup_name).    
+00006e60: 2020 2020 7365 6c66 2e74 6573 745f 6e61      self.test_na
+00006e70: 6d65 5f63 6f6d 626f 426f 782e 6375 7272  me_comboBox.curr
+00006e80: 656e 7454 6578 7443 6861 6e67 6564 2e63  entTextChanged.c
+00006e90: 6f6e 6e65 6374 2873 656c 662e 7465 6d70  onnect(self.temp
+00006ea0: 5f6d 6561 735f 696e 7075 7429 0a20 2020  _meas_input).   
+00006eb0: 2020 2020 2073 656c 662e 6461 745f 636f       self.dat_co
+00006ec0: 7265 5f6d 6174 6572 6961 6c5f 636f 6d62  re_material_comb
+00006ed0: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00006ee0: 4368 616e 6765 642e 636f 6e6e 6563 7428  Changed.connect(
+00006ef0: 7365 6c66 2e74 656d 705f 6461 745f 696e  self.temp_dat_in
+00006f00: 7075 7429 0a20 2020 2020 2020 2073 656c  put).        sel
+00006f10: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+00006f20: 6961 6c5f 636f 6d62 6f42 6f78 2e63 7572  ial_comboBox.cur
+00006f30: 7265 6e74 5465 7874 4368 616e 6765 642e  rentTextChanged.
+00006f40: 636f 6e6e 6563 7428 7365 6c66 2e74 656d  connect(self.tem
+00006f50: 705f 6d65 6173 5f69 6e70 7574 290a 0a20  p_meas_input).. 
+00006f60: 2020 2023 2020 2a2a 2a2a 2a2a 2a2a 2a2a     #  **********
+00006f70: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00006f80: 2a2a 204d 656e 7520 6261 7220 2a2a 2a2a  ** Menu bar ****
+00006f90: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00006fa0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00006fb0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00006fc0: 2a2a 2a2a 2a2a 2a2a 2020 230a 2020 2020  ********  #.    
+00006fd0: 2320 2323 2048 656c 7020 6163 7469 6f6e  # ## Help action
+00006fe0: 7320 2323 230a 2020 2020 6465 6620 7374  s ###.    def st
+00006ff0: 7269 6e67 5f74 6f5f 6d61 7465 7269 616c  ring_to_material
+00007000: 5f65 6e75 6d28 7365 6c66 2c20 6d61 7465  _enum(self, mate
+00007010: 7269 616c 5f6e 616d 6529 3a0a 2020 2020  rial_name):.    
+00007020: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00007030: 436f 6e76 6572 7420 6120 6d61 7465 7269  Convert a materi
+00007040: 616c 206e 616d 6520 7374 7269 6e67 2074  al name string t
+00007050: 6f20 6974 7320 636f 7272 6573 706f 6e64  o its correspond
+00007060: 696e 6720 656e 756d 2076 616c 7565 2e0a  ing enum value..
+00007070: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00007080: 6d61 7465 7269 616c 5f6e 616d 653a 2054  material_name: T
+00007090: 6865 206e 616d 6520 6f66 2074 6865 206d  he name of the m
+000070a0: 6174 6572 6961 6c20 746f 2063 6f6e 7665  aterial to conve
+000070b0: 7274 2e0a 2020 2020 2020 2020 3a74 7970  rt..        :typ
+000070c0: 6520 6d61 7465 7269 616c 5f6e 616d 653a  e material_name:
+000070d0: 2073 7472 0a20 2020 2020 2020 203a 7265   str.        :re
+000070e0: 7475 726e 733a 2054 6865 2065 6e75 6d20  turns: The enum 
+000070f0: 7661 6c75 6520 636f 7272 6573 706f 6e64  value correspond
+00007100: 696e 6720 746f 2074 6865 206d 6174 6572  ing to the mater
+00007110: 6961 6c20 6e61 6d65 2e0a 2020 2020 2020  ial name..      
+00007120: 2020 3a72 7479 7065 3a20 656e 756d 0a20    :rtype: enum. 
+00007130: 2020 2020 2020 203a 7261 6973 6573 2056         :raises V
+00007140: 616c 7565 4572 726f 723a 2049 6620 7468  alueError: If th
+00007150: 6520 6d61 7465 7269 616c 206e 616d 6520  e material name 
+00007160: 6973 206e 6f74 2076 616c 6964 2e0a 2020  is not valid..  
+00007170: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00007180: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
+00007190: 2020 2072 6574 7572 6e20 666d 742e 4d61     return fmt.Ma
+000071a0: 7465 7269 616c 5b6d 6174 6572 6961 6c5f  terial[material_
+000071b0: 6e61 6d65 5d0a 2020 2020 2020 2020 6578  name].        ex
+000071c0: 6365 7074 204b 6579 4572 726f 7220 6173  cept KeyError as
+000071d0: 2065 3a0a 2020 2020 2020 2020 2020 2020   e:.            
+000071e0: 7261 6973 6520 5661 6c75 6545 7272 6f72  raise ValueError
+000071f0: 2866 227b 6d61 7465 7269 616c 5f6e 616d  (f"{material_nam
+00007200: 657d 2069 7320 6e6f 7420 6120 7661 6c69  e} is not a vali
+00007210: 6420 6d61 7465 7269 616c 206e 616d 6522  d material name"
+00007220: 2920 6672 6f6d 2065 0a0a 2020 2020 6465  ) from e..    de
+00007230: 6620 7765 6262 726f 7773 6572 5f63 6f6e  f webbrowser_con
+00007240: 7472 6962 7574 6528 7365 6c66 293a 0a20  tribute(self):. 
+00007250: 2020 2020 2020 2022 2222 4f70 656e 2074         """Open t
+00007260: 6865 2077 6562 2062 726f 7773 6572 2074  he web browser t
+00007270: 6f20 7468 6520 4769 7448 7562 2046 454d  o the GitHub FEM
+00007280: 4d54 2072 6570 6f73 6974 6f72 7920 636f  MT repository co
+00007290: 6e74 7269 6275 7469 6f6e 2070 6167 652e  ntribution page.
+000072a0: 2222 220a 2020 2020 2020 2020 7765 6262  """.        webb
+000072b0: 726f 7773 6572 2e6f 7065 6e28 2768 7474  rowser.open('htt
+000072c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000072d0: 7570 622d 6c65 612f 4645 4d5f 4d61 676e  upb-lea/FEM_Magn
+000072e0: 6574 6963 735f 546f 6f6c 626f 7827 290a  etics_Toolbox').
+000072f0: 0a20 2020 2064 6566 2077 6562 6272 6f77  .    def webbrow
+00007300: 7365 725f 6275 6772 6570 6f72 7428 7365  ser_bugreport(se
+00007310: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+00007320: 4f70 656e 2074 6865 2077 6562 2062 726f  Open the web bro
+00007330: 7773 6572 2074 6f20 7468 6520 4769 7448  wser to the GitH
+00007340: 7562 2046 454d 4d54 2072 6570 6f73 6974  ub FEMMT reposit
+00007350: 6f72 7920 6973 7375 6520 7061 6765 2e22  ory issue page."
+00007360: 2222 0a20 2020 2020 2020 2077 6562 6272  "".        webbr
+00007370: 6f77 7365 722e 6f70 656e 2827 6874 7470  owser.open('http
+00007380: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f75  s://github.com/u
+00007390: 7062 2d6c 6561 2f46 454d 5f4d 6167 6e65  pb-lea/FEM_Magne
+000073a0: 7469 6373 5f54 6f6f 6c62 6f78 2f69 7373  tics_Toolbox/iss
+000073b0: 7565 7327 290a 0a20 2020 2064 6566 2077  ues')..    def w
+000073c0: 6562 6272 6f77 7365 725f 646f 6375 6d65  ebbrowser_docume
+000073d0: 6e74 6174 696f 6e28 7365 6c66 293a 0a20  ntation(self):. 
+000073e0: 2020 2020 2020 2022 2222 4f70 656e 2074         """Open t
+000073f0: 6865 2077 6562 2062 726f 7773 6572 2074  he web browser t
+00007400: 6f20 7468 6520 4645 4d4d 5420 646f 6375  o the FEMMT docu
+00007410: 6d65 6e74 6174 696f 6e2e 2222 220a 2020  mentation.""".  
+00007420: 2020 2020 2020 7765 6262 726f 7773 6572        webbrowser
+00007430: 2e6f 7065 6e28 2768 7474 7073 3a2f 2f75  .open('https://u
+00007440: 7062 2d6c 6561 2e67 6974 6875 622e 696f  pb-lea.github.io
+00007450: 2f46 454d 5f4d 6167 6e65 7469 6373 5f54  /FEM_Magnetics_T
+00007460: 6f6f 6c62 6f78 2f6d 6169 6e2f 696e 7472  oolbox/main/intr
+00007470: 6f2e 6874 6d6c 2729 0a0a 2020 2020 2320  o.html')..    # 
+00007480: 202a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a   ***************
+00007490: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a20 4175  ************* Au
+000074a0: 746f 6d61 7465 6420 6465 7369 676e 2074  tomated design t
+000074b0: 6162 202a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ab *************
+000074c0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+000074d0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+000074e0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a20  *************** 
+000074f0: 2023 0a0a 2020 2020 6465 6620 706c 6f74   #..    def plot
+00007500: 5f76 6f6c 756d 655f 6c6f 7373 2873 656c  _volume_loss(sel
+00007510: 662c 2064 6174 615f 6d61 7472 6978 2c20  f, data_matrix, 
+00007520: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00007530: 7429 3a0a 2020 2020 2020 2020 2222 220a  t):.        """.
+00007540: 2020 2020 2020 2020 506c 6f74 2065 7374          Plot est
+00007550: 696d 6174 6564 206e 6f72 6d61 6c69 7365  imated normalise
+00007560: 6420 766f 6c75 6d65 2076 7320 6c6f 7373  d volume vs loss
+00007570: 2067 7261 7068 2066 726f 6d20 7265 6c75   graph from relu
+00007580: 6374 616e 6365 206d 6f64 656c 2072 6573  ctance model res
+00007590: 756c 7473 2e0a 0a20 2020 2020 2020 203a  ults...        :
+000075a0: 7061 7261 6d20 6461 7461 5f6d 6174 7269  param data_matri
+000075b0: 783a 204d 6174 7269 7820 636f 6e74 6169  x: Matrix contai
+000075c0: 6e69 6e67 2074 6865 2064 6573 6967 6e20  ning the design 
+000075d0: 7061 7261 6d65 7465 7273 0a20 2020 2020  parameters.     
+000075e0: 2020 203a 7479 7065 2064 6174 615f 6d61     :type data_ma
+000075f0: 7472 6978 3a20 6172 7261 790a 2020 2020  trix: array.    
+00007600: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00007610: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00007620: 742e 6178 6973 2e73 6574 2878 6c61 6265  t.axis.set(xlabe
+00007630: 6c3d 2256 6f6c 756d 6520 2f20 6d5c 7530  l="Volume / m\u0
+00007640: 3062 3322 2c20 796c 6162 656c 3d22 4c6f  0b3", ylabel="Lo
+00007650: 7373 202f 2057 222c 2074 6974 6c65 3d22  ss / W", title="
+00007660: 2056 6f6c 756d 6520 7673 204c 6f73 7322   Volume vs Loss"
+00007670: 290a 2020 2020 2020 2020 6c69 6e65 7320  ).        lines 
+00007680: 3d20 6d61 7470 6c6f 746c 6962 5f77 6964  = matplotlib_wid
+00007690: 6765 742e 6178 6973 2e70 6c6f 7428 6461  get.axis.plot(da
+000076a0: 7461 5f6d 6174 7269 785b 3a2c 2033 305d  ta_matrix[:, 30]
+000076b0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000076c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000076d0: 2020 2020 2020 2020 2020 2020 2020 6461                da
+000076e0: 7461 5f6d 6174 7269 785b 3a2c 2032 385d  ta_matrix[:, 28]
+000076f0: 2c20 276f 2729 0a20 2020 2020 2020 206d  , 'o').        m
+00007700: 706c 6375 7273 6f72 732e 6375 7273 6f72  plcursors.cursor
+00007710: 286c 696e 6573 290a 2020 2020 2020 2020  (lines).        
+00007720: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00007730: 742e 6669 6775 7265 2e74 6967 6874 5f6c  t.figure.tight_l
+00007740: 6179 6f75 7428 290a 2020 2020 2020 2020  ayout().        
+00007750: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00007760: 742e 6178 6973 2e67 7269 6428 290a 0a20  t.axis.grid().. 
+00007770: 2020 2064 6566 2070 6c6f 745f 3264 2873     def plot_2d(s
+00007780: 656c 662c 206d 6174 706c 6f74 6c69 625f  elf, matplotlib_
+00007790: 7769 6467 6574 2c20 785f 7661 6c75 653a  widget, x_value:
+000077a0: 206c 6973 742c 2079 5f76 616c 7565 3a20   list, y_value: 
+000077b0: 6c69 7374 2c20 785f 6c61 6265 6c3a 2073  list, x_label: s
+000077c0: 7472 2c20 795f 6c61 6265 6c3a 2073 7472  tr, y_label: str
+000077d0: 2c20 7469 746c 653a 2073 7472 2c0a 2020  , title: str,.  
+000077e0: 2020 2020 2020 2020 2020 2020 2020 706c                pl
+000077f0: 6f74 5f63 6f6c 6f72 3a20 7374 722c 0a20  ot_color: str,. 
+00007800: 2020 2020 2020 2020 2020 2020 2020 207a                 z
+00007810: 5f76 616c 7565 3a20 6c69 7374 203d 204e  _value: list = N
+00007820: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
+00007830: 2020 2020 207a 5f6c 6162 656c 3a20 7374       z_label: st
+00007840: 7220 3d20 4e6f 6e65 2c20 696e 6475 6374  r = None, induct
+00007850: 616e 6365 5f76 616c 7565 3a20 6c69 7374  ance_value: list
+00007860: 203d 204e 6f6e 652c 2061 6e6e 6f74 6174   = None, annotat
+00007870: 696f 6e73 3a20 6c69 7374 203d 204e 6f6e  ions: list = Non
+00007880: 6529 3a0a 2020 2020 2020 2020 2222 220a  e):.        """.
+00007890: 2020 2020 2020 2020 5669 7375 616c 697a          Visualiz
+000078a0: 6520 6461 7461 2069 6e20 3264 2070 6c6f  e data in 2d plo
+000078b0: 7420 7769 7468 2070 6f70 6f76 6572 206e  t with popover n
+000078c0: 6578 7420 746f 206d 6f75 7365 2070 6f73  ext to mouse pos
+000078d0: 6974 696f 6e2e 0a0a 2020 2020 2020 2020  ition...        
+000078e0: 3a70 6172 616d 2078 5f76 616c 7565 3a20  :param x_value: 
+000078f0: 4461 7461 2070 6f69 6e74 7320 666f 7220  Data points for 
+00007900: 782d 6178 6973 0a20 2020 2020 2020 203a  x-axis.        :
+00007910: 7479 7065 2078 5f76 616c 7565 3a20 6c69  type x_value: li
+00007920: 7374 0a20 2020 2020 2020 203a 7061 7261  st.        :para
+00007930: 6d20 795f 7661 6c75 653a 2044 6174 6120  m y_value: Data 
+00007940: 706f 696e 7473 2066 6f72 2079 2d61 7869  points for y-axi
+00007950: 730a 2020 2020 2020 2020 3a74 7970 6520  s.        :type 
+00007960: 795f 7661 6c75 653a 206c 6973 740a 2020  y_value: list.  
+00007970: 2020 2020 2020 3a70 6172 616d 207a 5f76        :param z_v
+00007980: 616c 7565 3a20 4461 7461 2070 6f69 6e74  alue: Data point
+00007990: 7320 666f 7220 7a2d 6178 6973 0a20 2020  s for z-axis.   
+000079a0: 2020 2020 203a 7479 7065 207a 5f76 616c       :type z_val
+000079b0: 7565 3a20 6c69 7374 0a20 2020 2020 2020  ue: list.       
+000079c0: 203a 7061 7261 6d20 785f 6c61 6265 6c3a   :param x_label:
+000079d0: 2078 2d61 7869 7320 6c61 6265 6c0a 2020   x-axis label.  
+000079e0: 2020 2020 2020 3a74 7970 6520 785f 6c61        :type x_la
+000079f0: 6265 6c3a 2073 7472 0a20 2020 2020 2020  bel: str.       
+00007a00: 203a 7061 7261 6d20 795f 6c61 6265 6c3a   :param y_label:
+00007a10: 2079 2d61 7869 7320 6c61 6265 6c0a 2020   y-axis label.  
+00007a20: 2020 2020 2020 3a74 7970 6520 795f 6c61        :type y_la
+00007a30: 6265 6c3a 2073 7472 0a20 2020 2020 2020  bel: str.       
+00007a40: 203a 7061 7261 6d20 7a5f 6c61 6265 6c3a   :param z_label:
+00007a50: 207a 2d61 7869 7320 6c61 6265 6c0a 2020   z-axis label.  
+00007a60: 2020 2020 2020 3a74 7970 6520 7a5f 6c61        :type z_la
+00007a70: 6265 6c3a 2073 7472 0a20 2020 2020 2020  bel: str.       
+00007a80: 203a 7061 7261 6d20 7469 746c 653a 2054   :param title: T
+00007a90: 6974 6c65 206f 6620 7468 6520 6772 6170  itle of the grap
+00007aa0: 680a 2020 2020 2020 2020 3a74 7970 6520  h.        :type 
+00007ab0: 7469 746c 653a 2073 7472 0a20 2020 2020  title: str.     
+00007ac0: 2020 203a 7061 7261 6d20 696e 6475 6374     :param induct
+00007ad0: 616e 6365 5f76 616c 7565 3a20 4461 7461  ance_value: Data
+00007ae0: 2070 6f69 6e74 7320 666f 7220 696e 6475   points for indu
+00007af0: 6374 616e 6365 2076 616c 7565 2063 6f72  ctance value cor
+00007b00: 7265 7370 6f6e 6469 6e67 2074 6f20 7468  responding to th
+00007b10: 6520 2878 2c20 792c 207a 293a 2028 4f70  e (x, y, z): (Op
+00007b20: 7469 6f6e 616c 290a 2020 2020 2020 2020  tional).        
+00007b30: 3a74 7970 6520 696e 6475 6374 616e 6365  :type inductance
+00007b40: 5f76 616c 7565 3a20 6c69 7374 0a20 2020  _value: list.   
+00007b50: 2020 2020 203a 7061 7261 6d20 616e 6e6f       :param anno
+00007b60: 7461 7469 6f6e 733a 2041 6e6e 6f74 6174  tations: Annotat
+00007b70: 696f 6e73 2063 6f72 7265 7370 6f6e 6469  ions correspondi
+00007b80: 6e67 2074 6f20 7468 6520 3344 2070 6f69  ng to the 3D poi
+00007b90: 6e74 730a 2020 2020 2020 2020 3a74 7970  nts.        :typ
+00007ba0: 6520 616e 6e6f 7461 7469 6f6e 733a 206c  e annotations: l
+00007bb0: 6973 740a 2020 2020 2020 2020 3a70 6172  ist.        :par
+00007bc0: 616d 2070 6c6f 745f 636f 6c6f 723a 2043  am plot_color: C
+00007bd0: 6f6c 6f72 206f 6620 7468 6520 706c 6f74  olor of the plot
+00007be0: 2028 7468 6520 636f 6c6f 7273 2061 7265   (the colors are
+00007bf0: 2062 6173 6564 206f 6e20 2766 6d74 2e63   based on 'fmt.c
+00007c00: 6f6c 6f72 735f 6665 6d6d 745f 6465 6661  olors_femmt_defa
+00007c10: 756c 7427 290a 2020 2020 2020 2020 3a74  ult').        :t
+00007c20: 7970 6520 616e 6e6f 7461 7469 6f6e 733a  ype annotations:
+00007c30: 2073 7472 0a20 2020 2020 2020 2022 2222   str.        """
+00007c40: 0a20 2020 2020 2020 2069 6620 616e 6e6f  .        if anno
+00007c50: 7461 7469 6f6e 7320 6973 204e 6f6e 653a  tations is None:
+00007c60: 0a20 2020 2020 2020 2020 2020 206e 616d  .            nam
+00007c70: 6573 203d 205b 7374 7228 7829 2066 6f72  es = [str(x) for
+00007c80: 2078 2069 6e20 6c69 7374 2872 616e 6765   x in list(range
+00007c90: 286c 656e 2878 5f76 616c 7565 2929 295d  (len(x_value)))]
+00007ca0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+00007cb0: 2020 2020 2020 2020 2020 2074 656d 705f             temp_
+00007cc0: 7661 7220 3d20 5b69 6e74 2878 2920 666f  var = [int(x) fo
+00007cd0: 7220 7820 696e 2061 6e6e 6f74 6174 696f  r x in annotatio
+00007ce0: 6e73 5d0a 2020 2020 2020 2020 2020 2020  ns].            
+00007cf0: 6e61 6d65 7320 3d20 5b73 7472 2878 2920  names = [str(x) 
+00007d00: 666f 7220 7820 696e 2074 656d 705f 7661  for x in temp_va
+00007d10: 725d 0a0a 2020 2020 2020 2020 6966 2069  r]..        if i
+00007d20: 6e64 7563 7461 6e63 655f 7661 6c75 6520  nductance_value 
+00007d30: 6973 206e 6f74 204e 6f6e 653a 0a20 2020  is not None:.   
+00007d40: 2020 2020 2020 2020 206c 5f6c 6162 656c           l_label
+00007d50: 203d 2027 4c20 2f20 4827 0a0a 2020 2020   = 'L / H'..    
+00007d60: 2020 2020 6966 207a 5f76 616c 7565 2069      if z_value i
+00007d70: 7320 6e6f 7420 4e6f 6e65 3a0a 2020 2020  s not None:.    
+00007d80: 2020 2020 2020 2020 7a5f 7661 6c75 655f          z_value_
+00007d90: 7374 7220 3d20 5b73 7472 2872 6f75 6e64  str = [str(round
+00007da0: 287a 2c20 3329 2920 666f 7220 7a20 696e  (z, 3)) for z in
+00007db0: 207a 5f76 616c 7565 5d0a 0a20 2020 2020   z_value]..     
+00007dc0: 2020 2069 6620 696e 6475 6374 616e 6365     if inductance
+00007dd0: 5f76 616c 7565 2069 7320 6e6f 7420 4e6f  _value is not No
+00007de0: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
+00007df0: 6c5f 7661 6c75 655f 7374 7220 3d20 5b73  l_value_str = [s
+00007e00: 7472 2872 6f75 6e64 2869 6e64 7563 7461  tr(round(inducta
+00007e10: 6e63 652c 2036 2929 2066 6f72 2069 6e64  nce, 6)) for ind
+00007e20: 7563 7461 6e63 6520 696e 2069 6e64 7563  uctance in induc
+00007e30: 7461 6e63 655f 7661 6c75 655d 0a0a 2020  tance_value]..  
+00007e40: 2020 2020 2020 785f 7661 6c75 655f 7374        x_value_st
+00007e50: 7220 3d20 5b73 7472 2872 6f75 6e64 2878  r = [str(round(x
+00007e60: 2c20 3629 2920 666f 7220 7820 696e 2078  , 6)) for x in x
+00007e70: 5f76 616c 7565 5d0a 2020 2020 2020 2020  _value].        
+00007e80: 795f 7661 6c75 655f 7374 7220 3d20 5b73  y_value_str = [s
+00007e90: 7472 2872 6f75 6e64 2879 2c20 3329 2920  tr(round(y, 3)) 
+00007ea0: 666f 7220 7920 696e 2079 5f76 616c 7565  for y in y_value
+00007eb0: 5d0a 0a20 2020 2020 2020 2069 6620 7a5f  ]..        if z_
+00007ec0: 7661 6c75 6520 6973 204e 6f6e 653a 0a20  value is None:. 
+00007ed0: 2020 2020 2020 2020 2020 2073 6320 3d20             sc = 
+00007ee0: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00007ef0: 742e 6178 6973 2e73 6361 7474 6572 2878  t.axis.scatter(x
+00007f00: 5f76 616c 7565 2c20 795f 7661 6c75 652c  _value, y_value,
+00007f10: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00007f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00007f40: 2063 3d27 2325 3032 7825 3032 7825 3032   c='#%02x%02x%02
+00007f50: 7827 2025 2066 6d74 2e63 6f6c 6f72 735f  x' % fmt.colors_
+00007f60: 6665 6d6d 745f 6465 6661 756c 745b 706c  femmt_default[pl
+00007f70: 6f74 5f63 6f6c 6f72 5d29 0a0a 2020 2020  ot_color])..    
+00007f80: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00007f90: 2020 2020 2020 7363 203d 206d 6174 706c        sc = matpl
+00007fa0: 6f74 6c69 625f 7769 6467 6574 2e61 7869  otlib_widget.axi
+00007fb0: 732e 7363 6174 7465 7228 785f 7661 6c75  s.scatter(x_valu
+00007fc0: 652c 2079 5f76 616c 7565 2c20 633d 7a5f  e, y_value, c=z_
+00007fd0: 7661 6c75 652c 2063 6d61 703d 706c 6f74  value, cmap=plot
+00007fe0: 5f63 6f6c 6f72 290a 2020 2020 2020 2020  _color).        
+00007ff0: 2020 2020 6362 6172 203d 206d 6174 706c      cbar = matpl
+00008000: 6f74 6c69 625f 7769 6467 6574 2e66 6967  otlib_widget.fig
+00008010: 7572 652e 636f 6c6f 7262 6172 2873 6329  ure.colorbar(sc)
+00008020: 0a20 2020 2020 2020 2020 2020 2063 6261  .            cba
+00008030: 722e 6178 2e67 6574 5f79 6178 6973 2829  r.ax.get_yaxis()
+00008040: 2e6c 6162 656c 7061 6420 3d20 3135 0a20  .labelpad = 15. 
+00008050: 2020 2020 2020 2020 2020 2063 6261 722e             cbar.
+00008060: 6178 2e73 6574 5f79 6c61 6265 6c28 7a5f  ax.set_ylabel(z_
+00008070: 6c61 6265 6c2c 2072 6f74 6174 696f 6e3d  label, rotation=
+00008080: 3237 3029 0a0a 2020 2020 2020 2020 6d70  270)..        mp
+00008090: 6c63 7572 736f 7273 2e63 7572 736f 7228  lcursors.cursor(
+000080a0: 7363 290a 2020 2020 2020 2020 6d61 7470  sc).        matp
+000080b0: 6c6f 746c 6962 5f77 6964 6765 742e 6178  lotlib_widget.ax
+000080c0: 6973 2e73 6574 2878 6c61 6265 6c3d 785f  is.set(xlabel=x_
+000080d0: 6c61 6265 6c2c 2079 6c61 6265 6c3d 795f  label, ylabel=y_
+000080e0: 6c61 6265 6c2c 2074 6974 6c65 3d74 6974  label, title=tit
+000080f0: 6c65 290a 2020 2020 2020 2020 616e 6e6f  le).        anno
+00008100: 7420 3d20 6d61 7470 6c6f 746c 6962 5f77  t = matplotlib_w
+00008110: 6964 6765 742e 6178 6973 2e61 6e6e 6f74  idget.axis.annot
+00008120: 6174 6528 2222 2c20 7879 3d28 302c 2030  ate("", xy=(0, 0
+00008130: 292c 2078 7974 6578 743d 2832 302c 2032  ), xytext=(20, 2
+00008140: 3029 2c20 7465 7874 636f 6f72 6473 3d22  0), textcoords="
+00008150: 6f66 6673 6574 2070 6f69 6e74 7322 2c0a  offset points",.
+00008160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008190: 6262 6f78 3d64 6963 7428 626f 7873 7479  bbox=dict(boxsty
+000081a0: 6c65 3d22 726f 756e 6422 2c20 6663 3d22  le="round", fc="
+000081b0: 7722 292c 0a20 2020 2020 2020 2020 2020  w"),.           
+000081c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000081d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000081e0: 2020 2020 2061 7272 6f77 7072 6f70 733d       arrowprops=
+000081f0: 6469 6374 2861 7272 6f77 7374 796c 653d  dict(arrowstyle=
+00008200: 222d 3e22 2929 0a20 2020 2020 2020 2061  "->")).        a
+00008210: 6e6e 6f74 2e73 6574 5f76 6973 6962 6c65  nnot.set_visible
+00008220: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+00008230: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00008240: 742e 6669 6775 7265 2e74 6967 6874 5f6c  t.figure.tight_l
+00008250: 6179 6f75 7428 290a 2020 2020 2020 2020  ayout().        
+00008260: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00008270: 742e 6178 6973 2e67 7269 6428 290a 0a20  t.axis.grid().. 
+00008280: 2020 2020 2020 2064 6566 2075 7064 6174         def updat
+00008290: 655f 616e 6e6f 7428 696e 6429 3a0a 2020  e_annot(ind):.  
+000082a0: 2020 2020 2020 2020 2020 2222 2243 7265            """Cre
+000082b0: 6174 6520 706f 706f 7665 7220 616e 6e6f  ate popover anno
+000082c0: 7461 7469 6f6e 7320 696e 2032 6420 706c  tations in 2d pl
+000082d0: 6f74 2e22 2222 0a20 2020 2020 2020 2020  ot.""".         
+000082e0: 2020 2070 6f73 203d 2073 632e 6765 745f     pos = sc.get_
+000082f0: 6f66 6673 6574 7328 295b 696e 645b 2269  offsets()[ind["i
+00008300: 6e64 225d 5b30 5d5d 0a20 2020 2020 2020  nd"][0]].       
+00008310: 2020 2020 2061 6e6e 6f74 2e78 7920 3d20       annot.xy = 
+00008320: 706f 730a 2020 2020 2020 2020 2020 2020  pos.            
+00008330: 7465 7874 203d 2022 220a 2020 2020 2020  text = "".      
+00008340: 2020 2020 2020 6966 207a 5f6c 6162 656c        if z_label
+00008350: 2069 7320 4e6f 6e65 2061 6e64 2069 6e64   is None and ind
+00008360: 7563 7461 6e63 655f 7661 6c75 6520 6973  uctance_value is
+00008370: 204e 6f6e 653a 0a20 2020 2020 2020 2020   None:.         
+00008380: 2020 2020 2020 2074 6578 7420 3d20 2263         text = "c
+00008390: 6173 653a 207b 7d5c 6e7b 7d3a 207b 7d5c  ase: {}\n{}: {}\
+000083a0: 6e7b 7d3a 7b7d 222e 205c 0a20 2020 2020  n{}:{}". \.     
+000083b0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+000083c0: 6f72 6d61 7428 2220 222e 6a6f 696e 285b  ormat(" ".join([
+000083d0: 6e61 6d65 735b 6e5d 2066 6f72 206e 2069  names[n] for n i
+000083e0: 6e20 696e 645b 2269 6e64 225d 5d29 2c0a  n ind["ind"]]),.
+000083f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008400: 2020 2020 2020 2020 2020 2078 5f6c 6162             x_lab
+00008410: 656c 2c20 2220 222e 6a6f 696e 285b 785f  el, " ".join([x_
+00008420: 7661 6c75 655f 7374 725b 6e5d 2066 6f72  value_str[n] for
+00008430: 206e 2069 6e20 696e 645b 2269 6e64 225d   n in ind["ind"]
+00008440: 5d29 2c0a 2020 2020 2020 2020 2020 2020  ]),.            
+00008450: 2020 2020 2020 2020 2020 2020 2020 2079                 y
+00008460: 5f6c 6162 656c 2c20 2220 222e 6a6f 696e  _label, " ".join
+00008470: 285b 795f 7661 6c75 655f 7374 725b 6e5d  ([y_value_str[n]
+00008480: 2066 6f72 206e 2069 6e20 696e 645b 2269   for n in ind["i
+00008490: 6e64 225d 5d29 290a 2020 2020 2020 2020  nd"]])).        
+000084a0: 2020 2020 656c 6966 207a 5f6c 6162 656c      elif z_label
+000084b0: 2069 7320 6e6f 7420 4e6f 6e65 2061 6e64   is not None and
+000084c0: 2069 6e64 7563 7461 6e63 655f 7661 6c75   inductance_valu
+000084d0: 6520 6973 204e 6f6e 653a 0a20 2020 2020  e is None:.     
+000084e0: 2020 2020 2020 2020 2020 2074 6578 7420             text 
+000084f0: 3d20 2263 6173 653a 207b 7d5c 6e7b 7d3a  = "case: {}\n{}:
+00008500: 207b 7d5c 6e7b 7d3a 7b7d 5c6e 7b7d 3a7b   {}\n{}:{}\n{}:{
+00008510: 7d22 2e20 5c0a 2020 2020 2020 2020 2020  }". \.          
+00008520: 2020 2020 2020 2020 2020 666f 726d 6174            format
+00008530: 2822 2022 2e6a 6f69 6e28 5b6e 616d 6573  (" ".join([names
+00008540: 5b6e 5d20 666f 7220 6e20 696e 2069 6e64  [n] for n in ind
+00008550: 5b22 696e 6422 5d5d 292c 0a20 2020 2020  ["ind"]]),.     
+00008560: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008570: 2020 2020 2020 785f 6c61 6265 6c2c 2022        x_label, "
+00008580: 2022 2e6a 6f69 6e28 5b78 5f76 616c 7565   ".join([x_value
+00008590: 5f73 7472 5b6e 5d20 666f 7220 6e20 696e  _str[n] for n in
+000085a0: 2069 6e64 5b22 696e 6422 5d5d 292c 0a20   ind["ind"]]),. 
+000085b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000085c0: 2020 2020 2020 2020 2020 795f 6c61 6265            y_labe
+000085d0: 6c2c 2022 2022 2e6a 6f69 6e28 5b79 5f76  l, " ".join([y_v
+000085e0: 616c 7565 5f73 7472 5b6e 5d20 666f 7220  alue_str[n] for 
+000085f0: 6e20 696e 2069 6e64 5b22 696e 6422 5d5d  n in ind["ind"]]
+00008600: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00008610: 2020 2020 2020 2020 2020 2020 2020 7a5f                z_
+00008620: 6c61 6265 6c2c 2022 2022 2e6a 6f69 6e28  label, " ".join(
+00008630: 5b7a 5f76 616c 7565 5f73 7472 5b6e 5d20  [z_value_str[n] 
+00008640: 666f 7220 6e20 696e 2069 6e64 5b22 696e  for n in ind["in
+00008650: 6422 5d5d 2929 0a20 2020 2020 2020 2020  d"]])).         
+00008660: 2020 2065 6c69 6620 7a5f 6c61 6265 6c20     elif z_label 
+00008670: 6973 204e 6f6e 6520 616e 6420 696e 6475  is None and indu
+00008680: 6374 616e 6365 5f76 616c 7565 2069 7320  ctance_value is 
+00008690: 6e6f 7420 4e6f 6e65 3a0a 2020 2020 2020  not None:.      
+000086a0: 2020 2020 2020 2020 2020 7465 7874 203d            text =
+000086b0: 2022 6361 7365 3a20 7b7d 5c6e 7b7d 3a20   "case: {}\n{}: 
+000086c0: 7b7d 5c6e 7b7d 3a7b 7d5c 6e7b 7d3a 7b7d  {}\n{}:{}\n{}:{}
+000086d0: 222e 205c 0a20 2020 2020 2020 2020 2020  ". \.           
+000086e0: 2020 2020 2020 2020 2066 6f72 6d61 7428           format(
+000086f0: 2220 222e 6a6f 696e 285b 6e61 6d65 735b  " ".join([names[
+00008700: 6e5d 2066 6f72 206e 2069 6e20 696e 645b  n] for n in ind[
+00008710: 2269 6e64 225d 5d29 2c0a 2020 2020 2020  "ind"]]),.      
+00008720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008730: 2020 2020 2078 5f6c 6162 656c 2c20 2220       x_label, " 
+00008740: 222e 6a6f 696e 285b 785f 7661 6c75 655f  ".join([x_value_
+00008750: 7374 725b 6e5d 2066 6f72 206e 2069 6e20  str[n] for n in 
+00008760: 696e 645b 2269 6e64 225d 5d29 2c0a 2020  ind["ind"]]),.  
+00008770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008780: 2020 2020 2020 2020 2079 5f6c 6162 656c           y_label
+00008790: 2c20 2220 222e 6a6f 696e 285b 795f 7661  , " ".join([y_va
+000087a0: 6c75 655f 7374 725b 6e5d 2066 6f72 206e  lue_str[n] for n
+000087b0: 2069 6e20 696e 645b 2269 6e64 225d 5d29   in ind["ind"]])
+000087c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+000087d0: 2020 2020 2020 2020 2020 2020 206c 5f6c               l_l
+000087e0: 6162 656c 2c20 2220 222e 6a6f 696e 285b  abel, " ".join([
+000087f0: 6c5f 7661 6c75 655f 7374 725b 6e5d 2066  l_value_str[n] f
+00008800: 6f72 206e 2069 6e20 696e 645b 2269 6e64  or n in ind["ind
+00008810: 225d 5d29 290a 2020 2020 2020 2020 2020  "]])).          
+00008820: 2020 656c 7365 3a0a 2020 2020 2020 2020    else:.        
+00008830: 2020 2020 2020 2020 7465 7874 203d 2022          text = "
+00008840: 6361 7365 3a20 7b7d 5c6e 7b7d 3a20 7b7d  case: {}\n{}: {}
+00008850: 5c6e 7b7d 3a7b 7d5c 6e7b 7d3a 7b7d 5c6e  \n{}:{}\n{}:{}\n
+00008860: 7b7d 3a7b 7d22 2e20 5c0a 2020 2020 2020  {}:{}". \.      
+00008870: 2020 2020 2020 2020 2020 2020 2020 666f                fo
+00008880: 726d 6174 2822 2022 2e6a 6f69 6e28 5b6e  rmat(" ".join([n
+00008890: 616d 6573 5b6e 5d20 666f 7220 6e20 696e  ames[n] for n in
+000088a0: 2069 6e64 5b22 696e 6422 5d5d 292c 0a20   ind["ind"]]),. 
+000088b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000088c0: 2020 2020 2020 2020 2020 785f 6c61 6265            x_labe
+000088d0: 6c2c 2022 2022 2e6a 6f69 6e28 5b78 5f76  l, " ".join([x_v
+000088e0: 616c 7565 5f73 7472 5b6e 5d20 666f 7220  alue_str[n] for 
+000088f0: 6e20 696e 2069 6e64 5b22 696e 6422 5d5d  n in ind["ind"]]
+00008900: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00008910: 2020 2020 2020 2020 2020 2020 2020 795f                y_
+00008920: 6c61 6265 6c2c 2022 2022 2e6a 6f69 6e28  label, " ".join(
+00008930: 5b79 5f76 616c 7565 5f73 7472 5b6e 5d20  [y_value_str[n] 
+00008940: 666f 7220 6e20 696e 2069 6e64 5b22 696e  for n in ind["in
+00008950: 6422 5d5d 292c 0a20 2020 2020 2020 2020  d"]]),.         
+00008960: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00008970: 2020 7a5f 6c61 6265 6c2c 2022 2022 2e6a    z_label, " ".j
+00008980: 6f69 6e28 5b7a 5f76 616c 7565 5f73 7472  oin([z_value_str
+00008990: 5b6e 5d20 666f 7220 6e20 696e 2069 6e64  [n] for n in ind
+000089a0: 5b22 696e 6422 5d5d 292c 0a20 2020 2020  ["ind"]]),.     
+000089b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000089c0: 2020 2020 2020 6c5f 6c61 6265 6c2c 2022        l_label, "
+000089d0: 2022 2e6a 6f69 6e28 5b6c 5f76 616c 7565   ".join([l_value
+000089e0: 5f73 7472 5b6e 5d20 666f 7220 6e20 696e  _str[n] for n in
+000089f0: 2069 6e64 5b22 696e 6422 5d5d 2929 0a20   ind["ind"]])). 
+00008a00: 2020 2020 2020 2020 2020 2061 6e6e 6f74             annot
+00008a10: 2e73 6574 5f74 6578 7428 7465 7874 290a  .set_text(text).
+00008a20: 2020 2020 2020 2020 2020 2020 616e 6e6f              anno
+00008a30: 742e 6765 745f 6262 6f78 5f70 6174 6368  t.get_bbox_patch
+00008a40: 2829 2e73 6574 5f61 6c70 6861 2830 2e34  ().set_alpha(0.4
+00008a50: 290a 0a20 2020 2064 6566 2061 7574 6f6d  )..    def autom
+00008a60: 6174 6564 5f64 6573 6967 6e5f 6675 6e63  ated_design_func
+00008a70: 2873 656c 662c 206d 6174 706c 6f74 6c69  (self, matplotli
+00008a80: 625f 7769 6467 6574 293a 0a20 2020 2020  b_widget):.     
+00008a90: 2020 2022 2222 4372 6561 7465 2074 6f20     """Create to 
+00008aa0: 6163 6365 7074 2069 6e70 7574 2070 6172  accept input par
+00008ab0: 616d 6574 6572 7320 6672 6f6d 2074 6865  ameters from the
+00008ac0: 2064 6566 696e 6974 696f 6e73 2074 6162   definitions tab
+00008ad0: 2c20 746f 2063 7265 6174 6520 6d61 7472  , to create matr
+00008ae0: 6978 2077 6974 6820 616c 6c20 696e 7075  ix with all inpu
+00008af0: 7420 636f 6d62 696e 6174 696f 6e73 2e0a  t combinations..
+00008b00: 0a20 2020 2020 2020 2041 2063 616c 6c20  .        A call 
+00008b10: 6973 2062 6569 6e67 206d 6164 6520 746f  is being made to
+00008b20: 2074 6865 2072 656c 7563 7461 6e63 6520   the reluctance 
+00008b30: 6d6f 6465 6c20 746f 2066 696c 7465 7220  model to filter 
+00008b40: 6f75 7420 7468 6520 6361 7365 7320 666f  out the cases fo
+00008b50: 7220 4645 4d20 7369 6d75 6c61 7469 6f6e  r FEM simulation
+00008b60: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+00008b70: 6d20 6d61 7470 6c6f 746c 6962 5f77 6964  m matplotlib_wid
+00008b80: 6765 743a 2054 6f20 706c 6f74 2076 6f6c  get: To plot vol
+00008b90: 756d 6520 7673 206c 6f73 7320 696e 2072  ume vs loss in r
+00008ba0: 656c 7563 7461 6e63 6520 6d6f 6465 6c73  eluctance models
+00008bb0: 2074 6162 0a20 2020 2020 2020 2022 2222   tab.        """
+00008bc0: 0a20 2020 2020 2020 2023 2023 2323 2323  .        # #####
+00008bd0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00008be0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00008bf0: 2323 2320 2020 7b44 4553 4947 4e20 5041  ###   {DESIGN PA
+00008c00: 5241 4d45 5445 5253 7d20 2020 2323 2323  RAMETERS}   ####
+00008c10: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00008c20: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00008c30: 2323 2323 2323 2323 2323 2323 230a 2020  #############.  
+00008c40: 2020 2020 2020 676f 616c 5f69 6e64 7563        goal_induc
+00008c50: 7461 6e63 6520 3d20 636f 6d6d 615f 7374  tance = comma_st
+00008c60: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00008c70: 280a 2020 2020 2020 2020 2020 2020 7365  (.            se
+00008c80: 6c66 2e61 7574 5f67 6f61 6c5f 696e 6475  lf.aut_goal_indu
+00008c90: 6374 616e 6365 5f76 616c 5f6c 696e 6545  ctance_val_lineE
+00008ca0: 6469 742e 7465 7874 2829 2920 2023 2041  dit.text())  # A
+00008cb0: 7574 6f6d 6174 6564 2d64 6573 6967 6e20  utomated-design 
+00008cc0: 7265 6c75 6374 616e 6365 2d6d 6f64 656c  reluctance-model
+00008cd0: 2074 6172 6765 7420 696e 6475 6374 616e   target inductan
+00008ce0: 6365 0a20 2020 2020 2020 2073 656c 662e  ce.        self.
+00008cf0: 7472 616e 735f 6469 6374 203d 207b 0a20  trans_dict = {. 
+00008d00: 2020 2020 2020 2020 2020 2023 206b 6579             # key
+00008d10: 3a20 5573 6564 2069 6e20 4645 4d4d 5420  : Used in FEMMT 
+00008d20: 636f 6465 0a20 2020 2020 2020 2020 2020  code.           
+00008d30: 2023 2076 616c 7565 3a20 5573 6564 2069   # value: Used i
+00008d40: 6e20 4755 490a 2020 2020 2020 2020 2020  n GUI.          
+00008d50: 2020 222b 2f2d 2031 3025 223a 2022 3130    "+/- 10%": "10
+00008d60: 222c 0a20 2020 2020 2020 2020 2020 2022  ",.            "
+00008d70: 4564 6765 2064 6973 7472 6962 7574 6564  Edge distributed
+00008d80: 223a 2022 3122 2c0a 2020 2020 2020 2020  ": "1",.        
+00008d90: 2020 2020 2243 656e 7472 6520 6469 7374      "Centre dist
+00008da0: 7269 6275 7465 6422 3a20 2232 220a 2020  ributed": "2".  
+00008db0: 2020 2020 2020 7d0a 2020 2020 2020 2020        }.        
+00008dc0: 4c5f 746f 6c65 7261 6e63 655f 7065 7263  L_tolerance_perc
+00008dd0: 656e 7420 3d20 696e 7428 7365 6c66 2e74  ent = int(self.t
+00008de0: 7261 6e73 5f64 6963 745b 7365 6c66 2e61  rans_dict[self.a
+00008df0: 7574 5f72 656c 5f74 6f6c 6572 616e 6365  ut_rel_tolerance
+00008e00: 5f76 616c 5f63 6f6d 626f 426f 782e 6375  _val_comboBox.cu
+00008e10: 7272 656e 7454 6578 7428 295d 290a 2020  rrentText()]).  
+00008e20: 2020 2020 2020 7365 6c66 2e69 5f6d 6178        self.i_max
+00008e30: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+00008e40: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00008e50: 2e61 7574 5f6d 6178 696d 756d 5f63 7572  .aut_maximum_cur
+00008e60: 7265 6e74 5f6c 696e 6545 6469 742e 7465  rent_lineEdit.te
+00008e70: 7874 2829 290a 2020 2020 2020 2020 2320  xt()).        # 
+00008e80: 4d61 7820 6375 7272 656e 7420 616d 706c  Max current ampl
+00008e90: 6974 7564 6520 7769 7468 2061 7373 756d  itude with assum
+00008ea0: 7074 696f 6e20 6f66 2073 696e 7573 6f69  ption of sinusoi
+00008eb0: 6461 6c20 6375 7272 656e 7420 7761 7665  dal current wave
+00008ec0: 666f 726d 0a20 2020 2020 2020 2070 6572  form.        per
+00008ed0: 6365 6e74 5f6f 665f 425f 7361 7420 3d20  cent_of_B_sat = 
+00008ee0: 696e 7428 7365 6c66 2e61 7574 5f62 5f73  int(self.aut_b_s
+00008ef0: 6174 5f6c 696e 6545 6469 742e 7465 7874  at_lineEdit.text
+00008f00: 2829 2920 2023 2050 6572 6365 6e74 206f  ())  # Percent o
+00008f10: 6620 425f 7361 7420 616c 6c6f 7765 6420  f B_sat allowed 
+00008f20: 696e 2074 6865 2064 6573 6967 6e65 6420  in the designed 
+00008f30: 636f 7265 0a0a 2020 2020 2020 2020 7065  core..        pe
+00008f40: 7263 656e 745f 6f66 5f74 6f74 616c 5f6c  rcent_of_total_l
+00008f50: 6f73 7320 3d20 696e 7428 7365 6c66 2e61  oss = int(self.a
+00008f60: 7574 5f68 7973 7465 7269 7369 735f 6c6f  ut_hysterisis_lo
+00008f70: 7373 5f6f 7074 696f 6e73 5f6c 696e 6545  ss_options_lineE
+00008f80: 6469 742e 7465 7874 2829 290a 2020 2020  dit.text()).    
+00008f90: 2020 2020 2320 5065 7263 656e 7420 6f66      # Percent of
+00008fa0: 2074 6f74 616c 5f6c 6f73 7320 616c 6c6f   total_loss allo
+00008fb0: 7765 6420 696e 2046 454d 2073 696d 756c  wed in FEM simul
+00008fc0: 6174 696f 6e0a 0a20 2020 2020 2020 2073  ation..        s
+00008fd0: 656c 662e 6672 6571 203d 2063 6f6d 6d61  elf.freq = comma
+00008fe0: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
+00008ff0: 6f61 7428 7365 6c66 2e61 7574 5f73 7769  oat(self.aut_swi
+00009000: 7463 6869 6e67 5f66 7265 715f 6c69 6e65  tching_freq_line
+00009010: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
+00009020: 2020 2020 206d 755f 696d 6167 203d 2031       mu_imag = 1
+00009030: 3030 0a20 2020 2020 2020 2043 755f 7369  00.        Cu_si
+00009040: 676d 6120 3d20 352e 3936 202a 2031 6537  gma = 5.96 * 1e7
+00009050: 2020 2320 636f 7070 6572 2063 6f6e 6475    # copper condu
+00009060: 6374 6976 6974 7920 2873 6967 6d61 2920  ctivity (sigma) 
+00009070: 4020 3230 2064 6567 7265 6520 6365 6c73  @ 20 degree cels
+00009080: 6975 730a 0a20 2020 2020 2020 2023 2053  ius..        # S
+00009090: 6574 2063 6f72 652d 6765 6f6d 6574 7279  et core-geometry
+000090a0: 2066 726f 6d20 636f 7265 2064 6174 6162   from core datab
+000090b0: 6173 6520 6f72 2f61 6e64 206d 616e 7561  ase or/and manua
+000090c0: 6c20 656e 7472 790a 2020 2020 2020 2020  l entry.        
+000090d0: 6d69 6e5f 636f 7265 5f77 203d 2063 6f6d  min_core_w = com
+000090e0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+000090f0: 666c 6f61 7428 7365 6c66 2e61 7574 5f6d  float(self.aut_m
+00009100: 696e 5f63 6f72 655f 7769 6474 685f 6c69  in_core_width_li
+00009110: 6e65 4564 6974 2e74 6578 7428 2929 0a20  neEdit.text()). 
+00009120: 2020 2020 2020 206d 6178 5f63 6f72 655f         max_core_
+00009130: 7720 3d20 636f 6d6d 615f 7374 725f 746f  w = comma_str_to
+00009140: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+00009150: 662e 6175 745f 6d61 785f 636f 7265 5f77  f.aut_max_core_w
+00009160: 6964 7468 5f6c 696e 6545 6469 742e 7465  idth_lineEdit.te
+00009170: 7874 2829 290a 2020 2020 2020 2020 7374  xt()).        st
+00009180: 6570 5f63 6f72 655f 7720 3d20 696e 7428  ep_core_w = int(
+00009190: 7365 6c66 2e61 7574 5f73 7465 705f 636f  self.aut_step_co
+000091a0: 7265 5f77 6964 7468 5f6c 696e 6545 6469  re_width_lineEdi
+000091b0: 742e 7465 7874 2829 290a 2020 2020 2020  t.text()).      
+000091c0: 2020 6d69 6e5f 7769 6e64 6f77 5f68 203d    min_window_h =
+000091d0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+000091e0: 696e 745f 666c 6f61 7428 7365 6c66 2e61  int_float(self.a
+000091f0: 7574 5f6d 696e 5f77 696e 646f 775f 6865  ut_min_window_he
+00009200: 6967 6874 5f6c 696e 6545 6469 742e 7465  ight_lineEdit.te
+00009210: 7874 2829 290a 2020 2020 2020 2020 6d61  xt()).        ma
+00009220: 785f 7769 6e64 6f77 5f68 203d 2063 6f6d  x_window_h = com
+00009230: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+00009240: 666c 6f61 7428 7365 6c66 2e61 7574 5f6d  float(self.aut_m
+00009250: 6178 5f77 696e 646f 775f 6865 6967 6874  ax_window_height
+00009260: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00009270: 290a 2020 2020 2020 2020 7374 6570 5f77  ).        step_w
+00009280: 696e 646f 775f 6820 3d20 696e 7428 7365  indow_h = int(se
+00009290: 6c66 2e61 7574 5f73 7465 705f 7769 6e64  lf.aut_step_wind
+000092a0: 6f77 5f68 6569 6768 745f 6c69 6e65 4564  ow_height_lineEd
+000092b0: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
+000092c0: 2020 206d 696e 5f77 696e 646f 775f 7720     min_window_w 
+000092d0: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+000092e0: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+000092f0: 6175 745f 6d69 6e5f 7769 6e64 6f77 5f77  aut_min_window_w
+00009300: 6964 7468 5f6c 696e 6545 6469 742e 7465  idth_lineEdit.te
+00009310: 7874 2829 290a 2020 2020 2020 2020 6d61  xt()).        ma
+00009320: 785f 7769 6e64 6f77 5f77 203d 2063 6f6d  x_window_w = com
+00009330: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+00009340: 666c 6f61 7428 7365 6c66 2e61 7574 5f6d  float(self.aut_m
+00009350: 6178 5f77 696e 646f 775f 7769 6474 685f  ax_window_width_
+00009360: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
+00009370: 0a20 2020 2020 2020 2073 7465 705f 7769  .        step_wi
+00009380: 6e64 6f77 5f77 203d 2069 6e74 2873 656c  ndow_w = int(sel
+00009390: 662e 6175 745f 7374 6570 5f77 696e 646f  f.aut_step_windo
+000093a0: 775f 7769 6474 685f 6c69 6e65 4564 6974  w_width_lineEdit
+000093b0: 2e74 6578 7428 2929 0a0a 2020 2020 2020  .text())..      
+000093c0: 2020 6d61 6e75 616c 5f63 6f72 655f 7720    manual_core_w 
+000093d0: 3d20 6c69 7374 286e 702e 6c69 6e73 7061  = list(np.linspa
+000093e0: 6365 286d 696e 5f63 6f72 655f 772c 206d  ce(min_core_w, m
+000093f0: 6178 5f63 6f72 655f 772c 2073 7465 705f  ax_core_w, step_
+00009400: 636f 7265 5f77 2929 0a20 2020 2020 2020  core_w)).       
+00009410: 206d 616e 7561 6c5f 7769 6e64 6f77 5f68   manual_window_h
+00009420: 203d 206c 6973 7428 6e70 2e6c 696e 7370   = list(np.linsp
+00009430: 6163 6528 6d69 6e5f 7769 6e64 6f77 5f68  ace(min_window_h
+00009440: 2c20 6d61 785f 7769 6e64 6f77 5f68 2c20  , max_window_h, 
+00009450: 7374 6570 5f77 696e 646f 775f 6829 290a  step_window_h)).
+00009460: 2020 2020 2020 2020 6d61 6e75 616c 5f77          manual_w
+00009470: 696e 646f 775f 7720 3d20 6c69 7374 286e  indow_w = list(n
+00009480: 702e 6c69 6e73 7061 6365 286d 696e 5f77  p.linspace(min_w
+00009490: 696e 646f 775f 772c 206d 6178 5f77 696e  indow_w, max_win
+000094a0: 646f 775f 772c 2073 7465 705f 7769 6e64  dow_w, step_wind
+000094b0: 6f77 5f77 2929 0a0a 2020 2020 2020 2020  ow_w))..        
+000094c0: 6462 5f63 6f72 655f 6e61 6d65 7320 3d20  db_core_names = 
+000094d0: 5b5d 2020 2320 2250 5120 3430 2f34 3022  []  # "PQ 40/40"
+000094e0: 2c20 2250 5120 3430 2f33 3022 0a20 2020  , "PQ 40/30".   
+000094f0: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
+00009500: 6e67 6528 7365 6c66 2e61 7574 5f63 6f72  nge(self.aut_cor
+00009510: 655f 6765 6f6d 6574 7279 5f62 6173 6b65  e_geometry_baske
+00009520: 745f 6c69 7374 5769 6467 6574 2e63 6f75  t_listWidget.cou
+00009530: 6e74 2829 293a 0a20 2020 2020 2020 2020  nt()):.         
+00009540: 2020 2064 625f 636f 7265 5f6e 616d 6573     db_core_names
+00009550: 2e61 7070 656e 6428 7365 6c66 2e61 7574  .append(self.aut
+00009560: 5f63 6f72 655f 6765 6f6d 6574 7279 5f62  _core_geometry_b
+00009570: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
+00009580: 2e69 7465 6d28 6929 2e74 6578 7428 2929  .item(i).text())
+00009590: 0a0a 2020 2020 2020 2020 636f 7265 5f64  ..        core_d
+000095a0: 6220 3d20 666d 742e 636f 7265 5f64 6174  b = fmt.core_dat
+000095b0: 6162 6173 6528 290a 2020 2020 2020 2020  abase().        
+000095c0: 6462 5f63 6f72 655f 7720 3d20 5b63 6f72  db_core_w = [cor
+000095d0: 655f 6462 5b63 6f72 655f 6e61 6d65 5d5b  e_db[core_name][
+000095e0: 2263 6f72 655f 696e 6e65 725f 6469 616d  "core_inner_diam
+000095f0: 6574 6572 225d 2066 6f72 2063 6f72 655f  eter"] for core_
+00009600: 6e61 6d65 2069 6e20 6462 5f63 6f72 655f  name in db_core_
+00009610: 6e61 6d65 735d 0a20 2020 2020 2020 2064  names].        d
+00009620: 625f 7769 6e64 6f77 5f68 203d 205b 636f  b_window_h = [co
+00009630: 7265 5f64 625b 636f 7265 5f6e 616d 655d  re_db[core_name]
+00009640: 5b22 7769 6e64 6f77 5f68 225d 2066 6f72  ["window_h"] for
+00009650: 2063 6f72 655f 6e61 6d65 2069 6e20 6462   core_name in db
+00009660: 5f63 6f72 655f 6e61 6d65 735d 0a20 2020  _core_names].   
+00009670: 2020 2020 2064 625f 7769 6e64 6f77 5f77       db_window_w
+00009680: 203d 205b 636f 7265 5f64 625b 636f 7265   = [core_db[core
+00009690: 5f6e 616d 655d 5b22 7769 6e64 6f77 5f77  _name]["window_w
+000096a0: 225d 2066 6f72 2063 6f72 655f 6e61 6d65  "] for core_name
+000096b0: 2069 6e20 6462 5f63 6f72 655f 6e61 6d65   in db_core_name
+000096c0: 735d 0a0a 2020 2020 2020 2020 636f 7265  s]..        core
+000096d0: 5f77 5f6c 6973 7420 3d20 6462 5f63 6f72  _w_list = db_cor
+000096e0: 655f 7720 2b20 6d61 6e75 616c 5f63 6f72  e_w + manual_cor
+000096f0: 655f 770a 2020 2020 2020 2020 7769 6e64  e_w.        wind
+00009700: 6f77 5f68 5f6c 6973 7420 3d20 6462 5f77  ow_h_list = db_w
+00009710: 696e 646f 775f 6820 2b20 6d61 6e75 616c  indow_h + manual
+00009720: 5f77 696e 646f 775f 680a 2020 2020 2020  _window_h.      
+00009730: 2020 7769 6e64 6f77 5f77 5f6c 6973 7420    window_w_list 
+00009740: 3d20 6462 5f77 696e 646f 775f 7720 2b20  = db_window_w + 
+00009750: 6d61 6e75 616c 5f77 696e 646f 775f 770a  manual_window_w.
+00009760: 0a20 2020 2020 2020 2023 2053 6574 2077  .        # Set w
+00009770: 696e 6469 6e67 2073 6574 7469 6e67 7320  inding settings 
+00009780: 2853 6f6c 6964 2061 6e64 204c 6974 7a20  (Solid and Litz 
+00009790: 7769 6e64 696e 6720 7479 7065 290a 2020  winding type).  
+000097a0: 2020 2020 2020 736f 6c69 645f 636f 6e64        solid_cond
+000097b0: 7563 746f 725f 7220 3d20 5b63 6f6d 6d61  uctor_r = [comma
+000097c0: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
+000097d0: 6f61 7428 7365 6c66 2e61 7574 5f77 696e  oat(self.aut_win
+000097e0: 6469 6e67 315f 7261 6469 7573 5f6c 696e  ding1_radius_lin
+000097f0: 6545 6469 742e 7465 7874 2829 295d 0a0a  eEdit.text())]..
+00009800: 2020 2020 2020 2020 6c69 747a 5f64 6220          litz_db 
+00009810: 3d20 666d 742e 6c69 747a 5f64 6174 6162  = fmt.litz_datab
+00009820: 6173 6528 290a 2020 2020 2020 2020 2320  ase().        # 
+00009830: 6c69 747a 5f6e 616d 6573 203d 205b 2231  litz_names = ["1
+00009840: 2e35 7831 3035 7830 2e31 225d 2020 2320  .5x105x0.1"]  # 
+00009850: 2231 2e35 7831 3035 7830 2e31 222c 2022  "1.5x105x0.1", "
+00009860: 312e 3478 3230 3078 302e 3037 3122 0a20  1.4x200x0.071". 
+00009870: 2020 2020 2020 206c 6974 7a5f 6e61 6d65         litz_name
+00009880: 7320 3d20 5b5d 0a20 2020 2020 2020 2066  s = [].        f
+00009890: 6f72 2069 2069 6e20 7261 6e67 6528 7365  or i in range(se
+000098a0: 6c66 2e61 7574 5f6c 6974 7a5f 6261 736b  lf.aut_litz_bask
+000098b0: 6574 5f6c 6973 7457 6964 6765 742e 636f  et_listWidget.co
+000098c0: 756e 7428 2929 3a0a 2020 2020 2020 2020  unt()):.        
+000098d0: 2020 2020 6c69 747a 5f6e 616d 6573 2e61      litz_names.a
+000098e0: 7070 656e 6428 7365 6c66 2e61 7574 5f6c  ppend(self.aut_l
+000098f0: 6974 7a5f 6261 736b 6574 5f6c 6973 7457  itz_basket_listW
+00009900: 6964 6765 742e 6974 656d 2869 292e 7465  idget.item(i).te
+00009910: 7874 2829 290a 2020 2020 2020 2020 7365  xt()).        se
+00009920: 6c66 2e6c 6974 7a5f 636f 6e64 7563 746f  lf.litz_conducto
+00009930: 725f 7220 3d20 5b6c 6974 7a5f 6462 5b6c  r_r = [litz_db[l
+00009940: 6974 7a5f 6e61 6d65 5d5b 2263 6f6e 6475  itz_name]["condu
+00009950: 6374 6f72 5f72 6164 6969 225d 2066 6f72  ctor_radii"] for
+00009960: 206c 6974 7a5f 6e61 6d65 2069 6e20 6c69   litz_name in li
+00009970: 747a 5f6e 616d 6573 5d0a 2020 2020 2020  tz_names].      
+00009980: 2020 7365 6c66 2e6c 6974 7a5f 7374 7261    self.litz_stra
+00009990: 6e64 5f72 203d 205b 6c69 747a 5f64 625b  nd_r = [litz_db[
+000099a0: 6c69 747a 5f6e 616d 655d 5b22 7374 7261  litz_name]["stra
+000099b0: 6e64 5f72 6164 6969 225d 2066 6f72 206c  nd_radii"] for l
+000099c0: 6974 7a5f 6e61 6d65 2069 6e20 6c69 747a  itz_name in litz
+000099d0: 5f6e 616d 6573 5d0a 2020 2020 2020 2020  _names].        
+000099e0: 7365 6c66 2e6c 6974 7a5f 7374 7261 6e64  self.litz_strand
+000099f0: 5f6e 203d 205b 6c69 747a 5f64 625b 6c69  _n = [litz_db[li
+00009a00: 747a 5f6e 616d 655d 5b22 7374 7261 6e64  tz_name]["strand
+00009a10: 735f 6e75 6d62 6572 7322 5d20 666f 7220  s_numbers"] for 
+00009a20: 6c69 747a 5f6e 616d 6520 696e 206c 6974  litz_name in lit
+00009a30: 7a5f 6e61 6d65 735d 0a0a 2020 2020 2020  z_names]..      
+00009a40: 2020 7769 6e64 696e 675f 7363 6865 6d65    winding_scheme
+00009a50: 203d 2073 656c 662e 6175 745f 7769 6e64   = self.aut_wind
+00009a60: 696e 6731 5f73 6368 656d 655f 636f 6d62  ing1_scheme_comb
+00009a70: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00009a80: 2829 0a0a 2020 2020 2020 2020 6d69 6e5f  ()..        min_
+00009a90: 636f 6e64 7563 746f 725f 7220 3d20 6d69  conductor_r = mi
+00009aa0: 6e28 7365 6c66 2e6c 6974 7a5f 636f 6e64  n(self.litz_cond
+00009ab0: 7563 746f 725f 7220 2b20 736f 6c69 645f  uctor_r + solid_
+00009ac0: 636f 6e64 7563 746f 725f 7229 0a0a 2020  conductor_r)..  
+00009ad0: 2020 2020 2020 2320 5365 7420 6169 722d        # Set air-
+00009ae0: 6761 7020 616e 6420 636f 7265 2070 6172  gap and core par
+00009af0: 616d 6574 6572 7337 0a20 2020 2020 2020  ameters7.       
+00009b00: 206e 6f5f 7475 726e 735f 6d69 6e20 3d20   no_turns_min = 
+00009b10: 696e 7428 7365 6c66 2e61 7574 5f6d 696e  int(self.aut_min
+00009b20: 5f77 696e 6469 6e67 315f 7475 726e 735f  _winding1_turns_
+00009b30: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
+00009b40: 0a20 2020 2020 2020 206e 6f5f 7475 726e  .        no_turn
+00009b50: 735f 6d61 7820 3d20 696e 7428 7365 6c66  s_max = int(self
+00009b60: 2e61 7574 5f6d 6178 5f77 696e 6469 6e67  .aut_max_winding
+00009b70: 315f 7475 726e 735f 6c69 6e65 4564 6974  1_turns_lineEdit
+00009b80: 2e74 6578 7428 2929 0a20 2020 2020 2020  .text()).       
+00009b90: 206e 6f5f 7475 726e 735f 7374 6570 203d   no_turns_step =
+00009ba0: 2028 6e6f 5f74 7572 6e73 5f6d 6178 202d   (no_turns_max -
+00009bb0: 206e 6f5f 7475 726e 735f 6d69 6e29 202b   no_turns_min) +
+00009bc0: 2031 0a20 2020 2020 2020 206e 6f5f 6169   1.        no_ai
+00009bd0: 7267 6170 735f 6d69 6e20 3d20 696e 7428  rgaps_min = int(
+00009be0: 7365 6c66 2e61 7574 5f6d 696e 5f61 6972  self.aut_min_air
+00009bf0: 5f67 6170 5f63 6f75 6e74 5f6c 696e 6545  _gap_count_lineE
+00009c00: 6469 742e 7465 7874 2829 290a 2020 2020  dit.text()).    
+00009c10: 2020 2020 6e6f 5f61 6972 6761 7073 5f6d      no_airgaps_m
+00009c20: 6178 203d 2069 6e74 2873 656c 662e 6175  ax = int(self.au
+00009c30: 745f 6d61 785f 6169 725f 6761 705f 636f  t_max_air_gap_co
+00009c40: 756e 745f 6c69 6e65 4564 6974 2e74 6578  unt_lineEdit.tex
+00009c50: 7428 2929 0a20 2020 2020 2020 2061 6972  t()).        air
+00009c60: 6761 705f 685f 6d69 6e20 3d20 636f 6d6d  gap_h_min = comm
+00009c70: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+00009c80: 6c6f 6174 2873 656c 662e 6175 745f 6169  loat(self.aut_ai
+00009c90: 725f 6761 705f 6c65 6e67 7468 5f6d 696e  r_gap_length_min
+00009ca0: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00009cb0: 290a 2020 2020 2020 2020 6169 7267 6170  ).        airgap
+00009cc0: 5f68 5f6d 6178 203d 2063 6f6d 6d61 5f73  _h_max = comma_s
+00009cd0: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+00009ce0: 7428 7365 6c66 2e61 7574 5f61 6972 5f67  t(self.aut_air_g
+00009cf0: 6170 5f6c 656e 6774 685f 6d61 785f 6c69  ap_length_max_li
+00009d00: 6e65 4564 6974 2e74 6578 7428 2929 0a20  neEdit.text()). 
+00009d10: 2020 2020 2020 2061 6972 6761 705f 685f         airgap_h_
+00009d20: 7374 6570 203d 2069 6e74 2873 656c 662e  step = int(self.
+00009d30: 6175 745f 6169 725f 6761 705f 6c65 6e67  aut_air_gap_leng
+00009d40: 7468 5f73 7465 705f 6c69 6e65 4564 6974  th_step_lineEdit
+00009d50: 2e74 6578 7428 2929 0a20 2020 2020 2020  .text()).       
+00009d60: 2061 6972 6761 705f 706f 735f 6d69 6e20   airgap_pos_min 
+00009d70: 3d20 696e 7428 7365 6c66 2e61 7574 5f61  = int(self.aut_a
+00009d80: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
+00009d90: 6d69 6e5f 6c69 6e65 4564 6974 2e74 6578  min_lineEdit.tex
+00009da0: 7428 2929 0a20 2020 2020 2020 2061 6972  t()).        air
+00009db0: 6761 705f 706f 735f 6d61 7820 3d20 696e  gap_pos_max = in
+00009dc0: 7428 7365 6c66 2e61 7574 5f61 6972 5f67  t(self.aut_air_g
+00009dd0: 6170 5f70 6f73 6974 696f 6e5f 6d61 785f  ap_position_max_
+00009de0: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
+00009df0: 0a20 2020 2020 2020 2061 6972 6761 705f  .        airgap_
+00009e00: 706f 735f 7374 6570 203d 2069 6e74 2873  pos_step = int(s
+00009e10: 656c 662e 6175 745f 6169 725f 6761 705f  elf.aut_air_gap_
+00009e20: 706f 7369 7469 6f6e 5f73 7465 705f 6c69  position_step_li
+00009e30: 6e65 4564 6974 2e74 6578 7428 2929 0a0a  neEdit.text())..
+00009e40: 2020 2020 2020 2020 6e6f 5f6f 665f 7475          no_of_tu
+00009e50: 726e 735f 666c 6f61 7420 3d20 6c69 7374  rns_float = list
+00009e60: 2828 6e70 2e6c 696e 7370 6163 6528 6e6f  ((np.linspace(no
+00009e70: 5f74 7572 6e73 5f6d 696e 2c20 6e6f 5f74  _turns_min, no_t
+00009e80: 7572 6e73 5f6d 6178 2c20 6e6f 5f74 7572  urns_max, no_tur
+00009e90: 6e73 5f73 7465 7029 2929 0a20 2020 2020  ns_step))).     
+00009ea0: 2020 206e 6f5f 6f66 5f74 7572 6e73 203d     no_of_turns =
+00009eb0: 205b 696e 7428 6974 656d 2920 666f 7220   [int(item) for 
+00009ec0: 6974 656d 2069 6e20 6e6f 5f6f 665f 7475  item in no_of_tu
+00009ed0: 726e 735f 666c 6f61 745d 0a20 2020 2020  rns_float].     
+00009ee0: 2020 206e 5f61 6972 5f67 6170 7320 3d20     n_air_gaps = 
+00009ef0: 5b6e 6f5f 6169 7267 6170 735f 6d69 6e2c  [no_airgaps_min,
+00009f00: 206e 6f5f 6169 7267 6170 735f 6d61 785d   no_airgaps_max]
+00009f10: 2020 2320 5365 7420 4e6f 2e20 6f66 2061    # Set No. of a
+00009f20: 6972 2d67 6170 7320 286e 290a 2020 2020  ir-gaps (n).    
+00009f30: 2020 2020 2320 7768 656e 2074 6865 2075      # when the u
+00009f40: 7365 7220 6368 6f6f 7365 7320 5b69 2c6a  ser chooses [i,j
+00009f50: 5d3b 2077 6865 7265 2069 203d 206a 2c20  ]; where i = j, 
+00009f60: 7468 6520 6e5f 6169 725f 6761 7073 2077  the n_air_gaps w
+00009f70: 696c 6c20 6265 206a 7573 7420 6920 6f72  ill be just i or
+00009f80: 206a 0a20 2020 2020 2020 2069 6620 6e6f   j.        if no
+00009f90: 5f61 6972 6761 7073 5f6d 696e 203d 3d20  _airgaps_min == 
+00009fa0: 6e6f 5f61 6972 6761 7073 5f6d 6178 3a0a  no_airgaps_max:.
+00009fb0: 2020 2020 2020 2020 2020 2020 6e5f 6169              n_ai
+00009fc0: 725f 6761 7073 203d 205b 6e6f 5f61 6972  r_gaps = [no_air
+00009fd0: 6761 7073 5f6d 696e 5d0a 2020 2020 2020  gaps_min].      
+00009fe0: 2020 6169 725f 6761 705f 6865 6967 6874    air_gap_height
+00009ff0: 203d 206c 6973 7428 6e70 2e6c 696e 7370   = list(np.linsp
+0000a000: 6163 6528 6169 7267 6170 5f68 5f6d 696e  ace(airgap_h_min
+0000a010: 2c20 6169 7267 6170 5f68 5f6d 6178 2c20  , airgap_h_max, 
+0000a020: 6169 7267 6170 5f68 5f73 7465 7029 2920  airgap_h_step)) 
+0000a030: 2023 2053 6574 2061 6972 2d67 6170 206c   # Set air-gap l
+0000a040: 656e 6774 6820 696e 206d 6574 7265 2028  ength in metre (
+0000a050: 6c29 0a20 2020 2020 2020 2061 6972 5f67  l).        air_g
+0000a060: 6170 5f70 6f73 6974 696f 6e20 3d20 6c69  ap_position = li
+0000a070: 7374 286e 702e 6c69 6e73 7061 6365 2861  st(np.linspace(a
+0000a080: 6972 6761 705f 706f 735f 6d69 6e2c 2061  irgap_pos_min, a
+0000a090: 6972 6761 705f 706f 735f 6d61 782c 0a20  irgap_pos_max,. 
+0000a0a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a0b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000a0c0: 2020 2020 2020 2020 2020 2061 6972 6761             airga
+0000a0d0: 705f 706f 735f 7374 6570 2929 2020 2320  p_pos_step))  # 
+0000a0e0: 5365 7420 6169 722d 6761 7020 706f 7369  Set air-gap posi
+0000a0f0: 7469 6f6e 2069 6e20 7065 7263 656e 7420  tion in percent 
+0000a100: 772e 722e 742e 2063 6f72 6520 7769 6e64  w.r.t. core wind
+0000a110: 6f77 2068 6569 6768 740a 0a20 2020 2020  ow height..     
+0000a120: 2020 2023 206d 6174 6572 6961 6c5f 6e61     # material_na
+0000a130: 6d65 7320 3d20 5b5d 0a20 2020 2020 2020  mes = [].       
+0000a140: 2023 2066 6f72 2069 2069 6e20 7261 6e67   # for i in rang
+0000a150: 6528 7365 6c66 2e61 7574 5f63 6f72 655f  e(self.aut_core_
+0000a160: 6d61 7465 7269 616c 5f62 6173 6b65 745f  material_basket_
+0000a170: 6c69 7374 5769 6467 6574 2e63 6f75 6e74  listWidget.count
+0000a180: 2829 293a 0a20 2020 2020 2020 2023 2020  ()):.        #  
+0000a190: 2020 206d 6174 6572 6961 6c5f 6e61 6d65     material_name
+0000a1a0: 732e 6170 7065 6e64 2873 656c 662e 6175  s.append(self.au
+0000a1b0: 745f 636f 7265 5f6d 6174 6572 6961 6c5f  t_core_material_
+0000a1c0: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
+0000a1d0: 742e 6974 656d 2869 292e 7465 7874 2829  t.item(i).text()
+0000a1e0: 290a 2020 2020 2020 2020 2320 2320 6d61  ).        # # ma
+0000a1f0: 7465 7269 616c 5f6e 616d 6573 203d 205b  terial_names = [
+0000a200: 224e 3935 225d 0a20 2020 2020 2020 2023  "N95"].        #
+0000a210: 2023 6d61 7465 7269 616c 5f65 6e75 6d20   #material_enum 
+0000a220: 3d20 666d 742e 4d61 7465 7269 616c 286d  = fmt.Material(m
+0000a230: 6174 6572 6961 6c5f 6e61 6d65 7329 0a20  aterial_names). 
+0000a240: 2020 2020 2020 2023 206d 755f 7265 6c20         # mu_rel 
+0000a250: 3d20 5b64 6174 6162 6173 652e 6765 745f  = [database.get_
+0000a260: 6d61 7465 7269 616c 5f61 7474 7269 6275  material_attribu
+0000a270: 7465 286d 6174 6572 6961 6c5f 6e61 6d65  te(material_name
+0000a280: 3d6d 6174 6572 6961 6c5f 6e61 6d65 732c  =material_names,
+0000a290: 2061 7474 7269 6275 7465 3d22 696e 6974   attribute="init
+0000a2a0: 6961 6c5f 7065 726d 6561 6269 6c69 7479  ial_permeability
+0000a2b0: 2229 0a20 2020 2020 2020 2023 2020 2020  ").        #    
+0000a2c0: 2020 2020 2020 2066 6f72 206d 6174 6572         for mater
+0000a2d0: 6961 6c5f 6e61 6d65 2069 6e20 6d61 7465  ial_name in mate
+0000a2e0: 7269 616c 5f6e 616d 6573 5d0a 0a20 2020  rial_names]..   
+0000a2f0: 2020 2020 2023 2073 656c 6563 7465 6420       # selected 
+0000a300: 6d61 7465 7269 616c 7320 6173 2065 6e75  materials as enu
+0000a310: 6d73 0a20 2020 2020 2020 2073 656c 6563  ms.        selec
+0000a320: 7465 645f 6d61 7465 7269 616c 7320 3d20  ted_materials = 
+0000a330: 5b5d 0a20 2020 2020 2020 2023 2049 7465  [].        # Ite
+0000a340: 7261 7465 206f 7665 7220 7468 6520 6974  rate over the it
+0000a350: 656d 7320 696e 2074 6865 206d 6174 6572  ems in the mater
+0000a360: 6961 6c20 6c69 7374 2077 6964 6765 740a  ial list widget.
+0000a370: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+0000a380: 2072 616e 6765 2873 656c 662e 6175 745f   range(self.aut_
+0000a390: 636f 7265 5f6d 6174 6572 6961 6c5f 6461  core_material_da
+0000a3a0: 7461 5f6c 6973 7457 6964 6765 742e 636f  ta_listWidget.co
+0000a3b0: 756e 7428 2929 3a0a 2020 2020 2020 2020  unt()):.        
+0000a3c0: 2020 2020 6974 656d 203d 2073 656c 662e      item = self.
+0000a3d0: 6175 745f 636f 7265 5f6d 6174 6572 6961  aut_core_materia
+0000a3e0: 6c5f 6461 7461 5f6c 6973 7457 6964 6765  l_data_listWidge
+0000a3f0: 742e 6974 656d 2869 290a 2020 2020 2020  t.item(i).      
+0000a400: 2020 2020 2020 2320 4368 6563 6b20 6966        # Check if
+0000a410: 2074 6865 2069 7465 6d20 6973 2073 656c   the item is sel
+0000a420: 6563 7465 6420 6279 2074 6865 2075 7365  ected by the use
+0000a430: 720a 2020 2020 2020 2020 2020 2020 6966  r.            if
+0000a440: 2069 7465 6d2e 6973 5365 6c65 6374 6564   item.isSelected
+0000a450: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+0000a460: 2020 2020 2320 436f 6e76 6572 7420 7468      # Convert th
+0000a470: 6520 7374 7269 6e67 206f 6620 7468 6520  e string of the 
+0000a480: 7365 6c65 6374 6564 2069 7465 6d20 746f  selected item to
+0000a490: 2069 7473 2063 6f72 7265 7370 6f6e 6469   its correspondi
+0000a4a0: 6e67 2065 6e75 6d20 7661 6c75 650a 2020  ng enum value.  
+0000a4b0: 2020 2020 2020 2020 2020 2020 2020 6d61                ma
+0000a4c0: 7465 7269 616c 5f65 6e75 6d20 3d20 7365  terial_enum = se
+0000a4d0: 6c66 2e73 7472 696e 675f 746f 5f6d 6174  lf.string_to_mat
+0000a4e0: 6572 6961 6c5f 656e 756d 2869 7465 6d2e  erial_enum(item.
+0000a4f0: 7465 7874 2829 290a 2020 2020 2020 2020  text()).        
+0000a500: 2020 2020 2020 2020 7365 6c65 6374 6564          selected
+0000a510: 5f6d 6174 6572 6961 6c73 2e61 7070 656e  _materials.appen
+0000a520: 6428 6d61 7465 7269 616c 5f65 6e75 6d29  d(material_enum)
+0000a530: 0a20 2020 2020 2020 2023 2065 6d70 7479  .        # empty
+0000a540: 206c 6973 7420 746f 2068 6f6c 6420 7468   list to hold th
+0000a550: 6520 696e 6974 6961 6c20 7265 616c 2070  e initial real p
+0000a560: 6572 6d65 6162 696c 6974 7920 7661 6c75  ermeability valu
+0000a570: 6573 0a20 2020 2020 2020 206d 755f 7265  es.        mu_re
+0000a580: 6c73 203d 205b 5d0a 2020 2020 2020 2020  ls = [].        
+0000a590: 2320 4974 6572 6174 6520 6f76 6572 2074  # Iterate over t
+0000a5a0: 6865 2073 656c 6563 7465 6420 6d61 7465  he selected mate
+0000a5b0: 7269 616c 7320 6173 2065 6e75 6d73 0a20  rials as enums. 
+0000a5c0: 2020 2020 2020 2066 6f72 206d 6174 6572         for mater
+0000a5d0: 6961 6c5f 6e61 6d65 2069 6e20 7365 6c65  ial_name in sele
+0000a5e0: 6374 6564 5f6d 6174 6572 6961 6c73 3a0a  cted_materials:.
+0000a5f0: 2020 2020 2020 2020 2020 2020 7472 793a              try:
+0000a600: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000a610: 2023 2069 6e69 7469 616c 2070 6572 6d65   # initial perme
+0000a620: 6162 696c 6974 7920 6174 7472 6962 7574  ability attribut
+0000a630: 6520 6672 6f6d 2074 6865 2064 6174 6162  e from the datab
+0000a640: 6173 650a 2020 2020 2020 2020 2020 2020  ase.            
+0000a650: 2020 2020 6d75 5f72 656c 203d 2064 6174      mu_rel = dat
+0000a660: 6162 6173 652e 6765 745f 6d61 7465 7269  abase.get_materi
+0000a670: 616c 5f61 7474 7269 6275 7465 286d 6174  al_attribute(mat
+0000a680: 6572 6961 6c5f 6e61 6d65 3d6d 6174 6572  erial_name=mater
+0000a690: 6961 6c5f 6e61 6d65 2c20 6174 7472 6962  ial_name, attrib
+0000a6a0: 7574 653d 2269 6e69 7469 616c 5f70 6572  ute="initial_per
+0000a6b0: 6d65 6162 696c 6974 7922 290a 2020 2020  meability").    
+0000a6c0: 2020 2020 2020 2020 2020 2020 6d75 5f72              mu_r
+0000a6d0: 656c 732e 6170 7065 6e64 286d 755f 7265  els.append(mu_re
+0000a6e0: 6c29 0a20 2020 2020 2020 2020 2020 2065  l).            e
+0000a6f0: 7863 6570 7420 4b65 7945 7272 6f72 2061  xcept KeyError a
+0000a700: 7320 653a 0a20 2020 2020 2020 2020 2020  s e:.           
+0000a710: 2020 2020 2070 7269 6e74 2866 2246 6169       print(f"Fai
+0000a720: 6c65 6420 746f 2072 6574 7269 6576 6520  led to retrieve 
+0000a730: 6461 7461 2066 6f72 207b 6d61 7465 7269  data for {materi
+0000a740: 616c 5f6e 616d 657d 3a20 7b65 7d22 290a  al_name}: {e}").
+0000a750: 0a20 2020 2020 2020 2063 6f6d 706f 6e65  .        compone
+0000a760: 6e74 203d 2073 656c 662e 6175 745f 7369  nt = self.aut_si
+0000a770: 6d75 6c61 7469 6f6e 5f74 7970 655f 636f  mulation_type_co
+0000a780: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
+0000a790: 7874 2829 0a20 2020 2020 2020 2023 2053  xt().        # S
+0000a7a0: 6574 2074 776f 2074 7970 6573 206f 6620  et two types of 
+0000a7b0: 6571 7561 6c6c 7920 6469 7374 7269 6275  equally distribu
+0000a7c0: 7465 6420 6169 722d 6761 7073 2028 7573  ted air-gaps (us
+0000a7d0: 6564 206f 6e6c 7920 666f 7220 6169 722d  ed only for air-
+0000a7e0: 6761 7073 206d 6f72 6520 7468 616e 2031  gaps more than 1
+0000a7f0: 293a 0a20 2020 2020 2020 2023 2054 7970  ):.        # Typ
+0000a800: 6520 313a 2045 7175 616c 6c79 2064 6973  e 1: Equally dis
+0000a810: 7472 6962 7574 6564 2061 6972 2d67 6170  tributed air-gap
+0000a820: 7320 696e 636c 7564 696e 6720 636f 726e  s including corn
+0000a830: 6572 2061 6972 2d67 6170 7320 2865 673a  er air-gaps (eg:
+0000a840: 2061 6972 2d67 6170 732d 706f 7369 7469   air-gaps-positi
+0000a850: 6f6e 203d 205b 302c 2035 302c 2031 3030  on = [0, 50, 100
+0000a860: 5d29 0a20 2020 2020 2020 2023 2054 7970  ]).        # Typ
+0000a870: 6520 323a 2045 7175 616c 6c79 2064 6973  e 2: Equally dis
+0000a880: 7472 6962 7574 6564 2061 6972 2d67 6170  tributed air-gap
+0000a890: 7320 6578 636c 7564 696e 6720 636f 726e  s excluding corn
+0000a8a0: 6572 2061 6972 2d67 6170 7320 2865 673a  er air-gaps (eg:
+0000a8b0: 2061 6972 2d67 6170 732d 706f 7369 7469   air-gaps-positi
+0000a8c0: 6f6e 203d 205b 3235 2c20 3530 2c20 3735  on = [25, 50, 75
+0000a8d0: 5d29 0a20 2020 2020 2020 2023 2027 5479  ]).        # 'Ty
+0000a8e0: 7065 3120 3d20 7769 7468 2063 6f72 6e65  pe1 = with corne
+0000a8f0: 7220 6169 722d 6761 7073 3b20 2754 7970  r air-gaps; 'Typ
+0000a900: 6532 2720 3d20 7769 7468 6f75 7420 636f  e2' = without co
+0000a910: 726e 6572 2061 6972 2d67 6170 733b 2027  rner air-gaps; '
+0000a920: 5479 7065 3027 203d 2073 696e 676c 6520  Type0' = single 
+0000a930: 6169 722d 6761 700a 2020 2020 2020 2020  air-gap.        
+0000a940: 6d75 6c74 5f61 6972 5f67 6170 5f74 7970  mult_air_gap_typ
+0000a950: 6520 3d20 5b32 5d20 2023 2054 7970 6531  e = [2]  # Type1
+0000a960: 2d45 6467 652c 2054 7970 6532 3a20 4365  -Edge, Type2: Ce
+0000a970: 6e74 7265 0a0a 2020 2020 2020 2020 6d61  ntre..        ma
+0000a980: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
+0000a990: 6178 6973 2e63 6c65 6172 2829 0a20 2020  axis.clear().   
+0000a9a0: 2020 2020 2073 656c 662e 6c61 796f 7574       self.layout
+0000a9b0: 203d 2051 5642 6f78 4c61 796f 7574 2873   = QVBoxLayout(s
+0000a9c0: 656c 662e 6665 6d5f 766f 6c5f 6c6f 7373  elf.fem_vol_loss
+0000a9d0: 5f70 6c6f 7477 6964 6765 7429 0a20 2020  _plotwidget).   
+0000a9e0: 2020 2020 2073 656c 662e 6c61 796f 7574       self.layout
+0000a9f0: 2e61 6464 5769 6467 6574 286d 6174 706c  .addWidget(matpl
+0000aa00: 6f74 6c69 625f 7769 6467 6574 290a 2020  otlib_widget).  
+0000aa10: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+0000aa20: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
+0000aa30: 625f 7769 6467 6574 2e61 7869 735f 636d  b_widget.axis_cm
+0000aa40: 2e72 656d 6f76 6528 290a 2020 2020 2020  .remove().      
+0000aa50: 2020 6578 6365 7074 3a0a 2020 2020 2020    except:.      
+0000aa60: 2020 2020 2020 7061 7373 0a0a 2020 2020        pass..    
+0000aa70: 2020 2020 6665 6d5f 6469 7265 6374 6f72      fem_director
+0000aa80: 7920 3d20 7365 6c66 2e46 454d 5f73 696d  y = self.FEM_sim
+0000aa90: 5f77 6f72 6b69 6e67 5f64 6972 5f4c 696e  _working_dir_Lin
+0000aaa0: 6545 6469 742e 7465 7874 2829 0a0a 2020  eEdit.text()..  
+0000aab0: 2020 2020 2020 6966 2073 656c 662e 6175        if self.au
+0000aac0: 745f 7369 6d75 6c61 7469 6f6e 5f74 7970  t_simulation_typ
+0000aad0: 655f 636f 6d62 6f42 6f78 2e63 7572 7265  e_comboBox.curre
+0000aae0: 6e74 5465 7874 2829 203d 3d20 7365 6c66  ntText() == self
+0000aaf0: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
+0000ab00: 745b 2769 6e64 7563 746f 7227 5d3a 0a20  t['inductor']:. 
+0000ab10: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000ab20: 6164 203d 2041 7574 6f6d 6174 6564 4465  ad = AutomatedDe
+0000ab30: 7369 676e 2877 6f72 6b69 6e67 5f64 6972  sign(working_dir
+0000ab40: 6563 746f 7279 3d66 656d 5f64 6972 6563  ectory=fem_direc
+0000ab50: 746f 7279 2c0a 2020 2020 2020 2020 2020  tory,.          
+0000ab60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ab70: 2020 2020 2020 2020 2020 2020 6d61 676e              magn
+0000ab80: 6574 6963 5f63 6f6d 706f 6e65 6e74 3d27  etic_component='
+0000ab90: 696e 6475 6374 6f72 272c 0a20 2020 2020  inductor',.     
 0000aba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000abb0: 2020 2020 2020 2020 2020 696e 6e65 725f            inner_
-0000abc0: 7769 6e64 696e 675f 696e 7375 6c61 7469  winding_insulati
-0000abd0: 6f6e 3d63 6f6d 6d61 5f73 7472 5f74 6f5f  on=comma_str_to_
-0000abe0: 706f 696e 745f 666c 6f61 7428 0a20 2020  point_float(.   
+0000abb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000abc0: 2074 6172 6765 745f 696e 6475 6374 616e   target_inductan
+0000abd0: 6365 3d67 6f61 6c5f 696e 6475 6374 616e  ce=goal_inductan
+0000abe0: 6365 2c0a 2020 2020 2020 2020 2020 2020  ce,.            
 0000abf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac10: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-0000ac20: 6973 6f6c 6174 696f 6e5f 7032 705f 6c69  isolation_p2p_li
-0000ac30: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
-0000ac40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ac60: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
-0000ac70: 653d 636f 6d6d 615f 7374 725f 746f 5f70  e=comma_str_to_p
-0000ac80: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-0000ac90: 6175 745f 7465 6d70 5f6c 696e 6545 6469  aut_temp_lineEdi
-0000aca0: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
-0000acb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000acc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000acd0: 206d 616e 7561 6c5f 6c69 747a 5f63 6f6e   manual_litz_con
-0000ace0: 6475 6374 6f72 5f72 3d5b 5d2c 0a20 2020  ductor_r=[],.   
-0000acf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad10: 2020 206d 616e 7561 6c5f 6c69 747a 5f73     manual_litz_s
-0000ad20: 7472 616e 645f 723d 5b5d 2c0a 2020 2020  trand_r=[],.    
-0000ad30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad50: 2020 6d61 6e75 616c 5f6c 6974 7a5f 7374    manual_litz_st
-0000ad60: 7261 6e64 5f6e 3d5b 5d2c 0a20 2020 2020  rand_n=[],.     
+0000ac00: 2020 2020 2020 2020 2020 6672 6571 7565            freque
+0000ac10: 6e63 793d 7365 6c66 2e66 7265 712c 0a20  ncy=self.freq,. 
+0000ac20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac40: 2020 2020 2074 6172 6765 745f 696e 6475       target_indu
+0000ac50: 6374 616e 6365 5f70 6572 6365 6e74 5f74  ctance_percent_t
+0000ac60: 6f6c 6572 616e 6365 3d4c 5f74 6f6c 6572  olerance=L_toler
+0000ac70: 616e 6365 5f70 6572 6365 6e74 2c0a 2020  ance_percent,.  
+0000ac80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ac90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aca0: 2020 2020 7769 6e64 696e 675f 7363 6865      winding_sche
+0000acb0: 6d65 3d77 696e 6469 6e67 5f73 6368 656d  me=winding_schem
+0000acc0: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+0000acd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ace0: 2020 2020 2020 2020 2070 6561 6b5f 6375           peak_cu
+0000acf0: 7272 656e 743d 7365 6c66 2e69 5f6d 6178  rrent=self.i_max
+0000ad00: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000ad10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ad20: 2020 2020 2020 2020 7065 7263 656e 745f          percent_
+0000ad30: 6f66 5f66 6c75 785f 6465 6e73 6974 795f  of_flux_density_
+0000ad40: 7361 7475 7261 7469 6f6e 3d70 6572 6365  saturation=perce
+0000ad50: 6e74 5f6f 665f 425f 7361 742c 0a20 2020  nt_of_B_sat,.   
+0000ad60: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000ad70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ad90: 206d 616e 7561 6c5f 6c69 747a 5f66 696c   manual_litz_fil
-0000ada0: 6c5f 6661 6374 6f72 3d5b 5d29 0a0a 2020  l_factor=[])..  
-0000adb0: 2020 2020 2020 2320 4372 6561 7465 2063        # Create c
-0000adc0: 7376 2066 696c 6520 6f66 2064 6174 615f  sv file of data_
-0000add0: 6d61 7472 6978 5f66 656d 2077 6869 6368  matrix_fem which
-0000ade0: 2063 6f6e 7369 7374 206f 6620 616c 6c20   consist of all 
-0000adf0: 7468 6520 6665 6d20 7369 6d75 6c61 7469  the fem simulati
-0000ae00: 6f6e 2063 6173 6573 2064 6574 6169 6c73  on cases details
-0000ae10: 0a20 2020 2020 2020 2073 656c 662e 6164  .        self.ad
-0000ae20: 2e77 7269 7465 5f64 6174 615f 6d61 7472  .write_data_matr
-0000ae30: 6978 5f66 656d 5f74 6f5f 6373 7628 290a  ix_fem_to_csv().
-0000ae40: 0a20 2020 2020 2020 2073 656c 662e 706c  .        self.pl
-0000ae50: 6f74 5f76 6f6c 756d 655f 6c6f 7373 2873  ot_volume_loss(s
-0000ae60: 656c 662e 6164 2e64 6174 615f 6d61 7472  elf.ad.data_matr
-0000ae70: 6978 5f34 2c20 6d61 7470 6c6f 746c 6962  ix_4, matplotlib
-0000ae80: 5f77 6964 6765 7429 0a0a 2020 2020 2020  _widget)..      
-0000ae90: 2020 6e5f 6361 7365 735f 3020 3d20 6c65    n_cases_0 = le
-0000aea0: 6e28 7365 6c66 2e61 642e 6461 7461 5f6d  n(self.ad.data_m
-0000aeb0: 6174 7269 785f 3029 0a20 2020 2020 2020  atrix_0).       
-0000aec0: 2073 656c 662e 6e63 6173 6573 305f 6c61   self.ncases0_la
-0000aed0: 6265 6c2e 7365 7454 6578 7428 6622 7b6e  bel.setText(f"{n
-0000aee0: 5f63 6173 6573 5f30 7d22 290a 0a20 2020  _cases_0}")..   
-0000aef0: 2020 2020 206e 5f63 6173 6573 5f32 203d       n_cases_2 =
-0000af00: 206c 656e 2873 656c 662e 6164 2e64 6174   len(self.ad.dat
-0000af10: 615f 6d61 7472 6978 5f32 290a 2020 2020  a_matrix_2).    
-0000af20: 2020 2020 7365 6c66 2e6e 6361 7365 7332      self.ncases2
-0000af30: 5f6c 6162 656c 2e73 6574 5465 7874 2866  _label.setText(f
-0000af40: 227b 6e5f 6361 7365 735f 327d 2229 0a0a  "{n_cases_2}")..
-0000af50: 2020 2020 2020 2020 6e5f 6361 7365 735f          n_cases_
-0000af60: 3320 3d20 6c65 6e28 7365 6c66 2e61 642e  3 = len(self.ad.
-0000af70: 6461 7461 5f6d 6174 7269 785f 3329 0a20  data_matrix_3). 
-0000af80: 2020 2020 2020 2073 656c 662e 6e63 6173         self.ncas
-0000af90: 6573 335f 6c61 6265 6c2e 7365 7454 6578  es3_label.setTex
-0000afa0: 7428 6622 7b6e 5f63 6173 6573 5f33 7d22  t(f"{n_cases_3}"
-0000afb0: 290a 0a20 2020 2020 2020 206e 5f63 6173  )..        n_cas
-0000afc0: 6573 5f46 454d 203d 206c 656e 2873 656c  es_FEM = len(sel
-0000afd0: 662e 6164 2e64 6174 615f 6d61 7472 6978  f.ad.data_matrix
-0000afe0: 5f66 656d 290a 2020 2020 2020 2020 7365  _fem).        se
-0000aff0: 6c66 2e66 656d 5f63 6173 6573 5f6c 6162  lf.fem_cases_lab
-0000b000: 656c 2e73 6574 5465 7874 2866 227b 6e5f  el.setText(f"{n_
-0000b010: 6361 7365 735f 4645 4d7d 2229 0a0a 2020  cases_FEM}")..  
-0000b020: 2020 6465 6620 6175 746f 6d61 7465 645f    def automated_
-0000b030: 6465 7369 676e 5f66 656d 5f73 696d 2873  design_fem_sim(s
-0000b040: 656c 662c 206d 6174 706c 6f74 6c69 625f  elf, matplotlib_
-0000b050: 7769 6467 6574 293a 0a20 2020 2020 2020  widget):.       
-0000b060: 2022 2222 0a20 2020 2020 2020 2052 756e   """.        Run
-0000b070: 2074 6865 2066 656d 2073 696d 756c 6174   the fem simulat
-0000b080: 696f 6e73 206f 6620 7468 6520 6669 6c74  ions of the filt
-0000b090: 6572 6564 2063 6173 6573 2066 726f 6d20  ered cases from 
-0000b0a0: 7265 6c75 6374 616e 6365 206d 6f64 656c  reluctance model
-0000b0b0: 7320 7461 622e 2050 6c6f 7420 7468 6520  s tab. Plot the 
-0000b0c0: 766f 6c75 6d65 2076 7320 6c6f 7373 2069  volume vs loss i
-0000b0d0: 6e20 4645 4d20 7369 6d75 6c61 7469 6f6e  n FEM simulation
-0000b0e0: 7320 7461 622e 0a0a 2020 2020 2020 2020  s tab...        
-0000b0f0: 3a70 6172 616d 206d 6174 706c 6f74 6c69  :param matplotli
-0000b100: 625f 7769 6467 6574 3a20 546f 2070 6c6f  b_widget: To plo
-0000b110: 7420 766f 6c75 6d65 2076 7320 6c6f 7373  t volume vs loss
-0000b120: 2069 6e20 4645 4d20 7369 6d75 6c61 7469   in FEM simulati
-0000b130: 6f6e 7320 7461 620a 2020 2020 2020 2020  ons tab.        
-0000b140: 2222 220a 2020 2020 2020 2020 2320 2323  """.        # ##
-0000b150: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000b160: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000b170: 2323 2323 2323 2323 2020 207b 4645 4d5f  ########   {FEM_
-0000b180: 5349 4d55 4c41 5449 4f4e 7d20 2020 2323  SIMULATION}   ##
-0000b190: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000b1a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000b1b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-0000b1c0: 0a0a 2020 2020 2020 2020 2320 5275 6e20  ..        # Run 
-0000b1d0: 4645 4d20 7369 6d75 6c61 7469 6f6e 206f  FEM simulation o
-0000b1e0: 6620 2273 656c 662e 6461 7461 5f6d 6174  f "self.data_mat
-0000b1f0: 7269 785f 6665 6d22 0a20 2020 2020 2020  rix_fem".       
-0000b200: 2073 656c 662e 6164 2e66 656d 5f73 696d   self.ad.fem_sim
-0000b210: 756c 6174 696f 6e28 290a 0a20 2020 2020  ulation()..     
-0000b220: 2020 2023 2053 6176 6520 7369 6d75 6c61     # Save simula
-0000b230: 7469 6f6e 2073 6574 7469 6e67 7320 696e  tion settings in
-0000b240: 206a 736f 6e20 6669 6c65 2066 6f72 206c   json file for l
-0000b250: 6174 6572 2072 6576 6965 770a 2020 2020  ater review.    
-0000b260: 2020 2020 7365 6c66 2e61 642e 7361 7665      self.ad.save
-0000b270: 5f61 7574 6f6d 6174 6564 5f64 6573 6967  _automated_desig
-0000b280: 6e5f 7365 7474 696e 6773 2829 0a20 2020  n_settings().   
-0000b290: 2020 2020 2064 6573 6967 6e5f 6469 7265       design_dire
-0000b2a0: 6374 6f72 7920 3d20 7365 6c66 2e61 7574  ctory = self.aut
-0000b2b0: 5f6c 6f61 645f 6465 7369 676e 5f64 6972  _load_design_dir
-0000b2c0: 6563 746f 7279 6e61 6d65 5f6c 696e 6545  ectoryname_lineE
-0000b2d0: 6469 742e 7465 7874 2829 0a20 2020 2020  dit.text().     
-0000b2e0: 2020 2072 6561 6c5f 696e 6475 6374 616e     real_inductan
-0000b2f0: 6365 2c20 746f 7461 6c5f 6c6f 7373 2c20  ce, total_loss, 
-0000b300: 746f 7461 6c5f 766f 6c75 6d65 2c20 746f  total_volume, to
-0000b310: 7461 6c5f 636f 7374 2c20 6c61 6265 6c73  tal_cost, labels
-0000b320: 203d 206c 6f61 645f 6665 6d5f 7369 6d75   = load_fem_simu
-0000b330: 6c61 7469 6f6e 5f72 6573 756c 7473 280a  lation_results(.
-0000b340: 2020 2020 2020 2020 2020 2020 6665 6d5f              fem_
-0000b350: 7369 6d75 6c61 7469 6f6e 5f72 6573 756c  simulation_resul
-0000b360: 7473 5f64 6972 6563 746f 7279 3d64 6573  ts_directory=des
-0000b370: 6967 6e5f 6469 7265 6374 6f72 7929 0a0a  ign_directory)..
-0000b380: 2020 2020 2020 2020 6d61 7470 6c6f 746c          matplotl
-0000b390: 6962 5f77 6964 6765 7420 3d20 4d61 7470  ib_widget = Matp
-0000b3a0: 6c6f 746c 6962 5769 6467 6574 2829 0a20  lotlibWidget(). 
-0000b3b0: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
-0000b3c0: 625f 7769 6467 6574 2e61 7869 732e 636c  b_widget.axis.cl
-0000b3d0: 6561 7228 290a 2020 2020 2020 2020 7365  ear().        se
-0000b3e0: 6c66 2e6c 6179 6f75 7420 3d20 5156 426f  lf.layout = QVBo
-0000b3f0: 784c 6179 6f75 7428 7365 6c66 2e70 6c6f  xLayout(self.plo
-0000b400: 7477 6964 6765 745f 3529 0a20 2020 2020  twidget_5).     
-0000b410: 2020 2073 656c 662e 6c61 796f 7574 2e61     self.layout.a
-0000b420: 6464 5769 6467 6574 286d 6174 706c 6f74  ddWidget(matplot
-0000b430: 6c69 625f 7769 6467 6574 290a 2020 2020  lib_widget).    
-0000b440: 2020 2020 7472 793a 0a20 2020 2020 2020      try:.       
-0000b450: 2020 2020 206d 6174 706c 6f74 6c69 625f       matplotlib_
-0000b460: 7769 6467 6574 2e61 7869 735f 636d 2e72  widget.axis_cm.r
-0000b470: 656d 6f76 6528 290a 2020 2020 2020 2020  emove().        
-0000b480: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-0000b490: 2020 2020 7061 7373 0a0a 2020 2020 2020      pass..      
-0000b4a0: 2020 706c 6f74 5f64 6174 6120 3d20 6669    plot_data = fi
-0000b4b0: 6c74 6572 5f61 6674 6572 5f66 656d 2869  lter_after_fem(i
-0000b4c0: 6e64 7563 7461 6e63 653d 7265 616c 5f69  nductance=real_i
-0000b4d0: 6e64 7563 7461 6e63 652c 2074 6f74 616c  nductance, total
-0000b4e0: 5f6c 6f73 733d 746f 7461 6c5f 6c6f 7373  _loss=total_loss
-0000b4f0: 2c20 746f 7461 6c5f 766f 6c75 6d65 3d74  , total_volume=t
-0000b500: 6f74 616c 5f76 6f6c 756d 652c 0a20 2020  otal_volume,.   
-0000b510: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b530: 2020 746f 7461 6c5f 636f 7374 3d74 6f74    total_cost=tot
-0000b540: 616c 5f63 6f73 742c 0a20 2020 2020 2020  al_cost,.       
-0000b550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b560: 2020 2020 2020 2020 2020 2020 2020 616e                an
-0000b570: 6e6f 7461 7469 6f6e 5f6c 6973 743d 6c61  notation_list=la
-0000b580: 6265 6c73 2c20 676f 616c 5f69 6e64 7563  bels, goal_induc
-0000b590: 7461 6e63 653d 7365 6c66 2e61 642e 676f  tance=self.ad.go
-0000b5a0: 616c 5f69 6e64 7563 7461 6e63 652c 0a20  al_inductance,. 
+0000ad80: 2020 2070 6572 6365 6e74 5f6f 665f 746f     percent_of_to
+0000ad90: 7461 6c5f 6c6f 7373 3d70 6572 6365 6e74  tal_loss=percent
+0000ada0: 5f6f 665f 746f 7461 6c5f 6c6f 7373 2c0a  _of_total_loss,.
+0000adb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000adc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000add0: 2020 2020 2020 6461 7461 6261 7365 5f63        database_c
+0000ade0: 6f72 655f 6e61 6d65 733d 6462 5f63 6f72  ore_names=db_cor
+0000adf0: 655f 6e61 6d65 732c 0a20 2020 2020 2020  e_names,.       
+0000ae00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae10: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+0000ae20: 6174 6162 6173 655f 6c69 747a 5f6e 616d  atabase_litz_nam
+0000ae30: 6573 3d6c 6974 7a5f 6e61 6d65 732c 0a20  es=litz_names,. 
+0000ae40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000ae60: 2020 2020 2073 6f6c 6964 5f63 6f6e 6475       solid_condu
+0000ae70: 6374 6f72 5f72 3d73 6f6c 6964 5f63 6f6e  ctor_r=solid_con
+0000ae80: 6475 6374 6f72 5f72 2c0a 2020 2020 2020  ductor_r,.      
+0000ae90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aeb0: 6d61 6e75 616c 5f63 6f72 655f 696e 6e65  manual_core_inne
+0000aec0: 725f 6469 616d 6574 6572 3d6d 616e 7561  r_diameter=manua
+0000aed0: 6c5f 636f 7265 5f77 2c0a 2020 2020 2020  l_core_w,.      
+0000aee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000aef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af00: 6d61 6e75 616c 5f77 696e 646f 775f 683d  manual_window_h=
+0000af10: 6d61 6e75 616c 5f77 696e 646f 775f 682c  manual_window_h,
+0000af20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000af30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af40: 2020 2020 2020 206d 616e 7561 6c5f 7769         manual_wi
+0000af50: 6e64 6f77 5f77 3d6d 616e 7561 6c5f 7769  ndow_w=manual_wi
+0000af60: 6e64 6f77 5f77 2c0a 2020 2020 2020 2020  ndow_w,.        
+0000af70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000af80: 2020 2020 2020 2020 2020 2020 2020 6e6f                no
+0000af90: 5f6f 665f 7475 726e 733d 6e6f 5f6f 665f  _of_turns=no_of_
+0000afa0: 7475 726e 732c 0a20 2020 2020 2020 2020  turns,.         
+0000afb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000afc0: 2020 2020 2020 2020 2020 2020 206e 5f61               n_a
+0000afd0: 6972 5f67 6170 733d 6e5f 6169 725f 6761  ir_gaps=n_air_ga
+0000afe0: 7073 2c0a 2020 2020 2020 2020 2020 2020  ps,.            
+0000aff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b000: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+0000b010: 705f 6865 6967 6874 3d61 6972 5f67 6170  p_height=air_gap
+0000b020: 5f68 6569 6768 742c 0a20 2020 2020 2020  _height,.       
+0000b030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b040: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+0000b050: 6972 5f67 6170 5f70 6f73 6974 696f 6e3d  ir_gap_position=
+0000b060: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+0000b070: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0000b080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b090: 2020 2020 2020 2020 636f 7265 5f6d 6174          core_mat
+0000b0a0: 6572 6961 6c3d 7365 6c65 6374 6564 5f6d  erial=selected_m
+0000b0b0: 6174 6572 6961 6c73 2c0a 2020 2020 2020  aterials,.      
+0000b0c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b0e0: 6d75 6c74 5f61 6972 5f67 6170 5f74 7970  mult_air_gap_typ
+0000b0f0: 653d 5b27 6365 6e74 6572 5f64 6973 7472  e=['center_distr
+0000b100: 6962 7574 6564 275d 2c0a 2020 2020 2020  ibuted'],.      
+0000b110: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b130: 746f 705f 636f 7265 5f69 6e73 756c 6174  top_core_insulat
+0000b140: 696f 6e3d 636f 6d6d 615f 7374 725f 746f  ion=comma_str_to
+0000b150: 5f70 6f69 6e74 5f66 6c6f 6174 280a 2020  _point_float(.  
+0000b160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b180: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+0000b190: 5f69 736f 6c61 7469 6f6e 5f63 6f72 6532  _isolation_core2
+0000b1a0: 636f 6e64 5f74 6f70 5f6c 696e 6545 6469  cond_top_lineEdi
+0000b1b0: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
+0000b1c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b1d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b1e0: 2062 6f74 5f63 6f72 655f 696e 7375 6c61   bot_core_insula
+0000b1f0: 7469 6f6e 3d63 6f6d 6d61 5f73 7472 5f74  tion=comma_str_t
+0000b200: 6f5f 706f 696e 745f 666c 6f61 7428 0a20  o_point_float(. 
+0000b210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b230: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+0000b240: 745f 6973 6f6c 6174 696f 6e5f 636f 7265  t_isolation_core
+0000b250: 3263 6f6e 645f 626f 745f 6c69 6e65 4564  2cond_bot_lineEd
+0000b260: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+0000b270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b290: 2020 6c65 6674 5f63 6f72 655f 696e 7375    left_core_insu
+0000b2a0: 6c61 7469 6f6e 3d63 6f6d 6d61 5f73 7472  lation=comma_str
+0000b2b0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+0000b2c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b2d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b2e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000b2f0: 6175 745f 6973 6f6c 6174 696f 6e5f 636f  aut_isolation_co
+0000b300: 7265 3263 6f6e 645f 696e 6e65 725f 6c69  re2cond_inner_li
+0000b310: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
+0000b320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b340: 2020 2020 2020 7269 6768 745f 636f 7265        right_core
+0000b350: 5f69 6e73 756c 6174 696f 6e3d 636f 6d6d  _insulation=comm
+0000b360: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+0000b370: 6c6f 6174 280a 2020 2020 2020 2020 2020  loat(.          
+0000b380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b390: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3a0: 7365 6c66 2e61 7574 5f69 736f 6c61 7469  self.aut_isolati
+0000b3b0: 6f6e 5f63 6f72 6532 636f 6e64 5f6f 7574  on_core2cond_out
+0000b3c0: 6572 5f6c 696e 6545 6469 742e 7465 7874  er_lineEdit.text
+0000b3d0: 2829 292c 0a20 2020 2020 2020 2020 2020  ()),.           
+0000b3e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b3f0: 2020 2020 2020 2020 2020 2069 6e6e 6572             inner
+0000b400: 5f77 696e 6469 6e67 5f69 6e73 756c 6174  _winding_insulat
+0000b410: 696f 6e3d 636f 6d6d 615f 7374 725f 746f  ion=comma_str_to
+0000b420: 5f70 6f69 6e74 5f66 6c6f 6174 280a 2020  _point_float(.  
+0000b430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b450: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+0000b460: 5f69 736f 6c61 7469 6f6e 5f70 3270 5f6c  _isolation_p2p_l
+0000b470: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
+0000b480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000b490: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b4a0: 2020 2020 2020 2074 656d 7065 7261 7475         temperatu
+0000b4b0: 7265 3d63 6f6d 6d61 5f73 7472 5f74 6f5f  re=comma_str_to_
+0000b4c0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+0000b4d0: 2e61 7574 5f74 656d 705f 6c69 6e65 4564  .aut_temp_lineEd
+0000b4e0: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+0000b4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b510: 2020 6d61 6e75 616c 5f6c 6974 7a5f 636f    manual_litz_co
+0000b520: 6e64 7563 746f 725f 723d 5b5d 2c0a 2020  nductor_r=[],.  
+0000b530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b550: 2020 2020 6d61 6e75 616c 5f6c 6974 7a5f      manual_litz_
+0000b560: 7374 7261 6e64 5f72 3d5b 5d2c 0a20 2020  strand_r=[],.   
+0000b570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000b590: 2020 206d 616e 7561 6c5f 6c69 747a 5f73     manual_litz_s
+0000b5a0: 7472 616e 645f 6e3d 5b5d 2c0a 2020 2020  trand_n=[],.    
 0000b5b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0000b5c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b5d0: 2020 2020 7065 7263 656e 745f 746f 6c65      percent_tole
-0000b5e0: 7261 6e63 653d 3230 290a 0a20 2020 2020  rance=20)..     
-0000b5f0: 2020 2073 656c 662e 706c 6f74 5f32 6428     self.plot_2d(
-0000b600: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
-0000b610: 742c 2078 5f76 616c 7565 3d70 6c6f 745f  t, x_value=plot_
-0000b620: 6461 7461 5b3a 2c20 315d 2c20 795f 7661  data[:, 1], y_va
-0000b630: 6c75 653d 706c 6f74 5f64 6174 615b 3a2c  lue=plot_data[:,
-0000b640: 2032 5d2c 207a 5f76 616c 7565 3d70 6c6f   2], z_value=plo
-0000b650: 745f 6461 7461 5b3a 2c20 335d 2c0a 2020  t_data[:, 3],.  
-0000b660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000b670: 2020 2078 5f6c 6162 656c 3d27 566f 6c75     x_label='Volu
-0000b680: 6d65 202f 206d 5c75 3030 6233 272c 2079  me / m\u00b3', y
-0000b690: 5f6c 6162 656c 3d27 4c6f 7373 202f 2057  _label='Loss / W
-0000b6a0: 272c 207a 5f6c 6162 656c 3d27 436f 7374  ', z_label='Cost
-0000b6b0: 202f 205c 7532 3061 6327 2c20 7469 746c   / \u20ac', titl
-0000b6c0: 653d 2756 6f6c 756d 6520 7673 204c 6f73  e='Volume vs Los
-0000b6d0: 7327 2c0a 2020 2020 2020 2020 2020 2020  s',.            
-0000b6e0: 2020 2020 2020 2020 2061 6e6e 6f74 6174           annotat
-0000b6f0: 696f 6e73 3d70 6c6f 745f 6461 7461 5b3a  ions=plot_data[:
-0000b700: 2c20 345d 2c20 706c 6f74 5f63 6f6c 6f72  , 4], plot_color
-0000b710: 3d27 5264 596c 476e 5f72 272c 2069 6e64  ='RdYlGn_r', ind
-0000b720: 7563 7461 6e63 655f 7661 6c75 653d 706c  uctance_value=pl
-0000b730: 6f74 5f64 6174 615b 3a2c 2030 5d29 0a0a  ot_data[:, 0])..
-0000b740: 2020 2020 6465 6620 6c6f 6164 5f64 6573      def load_des
-0000b750: 6967 6e73 2873 656c 662c 206d 6174 706c  igns(self, matpl
-0000b760: 6f74 6c69 625f 7769 6467 6574 293a 0a20  otlib_widget):. 
-0000b770: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000b780: 2020 2020 506c 6f74 2074 6865 2076 6f6c      Plot the vol
-0000b790: 756d 6520 7673 206c 6f73 7320 6672 6f6d  ume vs loss from
-0000b7a0: 2074 6865 2061 6c72 6561 6479 2072 756e   the already run
-0000b7b0: 2066 696c 6573 206f 6620 4645 4d20 7369   files of FEM si
-0000b7c0: 6d75 6c61 7469 6f6e 7320 6672 6f6d 2074  mulations from t
-0000b7d0: 6865 2064 6972 6563 746f 7279 2070 6174  he directory pat
-0000b7e0: 682c 2069 6e20 7468 6520 4c6f 6164 2872  h, in the Load(r
-0000b7f0: 6573 756c 7473 2920 7461 622e 0a0a 2020  esults) tab...  
-0000b800: 2020 2020 2020 3a70 6172 616d 206d 6174        :param mat
-0000b810: 706c 6f74 6c69 625f 7769 6467 6574 3a20  plotlib_widget: 
-0000b820: 546f 2070 6c6f 7420 766f 6c75 6d65 2076  To plot volume v
-0000b830: 7320 6c6f 7373 2069 6e20 7468 6520 4c6f  s loss in the Lo
-0000b840: 6164 2872 6573 756c 7473 2920 7461 620a  ad(results) tab.
-0000b850: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0000b860: 2020 2020 6d61 7470 6c6f 746c 6962 5f77      matplotlib_w
-0000b870: 6964 6765 7420 3d20 4d61 7470 6c6f 746c  idget = Matplotl
-0000b880: 6962 5769 6467 6574 2829 0a20 2020 2020  ibWidget().     
-0000b890: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
-0000b8a0: 6467 6574 2e61 7869 732e 636c 6561 7228  dget.axis.clear(
-0000b8b0: 290a 2020 2020 2020 2020 7365 6c66 2e6c  ).        self.l
-0000b8c0: 6179 6f75 7420 3d20 5156 426f 784c 6179  ayout = QVBoxLay
-0000b8d0: 6f75 7428 7365 6c66 2e70 6c6f 7477 6964  out(self.plotwid
-0000b8e0: 6765 745f 3929 0a20 2020 2020 2020 2073  get_9).        s
-0000b8f0: 656c 662e 6c61 796f 7574 2e61 6464 5769  elf.layout.addWi
-0000b900: 6467 6574 286d 6174 706c 6f74 6c69 625f  dget(matplotlib_
-0000b910: 7769 6467 6574 290a 2020 2020 2020 2020  widget).        
-0000b920: 7472 793a 0a20 2020 2020 2020 2020 2020  try:.           
-0000b930: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
-0000b940: 6574 2e61 7869 735f 636d 2e72 656d 6f76  et.axis_cm.remov
-0000b950: 6528 290a 2020 2020 2020 2020 6578 6365  e().        exce
-0000b960: 7074 3a0a 2020 2020 2020 2020 2020 2020  pt:.            
-0000b970: 7061 7373 0a0a 2020 2020 2020 2020 6465  pass..        de
-0000b980: 7369 676e 5f64 6972 6563 746f 7279 203d  sign_directory =
-0000b990: 2073 656c 662e 6175 745f 6c6f 6164 5f64   self.aut_load_d
-0000b9a0: 6573 6967 6e5f 6469 7265 6374 6f72 796e  esign_directoryn
-0000b9b0: 616d 655f 6c69 6e65 4564 6974 2e74 6578  ame_lineEdit.tex
-0000b9c0: 7428 290a 2020 2020 2020 2020 7265 616c  t().        real
-0000b9d0: 5f69 6e64 7563 7461 6e63 652c 2074 6f74  _inductance, tot
-0000b9e0: 616c 5f6c 6f73 732c 2074 6f74 616c 5f76  al_loss, total_v
-0000b9f0: 6f6c 756d 652c 2074 6f74 616c 5f63 6f73  olume, total_cos
-0000ba00: 742c 206c 6162 656c 7320 3d20 6c6f 6164  t, labels = load
-0000ba10: 5f66 656d 5f73 696d 756c 6174 696f 6e5f  _fem_simulation_
-0000ba20: 7265 7375 6c74 7328 0a20 2020 2020 2020  results(.       
-0000ba30: 2020 2020 2066 656d 5f73 696d 756c 6174       fem_simulat
-0000ba40: 696f 6e5f 7265 7375 6c74 735f 6469 7265  ion_results_dire
-0000ba50: 6374 6f72 793d 6465 7369 676e 5f64 6972  ctory=design_dir
-0000ba60: 6563 746f 7279 290a 0a20 2020 2020 2020  ectory)..       
-0000ba70: 2070 6c6f 745f 6461 7461 203d 2066 696c   plot_data = fil
-0000ba80: 7465 725f 6166 7465 725f 6665 6d28 696e  ter_after_fem(in
-0000ba90: 6475 6374 616e 6365 3d72 6561 6c5f 696e  ductance=real_in
-0000baa0: 6475 6374 616e 6365 2c20 746f 7461 6c5f  ductance, total_
-0000bab0: 6c6f 7373 3d74 6f74 616c 5f6c 6f73 732c  loss=total_loss,
-0000bac0: 2074 6f74 616c 5f76 6f6c 756d 653d 746f   total_volume=to
-0000bad0: 7461 6c5f 766f 6c75 6d65 2c0a 2020 2020  tal_volume,.    
-0000bae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000baf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb00: 2074 6f74 616c 5f63 6f73 743d 746f 7461   total_cost=tota
-0000bb10: 6c5f 636f 7374 2c0a 2020 2020 2020 2020  l_cost,.        
-0000bb20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb30: 2020 2020 2020 2020 2020 2020 2061 6e6e               ann
-0000bb40: 6f74 6174 696f 6e5f 6c69 7374 3d6c 6162  otation_list=lab
-0000bb50: 656c 732c 2067 6f61 6c5f 696e 6475 6374  els, goal_induct
-0000bb60: 616e 6365 3d30 2e30 3030 3132 2c0a 2020  ance=0.00012,.  
-0000bb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bb90: 2020 2070 6572 6365 6e74 5f74 6f6c 6572     percent_toler
-0000bba0: 616e 6365 3d32 3029 0a0a 2020 2020 2020  ance=20)..      
-0000bbb0: 2020 7365 6c66 2e70 6c6f 745f 3264 286d    self.plot_2d(m
-0000bbc0: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-0000bbd0: 2c20 785f 7661 6c75 653d 706c 6f74 5f64  , x_value=plot_d
-0000bbe0: 6174 615b 3a2c 2031 5d2c 2079 5f76 616c  ata[:, 1], y_val
-0000bbf0: 7565 3d70 6c6f 745f 6461 7461 5b3a 2c20  ue=plot_data[:, 
-0000bc00: 325d 2c20 7a5f 7661 6c75 653d 706c 6f74  2], z_value=plot
-0000bc10: 5f64 6174 615b 3a2c 2033 5d2c 0a20 2020  _data[:, 3],.   
-0000bc20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bc30: 2020 785f 6c61 6265 6c3d 2756 6f6c 756d    x_label='Volum
-0000bc40: 6520 2f20 6d5c 7530 3062 3327 2c20 795f  e / m\u00b3', y_
-0000bc50: 6c61 6265 6c3d 274c 6f73 7320 2f20 5727  label='Loss / W'
-0000bc60: 2c20 7a5f 6c61 6265 6c3d 2743 6f73 7420  , z_label='Cost 
-0000bc70: 2f20 5c75 3230 6163 272c 2074 6974 6c65  / \u20ac', title
-0000bc80: 3d27 566f 6c75 6d65 2076 7320 4c6f 7373  ='Volume vs Loss
-0000bc90: 272c 0a20 2020 2020 2020 2020 2020 2020  ',.             
-0000bca0: 2020 2020 2020 2020 616e 6e6f 7461 7469          annotati
-0000bcb0: 6f6e 733d 706c 6f74 5f64 6174 615b 3a2c  ons=plot_data[:,
-0000bcc0: 2034 5d2c 2070 6c6f 745f 636f 6c6f 723d   4], plot_color=
-0000bcd0: 2752 6459 6c47 6e5f 7227 2c20 696e 6475  'RdYlGn_r', indu
-0000bce0: 6374 616e 6365 5f76 616c 7565 3d70 6c6f  ctance_value=plo
-0000bcf0: 745f 6461 7461 5b3a 2c20 305d 290a 0a20  t_data[:, 0]).. 
-0000bd00: 2020 2064 6566 2063 6865 636b 5f6f 6e65     def check_one
-0000bd10: 6c61 625f 636f 6e66 6967 2873 656c 662c  lab_config(self,
-0000bd20: 2067 656f 3a20 666d 742e 4d61 676e 6574   geo: fmt.Magnet
-0000bd30: 6963 436f 6d70 6f6e 656e 7429 3a0a 2020  icComponent):.  
-0000bd40: 2020 2020 2020 2222 2243 6865 636b 2074        """Check t
-0000bd50: 6865 206f 6e6c 6162 2063 6f6e 6669 6775  he onlab configu
-0000bd60: 7261 7469 6f6e 2074 6f20 656e 7465 7220  ration to enter 
-0000bd70: 6f72 2072 6561 6420 7468 6520 6f6e 656c  or read the onel
-0000bd80: 6162 2066 696c 6570 6174 682e 2222 220a  ab filepath.""".
-0000bd90: 2020 2020 2020 2020 2320 4173 6b20 666f          # Ask fo
-0000bda0: 7220 6f6e 656c 6162 2070 6174 6820 2869  r onelab path (i
-0000bdb0: 6620 6e6f 2063 6f6e 6669 6720 6669 6c65  f no config file
-0000bdc0: 2065 7869 7374 7329 0a20 2020 2020 2020   exists).       
-0000bdd0: 2069 6620 6e6f 7420 6f73 2e70 6174 682e   if not os.path.
-0000bde0: 6973 6669 6c65 2867 656f 2e66 696c 655f  isfile(geo.file_
-0000bdf0: 6461 7461 2e63 6f6e 6669 675f 7061 7468  data.config_path
-0000be00: 293a 0a20 2020 2020 2020 2020 2020 206f  ):.            o
-0000be10: 6e65 6c61 625f 7061 7468 5f64 6961 6c6f  nelab_path_dialo
-0000be20: 6720 3d20 4f6e 656c 6162 5061 7468 4469  g = OnelabPathDi
-0000be30: 616c 6f67 2829 0a20 2020 2020 2020 2020  alog().         
-0000be40: 2020 2076 616c 6964 203d 206f 6e65 6c61     valid = onela
-0000be50: 625f 7061 7468 5f64 6961 6c6f 672e 6578  b_path_dialog.ex
-0000be60: 6563 5f28 290a 2020 2020 2020 2020 2020  ec_().          
-0000be70: 2020 6966 2076 616c 6964 2069 7320 4e6f    if valid is No
-0000be80: 6e65 3a0a 2020 2020 2020 2020 2020 2020  ne:.            
-0000be90: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
-0000bea0: 696f 6e28 2253 6f6d 6574 6869 6e67 2077  ion("Something w
-0000beb0: 656e 7420 7772 6f6e 6720 7768 696c 6520  ent wrong while 
-0000bec0: 656e 7465 7269 6e67 206f 6e65 6c61 6220  entering onelab 
-0000bed0: 7061 7468 2229 0a20 2020 2020 2020 2020  path").         
-0000bee0: 2020 2065 6c69 6620 7661 6c69 6420 3d3d     elif valid ==
-0000bef0: 2031 3a0a 2020 2020 2020 2020 2020 2020   1:.            
-0000bf00: 2020 2020 6f6e 656c 6162 5f70 6174 6820      onelab_path 
-0000bf10: 3d20 6f6e 656c 6162 5f70 6174 685f 6469  = onelab_path_di
-0000bf20: 616c 6f67 2e64 6972 6563 746f 7279 0a20  alog.directory. 
-0000bf30: 2020 2020 2020 2020 2020 2020 2020 2069                 i
-0000bf40: 6620 6f73 2e70 6174 682e 6973 6469 7228  f os.path.isdir(
-0000bf50: 6f6e 656c 6162 5f70 6174 6829 3a0a 2020  onelab_path):.  
-0000bf60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bf70: 2020 6f6e 656c 6162 5f70 6174 685f 6469    onelab_path_di
-0000bf80: 6374 203d 207b 226f 6e65 6c61 6222 3a20  ct = {"onelab": 
-0000bf90: 6f6e 656c 6162 5f70 6174 687d 0a20 2020  onelab_path}.   
-0000bfa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000bfb0: 2077 6974 6820 6f70 656e 2867 656f 2e66   with open(geo.f
-0000bfc0: 696c 655f 6461 7461 2e63 6f6e 6669 675f  ile_data.config_
-0000bfd0: 7061 7468 2c20 2777 272c 2065 6e63 6f64  path, 'w', encod
-0000bfe0: 696e 673d 2775 7466 2d38 2729 2061 7320  ing='utf-8') as 
-0000bff0: 6664 3a0a 2020 2020 2020 2020 2020 2020  fd:.            
-0000c000: 2020 2020 2020 2020 2020 2020 6a73 6f6e              json
-0000c010: 2e64 756d 7028 6f6e 656c 6162 5f70 6174  .dump(onelab_pat
-0000c020: 685f 6469 6374 2c20 6664 2c20 696e 6465  h_dict, fd, inde
-0000c030: 6e74 3d32 2c20 656e 7375 7265 5f61 7363  nt=2, ensure_asc
-0000c040: 6969 3d46 616c 7365 290a 2020 2020 2020  ii=False).      
-0000c050: 2020 2020 2020 2020 2020 656c 7365 3a0a            else:.
-0000c060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c070: 2020 2020 7261 6973 6520 4578 6365 7074      raise Except
-0000c080: 696f 6e28 6622 7b6f 6e65 6c61 625f 7061  ion(f"{onelab_pa
-0000c090: 7468 7d20 6973 206e 6f74 2061 2076 616c  th} is not a val
-0000c0a0: 6964 2066 6f6c 6465 7220 7061 7468 2229  id folder path")
-0000c0b0: 0a20 2020 2020 2020 2020 2020 2065 6c69  .            eli
-0000c0c0: 6620 7661 6c69 6420 3d3d 2030 3a0a 2020  f valid == 0:.  
-0000c0d0: 2020 2020 2020 2020 2020 2020 2020 7379                sy
-0000c0e0: 732e 6578 6974 282d 3129 0a20 2020 2020  s.exit(-1).     
-0000c0f0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
-0000c100: 2020 2020 2020 2020 2020 2020 2072 6169               rai
-0000c110: 7365 2045 7863 6570 7469 6f6e 2866 2255  se Exception(f"U
-0000c120: 6e6b 6e6f 776e 2072 6574 7572 6e20 7479  nknown return ty
-0000c130: 7065 2066 726f 6d20 4f6e 656c 6162 5061  pe from OnelabPa
-0000c140: 7468 4469 616c 6f67 3a20 7b76 616c 6964  thDialog: {valid
-0000c150: 7d22 290a 0a20 2020 2064 6566 2061 7574  }")..    def aut
-0000c160: 6f6d 6174 6564 5f64 6573 6967 6e5f 6675  omated_design_fu
-0000c170: 6e63 5f63 6f6e 6669 6728 7365 6c66 293a  nc_config(self):
-0000c180: 0a20 2020 2020 2020 2022 2222 4361 6c6c  .        """Call
-0000c190: 2061 7574 6f6d 6174 6564 5f64 6573 6967   automated_desig
-0000c1a0: 6e5f 6675 6e63 2c20 7768 656e 2073 696d  n_func, when sim
-0000c1b0: 756c 6174 6520 6275 7474 6f6e 2069 7320  ulate button is 
-0000c1c0: 7072 6573 7365 6420 696e 2052 656c 7563  pressed in Reluc
-0000c1d0: 7461 6e63 6520 6d6f 6465 6c73 2074 6162  tance models tab
-0000c1e0: 2e22 2222 0a20 2020 2020 2020 2073 656c  .""".        sel
-0000c1f0: 662e 6175 746f 6d61 7465 645f 6465 7369  f.automated_desi
-0000c200: 676e 5f66 756e 6328 7365 6c66 2e6d 6174  gn_func(self.mat
-0000c210: 706c 6f74 6c69 625f 7769 6467 6574 5f61  plotlib_widget_a
-0000c220: 7574 5f74 6162 3229 0a0a 2020 2020 6465  ut_tab2)..    de
-0000c230: 6620 6175 746f 6d61 7465 645f 6465 7369  f automated_desi
-0000c240: 676e 5f66 656d 5f73 696d 5f63 6f6e 6669  gn_fem_sim_confi
-0000c250: 6728 7365 6c66 293a 0a20 2020 2020 2020  g(self):.       
-0000c260: 2022 2222 4361 6c6c 2061 7574 6f6d 6174   """Call automat
-0000c270: 6564 5f64 6573 6967 6e5f 6665 6d5f 7369  ed_design_fem_si
-0000c280: 6d2c 2077 6865 6e20 7369 6d75 6c61 7465  m, when simulate
-0000c290: 2062 7574 746f 6e20 6973 2070 7265 7373   button is press
-0000c2a0: 6564 2069 6e20 4645 4d20 7369 6d75 6c61  ed in FEM simula
-0000c2b0: 7469 6f6e 7320 7461 622e 2222 220a 2020  tions tab.""".  
-0000c2c0: 2020 2020 2020 7365 6c66 2e61 7574 6f6d        self.autom
-0000c2d0: 6174 6564 5f64 6573 6967 6e5f 6665 6d5f  ated_design_fem_
-0000c2e0: 7369 6d28 7365 6c66 2e6d 6174 706c 6f74  sim(self.matplot
-0000c2f0: 6c69 625f 7769 6467 6574 5f61 7574 5f74  lib_widget_aut_t
-0000c300: 6162 3329 0a0a 2020 2020 6465 6620 6c6f  ab3)..    def lo
-0000c310: 6164 5f64 6573 6967 6e73 5f63 6f6e 6669  ad_designs_confi
-0000c320: 6728 7365 6c66 293a 0a20 2020 2020 2020  g(self):.       
-0000c330: 2022 2222 4361 6c6c 206c 6f61 645f 6465   """Call load_de
-0000c340: 7369 676e 732c 2077 6865 6e20 4c6f 6164  signs, when Load
-0000c350: 2064 6573 6967 6e20 6275 7474 6f6e 2069   design button i
-0000c360: 7320 7072 6573 7365 6420 696e 204c 6f61  s pressed in Loa
-0000c370: 6428 7265 7375 6c74 7329 2074 6162 2e22  d(results) tab."
-0000c380: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-0000c390: 6c6f 6164 5f64 6573 6967 6e73 2873 656c  load_designs(sel
-0000c3a0: 662e 6d61 7470 6c6f 746c 6962 5f77 6964  f.matplotlib_wid
-0000c3b0: 6765 745f 6175 745f 7461 6234 290a 0a20  get_aut_tab4).. 
-0000c3c0: 2020 2023 2020 2a2a 2a2a 2a2a 2a2a 2a2a     #  **********
-0000c3d0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-0000c3e0: 2a2a 2041 7574 6f6d 6174 6564 2064 6573  ** Automated des
-0000c3f0: 6967 6e20 7461 6220 696e 6974 6961 6c69  ign tab initiali
-0000c400: 7a61 7469 6f6e 7320 2a2a 2a2a 2a2a 2a2a  zations ********
-0000c410: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-0000c420: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-0000c430: 2a2a 2a2a 2020 230a 2020 2020 6465 6620  ****  #.    def 
-0000c440: 6f6e 6367 656f 436c 6561 7261 6c6c 436c  oncgeoClearallCl
-0000c450: 6963 6b65 6428 7365 6c66 293a 0a20 2020  icked(self):.   
-0000c460: 2020 2020 2022 2222 436c 6561 7220 616c       """Clear al
-0000c470: 6c20 656e 7472 6965 732e 2222 220a 2020  l entries.""".  
-0000c480: 2020 2020 2020 7365 6c66 2e61 7574 5f63        self.aut_c
-0000c490: 6f72 655f 6765 6f6d 6574 7279 5f62 6173  ore_geometry_bas
-0000c4a0: 6b65 745f 6c69 7374 5769 6467 6574 2e63  ket_listWidget.c
-0000c4b0: 6c65 6172 2829 0a0a 2020 2020 6465 6620  lear()..    def 
-0000c4c0: 6f6e 6367 656f 436c 6561 7243 6c69 636b  oncgeoClearClick
-0000c4d0: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
-0000c4e0: 2020 2222 2241 6464 2074 6865 206d 616e    """Add the man
-0000c4f0: 7561 6c6c 7920 7365 6c65 6374 6564 2063  ually selected c
-0000c500: 6f72 6520 6368 6f69 6365 2074 6f20 7468  ore choice to th
-0000c510: 6520 6261 736b 6574 2e22 2222 0a20 2020  e basket.""".   
-0000c520: 2020 2020 204c 6973 745f 6974 656d 203d       List_item =
-0000c530: 2073 656c 662e 6175 745f 636f 7265 5f67   self.aut_core_g
-0000c540: 656f 6d65 7472 795f 6261 736b 6574 5f6c  eometry_basket_l
-0000c550: 6973 7457 6964 6765 742e 7365 6c65 6374  istWidget.select
-0000c560: 6564 4974 656d 7328 290a 2020 2020 2020  edItems().      
-0000c570: 2020 666f 7220 6974 656d 2069 6e20 4c69    for item in Li
-0000c580: 7374 5f69 7465 6d3a 0a20 2020 2020 2020  st_item:.       
-0000c590: 2020 2020 2073 656c 662e 6175 745f 636f       self.aut_co
-0000c5a0: 7265 5f67 656f 6d65 7472 795f 6261 736b  re_geometry_bask
-0000c5b0: 6574 5f6c 6973 7457 6964 6765 742e 7461  et_listWidget.ta
-0000c5c0: 6b65 4974 656d 2873 656c 662e 6175 745f  keItem(self.aut_
-0000c5d0: 636f 7265 5f67 656f 6d65 7472 795f 6261  core_geometry_ba
-0000c5e0: 736b 6574 5f6c 6973 7457 6964 6765 742e  sket_listWidget.
-0000c5f0: 726f 7728 6974 656d 2929 0a0a 2020 2020  row(item))..    
-0000c600: 6465 6620 6f6e 6367 656f 4d75 6c74 6970  def oncgeoMultip
-0000c610: 6c65 436c 6963 6b65 6428 7365 6c66 293a  leClicked(self):
-0000c620: 0a20 2020 2020 2020 2022 2222 4163 6365  .        """Acce
-0000c630: 7074 206d 756c 7469 706c 6520 6368 6f69  pt multiple choi
-0000c640: 6365 732e 2222 220a 2020 2020 2020 2020  ces.""".        
-0000c650: 6974 656d 7354 6578 744c 6973 7420 3d20  itemsTextList = 
-0000c660: 5b73 7472 2873 656c 662e 6175 745f 636f  [str(self.aut_co
-0000c670: 7265 5f67 656f 6d65 7472 795f 6261 736b  re_geometry_bask
-0000c680: 6574 5f6c 6973 7457 6964 6765 742e 6974  et_listWidget.it
-0000c690: 656d 2869 292e 7465 7874 2829 2920 666f  em(i).text()) fo
-0000c6a0: 7220 6920 696e 0a20 2020 2020 2020 2020  r i in.         
-0000c6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000c6c0: 7261 6e67 6528 7365 6c66 2e61 7574 5f63  range(self.aut_c
-0000c6d0: 6f72 655f 6765 6f6d 6574 7279 5f62 6173  ore_geometry_bas
-0000c6e0: 6b65 745f 6c69 7374 5769 6467 6574 2e63  ket_listWidget.c
-0000c6f0: 6f75 6e74 2829 295d 0a20 2020 2020 2020  ount())].       
-0000c700: 2063 6865 636b 6974 656d 7320 3d20 5b69   checkitems = [i
-0000c710: 7465 6d2e 7465 7874 2829 2066 6f72 2069  tem.text() for i
-0000c720: 7465 6d20 696e 2073 656c 662e 6175 745f  tem in self.aut_
-0000c730: 636f 7265 5f67 656f 6d65 7472 795f 6c69  core_geometry_li
-0000c740: 7374 5769 6467 6574 2e73 656c 6563 7465  stWidget.selecte
-0000c750: 6449 7465 6d73 2829 5d0a 2020 2020 2020  dItems()].      
-0000c760: 2020 7265 716c 6973 7420 3d20 6c69 7374    reqlist = list
-0000c770: 2873 6574 2863 6865 636b 6974 656d 7329  (set(checkitems)
-0000c780: 2e64 6966 6665 7265 6e63 6528 6974 656d  .difference(item
-0000c790: 7354 6578 744c 6973 7429 290a 2020 2020  sTextList)).    
-0000c7a0: 2020 2020 666f 7220 6920 696e 2072 6571      for i in req
-0000c7b0: 6c69 7374 3a0a 2020 2020 2020 2020 2020  list:.          
-0000c7c0: 2020 7365 6c66 2e61 7574 5f63 6f72 655f    self.aut_core_
-0000c7d0: 6765 6f6d 6574 7279 5f62 6173 6b65 745f  geometry_basket_
-0000c7e0: 6c69 7374 5769 6467 6574 2e61 6464 4974  listWidget.addIt
-0000c7f0: 656d 2869 290a 2020 2020 2020 2020 656c  em(i).        el
-0000c800: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000c810: 7061 7373 0a0a 2020 2020 6465 6620 6f6e  pass..    def on
-0000c820: 6367 656f 6d61 6e75 616c 4d75 6c74 6970  cgeomanualMultip
-0000c830: 6c65 436c 6963 6b65 6428 7365 6c66 293a  leClicked(self):
-0000c840: 0a20 2020 2020 2020 2022 2222 4d61 6e75  .        """Manu
-0000c850: 616c 2e22 2222 0a20 2020 2020 2020 2069  al.""".        i
-0000c860: 7465 6d73 203d 205b 5d0a 0a20 2020 2020  tems = []..     
-0000c870: 2020 2069 6620 7365 6c66 2e61 7574 5f6d     if self.aut_m
-0000c880: 696e 5f63 6f72 655f 7769 6474 685f 6c69  in_core_width_li
-0000c890: 6e65 4564 6974 2e74 6578 7428 2920 616e  neEdit.text() an
-0000c8a0: 6420 7365 6c66 2e61 7574 5f6d 6178 5f63  d self.aut_max_c
-0000c8b0: 6f72 655f 7769 6474 685f 6c69 6e65 4564  ore_width_lineEd
-0000c8c0: 6974 2e74 6578 7428 2920 616e 6420 7365  it.text() and se
-0000c8d0: 6c66 2e61 7574 5f73 7465 705f 636f 7265  lf.aut_step_core
-0000c8e0: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
-0000c8f0: 7465 7874 2829 205c 0a20 2020 2020 2020  text() \.       
-0000c900: 2020 2020 2020 2020 2061 6e64 2073 656c           and sel
-0000c910: 662e 6175 745f 6d69 6e5f 7769 6e64 6f77  f.aut_min_window
-0000c920: 5f68 6569 6768 745f 6c69 6e65 4564 6974  _height_lineEdit
-0000c930: 2e74 6578 7428 2920 616e 6420 7365 6c66  .text() and self
-0000c940: 2e61 7574 5f6d 6178 5f77 696e 646f 775f  .aut_max_window_
-0000c950: 6865 6967 6874 5f6c 696e 6545 6469 742e  height_lineEdit.
-0000c960: 7465 7874 2829 2061 6e64 2073 656c 662e  text() and self.
-0000c970: 6175 745f 7374 6570 5f77 696e 646f 775f  aut_step_window_
-0000c980: 6865 6967 6874 5f6c 696e 6545 6469 742e  height_lineEdit.
-0000c990: 7465 7874 2829 205c 0a20 2020 2020 2020  text() \.       
-0000c9a0: 2020 2020 2020 2020 2061 6e64 2073 656c           and sel
-0000c9b0: 662e 6175 745f 6d69 6e5f 7769 6e64 6f77  f.aut_min_window
-0000c9c0: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
-0000c9d0: 7465 7874 2829 2061 6e64 2073 656c 662e  text() and self.
-0000c9e0: 6175 745f 6d61 785f 7769 6e64 6f77 5f77  aut_max_window_w
-0000c9f0: 6964 7468 5f6c 696e 6545 6469 742e 7465  idth_lineEdit.te
-0000ca00: 7874 2829 2061 6e64 2073 656c 662e 6175  xt() and self.au
-0000ca10: 745f 7374 6570 5f77 696e 646f 775f 7769  t_step_window_wi
-0000ca20: 6474 685f 6c69 6e65 4564 6974 2e74 6578  dth_lineEdit.tex
-0000ca30: 7428 293a 0a20 2020 2020 2020 2020 2020  t():.           
-0000ca40: 2069 7465 6d73 2e61 7070 656e 6428 0a20   items.append(. 
-0000ca50: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0000ca60: 227b 7365 6c66 2e61 7574 5f6d 696e 5f63  "{self.aut_min_c
-0000ca70: 6f72 655f 7769 6474 685f 6c69 6e65 4564  ore_width_lineEd
-0000ca80: 6974 2e74 6578 7428 297d 2a22 0a20 2020  it.text()}*".   
-0000ca90: 2020 2020 2020 2020 2020 2020 2066 227b               f"{
-0000caa0: 7365 6c66 2e61 7574 5f6d 696e 5f77 696e  self.aut_min_win
-0000cab0: 646f 775f 6865 6967 6874 5f6c 696e 6545  dow_height_lineE
-0000cac0: 6469 742e 7465 7874 2829 7d2a 7b73 656c  dit.text()}*{sel
-0000cad0: 662e 6175 745f 6d69 6e5f 7769 6e64 6f77  f.aut_min_window
-0000cae0: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
-0000caf0: 7465 7874 2829 7d20 286d 696e 2076 616c  text()} (min val
-0000cb00: 7565 2922 290a 2020 2020 2020 2020 6974  ue)").        it
-0000cb10: 656d 7354 6578 744c 6973 7420 3d20 5b73  emsTextList = [s
-0000cb20: 7472 2873 656c 662e 6175 745f 636f 7265  tr(self.aut_core
-0000cb30: 5f67 656f 6d65 7472 795f 6d61 6e75 616c  _geometry_manual
-0000cb40: 5f62 6173 6b65 745f 6c69 7374 5769 6467  _basket_listWidg
-0000cb50: 6574 2e69 7465 6d28 6929 2e74 6578 7428  et.item(i).text(
-0000cb60: 2929 2066 6f72 2069 2069 6e0a 2020 2020  )) for i in.    
-0000cb70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cb80: 2020 2020 2072 616e 6765 2873 656c 662e       range(self.
-0000cb90: 6175 745f 636f 7265 5f67 656f 6d65 7472  aut_core_geometr
-0000cba0: 795f 6d61 6e75 616c 5f62 6173 6b65 745f  y_manual_basket_
-0000cbb0: 6c69 7374 5769 6467 6574 2e63 6f75 6e74  listWidget.count
-0000cbc0: 2829 295d 0a20 2020 2020 2020 2066 6f72  ())].        for
-0000cbd0: 2069 2069 6e20 6974 656d 733a 0a20 2020   i in items:.   
-0000cbe0: 2020 2020 2020 2020 2069 6620 6920 6e6f           if i no
-0000cbf0: 7420 696e 2069 7465 6d73 5465 7874 4c69  t in itemsTextLi
-0000cc00: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-0000cc10: 2020 2020 7365 6c66 2e61 7574 5f63 6f72      self.aut_cor
-0000cc20: 655f 6765 6f6d 6574 7279 5f6d 616e 7561  e_geometry_manua
-0000cc30: 6c5f 6261 736b 6574 5f6c 6973 7457 6964  l_basket_listWid
-0000cc40: 6765 742e 6164 6449 7465 6d28 6929 0a0a  get.addItem(i)..
-0000cc50: 2020 2020 6465 6620 6367 656f 7365 6c65      def cgeosele
-0000cc60: 6374 616c 6c28 7365 6c66 293a 0a20 2020  ctall(self):.   
-0000cc70: 2020 2020 2022 2222 5365 6c65 6374 2061       """Select a
-0000cc80: 6c6c 2074 6865 2063 686f 6963 6573 2e22  ll the choices."
-0000cc90: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-0000cca0: 6175 745f 636f 7265 5f67 656f 6d65 7472  aut_core_geometr
-0000ccb0: 795f 6c69 7374 5769 6467 6574 2e73 656c  y_listWidget.sel
-0000ccc0: 6563 7441 6c6c 2829 0a0a 2020 2020 6465  ectAll()..    de
-0000ccd0: 6620 6f6e 6367 656f 436c 6963 6b65 6428  f oncgeoClicked(
-0000cce0: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
-0000ccf0: 2222 4164 6420 6120 6368 6f69 6365 2062  ""Add a choice b
-0000cd00: 7920 636c 6963 6b20 746f 2074 6865 2062  y click to the b
-0000cd10: 6173 6b65 7420 6966 2069 7420 6973 206e  asket if it is n
-0000cd20: 6f74 2061 6c72 6561 6479 2069 6e20 7468  ot already in th
-0000cd30: 6520 6261 736b 6574 2e22 2222 0a20 2020  e basket.""".   
-0000cd40: 2020 2020 2069 7465 6d73 5465 7874 4c69       itemsTextLi
-0000cd50: 7374 203d 205b 7374 7228 7365 6c66 2e61  st = [str(self.a
-0000cd60: 7574 5f63 6f72 655f 6765 6f6d 6574 7279  ut_core_geometry
-0000cd70: 5f62 6173 6b65 745f 6c69 7374 5769 6467  _basket_listWidg
-0000cd80: 6574 2e69 7465 6d28 6929 2e74 6578 7428  et.item(i).text(
-0000cd90: 2929 2066 6f72 2069 2069 6e0a 2020 2020  )) for i in.    
-0000cda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000cdb0: 2020 2020 2072 616e 6765 2873 656c 662e       range(self.
-0000cdc0: 6175 745f 636f 7265 5f67 656f 6d65 7472  aut_core_geometr
-0000cdd0: 795f 6261 736b 6574 5f6c 6973 7457 6964  y_basket_listWid
-0000cde0: 6765 742e 636f 756e 7428 2929 5d0a 2020  get.count())].  
-0000cdf0: 2020 2020 2020 6368 6563 6b69 7465 6d20        checkitem 
-0000ce00: 3d20 7365 6c66 2e61 7574 5f63 6f72 655f  = self.aut_core_
-0000ce10: 6765 6f6d 6574 7279 5f6c 6973 7457 6964  geometry_listWid
-0000ce20: 6765 742e 6375 7272 656e 7449 7465 6d28  get.currentItem(
-0000ce30: 292e 7465 7874 2829 0a20 2020 2020 2020  ).text().       
-0000ce40: 2069 6620 6368 6563 6b69 7465 6d20 6e6f   if checkitem no
-0000ce50: 7420 696e 2069 7465 6d73 5465 7874 4c69  t in itemsTextLi
-0000ce60: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-0000ce70: 7365 6c66 2e61 7574 5f63 6f72 655f 6765  self.aut_core_ge
-0000ce80: 6f6d 6574 7279 5f62 6173 6b65 745f 6c69  ometry_basket_li
-0000ce90: 7374 5769 6467 6574 2e61 6464 4974 656d  stWidget.addItem
-0000cea0: 2873 656c 662e 6175 745f 636f 7265 5f67  (self.aut_core_g
-0000ceb0: 656f 6d65 7472 795f 6c69 7374 5769 6467  eometry_listWidg
-0000cec0: 6574 2e63 7572 7265 6e74 4974 656d 2829  et.currentItem()
-0000ced0: 2e74 6578 7428 2929 0a20 2020 2020 2020  .text()).       
-0000cee0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0000cef0: 2020 2070 6173 730a 0a20 2020 2064 6566     pass..    def
-0000cf00: 206f 6e61 6972 6761 7074 7970 6543 6c65   onairgaptypeCle
-0000cf10: 6172 616c 6c43 6c69 636b 6564 2873 656c  arallClicked(sel
-0000cf20: 6629 3a0a 2020 2020 2020 2020 2222 2243  f):.        """C
-0000cf30: 6c65 6172 2061 6c6c 2074 6865 2065 6e74  lear all the ent
-0000cf40: 7269 6573 2e22 2222 0a20 2020 2020 2020  ries.""".       
-0000cf50: 2073 656c 662e 6175 745f 6169 7267 6170   self.aut_airgap
-0000cf60: 5f74 7970 655f 6261 736b 6574 5f6c 6973  _type_basket_lis
-0000cf70: 7477 6964 6765 742e 636c 6561 7228 290a  twidget.clear().
-0000cf80: 0a20 2020 2064 6566 206f 6e61 6972 6761  .    def onairga
-0000cf90: 7074 7970 6543 6c65 6172 436c 6963 6b65  ptypeClearClicke
-0000cfa0: 6428 7365 6c66 293a 0a20 2020 2020 2020  d(self):.       
-0000cfb0: 2022 2222 436c 6561 7220 7468 6520 7365   """Clear the se
-0000cfc0: 6c65 6374 6564 2065 6e74 7279 2e22 2222  lected entry."""
-0000cfd0: 0a20 2020 2020 2020 204c 6973 745f 6974  .        List_it
-0000cfe0: 656d 203d 2073 656c 662e 6175 745f 6169  em = self.aut_ai
-0000cff0: 7267 6170 5f74 7970 655f 6261 736b 6574  rgap_type_basket
-0000d000: 5f6c 6973 7477 6964 6765 742e 7365 6c65  _listwidget.sele
-0000d010: 6374 6564 4974 656d 7328 290a 2020 2020  ctedItems().    
-0000d020: 2020 2020 666f 7220 6974 656d 2069 6e20      for item in 
-0000d030: 4c69 7374 5f69 7465 6d3a 0a20 2020 2020  List_item:.     
-0000d040: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-0000d050: 6169 7267 6170 5f74 7970 655f 6261 736b  airgap_type_bask
-0000d060: 6574 5f6c 6973 7477 6964 6765 742e 7461  et_listwidget.ta
-0000d070: 6b65 4974 656d 2873 656c 662e 6175 745f  keItem(self.aut_
-0000d080: 6169 7267 6170 5f74 7970 655f 6261 736b  airgap_type_bask
-0000d090: 6574 5f6c 6973 7477 6964 6765 742e 726f  et_listwidget.ro
-0000d0a0: 7728 6974 656d 2929 0a0a 2020 2020 6465  w(item))..    de
-0000d0b0: 6620 6f6e 6169 7267 6170 7479 7065 4d75  f onairgaptypeMu
-0000d0c0: 6c74 6970 6c65 436c 6963 6b65 6428 7365  ltipleClicked(se
-0000d0d0: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-0000d0e0: 4163 6365 7074 206d 756c 7469 706c 6520  Accept multiple 
-0000d0f0: 6368 6f69 6365 732e 2222 220a 2020 2020  choices.""".    
-0000d100: 2020 2020 6974 656d 7354 6578 744c 6973      itemsTextLis
-0000d110: 7420 3d20 5b73 7472 2873 656c 662e 6175  t = [str(self.au
-0000d120: 745f 6169 7267 6170 5f74 7970 655f 6261  t_airgap_type_ba
-0000d130: 736b 6574 5f6c 6973 7477 6964 6765 742e  sket_listwidget.
-0000d140: 6974 656d 2869 292e 7465 7874 2829 2920  item(i).text()) 
-0000d150: 666f 7220 6920 696e 0a20 2020 2020 2020  for i in.       
-0000d160: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d170: 2020 7261 6e67 6528 7365 6c66 2e61 7574    range(self.aut
-0000d180: 5f61 6972 6761 705f 7479 7065 5f62 6173  _airgap_type_bas
-0000d190: 6b65 745f 6c69 7374 7769 6467 6574 2e63  ket_listwidget.c
-0000d1a0: 6f75 6e74 2829 295d 0a20 2020 2020 2020  ount())].       
-0000d1b0: 2063 6865 636b 6974 656d 7320 3d20 5b69   checkitems = [i
-0000d1c0: 7465 6d2e 7465 7874 2829 2066 6f72 2069  tem.text() for i
-0000d1d0: 7465 6d20 696e 2073 656c 662e 6175 745f  tem in self.aut_
-0000d1e0: 6169 7267 6170 5f74 7970 655f 6c69 7374  airgap_type_list
-0000d1f0: 5769 6467 6574 2e73 656c 6563 7465 6449  Widget.selectedI
-0000d200: 7465 6d73 2829 5d0a 2020 2020 2020 2020  tems()].        
-0000d210: 7265 716c 6973 7420 3d20 6c69 7374 2873  reqlist = list(s
-0000d220: 6574 2863 6865 636b 6974 656d 7329 2e64  et(checkitems).d
-0000d230: 6966 6665 7265 6e63 6528 6974 656d 7354  ifference(itemsT
-0000d240: 6578 744c 6973 7429 290a 2020 2020 2020  extList)).      
-0000d250: 2020 666f 7220 6920 696e 2072 6571 6c69    for i in reqli
-0000d260: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-0000d270: 7365 6c66 2e61 7574 5f61 6972 6761 705f  self.aut_airgap_
-0000d280: 7479 7065 5f62 6173 6b65 745f 6c69 7374  type_basket_list
-0000d290: 7769 6467 6574 2e61 6464 4974 656d 2869  widget.addItem(i
-0000d2a0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
-0000d2b0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
-0000d2c0: 0a0a 2020 2020 6465 6620 6f6e 6169 7267  ..    def onairg
-0000d2d0: 6170 7479 7065 436c 6963 6b65 6428 7365  aptypeClicked(se
-0000d2e0: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-0000d2f0: 4164 6420 6120 6368 6f69 6365 2062 7920  Add a choice by 
-0000d300: 636c 6963 6b20 746f 2074 6865 2062 6173  click to the bas
-0000d310: 6b65 7420 6966 2069 7420 6973 206e 6f74  ket if it is not
-0000d320: 2061 6c72 6561 6479 2069 6e20 7468 6520   already in the 
-0000d330: 6261 736b 6574 2e22 2222 0a20 2020 2020  basket.""".     
-0000d340: 2020 2069 7465 6d73 5465 7874 4c69 7374     itemsTextList
-0000d350: 203d 205b 7374 7228 7365 6c66 2e61 7574   = [str(self.aut
-0000d360: 5f61 6972 6761 705f 7479 7065 5f62 6173  _airgap_type_bas
-0000d370: 6b65 745f 6c69 7374 7769 6467 6574 2e69  ket_listwidget.i
-0000d380: 7465 6d28 6929 2e74 6578 7428 2929 2066  tem(i).text()) f
-0000d390: 6f72 2069 2069 6e0a 2020 2020 2020 2020  or i in.        
-0000d3a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d3b0: 2072 616e 6765 2873 656c 662e 6175 745f   range(self.aut_
-0000d3c0: 6169 7267 6170 5f74 7970 655f 6261 736b  airgap_type_bask
-0000d3d0: 6574 5f6c 6973 7477 6964 6765 742e 636f  et_listwidget.co
-0000d3e0: 756e 7428 2929 5d0a 2020 2020 2020 2020  unt())].        
-0000d3f0: 6368 6563 6b69 7465 6d20 3d20 7365 6c66  checkitem = self
-0000d400: 2e61 7574 5f61 6972 6761 705f 7479 7065  .aut_airgap_type
-0000d410: 5f6c 6973 7457 6964 6765 742e 6375 7272  _listWidget.curr
-0000d420: 656e 7449 7465 6d28 292e 7465 7874 2829  entItem().text()
-0000d430: 0a20 2020 2020 2020 2069 6620 6368 6563  .        if chec
-0000d440: 6b69 7465 6d20 6e6f 7420 696e 2069 7465  kitem not in ite
-0000d450: 6d73 5465 7874 4c69 7374 3a0a 2020 2020  msTextList:.    
-0000d460: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-0000d470: 5f61 6972 6761 705f 7479 7065 5f62 6173  _airgap_type_bas
-0000d480: 6b65 745f 6c69 7374 7769 6467 6574 2e61  ket_listwidget.a
-0000d490: 6464 4974 656d 2873 656c 662e 6175 745f  ddItem(self.aut_
-0000d4a0: 6169 7267 6170 5f74 7970 655f 6c69 7374  airgap_type_list
-0000d4b0: 5769 6467 6574 2e63 7572 7265 6e74 4974  Widget.currentIt
-0000d4c0: 656d 2829 2e74 6578 7428 2929 0a20 2020  em().text()).   
-0000d4d0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0000d4e0: 2020 2020 2020 2070 6173 730a 0a20 2020         pass..   
-0000d4f0: 2064 6566 2061 6972 6761 7074 7970 6573   def airgaptypes
-0000d500: 656c 6563 7461 6c6c 2873 656c 6629 3a0a  electall(self):.
-0000d510: 2020 2020 2020 2020 2222 2253 656c 6563          """Selec
-0000d520: 7420 616c 6c20 7468 6520 6368 6f69 6365  t all the choice
-0000d530: 732e 2222 220a 2020 2020 2020 2020 7365  s.""".        se
-0000d540: 6c66 2e61 7574 5f61 6972 6761 705f 7479  lf.aut_airgap_ty
-0000d550: 7065 5f6c 6973 7457 6964 6765 742e 7365  pe_listWidget.se
-0000d560: 6c65 6374 416c 6c28 290a 0a20 2020 2064  lectAll()..    d
-0000d570: 6566 206f 6e63 6d61 7443 6c65 6172 616c  ef oncmatClearal
-0000d580: 6c43 6c69 636b 6564 2873 656c 6629 3a0a  lClicked(self):.
-0000d590: 2020 2020 2020 2020 2222 2243 6c65 6172          """Clear
-0000d5a0: 2061 6c6c 2065 6e74 7269 6573 2e22 2222   all entries."""
-0000d5b0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-0000d5c0: 745f 636f 7265 5f6d 6174 6572 6961 6c5f  t_core_material_
-0000d5d0: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
-0000d5e0: 742e 636c 6561 7228 290a 0a20 2020 2064  t.clear()..    d
-0000d5f0: 6566 206f 6e63 6d61 7443 6c65 6172 436c  ef oncmatClearCl
-0000d600: 6963 6b65 6428 7365 6c66 293a 0a20 2020  icked(self):.   
-0000d610: 2020 2020 2022 2222 436c 6561 7220 7468       """Clear th
-0000d620: 6520 7365 6c65 6374 6564 2065 6e74 7279  e selected entry
-0000d630: 2e22 2222 0a20 2020 2020 2020 204c 6973  .""".        Lis
-0000d640: 745f 6974 656d 203d 2073 656c 662e 6175  t_item = self.au
-0000d650: 745f 636f 7265 5f6d 6174 6572 6961 6c5f  t_core_material_
-0000d660: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
-0000d670: 742e 7365 6c65 6374 6564 4974 656d 7328  t.selectedItems(
-0000d680: 290a 2020 2020 2020 2020 666f 7220 6974  ).        for it
-0000d690: 656d 2069 6e20 4c69 7374 5f69 7465 6d3a  em in List_item:
-0000d6a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000d6b0: 662e 6175 745f 636f 7265 5f6d 6174 6572  f.aut_core_mater
-0000d6c0: 6961 6c5f 6261 736b 6574 5f6c 6973 7457  ial_basket_listW
-0000d6d0: 6964 6765 742e 7461 6b65 4974 656d 2873  idget.takeItem(s
-0000d6e0: 656c 662e 6175 745f 636f 7265 5f6d 6174  elf.aut_core_mat
-0000d6f0: 6572 6961 6c5f 6261 736b 6574 5f6c 6973  erial_basket_lis
-0000d700: 7457 6964 6765 742e 726f 7728 6974 656d  tWidget.row(item
-0000d710: 2929 0a0a 2020 2020 6465 6620 6f6e 636d  ))..    def oncm
-0000d720: 6174 4d75 6c74 6970 6c65 436c 6963 6b65  atMultipleClicke
-0000d730: 6428 7365 6c66 293a 0a20 2020 2020 2020  d(self):.       
-0000d740: 2022 2222 4163 6365 7074 206d 756c 7469   """Accept multi
-0000d750: 706c 6520 6368 6f69 6365 732e 2222 220a  ple choices.""".
-0000d760: 2020 2020 2020 2020 6974 656d 7354 6578          itemsTex
-0000d770: 744c 6973 7420 3d20 5b73 7472 2873 656c  tList = [str(sel
-0000d780: 662e 6175 745f 636f 7265 5f6d 6174 6572  f.aut_core_mater
-0000d790: 6961 6c5f 6261 736b 6574 5f6c 6973 7457  ial_basket_listW
-0000d7a0: 6964 6765 742e 6974 656d 2869 292e 7465  idget.item(i).te
-0000d7b0: 7874 2829 2920 666f 7220 6920 696e 0a20  xt()) for i in. 
-0000d7c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000d7d0: 2020 2020 2020 2020 7261 6e67 6528 7365          range(se
-0000d7e0: 6c66 2e61 7574 5f63 6f72 655f 6d61 7465  lf.aut_core_mate
-0000d7f0: 7269 616c 5f62 6173 6b65 745f 6c69 7374  rial_basket_list
-0000d800: 5769 6467 6574 2e63 6f75 6e74 2829 295d  Widget.count())]
-0000d810: 0a20 2020 2020 2020 2063 6865 636b 6974  .        checkit
-0000d820: 656d 7320 3d20 5b69 7465 6d2e 7465 7874  ems = [item.text
-0000d830: 2829 2066 6f72 2069 7465 6d20 696e 2073  () for item in s
-0000d840: 656c 662e 6175 745f 636f 7265 5f6d 6174  elf.aut_core_mat
-0000d850: 6572 6961 6c5f 6461 7461 5f6c 6973 7457  erial_data_listW
-0000d860: 6964 6765 742e 7365 6c65 6374 6564 4974  idget.selectedIt
-0000d870: 656d 7328 295d 0a20 2020 2020 2020 2072  ems()].        r
-0000d880: 6571 6c69 7374 203d 206c 6973 7428 7365  eqlist = list(se
-0000d890: 7428 6368 6563 6b69 7465 6d73 292e 6469  t(checkitems).di
-0000d8a0: 6666 6572 656e 6365 2869 7465 6d73 5465  fference(itemsTe
-0000d8b0: 7874 4c69 7374 2929 0a20 2020 2020 2020  xtList)).       
-0000d8c0: 2066 6f72 2069 2069 6e20 7265 716c 6973   for i in reqlis
-0000d8d0: 743a 0a20 2020 2020 2020 2020 2020 2073  t:.            s
-0000d8e0: 656c 662e 6175 745f 636f 7265 5f6d 6174  elf.aut_core_mat
-0000d8f0: 6572 6961 6c5f 6261 736b 6574 5f6c 6973  erial_basket_lis
-0000d900: 7457 6964 6765 742e 6164 6449 7465 6d28  tWidget.addItem(
-0000d910: 6929 0a20 2020 2020 2020 2065 6c73 653a  i).        else:
-0000d920: 0a20 2020 2020 2020 2020 2020 2070 6173  .            pas
-0000d930: 730a 0a20 2020 2064 6566 2063 6d61 7473  s..    def cmats
-0000d940: 656c 6563 7461 6c6c 2873 656c 6629 3a0a  electall(self):.
-0000d950: 2020 2020 2020 2020 2222 2253 656c 6563          """Selec
-0000d960: 7420 616c 6c20 7468 6520 6368 6f69 6365  t all the choice
-0000d970: 732e 2222 220a 2020 2020 2020 2020 7365  s.""".        se
-0000d980: 6c66 2e61 7574 5f63 6f72 655f 6d61 7465  lf.aut_core_mate
-0000d990: 7269 616c 5f64 6174 615f 6c69 7374 5769  rial_data_listWi
-0000d9a0: 6467 6574 2e73 656c 6563 7441 6c6c 2829  dget.selectAll()
-0000d9b0: 0a0a 2020 2020 6465 6620 6f6e 636d 6174  ..    def oncmat
-0000d9c0: 436c 6963 6b65 6428 7365 6c66 293a 0a20  Clicked(self):. 
-0000d9d0: 2020 2020 2020 2022 2222 4164 6420 6120         """Add a 
-0000d9e0: 6368 6f69 6365 2062 7920 636c 6963 6b20  choice by click 
-0000d9f0: 746f 2074 6865 2062 6173 6b65 7420 6966  to the basket if
-0000da00: 2069 7420 6973 206e 6f74 2061 6c72 6561   it is not alrea
-0000da10: 6479 2069 6e20 7468 6520 6261 736b 6574  dy in the basket
-0000da20: 2e22 2222 0a20 2020 2020 2020 2069 7465  .""".        ite
-0000da30: 6d73 5465 7874 4c69 7374 203d 205b 7374  msTextList = [st
-0000da40: 7228 7365 6c66 2e61 7574 5f63 6f72 655f  r(self.aut_core_
-0000da50: 6d61 7465 7269 616c 5f62 6173 6b65 745f  material_basket_
-0000da60: 6c69 7374 5769 6467 6574 2e69 7465 6d28  listWidget.item(
-0000da70: 6929 2e74 6578 7428 2929 2066 6f72 2069  i).text()) for i
-0000da80: 2069 6e0a 2020 2020 2020 2020 2020 2020   in.            
-0000da90: 2020 2020 2020 2020 2020 2020 2072 616e               ran
-0000daa0: 6765 2873 656c 662e 6175 745f 636f 7265  ge(self.aut_core
-0000dab0: 5f6d 6174 6572 6961 6c5f 6261 736b 6574  _material_basket
-0000dac0: 5f6c 6973 7457 6964 6765 742e 636f 756e  _listWidget.coun
-0000dad0: 7428 2929 5d0a 2020 2020 2020 2020 6368  t())].        ch
-0000dae0: 6563 6b69 7465 6d20 3d20 7365 6c66 2e61  eckitem = self.a
-0000daf0: 7574 5f63 6f72 655f 6d61 7465 7269 616c  ut_core_material
-0000db00: 5f64 6174 615f 6c69 7374 5769 6467 6574  _data_listWidget
-0000db10: 2e63 7572 7265 6e74 4974 656d 2829 2e74  .currentItem().t
-0000db20: 6578 7428 290a 2020 2020 2020 2020 6966  ext().        if
-0000db30: 2063 6865 636b 6974 656d 206e 6f74 2069   checkitem not i
-0000db40: 6e20 6974 656d 7354 6578 744c 6973 743a  n itemsTextList:
-0000db50: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000db60: 662e 6175 745f 636f 7265 5f6d 6174 6572  f.aut_core_mater
-0000db70: 6961 6c5f 6261 736b 6574 5f6c 6973 7457  ial_basket_listW
-0000db80: 6964 6765 742e 6164 6449 7465 6d28 0a20  idget.addItem(. 
-0000db90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000dba0: 656c 662e 6175 745f 636f 7265 5f6d 6174  elf.aut_core_mat
-0000dbb0: 6572 6961 6c5f 6461 7461 5f6c 6973 7457  erial_data_listW
-0000dbc0: 6964 6765 742e 6375 7272 656e 7449 7465  idget.currentIte
-0000dbd0: 6d28 292e 7465 7874 2829 290a 2020 2020  m().text()).    
-0000dbe0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
-0000dbf0: 2020 2020 2020 7061 7373 0a0a 2020 2020        pass..    
-0000dc00: 6465 6620 6f6e 6c31 436c 6561 7261 6c6c  def onl1Clearall
-0000dc10: 436c 6963 6b65 6428 7365 6c66 293a 0a20  Clicked(self):. 
-0000dc20: 2020 2020 2020 2022 2222 436c 6561 7220         """Clear 
-0000dc30: 616c 6c20 656e 7472 6965 732e 2222 220a  all entries.""".
-0000dc40: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-0000dc50: 5f6c 6974 7a5f 6261 736b 6574 5f6c 6973  _litz_basket_lis
-0000dc60: 7457 6964 6765 742e 636c 6561 7228 290a  tWidget.clear().
-0000dc70: 0a20 2020 2064 6566 206f 6e6c 3143 6c65  .    def onl1Cle
-0000dc80: 6172 436c 6963 6b65 6428 7365 6c66 293a  arClicked(self):
-0000dc90: 0a20 2020 2020 2020 2022 2222 436c 6561  .        """Clea
-0000dca0: 7220 7468 6520 7365 6c65 6374 6564 2065  r the selected e
-0000dcb0: 6e74 7279 2e22 2222 0a20 2020 2020 2020  ntry.""".       
-0000dcc0: 204c 6973 745f 6974 656d 203d 2073 656c   List_item = sel
-0000dcd0: 662e 6175 745f 6c69 747a 5f62 6173 6b65  f.aut_litz_baske
-0000dce0: 745f 6c69 7374 5769 6467 6574 2e73 656c  t_listWidget.sel
-0000dcf0: 6563 7465 6449 7465 6d73 2829 0a20 2020  ectedItems().   
-0000dd00: 2020 2020 2066 6f72 2069 7465 6d20 696e       for item in
-0000dd10: 204c 6973 745f 6974 656d 3a0a 2020 2020   List_item:.    
-0000dd20: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-0000dd30: 5f6c 6974 7a5f 6261 736b 6574 5f6c 6973  _litz_basket_lis
-0000dd40: 7457 6964 6765 742e 7461 6b65 4974 656d  tWidget.takeItem
-0000dd50: 2873 656c 662e 6175 745f 6c69 747a 5f62  (self.aut_litz_b
-0000dd60: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
-0000dd70: 2e72 6f77 2869 7465 6d29 290a 0a20 2020  .row(item))..   
-0000dd80: 2064 6566 206f 6e6c 314d 756c 7469 706c   def onl1Multipl
-0000dd90: 6543 6c69 636b 6564 2873 656c 6629 3a0a  eClicked(self):.
-0000dda0: 2020 2020 2020 2020 2222 2241 6363 6570          """Accep
-0000ddb0: 7420 6d75 6c74 6970 6c65 2063 686f 6963  t multiple choic
-0000ddc0: 6573 2e22 2222 0a20 2020 2020 2020 2069  es.""".        i
-0000ddd0: 7465 6d73 5465 7874 4c69 7374 203d 205b  temsTextList = [
-0000dde0: 7374 7228 7365 6c66 2e61 7574 5f6c 6974  str(self.aut_lit
-0000ddf0: 7a5f 6261 736b 6574 5f6c 6973 7457 6964  z_basket_listWid
-0000de00: 6765 742e 6974 656d 2869 292e 7465 7874  get.item(i).text
-0000de10: 2829 2920 666f 7220 6920 696e 0a20 2020  ()) for i in.   
-0000de20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000de30: 2020 2020 2020 7261 6e67 6528 7365 6c66        range(self
-0000de40: 2e61 7574 5f6c 6974 7a5f 6261 736b 6574  .aut_litz_basket
-0000de50: 5f6c 6973 7457 6964 6765 742e 636f 756e  _listWidget.coun
-0000de60: 7428 2929 5d0a 2020 2020 2020 2020 6368  t())].        ch
-0000de70: 6563 6b69 7465 6d73 203d 205b 6974 656d  eckitems = [item
-0000de80: 2e74 6578 7428 2920 666f 7220 6974 656d  .text() for item
-0000de90: 2069 6e20 7365 6c66 2e61 7574 5f6c 6974   in self.aut_lit
-0000dea0: 7a5f 6461 7461 5f6c 6973 7457 6964 6765  z_data_listWidge
-0000deb0: 742e 7365 6c65 6374 6564 4974 656d 7328  t.selectedItems(
-0000dec0: 295d 0a20 2020 2020 2020 2072 6571 6c69  )].        reqli
-0000ded0: 7374 203d 206c 6973 7428 7365 7428 6368  st = list(set(ch
-0000dee0: 6563 6b69 7465 6d73 292e 6469 6666 6572  eckitems).differ
-0000def0: 656e 6365 2869 7465 6d73 5465 7874 4c69  ence(itemsTextLi
-0000df00: 7374 2929 0a20 2020 2020 2020 2066 6f72  st)).        for
-0000df10: 2069 2069 6e20 7265 716c 6973 743a 0a20   i in reqlist:. 
-0000df20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000df30: 6175 745f 6c69 747a 5f62 6173 6b65 745f  aut_litz_basket_
-0000df40: 6c69 7374 5769 6467 6574 2e61 6464 4974  listWidget.addIt
-0000df50: 656d 2869 290a 2020 2020 2020 2020 656c  em(i).        el
-0000df60: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
-0000df70: 7061 7373 0a0a 2020 2020 6465 6620 6f6e  pass..    def on
-0000df80: 6c31 436c 6963 6b65 6428 7365 6c66 293a  l1Clicked(self):
-0000df90: 0a20 2020 2020 2020 2022 2222 4164 6420  .        """Add 
-0000dfa0: 6120 6368 6f69 6365 2062 7920 636c 6963  a choice by clic
-0000dfb0: 6b20 746f 2074 6865 2062 6173 6b65 7420  k to the basket 
-0000dfc0: 6966 2069 7420 6973 206e 6f74 2061 6c72  if it is not alr
-0000dfd0: 6561 6479 2069 6e20 7468 6520 6261 736b  eady in the bask
-0000dfe0: 6574 2e22 2222 0a20 2020 2020 2020 2069  et.""".        i
-0000dff0: 7465 6d73 5465 7874 4c69 7374 203d 205b  temsTextList = [
-0000e000: 7374 7228 7365 6c66 2e61 7574 5f6c 6974  str(self.aut_lit
-0000e010: 7a5f 6261 736b 6574 5f6c 6973 7457 6964  z_basket_listWid
-0000e020: 6765 742e 6974 656d 2869 292e 7465 7874  get.item(i).text
-0000e030: 2829 2920 666f 7220 6920 696e 0a20 2020  ()) for i in.   
-0000e040: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e050: 2020 2020 2020 7261 6e67 6528 7365 6c66        range(self
-0000e060: 2e61 7574 5f6c 6974 7a5f 6261 736b 6574  .aut_litz_basket
-0000e070: 5f6c 6973 7457 6964 6765 742e 636f 756e  _listWidget.coun
-0000e080: 7428 2929 5d0a 2020 2020 2020 2020 6368  t())].        ch
-0000e090: 6563 6b69 7465 6d20 3d20 7365 6c66 2e61  eckitem = self.a
-0000e0a0: 7574 5f6c 6974 7a5f 6461 7461 5f6c 6973  ut_litz_data_lis
-0000e0b0: 7457 6964 6765 742e 6375 7272 656e 7449  tWidget.currentI
-0000e0c0: 7465 6d28 292e 7465 7874 2829 0a20 2020  tem().text().   
-0000e0d0: 2020 2020 2069 6620 6368 6563 6b69 7465       if checkite
-0000e0e0: 6d20 6e6f 7420 696e 2069 7465 6d73 5465  m not in itemsTe
-0000e0f0: 7874 4c69 7374 3a0a 2020 2020 2020 2020  xtList:.        
-0000e100: 2020 2020 7365 6c66 2e61 7574 5f6c 6974      self.aut_lit
-0000e110: 7a5f 6261 736b 6574 5f6c 6973 7457 6964  z_basket_listWid
-0000e120: 6765 742e 6164 6449 7465 6d28 7365 6c66  get.addItem(self
-0000e130: 2e61 7574 5f6c 6974 7a5f 6461 7461 5f6c  .aut_litz_data_l
-0000e140: 6973 7457 6964 6765 742e 6375 7272 656e  istWidget.curren
-0000e150: 7449 7465 6d28 292e 7465 7874 2829 290a  tItem().text()).
-0000e160: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
-0000e170: 2020 2020 2020 2020 2020 7061 7373 0a0a            pass..
-0000e180: 2020 2020 6465 6620 6c69 747a 3173 656c      def litz1sel
-0000e190: 6563 7461 6c6c 2873 656c 6629 3a0a 2020  ectall(self):.  
-0000e1a0: 2020 2020 2020 2222 2253 656c 6563 7420        """Select 
-0000e1b0: 616c 6c20 7468 6520 6368 6f69 6365 732e  all the choices.
-0000e1c0: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-0000e1d0: 2e61 7574 5f6c 6974 7a5f 6461 7461 5f6c  .aut_litz_data_l
-0000e1e0: 6973 7457 6964 6765 742e 7365 6c65 6374  istWidget.select
-0000e1f0: 416c 6c28 290a 0a20 2020 2064 6566 206f  All()..    def o
-0000e200: 6e6c 3243 6c65 6172 616c 6c43 6c69 636b  nl2ClearallClick
-0000e210: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
-0000e220: 2020 2222 2243 6c65 6172 2061 6c6c 2065    """Clear all e
-0000e230: 6e74 7269 6573 2e22 2222 0a20 2020 2020  ntries.""".     
-0000e240: 2020 2073 656c 662e 6175 745f 6c69 747a     self.aut_litz
-0000e250: 325f 6261 736b 6574 5f6c 6973 7457 6964  2_basket_listWid
-0000e260: 6765 742e 636c 6561 7228 290a 0a20 2020  get.clear()..   
-0000e270: 2064 6566 206f 6e6c 3243 6c65 6172 436c   def onl2ClearCl
-0000e280: 6963 6b65 6428 7365 6c66 293a 0a20 2020  icked(self):.   
-0000e290: 2020 2020 2022 2222 436c 6561 7220 7468       """Clear th
-0000e2a0: 6520 7365 6c65 6374 6564 2065 6e74 7279  e selected entry
-0000e2b0: 2e22 2222 0a20 2020 2020 2020 204c 6973  .""".        Lis
-0000e2c0: 745f 6974 656d 203d 2073 656c 662e 6175  t_item = self.au
-0000e2d0: 745f 6c69 747a 325f 6261 736b 6574 5f6c  t_litz2_basket_l
-0000e2e0: 6973 7457 6964 6765 742e 7365 6c65 6374  istWidget.select
-0000e2f0: 6564 4974 656d 7328 290a 2020 2020 2020  edItems().      
-0000e300: 2020 666f 7220 6974 656d 2069 6e20 4c69    for item in Li
-0000e310: 7374 5f69 7465 6d3a 0a20 2020 2020 2020  st_item:.       
-0000e320: 2020 2020 2073 656c 662e 6175 745f 6c69       self.aut_li
-0000e330: 747a 325f 6261 736b 6574 5f6c 6973 7457  tz2_basket_listW
-0000e340: 6964 6765 742e 7461 6b65 4974 656d 2873  idget.takeItem(s
-0000e350: 656c 662e 6175 745f 6c69 747a 325f 6261  elf.aut_litz2_ba
-0000e360: 736b 6574 5f6c 6973 7457 6964 6765 742e  sket_listWidget.
-0000e370: 726f 7728 6974 656d 2929 0a0a 2020 2020  row(item))..    
-0000e380: 6465 6620 6f6e 6c32 4d75 6c74 6970 6c65  def onl2Multiple
-0000e390: 436c 6963 6b65 6428 7365 6c66 293a 0a20  Clicked(self):. 
-0000e3a0: 2020 2020 2020 2022 2222 4163 6365 7074         """Accept
-0000e3b0: 206d 756c 7469 706c 6520 6368 6f69 6365   multiple choice
-0000e3c0: 732e 2222 220a 2020 2020 2020 2020 6974  s.""".        it
-0000e3d0: 656d 7354 6578 744c 6973 7420 3d20 5b73  emsTextList = [s
-0000e3e0: 7472 2873 656c 662e 6175 745f 6c69 747a  tr(self.aut_litz
-0000e3f0: 325f 6261 736b 6574 5f6c 6973 7457 6964  2_basket_listWid
-0000e400: 6765 742e 6974 656d 2869 292e 7465 7874  get.item(i).text
-0000e410: 2829 2920 666f 7220 6920 696e 0a20 2020  ()) for i in.   
-0000e420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000e430: 2020 2020 2020 7261 6e67 6528 7365 6c66        range(self
-0000e440: 2e61 7574 5f6c 6974 7a32 5f62 6173 6b65  .aut_litz2_baske
-0000e450: 745f 6c69 7374 5769 6467 6574 2e63 6f75  t_listWidget.cou
-0000e460: 6e74 2829 295d 0a20 2020 2020 2020 2063  nt())].        c
-0000e470: 6865 636b 6974 656d 7320 3d20 5b69 7465  heckitems = [ite
-0000e480: 6d2e 7465 7874 2829 2066 6f72 2069 7465  m.text() for ite
-0000e490: 6d20 696e 2073 656c 662e 6175 745f 6c69  m in self.aut_li
-0000e4a0: 747a 325f 6461 7461 5f6c 6973 7457 6964  tz2_data_listWid
-0000e4b0: 6765 742e 7365 6c65 6374 6564 4974 656d  get.selectedItem
-0000e4c0: 7328 295d 0a20 2020 2020 2020 2072 6571  s()].        req
-0000e4d0: 6c69 7374 203d 206c 6973 7428 7365 7428  list = list(set(
-0000e4e0: 6368 6563 6b69 7465 6d73 292e 6469 6666  checkitems).diff
-0000e4f0: 6572 656e 6365 2869 7465 6d73 5465 7874  erence(itemsText
-0000e500: 4c69 7374 2929 0a20 2020 2020 2020 2066  List)).        f
-0000e510: 6f72 2069 2069 6e20 7265 716c 6973 743a  or i in reqlist:
-0000e520: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000e530: 662e 6175 745f 6c69 747a 325f 6261 736b  f.aut_litz2_bask
-0000e540: 6574 5f6c 6973 7457 6964 6765 742e 6164  et_listWidget.ad
-0000e550: 6449 7465 6d28 6929 0a20 2020 2020 2020  dItem(i).       
-0000e560: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0000e570: 2020 2070 6173 730a 0a20 2020 2064 6566     pass..    def
-0000e580: 206f 6e6c 3243 6c69 636b 6564 2873 656c   onl2Clicked(sel
-0000e590: 6629 3a0a 2020 2020 2020 2020 2222 2241  f):.        """A
-0000e5a0: 6464 2061 2063 686f 6963 6520 6279 2063  dd a choice by c
-0000e5b0: 6c69 636b 2074 6f20 7468 6520 6261 736b  lick to the bask
-0000e5c0: 6574 2069 6620 6974 2069 7320 6e6f 7420  et if it is not 
-0000e5d0: 616c 7265 6164 7920 696e 2074 6865 2062  already in the b
-0000e5e0: 6173 6b65 742e 2222 220a 2020 2020 2020  asket.""".      
-0000e5f0: 2020 6974 656d 7354 6578 744c 6973 7420    itemsTextList 
-0000e600: 3d20 5b73 7472 2873 656c 662e 6175 745f  = [str(self.aut_
-0000e610: 6c69 747a 325f 6261 736b 6574 5f6c 6973  litz2_basket_lis
-0000e620: 7457 6964 6765 742e 6974 656d 2869 292e  tWidget.item(i).
-0000e630: 7465 7874 2829 2920 666f 7220 6920 696e  text()) for i in
-0000e640: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0000e650: 2020 2020 2020 2020 2020 7261 6e67 6528            range(
-0000e660: 7365 6c66 2e61 7574 5f6c 6974 7a32 5f62  self.aut_litz2_b
-0000e670: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
-0000e680: 2e63 6f75 6e74 2829 295d 0a20 2020 2020  .count())].     
-0000e690: 2020 2063 6865 636b 6974 656d 203d 2073     checkitem = s
-0000e6a0: 656c 662e 6175 745f 6c69 747a 325f 6461  elf.aut_litz2_da
-0000e6b0: 7461 5f6c 6973 7457 6964 6765 742e 6375  ta_listWidget.cu
-0000e6c0: 7272 656e 7449 7465 6d28 292e 7465 7874  rrentItem().text
-0000e6d0: 2829 0a20 2020 2020 2020 2069 6620 6368  ().        if ch
-0000e6e0: 6563 6b69 7465 6d20 6e6f 7420 696e 2069  eckitem not in i
-0000e6f0: 7465 6d73 5465 7874 4c69 7374 3a0a 2020  temsTextList:.  
-0000e700: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-0000e710: 7574 5f6c 6974 7a32 5f62 6173 6b65 745f  ut_litz2_basket_
-0000e720: 6c69 7374 5769 6467 6574 2e61 6464 4974  listWidget.addIt
-0000e730: 656d 2873 656c 662e 6175 745f 6c69 747a  em(self.aut_litz
-0000e740: 325f 6461 7461 5f6c 6973 7457 6964 6765  2_data_listWidge
-0000e750: 742e 6375 7272 656e 7449 7465 6d28 292e  t.currentItem().
-0000e760: 7465 7874 2829 290a 2020 2020 2020 2020  text()).        
-0000e770: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
-0000e780: 2020 7061 7373 0a0a 2020 2020 6465 6620    pass..    def 
-0000e790: 6c69 747a 3273 656c 6563 7461 6c6c 2873  litz2selectall(s
-0000e7a0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
-0000e7b0: 2253 656c 6563 7420 616c 6c20 7468 6520  "Select all the 
-0000e7c0: 6368 6f69 6365 732e 2222 220a 2020 2020  choices.""".    
-0000e7d0: 2020 2020 7365 6c66 2e61 7574 5f6c 6974      self.aut_lit
-0000e7e0: 7a32 5f64 6174 615f 6c69 7374 5769 6467  z2_data_listWidg
-0000e7f0: 6574 2e73 656c 6563 7441 6c6c 2829 0a0a  et.selectAll()..
-0000e800: 2020 2020 6465 6620 6175 745f 696e 6974      def aut_init
-0000e810: 6961 6c69 7a65 5f63 6f6e 7472 6f6c 7328  ialize_controls(
-0000e820: 7365 6c66 2920 2d3e 204e 6f6e 653a 0a20  self) -> None:. 
-0000e830: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0000e840: 2020 2049 6e69 7469 616c 697a 6520 7468     Initialize th
-0000e850: 6520 636f 6d62 6f62 6f78 6573 2077 6974  e comboboxes wit
-0000e860: 6820 7072 652d 6465 6669 6e65 6420 7661  h pre-defined va
-0000e870: 6c75 6573 2e0a 0a20 2020 2020 2020 203a  lues...        :
-0000e880: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
-0000e890: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
-0000e8a0: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-0000e8b0: 2020 2020 2020 6175 745f 7369 6d75 6c61        aut_simula
-0000e8c0: 7469 6f6e 5f74 7970 655f 6f70 7469 6f6e  tion_type_option
-0000e8d0: 7320 3d20 5b73 656c 662e 7472 616e 736c  s = [self.transl
-0000e8e0: 6174 696f 6e5f 6469 6374 5b27 696e 6475  ation_dict['indu
-0000e8f0: 6374 6f72 275d 2c20 7365 6c66 2e74 7261  ctor'], self.tra
-0000e900: 6e73 6c61 7469 6f6e 5f64 6963 745b 2774  nslation_dict['t
-0000e910: 7261 6e73 666f 726d 6572 275d 5d0a 2020  ransformer']].  
-0000e920: 2020 2020 2020 6175 745f 7769 6e64 696e        aut_windin
-0000e930: 675f 6d61 7465 7269 616c 5f6f 7074 696f  g_material_optio
-0000e940: 6e73 203d 205b 6b65 7920 666f 7220 6b65  ns = [key for ke
-0000e950: 7920 696e 2066 6d74 2e77 6972 655f 6d61  y in fmt.wire_ma
-0000e960: 7465 7269 616c 5f64 6174 6162 6173 6528  terial_database(
-0000e970: 295d 0a20 2020 2020 2020 2061 7574 5f77  )].        aut_w
-0000e980: 696e 6469 6e67 5f74 7970 655f 6f70 7469  inding_type_opti
-0000e990: 6f6e 7320 3d20 5b73 656c 662e 7472 616e  ons = [self.tran
-0000e9a0: 736c 6174 696f 6e5f 6469 6374 5b27 6c69  slation_dict['li
-0000e9b0: 747a 275d 2c20 7365 6c66 2e74 7261 6e73  tz'], self.trans
-0000e9c0: 6c61 7469 6f6e 5f64 6963 745b 2773 6f6c  lation_dict['sol
-0000e9d0: 6964 275d 5d0a 2020 2020 2020 2020 6175  id']].        au
-0000e9e0: 745f 696d 706c 6963 6974 5f6c 6974 7a5f  t_implicit_litz_
-0000e9f0: 6f70 7469 6f6e 7320 3d20 5b73 656c 662e  options = [self.
-0000ea00: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
-0000ea10: 5b22 696d 706c 6963 6974 5f6c 6974 7a5f  ["implicit_litz_
-0000ea20: 7261 6469 7573 225d 2c0a 2020 2020 2020  radius"],.      
-0000ea30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ea40: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-0000ea50: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-0000ea60: 6469 6374 5b22 696d 706c 6963 6974 5f66  dict["implicit_f
-0000ea70: 6622 5d2c 0a20 2020 2020 2020 2020 2020  f"],.           
-0000ea80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0000ea90: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-0000eaa0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-0000eab0: 2769 6d70 6c69 6369 745f 7374 7261 6e64  'implicit_strand
-0000eac0: 735f 6e75 6d62 6572 275d 5d0a 2020 2020  s_number']].    
-0000ead0: 2020 2020 6175 745f 7769 6e64 696e 675f      aut_winding_
-0000eae0: 7363 6865 6d65 5f6f 7074 696f 6e73 203d  scheme_options =
-0000eaf0: 205b 7365 6c66 2e74 7261 6e73 6c61 7469   [self.translati
-0000eb00: 6f6e 5f64 6963 745b 2273 7175 6172 6522  on_dict["square"
-0000eb10: 5d2c 2073 656c 662e 7472 616e 736c 6174  ], self.translat
-0000eb20: 696f 6e5f 6469 6374 5b22 6865 7861 225d  ion_dict["hexa"]
-0000eb30: 5d0a 2020 2020 2020 2020 6175 745f 746f  ].        aut_to
-0000eb40: 6c65 7261 6e63 655f 7661 6c5f 6f70 7469  lerance_val_opti
-0000eb50: 6f6e 7320 3d20 5b73 656c 662e 7472 616e  ons = [self.tran
-0000eb60: 736c 6174 696f 6e5f 6469 6374 5b27 2b2d  slation_dict['+-
-0000eb70: 3130 275d 2c20 7365 6c66 2e74 7261 6e73  10'], self.trans
-0000eb80: 6c61 7469 6f6e 5f64 6963 745b 272b 2d32  lation_dict['+-2
-0000eb90: 3027 5d5d 0a20 2020 2020 2020 2061 7574  0']].        aut
-0000eba0: 5f63 6f72 655f 6765 6f6d 6574 7279 5f6f  _core_geometry_o
-0000ebb0: 7074 696f 6e73 203d 205b 636f 7265 5f67  ptions = [core_g
-0000ebc0: 656f 6d65 7472 7920 666f 7220 636f 7265  eometry for core
-0000ebd0: 5f67 656f 6d65 7472 7920 696e 2066 6d74  _geometry in fmt
-0000ebe0: 2e63 6f72 655f 6461 7461 6261 7365 2829  .core_database()
-0000ebf0: 5d0a 0a20 2020 2020 2020 2067 6574 5f6d  ]..        get_m
-0000ec00: 6174 6572 6961 6c5f 6c69 7374 203d 2064  aterial_list = d
-0000ec10: 6174 6162 6173 652e 6d61 7465 7269 616c  atabase.material
-0000ec20: 5f6c 6973 745f 696e 5f64 6174 6162 6173  _list_in_databas
-0000ec30: 6528 290a 2020 2020 2020 2020 6765 745f  e().        get_
-0000ec40: 6d61 7465 7269 616c 5f6c 6973 742e 696e  material_list.in
-0000ec50: 7365 7274 2830 2c20 4e6f 6e65 290a 2020  sert(0, None).  
-0000ec60: 2020 2020 2020 6461 745f 636f 7265 5f6d        dat_core_m
-0000ec70: 6174 6572 6961 6c5f 6f70 7469 6f6e 7320  aterial_options 
-0000ec80: 3d20 6765 745f 6d61 7465 7269 616c 5f6c  = get_material_l
-0000ec90: 6973 740a 0a20 2020 2020 2020 2066 6f72  ist..        for
-0000eca0: 206f 7074 696f 6e20 696e 2064 6174 5f63   option in dat_c
-0000ecb0: 6f72 655f 6d61 7465 7269 616c 5f6f 7074  ore_material_opt
-0000ecc0: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
-0000ecd0: 2020 7365 6c66 2e64 6174 5f63 6f72 655f    self.dat_core_
-0000ece0: 6d61 7465 7269 616c 315f 636f 6d62 6f42  material1_comboB
-0000ecf0: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
-0000ed00: 6e29 0a20 2020 2020 2020 2066 6f72 206f  n).        for o
-0000ed10: 7074 696f 6e20 696e 2064 6174 5f63 6f72  ption in dat_cor
-0000ed20: 655f 6d61 7465 7269 616c 5f6f 7074 696f  e_material_optio
-0000ed30: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000ed40: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
-0000ed50: 7465 7269 616c 325f 636f 6d62 6f42 6f78  terial2_comboBox
-0000ed60: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
-0000ed70: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
-0000ed80: 696f 6e20 696e 2064 6174 5f63 6f72 655f  ion in dat_core_
-0000ed90: 6d61 7465 7269 616c 5f6f 7074 696f 6e73  material_options
-0000eda0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000edb0: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
-0000edc0: 7269 616c 335f 636f 6d62 6f42 6f78 2e61  rial3_comboBox.a
-0000edd0: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
-0000ede0: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
-0000edf0: 6e20 696e 2064 6174 5f63 6f72 655f 6d61  n in dat_core_ma
-0000ee00: 7465 7269 616c 5f6f 7074 696f 6e73 3a0a  terial_options:.
-0000ee10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0000ee20: 2e64 6174 5f63 6f72 655f 6d61 7465 7269  .dat_core_materi
-0000ee30: 616c 345f 636f 6d62 6f42 6f78 2e61 6464  al4_comboBox.add
-0000ee40: 4974 656d 286f 7074 696f 6e29 0a20 2020  Item(option).   
-0000ee50: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
-0000ee60: 696e 2064 6174 5f63 6f72 655f 6d61 7465  in dat_core_mate
-0000ee70: 7269 616c 5f6f 7074 696f 6e73 3a0a 2020  rial_options:.  
-0000ee80: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
-0000ee90: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
-0000eea0: 355f 636f 6d62 6f42 6f78 2e61 6464 4974  5_comboBox.addIt
-0000eeb0: 656d 286f 7074 696f 6e29 0a0a 2020 2020  em(option)..    
-0000eec0: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-0000eed0: 6e20 6461 745f 636f 7265 5f6d 6174 6572  n dat_core_mater
-0000eee0: 6961 6c5f 6f70 7469 6f6e 733a 0a20 2020  ial_options:.   
-0000eef0: 2020 2020 2020 2020 2073 656c 662e 6461           self.da
-0000ef00: 745f 636f 7265 5f6d 6174 6572 6961 6c31  t_core_material1
-0000ef10: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
-0000ef20: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
-0000ef30: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-0000ef40: 6e20 6461 745f 636f 7265 5f6d 6174 6572  n dat_core_mater
-0000ef50: 6961 6c5f 6f70 7469 6f6e 733a 0a20 2020  ial_options:.   
-0000ef60: 2020 2020 2020 2020 2073 656c 662e 6461           self.da
-0000ef70: 745f 636f 7265 5f6d 6174 6572 6961 6c32  t_core_material2
-0000ef80: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
-0000ef90: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
-0000efa0: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-0000efb0: 6e20 6461 745f 636f 7265 5f6d 6174 6572  n dat_core_mater
-0000efc0: 6961 6c5f 6f70 7469 6f6e 733a 0a20 2020  ial_options:.   
-0000efd0: 2020 2020 2020 2020 2073 656c 662e 6461           self.da
-0000efe0: 745f 636f 7265 5f6d 6174 6572 6961 6c33  t_core_material3
-0000eff0: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
-0000f000: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
-0000f010: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-0000f020: 6e20 6461 745f 636f 7265 5f6d 6174 6572  n dat_core_mater
-0000f030: 6961 6c5f 6f70 7469 6f6e 733a 0a20 2020  ial_options:.   
-0000f040: 2020 2020 2020 2020 2073 656c 662e 6461           self.da
-0000f050: 745f 636f 7265 5f6d 6174 6572 6961 6c34  t_core_material4
-0000f060: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
-0000f070: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
-0000f080: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-0000f090: 6e20 6461 745f 636f 7265 5f6d 6174 6572  n dat_core_mater
-0000f0a0: 6961 6c5f 6f70 7469 6f6e 733a 0a20 2020  ial_options:.   
-0000f0b0: 2020 2020 2020 2020 2073 656c 662e 6461           self.da
-0000f0c0: 745f 636f 7265 5f6d 6174 6572 6961 6c35  t_core_material5
-0000f0d0: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
-0000f0e0: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
-0000f0f0: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
-0000f100: 696e 2064 6174 5f63 6f72 655f 6d61 7465  in dat_core_mate
-0000f110: 7269 616c 5f6f 7074 696f 6e73 3a0a 2020  rial_options:.  
-0000f120: 2020 2020 2020 2020 2020 7365 6c66 2e64            self.d
-0000f130: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
-0000f140: 5f63 6f6d 626f 426f 782e 6164 6449 7465  _comboBox.addIte
-0000f150: 6d28 6f70 7469 6f6e 290a 0a20 2020 2020  m(option)..     
-0000f160: 2020 2066 6f72 206f 7074 696f 6e20 696e     for option in
-0000f170: 2061 7574 5f63 6f72 655f 6765 6f6d 6574   aut_core_geomet
-0000f180: 7279 5f6f 7074 696f 6e73 3a0a 2020 2020  ry_options:.    
-0000f190: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-0000f1a0: 5f63 6f72 655f 6765 6f6d 6574 7279 5f6c  _core_geometry_l
-0000f1b0: 6973 7457 6964 6765 742e 6164 6449 7465  istWidget.addIte
-0000f1c0: 6d28 6f70 7469 6f6e 290a 2020 2020 2020  m(option).      
-0000f1d0: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
-0000f1e0: 6175 745f 7369 6d75 6c61 7469 6f6e 5f74  aut_simulation_t
-0000f1f0: 7970 655f 6f70 7469 6f6e 733a 0a20 2020  ype_options:.   
-0000f200: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-0000f210: 745f 7369 6d75 6c61 7469 6f6e 5f74 7970  t_simulation_typ
-0000f220: 655f 636f 6d62 6f42 6f78 2e61 6464 4974  e_comboBox.addIt
-0000f230: 656d 286f 7074 696f 6e29 0a20 2020 2020  em(option).     
-0000f240: 2020 2066 6f72 206f 7074 696f 6e20 696e     for option in
-0000f250: 2061 7574 5f77 696e 6469 6e67 5f6d 6174   aut_winding_mat
-0000f260: 6572 6961 6c5f 6f70 7469 6f6e 733a 0a20  erial_options:. 
-0000f270: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000f280: 6175 745f 7769 6e64 696e 6731 5f6d 6174  aut_winding1_mat
-0000f290: 6572 6961 6c5f 636f 6d62 6f42 6f78 2e61  erial_comboBox.a
-0000f2a0: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
-0000f2b0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000f2c0: 6175 745f 7769 6e64 696e 6732 5f6d 6174  aut_winding2_mat
-0000f2d0: 6572 6961 6c5f 636f 6d62 6f42 6f78 2e61  erial_comboBox.a
-0000f2e0: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
-0000f2f0: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
-0000f300: 6e20 696e 2061 7574 5f77 696e 6469 6e67  n in aut_winding
-0000f310: 5f74 7970 655f 6f70 7469 6f6e 733a 0a20  _type_options:. 
-0000f320: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0000f330: 6175 745f 7769 6e64 696e 6731 5f74 7970  aut_winding1_typ
-0000f340: 655f 636f 6d62 6f42 6f78 2e61 6464 4974  e_comboBox.addIt
-0000f350: 656d 286f 7074 696f 6e29 0a20 2020 2020  em(option).     
-0000f360: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-0000f370: 7769 6e64 696e 6732 5f74 7970 655f 636f  winding2_type_co
-0000f380: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
-0000f390: 7074 696f 6e29 0a20 2020 2020 2020 2066  ption).        f
-0000f3a0: 6f72 206f 7074 696f 6e20 696e 2061 7574  or option in aut
-0000f3b0: 5f69 6d70 6c69 6369 745f 6c69 747a 5f6f  _implicit_litz_o
-0000f3c0: 7074 696f 6e73 3a0a 2020 2020 2020 2020  ptions:.        
-0000f3d0: 2020 2020 7365 6c66 2e61 7574 5f77 696e      self.aut_win
-0000f3e0: 6469 6e67 315f 696d 706c 6963 6974 5f6c  ding1_implicit_l
-0000f3f0: 6974 7a5f 636f 6d62 6f42 6f78 2e61 6464  itz_comboBox.add
-0000f400: 4974 656d 286f 7074 696f 6e29 0a20 2020  Item(option).   
-0000f410: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-0000f420: 745f 7769 6e64 696e 6732 5f69 6d70 6c69  t_winding2_impli
-0000f430: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
-0000f440: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
-0000f450: 290a 2020 2020 2020 2020 666f 7220 6f70  ).        for op
-0000f460: 7469 6f6e 2069 6e20 6175 745f 7769 6e64  tion in aut_wind
-0000f470: 696e 675f 7363 6865 6d65 5f6f 7074 696f  ing_scheme_optio
-0000f480: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
-0000f490: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
-0000f4a0: 315f 7363 6865 6d65 5f63 6f6d 626f 426f  1_scheme_comboBo
-0000f4b0: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
-0000f4c0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0000f4d0: 6c66 2e61 7574 5f77 696e 6469 6e67 325f  lf.aut_winding2_
-0000f4e0: 7363 6865 6d65 5f63 6f6d 626f 426f 782e  scheme_comboBox.
-0000f4f0: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
-0000f500: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
-0000f510: 6f6e 2069 6e20 6175 745f 746f 6c65 7261  on in aut_tolera
-0000f520: 6e63 655f 7661 6c5f 6f70 7469 6f6e 733a  nce_val_options:
-0000f530: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0000f540: 662e 6175 745f 7265 6c5f 746f 6c65 7261  f.aut_rel_tolera
-0000f550: 6e63 655f 7661 6c5f 636f 6d62 6f42 6f78  nce_val_comboBox
-0000f560: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
-0000f570: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
-0000f580: 696f 6e20 696e 2061 7574 5f74 6f6c 6572  ion in aut_toler
-0000f590: 616e 6365 5f76 616c 5f6f 7074 696f 6e73  ance_val_options
-0000f5a0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0000f5b0: 6c66 2e61 7574 5f6c 6f61 645f 746f 6c65  lf.aut_load_tole
-0000f5c0: 7261 6e63 655f 7661 6c5f 636f 6d62 6f42  rance_val_comboB
-0000f5d0: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
-0000f5e0: 6e29 0a0a 2020 2020 2020 2020 7365 6c66  n)..        self
-0000f5f0: 2e61 7574 5f6d 696e 5f63 6f72 655f 7769  .aut_min_core_wi
-0000f600: 6474 685f 6c69 6e65 4564 6974 2e73 6574  dth_lineEdit.set
-0000f610: 506c 6163 6568 6f6c 6465 7254 6578 7428  PlaceholderText(
-0000f620: 224d 696e 696d 756d 2076 616c 7565 2229  "Minimum value")
-0000f630: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-0000f640: 745f 6d61 785f 636f 7265 5f77 6964 7468  t_max_core_width
-0000f650: 5f6c 696e 6545 6469 742e 7365 7450 6c61  _lineEdit.setPla
-0000f660: 6365 686f 6c64 6572 5465 7874 2822 4d61  ceholderText("Ma
-0000f670: 7869 6d75 6d20 7661 6c75 6522 290a 2020  ximum value").  
-0000f680: 2020 2020 2020 7365 6c66 2e61 7574 5f73        self.aut_s
-0000f690: 7465 705f 636f 7265 5f77 6964 7468 5f6c  tep_core_width_l
-0000f6a0: 696e 6545 6469 742e 7365 7450 6c61 6365  ineEdit.setPlace
-0000f6b0: 686f 6c64 6572 5465 7874 2822 5374 6570  holderText("Step
-0000f6c0: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
-0000f6d0: 2073 656c 662e 6175 745f 6d69 6e5f 7769   self.aut_min_wi
-0000f6e0: 6e64 6f77 5f68 6569 6768 745f 6c69 6e65  ndow_height_line
-0000f6f0: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
-0000f700: 6465 7254 6578 7428 224d 696e 696d 756d  derText("Minimum
-0000f710: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
-0000f720: 2073 656c 662e 6175 745f 6d61 785f 7769   self.aut_max_wi
-0000f730: 6e64 6f77 5f68 6569 6768 745f 6c69 6e65  ndow_height_line
-0000f740: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
-0000f750: 6465 7254 6578 7428 224d 6178 696d 756d  derText("Maximum
-0000f760: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
-0000f770: 2073 656c 662e 6175 745f 7374 6570 5f77   self.aut_step_w
-0000f780: 696e 646f 775f 6865 6967 6874 5f6c 696e  indow_height_lin
-0000f790: 6545 6469 742e 7365 7450 6c61 6365 686f  eEdit.setPlaceho
-0000f7a0: 6c64 6572 5465 7874 2822 5374 6570 2076  lderText("Step v
-0000f7b0: 616c 7565 2229 0a20 2020 2020 2020 2073  alue").        s
-0000f7c0: 656c 662e 6175 745f 6d69 6e5f 7769 6e64  elf.aut_min_wind
-0000f7d0: 6f77 5f77 6964 7468 5f6c 696e 6545 6469  ow_width_lineEdi
-0000f7e0: 742e 7365 7450 6c61 6365 686f 6c64 6572  t.setPlaceholder
-0000f7f0: 5465 7874 2822 4d69 6e69 6d75 6d20 7661  Text("Minimum va
-0000f800: 6c75 6522 290a 2020 2020 2020 2020 7365  lue").        se
-0000f810: 6c66 2e61 7574 5f6d 6178 5f77 696e 646f  lf.aut_max_windo
-0000f820: 775f 7769 6474 685f 6c69 6e65 4564 6974  w_width_lineEdit
-0000f830: 2e73 6574 506c 6163 6568 6f6c 6465 7254  .setPlaceholderT
-0000f840: 6578 7428 224d 6178 696d 756d 2076 616c  ext("Maximum val
-0000f850: 7565 2229 0a20 2020 2020 2020 2073 656c  ue").        sel
-0000f860: 662e 6175 745f 7374 6570 5f77 696e 646f  f.aut_step_windo
-0000f870: 775f 7769 6474 685f 6c69 6e65 4564 6974  w_width_lineEdit
-0000f880: 2e73 6574 506c 6163 6568 6f6c 6465 7254  .setPlaceholderT
-0000f890: 6578 7428 2253 7465 7020 7661 6c75 6522  ext("Step value"
-0000f8a0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-0000f8b0: 7574 5f6d 696e 5f77 696e 6469 6e67 315f  ut_min_winding1_
-0000f8c0: 7475 726e 735f 6c69 6e65 4564 6974 2e73  turns_lineEdit.s
-0000f8d0: 6574 506c 6163 6568 6f6c 6465 7254 6578  etPlaceholderTex
-0000f8e0: 7428 224d 696e 696d 756d 2076 616c 7565  t("Minimum value
-0000f8f0: 2229 0a20 2020 2020 2020 2073 656c 662e  ").        self.
-0000f900: 6175 745f 6d61 785f 7769 6e64 696e 6731  aut_max_winding1
-0000f910: 5f74 7572 6e73 5f6c 696e 6545 6469 742e  _turns_lineEdit.
-0000f920: 7365 7450 6c61 6365 686f 6c64 6572 5465  setPlaceholderTe
-0000f930: 7874 2822 4d61 7869 6d75 6d20 7661 6c75  xt("Maximum valu
-0000f940: 6522 290a 2020 2020 2020 2020 7365 6c66  e").        self
-0000f950: 2e61 7574 5f6d 696e 5f77 696e 6469 6e67  .aut_min_winding
-0000f960: 325f 7475 726e 735f 6c69 6e65 4564 6974  2_turns_lineEdit
-0000f970: 2e73 6574 506c 6163 6568 6f6c 6465 7254  .setPlaceholderT
-0000f980: 6578 7428 224d 696e 696d 756d 2076 616c  ext("Minimum val
-0000f990: 7565 2229 0a20 2020 2020 2020 2073 656c  ue").        sel
-0000f9a0: 662e 6175 745f 6d61 785f 7769 6e64 696e  f.aut_max_windin
-0000f9b0: 6732 5f74 7572 6e73 5f6c 696e 6545 6469  g2_turns_lineEdi
-0000f9c0: 742e 7365 7450 6c61 6365 686f 6c64 6572  t.setPlaceholder
-0000f9d0: 5465 7874 2822 4d61 7869 6d75 6d20 7661  Text("Maximum va
-0000f9e0: 6c75 6522 290a 2020 2020 2020 2020 7365  lue").        se
-0000f9f0: 6c66 2e61 7574 5f73 7465 705f 7769 6e64  lf.aut_step_wind
-0000fa00: 696e 6732 5f74 7572 6e73 5f6c 696e 6545  ing2_turns_lineE
-0000fa10: 6469 742e 7365 7450 6c61 6365 686f 6c64  dit.setPlacehold
-0000fa20: 6572 5465 7874 2822 5374 6570 2076 616c  erText("Step val
-0000fa30: 7565 2229 0a20 2020 2020 2020 2073 656c  ue").        sel
-0000fa40: 662e 6175 745f 6d69 6e5f 6169 725f 6761  f.aut_min_air_ga
-0000fa50: 705f 636f 756e 745f 6c69 6e65 4564 6974  p_count_lineEdit
-0000fa60: 2e73 6574 506c 6163 6568 6f6c 6465 7254  .setPlaceholderT
-0000fa70: 6578 7428 224d 696e 696d 756d 2076 616c  ext("Minimum val
-0000fa80: 7565 2229 0a20 2020 2020 2020 2073 656c  ue").        sel
-0000fa90: 662e 6175 745f 6d61 785f 6169 725f 6761  f.aut_max_air_ga
-0000faa0: 705f 636f 756e 745f 6c69 6e65 4564 6974  p_count_lineEdit
-0000fab0: 2e73 6574 506c 6163 6568 6f6c 6465 7254  .setPlaceholderT
-0000fac0: 6578 7428 224d 6178 696d 756d 2076 616c  ext("Maximum val
-0000fad0: 7565 2229 0a20 2020 2020 2020 2073 656c  ue").        sel
-0000fae0: 662e 6175 745f 676f 616c 5f69 6e64 7563  f.aut_goal_induc
-0000faf0: 7461 6e63 655f 7661 6c5f 6c69 6e65 4564  tance_val_lineEd
-0000fb00: 6974 2e73 6574 506c 6163 6568 6f6c 6465  it.setPlaceholde
-0000fb10: 7254 6578 7428 2220 5661 6c75 6520 696e  rText(" Value in
-0000fb20: 2048 656e 7279 2229 0a20 2020 2020 2020   Henry").       
-0000fb30: 2073 656c 662e 6175 745f 6169 725f 6761   self.aut_air_ga
-0000fb40: 705f 6c65 6e67 7468 5f6d 696e 5f6c 696e  p_length_min_lin
-0000fb50: 6545 6469 742e 7365 7450 6c61 6365 686f  eEdit.setPlaceho
-0000fb60: 6c64 6572 5465 7874 2822 4d69 6e69 6d75  lderText("Minimu
-0000fb70: 6d20 7661 6c75 6522 290a 2020 2020 2020  m value").      
-0000fb80: 2020 7365 6c66 2e61 7574 5f61 6972 5f67    self.aut_air_g
-0000fb90: 6170 5f6c 656e 6774 685f 6d61 785f 6c69  ap_length_max_li
-0000fba0: 6e65 4564 6974 2e73 6574 506c 6163 6568  neEdit.setPlaceh
-0000fbb0: 6f6c 6465 7254 6578 7428 224d 6178 696d  olderText("Maxim
-0000fbc0: 756d 2076 616c 7565 2229 0a20 2020 2020  um value").     
-0000fbd0: 2020 2073 656c 662e 6175 745f 6169 725f     self.aut_air_
-0000fbe0: 6761 705f 6c65 6e67 7468 5f73 7465 705f  gap_length_step_
-0000fbf0: 6c69 6e65 4564 6974 2e73 6574 506c 6163  lineEdit.setPlac
-0000fc00: 6568 6f6c 6465 7254 6578 7428 2253 7465  eholderText("Ste
-0000fc10: 7020 7661 6c75 6522 290a 2020 2020 2020  p value").      
-0000fc20: 2020 7365 6c66 2e61 7574 5f61 6972 5f67    self.aut_air_g
-0000fc30: 6170 5f70 6f73 6974 696f 6e5f 6d69 6e5f  ap_position_min_
-0000fc40: 6c69 6e65 4564 6974 2e73 6574 506c 6163  lineEdit.setPlac
-0000fc50: 6568 6f6c 6465 7254 6578 7428 224d 696e  eholderText("Min
-0000fc60: 696d 756d 2076 616c 7565 2229 0a20 2020  imum value").   
-0000fc70: 2020 2020 2073 656c 662e 6175 745f 6169       self.aut_ai
-0000fc80: 725f 6761 705f 706f 7369 7469 6f6e 5f6d  r_gap_position_m
-0000fc90: 6178 5f6c 696e 6545 6469 742e 7365 7450  ax_lineEdit.setP
-0000fca0: 6c61 6365 686f 6c64 6572 5465 7874 2822  laceholderText("
-0000fcb0: 4d61 7869 6d75 6d20 7661 6c75 6522 290a  Maximum value").
-0000fcc0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-0000fcd0: 5f61 6972 5f67 6170 5f70 6f73 6974 696f  _air_gap_positio
-0000fce0: 6e5f 7374 6570 5f6c 696e 6545 6469 742e  n_step_lineEdit.
-0000fcf0: 7365 7450 6c61 6365 686f 6c64 6572 5465  setPlaceholderTe
-0000fd00: 7874 2822 5374 6570 2076 616c 7565 2229  xt("Step value")
-0000fd10: 0a0a 2020 2020 6465 6620 6175 745f 7769  ..    def aut_wi
-0000fd20: 6e64 696e 6731 5f63 6861 6e67 655f 6c69  nding1_change_li
-0000fd30: 747a 5f69 6d70 6c69 6369 7428 7365 6c66  tz_implicit(self
-0000fd40: 2c20 696d 706c 6963 6974 5f74 7970 655f  , implicit_type_
-0000fd50: 6672 6f6d 5f63 6f6d 626f 5f62 6f78 3a20  from_combo_box: 
-0000fd60: 7374 7229 202d 3e20 4e6f 6e65 3a0a 2020  str) -> None:.  
-0000fd70: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0000fd80: 2020 456e 6162 6c65 202f 2044 6973 6162    Enable / Disab
-0000fd90: 6c65 2069 6e70 7574 2070 6172 616d 6574  le input paramet
-0000fda0: 6572 2066 6965 6c64 7320 666f 7220 6469  er fields for di
-0000fdb0: 6666 6572 656e 7420 2269 6d70 6c69 6369  fferent "implici
-0000fdc0: 7420 7879 7a22 2074 7970 6573 2069 6e20  t xyz" types in 
-0000fdd0: 6361 7365 206f 6620 6c69 747a 2077 6972  case of litz wir
-0000fde0: 652e 0a0a 2020 2020 2020 2020 3a70 6172  e...        :par
-0000fdf0: 616d 2069 6d70 6c69 6369 745f 7479 7065  am implicit_type
-0000fe00: 5f66 726f 6d5f 636f 6d62 6f5f 626f 783a  _from_combo_box:
-0000fe10: 2069 6e70 7574 2074 7970 6520 746f 2069   input type to i
-0000fe20: 6d70 6c69 6369 740a 2020 2020 2020 2020  mplicit.        
-0000fe30: 3a74 7970 6520 696d 706c 6963 6974 5f74  :type implicit_t
-0000fe40: 7970 655f 6672 6f6d 5f63 6f6d 626f 5f62  ype_from_combo_b
-0000fe50: 6f78 3a20 7374 720a 2020 2020 2020 2020  ox: str.        
-0000fe60: 3a72 6574 7572 6e3a 204e 6f6e 650a 2020  :return: None.  
-0000fe70: 2020 2020 2020 3a72 7479 7065 3a20 4e6f        :rtype: No
-0000fe80: 6e65 0a20 2020 2020 2020 2022 2222 0a20  ne.        """. 
-0000fe90: 2020 2020 2020 2069 6620 696d 706c 6963         if implic
-0000fea0: 6974 5f74 7970 655f 6672 6f6d 5f63 6f6d  it_type_from_com
-0000feb0: 626f 5f62 6f78 203d 3d20 7365 6c66 2e74  bo_box == self.t
-0000fec0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-0000fed0: 2769 6d70 6c69 6369 745f 6c69 747a 5f72  'implicit_litz_r
-0000fee0: 6164 6975 7327 5d3a 0a20 2020 2020 2020  adius']:.       
-0000fef0: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-0000ff00: 6e64 696e 6731 5f73 7472 616e 6473 5f6c  nding1_strands_l
-0000ff10: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
-0000ff20: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
-0000ff30: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-0000ff40: 6e64 696e 6731 5f66 696c 6c5f 6661 6374  nding1_fill_fact
-0000ff50: 6f72 5f6c 696e 6545 6469 742e 7365 7445  or_lineEdit.setE
-0000ff60: 6e61 626c 6564 2854 7275 6529 0a20 2020  nabled(True).   
-0000ff70: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-0000ff80: 745f 7769 6e64 696e 6731 5f73 7472 616e  t_winding1_stran
-0000ff90: 645f 7261 6469 7573 5f6c 696e 6545 6469  d_radius_lineEdi
-0000ffa0: 742e 7365 7445 6e61 626c 6564 2854 7275  t.setEnabled(Tru
-0000ffb0: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0000ffc0: 656c 662e 6175 745f 7769 6e64 696e 6731  elf.aut_winding1
-0000ffd0: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
-0000ffe0: 2e73 6574 456e 6162 6c65 6428 4661 6c73  .setEnabled(Fals
-0000fff0: 6529 0a20 2020 2020 2020 2069 6620 696d  e).        if im
-00010000: 706c 6963 6974 5f74 7970 655f 6672 6f6d  plicit_type_from
-00010010: 5f63 6f6d 626f 5f62 6f78 203d 3d20 7365  _combo_box == se
-00010020: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
-00010030: 6963 745b 2769 6d70 6c69 6369 745f 7374  ict['implicit_st
-00010040: 7261 6e64 735f 6e75 6d62 6572 275d 3a0a  rands_number']:.
-00010050: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010060: 2e61 7574 5f77 696e 6469 6e67 315f 7374  .aut_winding1_st
-00010070: 7261 6e64 735f 6c69 6e65 4564 6974 2e73  rands_lineEdit.s
-00010080: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-00010090: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-000100a0: 662e 6175 745f 7769 6e64 696e 6731 5f66  f.aut_winding1_f
-000100b0: 696c 6c5f 6661 6374 6f72 5f6c 696e 6545  ill_factor_lineE
-000100c0: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
-000100d0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-000100e0: 2073 656c 662e 6175 745f 7769 6e64 696e   self.aut_windin
-000100f0: 6731 5f73 7472 616e 645f 7261 6469 7573  g1_strand_radius
-00010100: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-00010110: 626c 6564 2854 7275 6529 0a20 2020 2020  bled(True).     
-00010120: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00010130: 7769 6e64 696e 6731 5f72 6164 6975 735f  winding1_radius_
-00010140: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
-00010150: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
-00010160: 2020 6966 2069 6d70 6c69 6369 745f 7479    if implicit_ty
-00010170: 7065 5f66 726f 6d5f 636f 6d62 6f5f 626f  pe_from_combo_bo
-00010180: 7820 3d3d 2073 656c 662e 7472 616e 736c  x == self.transl
-00010190: 6174 696f 6e5f 6469 6374 5b27 696d 706c  ation_dict['impl
-000101a0: 6963 6974 5f66 6627 5d3a 0a20 2020 2020  icit_ff']:.     
-000101b0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-000101c0: 7769 6e64 696e 6731 5f73 7472 616e 6473  winding1_strands
-000101d0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-000101e0: 626c 6564 2854 7275 6529 0a20 2020 2020  bled(True).     
-000101f0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00010200: 7769 6e64 696e 6731 5f66 696c 6c5f 6661  winding1_fill_fa
-00010210: 6374 6f72 5f6c 696e 6545 6469 742e 7365  ctor_lineEdit.se
-00010220: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
-00010230: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010240: 2e61 7574 5f77 696e 6469 6e67 315f 7374  .aut_winding1_st
-00010250: 7261 6e64 5f72 6164 6975 735f 6c69 6e65  rand_radius_line
-00010260: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-00010270: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00010280: 2020 7365 6c66 2e61 7574 5f77 696e 6469    self.aut_windi
-00010290: 6e67 315f 7261 6469 7573 5f6c 696e 6545  ng1_radius_lineE
-000102a0: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
-000102b0: 7275 6529 0a0a 2020 2020 6465 6620 6175  rue)..    def au
-000102c0: 745f 7769 6e64 696e 6731 5f63 6861 6e67  t_winding1_chang
-000102d0: 655f 7769 7265 5f74 7970 6528 7365 6c66  e_wire_type(self
-000102e0: 2c20 7769 7265 5f74 7970 655f 6672 6f6d  , wire_type_from
-000102f0: 5f63 6f6d 626f 745f 626f 783a 2073 7472  _combot_box: str
-00010300: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
-00010310: 2020 2022 2222 0a20 2020 2020 2020 2045     """.        E
-00010320: 6e61 626c 6520 2f20 4469 7361 626c 6520  nable / Disable 
-00010330: 696e 7075 7420 7061 7261 6d65 7465 7220  input parameter 
-00010340: 666f 7220 6c69 747a 2f73 6f6c 6964 2077  for litz/solid w
-00010350: 6972 652e 0a0a 2020 2020 2020 2020 3a70  ire...        :p
-00010360: 6172 616d 2077 6972 655f 7479 7065 5f66  aram wire_type_f
-00010370: 726f 6d5f 636f 6d62 6f74 5f62 6f78 3a20  rom_combot_box: 
-00010380: 7769 7265 2074 7970 650a 2020 2020 2020  wire type.      
-00010390: 2020 3a74 7970 6520 7769 7265 5f74 7970    :type wire_typ
-000103a0: 655f 6672 6f6d 5f63 6f6d 626f 745f 626f  e_from_combot_bo
-000103b0: 783a 2073 7472 0a20 2020 2020 2020 203a  x: str.        :
-000103c0: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
-000103d0: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
-000103e0: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-000103f0: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
-00010400: 696e 6469 6e67 315f 6368 616e 6765 5f6c  inding1_change_l
-00010410: 6974 7a5f 696d 706c 6963 6974 2873 656c  itz_implicit(sel
-00010420: 662e 6175 745f 7769 6e64 696e 6731 5f69  f.aut_winding1_i
-00010430: 6d70 6c69 6369 745f 6c69 747a 5f63 6f6d  mplicit_litz_com
-00010440: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-00010450: 7428 2929 0a20 2020 2020 2020 2069 6620  t()).        if 
-00010460: 7769 7265 5f74 7970 655f 6672 6f6d 5f63  wire_type_from_c
-00010470: 6f6d 626f 745f 626f 7820 3d3d 2073 656c  ombot_box == sel
-00010480: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
-00010490: 6374 5b27 6c69 747a 275d 3a0a 2020 2020  ct['litz']:.    
-000104a0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-000104b0: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
-000104c0: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
-000104d0: 6162 6c65 6428 5472 7565 290a 2020 2020  abled(True).    
-000104e0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-000104f0: 5f77 696e 6469 6e67 315f 696d 706c 6963  _winding1_implic
-00010500: 6974 5f6c 6974 7a5f 636f 6d62 6f42 6f78  it_litz_comboBox
-00010510: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
-00010520: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00010530: 6c66 2e61 7574 5f77 696e 6469 6e67 315f  lf.aut_winding1_
-00010540: 6669 6c6c 5f66 6163 746f 725f 6c69 6e65  fill_factor_line
-00010550: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-00010560: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00010570: 2020 7365 6c66 2e61 7574 5f77 696e 6469    self.aut_windi
-00010580: 6e67 315f 7374 7261 6e64 5f72 6164 6975  ng1_strand_radiu
-00010590: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
-000105a0: 6162 6c65 6428 5472 7565 290a 2020 2020  abled(True).    
-000105b0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-000105c0: 5f77 696e 6469 6e67 315f 7261 6469 7573  _winding1_radius
-000105d0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-000105e0: 626c 6564 2854 7275 6529 0a20 2020 2020  bled(True).     
-000105f0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00010600: 6c69 747a 5f64 6174 615f 6c69 7374 5769  litz_data_listWi
-00010610: 6467 6574 2e73 6574 456e 6162 6c65 6428  dget.setEnabled(
-00010620: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-00010630: 2020 7365 6c66 2e61 7574 5f77 696e 6469    self.aut_windi
-00010640: 6e67 315f 6368 616e 6765 5f6c 6974 7a5f  ng1_change_litz_
-00010650: 696d 706c 6963 6974 2873 656c 662e 6175  implicit(self.au
-00010660: 745f 7769 6e64 696e 6731 5f69 6d70 6c69  t_winding1_impli
-00010670: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
-00010680: 782e 6375 7272 656e 7454 6578 7428 2929  x.currentText())
-00010690: 0a0a 2020 2020 2020 2020 656c 6966 2077  ..        elif w
-000106a0: 6972 655f 7479 7065 5f66 726f 6d5f 636f  ire_type_from_co
-000106b0: 6d62 6f74 5f62 6f78 203d 3d20 7365 6c66  mbot_box == self
-000106c0: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
-000106d0: 745b 2773 6f6c 6964 275d 3a0a 2020 2020  t['solid']:.    
-000106e0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-000106f0: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
-00010700: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
-00010710: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
+0000b5d0: 2020 6d61 6e75 616c 5f6c 6974 7a5f 6669    manual_litz_fi
+0000b5e0: 6c6c 5f66 6163 746f 723d 5b5d 290a 0a20  ll_factor=[]).. 
+0000b5f0: 2020 2020 2020 2023 2043 7265 6174 6520         # Create 
+0000b600: 6373 7620 6669 6c65 206f 6620 6461 7461  csv file of data
+0000b610: 5f6d 6174 7269 785f 6665 6d20 7768 6963  _matrix_fem whic
+0000b620: 6820 636f 6e73 6973 7420 6f66 2061 6c6c  h consist of all
+0000b630: 2074 6865 2066 656d 2073 696d 756c 6174   the fem simulat
+0000b640: 696f 6e20 6361 7365 7320 6465 7461 696c  ion cases detail
+0000b650: 730a 2020 2020 2020 2020 7365 6c66 2e61  s.        self.a
+0000b660: 642e 7772 6974 655f 6461 7461 5f6d 6174  d.write_data_mat
+0000b670: 7269 785f 6665 6d5f 746f 5f63 7376 2829  rix_fem_to_csv()
+0000b680: 0a0a 2020 2020 2020 2020 7365 6c66 2e70  ..        self.p
+0000b690: 6c6f 745f 766f 6c75 6d65 5f6c 6f73 7328  lot_volume_loss(
+0000b6a0: 7365 6c66 2e61 642e 6461 7461 5f6d 6174  self.ad.data_mat
+0000b6b0: 7269 785f 342c 206d 6174 706c 6f74 6c69  rix_4, matplotli
+0000b6c0: 625f 7769 6467 6574 290a 0a20 2020 2020  b_widget)..     
+0000b6d0: 2020 206e 5f63 6173 6573 5f30 203d 206c     n_cases_0 = l
+0000b6e0: 656e 2873 656c 662e 6164 2e64 6174 615f  en(self.ad.data_
+0000b6f0: 6d61 7472 6978 5f30 290a 2020 2020 2020  matrix_0).      
+0000b700: 2020 7365 6c66 2e6e 6361 7365 7330 5f6c    self.ncases0_l
+0000b710: 6162 656c 2e73 6574 5465 7874 2866 227b  abel.setText(f"{
+0000b720: 6e5f 6361 7365 735f 307d 2229 0a0a 2020  n_cases_0}")..  
+0000b730: 2020 2020 2020 6e5f 6361 7365 735f 3220        n_cases_2 
+0000b740: 3d20 6c65 6e28 7365 6c66 2e61 642e 6461  = len(self.ad.da
+0000b750: 7461 5f6d 6174 7269 785f 3229 0a20 2020  ta_matrix_2).   
+0000b760: 2020 2020 2073 656c 662e 6e63 6173 6573       self.ncases
+0000b770: 325f 6c61 6265 6c2e 7365 7454 6578 7428  2_label.setText(
+0000b780: 6622 7b6e 5f63 6173 6573 5f32 7d22 290a  f"{n_cases_2}").
+0000b790: 0a20 2020 2020 2020 206e 5f63 6173 6573  .        n_cases
+0000b7a0: 5f33 203d 206c 656e 2873 656c 662e 6164  _3 = len(self.ad
+0000b7b0: 2e64 6174 615f 6d61 7472 6978 5f33 290a  .data_matrix_3).
+0000b7c0: 2020 2020 2020 2020 7365 6c66 2e6e 6361          self.nca
+0000b7d0: 7365 7333 5f6c 6162 656c 2e73 6574 5465  ses3_label.setTe
+0000b7e0: 7874 2866 227b 6e5f 6361 7365 735f 337d  xt(f"{n_cases_3}
+0000b7f0: 2229 0a0a 2020 2020 2020 2020 6e5f 6361  ")..        n_ca
+0000b800: 7365 735f 4645 4d20 3d20 6c65 6e28 7365  ses_FEM = len(se
+0000b810: 6c66 2e61 642e 6461 7461 5f6d 6174 7269  lf.ad.data_matri
+0000b820: 785f 6665 6d29 0a20 2020 2020 2020 2073  x_fem).        s
+0000b830: 656c 662e 6665 6d5f 6361 7365 735f 6c61  elf.fem_cases_la
+0000b840: 6265 6c2e 7365 7454 6578 7428 6622 7b6e  bel.setText(f"{n
+0000b850: 5f63 6173 6573 5f46 454d 7d22 290a 0a20  _cases_FEM}").. 
+0000b860: 2020 2064 6566 2061 7574 6f6d 6174 6564     def automated
+0000b870: 5f64 6573 6967 6e5f 6665 6d5f 7369 6d28  _design_fem_sim(
+0000b880: 7365 6c66 2c20 6d61 7470 6c6f 746c 6962  self, matplotlib
+0000b890: 5f77 6964 6765 7429 3a0a 2020 2020 2020  _widget):.      
+0000b8a0: 2020 2222 220a 2020 2020 2020 2020 5275    """.        Ru
+0000b8b0: 6e20 7468 6520 6665 6d20 7369 6d75 6c61  n the fem simula
+0000b8c0: 7469 6f6e 7320 6f66 2074 6865 2066 696c  tions of the fil
+0000b8d0: 7465 7265 6420 6361 7365 7320 6672 6f6d  tered cases from
+0000b8e0: 2072 656c 7563 7461 6e63 6520 6d6f 6465   reluctance mode
+0000b8f0: 6c73 2074 6162 2e20 506c 6f74 2074 6865  ls tab. Plot the
+0000b900: 2076 6f6c 756d 6520 7673 206c 6f73 7320   volume vs loss 
+0000b910: 696e 2046 454d 2073 696d 756c 6174 696f  in FEM simulatio
+0000b920: 6e73 2074 6162 2e0a 0a20 2020 2020 2020  ns tab...       
+0000b930: 203a 7061 7261 6d20 6d61 7470 6c6f 746c   :param matplotl
+0000b940: 6962 5f77 6964 6765 743a 2054 6f20 706c  ib_widget: To pl
+0000b950: 6f74 2076 6f6c 756d 6520 7673 206c 6f73  ot volume vs los
+0000b960: 7320 696e 2046 454d 2073 696d 756c 6174  s in FEM simulat
+0000b970: 696f 6e73 2074 6162 0a20 2020 2020 2020  ions tab.       
+0000b980: 2022 2222 0a20 2020 2020 2020 2023 2023   """.        # #
+0000b990: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000b9a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000b9b0: 2323 2323 2323 2323 2320 2020 7b46 454d  #########   {FEM
+0000b9c0: 5f53 494d 554c 4154 494f 4e7d 2020 2023  _SIMULATION}   #
+0000b9d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000b9e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000b9f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+0000ba00: 230a 0a20 2020 2020 2020 2023 2052 756e  #..        # Run
+0000ba10: 2046 454d 2073 696d 756c 6174 696f 6e20   FEM simulation 
+0000ba20: 6f66 2022 7365 6c66 2e64 6174 615f 6d61  of "self.data_ma
+0000ba30: 7472 6978 5f66 656d 220a 2020 2020 2020  trix_fem".      
+0000ba40: 2020 7365 6c66 2e61 642e 6665 6d5f 7369    self.ad.fem_si
+0000ba50: 6d75 6c61 7469 6f6e 2829 0a0a 2020 2020  mulation()..    
+0000ba60: 2020 2020 2320 5361 7665 2073 696d 756c      # Save simul
+0000ba70: 6174 696f 6e20 7365 7474 696e 6773 2069  ation settings i
+0000ba80: 6e20 6a73 6f6e 2066 696c 6520 666f 7220  n json file for 
+0000ba90: 6c61 7465 7220 7265 7669 6577 0a20 2020  later review.   
+0000baa0: 2020 2020 2073 656c 662e 6164 2e73 6176       self.ad.sav
+0000bab0: 655f 6175 746f 6d61 7465 645f 6465 7369  e_automated_desi
+0000bac0: 676e 5f73 6574 7469 6e67 7328 290a 2020  gn_settings().  
+0000bad0: 2020 2020 2020 6465 7369 676e 5f64 6972        design_dir
+0000bae0: 6563 746f 7279 203d 2073 656c 662e 6175  ectory = self.au
+0000baf0: 745f 6c6f 6164 5f64 6573 6967 6e5f 6469  t_load_design_di
+0000bb00: 7265 6374 6f72 796e 616d 655f 6c69 6e65  rectoryname_line
+0000bb10: 4564 6974 2e74 6578 7428 290a 2020 2020  Edit.text().    
+0000bb20: 2020 2020 7265 616c 5f69 6e64 7563 7461      real_inducta
+0000bb30: 6e63 652c 2074 6f74 616c 5f6c 6f73 732c  nce, total_loss,
+0000bb40: 2074 6f74 616c 5f76 6f6c 756d 652c 2074   total_volume, t
+0000bb50: 6f74 616c 5f63 6f73 742c 206c 6162 656c  otal_cost, label
+0000bb60: 732c 2061 7574 6f6d 6174 6564 5f64 6573  s, automated_des
+0000bb70: 6967 6e5f 7365 7474 696e 6773 203d 206c  ign_settings = l
+0000bb80: 6f61 645f 6665 6d5f 7369 6d75 6c61 7469  oad_fem_simulati
+0000bb90: 6f6e 5f72 6573 756c 7473 280a 2020 2020  on_results(.    
+0000bba0: 2020 2020 2020 2020 776f 726b 696e 675f          working_
+0000bbb0: 6469 7265 6374 6f72 793d 6465 7369 676e  directory=design
+0000bbc0: 5f64 6972 6563 746f 7279 290a 0a20 2020  _directory)..   
+0000bbd0: 2020 2020 206d 6174 706c 6f74 6c69 625f       matplotlib_
+0000bbe0: 7769 6467 6574 203d 204d 6174 706c 6f74  widget = Matplot
+0000bbf0: 6c69 6257 6964 6765 7428 290a 2020 2020  libWidget().    
+0000bc00: 2020 2020 6d61 7470 6c6f 746c 6962 5f77      matplotlib_w
+0000bc10: 6964 6765 742e 6178 6973 2e63 6c65 6172  idget.axis.clear
+0000bc20: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
+0000bc30: 6c61 796f 7574 203d 2051 5642 6f78 4c61  layout = QVBoxLa
+0000bc40: 796f 7574 2873 656c 662e 706c 6f74 7769  yout(self.plotwi
+0000bc50: 6467 6574 5f35 290a 2020 2020 2020 2020  dget_5).        
+0000bc60: 7365 6c66 2e6c 6179 6f75 742e 6164 6457  self.layout.addW
+0000bc70: 6964 6765 7428 6d61 7470 6c6f 746c 6962  idget(matplotlib
+0000bc80: 5f77 6964 6765 7429 0a20 2020 2020 2020  _widget).       
+0000bc90: 2074 7279 3a0a 2020 2020 2020 2020 2020   try:.          
+0000bca0: 2020 6d61 7470 6c6f 746c 6962 5f77 6964    matplotlib_wid
+0000bcb0: 6765 742e 6178 6973 5f63 6d2e 7265 6d6f  get.axis_cm.remo
+0000bcc0: 7665 2829 0a20 2020 2020 2020 2065 7863  ve().        exc
+0000bcd0: 6570 743a 0a20 2020 2020 2020 2020 2020  ept:.           
+0000bce0: 2070 6173 730a 0a20 2020 2020 2020 2070   pass..        p
+0000bcf0: 6c6f 745f 6461 7461 203d 2066 696c 7465  lot_data = filte
+0000bd00: 725f 6166 7465 725f 6665 6d28 696e 6475  r_after_fem(indu
+0000bd10: 6374 616e 6365 3d72 6561 6c5f 696e 6475  ctance=real_indu
+0000bd20: 6374 616e 6365 2c20 746f 7461 6c5f 6c6f  ctance, total_lo
+0000bd30: 7373 3d74 6f74 616c 5f6c 6f73 732c 2074  ss=total_loss, t
+0000bd40: 6f74 616c 5f76 6f6c 756d 653d 746f 7461  otal_volume=tota
+0000bd50: 6c5f 766f 6c75 6d65 2c0a 2020 2020 2020  l_volume,.      
+0000bd60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bd70: 2020 2020 2020 2020 2020 2020 2020 2074                 t
+0000bd80: 6f74 616c 5f63 6f73 743d 746f 7461 6c5f  otal_cost=total_
+0000bd90: 636f 7374 2c0a 2020 2020 2020 2020 2020  cost,.          
+0000bda0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bdb0: 2020 2020 2020 2020 2020 2061 6e6e 6f74             annot
+0000bdc0: 6174 696f 6e5f 6c69 7374 3d6c 6162 656c  ation_list=label
+0000bdd0: 732c 2067 6f61 6c5f 696e 6475 6374 616e  s, goal_inductan
+0000bde0: 6365 3d73 656c 662e 6164 2e67 6f61 6c5f  ce=self.ad.goal_
+0000bdf0: 696e 6475 6374 616e 6365 2c0a 2020 2020  inductance,.    
+0000be00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000be20: 2070 6572 6365 6e74 5f74 6f6c 6572 616e   percent_toleran
+0000be30: 6365 3d32 3029 0a0a 2020 2020 2020 2020  ce=20)..        
+0000be40: 7365 6c66 2e70 6c6f 745f 3264 286d 6174  self.plot_2d(mat
+0000be50: 706c 6f74 6c69 625f 7769 6467 6574 2c20  plotlib_widget, 
+0000be60: 785f 7661 6c75 653d 706c 6f74 5f64 6174  x_value=plot_dat
+0000be70: 615b 3a2c 2031 5d2c 2079 5f76 616c 7565  a[:, 1], y_value
+0000be80: 3d70 6c6f 745f 6461 7461 5b3a 2c20 325d  =plot_data[:, 2]
+0000be90: 2c20 7a5f 7661 6c75 653d 706c 6f74 5f64  , z_value=plot_d
+0000bea0: 6174 615b 3a2c 2033 5d2c 0a20 2020 2020  ata[:, 3],.     
+0000beb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000bec0: 785f 6c61 6265 6c3d 2756 6f6c 756d 6520  x_label='Volume 
+0000bed0: 2f20 6d5c 7530 3062 3327 2c20 795f 6c61  / m\u00b3', y_la
+0000bee0: 6265 6c3d 274c 6f73 7320 2f20 5727 2c20  bel='Loss / W', 
+0000bef0: 7a5f 6c61 6265 6c3d 2743 6f73 7420 2f20  z_label='Cost / 
+0000bf00: 5c75 3230 6163 272c 2074 6974 6c65 3d27  \u20ac', title='
+0000bf10: 566f 6c75 6d65 2076 7320 4c6f 7373 272c  Volume vs Loss',
+0000bf20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000bf30: 2020 2020 2020 616e 6e6f 7461 7469 6f6e        annotation
+0000bf40: 733d 706c 6f74 5f64 6174 615b 3a2c 2034  s=plot_data[:, 4
+0000bf50: 5d2c 2070 6c6f 745f 636f 6c6f 723d 2752  ], plot_color='R
+0000bf60: 6459 6c47 6e5f 7227 2c20 696e 6475 6374  dYlGn_r', induct
+0000bf70: 616e 6365 5f76 616c 7565 3d70 6c6f 745f  ance_value=plot_
+0000bf80: 6461 7461 5b3a 2c20 305d 290a 0a20 2020  data[:, 0])..   
+0000bf90: 2064 6566 206c 6f61 645f 6465 7369 676e   def load_design
+0000bfa0: 7328 7365 6c66 2c20 6d61 7470 6c6f 746c  s(self, matplotl
+0000bfb0: 6962 5f77 6964 6765 7429 3a0a 2020 2020  ib_widget):.    
+0000bfc0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000bfd0: 2050 6c6f 7420 7468 6520 766f 6c75 6d65   Plot the volume
+0000bfe0: 2076 7320 6c6f 7373 2066 726f 6d20 7468   vs loss from th
+0000bff0: 6520 616c 7265 6164 7920 7275 6e20 6669  e already run fi
+0000c000: 6c65 7320 6f66 2046 454d 2073 696d 756c  les of FEM simul
+0000c010: 6174 696f 6e73 2066 726f 6d20 7468 6520  ations from the 
+0000c020: 6469 7265 6374 6f72 7920 7061 7468 2c20  directory path, 
+0000c030: 696e 2074 6865 204c 6f61 6428 7265 7375  in the Load(resu
+0000c040: 6c74 7329 2074 6162 2e0a 0a20 2020 2020  lts) tab...     
+0000c050: 2020 203a 7061 7261 6d20 6d61 7470 6c6f     :param matplo
+0000c060: 746c 6962 5f77 6964 6765 743a 2054 6f20  tlib_widget: To 
+0000c070: 706c 6f74 2076 6f6c 756d 6520 7673 206c  plot volume vs l
+0000c080: 6f73 7320 696e 2074 6865 204c 6f61 6428  oss in the Load(
+0000c090: 7265 7375 6c74 7329 2074 6162 0a20 2020  results) tab.   
+0000c0a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0000c0b0: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
+0000c0c0: 6574 203d 204d 6174 706c 6f74 6c69 6257  et = MatplotlibW
+0000c0d0: 6964 6765 7428 290a 2020 2020 2020 2020  idget().        
+0000c0e0: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+0000c0f0: 742e 6178 6973 2e63 6c65 6172 2829 0a20  t.axis.clear(). 
+0000c100: 2020 2020 2020 2073 656c 662e 6c61 796f         self.layo
+0000c110: 7574 203d 2051 5642 6f78 4c61 796f 7574  ut = QVBoxLayout
+0000c120: 2873 656c 662e 706c 6f74 7769 6467 6574  (self.plotwidget
+0000c130: 5f39 290a 2020 2020 2020 2020 7365 6c66  _9).        self
+0000c140: 2e6c 6179 6f75 742e 6164 6457 6964 6765  .layout.addWidge
+0000c150: 7428 6d61 7470 6c6f 746c 6962 5f77 6964  t(matplotlib_wid
+0000c160: 6765 7429 0a20 2020 2020 2020 2074 7279  get).        try
+0000c170: 3a0a 2020 2020 2020 2020 2020 2020 6d61  :.            ma
+0000c180: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
+0000c190: 6178 6973 5f63 6d2e 7265 6d6f 7665 2829  axis_cm.remove()
+0000c1a0: 0a20 2020 2020 2020 2065 7863 6570 743a  .        except:
+0000c1b0: 0a20 2020 2020 2020 2020 2020 2070 6173  .            pas
+0000c1c0: 730a 0a20 2020 2020 2020 2064 6573 6967  s..        desig
+0000c1d0: 6e5f 6469 7265 6374 6f72 7920 3d20 7365  n_directory = se
+0000c1e0: 6c66 2e61 7574 5f6c 6f61 645f 6465 7369  lf.aut_load_desi
+0000c1f0: 676e 5f64 6972 6563 746f 7279 6e61 6d65  gn_directoryname
+0000c200: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+0000c210: 0a20 2020 2020 2020 2072 6561 6c5f 696e  .        real_in
+0000c220: 6475 6374 616e 6365 2c20 746f 7461 6c5f  ductance, total_
+0000c230: 6c6f 7373 2c20 746f 7461 6c5f 766f 6c75  loss, total_volu
+0000c240: 6d65 2c20 746f 7461 6c5f 636f 7374 2c20  me, total_cost, 
+0000c250: 6c61 6265 6c73 2c20 6175 746f 6d61 7465  labels, automate
+0000c260: 645f 6465 7369 676e 5f73 6574 7469 6e67  d_design_setting
+0000c270: 7320 3d20 6c6f 6164 5f66 656d 5f73 696d  s = load_fem_sim
+0000c280: 756c 6174 696f 6e5f 7265 7375 6c74 7328  ulation_results(
+0000c290: 0a20 2020 2020 2020 2020 2020 2077 6f72  .            wor
+0000c2a0: 6b69 6e67 5f64 6972 6563 746f 7279 3d64  king_directory=d
+0000c2b0: 6573 6967 6e5f 6469 7265 6374 6f72 7929  esign_directory)
+0000c2c0: 0a0a 2020 2020 2020 2020 706c 6f74 5f64  ..        plot_d
+0000c2d0: 6174 6120 3d20 6669 6c74 6572 5f61 6674  ata = filter_aft
+0000c2e0: 6572 5f66 656d 2869 6e64 7563 7461 6e63  er_fem(inductanc
+0000c2f0: 653d 7265 616c 5f69 6e64 7563 7461 6e63  e=real_inductanc
+0000c300: 652c 2074 6f74 616c 5f6c 6f73 733d 746f  e, total_loss=to
+0000c310: 7461 6c5f 6c6f 7373 2c20 746f 7461 6c5f  tal_loss, total_
+0000c320: 766f 6c75 6d65 3d74 6f74 616c 5f76 6f6c  volume=total_vol
+0000c330: 756d 652c 0a20 2020 2020 2020 2020 2020  ume,.           
+0000c340: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c350: 2020 2020 2020 2020 2020 746f 7461 6c5f            total_
+0000c360: 636f 7374 3d74 6f74 616c 5f63 6f73 742c  cost=total_cost,
+0000c370: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000c380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c390: 2020 2020 2020 616e 6e6f 7461 7469 6f6e        annotation
+0000c3a0: 5f6c 6973 743d 6c61 6265 6c73 2c20 676f  _list=labels, go
+0000c3b0: 616c 5f69 6e64 7563 7461 6e63 653d 302e  al_inductance=0.
+0000c3c0: 3030 3031 322c 0a20 2020 2020 2020 2020  00012,.         
+0000c3d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c3e0: 2020 2020 2020 2020 2020 2020 7065 7263              perc
+0000c3f0: 656e 745f 746f 6c65 7261 6e63 653d 3230  ent_tolerance=20
+0000c400: 290a 0a20 2020 2020 2020 2073 656c 662e  )..        self.
+0000c410: 706c 6f74 5f32 6428 6d61 7470 6c6f 746c  plot_2d(matplotl
+0000c420: 6962 5f77 6964 6765 742c 2078 5f76 616c  ib_widget, x_val
+0000c430: 7565 3d70 6c6f 745f 6461 7461 5b3a 2c20  ue=plot_data[:, 
+0000c440: 315d 2c20 795f 7661 6c75 653d 706c 6f74  1], y_value=plot
+0000c450: 5f64 6174 615b 3a2c 2032 5d2c 207a 5f76  _data[:, 2], z_v
+0000c460: 616c 7565 3d70 6c6f 745f 6461 7461 5b3a  alue=plot_data[:
+0000c470: 2c20 335d 2c0a 2020 2020 2020 2020 2020  , 3],.          
+0000c480: 2020 2020 2020 2020 2020 2078 5f6c 6162             x_lab
+0000c490: 656c 3d27 566f 6c75 6d65 202f 206d 5c75  el='Volume / m\u
+0000c4a0: 3030 6233 272c 2079 5f6c 6162 656c 3d27  00b3', y_label='
+0000c4b0: 4c6f 7373 202f 2057 272c 207a 5f6c 6162  Loss / W', z_lab
+0000c4c0: 656c 3d27 436f 7374 202f 205c 7532 3061  el='Cost / \u20a
+0000c4d0: 6327 2c20 7469 746c 653d 2756 6f6c 756d  c', title='Volum
+0000c4e0: 6520 7673 204c 6f73 7327 2c0a 2020 2020  e vs Loss',.    
+0000c4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c500: 2061 6e6e 6f74 6174 696f 6e73 3d70 6c6f   annotations=plo
+0000c510: 745f 6461 7461 5b3a 2c20 345d 2c20 706c  t_data[:, 4], pl
+0000c520: 6f74 5f63 6f6c 6f72 3d27 5264 596c 476e  ot_color='RdYlGn
+0000c530: 5f72 272c 2069 6e64 7563 7461 6e63 655f  _r', inductance_
+0000c540: 7661 6c75 653d 706c 6f74 5f64 6174 615b  value=plot_data[
+0000c550: 3a2c 2030 5d29 0a0a 2020 2020 6465 6620  :, 0])..    def 
+0000c560: 6368 6563 6b5f 6f6e 656c 6162 5f63 6f6e  check_onelab_con
+0000c570: 6669 6728 7365 6c66 2c20 6765 6f3a 2066  fig(self, geo: f
+0000c580: 6d74 2e4d 6167 6e65 7469 6343 6f6d 706f  mt.MagneticCompo
+0000c590: 6e65 6e74 293a 0a20 2020 2020 2020 2022  nent):.        "
+0000c5a0: 2222 4368 6563 6b20 7468 6520 6f6e 6c61  ""Check the onla
+0000c5b0: 6220 636f 6e66 6967 7572 6174 696f 6e20  b configuration 
+0000c5c0: 746f 2065 6e74 6572 206f 7220 7265 6164  to enter or read
+0000c5d0: 2074 6865 206f 6e65 6c61 6220 6669 6c65   the onelab file
+0000c5e0: 7061 7468 2e22 2222 0a20 2020 2020 2020  path.""".       
+0000c5f0: 2023 2041 736b 2066 6f72 206f 6e65 6c61   # Ask for onela
+0000c600: 6220 7061 7468 2028 6966 206e 6f20 636f  b path (if no co
+0000c610: 6e66 6967 2066 696c 6520 6578 6973 7473  nfig file exists
+0000c620: 290a 2020 2020 2020 2020 6966 206e 6f74  ).        if not
+0000c630: 206f 732e 7061 7468 2e69 7366 696c 6528   os.path.isfile(
+0000c640: 6765 6f2e 6669 6c65 5f64 6174 612e 636f  geo.file_data.co
+0000c650: 6e66 6967 5f70 6174 6829 3a0a 2020 2020  nfig_path):.    
+0000c660: 2020 2020 2020 2020 6f6e 656c 6162 5f70          onelab_p
+0000c670: 6174 685f 6469 616c 6f67 203d 204f 6e65  ath_dialog = One
+0000c680: 6c61 6250 6174 6844 6961 6c6f 6728 290a  labPathDialog().
+0000c690: 2020 2020 2020 2020 2020 2020 7661 6c69              vali
+0000c6a0: 6420 3d20 6f6e 656c 6162 5f70 6174 685f  d = onelab_path_
+0000c6b0: 6469 616c 6f67 2e65 7865 635f 2829 0a20  dialog.exec_(). 
+0000c6c0: 2020 2020 2020 2020 2020 2069 6620 7661             if va
+0000c6d0: 6c69 6420 6973 204e 6f6e 653a 0a20 2020  lid is None:.   
+0000c6e0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+0000c6f0: 7365 2045 7863 6570 7469 6f6e 2822 536f  se Exception("So
+0000c700: 6d65 7468 696e 6720 7765 6e74 2077 726f  mething went wro
+0000c710: 6e67 2077 6869 6c65 2065 6e74 6572 696e  ng while enterin
+0000c720: 6720 6f6e 656c 6162 2070 6174 6822 290a  g onelab path").
+0000c730: 2020 2020 2020 2020 2020 2020 656c 6966              elif
+0000c740: 2076 616c 6964 203d 3d20 313a 0a20 2020   valid == 1:.   
+0000c750: 2020 2020 2020 2020 2020 2020 206f 6e65               one
+0000c760: 6c61 625f 7061 7468 203d 206f 6e65 6c61  lab_path = onela
+0000c770: 625f 7061 7468 5f64 6961 6c6f 672e 6469  b_path_dialog.di
+0000c780: 7265 6374 6f72 790a 2020 2020 2020 2020  rectory.        
+0000c790: 2020 2020 2020 2020 6966 206f 732e 7061          if os.pa
+0000c7a0: 7468 2e69 7364 6972 286f 6e65 6c61 625f  th.isdir(onelab_
+0000c7b0: 7061 7468 293a 0a20 2020 2020 2020 2020  path):.         
+0000c7c0: 2020 2020 2020 2020 2020 206f 6e65 6c61             onela
+0000c7d0: 625f 7061 7468 5f64 6963 7420 3d20 7b22  b_path_dict = {"
+0000c7e0: 6f6e 656c 6162 223a 206f 6e65 6c61 625f  onelab": onelab_
+0000c7f0: 7061 7468 7d0a 2020 2020 2020 2020 2020  path}.          
+0000c800: 2020 2020 2020 2020 2020 7769 7468 206f            with o
+0000c810: 7065 6e28 6765 6f2e 6669 6c65 5f64 6174  pen(geo.file_dat
+0000c820: 612e 636f 6e66 6967 5f70 6174 682c 2027  a.config_path, '
+0000c830: 7727 2c20 656e 636f 6469 6e67 3d27 7574  w', encoding='ut
+0000c840: 662d 3827 2920 6173 2066 643a 0a20 2020  f-8') as fd:.   
+0000c850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000c860: 2020 2020 206a 736f 6e2e 6475 6d70 286f       json.dump(o
+0000c870: 6e65 6c61 625f 7061 7468 5f64 6963 742c  nelab_path_dict,
+0000c880: 2066 642c 2069 6e64 656e 743d 322c 2065   fd, indent=2, e
+0000c890: 6e73 7572 655f 6173 6369 693d 4661 6c73  nsure_ascii=Fals
+0000c8a0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+0000c8b0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000c8c0: 2020 2020 2020 2020 2020 2020 2072 6169               rai
+0000c8d0: 7365 2045 7863 6570 7469 6f6e 2866 227b  se Exception(f"{
+0000c8e0: 6f6e 656c 6162 5f70 6174 687d 2069 7320  onelab_path} is 
+0000c8f0: 6e6f 7420 6120 7661 6c69 6420 666f 6c64  not a valid fold
+0000c900: 6572 2070 6174 6822 290a 2020 2020 2020  er path").      
+0000c910: 2020 2020 2020 656c 6966 2076 616c 6964        elif valid
+0000c920: 203d 3d20 303a 0a20 2020 2020 2020 2020   == 0:.         
+0000c930: 2020 2020 2020 2073 7973 2e65 7869 7428         sys.exit(
+0000c940: 2d31 290a 2020 2020 2020 2020 2020 2020  -1).            
+0000c950: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0000c960: 2020 2020 2020 7261 6973 6520 4578 6365        raise Exce
+0000c970: 7074 696f 6e28 6622 556e 6b6e 6f77 6e20  ption(f"Unknown 
+0000c980: 7265 7475 726e 2074 7970 6520 6672 6f6d  return type from
+0000c990: 204f 6e65 6c61 6250 6174 6844 6961 6c6f   OnelabPathDialo
+0000c9a0: 673a 207b 7661 6c69 647d 2229 0a0a 2020  g: {valid}")..  
+0000c9b0: 2020 6465 6620 6175 746f 6d61 7465 645f    def automated_
+0000c9c0: 6465 7369 676e 5f66 756e 635f 636f 6e66  design_func_conf
+0000c9d0: 6967 2873 656c 6629 3a0a 2020 2020 2020  ig(self):.      
+0000c9e0: 2020 2222 2243 616c 6c20 6175 746f 6d61    """Call automa
+0000c9f0: 7465 645f 6465 7369 676e 5f66 756e 632c  ted_design_func,
+0000ca00: 2077 6865 6e20 7369 6d75 6c61 7465 2062   when simulate b
+0000ca10: 7574 746f 6e20 6973 2070 7265 7373 6564  utton is pressed
+0000ca20: 2069 6e20 5265 6c75 6374 616e 6365 206d   in Reluctance m
+0000ca30: 6f64 656c 7320 7461 622e 2222 220a 2020  odels tab.""".  
+0000ca40: 2020 2020 2020 7365 6c66 2e61 7574 6f6d        self.autom
+0000ca50: 6174 6564 5f64 6573 6967 6e5f 6675 6e63  ated_design_func
+0000ca60: 2873 656c 662e 6d61 7470 6c6f 746c 6962  (self.matplotlib
+0000ca70: 5f77 6964 6765 745f 6175 745f 7461 6232  _widget_aut_tab2
+0000ca80: 290a 0a20 2020 2064 6566 2061 7574 6f6d  )..    def autom
+0000ca90: 6174 6564 5f64 6573 6967 6e5f 6665 6d5f  ated_design_fem_
+0000caa0: 7369 6d5f 636f 6e66 6967 2873 656c 6629  sim_config(self)
+0000cab0: 3a0a 2020 2020 2020 2020 2222 2243 616c  :.        """Cal
+0000cac0: 6c20 6175 746f 6d61 7465 645f 6465 7369  l automated_desi
+0000cad0: 676e 5f66 656d 5f73 696d 2c20 7768 656e  gn_fem_sim, when
+0000cae0: 2073 696d 756c 6174 6520 6275 7474 6f6e   simulate button
+0000caf0: 2069 7320 7072 6573 7365 6420 696e 2046   is pressed in F
+0000cb00: 454d 2073 696d 756c 6174 696f 6e73 2074  EM simulations t
+0000cb10: 6162 2e22 2222 0a20 2020 2020 2020 2073  ab.""".        s
+0000cb20: 656c 662e 6175 746f 6d61 7465 645f 6465  elf.automated_de
+0000cb30: 7369 676e 5f66 656d 5f73 696d 2873 656c  sign_fem_sim(sel
+0000cb40: 662e 6d61 7470 6c6f 746c 6962 5f77 6964  f.matplotlib_wid
+0000cb50: 6765 745f 6175 745f 7461 6233 290a 0a20  get_aut_tab3).. 
+0000cb60: 2020 2064 6566 206c 6f61 645f 6465 7369     def load_desi
+0000cb70: 676e 735f 636f 6e66 6967 2873 656c 6629  gns_config(self)
+0000cb80: 3a0a 2020 2020 2020 2020 2222 2243 616c  :.        """Cal
+0000cb90: 6c20 6c6f 6164 5f64 6573 6967 6e73 2c20  l load_designs, 
+0000cba0: 7768 656e 204c 6f61 6420 6465 7369 676e  when Load design
+0000cbb0: 2062 7574 746f 6e20 6973 2070 7265 7373   button is press
+0000cbc0: 6564 2069 6e20 4c6f 6164 2872 6573 756c  ed in Load(resul
+0000cbd0: 7473 2920 7461 622e 2222 220a 2020 2020  ts) tab.""".    
+0000cbe0: 2020 2020 7365 6c66 2e6c 6f61 645f 6465      self.load_de
+0000cbf0: 7369 676e 7328 7365 6c66 2e6d 6174 706c  signs(self.matpl
+0000cc00: 6f74 6c69 625f 7769 6467 6574 5f61 7574  otlib_widget_aut
+0000cc10: 5f74 6162 3429 0a0a 2020 2020 2320 202a  _tab4)..    #  *
+0000cc20: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+0000cc30: 2a2a 2a2a 2a2a 2a2a 2a2a 2a20 4175 746f  *********** Auto
+0000cc40: 6d61 7465 6420 6465 7369 676e 2074 6162  mated design tab
+0000cc50: 2069 6e69 7469 616c 697a 6174 696f 6e73   initializations
+0000cc60: 202a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a   ***************
+0000cc70: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+0000cc80: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a20 2023  *************  #
+0000cc90: 0a20 2020 2064 6566 206f 6e63 6765 6f43  .    def oncgeoC
+0000cca0: 6c65 6172 616c 6c43 6c69 636b 6564 2873  learallClicked(s
+0000ccb0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+0000ccc0: 2243 6c65 6172 2061 6c6c 2065 6e74 7269  "Clear all entri
+0000ccd0: 6573 2e22 2222 0a20 2020 2020 2020 2073  es.""".        s
+0000cce0: 656c 662e 6175 745f 636f 7265 5f67 656f  elf.aut_core_geo
+0000ccf0: 6d65 7472 795f 6261 736b 6574 5f6c 6973  metry_basket_lis
+0000cd00: 7457 6964 6765 742e 636c 6561 7228 290a  tWidget.clear().
+0000cd10: 0a20 2020 2064 6566 206f 6e63 6765 6f43  .    def oncgeoC
+0000cd20: 6c65 6172 436c 6963 6b65 6428 7365 6c66  learClicked(self
+0000cd30: 293a 0a20 2020 2020 2020 2022 2222 4164  ):.        """Ad
+0000cd40: 6420 7468 6520 6d61 6e75 616c 6c79 2073  d the manually s
+0000cd50: 656c 6563 7465 6420 636f 7265 2063 686f  elected core cho
+0000cd60: 6963 6520 746f 2074 6865 2062 6173 6b65  ice to the baske
+0000cd70: 742e 2222 220a 2020 2020 2020 2020 4c69  t.""".        Li
+0000cd80: 7374 5f69 7465 6d20 3d20 7365 6c66 2e61  st_item = self.a
+0000cd90: 7574 5f63 6f72 655f 6765 6f6d 6574 7279  ut_core_geometry
+0000cda0: 5f62 6173 6b65 745f 6c69 7374 5769 6467  _basket_listWidg
+0000cdb0: 6574 2e73 656c 6563 7465 6449 7465 6d73  et.selectedItems
+0000cdc0: 2829 0a20 2020 2020 2020 2066 6f72 2069  ().        for i
+0000cdd0: 7465 6d20 696e 204c 6973 745f 6974 656d  tem in List_item
+0000cde0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0000cdf0: 6c66 2e61 7574 5f63 6f72 655f 6765 6f6d  lf.aut_core_geom
+0000ce00: 6574 7279 5f62 6173 6b65 745f 6c69 7374  etry_basket_list
+0000ce10: 5769 6467 6574 2e74 616b 6549 7465 6d28  Widget.takeItem(
+0000ce20: 7365 6c66 2e61 7574 5f63 6f72 655f 6765  self.aut_core_ge
+0000ce30: 6f6d 6574 7279 5f62 6173 6b65 745f 6c69  ometry_basket_li
+0000ce40: 7374 5769 6467 6574 2e72 6f77 2869 7465  stWidget.row(ite
+0000ce50: 6d29 290a 0a20 2020 2064 6566 206f 6e63  m))..    def onc
+0000ce60: 6765 6f4d 756c 7469 706c 6543 6c69 636b  geoMultipleClick
+0000ce70: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
+0000ce80: 2020 2222 2241 6363 6570 7420 6d75 6c74    """Accept mult
+0000ce90: 6970 6c65 2063 686f 6963 6573 2e22 2222  iple choices."""
+0000cea0: 0a20 2020 2020 2020 2069 7465 6d73 5465  .        itemsTe
+0000ceb0: 7874 4c69 7374 203d 205b 7374 7228 7365  xtList = [str(se
+0000cec0: 6c66 2e61 7574 5f63 6f72 655f 6765 6f6d  lf.aut_core_geom
+0000ced0: 6574 7279 5f62 6173 6b65 745f 6c69 7374  etry_basket_list
+0000cee0: 5769 6467 6574 2e69 7465 6d28 6929 2e74  Widget.item(i).t
+0000cef0: 6578 7428 2929 2066 6f72 2069 2069 6e0a  ext()) for i in.
+0000cf00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000cf10: 2020 2020 2020 2020 2072 616e 6765 2873           range(s
+0000cf20: 656c 662e 6175 745f 636f 7265 5f67 656f  elf.aut_core_geo
+0000cf30: 6d65 7472 795f 6261 736b 6574 5f6c 6973  metry_basket_lis
+0000cf40: 7457 6964 6765 742e 636f 756e 7428 2929  tWidget.count())
+0000cf50: 5d0a 2020 2020 2020 2020 6368 6563 6b69  ].        checki
+0000cf60: 7465 6d73 203d 205b 6974 656d 2e74 6578  tems = [item.tex
+0000cf70: 7428 2920 666f 7220 6974 656d 2069 6e20  t() for item in 
+0000cf80: 7365 6c66 2e61 7574 5f63 6f72 655f 6765  self.aut_core_ge
+0000cf90: 6f6d 6574 7279 5f6c 6973 7457 6964 6765  ometry_listWidge
+0000cfa0: 742e 7365 6c65 6374 6564 4974 656d 7328  t.selectedItems(
+0000cfb0: 295d 0a20 2020 2020 2020 2072 6571 6c69  )].        reqli
+0000cfc0: 7374 203d 206c 6973 7428 7365 7428 6368  st = list(set(ch
+0000cfd0: 6563 6b69 7465 6d73 292e 6469 6666 6572  eckitems).differ
+0000cfe0: 656e 6365 2869 7465 6d73 5465 7874 4c69  ence(itemsTextLi
+0000cff0: 7374 2929 0a20 2020 2020 2020 2066 6f72  st)).        for
+0000d000: 2069 2069 6e20 7265 716c 6973 743a 0a20   i in reqlist:. 
+0000d010: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000d020: 6175 745f 636f 7265 5f67 656f 6d65 7472  aut_core_geometr
+0000d030: 795f 6261 736b 6574 5f6c 6973 7457 6964  y_basket_listWid
+0000d040: 6765 742e 6164 6449 7465 6d28 6929 0a20  get.addItem(i). 
+0000d050: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000d060: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
+0000d070: 2020 2064 6566 206f 6e63 6765 6f6d 616e     def oncgeoman
+0000d080: 7561 6c4d 756c 7469 706c 6543 6c69 636b  ualMultipleClick
+0000d090: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
+0000d0a0: 2020 2222 224d 616e 7561 6c2e 2222 220a    """Manual.""".
+0000d0b0: 2020 2020 2020 2020 6974 656d 7320 3d20          items = 
+0000d0c0: 5b5d 0a0a 2020 2020 2020 2020 6966 2073  []..        if s
+0000d0d0: 656c 662e 6175 745f 6d69 6e5f 636f 7265  elf.aut_min_core
+0000d0e0: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
+0000d0f0: 7465 7874 2829 2061 6e64 2073 656c 662e  text() and self.
+0000d100: 6175 745f 6d61 785f 636f 7265 5f77 6964  aut_max_core_wid
+0000d110: 7468 5f6c 696e 6545 6469 742e 7465 7874  th_lineEdit.text
+0000d120: 2829 2061 6e64 2073 656c 662e 6175 745f  () and self.aut_
+0000d130: 7374 6570 5f63 6f72 655f 7769 6474 685f  step_core_width_
+0000d140: 6c69 6e65 4564 6974 2e74 6578 7428 2920  lineEdit.text() 
+0000d150: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+0000d160: 2020 616e 6420 7365 6c66 2e61 7574 5f6d    and self.aut_m
+0000d170: 696e 5f77 696e 646f 775f 6865 6967 6874  in_window_height
+0000d180: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+0000d190: 2061 6e64 2073 656c 662e 6175 745f 6d61   and self.aut_ma
+0000d1a0: 785f 7769 6e64 6f77 5f68 6569 6768 745f  x_window_height_
+0000d1b0: 6c69 6e65 4564 6974 2e74 6578 7428 2920  lineEdit.text() 
+0000d1c0: 616e 6420 7365 6c66 2e61 7574 5f73 7465  and self.aut_ste
+0000d1d0: 705f 7769 6e64 6f77 5f68 6569 6768 745f  p_window_height_
+0000d1e0: 6c69 6e65 4564 6974 2e74 6578 7428 2920  lineEdit.text() 
+0000d1f0: 5c0a 2020 2020 2020 2020 2020 2020 2020  \.              
+0000d200: 2020 616e 6420 7365 6c66 2e61 7574 5f6d    and self.aut_m
+0000d210: 696e 5f77 696e 646f 775f 7769 6474 685f  in_window_width_
+0000d220: 6c69 6e65 4564 6974 2e74 6578 7428 2920  lineEdit.text() 
+0000d230: 616e 6420 7365 6c66 2e61 7574 5f6d 6178  and self.aut_max
+0000d240: 5f77 696e 646f 775f 7769 6474 685f 6c69  _window_width_li
+0000d250: 6e65 4564 6974 2e74 6578 7428 2920 616e  neEdit.text() an
+0000d260: 6420 7365 6c66 2e61 7574 5f73 7465 705f  d self.aut_step_
+0000d270: 7769 6e64 6f77 5f77 6964 7468 5f6c 696e  window_width_lin
+0000d280: 6545 6469 742e 7465 7874 2829 3a0a 2020  eEdit.text():.  
+0000d290: 2020 2020 2020 2020 2020 6974 656d 732e            items.
+0000d2a0: 6170 7065 6e64 280a 2020 2020 2020 2020  append(.        
+0000d2b0: 2020 2020 2020 2020 6622 7b73 656c 662e          f"{self.
+0000d2c0: 6175 745f 6d69 6e5f 636f 7265 5f77 6964  aut_min_core_wid
+0000d2d0: 7468 5f6c 696e 6545 6469 742e 7465 7874  th_lineEdit.text
+0000d2e0: 2829 7d2a 220a 2020 2020 2020 2020 2020  ()}*".          
+0000d2f0: 2020 2020 2020 6622 7b73 656c 662e 6175        f"{self.au
+0000d300: 745f 6d69 6e5f 7769 6e64 6f77 5f68 6569  t_min_window_hei
+0000d310: 6768 745f 6c69 6e65 4564 6974 2e74 6578  ght_lineEdit.tex
+0000d320: 7428 297d 2a7b 7365 6c66 2e61 7574 5f6d  t()}*{self.aut_m
+0000d330: 696e 5f77 696e 646f 775f 7769 6474 685f  in_window_width_
+0000d340: 6c69 6e65 4564 6974 2e74 6578 7428 297d  lineEdit.text()}
+0000d350: 2028 6d69 6e20 7661 6c75 6529 2229 0a20   (min value)"). 
+0000d360: 2020 2020 2020 2069 7465 6d73 5465 7874         itemsText
+0000d370: 4c69 7374 203d 205b 7374 7228 7365 6c66  List = [str(self
+0000d380: 2e61 7574 5f63 6f72 655f 6765 6f6d 6574  .aut_core_geomet
+0000d390: 7279 5f6d 616e 7561 6c5f 6261 736b 6574  ry_manual_basket
+0000d3a0: 5f6c 6973 7457 6964 6765 742e 6974 656d  _listWidget.item
+0000d3b0: 2869 292e 7465 7874 2829 2920 666f 7220  (i).text()) for 
+0000d3c0: 6920 696e 0a20 2020 2020 2020 2020 2020  i in.           
+0000d3d0: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+0000d3e0: 6e67 6528 7365 6c66 2e61 7574 5f63 6f72  nge(self.aut_cor
+0000d3f0: 655f 6765 6f6d 6574 7279 5f6d 616e 7561  e_geometry_manua
+0000d400: 6c5f 6261 736b 6574 5f6c 6973 7457 6964  l_basket_listWid
+0000d410: 6765 742e 636f 756e 7428 2929 5d0a 2020  get.count())].  
+0000d420: 2020 2020 2020 666f 7220 6920 696e 2069        for i in i
+0000d430: 7465 6d73 3a0a 2020 2020 2020 2020 2020  tems:.          
+0000d440: 2020 6966 2069 206e 6f74 2069 6e20 6974    if i not in it
+0000d450: 656d 7354 6578 744c 6973 743a 0a20 2020  emsTextList:.   
+0000d460: 2020 2020 2020 2020 2020 2020 2073 656c               sel
+0000d470: 662e 6175 745f 636f 7265 5f67 656f 6d65  f.aut_core_geome
+0000d480: 7472 795f 6d61 6e75 616c 5f62 6173 6b65  try_manual_baske
+0000d490: 745f 6c69 7374 5769 6467 6574 2e61 6464  t_listWidget.add
+0000d4a0: 4974 656d 2869 290a 0a20 2020 2064 6566  Item(i)..    def
+0000d4b0: 2063 6765 6f73 656c 6563 7461 6c6c 2873   cgeoselectall(s
+0000d4c0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+0000d4d0: 2253 656c 6563 7420 616c 6c20 7468 6520  "Select all the 
+0000d4e0: 6368 6f69 6365 732e 2222 220a 2020 2020  choices.""".    
+0000d4f0: 2020 2020 7365 6c66 2e61 7574 5f63 6f72      self.aut_cor
+0000d500: 655f 6765 6f6d 6574 7279 5f6c 6973 7457  e_geometry_listW
+0000d510: 6964 6765 742e 7365 6c65 6374 416c 6c28  idget.selectAll(
+0000d520: 290a 0a20 2020 2064 6566 206f 6e63 6765  )..    def oncge
+0000d530: 6f43 6c69 636b 6564 2873 656c 6629 3a0a  oClicked(self):.
+0000d540: 2020 2020 2020 2020 2222 2241 6464 2061          """Add a
+0000d550: 2063 686f 6963 6520 6279 2063 6c69 636b   choice by click
+0000d560: 2074 6f20 7468 6520 6261 736b 6574 2069   to the basket i
+0000d570: 6620 6974 2069 7320 6e6f 7420 616c 7265  f it is not alre
+0000d580: 6164 7920 696e 2074 6865 2062 6173 6b65  ady in the baske
+0000d590: 742e 2222 220a 2020 2020 2020 2020 6974  t.""".        it
+0000d5a0: 656d 7354 6578 744c 6973 7420 3d20 5b73  emsTextList = [s
+0000d5b0: 7472 2873 656c 662e 6175 745f 636f 7265  tr(self.aut_core
+0000d5c0: 5f67 656f 6d65 7472 795f 6261 736b 6574  _geometry_basket
+0000d5d0: 5f6c 6973 7457 6964 6765 742e 6974 656d  _listWidget.item
+0000d5e0: 2869 292e 7465 7874 2829 2920 666f 7220  (i).text()) for 
+0000d5f0: 6920 696e 0a20 2020 2020 2020 2020 2020  i in.           
+0000d600: 2020 2020 2020 2020 2020 2020 2020 7261                ra
+0000d610: 6e67 6528 7365 6c66 2e61 7574 5f63 6f72  nge(self.aut_cor
+0000d620: 655f 6765 6f6d 6574 7279 5f62 6173 6b65  e_geometry_baske
+0000d630: 745f 6c69 7374 5769 6467 6574 2e63 6f75  t_listWidget.cou
+0000d640: 6e74 2829 295d 0a20 2020 2020 2020 2063  nt())].        c
+0000d650: 6865 636b 6974 656d 203d 2073 656c 662e  heckitem = self.
+0000d660: 6175 745f 636f 7265 5f67 656f 6d65 7472  aut_core_geometr
+0000d670: 795f 6c69 7374 5769 6467 6574 2e63 7572  y_listWidget.cur
+0000d680: 7265 6e74 4974 656d 2829 2e74 6578 7428  rentItem().text(
+0000d690: 290a 2020 2020 2020 2020 6966 2063 6865  ).        if che
+0000d6a0: 636b 6974 656d 206e 6f74 2069 6e20 6974  ckitem not in it
+0000d6b0: 656d 7354 6578 744c 6973 743a 0a20 2020  emsTextList:.   
+0000d6c0: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+0000d6d0: 745f 636f 7265 5f67 656f 6d65 7472 795f  t_core_geometry_
+0000d6e0: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
+0000d6f0: 742e 6164 6449 7465 6d28 7365 6c66 2e61  t.addItem(self.a
+0000d700: 7574 5f63 6f72 655f 6765 6f6d 6574 7279  ut_core_geometry
+0000d710: 5f6c 6973 7457 6964 6765 742e 6375 7272  _listWidget.curr
+0000d720: 656e 7449 7465 6d28 292e 7465 7874 2829  entItem().text()
+0000d730: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+0000d740: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+0000d750: 0a0a 2020 2020 6465 6620 6f6e 6169 7267  ..    def onairg
+0000d760: 6170 7479 7065 436c 6561 7261 6c6c 436c  aptypeClearallCl
+0000d770: 6963 6b65 6428 7365 6c66 293a 0a20 2020  icked(self):.   
+0000d780: 2020 2020 2022 2222 436c 6561 7220 616c       """Clear al
+0000d790: 6c20 7468 6520 656e 7472 6965 732e 2222  l the entries.""
+0000d7a0: 220a 2020 2020 2020 2020 7365 6c66 2e61  ".        self.a
+0000d7b0: 7574 5f61 6972 6761 705f 7479 7065 5f62  ut_airgap_type_b
+0000d7c0: 6173 6b65 745f 6c69 7374 7769 6467 6574  asket_listwidget
+0000d7d0: 2e63 6c65 6172 2829 0a0a 2020 2020 6465  .clear()..    de
+0000d7e0: 6620 6f6e 6169 7267 6170 7479 7065 436c  f onairgaptypeCl
+0000d7f0: 6561 7243 6c69 636b 6564 2873 656c 6629  earClicked(self)
+0000d800: 3a0a 2020 2020 2020 2020 2222 2243 6c65  :.        """Cle
+0000d810: 6172 2074 6865 2073 656c 6563 7465 6420  ar the selected 
+0000d820: 656e 7472 792e 2222 220a 2020 2020 2020  entry.""".      
+0000d830: 2020 4c69 7374 5f69 7465 6d20 3d20 7365    List_item = se
+0000d840: 6c66 2e61 7574 5f61 6972 6761 705f 7479  lf.aut_airgap_ty
+0000d850: 7065 5f62 6173 6b65 745f 6c69 7374 7769  pe_basket_listwi
+0000d860: 6467 6574 2e73 656c 6563 7465 6449 7465  dget.selectedIte
+0000d870: 6d73 2829 0a20 2020 2020 2020 2066 6f72  ms().        for
+0000d880: 2069 7465 6d20 696e 204c 6973 745f 6974   item in List_it
+0000d890: 656d 3a0a 2020 2020 2020 2020 2020 2020  em:.            
+0000d8a0: 7365 6c66 2e61 7574 5f61 6972 6761 705f  self.aut_airgap_
+0000d8b0: 7479 7065 5f62 6173 6b65 745f 6c69 7374  type_basket_list
+0000d8c0: 7769 6467 6574 2e74 616b 6549 7465 6d28  widget.takeItem(
+0000d8d0: 7365 6c66 2e61 7574 5f61 6972 6761 705f  self.aut_airgap_
+0000d8e0: 7479 7065 5f62 6173 6b65 745f 6c69 7374  type_basket_list
+0000d8f0: 7769 6467 6574 2e72 6f77 2869 7465 6d29  widget.row(item)
+0000d900: 290a 0a20 2020 2064 6566 206f 6e61 6972  )..    def onair
+0000d910: 6761 7074 7970 654d 756c 7469 706c 6543  gaptypeMultipleC
+0000d920: 6c69 636b 6564 2873 656c 6629 3a0a 2020  licked(self):.  
+0000d930: 2020 2020 2020 2222 2241 6363 6570 7420        """Accept 
+0000d940: 6d75 6c74 6970 6c65 2063 686f 6963 6573  multiple choices
+0000d950: 2e22 2222 0a20 2020 2020 2020 2069 7465  .""".        ite
+0000d960: 6d73 5465 7874 4c69 7374 203d 205b 7374  msTextList = [st
+0000d970: 7228 7365 6c66 2e61 7574 5f61 6972 6761  r(self.aut_airga
+0000d980: 705f 7479 7065 5f62 6173 6b65 745f 6c69  p_type_basket_li
+0000d990: 7374 7769 6467 6574 2e69 7465 6d28 6929  stwidget.item(i)
+0000d9a0: 2e74 6578 7428 2929 2066 6f72 2069 2069  .text()) for i i
+0000d9b0: 6e0a 2020 2020 2020 2020 2020 2020 2020  n.              
+0000d9c0: 2020 2020 2020 2020 2020 2072 616e 6765             range
+0000d9d0: 2873 656c 662e 6175 745f 6169 7267 6170  (self.aut_airgap
+0000d9e0: 5f74 7970 655f 6261 736b 6574 5f6c 6973  _type_basket_lis
+0000d9f0: 7477 6964 6765 742e 636f 756e 7428 2929  twidget.count())
+0000da00: 5d0a 2020 2020 2020 2020 6368 6563 6b69  ].        checki
+0000da10: 7465 6d73 203d 205b 6974 656d 2e74 6578  tems = [item.tex
+0000da20: 7428 2920 666f 7220 6974 656d 2069 6e20  t() for item in 
+0000da30: 7365 6c66 2e61 7574 5f61 6972 6761 705f  self.aut_airgap_
+0000da40: 7479 7065 5f6c 6973 7457 6964 6765 742e  type_listWidget.
+0000da50: 7365 6c65 6374 6564 4974 656d 7328 295d  selectedItems()]
+0000da60: 0a20 2020 2020 2020 2072 6571 6c69 7374  .        reqlist
+0000da70: 203d 206c 6973 7428 7365 7428 6368 6563   = list(set(chec
+0000da80: 6b69 7465 6d73 292e 6469 6666 6572 656e  kitems).differen
+0000da90: 6365 2869 7465 6d73 5465 7874 4c69 7374  ce(itemsTextList
+0000daa0: 2929 0a20 2020 2020 2020 2066 6f72 2069  )).        for i
+0000dab0: 2069 6e20 7265 716c 6973 743a 0a20 2020   in reqlist:.   
+0000dac0: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+0000dad0: 745f 6169 7267 6170 5f74 7970 655f 6261  t_airgap_type_ba
+0000dae0: 736b 6574 5f6c 6973 7477 6964 6765 742e  sket_listwidget.
+0000daf0: 6164 6449 7465 6d28 6929 0a20 2020 2020  addItem(i).     
+0000db00: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
+0000db10: 2020 2020 2070 6173 730a 0a20 2020 2064       pass..    d
+0000db20: 6566 206f 6e61 6972 6761 7074 7970 6543  ef onairgaptypeC
+0000db30: 6c69 636b 6564 2873 656c 6629 3a0a 2020  licked(self):.  
+0000db40: 2020 2020 2020 2222 2241 6464 2061 2063        """Add a c
+0000db50: 686f 6963 6520 6279 2063 6c69 636b 2074  hoice by click t
+0000db60: 6f20 7468 6520 6261 736b 6574 2069 6620  o the basket if 
+0000db70: 6974 2069 7320 6e6f 7420 616c 7265 6164  it is not alread
+0000db80: 7920 696e 2074 6865 2062 6173 6b65 742e  y in the basket.
+0000db90: 2222 220a 2020 2020 2020 2020 6974 656d  """.        item
+0000dba0: 7354 6578 744c 6973 7420 3d20 5b73 7472  sTextList = [str
+0000dbb0: 2873 656c 662e 6175 745f 6169 7267 6170  (self.aut_airgap
+0000dbc0: 5f74 7970 655f 6261 736b 6574 5f6c 6973  _type_basket_lis
+0000dbd0: 7477 6964 6765 742e 6974 656d 2869 292e  twidget.item(i).
+0000dbe0: 7465 7874 2829 2920 666f 7220 6920 696e  text()) for i in
+0000dbf0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0000dc00: 2020 2020 2020 2020 2020 7261 6e67 6528            range(
+0000dc10: 7365 6c66 2e61 7574 5f61 6972 6761 705f  self.aut_airgap_
+0000dc20: 7479 7065 5f62 6173 6b65 745f 6c69 7374  type_basket_list
+0000dc30: 7769 6467 6574 2e63 6f75 6e74 2829 295d  widget.count())]
+0000dc40: 0a20 2020 2020 2020 2063 6865 636b 6974  .        checkit
+0000dc50: 656d 203d 2073 656c 662e 6175 745f 6169  em = self.aut_ai
+0000dc60: 7267 6170 5f74 7970 655f 6c69 7374 5769  rgap_type_listWi
+0000dc70: 6467 6574 2e63 7572 7265 6e74 4974 656d  dget.currentItem
+0000dc80: 2829 2e74 6578 7428 290a 2020 2020 2020  ().text().      
+0000dc90: 2020 6966 2063 6865 636b 6974 656d 206e    if checkitem n
+0000dca0: 6f74 2069 6e20 6974 656d 7354 6578 744c  ot in itemsTextL
+0000dcb0: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
+0000dcc0: 2073 656c 662e 6175 745f 6169 7267 6170   self.aut_airgap
+0000dcd0: 5f74 7970 655f 6261 736b 6574 5f6c 6973  _type_basket_lis
+0000dce0: 7477 6964 6765 742e 6164 6449 7465 6d28  twidget.addItem(
+0000dcf0: 7365 6c66 2e61 7574 5f61 6972 6761 705f  self.aut_airgap_
+0000dd00: 7479 7065 5f6c 6973 7457 6964 6765 742e  type_listWidget.
+0000dd10: 6375 7272 656e 7449 7465 6d28 292e 7465  currentItem().te
+0000dd20: 7874 2829 290a 2020 2020 2020 2020 656c  xt()).        el
+0000dd30: 7365 3a0a 2020 2020 2020 2020 2020 2020  se:.            
+0000dd40: 7061 7373 0a0a 2020 2020 6465 6620 6169  pass..    def ai
+0000dd50: 7267 6170 7479 7065 7365 6c65 6374 616c  rgaptypeselectal
+0000dd60: 6c28 7365 6c66 293a 0a20 2020 2020 2020  l(self):.       
+0000dd70: 2022 2222 5365 6c65 6374 2061 6c6c 2074   """Select all t
+0000dd80: 6865 2063 686f 6963 6573 2e22 2222 0a20  he choices.""". 
+0000dd90: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+0000dda0: 6169 7267 6170 5f74 7970 655f 6c69 7374  airgap_type_list
+0000ddb0: 5769 6467 6574 2e73 656c 6563 7441 6c6c  Widget.selectAll
+0000ddc0: 2829 0a0a 2020 2020 6465 6620 6f6e 636d  ()..    def oncm
+0000ddd0: 6174 436c 6561 7261 6c6c 436c 6963 6b65  atClearallClicke
+0000dde0: 6428 7365 6c66 293a 0a20 2020 2020 2020  d(self):.       
+0000ddf0: 2022 2222 436c 6561 7220 616c 6c20 656e   """Clear all en
+0000de00: 7472 6965 732e 2222 220a 2020 2020 2020  tries.""".      
+0000de10: 2020 7365 6c66 2e61 7574 5f63 6f72 655f    self.aut_core_
+0000de20: 6d61 7465 7269 616c 5f62 6173 6b65 745f  material_basket_
+0000de30: 6c69 7374 5769 6467 6574 2e63 6c65 6172  listWidget.clear
+0000de40: 2829 0a0a 2020 2020 6465 6620 6f6e 636d  ()..    def oncm
+0000de50: 6174 436c 6561 7243 6c69 636b 6564 2873  atClearClicked(s
+0000de60: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+0000de70: 2243 6c65 6172 2074 6865 2073 656c 6563  "Clear the selec
+0000de80: 7465 6420 656e 7472 792e 2222 220a 2020  ted entry.""".  
+0000de90: 2020 2020 2020 4c69 7374 5f69 7465 6d20        List_item 
+0000dea0: 3d20 7365 6c66 2e61 7574 5f63 6f72 655f  = self.aut_core_
+0000deb0: 6d61 7465 7269 616c 5f62 6173 6b65 745f  material_basket_
+0000dec0: 6c69 7374 5769 6467 6574 2e73 656c 6563  listWidget.selec
+0000ded0: 7465 6449 7465 6d73 2829 0a20 2020 2020  tedItems().     
+0000dee0: 2020 2066 6f72 2069 7465 6d20 696e 204c     for item in L
+0000def0: 6973 745f 6974 656d 3a0a 2020 2020 2020  ist_item:.      
+0000df00: 2020 2020 2020 7365 6c66 2e61 7574 5f63        self.aut_c
+0000df10: 6f72 655f 6d61 7465 7269 616c 5f62 6173  ore_material_bas
+0000df20: 6b65 745f 6c69 7374 5769 6467 6574 2e74  ket_listWidget.t
+0000df30: 616b 6549 7465 6d28 7365 6c66 2e61 7574  akeItem(self.aut
+0000df40: 5f63 6f72 655f 6d61 7465 7269 616c 5f62  _core_material_b
+0000df50: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
+0000df60: 2e72 6f77 2869 7465 6d29 290a 0a20 2020  .row(item))..   
+0000df70: 2064 6566 206f 6e63 6d61 744d 756c 7469   def oncmatMulti
+0000df80: 706c 6543 6c69 636b 6564 2873 656c 6629  pleClicked(self)
+0000df90: 3a0a 2020 2020 2020 2020 2222 2241 6363  :.        """Acc
+0000dfa0: 6570 7420 6d75 6c74 6970 6c65 2063 686f  ept multiple cho
+0000dfb0: 6963 6573 2e22 2222 0a20 2020 2020 2020  ices.""".       
+0000dfc0: 2069 7465 6d73 5465 7874 4c69 7374 203d   itemsTextList =
+0000dfd0: 205b 7374 7228 7365 6c66 2e61 7574 5f63   [str(self.aut_c
+0000dfe0: 6f72 655f 6d61 7465 7269 616c 5f62 6173  ore_material_bas
+0000dff0: 6b65 745f 6c69 7374 5769 6467 6574 2e69  ket_listWidget.i
+0000e000: 7465 6d28 6929 2e74 6578 7428 2929 2066  tem(i).text()) f
+0000e010: 6f72 2069 2069 6e0a 2020 2020 2020 2020  or i in.        
+0000e020: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e030: 2072 616e 6765 2873 656c 662e 6175 745f   range(self.aut_
+0000e040: 636f 7265 5f6d 6174 6572 6961 6c5f 6261  core_material_ba
+0000e050: 736b 6574 5f6c 6973 7457 6964 6765 742e  sket_listWidget.
+0000e060: 636f 756e 7428 2929 5d0a 2020 2020 2020  count())].      
+0000e070: 2020 6368 6563 6b69 7465 6d73 203d 205b    checkitems = [
+0000e080: 6974 656d 2e74 6578 7428 2920 666f 7220  item.text() for 
+0000e090: 6974 656d 2069 6e20 7365 6c66 2e61 7574  item in self.aut
+0000e0a0: 5f63 6f72 655f 6d61 7465 7269 616c 5f64  _core_material_d
+0000e0b0: 6174 615f 6c69 7374 5769 6467 6574 2e73  ata_listWidget.s
+0000e0c0: 656c 6563 7465 6449 7465 6d73 2829 5d0a  electedItems()].
+0000e0d0: 2020 2020 2020 2020 7265 716c 6973 7420          reqlist 
+0000e0e0: 3d20 6c69 7374 2873 6574 2863 6865 636b  = list(set(check
+0000e0f0: 6974 656d 7329 2e64 6966 6665 7265 6e63  items).differenc
+0000e100: 6528 6974 656d 7354 6578 744c 6973 7429  e(itemsTextList)
+0000e110: 290a 2020 2020 2020 2020 666f 7220 6920  ).        for i 
+0000e120: 696e 2072 6571 6c69 7374 3a0a 2020 2020  in reqlist:.    
+0000e130: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+0000e140: 5f63 6f72 655f 6d61 7465 7269 616c 5f62  _core_material_b
+0000e150: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
+0000e160: 2e61 6464 4974 656d 2869 290a 2020 2020  .addItem(i).    
+0000e170: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0000e180: 2020 2020 2020 7061 7373 0a0a 2020 2020        pass..    
+0000e190: 6465 6620 636d 6174 7365 6c65 6374 616c  def cmatselectal
+0000e1a0: 6c28 7365 6c66 293a 0a20 2020 2020 2020  l(self):.       
+0000e1b0: 2022 2222 5365 6c65 6374 2061 6c6c 2074   """Select all t
+0000e1c0: 6865 2063 686f 6963 6573 2e22 2222 0a20  he choices.""". 
+0000e1d0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+0000e1e0: 636f 7265 5f6d 6174 6572 6961 6c5f 6461  core_material_da
+0000e1f0: 7461 5f6c 6973 7457 6964 6765 742e 7365  ta_listWidget.se
+0000e200: 6c65 6374 416c 6c28 290a 0a20 2020 2064  lectAll()..    d
+0000e210: 6566 206f 6e63 6d61 7443 6c69 636b 6564  ef oncmatClicked
+0000e220: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000e230: 2222 2241 6464 2061 2063 686f 6963 6520  """Add a choice 
+0000e240: 6279 2063 6c69 636b 2074 6f20 7468 6520  by click to the 
+0000e250: 6261 736b 6574 2069 6620 6974 2069 7320  basket if it is 
+0000e260: 6e6f 7420 616c 7265 6164 7920 696e 2074  not already in t
+0000e270: 6865 2062 6173 6b65 742e 2222 220a 2020  he basket.""".  
+0000e280: 2020 2020 2020 6974 656d 7354 6578 744c        itemsTextL
+0000e290: 6973 7420 3d20 5b73 7472 2873 656c 662e  ist = [str(self.
+0000e2a0: 6175 745f 636f 7265 5f6d 6174 6572 6961  aut_core_materia
+0000e2b0: 6c5f 6261 736b 6574 5f6c 6973 7457 6964  l_basket_listWid
+0000e2c0: 6765 742e 6974 656d 2869 292e 7465 7874  get.item(i).text
+0000e2d0: 2829 2920 666f 7220 6920 696e 0a20 2020  ()) for i in.   
+0000e2e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000e2f0: 2020 2020 2020 7261 6e67 6528 7365 6c66        range(self
+0000e300: 2e61 7574 5f63 6f72 655f 6d61 7465 7269  .aut_core_materi
+0000e310: 616c 5f62 6173 6b65 745f 6c69 7374 5769  al_basket_listWi
+0000e320: 6467 6574 2e63 6f75 6e74 2829 295d 0a20  dget.count())]. 
+0000e330: 2020 2020 2020 2063 6865 636b 6974 656d         checkitem
+0000e340: 203d 2073 656c 662e 6175 745f 636f 7265   = self.aut_core
+0000e350: 5f6d 6174 6572 6961 6c5f 6461 7461 5f6c  _material_data_l
+0000e360: 6973 7457 6964 6765 742e 6375 7272 656e  istWidget.curren
+0000e370: 7449 7465 6d28 292e 7465 7874 2829 0a20  tItem().text(). 
+0000e380: 2020 2020 2020 2069 6620 6368 6563 6b69         if checki
+0000e390: 7465 6d20 6e6f 7420 696e 2069 7465 6d73  tem not in items
+0000e3a0: 5465 7874 4c69 7374 3a0a 2020 2020 2020  TextList:.      
+0000e3b0: 2020 2020 2020 7365 6c66 2e61 7574 5f63        self.aut_c
+0000e3c0: 6f72 655f 6d61 7465 7269 616c 5f62 6173  ore_material_bas
+0000e3d0: 6b65 745f 6c69 7374 5769 6467 6574 2e61  ket_listWidget.a
+0000e3e0: 6464 4974 656d 280a 2020 2020 2020 2020  ddItem(.        
+0000e3f0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+0000e400: 5f63 6f72 655f 6d61 7465 7269 616c 5f64  _core_material_d
+0000e410: 6174 615f 6c69 7374 5769 6467 6574 2e63  ata_listWidget.c
+0000e420: 7572 7265 6e74 4974 656d 2829 2e74 6578  urrentItem().tex
+0000e430: 7428 2929 0a20 2020 2020 2020 2065 6c73  t()).        els
+0000e440: 653a 0a20 2020 2020 2020 2020 2020 2070  e:.            p
+0000e450: 6173 730a 0a20 2020 2064 6566 206f 6e6c  ass..    def onl
+0000e460: 3143 6c65 6172 616c 6c43 6c69 636b 6564  1ClearallClicked
+0000e470: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000e480: 2222 2243 6c65 6172 2061 6c6c 2065 6e74  """Clear all ent
+0000e490: 7269 6573 2e22 2222 0a20 2020 2020 2020  ries.""".       
+0000e4a0: 2073 656c 662e 6175 745f 6c69 747a 5f62   self.aut_litz_b
+0000e4b0: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
+0000e4c0: 2e63 6c65 6172 2829 0a0a 2020 2020 6465  .clear()..    de
+0000e4d0: 6620 6f6e 6c31 436c 6561 7243 6c69 636b  f onl1ClearClick
+0000e4e0: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
+0000e4f0: 2020 2222 2243 6c65 6172 2074 6865 2073    """Clear the s
+0000e500: 656c 6563 7465 6420 656e 7472 792e 2222  elected entry.""
+0000e510: 220a 2020 2020 2020 2020 4c69 7374 5f69  ".        List_i
+0000e520: 7465 6d20 3d20 7365 6c66 2e61 7574 5f6c  tem = self.aut_l
+0000e530: 6974 7a5f 6261 736b 6574 5f6c 6973 7457  itz_basket_listW
+0000e540: 6964 6765 742e 7365 6c65 6374 6564 4974  idget.selectedIt
+0000e550: 656d 7328 290a 2020 2020 2020 2020 666f  ems().        fo
+0000e560: 7220 6974 656d 2069 6e20 4c69 7374 5f69  r item in List_i
+0000e570: 7465 6d3a 0a20 2020 2020 2020 2020 2020  tem:.           
+0000e580: 2073 656c 662e 6175 745f 6c69 747a 5f62   self.aut_litz_b
+0000e590: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
+0000e5a0: 2e74 616b 6549 7465 6d28 7365 6c66 2e61  .takeItem(self.a
+0000e5b0: 7574 5f6c 6974 7a5f 6261 736b 6574 5f6c  ut_litz_basket_l
+0000e5c0: 6973 7457 6964 6765 742e 726f 7728 6974  istWidget.row(it
+0000e5d0: 656d 2929 0a0a 2020 2020 6465 6620 6f6e  em))..    def on
+0000e5e0: 6c31 4d75 6c74 6970 6c65 436c 6963 6b65  l1MultipleClicke
+0000e5f0: 6428 7365 6c66 293a 0a20 2020 2020 2020  d(self):.       
+0000e600: 2022 2222 4163 6365 7074 206d 756c 7469   """Accept multi
+0000e610: 706c 6520 6368 6f69 6365 732e 2222 220a  ple choices.""".
+0000e620: 2020 2020 2020 2020 6974 656d 7354 6578          itemsTex
+0000e630: 744c 6973 7420 3d20 5b73 7472 2873 656c  tList = [str(sel
+0000e640: 662e 6175 745f 6c69 747a 5f62 6173 6b65  f.aut_litz_baske
+0000e650: 745f 6c69 7374 5769 6467 6574 2e69 7465  t_listWidget.ite
+0000e660: 6d28 6929 2e74 6578 7428 2929 2066 6f72  m(i).text()) for
+0000e670: 2069 2069 6e0a 2020 2020 2020 2020 2020   i in.          
+0000e680: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000e690: 616e 6765 2873 656c 662e 6175 745f 6c69  ange(self.aut_li
+0000e6a0: 747a 5f62 6173 6b65 745f 6c69 7374 5769  tz_basket_listWi
+0000e6b0: 6467 6574 2e63 6f75 6e74 2829 295d 0a20  dget.count())]. 
+0000e6c0: 2020 2020 2020 2063 6865 636b 6974 656d         checkitem
+0000e6d0: 7320 3d20 5b69 7465 6d2e 7465 7874 2829  s = [item.text()
+0000e6e0: 2066 6f72 2069 7465 6d20 696e 2073 656c   for item in sel
+0000e6f0: 662e 6175 745f 6c69 747a 5f64 6174 615f  f.aut_litz_data_
+0000e700: 6c69 7374 5769 6467 6574 2e73 656c 6563  listWidget.selec
+0000e710: 7465 6449 7465 6d73 2829 5d0a 2020 2020  tedItems()].    
+0000e720: 2020 2020 7265 716c 6973 7420 3d20 6c69      reqlist = li
+0000e730: 7374 2873 6574 2863 6865 636b 6974 656d  st(set(checkitem
+0000e740: 7329 2e64 6966 6665 7265 6e63 6528 6974  s).difference(it
+0000e750: 656d 7354 6578 744c 6973 7429 290a 2020  emsTextList)).  
+0000e760: 2020 2020 2020 666f 7220 6920 696e 2072        for i in r
+0000e770: 6571 6c69 7374 3a0a 2020 2020 2020 2020  eqlist:.        
+0000e780: 2020 2020 7365 6c66 2e61 7574 5f6c 6974      self.aut_lit
+0000e790: 7a5f 6261 736b 6574 5f6c 6973 7457 6964  z_basket_listWid
+0000e7a0: 6765 742e 6164 6449 7465 6d28 6929 0a20  get.addItem(i). 
+0000e7b0: 2020 2020 2020 2065 6c73 653a 0a20 2020         else:.   
+0000e7c0: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
+0000e7d0: 2020 2064 6566 206f 6e6c 3143 6c69 636b     def onl1Click
+0000e7e0: 6564 2873 656c 6629 3a0a 2020 2020 2020  ed(self):.      
+0000e7f0: 2020 2222 2241 6464 2061 2063 686f 6963    """Add a choic
+0000e800: 6520 6279 2063 6c69 636b 2074 6f20 7468  e by click to th
+0000e810: 6520 6261 736b 6574 2069 6620 6974 2069  e basket if it i
+0000e820: 7320 6e6f 7420 616c 7265 6164 7920 696e  s not already in
+0000e830: 2074 6865 2062 6173 6b65 742e 2222 220a   the basket.""".
+0000e840: 2020 2020 2020 2020 6974 656d 7354 6578          itemsTex
+0000e850: 744c 6973 7420 3d20 5b73 7472 2873 656c  tList = [str(sel
+0000e860: 662e 6175 745f 6c69 747a 5f62 6173 6b65  f.aut_litz_baske
+0000e870: 745f 6c69 7374 5769 6467 6574 2e69 7465  t_listWidget.ite
+0000e880: 6d28 6929 2e74 6578 7428 2929 2066 6f72  m(i).text()) for
+0000e890: 2069 2069 6e0a 2020 2020 2020 2020 2020   i in.          
+0000e8a0: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000e8b0: 616e 6765 2873 656c 662e 6175 745f 6c69  ange(self.aut_li
+0000e8c0: 747a 5f62 6173 6b65 745f 6c69 7374 5769  tz_basket_listWi
+0000e8d0: 6467 6574 2e63 6f75 6e74 2829 295d 0a20  dget.count())]. 
+0000e8e0: 2020 2020 2020 2063 6865 636b 6974 656d         checkitem
+0000e8f0: 203d 2073 656c 662e 6175 745f 6c69 747a   = self.aut_litz
+0000e900: 5f64 6174 615f 6c69 7374 5769 6467 6574  _data_listWidget
+0000e910: 2e63 7572 7265 6e74 4974 656d 2829 2e74  .currentItem().t
+0000e920: 6578 7428 290a 2020 2020 2020 2020 6966  ext().        if
+0000e930: 2063 6865 636b 6974 656d 206e 6f74 2069   checkitem not i
+0000e940: 6e20 6974 656d 7354 6578 744c 6973 743a  n itemsTextList:
+0000e950: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000e960: 662e 6175 745f 6c69 747a 5f62 6173 6b65  f.aut_litz_baske
+0000e970: 745f 6c69 7374 5769 6467 6574 2e61 6464  t_listWidget.add
+0000e980: 4974 656d 2873 656c 662e 6175 745f 6c69  Item(self.aut_li
+0000e990: 747a 5f64 6174 615f 6c69 7374 5769 6467  tz_data_listWidg
+0000e9a0: 6574 2e63 7572 7265 6e74 4974 656d 2829  et.currentItem()
+0000e9b0: 2e74 6578 7428 2929 0a20 2020 2020 2020  .text()).       
+0000e9c0: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
+0000e9d0: 2020 2070 6173 730a 0a20 2020 2064 6566     pass..    def
+0000e9e0: 206c 6974 7a31 7365 6c65 6374 616c 6c28   litz1selectall(
+0000e9f0: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
+0000ea00: 2222 5365 6c65 6374 2061 6c6c 2074 6865  ""Select all the
+0000ea10: 2063 686f 6963 6573 2e22 2222 0a20 2020   choices.""".   
+0000ea20: 2020 2020 2073 656c 662e 6175 745f 6c69       self.aut_li
+0000ea30: 747a 5f64 6174 615f 6c69 7374 5769 6467  tz_data_listWidg
+0000ea40: 6574 2e73 656c 6563 7441 6c6c 2829 0a0a  et.selectAll()..
+0000ea50: 2020 2020 6465 6620 6f6e 6c32 436c 6561      def onl2Clea
+0000ea60: 7261 6c6c 436c 6963 6b65 6428 7365 6c66  rallClicked(self
+0000ea70: 293a 0a20 2020 2020 2020 2022 2222 436c  ):.        """Cl
+0000ea80: 6561 7220 616c 6c20 656e 7472 6965 732e  ear all entries.
+0000ea90: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
+0000eaa0: 2e61 7574 5f6c 6974 7a32 5f62 6173 6b65  .aut_litz2_baske
+0000eab0: 745f 6c69 7374 5769 6467 6574 2e63 6c65  t_listWidget.cle
+0000eac0: 6172 2829 0a0a 2020 2020 6465 6620 6f6e  ar()..    def on
+0000ead0: 6c32 436c 6561 7243 6c69 636b 6564 2873  l2ClearClicked(s
+0000eae0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+0000eaf0: 2243 6c65 6172 2074 6865 2073 656c 6563  "Clear the selec
+0000eb00: 7465 6420 656e 7472 792e 2222 220a 2020  ted entry.""".  
+0000eb10: 2020 2020 2020 4c69 7374 5f69 7465 6d20        List_item 
+0000eb20: 3d20 7365 6c66 2e61 7574 5f6c 6974 7a32  = self.aut_litz2
+0000eb30: 5f62 6173 6b65 745f 6c69 7374 5769 6467  _basket_listWidg
+0000eb40: 6574 2e73 656c 6563 7465 6449 7465 6d73  et.selectedItems
+0000eb50: 2829 0a20 2020 2020 2020 2066 6f72 2069  ().        for i
+0000eb60: 7465 6d20 696e 204c 6973 745f 6974 656d  tem in List_item
+0000eb70: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0000eb80: 6c66 2e61 7574 5f6c 6974 7a32 5f62 6173  lf.aut_litz2_bas
+0000eb90: 6b65 745f 6c69 7374 5769 6467 6574 2e74  ket_listWidget.t
+0000eba0: 616b 6549 7465 6d28 7365 6c66 2e61 7574  akeItem(self.aut
+0000ebb0: 5f6c 6974 7a32 5f62 6173 6b65 745f 6c69  _litz2_basket_li
+0000ebc0: 7374 5769 6467 6574 2e72 6f77 2869 7465  stWidget.row(ite
+0000ebd0: 6d29 290a 0a20 2020 2064 6566 206f 6e6c  m))..    def onl
+0000ebe0: 324d 756c 7469 706c 6543 6c69 636b 6564  2MultipleClicked
+0000ebf0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+0000ec00: 2222 2241 6363 6570 7420 6d75 6c74 6970  """Accept multip
+0000ec10: 6c65 2063 686f 6963 6573 2e22 2222 0a20  le choices.""". 
+0000ec20: 2020 2020 2020 2069 7465 6d73 5465 7874         itemsText
+0000ec30: 4c69 7374 203d 205b 7374 7228 7365 6c66  List = [str(self
+0000ec40: 2e61 7574 5f6c 6974 7a32 5f62 6173 6b65  .aut_litz2_baske
+0000ec50: 745f 6c69 7374 5769 6467 6574 2e69 7465  t_listWidget.ite
+0000ec60: 6d28 6929 2e74 6578 7428 2929 2066 6f72  m(i).text()) for
+0000ec70: 2069 2069 6e0a 2020 2020 2020 2020 2020   i in.          
+0000ec80: 2020 2020 2020 2020 2020 2020 2020 2072                 r
+0000ec90: 616e 6765 2873 656c 662e 6175 745f 6c69  ange(self.aut_li
+0000eca0: 747a 325f 6261 736b 6574 5f6c 6973 7457  tz2_basket_listW
+0000ecb0: 6964 6765 742e 636f 756e 7428 2929 5d0a  idget.count())].
+0000ecc0: 2020 2020 2020 2020 6368 6563 6b69 7465          checkite
+0000ecd0: 6d73 203d 205b 6974 656d 2e74 6578 7428  ms = [item.text(
+0000ece0: 2920 666f 7220 6974 656d 2069 6e20 7365  ) for item in se
+0000ecf0: 6c66 2e61 7574 5f6c 6974 7a32 5f64 6174  lf.aut_litz2_dat
+0000ed00: 615f 6c69 7374 5769 6467 6574 2e73 656c  a_listWidget.sel
+0000ed10: 6563 7465 6449 7465 6d73 2829 5d0a 2020  ectedItems()].  
+0000ed20: 2020 2020 2020 7265 716c 6973 7420 3d20        reqlist = 
+0000ed30: 6c69 7374 2873 6574 2863 6865 636b 6974  list(set(checkit
+0000ed40: 656d 7329 2e64 6966 6665 7265 6e63 6528  ems).difference(
+0000ed50: 6974 656d 7354 6578 744c 6973 7429 290a  itemsTextList)).
+0000ed60: 2020 2020 2020 2020 666f 7220 6920 696e          for i in
+0000ed70: 2072 6571 6c69 7374 3a0a 2020 2020 2020   reqlist:.      
+0000ed80: 2020 2020 2020 7365 6c66 2e61 7574 5f6c        self.aut_l
+0000ed90: 6974 7a32 5f62 6173 6b65 745f 6c69 7374  itz2_basket_list
+0000eda0: 5769 6467 6574 2e61 6464 4974 656d 2869  Widget.addItem(i
+0000edb0: 290a 2020 2020 2020 2020 656c 7365 3a0a  ).        else:.
+0000edc0: 2020 2020 2020 2020 2020 2020 7061 7373              pass
+0000edd0: 0a0a 2020 2020 6465 6620 6f6e 6c32 436c  ..    def onl2Cl
+0000ede0: 6963 6b65 6428 7365 6c66 293a 0a20 2020  icked(self):.   
+0000edf0: 2020 2020 2022 2222 4164 6420 6120 6368       """Add a ch
+0000ee00: 6f69 6365 2062 7920 636c 6963 6b20 746f  oice by click to
+0000ee10: 2074 6865 2062 6173 6b65 7420 6966 2069   the basket if i
+0000ee20: 7420 6973 206e 6f74 2061 6c72 6561 6479  t is not already
+0000ee30: 2069 6e20 7468 6520 6261 736b 6574 2e22   in the basket."
+0000ee40: 2222 0a20 2020 2020 2020 2069 7465 6d73  "".        items
+0000ee50: 5465 7874 4c69 7374 203d 205b 7374 7228  TextList = [str(
+0000ee60: 7365 6c66 2e61 7574 5f6c 6974 7a32 5f62  self.aut_litz2_b
+0000ee70: 6173 6b65 745f 6c69 7374 5769 6467 6574  asket_listWidget
+0000ee80: 2e69 7465 6d28 6929 2e74 6578 7428 2929  .item(i).text())
+0000ee90: 2066 6f72 2069 2069 6e0a 2020 2020 2020   for i in.      
+0000eea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000eeb0: 2020 2072 616e 6765 2873 656c 662e 6175     range(self.au
+0000eec0: 745f 6c69 747a 325f 6261 736b 6574 5f6c  t_litz2_basket_l
+0000eed0: 6973 7457 6964 6765 742e 636f 756e 7428  istWidget.count(
+0000eee0: 2929 5d0a 2020 2020 2020 2020 6368 6563  ))].        chec
+0000eef0: 6b69 7465 6d20 3d20 7365 6c66 2e61 7574  kitem = self.aut
+0000ef00: 5f6c 6974 7a32 5f64 6174 615f 6c69 7374  _litz2_data_list
+0000ef10: 5769 6467 6574 2e63 7572 7265 6e74 4974  Widget.currentIt
+0000ef20: 656d 2829 2e74 6578 7428 290a 2020 2020  em().text().    
+0000ef30: 2020 2020 6966 2063 6865 636b 6974 656d      if checkitem
+0000ef40: 206e 6f74 2069 6e20 6974 656d 7354 6578   not in itemsTex
+0000ef50: 744c 6973 743a 0a20 2020 2020 2020 2020  tList:.         
+0000ef60: 2020 2073 656c 662e 6175 745f 6c69 747a     self.aut_litz
+0000ef70: 325f 6261 736b 6574 5f6c 6973 7457 6964  2_basket_listWid
+0000ef80: 6765 742e 6164 6449 7465 6d28 7365 6c66  get.addItem(self
+0000ef90: 2e61 7574 5f6c 6974 7a32 5f64 6174 615f  .aut_litz2_data_
+0000efa0: 6c69 7374 5769 6467 6574 2e63 7572 7265  listWidget.curre
+0000efb0: 6e74 4974 656d 2829 2e74 6578 7428 2929  ntItem().text())
+0000efc0: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
+0000efd0: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
+0000efe0: 0a20 2020 2064 6566 206c 6974 7a32 7365  .    def litz2se
+0000eff0: 6c65 6374 616c 6c28 7365 6c66 293a 0a20  lectall(self):. 
+0000f000: 2020 2020 2020 2022 2222 5365 6c65 6374         """Select
+0000f010: 2061 6c6c 2074 6865 2063 686f 6963 6573   all the choices
+0000f020: 2e22 2222 0a20 2020 2020 2020 2073 656c  .""".        sel
+0000f030: 662e 6175 745f 6c69 747a 325f 6461 7461  f.aut_litz2_data
+0000f040: 5f6c 6973 7457 6964 6765 742e 7365 6c65  _listWidget.sele
+0000f050: 6374 416c 6c28 290a 0a20 2020 2064 6566  ctAll()..    def
+0000f060: 2061 7574 5f69 6e69 7469 616c 697a 655f   aut_initialize_
+0000f070: 636f 6e74 726f 6c73 2873 656c 6629 202d  controls(self) -
+0000f080: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+0000f090: 2222 220a 2020 2020 2020 2020 496e 6974  """.        Init
+0000f0a0: 6961 6c69 7a65 2074 6865 2063 6f6d 626f  ialize the combo
+0000f0b0: 2062 6f78 6573 2077 6974 6820 7072 652d   boxes with pre-
+0000f0c0: 6465 6669 6e65 6420 7661 6c75 6573 2e0a  defined values..
+0000f0d0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+0000f0e0: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
+0000f0f0: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
+0000f100: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0000f110: 6175 745f 7369 6d75 6c61 7469 6f6e 5f74  aut_simulation_t
+0000f120: 7970 655f 6f70 7469 6f6e 7320 3d20 5b73  ype_options = [s
+0000f130: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
+0000f140: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
+0000f150: 5d0a 2020 2020 2020 2020 6175 745f 7769  ].        aut_wi
+0000f160: 6e64 696e 675f 6d61 7465 7269 616c 5f6f  nding_material_o
+0000f170: 7074 696f 6e73 203d 205b 6b65 7920 666f  ptions = [key fo
+0000f180: 7220 6b65 7920 696e 2066 6d74 2e77 6972  r key in fmt.wir
+0000f190: 655f 6d61 7465 7269 616c 5f64 6174 6162  e_material_datab
+0000f1a0: 6173 6528 295d 0a20 2020 2020 2020 2061  ase()].        a
+0000f1b0: 7574 5f77 696e 6469 6e67 5f74 7970 655f  ut_winding_type_
+0000f1c0: 6f70 7469 6f6e 7320 3d20 5b73 656c 662e  options = [self.
+0000f1d0: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+0000f1e0: 5b27 6c69 747a 275d 2c20 7365 6c66 2e74  ['litz'], self.t
+0000f1f0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+0000f200: 2773 6f6c 6964 275d 5d0a 2020 2020 2020  'solid']].      
+0000f210: 2020 6175 745f 696d 706c 6963 6974 5f6c    aut_implicit_l
+0000f220: 6974 7a5f 6f70 7469 6f6e 7320 3d20 5b73  itz_options = [s
+0000f230: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
+0000f240: 6469 6374 5b22 696d 706c 6963 6974 5f6c  dict["implicit_l
+0000f250: 6974 7a5f 7261 6469 7573 225d 2c0a 2020  itz_radius"],.  
+0000f260: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f270: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f280: 2020 2073 656c 662e 7472 616e 736c 6174     self.translat
+0000f290: 696f 6e5f 6469 6374 5b22 696d 706c 6963  ion_dict["implic
+0000f2a0: 6974 5f66 6622 5d2c 0a20 2020 2020 2020  it_ff"],.       
+0000f2b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0000f2c0: 2020 2020 2020 2020 2020 2020 2020 7365                se
+0000f2d0: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+0000f2e0: 6963 745b 2769 6d70 6c69 6369 745f 7374  ict['implicit_st
+0000f2f0: 7261 6e64 735f 6e75 6d62 6572 275d 5d0a  rands_number']].
+0000f300: 2020 2020 2020 2020 6175 745f 7769 6e64          aut_wind
+0000f310: 696e 675f 7363 6865 6d65 5f6f 7074 696f  ing_scheme_optio
+0000f320: 6e73 203d 205b 7365 6c66 2e74 7261 6e73  ns = [self.trans
+0000f330: 6c61 7469 6f6e 5f64 6963 745b 2273 7175  lation_dict["squ
+0000f340: 6172 6522 5d2c 2073 656c 662e 7472 616e  are"], self.tran
+0000f350: 736c 6174 696f 6e5f 6469 6374 5b22 6865  slation_dict["he
+0000f360: 7861 225d 5d0a 2020 2020 2020 2020 6175  xa"]].        au
+0000f370: 745f 746f 6c65 7261 6e63 655f 7661 6c5f  t_tolerance_val_
+0000f380: 6f70 7469 6f6e 7320 3d20 5b73 656c 662e  options = [self.
+0000f390: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+0000f3a0: 5b27 2b2d 3130 275d 2c20 7365 6c66 2e74  ['+-10'], self.t
+0000f3b0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+0000f3c0: 272b 2d32 3027 5d5d 0a20 2020 2020 2020  '+-20']].       
+0000f3d0: 2061 7574 5f63 6f72 655f 6765 6f6d 6574   aut_core_geomet
+0000f3e0: 7279 5f6f 7074 696f 6e73 203d 205b 636f  ry_options = [co
+0000f3f0: 7265 5f67 656f 6d65 7472 7920 666f 7220  re_geometry for 
+0000f400: 636f 7265 5f67 656f 6d65 7472 7920 696e  core_geometry in
+0000f410: 2066 6d74 2e63 6f72 655f 6461 7461 6261   fmt.core_databa
+0000f420: 7365 2829 5d0a 0a20 2020 2020 2020 2067  se()]..        g
+0000f430: 6574 5f6d 6174 6572 6961 6c5f 6c69 7374  et_material_list
+0000f440: 203d 2064 6174 6162 6173 652e 6d61 7465   = database.mate
+0000f450: 7269 616c 5f6c 6973 745f 696e 5f64 6174  rial_list_in_dat
+0000f460: 6162 6173 6528 290a 2020 2020 2020 2020  abase().        
+0000f470: 6765 745f 6d61 7465 7269 616c 5f6c 6973  get_material_lis
+0000f480: 742e 696e 7365 7274 2830 2c20 4e6f 6e65  t.insert(0, None
+0000f490: 290a 2020 2020 2020 2020 6461 745f 636f  ).        dat_co
+0000f4a0: 7265 5f6d 6174 6572 6961 6c5f 6f70 7469  re_material_opti
+0000f4b0: 6f6e 7320 3d20 6765 745f 6d61 7465 7269  ons = get_materi
+0000f4c0: 616c 5f6c 6973 740a 0a20 2020 2020 2020  al_list..       
+0000f4d0: 2066 6f72 206f 7074 696f 6e20 696e 2064   for option in d
+0000f4e0: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
+0000f4f0: 5f6f 7074 696f 6e73 3a0a 2020 2020 2020  _options:.      
+0000f500: 2020 2020 2020 7365 6c66 2e64 6174 5f63        self.dat_c
+0000f510: 6f72 655f 6d61 7465 7269 616c 315f 636f  ore_material1_co
+0000f520: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
+0000f530: 7074 696f 6e29 0a20 2020 2020 2020 2066  ption).        f
+0000f540: 6f72 206f 7074 696f 6e20 696e 2064 6174  or option in dat
+0000f550: 5f63 6f72 655f 6d61 7465 7269 616c 5f6f  _core_material_o
+0000f560: 7074 696f 6e73 3a0a 2020 2020 2020 2020  ptions:.        
+0000f570: 2020 2020 7365 6c66 2e64 6174 5f63 6f72      self.dat_cor
+0000f580: 655f 6d61 7465 7269 616c 325f 636f 6d62  e_material2_comb
+0000f590: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+0000f5a0: 696f 6e29 0a20 2020 2020 2020 2066 6f72  ion).        for
+0000f5b0: 206f 7074 696f 6e20 696e 2064 6174 5f63   option in dat_c
+0000f5c0: 6f72 655f 6d61 7465 7269 616c 5f6f 7074  ore_material_opt
+0000f5d0: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
+0000f5e0: 2020 7365 6c66 2e64 6174 5f63 6f72 655f    self.dat_core_
+0000f5f0: 6d61 7465 7269 616c 335f 636f 6d62 6f42  material3_comboB
+0000f600: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
+0000f610: 6e29 0a20 2020 2020 2020 2066 6f72 206f  n).        for o
+0000f620: 7074 696f 6e20 696e 2064 6174 5f63 6f72  ption in dat_cor
+0000f630: 655f 6d61 7465 7269 616c 5f6f 7074 696f  e_material_optio
+0000f640: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+0000f650: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
+0000f660: 7465 7269 616c 345f 636f 6d62 6f42 6f78  terial4_comboBox
+0000f670: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
+0000f680: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
+0000f690: 696f 6e20 696e 2064 6174 5f63 6f72 655f  ion in dat_core_
+0000f6a0: 6d61 7465 7269 616c 5f6f 7074 696f 6e73  material_options
+0000f6b0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0000f6c0: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
+0000f6d0: 7269 616c 355f 636f 6d62 6f42 6f78 2e61  rial5_comboBox.a
+0000f6e0: 6464 4974 656d 286f 7074 696f 6e29 0a0a  ddItem(option)..
+0000f6f0: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0000f700: 6f6e 2069 6e20 6461 745f 636f 7265 5f6d  on in dat_core_m
+0000f710: 6174 6572 6961 6c5f 6f70 7469 6f6e 733a  aterial_options:
+0000f720: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000f730: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+0000f740: 6961 6c31 5f63 6f6d 626f 426f 785f 322e  ial1_comboBox_2.
+0000f750: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0000f760: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0000f770: 6f6e 2069 6e20 6461 745f 636f 7265 5f6d  on in dat_core_m
+0000f780: 6174 6572 6961 6c5f 6f70 7469 6f6e 733a  aterial_options:
+0000f790: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000f7a0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+0000f7b0: 6961 6c32 5f63 6f6d 626f 426f 785f 322e  ial2_comboBox_2.
+0000f7c0: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0000f7d0: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0000f7e0: 6f6e 2069 6e20 6461 745f 636f 7265 5f6d  on in dat_core_m
+0000f7f0: 6174 6572 6961 6c5f 6f70 7469 6f6e 733a  aterial_options:
+0000f800: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000f810: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+0000f820: 6961 6c33 5f63 6f6d 626f 426f 785f 322e  ial3_comboBox_2.
+0000f830: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0000f840: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0000f850: 6f6e 2069 6e20 6461 745f 636f 7265 5f6d  on in dat_core_m
+0000f860: 6174 6572 6961 6c5f 6f70 7469 6f6e 733a  aterial_options:
+0000f870: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000f880: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+0000f890: 6961 6c34 5f63 6f6d 626f 426f 785f 322e  ial4_comboBox_2.
+0000f8a0: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0000f8b0: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0000f8c0: 6f6e 2069 6e20 6461 745f 636f 7265 5f6d  on in dat_core_m
+0000f8d0: 6174 6572 6961 6c5f 6f70 7469 6f6e 733a  aterial_options:
+0000f8e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000f8f0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+0000f900: 6961 6c35 5f63 6f6d 626f 426f 785f 322e  ial5_comboBox_2.
+0000f910: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0000f920: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
+0000f930: 696f 6e20 696e 2064 6174 5f63 6f72 655f  ion in dat_core_
+0000f940: 6d61 7465 7269 616c 5f6f 7074 696f 6e73  material_options
+0000f950: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0000f960: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
+0000f970: 7269 616c 5f63 6f6d 626f 426f 782e 6164  rial_comboBox.ad
+0000f980: 6449 7465 6d28 6f70 7469 6f6e 290a 0a20  dItem(option).. 
+0000f990: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
+0000f9a0: 6e20 696e 2061 7574 5f63 6f72 655f 6765  n in aut_core_ge
+0000f9b0: 6f6d 6574 7279 5f6f 7074 696f 6e73 3a0a  ometry_options:.
+0000f9c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0000f9d0: 2e61 7574 5f63 6f72 655f 6765 6f6d 6574  .aut_core_geomet
+0000f9e0: 7279 5f6c 6973 7457 6964 6765 742e 6164  ry_listWidget.ad
+0000f9f0: 6449 7465 6d28 6f70 7469 6f6e 290a 2020  dItem(option).  
+0000fa00: 2020 2020 2020 666f 7220 6f70 7469 6f6e        for option
+0000fa10: 2069 6e20 6175 745f 7369 6d75 6c61 7469   in aut_simulati
+0000fa20: 6f6e 5f74 7970 655f 6f70 7469 6f6e 733a  on_type_options:
+0000fa30: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000fa40: 662e 6175 745f 7369 6d75 6c61 7469 6f6e  f.aut_simulation
+0000fa50: 5f74 7970 655f 636f 6d62 6f42 6f78 2e61  _type_comboBox.a
+0000fa60: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
+0000fa70: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
+0000fa80: 6e20 696e 2061 7574 5f77 696e 6469 6e67  n in aut_winding
+0000fa90: 5f6d 6174 6572 6961 6c5f 6f70 7469 6f6e  _material_option
+0000faa0: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0000fab0: 656c 662e 6175 745f 7769 6e64 696e 6731  elf.aut_winding1
+0000fac0: 5f6d 6174 6572 6961 6c5f 636f 6d62 6f42  _material_comboB
+0000fad0: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
+0000fae0: 6e29 0a20 2020 2020 2020 2020 2020 2073  n).            s
+0000faf0: 656c 662e 6175 745f 7769 6e64 696e 6732  elf.aut_winding2
+0000fb00: 5f6d 6174 6572 6961 6c5f 636f 6d62 6f42  _material_comboB
+0000fb10: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
+0000fb20: 6e29 0a20 2020 2020 2020 2066 6f72 206f  n).        for o
+0000fb30: 7074 696f 6e20 696e 2061 7574 5f77 696e  ption in aut_win
+0000fb40: 6469 6e67 5f74 7970 655f 6f70 7469 6f6e  ding_type_option
+0000fb50: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0000fb60: 656c 662e 6175 745f 7769 6e64 696e 6731  elf.aut_winding1
+0000fb70: 5f74 7970 655f 636f 6d62 6f42 6f78 2e61  _type_comboBox.a
+0000fb80: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
+0000fb90: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0000fba0: 6175 745f 7769 6e64 696e 6732 5f74 7970  aut_winding2_typ
+0000fbb0: 655f 636f 6d62 6f42 6f78 2e61 6464 4974  e_comboBox.addIt
+0000fbc0: 656d 286f 7074 696f 6e29 0a20 2020 2020  em(option).     
+0000fbd0: 2020 2066 6f72 206f 7074 696f 6e20 696e     for option in
+0000fbe0: 2061 7574 5f69 6d70 6c69 6369 745f 6c69   aut_implicit_li
+0000fbf0: 747a 5f6f 7074 696f 6e73 3a0a 2020 2020  tz_options:.    
+0000fc00: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+0000fc10: 5f77 696e 6469 6e67 315f 696d 706c 6963  _winding1_implic
+0000fc20: 6974 5f6c 6974 7a5f 636f 6d62 6f42 6f78  it_litz_comboBox
+0000fc30: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
+0000fc40: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0000fc50: 662e 6175 745f 7769 6e64 696e 6732 5f69  f.aut_winding2_i
+0000fc60: 6d70 6c69 6369 745f 6c69 747a 5f63 6f6d  mplicit_litz_com
+0000fc70: 626f 426f 782e 6164 6449 7465 6d28 6f70  boBox.addItem(op
+0000fc80: 7469 6f6e 290a 2020 2020 2020 2020 666f  tion).        fo
+0000fc90: 7220 6f70 7469 6f6e 2069 6e20 6175 745f  r option in aut_
+0000fca0: 7769 6e64 696e 675f 7363 6865 6d65 5f6f  winding_scheme_o
+0000fcb0: 7074 696f 6e73 3a0a 2020 2020 2020 2020  ptions:.        
+0000fcc0: 2020 2020 7365 6c66 2e61 7574 5f77 696e      self.aut_win
+0000fcd0: 6469 6e67 315f 7363 6865 6d65 5f63 6f6d  ding1_scheme_com
+0000fce0: 626f 426f 782e 6164 6449 7465 6d28 6f70  boBox.addItem(op
+0000fcf0: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
+0000fd00: 2020 7365 6c66 2e61 7574 5f77 696e 6469    self.aut_windi
+0000fd10: 6e67 325f 7363 6865 6d65 5f63 6f6d 626f  ng2_scheme_combo
+0000fd20: 426f 782e 6164 6449 7465 6d28 6f70 7469  Box.addItem(opti
+0000fd30: 6f6e 290a 2020 2020 2020 2020 666f 7220  on).        for 
+0000fd40: 6f70 7469 6f6e 2069 6e20 6175 745f 746f  option in aut_to
+0000fd50: 6c65 7261 6e63 655f 7661 6c5f 6f70 7469  lerance_val_opti
+0000fd60: 6f6e 733a 0a20 2020 2020 2020 2020 2020  ons:.           
+0000fd70: 2073 656c 662e 6175 745f 7265 6c5f 746f   self.aut_rel_to
+0000fd80: 6c65 7261 6e63 655f 7661 6c5f 636f 6d62  lerance_val_comb
+0000fd90: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+0000fda0: 696f 6e29 0a20 2020 2020 2020 2066 6f72  ion).        for
+0000fdb0: 206f 7074 696f 6e20 696e 2061 7574 5f74   option in aut_t
+0000fdc0: 6f6c 6572 616e 6365 5f76 616c 5f6f 7074  olerance_val_opt
+0000fdd0: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
+0000fde0: 2020 7365 6c66 2e61 7574 5f6c 6f61 645f    self.aut_load_
+0000fdf0: 746f 6c65 7261 6e63 655f 7661 6c5f 636f  tolerance_val_co
+0000fe00: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
+0000fe10: 7074 696f 6e29 0a0a 2020 2020 2020 2020  ption)..        
+0000fe20: 7365 6c66 2e61 7574 5f6d 696e 5f63 6f72  self.aut_min_cor
+0000fe30: 655f 7769 6474 685f 6c69 6e65 4564 6974  e_width_lineEdit
+0000fe40: 2e73 6574 506c 6163 6568 6f6c 6465 7254  .setPlaceholderT
+0000fe50: 6578 7428 224d 696e 696d 756d 2076 616c  ext("Minimum val
+0000fe60: 7565 2229 0a20 2020 2020 2020 2073 656c  ue").        sel
+0000fe70: 662e 6175 745f 6d61 785f 636f 7265 5f77  f.aut_max_core_w
+0000fe80: 6964 7468 5f6c 696e 6545 6469 742e 7365  idth_lineEdit.se
+0000fe90: 7450 6c61 6365 686f 6c64 6572 5465 7874  tPlaceholderText
+0000fea0: 2822 4d61 7869 6d75 6d20 7661 6c75 6522  ("Maximum value"
+0000feb0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
+0000fec0: 7574 5f73 7465 705f 636f 7265 5f77 6964  ut_step_core_wid
+0000fed0: 7468 5f6c 696e 6545 6469 742e 7365 7450  th_lineEdit.setP
+0000fee0: 6c61 6365 686f 6c64 6572 5465 7874 2822  laceholderText("
+0000fef0: 5374 6570 2076 616c 7565 2229 0a20 2020  Step value").   
+0000ff00: 2020 2020 2073 656c 662e 6175 745f 6d69       self.aut_mi
+0000ff10: 6e5f 7769 6e64 6f77 5f68 6569 6768 745f  n_window_height_
+0000ff20: 6c69 6e65 4564 6974 2e73 6574 506c 6163  lineEdit.setPlac
+0000ff30: 6568 6f6c 6465 7254 6578 7428 224d 696e  eholderText("Min
+0000ff40: 696d 756d 2076 616c 7565 2229 0a20 2020  imum value").   
+0000ff50: 2020 2020 2073 656c 662e 6175 745f 6d61       self.aut_ma
+0000ff60: 785f 7769 6e64 6f77 5f68 6569 6768 745f  x_window_height_
+0000ff70: 6c69 6e65 4564 6974 2e73 6574 506c 6163  lineEdit.setPlac
+0000ff80: 6568 6f6c 6465 7254 6578 7428 224d 6178  eholderText("Max
+0000ff90: 696d 756d 2076 616c 7565 2229 0a20 2020  imum value").   
+0000ffa0: 2020 2020 2073 656c 662e 6175 745f 7374       self.aut_st
+0000ffb0: 6570 5f77 696e 646f 775f 6865 6967 6874  ep_window_height
+0000ffc0: 5f6c 696e 6545 6469 742e 7365 7450 6c61  _lineEdit.setPla
+0000ffd0: 6365 686f 6c64 6572 5465 7874 2822 5374  ceholderText("St
+0000ffe0: 6570 2076 616c 7565 2229 0a20 2020 2020  ep value").     
+0000fff0: 2020 2073 656c 662e 6175 745f 6d69 6e5f     self.aut_min_
+00010000: 7769 6e64 6f77 5f77 6964 7468 5f6c 696e  window_width_lin
+00010010: 6545 6469 742e 7365 7450 6c61 6365 686f  eEdit.setPlaceho
+00010020: 6c64 6572 5465 7874 2822 4d69 6e69 6d75  lderText("Minimu
+00010030: 6d20 7661 6c75 6522 290a 2020 2020 2020  m value").      
+00010040: 2020 7365 6c66 2e61 7574 5f6d 6178 5f77    self.aut_max_w
+00010050: 696e 646f 775f 7769 6474 685f 6c69 6e65  indow_width_line
+00010060: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
+00010070: 6465 7254 6578 7428 224d 6178 696d 756d  derText("Maximum
+00010080: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
+00010090: 2073 656c 662e 6175 745f 7374 6570 5f77   self.aut_step_w
+000100a0: 696e 646f 775f 7769 6474 685f 6c69 6e65  indow_width_line
+000100b0: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
+000100c0: 6465 7254 6578 7428 2253 7465 7020 7661  derText("Step va
+000100d0: 6c75 6522 290a 2020 2020 2020 2020 7365  lue").        se
+000100e0: 6c66 2e61 7574 5f6d 696e 5f77 696e 6469  lf.aut_min_windi
+000100f0: 6e67 315f 7475 726e 735f 6c69 6e65 4564  ng1_turns_lineEd
+00010100: 6974 2e73 6574 506c 6163 6568 6f6c 6465  it.setPlaceholde
+00010110: 7254 6578 7428 224d 696e 696d 756d 2076  rText("Minimum v
+00010120: 616c 7565 2229 0a20 2020 2020 2020 2073  alue").        s
+00010130: 656c 662e 6175 745f 6d61 785f 7769 6e64  elf.aut_max_wind
+00010140: 696e 6731 5f74 7572 6e73 5f6c 696e 6545  ing1_turns_lineE
+00010150: 6469 742e 7365 7450 6c61 6365 686f 6c64  dit.setPlacehold
+00010160: 6572 5465 7874 2822 4d61 7869 6d75 6d20  erText("Maximum 
+00010170: 7661 6c75 6522 290a 2020 2020 2020 2020  value").        
+00010180: 7365 6c66 2e61 7574 5f6d 696e 5f77 696e  self.aut_min_win
+00010190: 6469 6e67 325f 7475 726e 735f 6c69 6e65  ding2_turns_line
+000101a0: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
+000101b0: 6465 7254 6578 7428 224d 696e 696d 756d  derText("Minimum
+000101c0: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
+000101d0: 2073 656c 662e 6175 745f 6d61 785f 7769   self.aut_max_wi
+000101e0: 6e64 696e 6732 5f74 7572 6e73 5f6c 696e  nding2_turns_lin
+000101f0: 6545 6469 742e 7365 7450 6c61 6365 686f  eEdit.setPlaceho
+00010200: 6c64 6572 5465 7874 2822 4d61 7869 6d75  lderText("Maximu
+00010210: 6d20 7661 6c75 6522 290a 2020 2020 2020  m value").      
+00010220: 2020 7365 6c66 2e61 7574 5f73 7465 705f    self.aut_step_
+00010230: 7769 6e64 696e 6732 5f74 7572 6e73 5f6c  winding2_turns_l
+00010240: 696e 6545 6469 742e 7365 7450 6c61 6365  ineEdit.setPlace
+00010250: 686f 6c64 6572 5465 7874 2822 5374 6570  holderText("Step
+00010260: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
+00010270: 2073 656c 662e 6175 745f 6d69 6e5f 6169   self.aut_min_ai
+00010280: 725f 6761 705f 636f 756e 745f 6c69 6e65  r_gap_count_line
+00010290: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
+000102a0: 6465 7254 6578 7428 224d 696e 696d 756d  derText("Minimum
+000102b0: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
+000102c0: 2073 656c 662e 6175 745f 6d61 785f 6169   self.aut_max_ai
+000102d0: 725f 6761 705f 636f 756e 745f 6c69 6e65  r_gap_count_line
+000102e0: 4564 6974 2e73 6574 506c 6163 6568 6f6c  Edit.setPlacehol
+000102f0: 6465 7254 6578 7428 224d 6178 696d 756d  derText("Maximum
+00010300: 2076 616c 7565 2229 0a20 2020 2020 2020   value").       
+00010310: 2073 656c 662e 6175 745f 676f 616c 5f69   self.aut_goal_i
+00010320: 6e64 7563 7461 6e63 655f 7661 6c5f 6c69  nductance_val_li
+00010330: 6e65 4564 6974 2e73 6574 506c 6163 6568  neEdit.setPlaceh
+00010340: 6f6c 6465 7254 6578 7428 2220 5661 6c75  olderText(" Valu
+00010350: 6520 696e 2048 656e 7279 2229 0a20 2020  e in Henry").   
+00010360: 2020 2020 2073 656c 662e 6175 745f 6169       self.aut_ai
+00010370: 725f 6761 705f 6c65 6e67 7468 5f6d 696e  r_gap_length_min
+00010380: 5f6c 696e 6545 6469 742e 7365 7450 6c61  _lineEdit.setPla
+00010390: 6365 686f 6c64 6572 5465 7874 2822 4d69  ceholderText("Mi
+000103a0: 6e69 6d75 6d20 7661 6c75 6522 290a 2020  nimum value").  
+000103b0: 2020 2020 2020 7365 6c66 2e61 7574 5f61        self.aut_a
+000103c0: 6972 5f67 6170 5f6c 656e 6774 685f 6d61  ir_gap_length_ma
+000103d0: 785f 6c69 6e65 4564 6974 2e73 6574 506c  x_lineEdit.setPl
+000103e0: 6163 6568 6f6c 6465 7254 6578 7428 224d  aceholderText("M
+000103f0: 6178 696d 756d 2076 616c 7565 2229 0a20  aximum value"). 
+00010400: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00010410: 6169 725f 6761 705f 6c65 6e67 7468 5f73  air_gap_length_s
+00010420: 7465 705f 6c69 6e65 4564 6974 2e73 6574  tep_lineEdit.set
+00010430: 506c 6163 6568 6f6c 6465 7254 6578 7428  PlaceholderText(
+00010440: 2253 7465 7020 7661 6c75 6522 290a 2020  "Step value").  
+00010450: 2020 2020 2020 7365 6c66 2e61 7574 5f61        self.aut_a
+00010460: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
+00010470: 6d69 6e5f 6c69 6e65 4564 6974 2e73 6574  min_lineEdit.set
+00010480: 506c 6163 6568 6f6c 6465 7254 6578 7428  PlaceholderText(
+00010490: 224d 696e 696d 756d 2076 616c 7565 2229  "Minimum value")
+000104a0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+000104b0: 745f 6169 725f 6761 705f 706f 7369 7469  t_air_gap_positi
+000104c0: 6f6e 5f6d 6178 5f6c 696e 6545 6469 742e  on_max_lineEdit.
+000104d0: 7365 7450 6c61 6365 686f 6c64 6572 5465  setPlaceholderTe
+000104e0: 7874 2822 4d61 7869 6d75 6d20 7661 6c75  xt("Maximum valu
+000104f0: 6522 290a 2020 2020 2020 2020 7365 6c66  e").        self
+00010500: 2e61 7574 5f61 6972 5f67 6170 5f70 6f73  .aut_air_gap_pos
+00010510: 6974 696f 6e5f 7374 6570 5f6c 696e 6545  ition_step_lineE
+00010520: 6469 742e 7365 7450 6c61 6365 686f 6c64  dit.setPlacehold
+00010530: 6572 5465 7874 2822 5374 6570 2076 616c  erText("Step val
+00010540: 7565 2229 0a0a 2020 2020 6465 6620 6175  ue")..    def au
+00010550: 745f 7769 6e64 696e 6731 5f63 6861 6e67  t_winding1_chang
+00010560: 655f 6c69 747a 5f69 6d70 6c69 6369 7428  e_litz_implicit(
+00010570: 7365 6c66 2c20 696d 706c 6963 6974 5f74  self, implicit_t
+00010580: 7970 655f 6672 6f6d 5f63 6f6d 626f 5f62  ype_from_combo_b
+00010590: 6f78 3a20 7374 7229 202d 3e20 4e6f 6e65  ox: str) -> None
+000105a0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+000105b0: 2020 2020 2020 456e 6162 6c65 202f 2044        Enable / D
+000105c0: 6973 6162 6c65 2069 6e70 7574 2070 6172  isable input par
+000105d0: 616d 6574 6572 2066 6965 6c64 7320 666f  ameter fields fo
+000105e0: 7220 6469 6666 6572 656e 7420 2269 6d70  r different "imp
+000105f0: 6c69 6369 7420 7879 7a22 2074 7970 6573  licit xyz" types
+00010600: 2069 6e20 6361 7365 206f 6620 6c69 747a   in case of litz
+00010610: 2077 6972 652e 0a0a 2020 2020 2020 2020   wire...        
+00010620: 3a70 6172 616d 2069 6d70 6c69 6369 745f  :param implicit_
+00010630: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
+00010640: 626f 783a 2069 6e70 7574 2074 7970 6520  box: input type 
+00010650: 746f 2069 6d70 6c69 6369 740a 2020 2020  to implicit.    
+00010660: 2020 2020 3a74 7970 6520 696d 706c 6963      :type implic
+00010670: 6974 5f74 7970 655f 6672 6f6d 5f63 6f6d  it_type_from_com
+00010680: 626f 5f62 6f78 3a20 7374 720a 2020 2020  bo_box: str.    
+00010690: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
+000106a0: 650a 2020 2020 2020 2020 3a72 7479 7065  e.        :rtype
+000106b0: 3a20 4e6f 6e65 0a20 2020 2020 2020 2022  : None.        "
+000106c0: 2222 0a20 2020 2020 2020 2069 6620 696d  "".        if im
+000106d0: 706c 6963 6974 5f74 7970 655f 6672 6f6d  plicit_type_from
+000106e0: 5f63 6f6d 626f 5f62 6f78 203d 3d20 7365  _combo_box == se
+000106f0: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+00010700: 6963 745b 2769 6d70 6c69 6369 745f 6c69  ict['implicit_li
+00010710: 747a 5f72 6164 6975 7327 5d3a 0a20 2020  tz_radius']:.   
 00010720: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-00010730: 745f 7769 6e64 696e 6731 5f69 6d70 6c69  t_winding1_impli
-00010740: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
-00010750: 782e 7365 7445 6e61 626c 6564 2846 616c  x.setEnabled(Fal
-00010760: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-00010770: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
-00010780: 315f 6669 6c6c 5f66 6163 746f 725f 6c69  1_fill_factor_li
-00010790: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-000107a0: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-000107b0: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-000107c0: 6e64 696e 6731 5f73 7472 616e 645f 7261  nding1_strand_ra
-000107d0: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
-000107e0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
-000107f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-00010800: 2e61 7574 5f77 696e 6469 6e67 315f 7261  .aut_winding1_ra
-00010810: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
-00010820: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
-00010830: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00010840: 6175 745f 6c69 747a 5f64 6174 615f 6c69  aut_litz_data_li
-00010850: 7374 5769 6467 6574 2e73 6574 456e 6162  stWidget.setEnab
-00010860: 6c65 6428 4661 6c73 6529 0a0a 2020 2020  led(False)..    
-00010870: 6465 6620 6175 745f 6368 616e 6765 5f73  def aut_change_s
-00010880: 696d 756c 6174 696f 6e5f 7479 7065 2873  imulation_type(s
-00010890: 656c 662c 2073 696d 756c 6174 696f 6e5f  elf, simulation_
-000108a0: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
-000108b0: 626f 783a 2073 7472 2920 2d3e 204e 6f6e  box: str) -> Non
-000108c0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-000108d0: 2020 2020 2020 2050 6572 666f 726d 2061         Perform a
-000108e0: 6374 696f 6e20 7768 656e 2073 6967 6e61  ction when signa
-000108f0: 6c20 6f66 2061 7574 5f73 696d 756c 6174  l of aut_simulat
-00010900: 696f 6e5f 7479 7065 5f63 6f6d 626f 426f  ion_type_comboBo
-00010910: 7820 7465 7874 2068 6173 2063 6861 6e67  x text has chang
-00010920: 6564 2e0a 0a20 2020 2020 2020 2041 6374  ed...        Act
-00010930: 696f 6e20 7769 6c6c 2062 6520 656e 6162  ion will be enab
-00010940: 6c69 6e67 202f 2064 6973 6162 6c69 6e67  ling / disabling
-00010950: 2075 7365 7220 696e 7075 7473 2066 6f72   user inputs for
-00010960: 206e 6f74 2d75 7365 6420 7769 6e64 696e   not-used windin
-00010970: 6773 2e0a 0a20 2020 2020 2020 203a 7061  gs...        :pa
-00010980: 7261 6d20 7369 6d75 6c61 7469 6f6e 5f74  ram simulation_t
-00010990: 7970 655f 6672 6f6d 5f63 6f6d 626f 5f62  ype_from_combo_b
-000109a0: 6f78 3a0a 2020 2020 2020 2020 3a74 7970  ox:.        :typ
-000109b0: 6520 7369 6d75 6c61 7469 6f6e 5f74 7970  e simulation_typ
-000109c0: 655f 6672 6f6d 5f63 6f6d 626f 5f62 6f78  e_from_combo_box
-000109d0: 3a20 7374 720a 2020 2020 2020 2020 3a72  : str.        :r
-000109e0: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
-000109f0: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
-00010a00: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-00010a10: 2020 2020 2069 6620 7369 6d75 6c61 7469       if simulati
-00010a20: 6f6e 5f74 7970 655f 6672 6f6d 5f63 6f6d  on_type_from_com
-00010a30: 626f 5f62 6f78 203d 3d20 7365 6c66 2e74  bo_box == self.t
-00010a40: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-00010a50: 2769 6e64 7563 746f 7227 5d3a 0a20 2020  'inductor']:.   
-00010a60: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-00010a70: 745f 7769 6e64 696e 6732 5f65 6e61 626c  t_winding2_enabl
-00010a80: 6528 4661 6c73 6529 0a0a 2020 2020 2020  e(False)..      
-00010a90: 2020 656c 6966 2073 696d 756c 6174 696f    elif simulatio
-00010aa0: 6e5f 7479 7065 5f66 726f 6d5f 636f 6d62  n_type_from_comb
-00010ab0: 6f5f 626f 7820 3d3d 2073 656c 662e 7472  o_box == self.tr
-00010ac0: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
-00010ad0: 7472 616e 7366 6f72 6d65 7227 5d3a 0a20  transformer']:. 
-00010ae0: 2020 2020 2020 2020 2020 2023 2073 6574             # set
-00010af0: 2077 696e 6469 6e67 2064 6566 696e 6974   winding definit
-00010b00: 696f 6e73 206f 6620 7769 6e64 696e 6720  ions of winding 
-00010b10: 3220 746f 2065 6469 7461 626c 650a 2020  2 to editable.  
-00010b20: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-00010b30: 7574 5f77 696e 6469 6e67 325f 656e 6162  ut_winding2_enab
-00010b40: 6c65 2854 7275 6529 0a0a 2020 2020 2020  le(True)..      
-00010b50: 2020 656c 6966 2073 696d 756c 6174 696f    elif simulatio
-00010b60: 6e5f 7479 7065 5f66 726f 6d5f 636f 6d62  n_type_from_comb
-00010b70: 6f5f 626f 7820 3d3d 2073 656c 662e 7472  o_box == self.tr
-00010b80: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
-00010b90: 696e 7465 6772 6174 6564 2074 7261 6e73  integrated trans
-00010ba0: 666f 726d 6572 275d 3a0a 2020 2020 2020  former']:.      
-00010bb0: 2020 2020 2020 2320 7365 7420 7769 6e64        # set wind
-00010bc0: 696e 6720 6465 6669 6e69 7469 6f6e 7320  ing definitions 
-00010bd0: 6f66 2077 696e 6469 6e67 2032 2074 6f20  of winding 2 to 
-00010be0: 6564 6974 6162 6c65 0a20 2020 2020 2020  editable.       
-00010bf0: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-00010c00: 6e64 696e 6732 5f65 6e61 626c 6528 5472  nding2_enable(Tr
-00010c10: 7565 290a 0a20 2020 2064 6566 2061 7574  ue)..    def aut
-00010c20: 5f77 696e 6469 6e67 325f 656e 6162 6c65  _winding2_enable
-00010c30: 2873 656c 662c 2073 7461 7475 733a 2062  (self, status: b
-00010c40: 6f6f 6c29 202d 3e20 4e6f 6e65 3a0a 2020  ool) -> None:.  
-00010c50: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-00010c60: 2020 456e 6162 6c65 2f64 6973 6162 6c65    Enable/disable
-00010c70: 2061 6c6c 2066 6965 6c64 7320 6265 696e   all fields bein
-00010c80: 6720 696e 2063 6f6e 7461 6374 2077 6974  g in contact wit
-00010c90: 6820 7769 6e64 696e 6720 322e 0a0a 2020  h winding 2...  
-00010ca0: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-00010cb0: 7475 733a 2054 7275 6520 2f20 4661 6c73  tus: True / Fals
-00010cc0: 650a 2020 2020 2020 2020 3a74 7970 6520  e.        :type 
-00010cd0: 7374 6174 7573 3a20 626f 6f6c 0a20 2020  status: bool.   
-00010ce0: 2020 2020 203a 7265 7475 726e 3a20 4e6f       :return: No
-00010cf0: 6e65 0a20 2020 2020 2020 203a 7274 7970  ne.        :rtyp
-00010d00: 653a 204e 6f6e 650a 2020 2020 2020 2020  e: None.        
-00010d10: 2222 220a 2020 2020 2020 2020 2320 7365  """.        # se
-00010d20: 7420 7769 6e64 696e 6720 6465 6669 6e69  t winding defini
-00010d30: 7469 6f6e 7320 6f66 2077 696e 6469 6e67  tions of winding
-00010d40: 2032 2028 656e 6162 6c65 2061 6e64 2076   2 (enable and v
-00010d50: 6973 6962 6c65 290a 2020 2020 2020 2020  isible).        
-00010d60: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
-00010d70: 325f 6d61 7465 7269 616c 5f63 6f6d 626f  2_material_combo
-00010d80: 426f 782e 7365 7445 6e61 626c 6564 2873  Box.setEnabled(s
-00010d90: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
-00010da0: 656c 662e 6175 745f 7769 6e64 696e 6732  elf.aut_winding2
-00010db0: 5f74 7970 655f 636f 6d62 6f42 6f78 2e73  _type_comboBox.s
-00010dc0: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-00010dd0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00010de0: 7574 5f6d 696e 5f77 696e 6469 6e67 325f  ut_min_winding2_
-00010df0: 7475 726e 735f 6c69 6e65 4564 6974 2e73  turns_lineEdit.s
-00010e00: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-00010e10: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00010e20: 7574 5f6d 6178 5f77 696e 6469 6e67 325f  ut_max_winding2_
-00010e30: 7475 726e 735f 6c69 6e65 4564 6974 2e73  turns_lineEdit.s
-00010e40: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-00010e50: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00010e60: 7574 5f73 7465 705f 7769 6e64 696e 6732  ut_step_winding2
-00010e70: 5f74 7572 6e73 5f6c 696e 6545 6469 742e  _turns_lineEdit.
-00010e80: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
-00010e90: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-00010ea0: 6175 745f 7769 6e64 696e 6732 5f73 7472  aut_winding2_str
-00010eb0: 616e 6473 5f6c 696e 6545 6469 742e 7365  ands_lineEdit.se
-00010ec0: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
-00010ed0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-00010ee0: 745f 7769 6e64 696e 6732 5f72 6164 6975  t_winding2_radiu
-00010ef0: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
-00010f00: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-00010f10: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
-00010f20: 6e64 696e 6732 5f66 696c 6c5f 6661 6374  nding2_fill_fact
-00010f30: 6f72 5f6c 696e 6545 6469 742e 7365 7445  or_lineEdit.setE
-00010f40: 6e61 626c 6564 2873 7461 7475 7329 0a20  nabled(status). 
-00010f50: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00010f60: 7769 6e64 696e 6732 5f73 7472 616e 645f  winding2_strand_
-00010f70: 7261 6469 7573 5f6c 696e 6545 6469 742e  radius_lineEdit.
-00010f80: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
-00010f90: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-00010fa0: 6175 745f 7769 6e64 696e 6732 5f67 726f  aut_winding2_gro
-00010fb0: 7570 426f 782e 7365 7456 6973 6962 6c65  upBox.setVisible
-00010fc0: 2873 7461 7475 7329 0a0a 2020 2020 2020  (status)..      
-00010fd0: 2020 2320 5365 7420 7475 726e 7320 6f66    # Set turns of
-00010fe0: 2077 696e 6469 6e67 2032 2028 656e 6162   winding 2 (enab
-00010ff0: 6c65 2061 6e64 2076 6973 6962 6c65 290a  le and visible).
-00011000: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00011010: 5f6d 696e 5f77 696e 6469 6e67 325f 7475  _min_winding2_tu
-00011020: 726e 735f 6c69 6e65 4564 6974 2e73 6574  rns_lineEdit.set
-00011030: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
-00011040: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00011050: 5f6d 6178 5f77 696e 6469 6e67 325f 7475  _max_winding2_tu
-00011060: 726e 735f 6c69 6e65 4564 6974 2e73 6574  rns_lineEdit.set
-00011070: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
-00011080: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00011090: 5f73 7465 705f 7769 6e64 696e 6732 5f74  _step_winding2_t
-000110a0: 7572 6e73 5f6c 696e 6545 6469 742e 7365  urns_lineEdit.se
-000110b0: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
-000110c0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-000110d0: 745f 7769 6e64 696e 6732 5f73 6368 656d  t_winding2_schem
-000110e0: 655f 636f 6d62 6f42 6f78 2e73 6574 5669  e_comboBox.setVi
-000110f0: 7369 626c 6528 7374 6174 7573 290a 2020  sible(status).  
-00011100: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
-00011110: 696e 6469 6e67 325f 7475 726e 735f 6c61  inding2_turns_la
-00011120: 6265 6c2e 7365 7456 6973 6962 6c65 2873  bel.setVisible(s
-00011130: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
-00011140: 656c 662e 6175 745f 7769 6e64 696e 6732  elf.aut_winding2
-00011150: 5f73 6368 656d 655f 6c61 6265 6c2e 7365  _scheme_label.se
-00011160: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
-00011170: 0a0a 2020 2020 2020 2020 2320 7365 7420  ..        # set 
-00011180: 6973 6f6c 6174 696f 6e20 6f66 2077 696e  isolation of win
-00011190: 6469 6e67 2032 2028 656e 6162 6c65 2061  ding 2 (enable a
-000111a0: 6e64 2076 6973 6962 6c65 290a 2020 2020  nd visible).    
-000111b0: 2020 2020 7365 6c66 2e61 7574 5f69 736f      self.aut_iso
-000111c0: 6c61 7469 6f6e 5f73 3273 5f6c 696e 6545  lation_s2s_lineE
-000111d0: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
-000111e0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
-000111f0: 656c 662e 6175 745f 6973 6f6c 6174 696f  elf.aut_isolatio
-00011200: 6e5f 7032 735f 6c69 6e65 4564 6974 2e73  n_p2s_lineEdit.s
-00011210: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-00011220: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00011230: 7574 5f69 736f 6c61 7469 6f6e 5f73 3273  ut_isolation_s2s
-00011240: 5f6c 696e 6545 6469 742e 7365 7456 6973  _lineEdit.setVis
-00011250: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
-00011260: 2020 2020 2073 656c 662e 6175 745f 6973       self.aut_is
-00011270: 6f6c 6174 696f 6e5f 7032 735f 6c69 6e65  olation_p2s_line
-00011280: 4564 6974 2e73 6574 5669 7369 626c 6528  Edit.setVisible(
-00011290: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
-000112a0: 7365 6c66 2e61 7574 5f69 736f 6c61 7469  self.aut_isolati
-000112b0: 6f6e 5f73 3273 5f6c 6162 656c 2e73 6574  on_s2s_label.set
-000112c0: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
-000112d0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-000112e0: 5f69 736f 6c61 7469 6f6e 5f70 3273 5f6c  _isolation_p2s_l
-000112f0: 6162 656c 2e73 6574 5669 7369 626c 6528  abel.setVisible(
-00011300: 7374 6174 7573 290a 0a20 2020 2020 2020  status)..       
-00011310: 2073 656c 662e 6175 745f 6c69 747a 325f   self.aut_litz2_
-00011320: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
-00011330: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
-00011340: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
-00011350: 662e 6175 745f 6c69 747a 325f 6261 736b  f.aut_litz2_bask
-00011360: 6574 5f6c 6973 7457 6964 6765 742e 7365  et_listWidget.se
-00011370: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
-00011380: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
-00011390: 745f 6c69 747a 325f 6261 736b 6574 5f63  t_litz2_basket_c
-000113a0: 6c65 6172 5f61 6c6c 5f70 7573 6862 7574  lear_all_pushbut
-000113b0: 746f 6e2e 7365 7456 6973 6962 6c65 2873  ton.setVisible(s
-000113c0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
-000113d0: 656c 662e 6175 745f 6c69 747a 325f 6261  elf.aut_litz2_ba
-000113e0: 736b 6574 5f63 6c65 6172 5f70 7573 6862  sket_clear_pushb
-000113f0: 7574 746f 6e2e 7365 7456 6973 6962 6c65  utton.setVisible
-00011400: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-00011410: 2073 656c 662e 6175 745f 6c69 747a 6261   self.aut_litzba
-00011420: 736b 6574 325f 6c61 6265 6c2e 7365 7456  sket2_label.setV
-00011430: 6973 6962 6c65 2873 7461 7475 7329 0a0a  isible(status)..
-00011440: 2020 2020 2320 202a 2a2a 2a2a 2a2a 2a2a      #  *********
-00011450: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00011460: 2a2a 2a20 4461 7461 6261 7365 2074 6162  *** Database tab
-00011470: 202a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a   ***************
-00011480: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00011490: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-000114a0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-000114b0: 2a2a 2a2a 2a20 2023 0a0a 2020 2020 6465  *****  #..    de
-000114c0: 6620 6461 7475 7064 6174 6572 6170 6831  f datupdateraph1
-000114d0: 2873 656c 662c 206d 6174 706c 6f74 6c69  (self, matplotli
-000114e0: 625f 7769 6467 6574 312c 206d 6174 706c  b_widget1, matpl
-000114f0: 6f74 6c69 625f 7769 6467 6574 322c 206d  otlib_widget2, m
-00011500: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-00011510: 332c 206d 6174 706c 6f74 6c69 625f 7769  3, matplotlib_wi
-00011520: 6467 6574 3429 3a0a 2020 2020 2020 2020  dget4):.        
-00011530: 2222 220a 2020 2020 2020 2020 4461 7461  """.        Data
-00011540: 7368 6565 742d 6461 7461 7368 6565 7420  sheet-datasheet 
-00011550: 706c 6f74 2e0a 0a20 2020 2020 2020 203a  plot...        :
-00011560: 7061 7261 6d20 6d61 7470 6c6f 746c 6962  param matplotlib
-00011570: 5f77 6964 6765 7431 3a20 666f 7220 7468  _widget1: for th
-00011580: 6520 6669 7273 7420 706c 6f74 206f 6620  e first plot of 
-00011590: 7265 6c61 7469 7665 2070 6f77 6572 206c  relative power l
-000115a0: 6f73 7320 7673 2042 0a20 2020 2020 2020  oss vs B.       
-000115b0: 203a 7061 7261 6d20 6d61 7470 6c6f 746c   :param matplotl
-000115c0: 6962 5f77 6964 6765 7432 3a20 666f 7220  ib_widget2: for 
-000115d0: 7468 6520 7365 636f 6e64 2070 6c6f 7420  the second plot 
-000115e0: 6f66 2072 656c 6174 6976 6520 706f 7765  of relative powe
-000115f0: 7220 6c6f 7373 2076 7320 7465 6d70 6572  r loss vs temper
-00011600: 6174 7572 650a 2020 2020 2020 2020 3a70  ature.        :p
-00011610: 6172 616d 206d 6174 706c 6f74 6c69 625f  aram matplotlib_
-00011620: 7769 6467 6574 333a 2066 6f72 2074 6865  widget3: for the
-00011630: 2074 6869 7264 2070 6c6f 7420 6f66 2072   third plot of r
-00011640: 656c 6174 6976 6520 706f 7765 7220 6c6f  elative power lo
-00011650: 7373 2076 7320 6672 6571 7565 6e63 790a  ss vs frequency.
-00011660: 2020 2020 2020 2020 3a70 6172 616d 206d          :param m
-00011670: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-00011680: 343a 2066 6f72 2074 6865 2066 6f75 7274  4: for the fourt
-00011690: 6820 706c 6f74 206f 6620 4220 7673 2048  h plot of B vs H
-000116a0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000116b0: 2020 2020 206d 6174 706c 6f74 6c69 625f       matplotlib_
-000116c0: 7769 6467 6574 312e 6178 6973 2e63 6c65  widget1.axis.cle
-000116d0: 6172 2829 0a20 2020 2020 2020 2073 656c  ar().        sel
-000116e0: 662e 6c61 796f 7574 203d 2051 5642 6f78  f.layout = QVBox
-000116f0: 4c61 796f 7574 2873 656c 662e 706c 6f74  Layout(self.plot
-00011700: 7769 6467 6574 290a 2020 2020 2020 2020  widget).        
-00011710: 7365 6c66 2e6c 6179 6f75 742e 6164 6457  self.layout.addW
-00011720: 6964 6765 7428 6d61 7470 6c6f 746c 6962  idget(matplotlib
-00011730: 5f77 6964 6765 7431 290a 2020 2020 2020  _widget1).      
-00011740: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00011750: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
-00011760: 6467 6574 312e 6178 6973 5f63 6d2e 7265  dget1.axis_cm.re
-00011770: 6d6f 7665 2829 0a20 2020 2020 2020 2065  move().        e
-00011780: 7863 6570 743a 0a20 2020 2020 2020 2020  xcept:.         
-00011790: 2020 2070 6173 730a 0a20 2020 2020 2020     pass..       
-000117a0: 206d 6174 315f 6e61 6d65 203d 2073 656c   mat1_name = sel
-000117b0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
-000117c0: 6961 6c31 5f63 6f6d 626f 426f 782e 6375  ial1_comboBox.cu
-000117d0: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
-000117e0: 2020 2020 6d61 7432 5f6e 616d 6520 3d20      mat2_name = 
-000117f0: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
-00011800: 7465 7269 616c 325f 636f 6d62 6f42 6f78  terial2_comboBox
-00011810: 2e63 7572 7265 6e74 5465 7874 2829 0a20  .currentText(). 
-00011820: 2020 2020 2020 206d 6174 335f 6e61 6d65         mat3_name
-00011830: 203d 2073 656c 662e 6461 745f 636f 7265   = self.dat_core
-00011840: 5f6d 6174 6572 6961 6c33 5f63 6f6d 626f  _material3_combo
-00011850: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
-00011860: 290a 2020 2020 2020 2020 6d61 7434 5f6e  ).        mat4_n
-00011870: 616d 6520 3d20 7365 6c66 2e64 6174 5f63  ame = self.dat_c
-00011880: 6f72 655f 6d61 7465 7269 616c 345f 636f  ore_material4_co
-00011890: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-000118a0: 7874 2829 0a20 2020 2020 2020 206d 6174  xt().        mat
-000118b0: 355f 6e61 6d65 203d 2073 656c 662e 6461  5_name = self.da
-000118c0: 745f 636f 7265 5f6d 6174 6572 6961 6c35  t_core_material5
-000118d0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-000118e0: 7454 6578 7428 290a 0a20 2020 2020 2020  tText()..       
-000118f0: 206d 6174 315f 7465 6d70 203d 2063 6f6d   mat1_temp = com
-00011900: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00011910: 666c 6f61 7428 7365 6c66 2e61 7574 5f74  float(self.aut_t
-00011920: 656d 705f 6d31 5f63 6f6d 626f 426f 782e  emp_m1_comboBox.
-00011930: 6375 7272 656e 7454 6578 7428 2929 0a20  currentText()). 
-00011940: 2020 2020 2020 206d 6174 325f 7465 6d70         mat2_temp
-00011950: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
-00011960: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-00011970: 2e61 7574 5f74 656d 705f 6d32 5f63 6f6d  .aut_temp_m2_com
-00011980: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-00011990: 7428 2929 0a20 2020 2020 2020 206d 6174  t()).        mat
-000119a0: 335f 7465 6d70 203d 2063 6f6d 6d61 5f73  3_temp = comma_s
-000119b0: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-000119c0: 7428 7365 6c66 2e61 7574 5f74 656d 705f  t(self.aut_temp_
-000119d0: 6d33 5f63 6f6d 626f 426f 782e 6375 7272  m3_comboBox.curr
-000119e0: 656e 7454 6578 7428 2929 0a20 2020 2020  entText()).     
-000119f0: 2020 206d 6174 345f 7465 6d70 203d 2063     mat4_temp = c
-00011a00: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00011a10: 745f 666c 6f61 7428 7365 6c66 2e61 7574  t_float(self.aut
-00011a20: 5f74 656d 705f 6d34 5f63 6f6d 626f 426f  _temp_m4_comboBo
-00011a30: 782e 6375 7272 656e 7454 6578 7428 2929  x.currentText())
-00011a40: 0a20 2020 2020 2020 206d 6174 355f 7465  .        mat5_te
-00011a50: 6d70 203d 2063 6f6d 6d61 5f73 7472 5f74  mp = comma_str_t
-00011a60: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00011a70: 6c66 2e61 7574 5f74 656d 705f 6d35 5f63  lf.aut_temp_m5_c
-00011a80: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00011a90: 6578 7428 2929 0a0a 2020 2020 2020 2020  ext())..        
-00011aa0: 6d61 7431 5f66 6c75 7820 3d20 636f 6d6d  mat1_flux = comm
-00011ab0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
-00011ac0: 6c6f 6174 2873 656c 662e 6175 745f 666c  loat(self.aut_fl
-00011ad0: 7578 5f6d 315f 636f 6d62 6f42 6f78 2e63  ux_m1_comboBox.c
-00011ae0: 7572 7265 6e74 5465 7874 2829 290a 2020  urrentText()).  
-00011af0: 2020 2020 2020 6d61 7432 5f66 6c75 7820        mat2_flux 
-00011b00: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
-00011b10: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-00011b20: 6175 745f 666c 7578 5f6d 325f 636f 6d62  aut_flux_m2_comb
-00011b30: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-00011b40: 2829 290a 2020 2020 2020 2020 6d61 7433  ()).        mat3
-00011b50: 5f66 6c75 7820 3d20 636f 6d6d 615f 7374  _flux = comma_st
-00011b60: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00011b70: 2873 656c 662e 6175 745f 666c 7578 5f6d  (self.aut_flux_m
-00011b80: 335f 636f 6d62 6f42 6f78 2e63 7572 7265  3_comboBox.curre
-00011b90: 6e74 5465 7874 2829 290a 2020 2020 2020  ntText()).      
-00011ba0: 2020 6d61 7434 5f66 6c75 7820 3d20 636f    mat4_flux = co
-00011bb0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00011bc0: 5f66 6c6f 6174 2873 656c 662e 6175 745f  _float(self.aut_
-00011bd0: 666c 7578 5f6d 345f 636f 6d62 6f42 6f78  flux_m4_comboBox
-00011be0: 2e63 7572 7265 6e74 5465 7874 2829 290a  .currentText()).
-00011bf0: 2020 2020 2020 2020 6d61 7435 5f66 6c75          mat5_flu
-00011c00: 7820 3d20 636f 6d6d 615f 7374 725f 746f  x = comma_str_to
-00011c10: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00011c20: 662e 6175 745f 666c 7578 5f6d 355f 636f  f.aut_flux_m5_co
-00011c30: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-00011c40: 7874 2829 290a 0a20 2020 2020 2020 2023  xt())..        #
-00011c50: 2070 7269 6e74 2866 226d 6174 315f 6e61   print(f"mat1_na
-00011c60: 6d65 3a20 7b6d 6174 315f 6e61 6d65 7d2c  me: {mat1_name},
-00011c70: 7b6d 6174 325f 6e61 6d65 7d2c 7b6d 6174  {mat2_name},{mat
-00011c80: 335f 6e61 6d65 7d2c 7b6d 6174 345f 6e61  3_name},{mat4_na
-00011c90: 6d65 7d2c 7b6d 6174 355f 6e61 6d65 7d22  me},{mat5_name}"
-00011ca0: 290a 2020 2020 2020 2020 2320 7072 696e  ).        # prin
-00011cb0: 7428 6622 6d61 7431 5f74 656d 703a 207b  t(f"mat1_temp: {
-00011cc0: 6d61 7431 5f74 656d 707d 2c7b 6d61 7432  mat1_temp},{mat2
-00011cd0: 5f74 656d 707d 2c7b 6d61 7433 5f74 656d  _temp},{mat3_tem
-00011ce0: 707d 2c7b 6d61 7434 5f74 656d 707d 2c7b  p},{mat4_temp},{
-00011cf0: 6d61 7435 5f74 656d 707d 2229 0a20 2020  mat5_temp}").   
-00011d00: 2020 2020 2023 2070 7269 6e74 2866 226d       # print(f"m
-00011d10: 6174 315f 666c 7578 3a20 7b6d 6174 315f  at1_flux: {mat1_
-00011d20: 666c 7578 7d2c 7b6d 6174 325f 666c 7578  flux},{mat2_flux
-00011d30: 7d2c 7b6d 6174 335f 666c 7578 7d2c 7b6d  },{mat3_flux},{m
-00011d40: 6174 345f 666c 7578 7d2c 7b6d 6174 355f  at4_flux},{mat5_
-00011d50: 666c 7578 7d22 290a 0a20 2020 2020 2020  flux}")..       
-00011d60: 206d 6174 6572 6961 6c73 5f75 7365 645f   materials_used_
-00011d70: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
-00011d80: 2020 6d61 7465 7269 616c 5f6c 6973 7420    material_list 
-00011d90: 3d20 5b6d 6174 315f 6e61 6d65 2c20 6d61  = [mat1_name, ma
-00011da0: 7432 5f6e 616d 652c 206d 6174 335f 6e61  t2_name, mat3_na
-00011db0: 6d65 2c20 6d61 7434 5f6e 616d 652c 206d  me, mat4_name, m
-00011dc0: 6174 355f 6e61 6d65 5d0a 2020 2020 2020  at5_name].      
-00011dd0: 2020 666f 7220 6974 656d 7320 696e 206d    for items in m
-00011de0: 6174 6572 6961 6c5f 6c69 7374 3a0a 2020  aterial_list:.  
-00011df0: 2020 2020 2020 2020 2020 6966 2069 7465            if ite
-00011e00: 6d73 3a0a 2020 2020 2020 2020 2020 2020  ms:.            
-00011e10: 2020 2020 6d61 7465 7269 616c 735f 7573      materials_us
-00011e20: 6564 5f6c 6973 742e 6170 7065 6e64 2869  ed_list.append(i
-00011e30: 7465 6d73 290a 2020 2020 2020 2020 2320  tems).        # 
-00011e40: 7072 696e 7428 6d61 7465 7269 616c 735f  print(materials_
-00011e50: 7573 6564 5f6c 6973 7429 0a0a 2020 2020  used_list)..    
-00011e60: 2020 2020 6461 7461 6261 7365 2e63 6f6d      database.com
-00011e70: 7061 7265 5f63 6f72 655f 6c6f 7373 5f66  pare_core_loss_f
-00011e80: 6c75 785f 6465 6e73 6974 795f 6461 7461  lux_density_data
-00011e90: 286d 6174 706c 6f74 6c69 625f 7769 6467  (matplotlib_widg
-00011ea0: 6574 312c 206d 6174 6572 6961 6c5f 6c69  et1, material_li
-00011eb0: 7374 3d6d 6174 6572 6961 6c73 5f75 7365  st=materials_use
-00011ec0: 645f 6c69 7374 2c0a 2020 2020 2020 2020  d_list,.        
-00011ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011ef0: 2020 2020 2020 2020 2020 2020 2074 656d               tem
-00011f00: 7065 7261 7475 7265 5f6c 6973 743d 5b6d  perature_list=[m
-00011f10: 6174 315f 7465 6d70 2c20 6d61 7432 5f74  at1_temp, mat2_t
-00011f20: 656d 702c 206d 6174 335f 7465 6d70 2c20  emp, mat3_temp, 
-00011f30: 6d61 7434 5f74 656d 702c 0a20 2020 2020  mat4_temp,.     
-00011f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00011f80: 2020 6d61 7435 5f74 656d 705d 290a 2020    mat5_temp]).  
-00011f90: 2020 2020 2020 2320 7365 6c66 2e6d 6174        # self.mat
-00011fa0: 706c 6f74 6c69 625f 7769 6467 6574 312e  plotlib_widget1.
-00011fb0: 6178 6973 2e6c 6567 656e 6428 666f 6e74  axis.legend(font
-00011fc0: 7369 7a65 3d31 3329 0a20 2020 2020 2020  size=13).       
-00011fd0: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
-00011fe0: 6574 312e 6178 6973 2e67 7269 6428 290a  et1.axis.grid().
-00011ff0: 2020 2020 2020 2020 6d61 7470 6c6f 746c          matplotl
-00012000: 6962 5f77 6964 6765 7431 2e66 6967 7572  ib_widget1.figur
-00012010: 652e 6361 6e76 6173 2e64 7261 775f 6964  e.canvas.draw_id
-00012020: 6c65 2829 0a20 2020 2020 2020 206d 6174  le().        mat
-00012030: 706c 6f74 6c69 625f 7769 6467 6574 312e  plotlib_widget1.
-00012040: 6669 6775 7265 2e74 6967 6874 5f6c 6179  figure.tight_lay
-00012050: 6f75 7428 290a 0a20 2020 2020 2020 2023  out()..        #
-00012060: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012070: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012080: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012090: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000120a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000120b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000120c0: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
-000120d0: 0a20 2020 2020 2020 206d 6174 706c 6f74  .        matplot
-000120e0: 6c69 625f 7769 6467 6574 322e 6178 6973  lib_widget2.axis
-000120f0: 2e63 6c65 6172 2829 0a20 2020 2020 2020  .clear().       
-00012100: 2073 656c 662e 6c61 796f 7574 203d 2051   self.layout = Q
-00012110: 5642 6f78 4c61 796f 7574 2873 656c 662e  VBoxLayout(self.
-00012120: 706c 6f74 7769 6467 6574 5f32 290a 2020  plotwidget_2).  
-00012130: 2020 2020 2020 7365 6c66 2e6c 6179 6f75        self.layou
-00012140: 742e 6164 6457 6964 6765 7428 6d61 7470  t.addWidget(matp
-00012150: 6c6f 746c 6962 5f77 6964 6765 7432 290a  lotlib_widget2).
-00012160: 2020 2020 2020 2020 7472 793a 0a20 2020          try:.   
-00012170: 2020 2020 2020 2020 206d 6174 706c 6f74           matplot
-00012180: 6c69 625f 7769 6467 6574 322e 6178 6973  lib_widget2.axis
-00012190: 5f63 6d2e 7265 6d6f 7665 2829 0a20 2020  _cm.remove().   
-000121a0: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
-000121b0: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
-000121c0: 2020 2020 2020 2066 6c75 785f 6c69 7374         flux_list
-000121d0: 203d 205b 6d61 7431 5f66 6c75 782c 206d   = [mat1_flux, m
-000121e0: 6174 325f 666c 7578 2c20 6d61 7433 5f66  at2_flux, mat3_f
-000121f0: 6c75 782c 206d 6174 345f 666c 7578 2c20  lux, mat4_flux, 
-00012200: 6d61 7435 5f66 6c75 785d 0a20 2020 2020  mat5_flux].     
-00012210: 2020 2023 2070 7269 6e74 2866 2266 6c75     # print(f"flu
-00012220: 785f 6c69 7374 3a20 7b66 6c75 785f 6c69  x_list: {flux_li
-00012230: 7374 7d22 290a 2020 2020 2020 2020 6461  st}").        da
-00012240: 7461 6261 7365 2e63 6f6d 7061 7265 5f63  tabase.compare_c
-00012250: 6f72 655f 6c6f 7373 5f74 656d 7065 7261  ore_loss_tempera
-00012260: 7475 7265 286d 6174 706c 6f74 6c69 625f  ture(matplotlib_
-00012270: 7769 6467 6574 322c 206d 6174 6572 6961  widget2, materia
-00012280: 6c5f 6c69 7374 3d6d 6174 6572 6961 6c73  l_list=materials
-00012290: 5f75 7365 645f 6c69 7374 2c0a 2020 2020  _used_list,.    
-000122a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000122b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000122c0: 2020 2020 2020 2020 2020 2066 6c75 785f             flux_
-000122d0: 6465 6e73 6974 795f 6c69 7374 3d5b 6d61  density_list=[ma
-000122e0: 7431 5f66 6c75 782c 206d 6174 325f 666c  t1_flux, mat2_fl
-000122f0: 7578 2c20 6d61 7433 5f66 6c75 782c 206d  ux, mat3_flux, m
-00012300: 6174 345f 666c 7578 2c0a 2020 2020 2020  at4_flux,.      
-00012310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012320: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012340: 2020 2020 2020 2020 2020 2020 6d61 7435              mat5
-00012350: 5f66 6c75 785d 290a 2020 2020 2020 2020  _flux]).        
-00012360: 2320 7365 6c66 2e6d 6174 706c 6f74 6c69  # self.matplotli
-00012370: 625f 7769 6467 6574 322e 6178 6973 2e6c  b_widget2.axis.l
-00012380: 6567 656e 6428 666f 6e74 7369 7a65 3d31  egend(fontsize=1
-00012390: 3329 0a20 2020 2020 2020 206d 6174 706c  3).        matpl
-000123a0: 6f74 6c69 625f 7769 6467 6574 322e 6178  otlib_widget2.ax
-000123b0: 6973 2e67 7269 6428 290a 2020 2020 2020  is.grid().      
-000123c0: 2020 6d61 7470 6c6f 746c 6962 5f77 6964    matplotlib_wid
-000123d0: 6765 7432 2e66 6967 7572 652e 6361 6e76  get2.figure.canv
-000123e0: 6173 2e64 7261 775f 6964 6c65 2829 0a20  as.draw_idle(). 
-000123f0: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
-00012400: 625f 7769 6467 6574 322e 6669 6775 7265  b_widget2.figure
-00012410: 2e74 6967 6874 5f6c 6179 6f75 7428 290a  .tight_layout().
-00012420: 0a20 2020 2020 2020 2023 2323 2323 2323  .        #######
-00012430: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012440: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012450: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012460: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012470: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012480: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012490: 2323 2323 2323 2323 230a 0a20 2020 2020  #########..     
-000124a0: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
-000124b0: 6467 6574 332e 6178 6973 2e63 6c65 6172  dget3.axis.clear
-000124c0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-000124d0: 6c61 796f 7574 203d 2051 5642 6f78 4c61  layout = QVBoxLa
-000124e0: 796f 7574 2873 656c 662e 706c 6f74 7769  yout(self.plotwi
-000124f0: 6467 6574 5f33 290a 2020 2020 2020 2020  dget_3).        
-00012500: 7365 6c66 2e6c 6179 6f75 742e 6164 6457  self.layout.addW
-00012510: 6964 6765 7428 6d61 7470 6c6f 746c 6962  idget(matplotlib
-00012520: 5f77 6964 6765 7433 290a 2020 2020 2020  _widget3).      
-00012530: 2020 7472 793a 0a20 2020 2020 2020 2020    try:.         
-00012540: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
-00012550: 6467 6574 332e 6178 6973 5f63 6d2e 7265  dget3.axis_cm.re
-00012560: 6d6f 7665 2829 0a20 2020 2020 2020 2065  move().        e
-00012570: 7863 6570 743a 0a20 2020 2020 2020 2020  xcept:.         
-00012580: 2020 2070 6173 730a 0a20 2020 2020 2020     pass..       
-00012590: 2064 6174 6162 6173 652e 636f 6d70 6172   database.compar
-000125a0: 655f 636f 7265 5f6c 6f73 735f 6672 6571  e_core_loss_freq
-000125b0: 7565 6e63 7928 6d61 7470 6c6f 746c 6962  uency(matplotlib
-000125c0: 5f77 6964 6765 7433 2c20 6d61 7465 7269  _widget3, materi
-000125d0: 616c 5f6c 6973 743d 6d61 7465 7269 616c  al_list=material
-000125e0: 735f 7573 6564 5f6c 6973 742c 0a20 2020  s_used_list,.   
-000125f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012610: 2020 2020 2020 2020 2020 7465 6d70 6572            temper
-00012620: 6174 7572 655f 6c69 7374 3d5b 6d61 7431  ature_list=[mat1
-00012630: 5f74 656d 702c 206d 6174 325f 7465 6d70  _temp, mat2_temp
-00012640: 2c20 6d61 7433 5f74 656d 702c 206d 6174  , mat3_temp, mat
-00012650: 345f 7465 6d70 2c20 6d61 7435 5f74 656d  4_temp, mat5_tem
-00012660: 705d 2c0a 2020 2020 2020 2020 2020 2020  p],.            
-00012670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012690: 2066 6c75 785f 6465 6e73 6974 795f 6c69   flux_density_li
-000126a0: 7374 3d5b 6d61 7431 5f66 6c75 782c 206d  st=[mat1_flux, m
-000126b0: 6174 325f 666c 7578 2c20 6d61 7433 5f66  at2_flux, mat3_f
-000126c0: 6c75 782c 206d 6174 345f 666c 7578 2c20  lux, mat4_flux, 
-000126d0: 6d61 7435 5f66 6c75 785d 290a 2020 2020  mat5_flux]).    
-000126e0: 2020 2020 2320 7365 6c66 2e6d 6174 706c      # self.matpl
-000126f0: 6f74 6c69 625f 7769 6467 6574 332e 6178  otlib_widget3.ax
-00012700: 6973 2e6c 6567 656e 6428 666f 6e74 7369  is.legend(fontsi
-00012710: 7a65 3d31 3329 0a20 2020 2020 2020 206d  ze=13).        m
-00012720: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-00012730: 332e 6178 6973 2e67 7269 6428 290a 2020  3.axis.grid().  
-00012740: 2020 2020 2020 6d61 7470 6c6f 746c 6962        matplotlib
-00012750: 5f77 6964 6765 7433 2e66 6967 7572 652e  _widget3.figure.
-00012760: 6361 6e76 6173 2e64 7261 775f 6964 6c65  canvas.draw_idle
-00012770: 2829 0a20 2020 2020 2020 206d 6174 706c  ().        matpl
-00012780: 6f74 6c69 625f 7769 6467 6574 332e 6669  otlib_widget3.fi
-00012790: 6775 7265 2e74 6967 6874 5f6c 6179 6f75  gure.tight_layou
-000127a0: 7428 290a 0a20 2020 2020 2020 2023 2323  t()..        ###
-000127b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000127c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000127d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000127e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000127f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012800: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00012810: 2323 2323 2323 2323 2323 2323 230a 0a20  #############.. 
-00012820: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
-00012830: 625f 7769 6467 6574 342e 6178 6973 2e63  b_widget4.axis.c
-00012840: 6c65 6172 2829 0a20 2020 2020 2020 2073  lear().        s
-00012850: 656c 662e 6c61 796f 7574 203d 2051 5642  elf.layout = QVB
-00012860: 6f78 4c61 796f 7574 2873 656c 662e 706c  oxLayout(self.pl
-00012870: 6f74 7769 6467 6574 5f34 290a 2020 2020  otwidget_4).    
-00012880: 2020 2020 7365 6c66 2e6c 6179 6f75 742e      self.layout.
-00012890: 6164 6457 6964 6765 7428 6d61 7470 6c6f  addWidget(matplo
-000128a0: 746c 6962 5f77 6964 6765 7434 290a 2020  tlib_widget4).  
-000128b0: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
-000128c0: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
-000128d0: 625f 7769 6467 6574 342e 6178 6973 5f63  b_widget4.axis_c
-000128e0: 6d2e 7265 6d6f 7665 2829 0a20 2020 2020  m.remove().     
-000128f0: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
-00012900: 2020 2020 2020 2070 6173 730a 0a20 2020         pass..   
-00012910: 2020 2020 2064 6174 6162 6173 652e 636f       database.co
-00012920: 6d70 6172 655f 625f 685f 6375 7276 6528  mpare_b_h_curve(
-00012930: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
-00012940: 7434 2c20 6d61 7465 7269 616c 5f6c 6973  t4, material_lis
-00012950: 743d 6d61 7465 7269 616c 735f 7573 6564  t=materials_used
-00012960: 5f6c 6973 742c 0a20 2020 2020 2020 2020  _list,.         
-00012970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00012980: 2020 2020 2020 2020 2020 7465 6d70 6572            temper
-00012990: 6174 7572 655f 6c69 7374 3d5b 6d61 7431  ature_list=[mat1
-000129a0: 5f74 656d 702c 206d 6174 325f 7465 6d70  _temp, mat2_temp
-000129b0: 2c20 6d61 7433 5f74 656d 702c 206d 6174  , mat3_temp, mat
-000129c0: 345f 7465 6d70 2c20 6d61 7435 5f74 656d  4_temp, mat5_tem
-000129d0: 705d 290a 2020 2020 2020 2020 2320 7365  p]).        # se
-000129e0: 6c66 2e6d 6174 706c 6f74 6c69 625f 7769  lf.matplotlib_wi
-000129f0: 6467 6574 342e 6178 6973 2e6c 6567 656e  dget4.axis.legen
-00012a00: 6428 666f 6e74 7369 7a65 3d31 3329 0a20  d(fontsize=13). 
-00012a10: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
-00012a20: 625f 7769 6467 6574 342e 6178 6973 2e67  b_widget4.axis.g
-00012a30: 7269 6428 290a 2020 2020 2020 2020 6d61  rid().        ma
-00012a40: 7470 6c6f 746c 6962 5f77 6964 6765 7434  tplotlib_widget4
-00012a50: 2e66 6967 7572 652e 6361 6e76 6173 2e64  .figure.canvas.d
-00012a60: 7261 775f 6964 6c65 2829 0a20 2020 2020  raw_idle().     
-00012a70: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
-00012a80: 6467 6574 342e 6669 6775 7265 2e74 6967  dget4.figure.tig
-00012a90: 6874 5f6c 6179 6f75 7428 290a 0a20 2020  ht_layout()..   
-00012aa0: 2064 6566 2064 6174 7570 6461 7465 7261   def datupdatera
-00012ab0: 7068 3228 7365 6c66 2c20 6d61 7470 6c6f  ph2(self, matplo
-00012ac0: 746c 6962 5f77 6964 6765 7431 2c20 6d61  tlib_widget1, ma
-00012ad0: 7470 6c6f 746c 6962 5f77 6964 6765 7432  tplotlib_widget2
-00012ae0: 293a 0a20 2020 2020 2020 2022 2222 0a20  ):.        """. 
-00012af0: 2020 2020 2020 204d 6561 7375 7265 6d65         Measureme
-00012b00: 6e74 2d4d 6561 7375 7265 6d65 6e74 2070  nt-Measurement p
-00012b10: 6c6f 742e 0a0a 2020 2020 2020 2020 3a70  lot...        :p
-00012b20: 6172 616d 206d 6174 706c 6f74 6c69 625f  aram matplotlib_
-00012b30: 7769 6467 6574 313a 2046 6f74 2074 6865  widget1: Fot the
-00012b40: 2066 6972 7374 2070 6c6f 7420 6f66 2075   first plot of u
-00012b50: 522f 7530 2076 7320 420a 2020 2020 2020  R/u0 vs B.      
-00012b60: 2020 3a70 6172 616d 206d 6174 706c 6f74    :param matplot
-00012b70: 6c69 625f 7769 6467 6574 323a 2066 6f72  lib_widget2: for
-00012b80: 2074 6865 2073 6563 6f6e 6420 706c 6f74   the second plot
-00012b90: 206f 6620 7552 2f75 3020 7673 2042 0a20   of uR/u0 vs B. 
-00012ba0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00012bb0: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
-00012bc0: 6467 6574 312e 6178 6973 2e63 6c65 6172  dget1.axis.clear
-00012bd0: 2829 0a20 2020 2020 2020 2073 656c 662e  ().        self.
-00012be0: 6c61 796f 7574 203d 2051 5642 6f78 4c61  layout = QVBoxLa
-00012bf0: 796f 7574 2873 656c 662e 706c 6f74 7769  yout(self.plotwi
-00012c00: 6467 6574 5f31 3329 0a20 2020 2020 2020  dget_13).       
-00012c10: 2073 656c 662e 6c61 796f 7574 2e61 6464   self.layout.add
-00012c20: 5769 6467 6574 286d 6174 706c 6f74 6c69  Widget(matplotli
-00012c30: 625f 7769 6467 6574 3129 0a20 2020 2020  b_widget1).     
-00012c40: 2020 2074 7279 3a0a 2020 2020 2020 2020     try:.        
-00012c50: 2020 2020 6d61 7470 6c6f 746c 6962 5f77      matplotlib_w
-00012c60: 6964 6765 7431 2e61 7869 735f 636d 2e72  idget1.axis_cm.r
-00012c70: 656d 6f76 6528 290a 2020 2020 2020 2020  emove().        
-00012c80: 6578 6365 7074 3a0a 2020 2020 2020 2020  except:.        
-00012c90: 2020 2020 7061 7373 0a0a 2020 2020 2020      pass..      
-00012ca0: 2020 6d61 7431 5f6e 616d 6520 3d20 7365    mat1_name = se
-00012cb0: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
-00012cc0: 7269 616c 315f 636f 6d62 6f42 6f78 5f32  rial1_comboBox_2
-00012cd0: 2e63 7572 7265 6e74 5465 7874 2829 0a20  .currentText(). 
-00012ce0: 2020 2020 2020 206d 6174 325f 6e61 6d65         mat2_name
-00012cf0: 203d 2073 656c 662e 6461 745f 636f 7265   = self.dat_core
-00012d00: 5f6d 6174 6572 6961 6c32 5f63 6f6d 626f  _material2_combo
-00012d10: 426f 785f 322e 6375 7272 656e 7454 6578  Box_2.currentTex
-00012d20: 7428 290a 2020 2020 2020 2020 6d61 7433  t().        mat3
-00012d30: 5f6e 616d 6520 3d20 7365 6c66 2e64 6174  _name = self.dat
-00012d40: 5f63 6f72 655f 6d61 7465 7269 616c 335f  _core_material3_
-00012d50: 636f 6d62 6f42 6f78 5f32 2e63 7572 7265  comboBox_2.curre
-00012d60: 6e74 5465 7874 2829 0a20 2020 2020 2020  ntText().       
-00012d70: 206d 6174 345f 6e61 6d65 203d 2073 656c   mat4_name = sel
-00012d80: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
-00012d90: 6961 6c34 5f63 6f6d 626f 426f 785f 322e  ial4_comboBox_2.
-00012da0: 6375 7272 656e 7454 6578 7428 290a 2020  currentText().  
-00012db0: 2020 2020 2020 6d61 7435 5f6e 616d 6520        mat5_name 
-00012dc0: 3d20 7365 6c66 2e64 6174 5f63 6f72 655f  = self.dat_core_
-00012dd0: 6d61 7465 7269 616c 355f 636f 6d62 6f42  material5_comboB
-00012de0: 6f78 5f32 2e63 7572 7265 6e74 5465 7874  ox_2.currentText
-00012df0: 2829 0a0a 2020 2020 2020 2020 6d61 7431  ()..        mat1
-00012e00: 5f74 6573 745f 6e61 6d65 203d 2073 656c  _test_name = sel
-00012e10: 662e 7465 7374 5f6e 616d 655f 315f 636f  f.test_name_1_co
-00012e20: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-00012e30: 7874 2829 0a20 2020 2020 2020 206d 6174  xt().        mat
-00012e40: 325f 7465 7374 5f6e 616d 6520 3d20 7365  2_test_name = se
-00012e50: 6c66 2e74 6573 745f 6e61 6d65 5f32 5f63  lf.test_name_2_c
-00012e60: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00012e70: 6578 7428 290a 2020 2020 2020 2020 6d61  ext().        ma
-00012e80: 7433 5f74 6573 745f 6e61 6d65 203d 2073  t3_test_name = s
-00012e90: 656c 662e 7465 7374 5f6e 616d 655f 335f  elf.test_name_3_
-00012ea0: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00012eb0: 5465 7874 2829 0a20 2020 2020 2020 206d  Text().        m
-00012ec0: 6174 345f 7465 7374 5f6e 616d 6520 3d20  at4_test_name = 
-00012ed0: 7365 6c66 2e74 6573 745f 6e61 6d65 5f34  self.test_name_4
-00012ee0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-00012ef0: 7454 6578 7428 290a 2020 2020 2020 2020  tText().        
-00012f00: 6d61 7435 5f74 6573 745f 6e61 6d65 203d  mat5_test_name =
-00012f10: 2073 656c 662e 7465 7374 5f6e 616d 655f   self.test_name_
-00012f20: 355f 636f 6d62 6f42 6f78 2e63 7572 7265  5_comboBox.curre
-00012f30: 6e74 5465 7874 2829 0a0a 2020 2020 2020  ntText()..      
-00012f40: 2020 6d61 7431 5f74 656d 7020 3d20 636f    mat1_temp = co
-00012f50: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00012f60: 5f66 6c6f 6174 2873 656c 662e 6175 745f  _float(self.aut_
-00012f70: 7465 6d70 5f6d 315f 636f 6d62 6f42 6f78  temp_m1_comboBox
-00012f80: 5f32 2e63 7572 7265 6e74 5465 7874 2829  _2.currentText()
-00012f90: 290a 2020 2020 2020 2020 6d61 7432 5f74  ).        mat2_t
-00012fa0: 656d 7020 3d20 636f 6d6d 615f 7374 725f  emp = comma_str_
-00012fb0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00012fc0: 656c 662e 6175 745f 7465 6d70 5f6d 325f  elf.aut_temp_m2_
-00012fd0: 636f 6d62 6f42 6f78 5f32 2e63 7572 7265  comboBox_2.curre
-00012fe0: 6e74 5465 7874 2829 290a 2020 2020 2020  ntText()).      
-00012ff0: 2020 6d61 7433 5f74 656d 7020 3d20 636f    mat3_temp = co
-00013000: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00013010: 5f66 6c6f 6174 2873 656c 662e 6175 745f  _float(self.aut_
-00013020: 7465 6d70 5f6d 335f 636f 6d62 6f42 6f78  temp_m3_comboBox
-00013030: 5f32 2e63 7572 7265 6e74 5465 7874 2829  _2.currentText()
-00013040: 290a 2020 2020 2020 2020 6d61 7434 5f74  ).        mat4_t
-00013050: 656d 7020 3d20 636f 6d6d 615f 7374 725f  emp = comma_str_
-00013060: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00013070: 656c 662e 6175 745f 7465 6d70 5f6d 345f  elf.aut_temp_m4_
-00013080: 636f 6d62 6f42 6f78 5f32 2e63 7572 7265  comboBox_2.curre
-00013090: 6e74 5465 7874 2829 290a 2020 2020 2020  ntText()).      
-000130a0: 2020 6d61 7435 5f74 656d 7020 3d20 636f    mat5_temp = co
-000130b0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-000130c0: 5f66 6c6f 6174 2873 656c 662e 6175 745f  _float(self.aut_
-000130d0: 7465 6d70 5f6d 355f 636f 6d62 6f42 6f78  temp_m5_comboBox
-000130e0: 5f32 2e63 7572 7265 6e74 5465 7874 2829  _2.currentText()
-000130f0: 290a 0a20 2020 2020 2020 206d 6174 315f  )..        mat1_
-00013100: 6672 6571 203d 2063 6f6d 6d61 5f73 7472  freq = comma_str
-00013110: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-00013120: 7365 6c66 2e61 7574 5f66 7265 715f 6d31  self.aut_freq_m1
-00013130: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-00013140: 7454 6578 7428 2929 0a20 2020 2020 2020  tText()).       
-00013150: 206d 6174 325f 6672 6571 203d 2063 6f6d   mat2_freq = com
-00013160: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00013170: 666c 6f61 7428 7365 6c66 2e61 7574 5f66  float(self.aut_f
-00013180: 7265 715f 6d32 5f63 6f6d 626f 426f 782e  req_m2_comboBox.
-00013190: 6375 7272 656e 7454 6578 7428 2929 0a20  currentText()). 
-000131a0: 2020 2020 2020 206d 6174 335f 6672 6571         mat3_freq
-000131b0: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
-000131c0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-000131d0: 2e61 7574 5f66 7265 715f 6d33 5f63 6f6d  .aut_freq_m3_com
-000131e0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-000131f0: 7428 2929 0a20 2020 2020 2020 206d 6174  t()).        mat
-00013200: 345f 6672 6571 203d 2063 6f6d 6d61 5f73  4_freq = comma_s
-00013210: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00013220: 7428 7365 6c66 2e61 7574 5f66 7265 715f  t(self.aut_freq_
-00013230: 6d34 5f63 6f6d 626f 426f 782e 6375 7272  m4_comboBox.curr
-00013240: 656e 7454 6578 7428 2929 0a20 2020 2020  entText()).     
-00013250: 2020 206d 6174 355f 6672 6571 203d 2063     mat5_freq = c
-00013260: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00013270: 745f 666c 6f61 7428 7365 6c66 2e61 7574  t_float(self.aut
-00013280: 5f66 7265 715f 6d35 5f63 6f6d 626f 426f  _freq_m5_comboBo
-00013290: 782e 6375 7272 656e 7454 6578 7428 2929  x.currentText())
-000132a0: 0a0a 2020 2020 2020 2020 2320 7072 696e  ..        # prin
-000132b0: 7428 6622 6d61 7431 5f6e 616d 653a 207b  t(f"mat1_name: {
-000132c0: 6d61 7431 5f6e 616d 657d 2c7b 6d61 7432  mat1_name},{mat2
-000132d0: 5f6e 616d 657d 2c7b 6d61 7433 5f6e 616d  _name},{mat3_nam
-000132e0: 657d 2c7b 6d61 7434 5f6e 616d 657d 2c7b  e},{mat4_name},{
-000132f0: 6d61 7435 5f6e 616d 657d 2229 0a20 2020  mat5_name}").   
-00013300: 2020 2020 2023 2070 7269 6e74 2866 226d       # print(f"m
-00013310: 6174 315f 7465 6d70 3a20 7b6d 6174 315f  at1_temp: {mat1_
-00013320: 7465 6d70 7d2c 7b6d 6174 325f 7465 6d70  temp},{mat2_temp
-00013330: 7d2c 7b6d 6174 335f 7465 6d70 7d2c 7b6d  },{mat3_temp},{m
-00013340: 6174 345f 7465 6d70 7d2c 7b6d 6174 355f  at4_temp},{mat5_
-00013350: 7465 6d70 7d22 290a 2020 2020 2020 2020  temp}").        
-00013360: 2320 7072 696e 7428 6622 6d61 7431 5f66  # print(f"mat1_f
-00013370: 7265 713a 207b 6d61 7431 5f66 7265 717d  req: {mat1_freq}
-00013380: 2c7b 6d61 7432 5f66 7265 717d 2c7b 6d61  ,{mat2_freq},{ma
-00013390: 7433 5f66 7265 717d 2c7b 6d61 7434 5f66  t3_freq},{mat4_f
-000133a0: 7265 717d 2c7b 6d61 7435 5f66 7265 717d  req},{mat5_freq}
-000133b0: 2229 0a0a 2020 2020 2020 2020 6d61 7465  ")..        mate
-000133c0: 7269 616c 735f 7573 6564 5f6c 6973 7420  rials_used_list 
-000133d0: 3d20 5b5d 0a20 2020 2020 2020 206d 6174  = [].        mat
-000133e0: 6572 6961 6c5f 6c69 7374 203d 205b 6d61  erial_list = [ma
-000133f0: 7431 5f6e 616d 652c 206d 6174 325f 6e61  t1_name, mat2_na
-00013400: 6d65 2c20 6d61 7433 5f6e 616d 652c 206d  me, mat3_name, m
-00013410: 6174 345f 6e61 6d65 2c20 6d61 7435 5f6e  at4_name, mat5_n
-00013420: 616d 655d 0a20 2020 2020 2020 2066 6f72  ame].        for
-00013430: 2069 7465 6d73 2069 6e20 6d61 7465 7269   items in materi
-00013440: 616c 5f6c 6973 743a 0a20 2020 2020 2020  al_list:.       
-00013450: 2020 2020 2069 6620 6974 656d 733a 0a20       if items:. 
-00013460: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00013470: 6174 6572 6961 6c73 5f75 7365 645f 6c69  aterials_used_li
-00013480: 7374 2e61 7070 656e 6428 6974 656d 7329  st.append(items)
-00013490: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
-000134a0: 286d 6174 6572 6961 6c73 5f75 7365 645f  (materials_used_
-000134b0: 6c69 7374 290a 0a20 2020 2020 2020 2064  list)..        d
-000134c0: 6174 6162 6173 652e 636f 6d70 6172 655f  atabase.compare_
-000134d0: 7065 726d 6561 6269 6c69 7479 5f6d 6561  permeability_mea
-000134e0: 7375 7265 6d65 6e74 5f64 6174 6128 6d61  surement_data(ma
-000134f0: 7470 6c6f 746c 6962 5f77 6964 6765 7431  tplotlib_widget1
-00013500: 2c20 6d61 7465 7269 616c 5f6c 6973 743d  , material_list=
-00013510: 6d61 7465 7269 616c 735f 7573 6564 5f6c  materials_used_l
-00013520: 6973 742c 0a20 2020 2020 2020 2020 2020  ist,.           
-00013530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013540: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013550: 2020 2020 2020 2020 2020 2020 6d65 6173              meas
-00013560: 7572 656d 656e 745f 6e61 6d65 3d5b 6d61  urement_name=[ma
-00013570: 7431 5f74 6573 745f 6e61 6d65 2c20 6d61  t1_test_name, ma
-00013580: 7432 5f74 6573 745f 6e61 6d65 2c20 6d61  t2_test_name, ma
-00013590: 7433 5f74 6573 745f 6e61 6d65 2c0a 2020  t3_test_name,.  
-000135a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000135e0: 2020 2020 2020 206d 6174 345f 7465 7374         mat4_test
-000135f0: 5f6e 616d 652c 206d 6174 355f 7465 7374  _name, mat5_test
-00013600: 5f6e 616d 655d 2c0a 2020 2020 2020 2020  _name],.        
-00013610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013630: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00013640: 7265 7175 656e 6379 5f6c 6973 743d 5b6d  requency_list=[m
-00013650: 6174 315f 6672 6571 2c20 6d61 7432 5f66  at1_freq, mat2_f
-00013660: 7265 712c 206d 6174 335f 6672 6571 2c20  req, mat3_freq, 
-00013670: 6d61 7434 5f66 7265 712c 0a20 2020 2020  mat4_freq,.     
-00013680: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013690: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136c0: 2020 6d61 7435 5f66 7265 715d 2c0a 2020    mat5_freq],.  
-000136d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000136f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013700: 2020 2020 2074 656d 7065 7261 7475 7265       temperature
-00013710: 5f6c 6973 743d 5b6d 6174 315f 7465 6d70  _list=[mat1_temp
-00013720: 2c20 6d61 7432 5f74 656d 702c 206d 6174  , mat2_temp, mat
-00013730: 335f 7465 6d70 2c20 6d61 7434 5f74 656d  3_temp, mat4_tem
-00013740: 702c 0a20 2020 2020 2020 2020 2020 2020  p,.             
-00013750: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013760: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013770: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013780: 2020 2020 2020 2020 2020 2020 6d61 7435              mat5
-00013790: 5f74 656d 705d 2c0a 2020 2020 2020 2020  _temp],.        
-000137a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000137b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000137c0: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-000137d0: 6c6f 745f 7265 616c 5f70 6172 743d 5472  lot_real_part=Tr
-000137e0: 7565 290a 0a20 2020 2020 2020 206d 6174  ue)..        mat
-000137f0: 706c 6f74 6c69 625f 7769 6467 6574 312e  plotlib_widget1.
-00013800: 6178 6973 2e67 7269 6428 290a 2020 2020  axis.grid().    
-00013810: 2020 2020 6d61 7470 6c6f 746c 6962 5f77      matplotlib_w
-00013820: 6964 6765 7431 2e66 6967 7572 652e 6361  idget1.figure.ca
-00013830: 6e76 6173 2e64 7261 775f 6964 6c65 2829  nvas.draw_idle()
-00013840: 0a20 2020 2020 2020 206d 6174 706c 6f74  .        matplot
-00013850: 6c69 625f 7769 6467 6574 312e 6669 6775  lib_widget1.figu
-00013860: 7265 2e74 6967 6874 5f6c 6179 6f75 7428  re.tight_layout(
-00013870: 290a 0a20 2020 2020 2020 2023 2323 2323  )..        #####
-00013880: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00013890: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000138a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000138b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000138c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000138d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-000138e0: 2323 2323 2323 2323 2323 230a 0a20 2020  ###########..   
-000138f0: 2020 2020 206d 6174 706c 6f74 6c69 625f       matplotlib_
-00013900: 7769 6467 6574 322e 6178 6973 2e63 6c65  widget2.axis.cle
-00013910: 6172 2829 0a20 2020 2020 2020 2073 656c  ar().        sel
-00013920: 662e 6c61 796f 7574 203d 2051 5642 6f78  f.layout = QVBox
-00013930: 4c61 796f 7574 2873 656c 662e 706c 6f74  Layout(self.plot
-00013940: 7769 6467 6574 5f31 3429 0a20 2020 2020  widget_14).     
-00013950: 2020 2073 656c 662e 6c61 796f 7574 2e61     self.layout.a
-00013960: 6464 5769 6467 6574 286d 6174 706c 6f74  ddWidget(matplot
-00013970: 6c69 625f 7769 6467 6574 3229 0a20 2020  lib_widget2).   
-00013980: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00013990: 2020 2020 2020 6d61 7470 6c6f 746c 6962        matplotlib
-000139a0: 5f77 6964 6765 7432 2e61 7869 735f 636d  _widget2.axis_cm
-000139b0: 2e72 656d 6f76 6528 290a 2020 2020 2020  .remove().      
-000139c0: 2020 6578 6365 7074 3a0a 2020 2020 2020    except:.      
-000139d0: 2020 2020 2020 7061 7373 0a20 2020 2020        pass.     
-000139e0: 2020 2064 6174 6162 6173 652e 636f 6d70     database.comp
-000139f0: 6172 655f 7065 726d 6561 6269 6c69 7479  are_permeability
-00013a00: 5f6d 6561 7375 7265 6d65 6e74 5f64 6174  _measurement_dat
-00013a10: 6128 6d61 7470 6c6f 746c 6962 5f77 6964  a(matplotlib_wid
-00013a20: 6765 7432 2c20 6d61 7465 7269 616c 5f6c  get2, material_l
-00013a30: 6973 743d 6d61 7465 7269 616c 735f 7573  ist=materials_us
-00013a40: 6564 5f6c 6973 742c 0a20 2020 2020 2020  ed_list,.       
-00013a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013a80: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
-00013a90: 3d5b 6d61 7431 5f74 6573 745f 6e61 6d65  =[mat1_test_name
-00013aa0: 2c20 6d61 7432 5f74 6573 745f 6e61 6d65  , mat2_test_name
-00013ab0: 2c20 6d61 7433 5f74 6573 745f 6e61 6d65  , mat3_test_name
-00013ac0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00013ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013b00: 2020 2020 2020 2020 2020 206d 6174 345f             mat4_
-00013b10: 7465 7374 5f6e 616d 652c 206d 6174 355f  test_name, mat5_
-00013b20: 7465 7374 5f6e 616d 655d 2c0a 2020 2020  test_name],.    
-00013b30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013b60: 2020 2066 7265 7175 656e 6379 5f6c 6973     frequency_lis
-00013b70: 743d 5b6d 6174 315f 6672 6571 2c20 6d61  t=[mat1_freq, ma
-00013b80: 7432 5f66 7265 712c 206d 6174 335f 6672  t2_freq, mat3_fr
-00013b90: 6571 2c20 6d61 7434 5f66 7265 712c 0a20  eq, mat4_freq,. 
-00013ba0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013bb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013be0: 2020 2020 2020 6d61 7435 5f66 7265 715d        mat5_freq]
-00013bf0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00013c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c20: 2020 2020 2020 2020 2074 656d 7065 7261           tempera
-00013c30: 7475 7265 5f6c 6973 743d 5b6d 6174 315f  ture_list=[mat1_
-00013c40: 7465 6d70 2c20 6d61 7432 5f74 656d 702c  temp, mat2_temp,
-00013c50: 206d 6174 335f 7465 6d70 2c20 6d61 7434   mat3_temp, mat4
-00013c60: 5f74 656d 702c 0a20 2020 2020 2020 2020  _temp,.         
-00013c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ca0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013cb0: 6d61 7435 5f74 656d 705d 2c0a 2020 2020  mat5_temp],.    
-00013cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013ce0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00013cf0: 2020 2070 6c6f 745f 7265 616c 5f70 6172     plot_real_par
-00013d00: 743d 4661 6c73 6529 0a20 2020 2020 2020  t=False).       
-00013d10: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
-00013d20: 6574 322e 6178 6973 2e67 7269 6428 290a  et2.axis.grid().
-00013d30: 2020 2020 2020 2020 6d61 7470 6c6f 746c          matplotl
-00013d40: 6962 5f77 6964 6765 7432 2e66 6967 7572  ib_widget2.figur
-00013d50: 652e 6361 6e76 6173 2e64 7261 775f 6964  e.canvas.draw_id
-00013d60: 6c65 2829 0a20 2020 2020 2020 206d 6174  le().        mat
-00013d70: 706c 6f74 6c69 625f 7769 6467 6574 322e  plotlib_widget2.
-00013d80: 6669 6775 7265 2e74 6967 6874 5f6c 6179  figure.tight_lay
-00013d90: 6f75 7428 290a 0a20 2020 2064 6566 2064  out()..    def d
-00013da0: 6174 7570 6461 7465 7261 7068 3328 7365  atupdateraph3(se
-00013db0: 6c66 2c20 6d61 7470 6c6f 746c 6962 5f77  lf, matplotlib_w
-00013dc0: 6964 6765 7429 3a0a 2020 2020 2020 2020  idget):.        
-00013dd0: 2222 2244 6174 6173 6865 6574 2d4d 6561  """Datasheet-Mea
-00013de0: 7375 7265 6d65 6e74 2070 6c6f 742e 0a0a  surement plot...
-00013df0: 2020 2020 2020 2020 3a70 6172 616d 206d          :param m
-00013e00: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
-00013e10: 3a20 546f 2070 6c6f 7420 7265 6c61 7469  : To plot relati
-00013e20: 7665 2070 6f77 6572 206c 6f73 7320 7673  ve power loss vs
-00013e30: 2042 0a20 2020 2020 2020 2022 2222 0a20   B.        """. 
-00013e40: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
-00013e50: 625f 7769 6467 6574 2e61 7869 732e 636c  b_widget.axis.cl
-00013e60: 6561 7228 290a 2020 2020 2020 2020 7365  ear().        se
-00013e70: 6c66 2e6c 6179 6f75 7420 3d20 5156 426f  lf.layout = QVBo
-00013e80: 784c 6179 6f75 7428 7365 6c66 2e70 6c6f  xLayout(self.plo
-00013e90: 7477 6964 6765 745f 3135 290a 2020 2020  twidget_15).    
-00013ea0: 2020 2020 7365 6c66 2e6c 6179 6f75 742e      self.layout.
-00013eb0: 6164 6457 6964 6765 7428 6d61 7470 6c6f  addWidget(matplo
-00013ec0: 746c 6962 5f77 6964 6765 7429 0a20 2020  tlib_widget).   
-00013ed0: 2020 2020 2074 7279 3a0a 2020 2020 2020       try:.      
-00013ee0: 2020 2020 2020 6d61 7470 6c6f 746c 6962        matplotlib
-00013ef0: 5f77 6964 6765 742e 6178 6973 5f63 6d2e  _widget.axis_cm.
-00013f00: 7265 6d6f 7665 2829 0a20 2020 2020 2020  remove().       
-00013f10: 2065 7863 6570 743a 0a20 2020 2020 2020   except:.       
-00013f20: 2020 2020 2070 6173 730a 0a20 2020 2020       pass..     
-00013f30: 2020 206d 6174 5f64 6174 5f74 656d 7020     mat_dat_temp 
-00013f40: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
-00013f50: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-00013f60: 6175 745f 7465 6d70 5f64 6174 5f63 6f6d  aut_temp_dat_com
-00013f70: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-00013f80: 7428 2929 0a20 2020 2020 2020 206d 6174  t()).        mat
-00013f90: 5f6d 6561 735f 7465 6d70 203d 2063 6f6d  _meas_temp = com
-00013fa0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00013fb0: 666c 6f61 7428 7365 6c66 2e61 7574 5f74  float(self.aut_t
-00013fc0: 656d 705f 6d65 6173 5f63 6f6d 626f 426f  emp_meas_comboBo
-00013fd0: 782e 6375 7272 656e 7454 6578 7428 2929  x.currentText())
-00013fe0: 0a20 2020 2020 2020 206d 6174 5f6e 616d  .        mat_nam
-00013ff0: 6520 3d20 7365 6c66 2e64 6174 5f63 6f72  e = self.dat_cor
-00014000: 655f 6d61 7465 7269 616c 5f63 6f6d 626f  e_material_combo
-00014010: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
-00014020: 290a 0a20 2020 2020 2020 2064 6174 6162  )..        datab
-00014030: 6173 652e 636f 6d70 6172 655f 636f 7265  ase.compare_core
-00014040: 5f6c 6f73 735f 666c 7578 5f64 6174 6173  _loss_flux_datas
-00014050: 6865 6574 5f6d 6561 7375 7265 6d65 6e74  heet_measurement
-00014060: 286d 6174 706c 6f74 6c69 625f 7769 6467  (matplotlib_widg
-00014070: 6574 2c20 6d61 7465 7269 616c 3d6d 6174  et, material=mat
-00014080: 5f6e 616d 652c 0a20 2020 2020 2020 2020  _name,.         
-00014090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000140c0: 2020 2020 2074 656d 7065 7261 7475 7265       temperature
-000140d0: 5f6c 6973 743d 5b6d 6174 5f64 6174 5f74  _list=[mat_dat_t
-000140e0: 656d 702c 206d 6174 5f6d 6561 735f 7465  emp, mat_meas_te
-000140f0: 6d70 5d2c 206d 6561 7375 7265 6d65 6e74  mp], measurement
-00014100: 5f6e 616d 653d 666d 742e 4d65 6173 7572  _name=fmt.Measur
-00014110: 656d 656e 7453 6574 7570 2e4c 4541 5f4c  ementSetup.LEA_L
-00014120: 4b29 0a0a 2020 2020 2020 2020 6d61 7470  K)..        matp
-00014130: 6c6f 746c 6962 5f77 6964 6765 742e 6178  lotlib_widget.ax
-00014140: 6973 2e67 7269 6428 290a 2020 2020 2020  is.grid().      
-00014150: 2020 6d61 7470 6c6f 746c 6962 5f77 6964    matplotlib_wid
-00014160: 6765 742e 6669 6775 7265 2e63 616e 7661  get.figure.canva
-00014170: 732e 6472 6177 5f69 646c 6528 290a 2020  s.draw_idle().  
-00014180: 2020 2020 2020 6d61 7470 6c6f 746c 6962        matplotlib
-00014190: 5f77 6964 6765 742e 6669 6775 7265 2e74  _widget.figure.t
-000141a0: 6967 6874 5f6c 6179 6f75 7428 290a 0a20  ight_layout().. 
-000141b0: 2020 2064 6566 2064 6174 7570 6461 7465     def datupdate
-000141c0: 7261 7068 315f 636f 6e66 6967 2873 656c  raph1_config(sel
-000141d0: 6629 3a0a 2020 2020 2020 2020 2222 2243  f):.        """C
-000141e0: 616c 6c20 6461 7475 7064 6174 6572 6170  all datupdaterap
-000141f0: 6831 2c20 7768 656e 2055 7064 6174 6520  h1, when Update 
-00014200: 7072 6576 6965 7720 6275 7474 6f6e 2069  preview button i
-00014210: 7320 7072 6573 7365 6420 696e 2044 6174  s pressed in Dat
-00014220: 6173 6865 6574 2d44 6174 6173 6865 6574  asheet-Datasheet
-00014230: 2074 6162 2e22 2222 0a20 2020 2020 2020   tab.""".       
-00014240: 2073 656c 662e 6461 7475 7064 6174 6572   self.datupdater
-00014250: 6170 6831 2873 656c 662e 6d61 7470 6c6f  aph1(self.matplo
-00014260: 746c 6962 5f77 6964 6765 745f 6461 7464  tlib_widget_datd
-00014270: 6431 2c20 7365 6c66 2e6d 6174 706c 6f74  d1, self.matplot
-00014280: 6c69 625f 7769 6467 6574 5f64 6174 6464  lib_widget_datdd
-00014290: 322c 0a20 2020 2020 2020 2020 2020 2020  2,.             
-000142a0: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-000142b0: 656c 662e 6d61 7470 6c6f 746c 6962 5f77  elf.matplotlib_w
-000142c0: 6964 6765 745f 6461 7464 6433 2c20 7365  idget_datdd3, se
-000142d0: 6c66 2e6d 6174 706c 6f74 6c69 625f 7769  lf.matplotlib_wi
-000142e0: 6467 6574 5f64 6174 6464 3429 0a0a 2020  dget_datdd4)..  
-000142f0: 2020 6465 6620 6461 7475 7064 6174 6572    def datupdater
-00014300: 6170 6832 5f63 6f6e 6669 6728 7365 6c66  aph2_config(self
-00014310: 293a 0a20 2020 2020 2020 2022 2222 4361  ):.        """Ca
-00014320: 6c6c 2064 6174 7570 6461 7465 7261 7068  ll datupdateraph
-00014330: 322c 2077 6865 6e20 5570 6461 7465 2070  2, when Update p
-00014340: 7265 7669 6577 2062 7574 746f 6e20 6973  review button is
-00014350: 2070 7265 7373 6564 2069 6e20 4d65 6173   pressed in Meas
-00014360: 7572 656d 656e 742d 4d65 6173 7572 656d  urement-Measurem
-00014370: 656e 7420 7461 622e 2222 220a 2020 2020  ent tab.""".    
-00014380: 2020 2020 7365 6c66 2e64 6174 7570 6461      self.datupda
-00014390: 7465 7261 7068 3228 7365 6c66 2e6d 6174  teraph2(self.mat
-000143a0: 706c 6f74 6c69 625f 7769 6467 6574 5f64  plotlib_widget_d
-000143b0: 6174 6d6d 312c 2073 656c 662e 6d61 7470  atmm1, self.matp
-000143c0: 6c6f 746c 6962 5f77 6964 6765 745f 6461  lotlib_widget_da
-000143d0: 746d 6d32 290a 0a20 2020 2064 6566 2064  tmm2)..    def d
-000143e0: 6174 7570 6461 7465 7261 7068 335f 636f  atupdateraph3_co
-000143f0: 6e66 6967 2873 656c 6629 3a0a 2020 2020  nfig(self):.    
-00014400: 2020 2020 2222 2243 616c 6c20 6461 7475      """Call datu
-00014410: 7064 6174 6572 6170 6833 2c20 7768 656e  pdateraph3, when
-00014420: 2055 7064 6174 6520 7072 6576 6965 7720   Update preview 
-00014430: 6275 7474 6f6e 2069 7320 7072 6573 7365  button is presse
-00014440: 6420 696e 2044 6174 6173 6865 6574 2d4d  d in Datasheet-M
-00014450: 6561 7375 7265 6d65 6e74 2074 6162 2e22  easurement tab."
-00014460: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-00014470: 6461 7475 7064 6174 6572 6170 6833 2873  datupdateraph3(s
-00014480: 656c 662e 6d61 7470 6c6f 746c 6962 5f77  elf.matplotlib_w
-00014490: 6964 6765 745f 6461 7464 6d29 0a0a 2020  idget_datdm)..  
-000144a0: 2020 6465 6620 7465 6d70 666c 7578 696e    def tempfluxin
-000144b0: 7075 7431 2873 656c 6629 3a0a 2020 2020  put1(self):.    
-000144c0: 2020 2020 2222 2247 6574 2074 6865 2066      """Get the f
-000144d0: 6c75 7820 616e 6420 7465 6d70 6572 6174  lux and temperat
-000144e0: 7572 6520 6f66 2061 2070 6172 7469 6375  ure of a particu
-000144f0: 6c61 7220 6d61 7465 7269 616c 2073 656c  lar material sel
-00014500: 6563 7465 642e 2222 220a 2020 2020 2020  ected.""".      
-00014510: 2020 6d61 745f 7465 7874 3120 3d20 7365    mat_text1 = se
-00014520: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
-00014530: 7269 616c 315f 636f 6d62 6f42 6f78 2e63  rial1_comboBox.c
-00014540: 7572 7265 6e74 5465 7874 2829 0a0a 2020  urrentText()..  
-00014550: 2020 2020 2020 6765 745f 7465 6d70 315f        get_temp1_
-00014560: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
-00014570: 2020 6765 745f 666c 7578 315f 6c69 7374    get_flux1_list
-00014580: 203d 205b 5d0a 2020 2020 2020 2020 6966   = [].        if
-00014590: 206d 6174 5f74 6578 7431 3a0a 2020 2020   mat_text1:.    
-000145a0: 2020 2020 2020 2020 6765 745f 7465 6d70          get_temp
-000145b0: 315f 6c69 7374 203d 2064 6174 6162 6173  1_list = databas
-000145c0: 652e 6472 6f70 5f64 6f77 6e5f 6c69 7374  e.drop_down_list
-000145d0: 286d 6174 6572 6961 6c5f 6e61 6d65 3d6d  (material_name=m
-000145e0: 6174 5f74 6578 7431 2c20 6461 7461 7479  at_text1, dataty
-000145f0: 7065 3d4e 6f6e 652c 206d 6561 7375 7265  pe=None, measure
-00014600: 6d65 6e74 5f6e 616d 653d 4e6f 6e65 2c0a  ment_name=None,.
-00014610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014620: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014630: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014640: 2020 2020 2063 6f6d 7061 7269 736f 6e5f       comparison_
-00014650: 7479 7065 3d22 6476 6422 2c20 7465 6d70  type="dvd", temp
-00014660: 6572 6174 7572 653d 5472 7565 290a 2020  erature=True).  
-00014670: 2020 2020 2020 2020 2020 6765 745f 666c            get_fl
-00014680: 7578 315f 6c69 7374 203d 2064 6174 6162  ux1_list = datab
-00014690: 6173 652e 6472 6f70 5f64 6f77 6e5f 6c69  ase.drop_down_li
-000146a0: 7374 286d 6174 6572 6961 6c5f 6e61 6d65  st(material_name
-000146b0: 3d6d 6174 5f74 6578 7431 2c20 6461 7461  =mat_text1, data
-000146c0: 7479 7065 3d4e 6f6e 652c 206d 6561 7375  type=None, measu
-000146d0: 7265 6d65 6e74 5f6e 616d 653d 4e6f 6e65  rement_name=None
-000146e0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000146f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014710: 2020 2020 2020 2063 6f6d 7061 7269 736f         compariso
-00014720: 6e5f 7479 7065 3d22 6476 6422 2c20 666c  n_type="dvd", fl
-00014730: 7578 5f64 656e 7369 7479 3d54 7275 6529  ux_density=True)
-00014740: 0a0a 2020 2020 2020 2020 6175 745f 7465  ..        aut_te
-00014750: 6d70 5f6f 7074 696f 6e73 3120 3d20 6765  mp_options1 = ge
-00014760: 745f 7465 6d70 315f 6c69 7374 0a20 2020  t_temp1_list.   
-00014770: 2020 2020 2061 7574 5f66 6c75 785f 6f70       aut_flux_op
-00014780: 7469 6f6e 7331 203d 2067 6574 5f66 6c75  tions1 = get_flu
-00014790: 7831 5f6c 6973 740a 0a20 2020 2020 2020  x1_list..       
-000147a0: 2074 656d 705f 7374 7220 3d20 5b66 277b   temp_str = [f'{
-000147b0: 6974 656d 3a2e 3266 7d27 2066 6f72 2069  item:.2f}' for i
-000147c0: 7465 6d20 696e 2061 7574 5f74 656d 705f  tem in aut_temp_
-000147d0: 6f70 7469 6f6e 7331 5d0a 2020 2020 2020  options1].      
-000147e0: 2020 666c 7578 5f73 7472 203d 205b 6627    flux_str = [f'
-000147f0: 7b69 7465 6d3a 2e34 667d 2720 666f 7220  {item:.4f}' for 
-00014800: 6974 656d 2069 6e20 6175 745f 666c 7578  item in aut_flux
-00014810: 5f6f 7074 696f 6e73 315d 0a20 2020 2020  _options1].     
-00014820: 2020 2073 656c 662e 6175 745f 7465 6d70     self.aut_temp
-00014830: 5f6d 315f 636f 6d62 6f42 6f78 2e63 6c65  _m1_comboBox.cle
-00014840: 6172 2829 0a20 2020 2020 2020 2073 656c  ar().        sel
-00014850: 662e 6175 745f 666c 7578 5f6d 315f 636f  f.aut_flux_m1_co
-00014860: 6d62 6f42 6f78 2e63 6c65 6172 2829 0a20  mboBox.clear(). 
-00014870: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
-00014880: 6e20 696e 2074 656d 705f 7374 723a 0a20  n in temp_str:. 
-00014890: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-000148a0: 6175 745f 7465 6d70 5f6d 315f 636f 6d62  aut_temp_m1_comb
-000148b0: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
-000148c0: 696f 6e29 0a0a 2020 2020 2020 2020 666f  ion)..        fo
-000148d0: 7220 6f70 7469 6f6e 2069 6e20 666c 7578  r option in flux
-000148e0: 5f73 7472 3a0a 2020 2020 2020 2020 2020  _str:.          
-000148f0: 2020 7365 6c66 2e61 7574 5f66 6c75 785f    self.aut_flux_
-00014900: 6d31 5f63 6f6d 626f 426f 782e 6164 6449  m1_comboBox.addI
-00014910: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
-00014920: 2064 6566 2074 656d 7066 6c75 7869 6e70   def tempfluxinp
-00014930: 7574 3228 7365 6c66 293a 0a20 2020 2020  ut2(self):.     
-00014940: 2020 2022 2222 4765 7420 7468 6520 666c     """Get the fl
-00014950: 7578 2061 6e64 2074 656d 7065 7261 7475  ux and temperatu
-00014960: 7265 206f 6620 6120 7061 7274 6963 756c  re of a particul
-00014970: 6172 206d 6174 6572 6961 6c20 7365 6c65  ar material sele
-00014980: 6374 6564 2e22 2222 0a20 2020 2020 2020  cted.""".       
-00014990: 206d 6174 5f74 6578 7432 203d 2073 656c   mat_text2 = sel
-000149a0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
-000149b0: 6961 6c32 5f63 6f6d 626f 426f 782e 6375  ial2_comboBox.cu
-000149c0: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
-000149d0: 2020 2020 6765 745f 7465 6d70 325f 6c69      get_temp2_li
-000149e0: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
-000149f0: 6765 745f 666c 7578 325f 6c69 7374 203d  get_flux2_list =
-00014a00: 205b 5d0a 2020 2020 2020 2020 6966 206d   [].        if m
-00014a10: 6174 5f74 6578 7432 3a0a 2020 2020 2020  at_text2:.      
-00014a20: 2020 2020 2020 6765 745f 7465 6d70 325f        get_temp2_
-00014a30: 6c69 7374 203d 2064 6174 6162 6173 652e  list = database.
-00014a40: 6472 6f70 5f64 6f77 6e5f 6c69 7374 286d  drop_down_list(m
-00014a50: 6174 6572 6961 6c5f 6e61 6d65 3d6d 6174  aterial_name=mat
-00014a60: 5f74 6578 7432 2c20 6461 7461 7479 7065  _text2, datatype
-00014a70: 3d4e 6f6e 652c 206d 6561 7375 7265 6d65  =None, measureme
-00014a80: 6e74 5f6e 616d 653d 4e6f 6e65 2c0a 2020  nt_name=None,.  
-00014a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ac0: 2020 2063 6f6d 7061 7269 736f 6e5f 7479     comparison_ty
-00014ad0: 7065 3d22 6476 6422 2c20 7465 6d70 6572  pe="dvd", temper
-00014ae0: 6174 7572 653d 5472 7565 290a 2020 2020  ature=True).    
-00014af0: 2020 2020 2020 2020 6765 745f 666c 7578          get_flux
-00014b00: 325f 6c69 7374 203d 2064 6174 6162 6173  2_list = databas
-00014b10: 652e 6472 6f70 5f64 6f77 6e5f 6c69 7374  e.drop_down_list
-00014b20: 286d 6174 6572 6961 6c5f 6e61 6d65 3d6d  (material_name=m
-00014b30: 6174 5f74 6578 7432 2c20 6461 7461 7479  at_text2, dataty
-00014b40: 7065 3d4e 6f6e 652c 206d 6561 7375 7265  pe=None, measure
-00014b50: 6d65 6e74 5f6e 616d 653d 4e6f 6e65 2c0a  ment_name=None,.
-00014b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014b90: 2020 2020 2063 6f6d 7061 7269 736f 6e5f       comparison_
-00014ba0: 7479 7065 3d22 6476 6422 2c20 666c 7578  type="dvd", flux
-00014bb0: 5f64 656e 7369 7479 3d54 7275 6529 0a20  _density=True). 
-00014bc0: 2020 2020 2020 2061 7574 5f74 656d 705f         aut_temp_
-00014bd0: 6f70 7469 6f6e 7332 203d 2067 6574 5f74  options2 = get_t
-00014be0: 656d 7032 5f6c 6973 740a 2020 2020 2020  emp2_list.      
-00014bf0: 2020 6175 745f 666c 7578 5f6f 7074 696f    aut_flux_optio
-00014c00: 6e73 3220 3d20 6765 745f 666c 7578 325f  ns2 = get_flux2_
-00014c10: 6c69 7374 0a0a 2020 2020 2020 2020 7465  list..        te
-00014c20: 6d70 5f73 7472 203d 205b 6627 7b69 7465  mp_str = [f'{ite
-00014c30: 6d3a 2e32 667d 2720 666f 7220 6974 656d  m:.2f}' for item
-00014c40: 2069 6e20 6175 745f 7465 6d70 5f6f 7074   in aut_temp_opt
-00014c50: 696f 6e73 325d 0a20 2020 2020 2020 2066  ions2].        f
-00014c60: 6c75 785f 7374 7220 3d20 5b66 277b 6974  lux_str = [f'{it
-00014c70: 656d 3a2e 3466 7d27 2066 6f72 2069 7465  em:.4f}' for ite
-00014c80: 6d20 696e 2061 7574 5f66 6c75 785f 6f70  m in aut_flux_op
-00014c90: 7469 6f6e 7332 5d0a 2020 2020 2020 2020  tions2].        
-00014ca0: 7365 6c66 2e61 7574 5f74 656d 705f 6d32  self.aut_temp_m2
-00014cb0: 5f63 6f6d 626f 426f 782e 636c 6561 7228  _comboBox.clear(
-00014cc0: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00014cd0: 7574 5f66 6c75 785f 6d32 5f63 6f6d 626f  ut_flux_m2_combo
-00014ce0: 426f 782e 636c 6561 7228 290a 2020 2020  Box.clear().    
-00014cf0: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-00014d00: 6e20 7465 6d70 5f73 7472 3a0a 2020 2020  n temp_str:.    
-00014d10: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00014d20: 5f74 656d 705f 6d32 5f63 6f6d 626f 426f  _temp_m2_comboBo
-00014d30: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
-00014d40: 290a 0a20 2020 2020 2020 2066 6f72 206f  )..        for o
-00014d50: 7074 696f 6e20 696e 2066 6c75 785f 7374  ption in flux_st
-00014d60: 723a 0a20 2020 2020 2020 2020 2020 2073  r:.            s
-00014d70: 656c 662e 6175 745f 666c 7578 5f6d 325f  elf.aut_flux_m2_
-00014d80: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
-00014d90: 286f 7074 696f 6e29 0a0a 2020 2020 6465  (option)..    de
-00014da0: 6620 7465 6d70 666c 7578 696e 7075 7433  f tempfluxinput3
-00014db0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00014dc0: 2222 2247 6574 2074 6865 2066 6c75 7820  """Get the flux 
-00014dd0: 616e 6420 7465 6d70 6572 6174 7572 6520  and temperature 
-00014de0: 6f66 2061 2070 6172 7469 6375 6c61 7220  of a particular 
-00014df0: 6d61 7465 7269 616c 2073 656c 6563 7465  material selecte
-00014e00: 642e 2222 220a 2020 2020 2020 2020 6d61  d.""".        ma
-00014e10: 745f 7465 7874 3320 3d20 7365 6c66 2e64  t_text3 = self.d
-00014e20: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
-00014e30: 335f 636f 6d62 6f42 6f78 2e63 7572 7265  3_comboBox.curre
-00014e40: 6e74 5465 7874 2829 0a20 2020 2020 2020  ntText().       
-00014e50: 2067 6574 5f74 656d 7033 5f6c 6973 7420   get_temp3_list 
-00014e60: 3d20 5b5d 0a20 2020 2020 2020 2067 6574  = [].        get
-00014e70: 5f66 6c75 7833 5f6c 6973 7420 3d20 5b5d  _flux3_list = []
-00014e80: 0a20 2020 2020 2020 2069 6620 6d61 745f  .        if mat_
-00014e90: 7465 7874 333a 0a20 2020 2020 2020 2020  text3:.         
-00014ea0: 2020 2067 6574 5f74 656d 7033 5f6c 6973     get_temp3_lis
-00014eb0: 7420 3d20 6461 7461 6261 7365 2e64 726f  t = database.dro
-00014ec0: 705f 646f 776e 5f6c 6973 7428 6d61 7465  p_down_list(mate
-00014ed0: 7269 616c 5f6e 616d 653d 6d61 745f 7465  rial_name=mat_te
-00014ee0: 7874 332c 2064 6174 6174 7970 653d 4e6f  xt3, datatype=No
-00014ef0: 6e65 2c20 6d65 6173 7572 656d 656e 745f  ne, measurement_
-00014f00: 6e61 6d65 3d4e 6f6e 652c 0a20 2020 2020  name=None,.     
-00014f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014f40: 636f 6d70 6172 6973 6f6e 5f74 7970 653d  comparison_type=
-00014f50: 2264 7664 222c 2074 656d 7065 7261 7475  "dvd", temperatu
-00014f60: 7265 3d54 7275 6529 0a20 2020 2020 2020  re=True).       
-00014f70: 2020 2020 2067 6574 5f66 6c75 7833 5f6c       get_flux3_l
-00014f80: 6973 7420 3d20 6461 7461 6261 7365 2e64  ist = database.d
-00014f90: 726f 705f 646f 776e 5f6c 6973 7428 6d61  rop_down_list(ma
-00014fa0: 7465 7269 616c 5f6e 616d 653d 6d61 745f  terial_name=mat_
-00014fb0: 7465 7874 332c 2064 6174 6174 7970 653d  text3, datatype=
-00014fc0: 4e6f 6e65 2c20 6d65 6173 7572 656d 656e  None, measuremen
-00014fd0: 745f 6e61 6d65 3d4e 6f6e 652c 0a20 2020  t_name=None,.   
-00014fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00014ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015010: 2020 636f 6d70 6172 6973 6f6e 5f74 7970    comparison_typ
-00015020: 653d 2264 7664 222c 2066 6c75 785f 6465  e="dvd", flux_de
-00015030: 6e73 6974 793d 5472 7565 290a 2020 2020  nsity=True).    
-00015040: 2020 2020 6175 745f 7465 6d70 5f6f 7074      aut_temp_opt
-00015050: 696f 6e73 3320 3d20 6765 745f 7465 6d70  ions3 = get_temp
-00015060: 335f 6c69 7374 0a20 2020 2020 2020 2061  3_list.        a
-00015070: 7574 5f66 6c75 785f 6f70 7469 6f6e 7333  ut_flux_options3
-00015080: 203d 2067 6574 5f66 6c75 7833 5f6c 6973   = get_flux3_lis
-00015090: 740a 0a20 2020 2020 2020 2074 656d 705f  t..        temp_
-000150a0: 7374 7220 3d20 5b66 277b 6974 656d 3a2e  str = [f'{item:.
-000150b0: 3266 7d27 2066 6f72 2069 7465 6d20 696e  2f}' for item in
-000150c0: 2061 7574 5f74 656d 705f 6f70 7469 6f6e   aut_temp_option
-000150d0: 7333 5d0a 2020 2020 2020 2020 666c 7578  s3].        flux
-000150e0: 5f73 7472 203d 205b 6627 7b69 7465 6d3a  _str = [f'{item:
-000150f0: 2e34 667d 2720 666f 7220 6974 656d 2069  .4f}' for item i
-00015100: 6e20 6175 745f 666c 7578 5f6f 7074 696f  n aut_flux_optio
-00015110: 6e73 335d 0a20 2020 2020 2020 2073 656c  ns3].        sel
-00015120: 662e 6175 745f 7465 6d70 5f6d 335f 636f  f.aut_temp_m3_co
-00015130: 6d62 6f42 6f78 2e63 6c65 6172 2829 0a20  mboBox.clear(). 
-00015140: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00015150: 666c 7578 5f6d 335f 636f 6d62 6f42 6f78  flux_m3_comboBox
-00015160: 2e63 6c65 6172 2829 0a20 2020 2020 2020  .clear().       
-00015170: 2066 6f72 206f 7074 696f 6e20 696e 2074   for option in t
-00015180: 656d 705f 7374 723a 0a20 2020 2020 2020  emp_str:.       
-00015190: 2020 2020 2073 656c 662e 6175 745f 7465       self.aut_te
-000151a0: 6d70 5f6d 335f 636f 6d62 6f42 6f78 2e61  mp_m3_comboBox.a
-000151b0: 6464 4974 656d 286f 7074 696f 6e29 0a0a  ddItem(option)..
-000151c0: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
-000151d0: 6f6e 2069 6e20 666c 7578 5f73 7472 3a0a  on in flux_str:.
-000151e0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-000151f0: 2e61 7574 5f66 6c75 785f 6d33 5f63 6f6d  .aut_flux_m3_com
-00015200: 626f 426f 782e 6164 6449 7465 6d28 6f70  boBox.addItem(op
-00015210: 7469 6f6e 290a 0a20 2020 2064 6566 2074  tion)..    def t
-00015220: 656d 7066 6c75 7869 6e70 7574 3428 7365  empfluxinput4(se
-00015230: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-00015240: 4765 7420 7468 6520 666c 7578 2061 6e64  Get the flux and
-00015250: 2074 656d 7065 7261 7475 7265 206f 6620   temperature of 
-00015260: 6120 7061 7274 6963 756c 6172 206d 6174  a particular mat
-00015270: 6572 6961 6c20 7365 6c65 6374 6564 2e22  erial selected."
-00015280: 2222 0a20 2020 2020 2020 206d 6174 5f74  "".        mat_t
-00015290: 6578 7434 203d 2073 656c 662e 6461 745f  ext4 = self.dat_
-000152a0: 636f 7265 5f6d 6174 6572 6961 6c34 5f63  core_material4_c
-000152b0: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-000152c0: 6578 7428 290a 2020 2020 2020 2020 6765  ext().        ge
-000152d0: 745f 7465 6d70 345f 6c69 7374 203d 205b  t_temp4_list = [
-000152e0: 5d0a 2020 2020 2020 2020 6765 745f 666c  ].        get_fl
-000152f0: 7578 345f 6c69 7374 203d 205b 5d0a 2020  ux4_list = [].  
-00015300: 2020 2020 2020 6966 206d 6174 5f74 6578        if mat_tex
-00015310: 7434 3a0a 2020 2020 2020 2020 2020 2020  t4:.            
-00015320: 6765 745f 7465 6d70 345f 6c69 7374 203d  get_temp4_list =
-00015330: 2064 6174 6162 6173 652e 6472 6f70 5f64   database.drop_d
-00015340: 6f77 6e5f 6c69 7374 286d 6174 6572 6961  own_list(materia
-00015350: 6c5f 6e61 6d65 3d6d 6174 5f74 6578 7434  l_name=mat_text4
-00015360: 2c20 6461 7461 7479 7065 3d4e 6f6e 652c  , datatype=None,
-00015370: 206d 6561 7375 7265 6d65 6e74 5f6e 616d   measurement_nam
-00015380: 653d 4e6f 6e65 2c0a 2020 2020 2020 2020  e=None,.        
-00015390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000153a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000153b0: 2020 2020 2020 2020 2020 2020 2063 6f6d               com
-000153c0: 7061 7269 736f 6e5f 7479 7065 3d22 6476  parison_type="dv
-000153d0: 6422 2c20 7465 6d70 6572 6174 7572 653d  d", temperature=
-000153e0: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-000153f0: 2020 6765 745f 666c 7578 345f 6c69 7374    get_flux4_list
-00015400: 203d 2064 6174 6162 6173 652e 6472 6f70   = database.drop
-00015410: 5f64 6f77 6e5f 6c69 7374 286d 6174 6572  _down_list(mater
-00015420: 6961 6c5f 6e61 6d65 3d6d 6174 5f74 6578  ial_name=mat_tex
-00015430: 7434 2c20 6461 7461 7479 7065 3d4e 6f6e  t4, datatype=Non
-00015440: 652c 206d 6561 7375 7265 6d65 6e74 5f6e  e, measurement_n
-00015450: 616d 653d 4e6f 6e65 2c0a 2020 2020 2020  ame=None,.      
-00015460: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015480: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00015490: 6f6d 7061 7269 736f 6e5f 7479 7065 3d22  omparison_type="
-000154a0: 6476 6422 2c20 666c 7578 5f64 656e 7369  dvd", flux_densi
-000154b0: 7479 3d54 7275 6529 0a20 2020 2020 2020  ty=True).       
-000154c0: 2061 7574 5f74 656d 705f 6f70 7469 6f6e   aut_temp_option
-000154d0: 7334 203d 2067 6574 5f74 656d 7034 5f6c  s4 = get_temp4_l
-000154e0: 6973 740a 2020 2020 2020 2020 6175 745f  ist.        aut_
-000154f0: 666c 7578 5f6f 7074 696f 6e73 3420 3d20  flux_options4 = 
-00015500: 6765 745f 666c 7578 345f 6c69 7374 0a0a  get_flux4_list..
-00015510: 2020 2020 2020 2020 7465 6d70 5f73 7472          temp_str
-00015520: 203d 205b 6627 7b69 7465 6d3a 2e32 667d   = [f'{item:.2f}
-00015530: 2720 666f 7220 6974 656d 2069 6e20 6175  ' for item in au
-00015540: 745f 7465 6d70 5f6f 7074 696f 6e73 345d  t_temp_options4]
-00015550: 0a20 2020 2020 2020 2066 6c75 785f 7374  .        flux_st
-00015560: 7220 3d20 5b66 277b 6974 656d 3a2e 3466  r = [f'{item:.4f
-00015570: 7d27 2066 6f72 2069 7465 6d20 696e 2061  }' for item in a
-00015580: 7574 5f66 6c75 785f 6f70 7469 6f6e 7334  ut_flux_options4
-00015590: 5d0a 2020 2020 2020 2020 7365 6c66 2e61  ].        self.a
-000155a0: 7574 5f74 656d 705f 6d34 5f63 6f6d 626f  ut_temp_m4_combo
-000155b0: 426f 782e 636c 6561 7228 290a 2020 2020  Box.clear().    
-000155c0: 2020 2020 7365 6c66 2e61 7574 5f66 6c75      self.aut_flu
-000155d0: 785f 6d34 5f63 6f6d 626f 426f 782e 636c  x_m4_comboBox.cl
-000155e0: 6561 7228 290a 2020 2020 2020 2020 666f  ear().        fo
-000155f0: 7220 6f70 7469 6f6e 2069 6e20 7465 6d70  r option in temp
-00015600: 5f73 7472 3a0a 2020 2020 2020 2020 2020  _str:.          
-00015610: 2020 7365 6c66 2e61 7574 5f74 656d 705f    self.aut_temp_
-00015620: 6d34 5f63 6f6d 626f 426f 782e 6164 6449  m4_comboBox.addI
-00015630: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
-00015640: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
-00015650: 696e 2066 6c75 785f 7374 723a 0a20 2020  in flux_str:.   
-00015660: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-00015670: 745f 666c 7578 5f6d 345f 636f 6d62 6f42  t_flux_m4_comboB
-00015680: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
-00015690: 6e29 0a0a 2020 2020 6465 6620 7465 6d70  n)..    def temp
-000156a0: 666c 7578 696e 7075 7435 2873 656c 6629  fluxinput5(self)
-000156b0: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
-000156c0: 2074 6865 2066 6c75 7820 616e 6420 7465   the flux and te
-000156d0: 6d70 6572 6174 7572 6520 6f66 2061 2070  mperature of a p
-000156e0: 6172 7469 6375 6c61 7220 6d61 7465 7269  articular materi
-000156f0: 616c 2073 656c 6563 7465 642e 2222 220a  al selected.""".
-00015700: 2020 2020 2020 2020 6d61 745f 7465 7874          mat_text
-00015710: 3520 3d20 7365 6c66 2e64 6174 5f63 6f72  5 = self.dat_cor
-00015720: 655f 6d61 7465 7269 616c 355f 636f 6d62  e_material5_comb
-00015730: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-00015740: 2829 0a20 2020 2020 2020 2067 6574 5f74  ().        get_t
-00015750: 656d 7035 5f6c 6973 7420 3d20 5b5d 0a20  emp5_list = []. 
-00015760: 2020 2020 2020 2067 6574 5f66 6c75 7835         get_flux5
-00015770: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
-00015780: 2020 2069 6620 6d61 745f 7465 7874 353a     if mat_text5:
-00015790: 0a20 2020 2020 2020 2020 2020 2067 6574  .            get
-000157a0: 5f74 656d 7035 5f6c 6973 7420 3d20 6461  _temp5_list = da
-000157b0: 7461 6261 7365 2e64 726f 705f 646f 776e  tabase.drop_down
-000157c0: 5f6c 6973 7428 6d61 7465 7269 616c 5f6e  _list(material_n
-000157d0: 616d 653d 6d61 745f 7465 7874 352c 2064  ame=mat_text5, d
-000157e0: 6174 6174 7970 653d 4e6f 6e65 2c20 6d65  atatype=None, me
-000157f0: 6173 7572 656d 656e 745f 6e61 6d65 3d4e  asurement_name=N
-00015800: 6f6e 652c 0a20 2020 2020 2020 2020 2020  one,.           
-00015810: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015820: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015830: 2020 2020 2020 2020 2020 636f 6d70 6172            compar
-00015840: 6973 6f6e 5f74 7970 653d 2264 7664 222c  ison_type="dvd",
-00015850: 2074 656d 7065 7261 7475 7265 3d54 7275   temperature=Tru
-00015860: 6529 0a20 2020 2020 2020 2020 2020 2067  e).            g
-00015870: 6574 5f66 6c75 7835 5f6c 6973 7420 3d20  et_flux5_list = 
-00015880: 6461 7461 6261 7365 2e64 726f 705f 646f  database.drop_do
-00015890: 776e 5f6c 6973 7428 6d61 7465 7269 616c  wn_list(material
-000158a0: 5f6e 616d 653d 6d61 745f 7465 7874 352c  _name=mat_text5,
-000158b0: 2064 6174 6174 7970 653d 4e6f 6e65 2c20   datatype=None, 
-000158c0: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
-000158d0: 3d4e 6f6e 652c 0a20 2020 2020 2020 2020  =None,.         
-000158e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000158f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00015900: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
-00015910: 6172 6973 6f6e 5f74 7970 653d 2264 7664  arison_type="dvd
-00015920: 222c 2066 6c75 785f 6465 6e73 6974 793d  ", flux_density=
-00015930: 5472 7565 290a 2020 2020 2020 2020 6175  True).        au
-00015940: 745f 7465 6d70 5f6f 7074 696f 6e73 3520  t_temp_options5 
-00015950: 3d20 6765 745f 7465 6d70 355f 6c69 7374  = get_temp5_list
-00015960: 0a20 2020 2020 2020 2061 7574 5f66 6c75  .        aut_flu
-00015970: 785f 6f70 7469 6f6e 7335 203d 2067 6574  x_options5 = get
-00015980: 5f66 6c75 7835 5f6c 6973 740a 0a20 2020  _flux5_list..   
-00015990: 2020 2020 2074 656d 705f 7374 7220 3d20       temp_str = 
-000159a0: 5b66 277b 6974 656d 3a2e 3266 7d27 2066  [f'{item:.2f}' f
-000159b0: 6f72 2069 7465 6d20 696e 2061 7574 5f74  or item in aut_t
-000159c0: 656d 705f 6f70 7469 6f6e 7335 5d0a 2020  emp_options5].  
-000159d0: 2020 2020 2020 666c 7578 5f73 7472 203d        flux_str =
-000159e0: 205b 6627 7b69 7465 6d3a 2e34 667d 2720   [f'{item:.4f}' 
-000159f0: 666f 7220 6974 656d 2069 6e20 6175 745f  for item in aut_
-00015a00: 666c 7578 5f6f 7074 696f 6e73 355d 0a20  flux_options5]. 
-00015a10: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
-00015a20: 7465 6d70 5f6d 355f 636f 6d62 6f42 6f78  temp_m5_comboBox
-00015a30: 2e63 6c65 6172 2829 0a20 2020 2020 2020  .clear().       
-00015a40: 2073 656c 662e 6175 745f 666c 7578 5f6d   self.aut_flux_m
-00015a50: 355f 636f 6d62 6f42 6f78 2e63 6c65 6172  5_comboBox.clear
-00015a60: 2829 0a20 2020 2020 2020 2066 6f72 206f  ().        for o
-00015a70: 7074 696f 6e20 696e 2074 656d 705f 7374  ption in temp_st
-00015a80: 723a 0a20 2020 2020 2020 2020 2020 2073  r:.            s
-00015a90: 656c 662e 6175 745f 7465 6d70 5f6d 355f  elf.aut_temp_m5_
-00015aa0: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
-00015ab0: 286f 7074 696f 6e29 0a0a 2020 2020 2020  (option)..      
-00015ac0: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
-00015ad0: 666c 7578 5f73 7472 3a0a 2020 2020 2020  flux_str:.      
-00015ae0: 2020 2020 2020 7365 6c66 2e61 7574 5f66        self.aut_f
-00015af0: 6c75 785f 6d35 5f63 6f6d 626f 426f 782e  lux_m5_comboBox.
-00015b00: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
-00015b10: 0a20 2020 2064 6566 2074 6573 745f 7365  .    def test_se
-00015b20: 7475 705f 6e61 6d65 3128 7365 6c66 293a  tup_name1(self):
-00015b30: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-00015b40: 7465 7374 2073 6574 7570 206e 616d 6573  test setup names
-00015b50: 2066 726f 6d20 6461 7461 6261 7365 2066   from database f
-00015b60: 6f72 2070 6172 7469 6375 6c61 7220 6d61  or particular ma
-00015b70: 7465 7269 616c 2e22 2222 0a20 2020 2020  terial.""".     
-00015b80: 2020 206d 6174 5f74 6578 7431 203d 2073     mat_text1 = s
-00015b90: 656c 662e 6461 745f 636f 7265 5f6d 6174  elf.dat_core_mat
-00015ba0: 6572 6961 6c31 5f63 6f6d 626f 426f 785f  erial1_comboBox_
-00015bb0: 322e 6375 7272 656e 7454 6578 7428 290a  2.currentText().
-00015bc0: 0a20 2020 2020 2020 206e 616d 6573 5f6c  .        names_l
-00015bd0: 6973 7420 3d20 5b5d 0a0a 2020 2020 2020  ist = []..      
-00015be0: 2020 6966 206d 6174 5f74 6578 7431 3a0a    if mat_text1:.
-00015bf0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-00015c00: 735f 6c69 7374 203d 2064 6174 6162 6173  s_list = databas
-00015c10: 652e 6669 6e64 5f6d 6561 7375 7265 6d65  e.find_measureme
-00015c20: 6e74 5f6e 616d 6573 286d 6174 6572 6961  nt_names(materia
-00015c30: 6c5f 6e61 6d65 3d6d 6174 5f74 6578 7431  l_name=mat_text1
-00015c40: 2c20 6461 7461 7479 7065 3d22 636f 6d70  , datatype="comp
-00015c50: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
-00015c60: 2229 0a0a 2020 2020 2020 2020 666f 7220  ")..        for 
-00015c70: 6f70 7469 6f6e 2069 6e20 6e61 6d65 735f  option in names_
-00015c80: 6c69 7374 3a0a 2020 2020 2020 2020 2020  list:.          
-00015c90: 2020 7365 6c66 2e74 6573 745f 6e61 6d65    self.test_name
-00015ca0: 5f31 5f63 6f6d 626f 426f 782e 6164 6449  _1_comboBox.addI
-00015cb0: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
-00015cc0: 2064 6566 2074 6573 745f 7365 7475 705f   def test_setup_
-00015cd0: 6e61 6d65 3228 7365 6c66 293a 0a20 2020  name2(self):.   
-00015ce0: 2020 2020 2022 2222 4765 7420 7465 7374       """Get test
-00015cf0: 2073 6574 7570 206e 616d 6573 2066 726f   setup names fro
-00015d00: 6d20 6461 7461 6261 7365 2066 6f72 2070  m database for p
-00015d10: 6172 7469 6375 6c61 7220 6d61 7465 7269  articular materi
-00015d20: 616c 2e22 2222 0a20 2020 2020 2020 206d  al.""".        m
-00015d30: 6174 5f74 6578 7432 203d 2073 656c 662e  at_text2 = self.
-00015d40: 6461 745f 636f 7265 5f6d 6174 6572 6961  dat_core_materia
-00015d50: 6c32 5f63 6f6d 626f 426f 785f 322e 6375  l2_comboBox_2.cu
-00015d60: 7272 656e 7454 6578 7428 290a 0a20 2020  rrentText()..   
-00015d70: 2020 2020 206e 616d 6573 5f6c 6973 7420       names_list 
-00015d80: 3d20 5b5d 0a0a 2020 2020 2020 2020 6966  = []..        if
-00015d90: 206d 6174 5f74 6578 7432 3a0a 2020 2020   mat_text2:.    
-00015da0: 2020 2020 2020 2020 6e61 6d65 735f 6c69          names_li
-00015db0: 7374 203d 2064 6174 6162 6173 652e 6669  st = database.fi
-00015dc0: 6e64 5f6d 6561 7375 7265 6d65 6e74 5f6e  nd_measurement_n
-00015dd0: 616d 6573 286d 6174 6572 6961 6c5f 6e61  ames(material_na
-00015de0: 6d65 3d6d 6174 5f74 6578 7432 2c20 6461  me=mat_text2, da
-00015df0: 7461 7479 7065 3d22 636f 6d70 6c65 785f  tatype="complex_
-00015e00: 7065 726d 6561 6269 6c69 7479 2229 0a0a  permeability")..
-00015e10: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
-00015e20: 6f6e 2069 6e20 6e61 6d65 735f 6c69 7374  on in names_list
-00015e30: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-00015e40: 6c66 2e74 6573 745f 6e61 6d65 5f32 5f63  lf.test_name_2_c
-00015e50: 6f6d 626f 426f 782e 6164 6449 7465 6d28  omboBox.addItem(
-00015e60: 6f70 7469 6f6e 290a 0a20 2020 2064 6566  option)..    def
-00015e70: 2074 6573 745f 7365 7475 705f 6e61 6d65   test_setup_name
-00015e80: 3328 7365 6c66 293a 0a20 2020 2020 2020  3(self):.       
-00015e90: 2022 2222 4765 7420 7465 7374 2073 6574   """Get test set
-00015ea0: 7570 206e 616d 6573 2066 726f 6d20 6461  up names from da
-00015eb0: 7461 6261 7365 2066 6f72 2070 6172 7469  tabase for parti
-00015ec0: 6375 6c61 7220 6d61 7465 7269 616c 2e22  cular material."
-00015ed0: 2222 0a20 2020 2020 2020 206d 6174 5f74  "".        mat_t
-00015ee0: 6578 7433 203d 2073 656c 662e 6461 745f  ext3 = self.dat_
-00015ef0: 636f 7265 5f6d 6174 6572 6961 6c33 5f63  core_material3_c
-00015f00: 6f6d 626f 426f 785f 322e 6375 7272 656e  omboBox_2.curren
-00015f10: 7454 6578 7428 290a 0a20 2020 2020 2020  tText()..       
-00015f20: 206e 616d 6573 5f6c 6973 7420 3d20 5b5d   names_list = []
-00015f30: 0a0a 2020 2020 2020 2020 6966 206d 6174  ..        if mat
-00015f40: 5f74 6578 7433 3a0a 2020 2020 2020 2020  _text3:.        
-00015f50: 2020 2020 6e61 6d65 735f 6c69 7374 203d      names_list =
-00015f60: 2064 6174 6162 6173 652e 6669 6e64 5f6d   database.find_m
-00015f70: 6561 7375 7265 6d65 6e74 5f6e 616d 6573  easurement_names
-00015f80: 286d 6174 6572 6961 6c5f 6e61 6d65 3d6d  (material_name=m
-00015f90: 6174 5f74 6578 7433 2c20 6461 7461 7479  at_text3, dataty
-00015fa0: 7065 3d22 636f 6d70 6c65 785f 7065 726d  pe="complex_perm
-00015fb0: 6561 6269 6c69 7479 2229 0a0a 2020 2020  eability")..    
-00015fc0: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-00015fd0: 6e20 6e61 6d65 735f 6c69 7374 3a0a 2020  n names_list:.  
-00015fe0: 2020 2020 2020 2020 2020 7365 6c66 2e74            self.t
-00015ff0: 6573 745f 6e61 6d65 5f33 5f63 6f6d 626f  est_name_3_combo
-00016000: 426f 782e 6164 6449 7465 6d28 6f70 7469  Box.addItem(opti
-00016010: 6f6e 290a 0a20 2020 2064 6566 2074 6573  on)..    def tes
-00016020: 745f 7365 7475 705f 6e61 6d65 3428 7365  t_setup_name4(se
-00016030: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-00016040: 4765 7420 7465 7374 2073 6574 7570 206e  Get test setup n
-00016050: 616d 6573 2066 726f 6d20 6461 7461 6261  ames from databa
-00016060: 7365 2066 6f72 2070 6172 7469 6375 6c61  se for particula
-00016070: 7220 6d61 7465 7269 616c 2e22 2222 0a20  r material.""". 
-00016080: 2020 2020 2020 206d 6174 5f74 6578 7434         mat_text4
-00016090: 203d 2073 656c 662e 6461 745f 636f 7265   = self.dat_core
-000160a0: 5f6d 6174 6572 6961 6c34 5f63 6f6d 626f  _material4_combo
-000160b0: 426f 785f 322e 6375 7272 656e 7454 6578  Box_2.currentTex
-000160c0: 7428 290a 0a20 2020 2020 2020 206e 616d  t()..        nam
-000160d0: 6573 5f6c 6973 7420 3d20 5b5d 0a0a 2020  es_list = []..  
-000160e0: 2020 2020 2020 6966 206d 6174 5f74 6578        if mat_tex
-000160f0: 7434 3a0a 2020 2020 2020 2020 2020 2020  t4:.            
-00016100: 6e61 6d65 735f 6c69 7374 203d 2064 6174  names_list = dat
-00016110: 6162 6173 652e 6669 6e64 5f6d 6561 7375  abase.find_measu
-00016120: 7265 6d65 6e74 5f6e 616d 6573 286d 6174  rement_names(mat
-00016130: 6572 6961 6c5f 6e61 6d65 3d6d 6174 5f74  erial_name=mat_t
-00016140: 6578 7434 2c20 6461 7461 7479 7065 3d22  ext4, datatype="
-00016150: 636f 6d70 6c65 785f 7065 726d 6561 6269  complex_permeabi
-00016160: 6c69 7479 2229 0a0a 2020 2020 2020 2020  lity")..        
-00016170: 666f 7220 6f70 7469 6f6e 2069 6e20 6e61  for option in na
-00016180: 6d65 735f 6c69 7374 3a0a 2020 2020 2020  mes_list:.      
-00016190: 2020 2020 2020 7365 6c66 2e74 6573 745f        self.test_
-000161a0: 6e61 6d65 5f34 5f63 6f6d 626f 426f 782e  name_4_comboBox.
-000161b0: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
-000161c0: 0a20 2020 2064 6566 2074 6573 745f 7365  .    def test_se
-000161d0: 7475 705f 6e61 6d65 3528 7365 6c66 293a  tup_name5(self):
-000161e0: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
-000161f0: 7465 7374 2073 6574 7570 206e 616d 6573  test setup names
-00016200: 2066 726f 6d20 6461 7461 6261 7365 2066   from database f
-00016210: 6f72 2070 6172 7469 6375 6c61 7220 6d61  or particular ma
-00016220: 7465 7269 616c 2e22 2222 0a20 2020 2020  terial.""".     
-00016230: 2020 206d 6174 5f74 6578 7435 203d 2073     mat_text5 = s
-00016240: 656c 662e 6461 745f 636f 7265 5f6d 6174  elf.dat_core_mat
-00016250: 6572 6961 6c35 5f63 6f6d 626f 426f 785f  erial5_comboBox_
-00016260: 322e 6375 7272 656e 7454 6578 7428 290a  2.currentText().
-00016270: 0a20 2020 2020 2020 206e 616d 6573 5f6c  .        names_l
-00016280: 6973 7420 3d20 5b5d 0a0a 2020 2020 2020  ist = []..      
-00016290: 2020 6966 206d 6174 5f74 6578 7435 3a0a    if mat_text5:.
-000162a0: 2020 2020 2020 2020 2020 2020 6e61 6d65              name
-000162b0: 735f 6c69 7374 203d 2064 6174 6162 6173  s_list = databas
-000162c0: 652e 6669 6e64 5f6d 6561 7375 7265 6d65  e.find_measureme
-000162d0: 6e74 5f6e 616d 6573 286d 6174 6572 6961  nt_names(materia
-000162e0: 6c5f 6e61 6d65 3d6d 6174 5f74 6578 7435  l_name=mat_text5
-000162f0: 2c20 6461 7461 7479 7065 3d22 636f 6d70  , datatype="comp
-00016300: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
-00016310: 2229 0a0a 2020 2020 2020 2020 666f 7220  ")..        for 
-00016320: 6f70 7469 6f6e 2069 6e20 6e61 6d65 735f  option in names_
-00016330: 6c69 7374 3a0a 2020 2020 2020 2020 2020  list:.          
-00016340: 2020 7365 6c66 2e74 6573 745f 6e61 6d65    self.test_name
-00016350: 5f35 5f63 6f6d 626f 426f 782e 6164 6449  _5_comboBox.addI
+00010730: 745f 7769 6e64 696e 6731 5f73 7472 616e  t_winding1_stran
+00010740: 6473 5f6c 696e 6545 6469 742e 7365 7445  ds_lineEdit.setE
+00010750: 6e61 626c 6564 2854 7275 6529 0a20 2020  nabled(True).   
+00010760: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+00010770: 745f 7769 6e64 696e 6731 5f66 696c 6c5f  t_winding1_fill_
+00010780: 6661 6374 6f72 5f6c 696e 6545 6469 742e  factor_lineEdit.
+00010790: 7365 7445 6e61 626c 6564 2854 7275 6529  setEnabled(True)
+000107a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000107b0: 662e 6175 745f 7769 6e64 696e 6731 5f73  f.aut_winding1_s
+000107c0: 7472 616e 645f 7261 6469 7573 5f6c 696e  trand_radius_lin
+000107d0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+000107e0: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
+000107f0: 2020 2073 656c 662e 6175 745f 7769 6e64     self.aut_wind
+00010800: 696e 6731 5f72 6164 6975 735f 6c69 6e65  ing1_radius_line
+00010810: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+00010820: 4661 6c73 6529 0a20 2020 2020 2020 2069  False).        i
+00010830: 6620 696d 706c 6963 6974 5f74 7970 655f  f implicit_type_
+00010840: 6672 6f6d 5f63 6f6d 626f 5f62 6f78 203d  from_combo_box =
+00010850: 3d20 7365 6c66 2e74 7261 6e73 6c61 7469  = self.translati
+00010860: 6f6e 5f64 6963 745b 2769 6d70 6c69 6369  on_dict['implici
+00010870: 745f 7374 7261 6e64 735f 6e75 6d62 6572  t_strands_number
+00010880: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
+00010890: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
+000108a0: 315f 7374 7261 6e64 735f 6c69 6e65 4564  1_strands_lineEd
+000108b0: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
+000108c0: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
+000108d0: 2073 656c 662e 6175 745f 7769 6e64 696e   self.aut_windin
+000108e0: 6731 5f66 696c 6c5f 6661 6374 6f72 5f6c  g1_fill_factor_l
+000108f0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+00010900: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
+00010910: 2020 2020 2073 656c 662e 6175 745f 7769       self.aut_wi
+00010920: 6e64 696e 6731 5f73 7472 616e 645f 7261  nding1_strand_ra
+00010930: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
+00010940: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
+00010950: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010960: 6175 745f 7769 6e64 696e 6731 5f72 6164  aut_winding1_rad
+00010970: 6975 735f 6c69 6e65 4564 6974 2e73 6574  ius_lineEdit.set
+00010980: 456e 6162 6c65 6428 5472 7565 290a 2020  Enabled(True).  
+00010990: 2020 2020 2020 6966 2069 6d70 6c69 6369        if implici
+000109a0: 745f 7479 7065 5f66 726f 6d5f 636f 6d62  t_type_from_comb
+000109b0: 6f5f 626f 7820 3d3d 2073 656c 662e 7472  o_box == self.tr
+000109c0: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
+000109d0: 696d 706c 6963 6974 5f66 6627 5d3a 0a20  implicit_ff']:. 
+000109e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000109f0: 6175 745f 7769 6e64 696e 6731 5f73 7472  aut_winding1_str
+00010a00: 616e 6473 5f6c 696e 6545 6469 742e 7365  ands_lineEdit.se
+00010a10: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
+00010a20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010a30: 6175 745f 7769 6e64 696e 6731 5f66 696c  aut_winding1_fil
+00010a40: 6c5f 6661 6374 6f72 5f6c 696e 6545 6469  l_factor_lineEdi
+00010a50: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+00010a60: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+00010a70: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
+00010a80: 315f 7374 7261 6e64 5f72 6164 6975 735f  1_strand_radius_
+00010a90: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+00010aa0: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
+00010ab0: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
+00010ac0: 696e 6469 6e67 315f 7261 6469 7573 5f6c  inding1_radius_l
+00010ad0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+00010ae0: 6564 2854 7275 6529 0a0a 2020 2020 6465  ed(True)..    de
+00010af0: 6620 6175 745f 7769 6e64 696e 6731 5f63  f aut_winding1_c
+00010b00: 6861 6e67 655f 7769 7265 5f74 7970 6528  hange_wire_type(
+00010b10: 7365 6c66 2c20 7769 7265 5f74 7970 655f  self, wire_type_
+00010b20: 6672 6f6d 5f63 6f6d 626f 745f 626f 783a  from_combot_box:
+00010b30: 2073 7472 2920 2d3e 204e 6f6e 653a 0a20   str) -> None:. 
+00010b40: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00010b50: 2020 2045 6e61 626c 6520 2f20 4469 7361     Enable / Disa
+00010b60: 626c 6520 696e 7075 7420 7061 7261 6d65  ble input parame
+00010b70: 7465 7220 666f 7220 6c69 747a 2f73 6f6c  ter for litz/sol
+00010b80: 6964 2077 6972 652e 0a0a 2020 2020 2020  id wire...      
+00010b90: 2020 3a70 6172 616d 2077 6972 655f 7479    :param wire_ty
+00010ba0: 7065 5f66 726f 6d5f 636f 6d62 6f74 5f62  pe_from_combot_b
+00010bb0: 6f78 3a20 7769 7265 2074 7970 650a 2020  ox: wire type.  
+00010bc0: 2020 2020 2020 3a74 7970 6520 7769 7265        :type wire
+00010bd0: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
+00010be0: 745f 626f 783a 2073 7472 0a20 2020 2020  t_box: str.     
+00010bf0: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
+00010c00: 0a20 2020 2020 2020 203a 7274 7970 653a  .        :rtype:
+00010c10: 204e 6f6e 650a 2020 2020 2020 2020 2222   None.        ""
+00010c20: 220a 2020 2020 2020 2020 7365 6c66 2e61  ".        self.a
+00010c30: 7574 5f77 696e 6469 6e67 315f 6368 616e  ut_winding1_chan
+00010c40: 6765 5f6c 6974 7a5f 696d 706c 6963 6974  ge_litz_implicit
+00010c50: 2873 656c 662e 6175 745f 7769 6e64 696e  (self.aut_windin
+00010c60: 6731 5f69 6d70 6c69 6369 745f 6c69 747a  g1_implicit_litz
+00010c70: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00010c80: 7454 6578 7428 2929 0a20 2020 2020 2020  tText()).       
+00010c90: 2069 6620 7769 7265 5f74 7970 655f 6672   if wire_type_fr
+00010ca0: 6f6d 5f63 6f6d 626f 745f 626f 7820 3d3d  om_combot_box ==
+00010cb0: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
+00010cc0: 6e5f 6469 6374 5b27 6c69 747a 275d 3a0a  n_dict['litz']:.
+00010cd0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010ce0: 2e61 7574 5f77 696e 6469 6e67 315f 7374  .aut_winding1_st
+00010cf0: 7261 6e64 735f 6c69 6e65 4564 6974 2e73  rands_lineEdit.s
+00010d00: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
+00010d10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010d20: 2e61 7574 5f77 696e 6469 6e67 315f 696d  .aut_winding1_im
+00010d30: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
+00010d40: 6f42 6f78 2e73 6574 456e 6162 6c65 6428  oBox.setEnabled(
+00010d50: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
+00010d60: 2020 7365 6c66 2e61 7574 5f77 696e 6469    self.aut_windi
+00010d70: 6e67 315f 6669 6c6c 5f66 6163 746f 725f  ng1_fill_factor_
+00010d80: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+00010d90: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
+00010da0: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
+00010db0: 696e 6469 6e67 315f 7374 7261 6e64 5f72  inding1_strand_r
+00010dc0: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
+00010dd0: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
+00010de0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010df0: 2e61 7574 5f77 696e 6469 6e67 315f 7261  .aut_winding1_ra
+00010e00: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
+00010e10: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
+00010e20: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00010e30: 6175 745f 6c69 747a 5f64 6174 615f 6c69  aut_litz_data_li
+00010e40: 7374 5769 6467 6574 2e73 6574 456e 6162  stWidget.setEnab
+00010e50: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
+00010e60: 2020 2020 2020 7365 6c66 2e61 7574 5f77        self.aut_w
+00010e70: 696e 6469 6e67 315f 6368 616e 6765 5f6c  inding1_change_l
+00010e80: 6974 7a5f 696d 706c 6963 6974 2873 656c  itz_implicit(sel
+00010e90: 662e 6175 745f 7769 6e64 696e 6731 5f69  f.aut_winding1_i
+00010ea0: 6d70 6c69 6369 745f 6c69 747a 5f63 6f6d  mplicit_litz_com
+00010eb0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+00010ec0: 7428 2929 0a0a 2020 2020 2020 2020 656c  t())..        el
+00010ed0: 6966 2077 6972 655f 7479 7065 5f66 726f  if wire_type_fro
+00010ee0: 6d5f 636f 6d62 6f74 5f62 6f78 203d 3d20  m_combot_box == 
+00010ef0: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
+00010f00: 5f64 6963 745b 2773 6f6c 6964 275d 3a0a  _dict['solid']:.
+00010f10: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00010f20: 2e61 7574 5f77 696e 6469 6e67 315f 7374  .aut_winding1_st
+00010f30: 7261 6e64 735f 6c69 6e65 4564 6974 2e73  rands_lineEdit.s
+00010f40: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
+00010f50: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00010f60: 662e 6175 745f 7769 6e64 696e 6731 5f69  f.aut_winding1_i
+00010f70: 6d70 6c69 6369 745f 6c69 747a 5f63 6f6d  mplicit_litz_com
+00010f80: 626f 426f 782e 7365 7445 6e61 626c 6564  boBox.setEnabled
+00010f90: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+00010fa0: 2020 2020 7365 6c66 2e61 7574 5f77 696e      self.aut_win
+00010fb0: 6469 6e67 315f 6669 6c6c 5f66 6163 746f  ding1_fill_facto
+00010fc0: 725f 6c69 6e65 4564 6974 2e73 6574 456e  r_lineEdit.setEn
+00010fd0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
+00010fe0: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+00010ff0: 745f 7769 6e64 696e 6731 5f73 7472 616e  t_winding1_stran
+00011000: 645f 7261 6469 7573 5f6c 696e 6545 6469  d_radius_lineEdi
+00011010: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+00011020: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+00011030: 7365 6c66 2e61 7574 5f77 696e 6469 6e67  self.aut_winding
+00011040: 315f 7261 6469 7573 5f6c 696e 6545 6469  1_radius_lineEdi
+00011050: 742e 7365 7445 6e61 626c 6564 2854 7275  t.setEnabled(Tru
+00011060: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
+00011070: 656c 662e 6175 745f 6c69 747a 5f64 6174  elf.aut_litz_dat
+00011080: 615f 6c69 7374 5769 6467 6574 2e73 6574  a_listWidget.set
+00011090: 456e 6162 6c65 6428 4661 6c73 6529 0a0a  Enabled(False)..
+000110a0: 2020 2020 6465 6620 6175 745f 6368 616e      def aut_chan
+000110b0: 6765 5f73 696d 756c 6174 696f 6e5f 7479  ge_simulation_ty
+000110c0: 7065 2873 656c 662c 2073 696d 756c 6174  pe(self, simulat
+000110d0: 696f 6e5f 7479 7065 5f66 726f 6d5f 636f  ion_type_from_co
+000110e0: 6d62 6f5f 626f 783a 2073 7472 2920 2d3e  mbo_box: str) ->
+000110f0: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
+00011100: 2222 0a20 2020 2020 2020 2050 6572 666f  "".        Perfo
+00011110: 726d 2061 6374 696f 6e20 7768 656e 2073  rm action when s
+00011120: 6967 6e61 6c20 6f66 2061 7574 5f73 696d  ignal of aut_sim
+00011130: 756c 6174 696f 6e5f 7479 7065 5f63 6f6d  ulation_type_com
+00011140: 626f 426f 7820 7465 7874 2068 6173 2063  boBox text has c
+00011150: 6861 6e67 6564 2e0a 0a20 2020 2020 2020  hanged...       
+00011160: 2041 6374 696f 6e20 7769 6c6c 2062 6520   Action will be 
+00011170: 656e 6162 6c69 6e67 202f 2064 6973 6162  enabling / disab
+00011180: 6c69 6e67 2075 7365 7220 696e 7075 7473  ling user inputs
+00011190: 2066 6f72 206e 6f74 2d75 7365 6420 7769   for not-used wi
+000111a0: 6e64 696e 6773 2e0a 0a20 2020 2020 2020  ndings...       
+000111b0: 203a 7061 7261 6d20 7369 6d75 6c61 7469   :param simulati
+000111c0: 6f6e 5f74 7970 655f 6672 6f6d 5f63 6f6d  on_type_from_com
+000111d0: 626f 5f62 6f78 3a0a 2020 2020 2020 2020  bo_box:.        
+000111e0: 3a74 7970 6520 7369 6d75 6c61 7469 6f6e  :type simulation
+000111f0: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
+00011200: 5f62 6f78 3a20 7374 720a 2020 2020 2020  _box: str.      
+00011210: 2020 3a72 6574 7572 6e3a 204e 6f6e 650a    :return: None.
+00011220: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
+00011230: 4e6f 6e65 0a20 2020 2020 2020 2022 2222  None.        """
+00011240: 0a20 2020 2020 2020 2069 6620 7369 6d75  .        if simu
+00011250: 6c61 7469 6f6e 5f74 7970 655f 6672 6f6d  lation_type_from
+00011260: 5f63 6f6d 626f 5f62 6f78 203d 3d20 7365  _combo_box == se
+00011270: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+00011280: 6963 745b 2769 6e64 7563 746f 7227 5d3a  ict['inductor']:
+00011290: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+000112a0: 662e 6175 745f 7769 6e64 696e 6732 5f65  f.aut_winding2_e
+000112b0: 6e61 626c 6528 4661 6c73 6529 0a0a 2020  nable(False)..  
+000112c0: 2020 2020 2020 656c 6966 2073 696d 756c        elif simul
+000112d0: 6174 696f 6e5f 7479 7065 5f66 726f 6d5f  ation_type_from_
+000112e0: 636f 6d62 6f5f 626f 7820 3d3d 2073 656c  combo_box == sel
+000112f0: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+00011300: 6374 5b27 7472 616e 7366 6f72 6d65 7227  ct['transformer'
+00011310: 5d3a 0a20 2020 2020 2020 2020 2020 2023  ]:.            #
+00011320: 2073 6574 2077 696e 6469 6e67 2064 6566   set winding def
+00011330: 696e 6974 696f 6e73 206f 6620 7769 6e64  initions of wind
+00011340: 696e 6720 3220 746f 2065 6469 7461 626c  ing 2 to editabl
+00011350: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
+00011360: 6c66 2e61 7574 5f77 696e 6469 6e67 325f  lf.aut_winding2_
+00011370: 656e 6162 6c65 2854 7275 6529 0a0a 2020  enable(True)..  
+00011380: 2020 2020 2020 656c 6966 2073 696d 756c        elif simul
+00011390: 6174 696f 6e5f 7479 7065 5f66 726f 6d5f  ation_type_from_
+000113a0: 636f 6d62 6f5f 626f 7820 3d3d 2073 656c  combo_box == sel
+000113b0: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+000113c0: 6374 5b27 696e 7465 6772 6174 6564 2074  ct['integrated t
+000113d0: 7261 6e73 666f 726d 6572 275d 3a0a 2020  ransformer']:.  
+000113e0: 2020 2020 2020 2020 2020 2320 7365 7420            # set 
+000113f0: 7769 6e64 696e 6720 6465 6669 6e69 7469  winding definiti
+00011400: 6f6e 7320 6f66 2077 696e 6469 6e67 2032  ons of winding 2
+00011410: 2074 6f20 6564 6974 6162 6c65 0a20 2020   to editable.   
+00011420: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+00011430: 745f 7769 6e64 696e 6732 5f65 6e61 626c  t_winding2_enabl
+00011440: 6528 5472 7565 290a 0a20 2020 2064 6566  e(True)..    def
+00011450: 2061 7574 5f77 696e 6469 6e67 325f 656e   aut_winding2_en
+00011460: 6162 6c65 2873 656c 662c 2073 7461 7475  able(self, statu
+00011470: 733a 2062 6f6f 6c29 202d 3e20 4e6f 6e65  s: bool) -> None
+00011480: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00011490: 2020 2020 2020 456e 6162 6c65 2f64 6973        Enable/dis
+000114a0: 6162 6c65 2061 6c6c 2066 6965 6c64 7320  able all fields 
+000114b0: 6265 696e 6720 696e 2063 6f6e 7461 6374  being in contact
+000114c0: 2077 6974 6820 7769 6e64 696e 6720 322e   with winding 2.
+000114d0: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+000114e0: 2073 7461 7475 733a 2054 7275 6520 2f20   status: True / 
+000114f0: 4661 6c73 650a 2020 2020 2020 2020 3a74  False.        :t
+00011500: 7970 6520 7374 6174 7573 3a20 626f 6f6c  ype status: bool
+00011510: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+00011520: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
+00011530: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
+00011540: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00011550: 2320 7365 7420 7769 6e64 696e 6720 6465  # set winding de
+00011560: 6669 6e69 7469 6f6e 7320 6f66 2077 696e  finitions of win
+00011570: 6469 6e67 2032 2028 656e 6162 6c65 2061  ding 2 (enable a
+00011580: 6e64 2076 6973 6962 6c65 290a 2020 2020  nd visible).    
+00011590: 2020 2020 7365 6c66 2e61 7574 5f77 696e      self.aut_win
+000115a0: 6469 6e67 325f 6d61 7465 7269 616c 5f63  ding2_material_c
+000115b0: 6f6d 626f 426f 782e 7365 7445 6e61 626c  omboBox.setEnabl
+000115c0: 6564 2873 7461 7475 7329 0a20 2020 2020  ed(status).     
+000115d0: 2020 2073 656c 662e 6175 745f 7769 6e64     self.aut_wind
+000115e0: 696e 6732 5f74 7970 655f 636f 6d62 6f42  ing2_type_comboB
+000115f0: 6f78 2e73 6574 456e 6162 6c65 6428 7374  ox.setEnabled(st
+00011600: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
+00011610: 6c66 2e61 7574 5f6d 696e 5f77 696e 6469  lf.aut_min_windi
+00011620: 6e67 325f 7475 726e 735f 6c69 6e65 4564  ng2_turns_lineEd
+00011630: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
+00011640: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
+00011650: 6c66 2e61 7574 5f6d 6178 5f77 696e 6469  lf.aut_max_windi
+00011660: 6e67 325f 7475 726e 735f 6c69 6e65 4564  ng2_turns_lineEd
+00011670: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
+00011680: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
+00011690: 6c66 2e61 7574 5f73 7465 705f 7769 6e64  lf.aut_step_wind
+000116a0: 696e 6732 5f74 7572 6e73 5f6c 696e 6545  ing2_turns_lineE
+000116b0: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
+000116c0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
+000116d0: 656c 662e 6175 745f 7769 6e64 696e 6732  elf.aut_winding2
+000116e0: 5f73 7472 616e 6473 5f6c 696e 6545 6469  _strands_lineEdi
+000116f0: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
+00011700: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+00011710: 662e 6175 745f 7769 6e64 696e 6732 5f72  f.aut_winding2_r
+00011720: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
+00011730: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
+00011740: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00011750: 745f 7769 6e64 696e 6732 5f66 696c 6c5f  t_winding2_fill_
+00011760: 6661 6374 6f72 5f6c 696e 6545 6469 742e  factor_lineEdit.
+00011770: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
+00011780: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
+00011790: 6175 745f 7769 6e64 696e 6732 5f73 7472  aut_winding2_str
+000117a0: 616e 645f 7261 6469 7573 5f6c 696e 6545  and_radius_lineE
+000117b0: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
+000117c0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
+000117d0: 656c 662e 6175 745f 7769 6e64 696e 6732  elf.aut_winding2
+000117e0: 5f67 726f 7570 426f 782e 7365 7456 6973  _groupBox.setVis
+000117f0: 6962 6c65 2873 7461 7475 7329 0a0a 2020  ible(status)..  
+00011800: 2020 2020 2020 2320 5365 7420 7475 726e        # Set turn
+00011810: 7320 6f66 2077 696e 6469 6e67 2032 2028  s of winding 2 (
+00011820: 656e 6162 6c65 2061 6e64 2076 6973 6962  enable and visib
+00011830: 6c65 290a 2020 2020 2020 2020 7365 6c66  le).        self
+00011840: 2e61 7574 5f6d 696e 5f77 696e 6469 6e67  .aut_min_winding
+00011850: 325f 7475 726e 735f 6c69 6e65 4564 6974  2_turns_lineEdit
+00011860: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
+00011870: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+00011880: 2e61 7574 5f6d 6178 5f77 696e 6469 6e67  .aut_max_winding
+00011890: 325f 7475 726e 735f 6c69 6e65 4564 6974  2_turns_lineEdit
+000118a0: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
+000118b0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+000118c0: 2e61 7574 5f73 7465 705f 7769 6e64 696e  .aut_step_windin
+000118d0: 6732 5f74 7572 6e73 5f6c 696e 6545 6469  g2_turns_lineEdi
+000118e0: 742e 7365 7456 6973 6962 6c65 2873 7461  t.setVisible(sta
+000118f0: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+00011900: 662e 6175 745f 7769 6e64 696e 6732 5f73  f.aut_winding2_s
+00011910: 6368 656d 655f 636f 6d62 6f42 6f78 2e73  cheme_comboBox.s
+00011920: 6574 5669 7369 626c 6528 7374 6174 7573  etVisible(status
+00011930: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
+00011940: 7574 5f77 696e 6469 6e67 325f 7475 726e  ut_winding2_turn
+00011950: 735f 6c61 6265 6c2e 7365 7456 6973 6962  s_label.setVisib
+00011960: 6c65 2873 7461 7475 7329 0a20 2020 2020  le(status).     
+00011970: 2020 2073 656c 662e 6175 745f 7769 6e64     self.aut_wind
+00011980: 696e 6732 5f73 6368 656d 655f 6c61 6265  ing2_scheme_labe
+00011990: 6c2e 7365 7456 6973 6962 6c65 2873 7461  l.setVisible(sta
+000119a0: 7475 7329 0a0a 2020 2020 2020 2020 2320  tus)..        # 
+000119b0: 7365 7420 6973 6f6c 6174 696f 6e20 6f66  set isolation of
+000119c0: 2077 696e 6469 6e67 2032 2028 656e 6162   winding 2 (enab
+000119d0: 6c65 2061 6e64 2076 6973 6962 6c65 290a  le and visible).
+000119e0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+000119f0: 5f69 736f 6c61 7469 6f6e 5f73 3273 5f6c  _isolation_s2s_l
+00011a00: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+00011a10: 6564 2873 7461 7475 7329 0a20 2020 2020  ed(status).     
+00011a20: 2020 2073 656c 662e 6175 745f 6973 6f6c     self.aut_isol
+00011a30: 6174 696f 6e5f 7032 735f 6c69 6e65 4564  ation_p2s_lineEd
+00011a40: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
+00011a50: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
+00011a60: 6c66 2e61 7574 5f69 736f 6c61 7469 6f6e  lf.aut_isolation
+00011a70: 5f73 3273 5f6c 696e 6545 6469 742e 7365  _s2s_lineEdit.se
+00011a80: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
+00011a90: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00011aa0: 745f 6973 6f6c 6174 696f 6e5f 7032 735f  t_isolation_p2s_
+00011ab0: 6c69 6e65 4564 6974 2e73 6574 5669 7369  lineEdit.setVisi
+00011ac0: 626c 6528 7374 6174 7573 290a 2020 2020  ble(status).    
+00011ad0: 2020 2020 7365 6c66 2e61 7574 5f69 736f      self.aut_iso
+00011ae0: 6c61 7469 6f6e 5f73 3273 5f6c 6162 656c  lation_s2s_label
+00011af0: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
+00011b00: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+00011b10: 2e61 7574 5f69 736f 6c61 7469 6f6e 5f70  .aut_isolation_p
+00011b20: 3273 5f6c 6162 656c 2e73 6574 5669 7369  2s_label.setVisi
+00011b30: 626c 6528 7374 6174 7573 290a 0a20 2020  ble(status)..   
+00011b40: 2020 2020 2073 656c 662e 6175 745f 6c69       self.aut_li
+00011b50: 747a 325f 6261 736b 6574 5f6c 6973 7457  tz2_basket_listW
+00011b60: 6964 6765 742e 7365 7445 6e61 626c 6564  idget.setEnabled
+00011b70: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
+00011b80: 2073 656c 662e 6175 745f 6c69 747a 325f   self.aut_litz2_
+00011b90: 6261 736b 6574 5f6c 6973 7457 6964 6765  basket_listWidge
+00011ba0: 742e 7365 7456 6973 6962 6c65 2873 7461  t.setVisible(sta
+00011bb0: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+00011bc0: 662e 6175 745f 6c69 747a 325f 6261 736b  f.aut_litz2_bask
+00011bd0: 6574 5f63 6c65 6172 5f61 6c6c 5f70 7573  et_clear_all_pus
+00011be0: 6862 7574 746f 6e2e 7365 7456 6973 6962  hbutton.setVisib
+00011bf0: 6c65 2873 7461 7475 7329 0a20 2020 2020  le(status).     
+00011c00: 2020 2073 656c 662e 6175 745f 6c69 747a     self.aut_litz
+00011c10: 325f 6261 736b 6574 5f63 6c65 6172 5f70  2_basket_clear_p
+00011c20: 7573 6862 7574 746f 6e2e 7365 7456 6973  ushbutton.setVis
+00011c30: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
+00011c40: 2020 2020 2073 656c 662e 6175 745f 6c69       self.aut_li
+00011c50: 747a 6261 736b 6574 325f 6c61 6265 6c2e  tzbasket2_label.
+00011c60: 7365 7456 6973 6962 6c65 2873 7461 7475  setVisible(statu
+00011c70: 7329 0a0a 2020 2020 2320 202a 2a2a 2a2a  s)..    #  *****
+00011c80: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00011c90: 2a2a 2a2a 2a2a 2a20 4461 7461 6261 7365  ******* Database
+00011ca0: 2074 6162 202a 2a2a 2a2a 2a2a 2a2a 2a2a   tab ***********
+00011cb0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00011cc0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00011cd0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+00011ce0: 2a2a 2a2a 2a2a 2a2a 2a20 2023 0a0a 2020  *********  #..  
+00011cf0: 2020 6465 6620 6461 7475 7064 6174 6572    def datupdater
+00011d00: 6170 6831 2873 656c 662c 206d 6174 706c  aph1(self, matpl
+00011d10: 6f74 6c69 625f 7769 6467 6574 312c 206d  otlib_widget1, m
+00011d20: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
+00011d30: 322c 206d 6174 706c 6f74 6c69 625f 7769  2, matplotlib_wi
+00011d40: 6467 6574 332c 206d 6174 706c 6f74 6c69  dget3, matplotli
+00011d50: 625f 7769 6467 6574 3429 3a0a 2020 2020  b_widget4):.    
+00011d60: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00011d70: 4461 7461 7368 6565 742d 6461 7461 7368  Datasheet-datash
+00011d80: 6565 7420 706c 6f74 2e0a 0a20 2020 2020  eet plot...     
+00011d90: 2020 203a 7061 7261 6d20 6d61 7470 6c6f     :param matplo
+00011da0: 746c 6962 5f77 6964 6765 7431 3a20 666f  tlib_widget1: fo
+00011db0: 7220 7468 6520 6669 7273 7420 706c 6f74  r the first plot
+00011dc0: 206f 6620 7265 6c61 7469 7665 2070 6f77   of relative pow
+00011dd0: 6572 206c 6f73 7320 7673 2042 0a20 2020  er loss vs B.   
+00011de0: 2020 2020 203a 7061 7261 6d20 6d61 7470       :param matp
+00011df0: 6c6f 746c 6962 5f77 6964 6765 7432 3a20  lotlib_widget2: 
+00011e00: 666f 7220 7468 6520 7365 636f 6e64 2070  for the second p
+00011e10: 6c6f 7420 6f66 2072 656c 6174 6976 6520  lot of relative 
+00011e20: 706f 7765 7220 6c6f 7373 2076 7320 7465  power loss vs te
+00011e30: 6d70 6572 6174 7572 650a 2020 2020 2020  mperature.      
+00011e40: 2020 3a70 6172 616d 206d 6174 706c 6f74    :param matplot
+00011e50: 6c69 625f 7769 6467 6574 333a 2066 6f72  lib_widget3: for
+00011e60: 2074 6865 2074 6869 7264 2070 6c6f 7420   the third plot 
+00011e70: 6f66 2072 656c 6174 6976 6520 706f 7765  of relative powe
+00011e80: 7220 6c6f 7373 2076 7320 6672 6571 7565  r loss vs freque
+00011e90: 6e63 790a 2020 2020 2020 2020 3a70 6172  ncy.        :par
+00011ea0: 616d 206d 6174 706c 6f74 6c69 625f 7769  am matplotlib_wi
+00011eb0: 6467 6574 343a 2066 6f72 2074 6865 2066  dget4: for the f
+00011ec0: 6f75 7274 6820 706c 6f74 206f 6620 4220  ourth plot of B 
+00011ed0: 7673 2048 0a20 2020 2020 2020 2022 2222  vs H.        """
+00011ee0: 0a20 2020 2020 2020 206d 6174 706c 6f74  .        matplot
+00011ef0: 6c69 625f 7769 6467 6574 312e 6178 6973  lib_widget1.axis
+00011f00: 2e63 6c65 6172 2829 0a20 2020 2020 2020  .clear().       
+00011f10: 2073 656c 662e 6c61 796f 7574 203d 2051   self.layout = Q
+00011f20: 5642 6f78 4c61 796f 7574 2873 656c 662e  VBoxLayout(self.
+00011f30: 706c 6f74 7769 6467 6574 290a 2020 2020  plotwidget).    
+00011f40: 2020 2020 7365 6c66 2e6c 6179 6f75 742e      self.layout.
+00011f50: 6164 6457 6964 6765 7428 6d61 7470 6c6f  addWidget(matplo
+00011f60: 746c 6962 5f77 6964 6765 7431 290a 2020  tlib_widget1).  
+00011f70: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00011f80: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
+00011f90: 625f 7769 6467 6574 312e 6178 6973 5f63  b_widget1.axis_c
+00011fa0: 6d2e 7265 6d6f 7665 2829 0a20 2020 2020  m.remove().     
+00011fb0: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
+00011fc0: 2020 2020 2020 2070 6173 730a 0a20 2020         pass..   
+00011fd0: 2020 2020 206d 6174 315f 6e61 6d65 203d       mat1_name =
+00011fe0: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
+00011ff0: 6174 6572 6961 6c31 5f63 6f6d 626f 426f  aterial1_comboBo
+00012000: 782e 6375 7272 656e 7454 6578 7428 290a  x.currentText().
+00012010: 2020 2020 2020 2020 6d61 7432 5f6e 616d          mat2_nam
+00012020: 6520 3d20 7365 6c66 2e64 6174 5f63 6f72  e = self.dat_cor
+00012030: 655f 6d61 7465 7269 616c 325f 636f 6d62  e_material2_comb
+00012040: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00012050: 2829 0a20 2020 2020 2020 206d 6174 335f  ().        mat3_
+00012060: 6e61 6d65 203d 2073 656c 662e 6461 745f  name = self.dat_
+00012070: 636f 7265 5f6d 6174 6572 6961 6c33 5f63  core_material3_c
+00012080: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00012090: 6578 7428 290a 2020 2020 2020 2020 6d61  ext().        ma
+000120a0: 7434 5f6e 616d 6520 3d20 7365 6c66 2e64  t4_name = self.d
+000120b0: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
+000120c0: 345f 636f 6d62 6f42 6f78 2e63 7572 7265  4_comboBox.curre
+000120d0: 6e74 5465 7874 2829 0a20 2020 2020 2020  ntText().       
+000120e0: 206d 6174 355f 6e61 6d65 203d 2073 656c   mat5_name = sel
+000120f0: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+00012100: 6961 6c35 5f63 6f6d 626f 426f 782e 6375  ial5_comboBox.cu
+00012110: 7272 656e 7454 6578 7428 290a 0a20 2020  rrentText()..   
+00012120: 2020 2020 206d 6174 315f 7465 6d70 203d       mat1_temp =
+00012130: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+00012140: 696e 745f 666c 6f61 7428 7365 6c66 2e61  int_float(self.a
+00012150: 7574 5f74 656d 705f 6d31 5f63 6f6d 626f  ut_temp_m1_combo
+00012160: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+00012170: 2929 0a20 2020 2020 2020 206d 6174 325f  )).        mat2_
+00012180: 7465 6d70 203d 2063 6f6d 6d61 5f73 7472  temp = comma_str
+00012190: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+000121a0: 7365 6c66 2e61 7574 5f74 656d 705f 6d32  self.aut_temp_m2
+000121b0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+000121c0: 7454 6578 7428 2929 0a20 2020 2020 2020  tText()).       
+000121d0: 206d 6174 335f 7465 6d70 203d 2063 6f6d   mat3_temp = com
+000121e0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+000121f0: 666c 6f61 7428 7365 6c66 2e61 7574 5f74  float(self.aut_t
+00012200: 656d 705f 6d33 5f63 6f6d 626f 426f 782e  emp_m3_comboBox.
+00012210: 6375 7272 656e 7454 6578 7428 2929 0a20  currentText()). 
+00012220: 2020 2020 2020 206d 6174 345f 7465 6d70         mat4_temp
+00012230: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+00012240: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00012250: 2e61 7574 5f74 656d 705f 6d34 5f63 6f6d  .aut_temp_m4_com
+00012260: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+00012270: 7428 2929 0a20 2020 2020 2020 206d 6174  t()).        mat
+00012280: 355f 7465 6d70 203d 2063 6f6d 6d61 5f73  5_temp = comma_s
+00012290: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+000122a0: 7428 7365 6c66 2e61 7574 5f74 656d 705f  t(self.aut_temp_
+000122b0: 6d35 5f63 6f6d 626f 426f 782e 6375 7272  m5_comboBox.curr
+000122c0: 656e 7454 6578 7428 2929 0a0a 2020 2020  entText())..    
+000122d0: 2020 2020 6d61 7431 5f66 6c75 7820 3d20      mat1_flux = 
+000122e0: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+000122f0: 6e74 5f66 6c6f 6174 2873 656c 662e 6175  nt_float(self.au
+00012300: 745f 666c 7578 5f6d 315f 636f 6d62 6f42  t_flux_m1_comboB
+00012310: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
+00012320: 290a 2020 2020 2020 2020 6d61 7432 5f66  ).        mat2_f
+00012330: 6c75 7820 3d20 636f 6d6d 615f 7374 725f  lux = comma_str_
+00012340: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
+00012350: 656c 662e 6175 745f 666c 7578 5f6d 325f  elf.aut_flux_m2_
+00012360: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+00012370: 5465 7874 2829 290a 2020 2020 2020 2020  Text()).        
+00012380: 6d61 7433 5f66 6c75 7820 3d20 636f 6d6d  mat3_flux = comm
+00012390: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+000123a0: 6c6f 6174 2873 656c 662e 6175 745f 666c  loat(self.aut_fl
+000123b0: 7578 5f6d 335f 636f 6d62 6f42 6f78 2e63  ux_m3_comboBox.c
+000123c0: 7572 7265 6e74 5465 7874 2829 290a 2020  urrentText()).  
+000123d0: 2020 2020 2020 6d61 7434 5f66 6c75 7820        mat4_flux 
+000123e0: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+000123f0: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+00012400: 6175 745f 666c 7578 5f6d 345f 636f 6d62  aut_flux_m4_comb
+00012410: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00012420: 2829 290a 2020 2020 2020 2020 6d61 7435  ()).        mat5
+00012430: 5f66 6c75 7820 3d20 636f 6d6d 615f 7374  _flux = comma_st
+00012440: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00012450: 2873 656c 662e 6175 745f 666c 7578 5f6d  (self.aut_flux_m
+00012460: 355f 636f 6d62 6f42 6f78 2e63 7572 7265  5_comboBox.curre
+00012470: 6e74 5465 7874 2829 290a 0a20 2020 2020  ntText())..     
+00012480: 2020 2023 2070 7269 6e74 2866 226d 6174     # print(f"mat
+00012490: 315f 6e61 6d65 3a20 7b6d 6174 315f 6e61  1_name: {mat1_na
+000124a0: 6d65 7d2c 7b6d 6174 325f 6e61 6d65 7d2c  me},{mat2_name},
+000124b0: 7b6d 6174 335f 6e61 6d65 7d2c 7b6d 6174  {mat3_name},{mat
+000124c0: 345f 6e61 6d65 7d2c 7b6d 6174 355f 6e61  4_name},{mat5_na
+000124d0: 6d65 7d22 290a 2020 2020 2020 2020 2320  me}").        # 
+000124e0: 7072 696e 7428 6622 6d61 7431 5f74 656d  print(f"mat1_tem
+000124f0: 703a 207b 6d61 7431 5f74 656d 707d 2c7b  p: {mat1_temp},{
+00012500: 6d61 7432 5f74 656d 707d 2c7b 6d61 7433  mat2_temp},{mat3
+00012510: 5f74 656d 707d 2c7b 6d61 7434 5f74 656d  _temp},{mat4_tem
+00012520: 707d 2c7b 6d61 7435 5f74 656d 707d 2229  p},{mat5_temp}")
+00012530: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
+00012540: 2866 226d 6174 315f 666c 7578 3a20 7b6d  (f"mat1_flux: {m
+00012550: 6174 315f 666c 7578 7d2c 7b6d 6174 325f  at1_flux},{mat2_
+00012560: 666c 7578 7d2c 7b6d 6174 335f 666c 7578  flux},{mat3_flux
+00012570: 7d2c 7b6d 6174 345f 666c 7578 7d2c 7b6d  },{mat4_flux},{m
+00012580: 6174 355f 666c 7578 7d22 290a 0a20 2020  at5_flux}")..   
+00012590: 2020 2020 206d 6174 6572 6961 6c73 5f75       materials_u
+000125a0: 7365 645f 6c69 7374 203d 205b 5d0a 2020  sed_list = [].  
+000125b0: 2020 2020 2020 6d61 7465 7269 616c 5f6c        material_l
+000125c0: 6973 7420 3d20 5b6d 6174 315f 6e61 6d65  ist = [mat1_name
+000125d0: 2c20 6d61 7432 5f6e 616d 652c 206d 6174  , mat2_name, mat
+000125e0: 335f 6e61 6d65 2c20 6d61 7434 5f6e 616d  3_name, mat4_nam
+000125f0: 652c 206d 6174 355f 6e61 6d65 5d0a 2020  e, mat5_name].  
+00012600: 2020 2020 2020 666f 7220 6974 656d 7320        for items 
+00012610: 696e 206d 6174 6572 6961 6c5f 6c69 7374  in material_list
+00012620: 3a0a 2020 2020 2020 2020 2020 2020 6966  :.            if
+00012630: 2069 7465 6d73 3a0a 2020 2020 2020 2020   items:.        
+00012640: 2020 2020 2020 2020 6d61 7465 7269 616c          material
+00012650: 735f 7573 6564 5f6c 6973 742e 6170 7065  s_used_list.appe
+00012660: 6e64 2869 7465 6d73 290a 2020 2020 2020  nd(items).      
+00012670: 2020 2320 7072 696e 7428 6d61 7465 7269    # print(materi
+00012680: 616c 735f 7573 6564 5f6c 6973 7429 0a0a  als_used_list)..
+00012690: 2020 2020 2020 2020 6461 7461 6261 7365          database
+000126a0: 2e63 6f6d 7061 7265 5f63 6f72 655f 6c6f  .compare_core_lo
+000126b0: 7373 5f66 6c75 785f 6465 6e73 6974 795f  ss_flux_density_
+000126c0: 6461 7461 286d 6174 706c 6f74 6c69 625f  data(matplotlib_
+000126d0: 7769 6467 6574 312c 206d 6174 6572 6961  widget1, materia
+000126e0: 6c5f 6c69 7374 3d6d 6174 6572 6961 6c73  l_list=materials
+000126f0: 5f75 7365 645f 6c69 7374 2c0a 2020 2020  _used_list,.    
+00012700: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012730: 2074 656d 7065 7261 7475 7265 5f6c 6973   temperature_lis
+00012740: 743d 5b6d 6174 315f 7465 6d70 2c20 6d61  t=[mat1_temp, ma
+00012750: 7432 5f74 656d 702c 206d 6174 335f 7465  t2_temp, mat3_te
+00012760: 6d70 2c20 6d61 7434 5f74 656d 702c 0a20  mp, mat4_temp,. 
+00012770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000127a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000127b0: 2020 2020 2020 6d61 7435 5f74 656d 705d        mat5_temp]
+000127c0: 290a 2020 2020 2020 2020 2320 7365 6c66  ).        # self
+000127d0: 2e6d 6174 706c 6f74 6c69 625f 7769 6467  .matplotlib_widg
+000127e0: 6574 312e 6178 6973 2e6c 6567 656e 6428  et1.axis.legend(
+000127f0: 666f 6e74 7369 7a65 3d31 3329 0a20 2020  fontsize=13).   
+00012800: 2020 2020 206d 6174 706c 6f74 6c69 625f       matplotlib_
+00012810: 7769 6467 6574 312e 6178 6973 2e67 7269  widget1.axis.gri
+00012820: 6428 290a 2020 2020 2020 2020 6d61 7470  d().        matp
+00012830: 6c6f 746c 6962 5f77 6964 6765 7431 2e66  lotlib_widget1.f
+00012840: 6967 7572 652e 6361 6e76 6173 2e64 7261  igure.canvas.dra
+00012850: 775f 6964 6c65 2829 0a20 2020 2020 2020  w_idle().       
+00012860: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
+00012870: 6574 312e 6669 6775 7265 2e74 6967 6874  et1.figure.tight
+00012880: 5f6c 6179 6f75 7428 290a 0a20 2020 2020  _layout()..     
+00012890: 2020 2023 2323 2323 2323 2323 2323 2323     #############
+000128a0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000128b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000128c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000128d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000128e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000128f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012900: 2323 230a 0a20 2020 2020 2020 206d 6174  ###..        mat
+00012910: 706c 6f74 6c69 625f 7769 6467 6574 322e  plotlib_widget2.
+00012920: 6178 6973 2e63 6c65 6172 2829 0a20 2020  axis.clear().   
+00012930: 2020 2020 2073 656c 662e 6c61 796f 7574       self.layout
+00012940: 203d 2051 5642 6f78 4c61 796f 7574 2873   = QVBoxLayout(s
+00012950: 656c 662e 706c 6f74 7769 6467 6574 5f32  elf.plotwidget_2
+00012960: 290a 2020 2020 2020 2020 7365 6c66 2e6c  ).        self.l
+00012970: 6179 6f75 742e 6164 6457 6964 6765 7428  ayout.addWidget(
+00012980: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00012990: 7432 290a 2020 2020 2020 2020 7472 793a  t2).        try:
+000129a0: 0a20 2020 2020 2020 2020 2020 206d 6174  .            mat
+000129b0: 706c 6f74 6c69 625f 7769 6467 6574 322e  plotlib_widget2.
+000129c0: 6178 6973 5f63 6d2e 7265 6d6f 7665 2829  axis_cm.remove()
+000129d0: 0a20 2020 2020 2020 2065 7863 6570 743a  .        except:
+000129e0: 0a20 2020 2020 2020 2020 2020 2070 6173  .            pas
+000129f0: 730a 0a20 2020 2020 2020 2066 6c75 785f  s..        flux_
+00012a00: 6c69 7374 203d 205b 6d61 7431 5f66 6c75  list = [mat1_flu
+00012a10: 782c 206d 6174 325f 666c 7578 2c20 6d61  x, mat2_flux, ma
+00012a20: 7433 5f66 6c75 782c 206d 6174 345f 666c  t3_flux, mat4_fl
+00012a30: 7578 2c20 6d61 7435 5f66 6c75 785d 0a20  ux, mat5_flux]. 
+00012a40: 2020 2020 2020 2023 2070 7269 6e74 2866         # print(f
+00012a50: 2266 6c75 785f 6c69 7374 3a20 7b66 6c75  "flux_list: {flu
+00012a60: 785f 6c69 7374 7d22 290a 2020 2020 2020  x_list}").      
+00012a70: 2020 6461 7461 6261 7365 2e63 6f6d 7061    database.compa
+00012a80: 7265 5f63 6f72 655f 6c6f 7373 5f74 656d  re_core_loss_tem
+00012a90: 7065 7261 7475 7265 286d 6174 706c 6f74  perature(matplot
+00012aa0: 6c69 625f 7769 6467 6574 322c 206d 6174  lib_widget2, mat
+00012ab0: 6572 6961 6c5f 6c69 7374 3d6d 6174 6572  erial_list=mater
+00012ac0: 6961 6c73 5f75 7365 645f 6c69 7374 2c0a  ials_used_list,.
+00012ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012af0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00012b00: 6c75 785f 6465 6e73 6974 795f 6c69 7374  lux_density_list
+00012b10: 3d5b 6d61 7431 5f66 6c75 782c 206d 6174  =[mat1_flux, mat
+00012b20: 325f 666c 7578 2c20 6d61 7433 5f66 6c75  2_flux, mat3_flu
+00012b30: 782c 206d 6174 345f 666c 7578 2c0a 2020  x, mat4_flux,.  
+00012b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012b80: 6d61 7435 5f66 6c75 785d 290a 2020 2020  mat5_flux]).    
+00012b90: 2020 2020 2320 7365 6c66 2e6d 6174 706c      # self.matpl
+00012ba0: 6f74 6c69 625f 7769 6467 6574 322e 6178  otlib_widget2.ax
+00012bb0: 6973 2e6c 6567 656e 6428 666f 6e74 7369  is.legend(fontsi
+00012bc0: 7a65 3d31 3329 0a20 2020 2020 2020 206d  ze=13).        m
+00012bd0: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
+00012be0: 322e 6178 6973 2e67 7269 6428 290a 2020  2.axis.grid().  
+00012bf0: 2020 2020 2020 6d61 7470 6c6f 746c 6962        matplotlib
+00012c00: 5f77 6964 6765 7432 2e66 6967 7572 652e  _widget2.figure.
+00012c10: 6361 6e76 6173 2e64 7261 775f 6964 6c65  canvas.draw_idle
+00012c20: 2829 0a20 2020 2020 2020 206d 6174 706c  ().        matpl
+00012c30: 6f74 6c69 625f 7769 6467 6574 322e 6669  otlib_widget2.fi
+00012c40: 6775 7265 2e74 6967 6874 5f6c 6179 6f75  gure.tight_layou
+00012c50: 7428 290a 0a20 2020 2020 2020 2023 2323  t()..        ###
+00012c60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012c70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012c80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012c90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012ca0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012cb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00012cc0: 2323 2323 2323 2323 2323 2323 230a 0a20  #############.. 
+00012cd0: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
+00012ce0: 625f 7769 6467 6574 332e 6178 6973 2e63  b_widget3.axis.c
+00012cf0: 6c65 6172 2829 0a20 2020 2020 2020 2073  lear().        s
+00012d00: 656c 662e 6c61 796f 7574 203d 2051 5642  elf.layout = QVB
+00012d10: 6f78 4c61 796f 7574 2873 656c 662e 706c  oxLayout(self.pl
+00012d20: 6f74 7769 6467 6574 5f33 290a 2020 2020  otwidget_3).    
+00012d30: 2020 2020 7365 6c66 2e6c 6179 6f75 742e      self.layout.
+00012d40: 6164 6457 6964 6765 7428 6d61 7470 6c6f  addWidget(matplo
+00012d50: 746c 6962 5f77 6964 6765 7433 290a 2020  tlib_widget3).  
+00012d60: 2020 2020 2020 7472 793a 0a20 2020 2020        try:.     
+00012d70: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
+00012d80: 625f 7769 6467 6574 332e 6178 6973 5f63  b_widget3.axis_c
+00012d90: 6d2e 7265 6d6f 7665 2829 0a20 2020 2020  m.remove().     
+00012da0: 2020 2065 7863 6570 743a 0a20 2020 2020     except:.     
+00012db0: 2020 2020 2020 2070 6173 730a 0a20 2020         pass..   
+00012dc0: 2020 2020 2064 6174 6162 6173 652e 636f       database.co
+00012dd0: 6d70 6172 655f 636f 7265 5f6c 6f73 735f  mpare_core_loss_
+00012de0: 6672 6571 7565 6e63 7928 6d61 7470 6c6f  frequency(matplo
+00012df0: 746c 6962 5f77 6964 6765 7433 2c20 6d61  tlib_widget3, ma
+00012e00: 7465 7269 616c 5f6c 6973 743d 6d61 7465  terial_list=mate
+00012e10: 7269 616c 735f 7573 6564 5f6c 6973 742c  rials_used_list,
+00012e20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00012e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012e40: 2020 2020 2020 2020 2020 2020 2020 7465                te
+00012e50: 6d70 6572 6174 7572 655f 6c69 7374 3d5b  mperature_list=[
+00012e60: 6d61 7431 5f74 656d 702c 206d 6174 325f  mat1_temp, mat2_
+00012e70: 7465 6d70 2c20 6d61 7433 5f74 656d 702c  temp, mat3_temp,
+00012e80: 206d 6174 345f 7465 6d70 2c20 6d61 7435   mat4_temp, mat5
+00012e90: 5f74 656d 705d 2c0a 2020 2020 2020 2020  _temp],.        
+00012ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00012ec0: 2020 2020 2066 6c75 785f 6465 6e73 6974       flux_densit
+00012ed0: 795f 6c69 7374 3d5b 6d61 7431 5f66 6c75  y_list=[mat1_flu
+00012ee0: 782c 206d 6174 325f 666c 7578 2c20 6d61  x, mat2_flux, ma
+00012ef0: 7433 5f66 6c75 782c 206d 6174 345f 666c  t3_flux, mat4_fl
+00012f00: 7578 2c20 6d61 7435 5f66 6c75 785d 290a  ux, mat5_flux]).
+00012f10: 2020 2020 2020 2020 2320 7365 6c66 2e6d          # self.m
+00012f20: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
+00012f30: 332e 6178 6973 2e6c 6567 656e 6428 666f  3.axis.legend(fo
+00012f40: 6e74 7369 7a65 3d31 3329 0a20 2020 2020  ntsize=13).     
+00012f50: 2020 206d 6174 706c 6f74 6c69 625f 7769     matplotlib_wi
+00012f60: 6467 6574 332e 6178 6973 2e67 7269 6428  dget3.axis.grid(
+00012f70: 290a 2020 2020 2020 2020 6d61 7470 6c6f  ).        matplo
+00012f80: 746c 6962 5f77 6964 6765 7433 2e66 6967  tlib_widget3.fig
+00012f90: 7572 652e 6361 6e76 6173 2e64 7261 775f  ure.canvas.draw_
+00012fa0: 6964 6c65 2829 0a20 2020 2020 2020 206d  idle().        m
+00012fb0: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
+00012fc0: 332e 6669 6775 7265 2e74 6967 6874 5f6c  3.figure.tight_l
+00012fd0: 6179 6f75 7428 290a 0a20 2020 2020 2020  ayout()..       
+00012fe0: 2023 2323 2323 2323 2323 2323 2323 2323   ###############
+00012ff0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013000: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013010: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013020: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013030: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013040: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00013050: 230a 0a20 2020 2020 2020 206d 6174 706c  #..        matpl
+00013060: 6f74 6c69 625f 7769 6467 6574 342e 6178  otlib_widget4.ax
+00013070: 6973 2e63 6c65 6172 2829 0a20 2020 2020  is.clear().     
+00013080: 2020 2073 656c 662e 6c61 796f 7574 203d     self.layout =
+00013090: 2051 5642 6f78 4c61 796f 7574 2873 656c   QVBoxLayout(sel
+000130a0: 662e 706c 6f74 7769 6467 6574 5f34 290a  f.plotwidget_4).
+000130b0: 2020 2020 2020 2020 7365 6c66 2e6c 6179          self.lay
+000130c0: 6f75 742e 6164 6457 6964 6765 7428 6d61  out.addWidget(ma
+000130d0: 7470 6c6f 746c 6962 5f77 6964 6765 7434  tplotlib_widget4
+000130e0: 290a 2020 2020 2020 2020 7472 793a 0a20  ).        try:. 
+000130f0: 2020 2020 2020 2020 2020 206d 6174 706c             matpl
+00013100: 6f74 6c69 625f 7769 6467 6574 342e 6178  otlib_widget4.ax
+00013110: 6973 5f63 6d2e 7265 6d6f 7665 2829 0a20  is_cm.remove(). 
+00013120: 2020 2020 2020 2065 7863 6570 743a 0a20         except:. 
+00013130: 2020 2020 2020 2020 2020 2070 6173 730a             pass.
+00013140: 0a20 2020 2020 2020 2064 6174 6162 6173  .        databas
+00013150: 652e 636f 6d70 6172 655f 625f 685f 6375  e.compare_b_h_cu
+00013160: 7276 6528 6d61 7470 6c6f 746c 6962 5f77  rve(matplotlib_w
+00013170: 6964 6765 7434 2c20 6d61 7465 7269 616c  idget4, material
+00013180: 5f6c 6973 743d 6d61 7465 7269 616c 735f  _list=materials_
+00013190: 7573 6564 5f6c 6973 742c 0a20 2020 2020  used_list,.     
+000131a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000131b0: 2020 2020 2020 2020 2020 2020 2020 7465                te
+000131c0: 6d70 6572 6174 7572 655f 6c69 7374 3d5b  mperature_list=[
+000131d0: 6d61 7431 5f74 656d 702c 206d 6174 325f  mat1_temp, mat2_
+000131e0: 7465 6d70 2c20 6d61 7433 5f74 656d 702c  temp, mat3_temp,
+000131f0: 206d 6174 345f 7465 6d70 2c20 6d61 7435   mat4_temp, mat5
+00013200: 5f74 656d 705d 290a 2020 2020 2020 2020  _temp]).        
+00013210: 2320 7365 6c66 2e6d 6174 706c 6f74 6c69  # self.matplotli
+00013220: 625f 7769 6467 6574 342e 6178 6973 2e6c  b_widget4.axis.l
+00013230: 6567 656e 6428 666f 6e74 7369 7a65 3d31  egend(fontsize=1
+00013240: 3329 0a20 2020 2020 2020 206d 6174 706c  3).        matpl
+00013250: 6f74 6c69 625f 7769 6467 6574 342e 6178  otlib_widget4.ax
+00013260: 6973 2e67 7269 6428 290a 2020 2020 2020  is.grid().      
+00013270: 2020 6d61 7470 6c6f 746c 6962 5f77 6964    matplotlib_wid
+00013280: 6765 7434 2e66 6967 7572 652e 6361 6e76  get4.figure.canv
+00013290: 6173 2e64 7261 775f 6964 6c65 2829 0a20  as.draw_idle(). 
+000132a0: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
+000132b0: 625f 7769 6467 6574 342e 6669 6775 7265  b_widget4.figure
+000132c0: 2e74 6967 6874 5f6c 6179 6f75 7428 290a  .tight_layout().
+000132d0: 0a20 2020 2064 6566 2064 6174 7570 6461  .    def datupda
+000132e0: 7465 7261 7068 3228 7365 6c66 2c20 6d61  teraph2(self, ma
+000132f0: 7470 6c6f 746c 6962 5f77 6964 6765 7431  tplotlib_widget1
+00013300: 2c20 6d61 7470 6c6f 746c 6962 5f77 6964  , matplotlib_wid
+00013310: 6765 7432 293a 0a20 2020 2020 2020 2022  get2):.        "
+00013320: 2222 0a20 2020 2020 2020 204d 6561 7375  "".        Measu
+00013330: 7265 6d65 6e74 2d4d 6561 7375 7265 6d65  rement-Measureme
+00013340: 6e74 2070 6c6f 742e 0a0a 2020 2020 2020  nt plot...      
+00013350: 2020 3a70 6172 616d 206d 6174 706c 6f74    :param matplot
+00013360: 6c69 625f 7769 6467 6574 313a 2046 6f74  lib_widget1: Fot
+00013370: 2074 6865 2066 6972 7374 2070 6c6f 7420   the first plot 
+00013380: 6f66 2075 522f 7530 2076 7320 420a 2020  of uR/u0 vs B.  
+00013390: 2020 2020 2020 3a70 6172 616d 206d 6174        :param mat
+000133a0: 706c 6f74 6c69 625f 7769 6467 6574 323a  plotlib_widget2:
+000133b0: 2066 6f72 2074 6865 2073 6563 6f6e 6420   for the second 
+000133c0: 706c 6f74 206f 6620 7552 2f75 3020 7673  plot of uR/u0 vs
+000133d0: 2042 0a20 2020 2020 2020 2022 2222 0a20   B.        """. 
+000133e0: 2020 2020 2020 206d 6174 706c 6f74 6c69         matplotli
+000133f0: 625f 7769 6467 6574 312e 6178 6973 2e63  b_widget1.axis.c
+00013400: 6c65 6172 2829 0a20 2020 2020 2020 2073  lear().        s
+00013410: 656c 662e 6c61 796f 7574 203d 2051 5642  elf.layout = QVB
+00013420: 6f78 4c61 796f 7574 2873 656c 662e 706c  oxLayout(self.pl
+00013430: 6f74 7769 6467 6574 5f31 3329 0a20 2020  otwidget_13).   
+00013440: 2020 2020 2073 656c 662e 6c61 796f 7574       self.layout
+00013450: 2e61 6464 5769 6467 6574 286d 6174 706c  .addWidget(matpl
+00013460: 6f74 6c69 625f 7769 6467 6574 3129 0a20  otlib_widget1). 
+00013470: 2020 2020 2020 2074 7279 3a0a 2020 2020         try:.    
+00013480: 2020 2020 2020 2020 6d61 7470 6c6f 746c          matplotl
+00013490: 6962 5f77 6964 6765 7431 2e61 7869 735f  ib_widget1.axis_
+000134a0: 636d 2e72 656d 6f76 6528 290a 2020 2020  cm.remove().    
+000134b0: 2020 2020 6578 6365 7074 3a0a 2020 2020      except:.    
+000134c0: 2020 2020 2020 2020 7061 7373 0a0a 2020          pass..  
+000134d0: 2020 2020 2020 6d61 7431 5f6e 616d 6520        mat1_name 
+000134e0: 3d20 7365 6c66 2e64 6174 5f63 6f72 655f  = self.dat_core_
+000134f0: 6d61 7465 7269 616c 315f 636f 6d62 6f42  material1_comboB
+00013500: 6f78 5f32 2e63 7572 7265 6e74 5465 7874  ox_2.currentText
+00013510: 2829 0a20 2020 2020 2020 206d 6174 325f  ().        mat2_
+00013520: 6e61 6d65 203d 2073 656c 662e 6461 745f  name = self.dat_
+00013530: 636f 7265 5f6d 6174 6572 6961 6c32 5f63  core_material2_c
+00013540: 6f6d 626f 426f 785f 322e 6375 7272 656e  omboBox_2.curren
+00013550: 7454 6578 7428 290a 2020 2020 2020 2020  tText().        
+00013560: 6d61 7433 5f6e 616d 6520 3d20 7365 6c66  mat3_name = self
+00013570: 2e64 6174 5f63 6f72 655f 6d61 7465 7269  .dat_core_materi
+00013580: 616c 335f 636f 6d62 6f42 6f78 5f32 2e63  al3_comboBox_2.c
+00013590: 7572 7265 6e74 5465 7874 2829 0a20 2020  urrentText().   
+000135a0: 2020 2020 206d 6174 345f 6e61 6d65 203d       mat4_name =
+000135b0: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
+000135c0: 6174 6572 6961 6c34 5f63 6f6d 626f 426f  aterial4_comboBo
+000135d0: 785f 322e 6375 7272 656e 7454 6578 7428  x_2.currentText(
+000135e0: 290a 2020 2020 2020 2020 6d61 7435 5f6e  ).        mat5_n
+000135f0: 616d 6520 3d20 7365 6c66 2e64 6174 5f63  ame = self.dat_c
+00013600: 6f72 655f 6d61 7465 7269 616c 355f 636f  ore_material5_co
+00013610: 6d62 6f42 6f78 5f32 2e63 7572 7265 6e74  mboBox_2.current
+00013620: 5465 7874 2829 0a0a 2020 2020 2020 2020  Text()..        
+00013630: 6d61 7431 5f74 6573 745f 6e61 6d65 203d  mat1_test_name =
+00013640: 2073 656c 662e 7465 7374 5f6e 616d 655f   self.test_name_
+00013650: 315f 636f 6d62 6f42 6f78 2e63 7572 7265  1_comboBox.curre
+00013660: 6e74 5465 7874 2829 0a20 2020 2020 2020  ntText().       
+00013670: 206d 6174 325f 7465 7374 5f6e 616d 6520   mat2_test_name 
+00013680: 3d20 7365 6c66 2e74 6573 745f 6e61 6d65  = self.test_name
+00013690: 5f32 5f63 6f6d 626f 426f 782e 6375 7272  _2_comboBox.curr
+000136a0: 656e 7454 6578 7428 290a 2020 2020 2020  entText().      
+000136b0: 2020 6d61 7433 5f74 6573 745f 6e61 6d65    mat3_test_name
+000136c0: 203d 2073 656c 662e 7465 7374 5f6e 616d   = self.test_nam
+000136d0: 655f 335f 636f 6d62 6f42 6f78 2e63 7572  e_3_comboBox.cur
+000136e0: 7265 6e74 5465 7874 2829 0a20 2020 2020  rentText().     
+000136f0: 2020 206d 6174 345f 7465 7374 5f6e 616d     mat4_test_nam
+00013700: 6520 3d20 7365 6c66 2e74 6573 745f 6e61  e = self.test_na
+00013710: 6d65 5f34 5f63 6f6d 626f 426f 782e 6375  me_4_comboBox.cu
+00013720: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
+00013730: 2020 2020 6d61 7435 5f74 6573 745f 6e61      mat5_test_na
+00013740: 6d65 203d 2073 656c 662e 7465 7374 5f6e  me = self.test_n
+00013750: 616d 655f 355f 636f 6d62 6f42 6f78 2e63  ame_5_comboBox.c
+00013760: 7572 7265 6e74 5465 7874 2829 0a0a 2020  urrentText()..  
+00013770: 2020 2020 2020 6d61 7431 5f74 656d 7020        mat1_temp 
+00013780: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+00013790: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+000137a0: 6175 745f 7465 6d70 5f6d 315f 636f 6d62  aut_temp_m1_comb
+000137b0: 6f42 6f78 5f32 2e63 7572 7265 6e74 5465  oBox_2.currentTe
+000137c0: 7874 2829 290a 2020 2020 2020 2020 6d61  xt()).        ma
+000137d0: 7432 5f74 656d 7020 3d20 636f 6d6d 615f  t2_temp = comma_
+000137e0: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+000137f0: 6174 2873 656c 662e 6175 745f 7465 6d70  at(self.aut_temp
+00013800: 5f6d 325f 636f 6d62 6f42 6f78 5f32 2e63  _m2_comboBox_2.c
+00013810: 7572 7265 6e74 5465 7874 2829 290a 2020  urrentText()).  
+00013820: 2020 2020 2020 6d61 7433 5f74 656d 7020        mat3_temp 
+00013830: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+00013840: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+00013850: 6175 745f 7465 6d70 5f6d 335f 636f 6d62  aut_temp_m3_comb
+00013860: 6f42 6f78 5f32 2e63 7572 7265 6e74 5465  oBox_2.currentTe
+00013870: 7874 2829 290a 2020 2020 2020 2020 6d61  xt()).        ma
+00013880: 7434 5f74 656d 7020 3d20 636f 6d6d 615f  t4_temp = comma_
+00013890: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+000138a0: 6174 2873 656c 662e 6175 745f 7465 6d70  at(self.aut_temp
+000138b0: 5f6d 345f 636f 6d62 6f42 6f78 5f32 2e63  _m4_comboBox_2.c
+000138c0: 7572 7265 6e74 5465 7874 2829 290a 2020  urrentText()).  
+000138d0: 2020 2020 2020 6d61 7435 5f74 656d 7020        mat5_temp 
+000138e0: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+000138f0: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+00013900: 6175 745f 7465 6d70 5f6d 355f 636f 6d62  aut_temp_m5_comb
+00013910: 6f42 6f78 5f32 2e63 7572 7265 6e74 5465  oBox_2.currentTe
+00013920: 7874 2829 290a 0a20 2020 2020 2020 206d  xt())..        m
+00013930: 6174 315f 6672 6571 203d 2063 6f6d 6d61  at1_freq = comma
+00013940: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
+00013950: 6f61 7428 7365 6c66 2e61 7574 5f66 7265  oat(self.aut_fre
+00013960: 715f 6d31 5f63 6f6d 626f 426f 782e 6375  q_m1_comboBox.cu
+00013970: 7272 656e 7454 6578 7428 2929 0a20 2020  rrentText()).   
+00013980: 2020 2020 206d 6174 325f 6672 6571 203d       mat2_freq =
+00013990: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+000139a0: 696e 745f 666c 6f61 7428 7365 6c66 2e61  int_float(self.a
+000139b0: 7574 5f66 7265 715f 6d32 5f63 6f6d 626f  ut_freq_m2_combo
+000139c0: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+000139d0: 2929 0a20 2020 2020 2020 206d 6174 335f  )).        mat3_
+000139e0: 6672 6571 203d 2063 6f6d 6d61 5f73 7472  freq = comma_str
+000139f0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+00013a00: 7365 6c66 2e61 7574 5f66 7265 715f 6d33  self.aut_freq_m3
+00013a10: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00013a20: 7454 6578 7428 2929 0a20 2020 2020 2020  tText()).       
+00013a30: 206d 6174 345f 6672 6571 203d 2063 6f6d   mat4_freq = com
+00013a40: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+00013a50: 666c 6f61 7428 7365 6c66 2e61 7574 5f66  float(self.aut_f
+00013a60: 7265 715f 6d34 5f63 6f6d 626f 426f 782e  req_m4_comboBox.
+00013a70: 6375 7272 656e 7454 6578 7428 2929 0a20  currentText()). 
+00013a80: 2020 2020 2020 206d 6174 355f 6672 6571         mat5_freq
+00013a90: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+00013aa0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00013ab0: 2e61 7574 5f66 7265 715f 6d35 5f63 6f6d  .aut_freq_m5_com
+00013ac0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+00013ad0: 7428 2929 0a0a 2020 2020 2020 2020 2320  t())..        # 
+00013ae0: 7072 696e 7428 6622 6d61 7431 5f6e 616d  print(f"mat1_nam
+00013af0: 653a 207b 6d61 7431 5f6e 616d 657d 2c7b  e: {mat1_name},{
+00013b00: 6d61 7432 5f6e 616d 657d 2c7b 6d61 7433  mat2_name},{mat3
+00013b10: 5f6e 616d 657d 2c7b 6d61 7434 5f6e 616d  _name},{mat4_nam
+00013b20: 657d 2c7b 6d61 7435 5f6e 616d 657d 2229  e},{mat5_name}")
+00013b30: 0a20 2020 2020 2020 2023 2070 7269 6e74  .        # print
+00013b40: 2866 226d 6174 315f 7465 6d70 3a20 7b6d  (f"mat1_temp: {m
+00013b50: 6174 315f 7465 6d70 7d2c 7b6d 6174 325f  at1_temp},{mat2_
+00013b60: 7465 6d70 7d2c 7b6d 6174 335f 7465 6d70  temp},{mat3_temp
+00013b70: 7d2c 7b6d 6174 345f 7465 6d70 7d2c 7b6d  },{mat4_temp},{m
+00013b80: 6174 355f 7465 6d70 7d22 290a 2020 2020  at5_temp}").    
+00013b90: 2020 2020 2320 7072 696e 7428 6622 6d61      # print(f"ma
+00013ba0: 7431 5f66 7265 713a 207b 6d61 7431 5f66  t1_freq: {mat1_f
+00013bb0: 7265 717d 2c7b 6d61 7432 5f66 7265 717d  req},{mat2_freq}
+00013bc0: 2c7b 6d61 7433 5f66 7265 717d 2c7b 6d61  ,{mat3_freq},{ma
+00013bd0: 7434 5f66 7265 717d 2c7b 6d61 7435 5f66  t4_freq},{mat5_f
+00013be0: 7265 717d 2229 0a0a 2020 2020 2020 2020  req}")..        
+00013bf0: 6d61 7465 7269 616c 735f 7573 6564 5f6c  materials_used_l
+00013c00: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
+00013c10: 206d 6174 6572 6961 6c5f 6c69 7374 203d   material_list =
+00013c20: 205b 6d61 7431 5f6e 616d 652c 206d 6174   [mat1_name, mat
+00013c30: 325f 6e61 6d65 2c20 6d61 7433 5f6e 616d  2_name, mat3_nam
+00013c40: 652c 206d 6174 345f 6e61 6d65 2c20 6d61  e, mat4_name, ma
+00013c50: 7435 5f6e 616d 655d 0a20 2020 2020 2020  t5_name].       
+00013c60: 2066 6f72 2069 7465 6d73 2069 6e20 6d61   for items in ma
+00013c70: 7465 7269 616c 5f6c 6973 743a 0a20 2020  terial_list:.   
+00013c80: 2020 2020 2020 2020 2069 6620 6974 656d           if item
+00013c90: 733a 0a20 2020 2020 2020 2020 2020 2020  s:.             
+00013ca0: 2020 206d 6174 6572 6961 6c73 5f75 7365     materials_use
+00013cb0: 645f 6c69 7374 2e61 7070 656e 6428 6974  d_list.append(it
+00013cc0: 656d 7329 0a20 2020 2020 2020 2023 2070  ems).        # p
+00013cd0: 7269 6e74 286d 6174 6572 6961 6c73 5f75  rint(materials_u
+00013ce0: 7365 645f 6c69 7374 290a 0a20 2020 2020  sed_list)..     
+00013cf0: 2020 2064 6174 6162 6173 652e 636f 6d70     database.comp
+00013d00: 6172 655f 7065 726d 6561 6269 6c69 7479  are_permeability
+00013d10: 5f6d 6561 7375 7265 6d65 6e74 5f64 6174  _measurement_dat
+00013d20: 6128 6d61 7470 6c6f 746c 6962 5f77 6964  a(matplotlib_wid
+00013d30: 6765 7431 2c20 6d61 7465 7269 616c 5f6c  get1, material_l
+00013d40: 6973 743d 6d61 7465 7269 616c 735f 7573  ist=materials_us
+00013d50: 6564 5f6c 6973 742c 0a20 2020 2020 2020  ed_list,.       
+00013d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013d90: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
+00013da0: 3d5b 6d61 7431 5f74 6573 745f 6e61 6d65  =[mat1_test_name
+00013db0: 2c20 6d61 7432 5f74 6573 745f 6e61 6d65  , mat2_test_name
+00013dc0: 2c20 6d61 7433 5f74 6573 745f 6e61 6d65  , mat3_test_name
+00013dd0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00013de0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013e10: 2020 2020 2020 2020 2020 206d 6174 345f             mat4_
+00013e20: 7465 7374 5f6e 616d 652c 206d 6174 355f  test_name, mat5_
+00013e30: 7465 7374 5f6e 616d 655d 2c0a 2020 2020  test_name],.    
+00013e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013e50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013e70: 2020 2066 7265 7175 656e 6379 5f6c 6973     frequency_lis
+00013e80: 743d 5b6d 6174 315f 6672 6571 2c20 6d61  t=[mat1_freq, ma
+00013e90: 7432 5f66 7265 712c 206d 6174 335f 6672  t2_freq, mat3_fr
+00013ea0: 6571 2c20 6d61 7434 5f66 7265 712c 0a20  eq, mat4_freq,. 
+00013eb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ef0: 2020 2020 2020 6d61 7435 5f66 7265 715d        mat5_freq]
+00013f00: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00013f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013f30: 2020 2020 2020 2020 2074 656d 7065 7261           tempera
+00013f40: 7475 7265 5f6c 6973 743d 5b6d 6174 315f  ture_list=[mat1_
+00013f50: 7465 6d70 2c20 6d61 7432 5f74 656d 702c  temp, mat2_temp,
+00013f60: 206d 6174 335f 7465 6d70 2c20 6d61 7434   mat3_temp, mat4
+00013f70: 5f74 656d 702c 0a20 2020 2020 2020 2020  _temp,.         
+00013f80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013fa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013fc0: 6d61 7435 5f74 656d 705d 2c0a 2020 2020  mat5_temp],.    
+00013fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00013ff0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014000: 2020 2070 6c6f 745f 7265 616c 5f70 6172     plot_real_par
+00014010: 743d 5472 7565 290a 0a20 2020 2020 2020  t=True)..       
+00014020: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
+00014030: 6574 312e 6178 6973 2e67 7269 6428 290a  et1.axis.grid().
+00014040: 2020 2020 2020 2020 6d61 7470 6c6f 746c          matplotl
+00014050: 6962 5f77 6964 6765 7431 2e66 6967 7572  ib_widget1.figur
+00014060: 652e 6361 6e76 6173 2e64 7261 775f 6964  e.canvas.draw_id
+00014070: 6c65 2829 0a20 2020 2020 2020 206d 6174  le().        mat
+00014080: 706c 6f74 6c69 625f 7769 6467 6574 312e  plotlib_widget1.
+00014090: 6669 6775 7265 2e74 6967 6874 5f6c 6179  figure.tight_lay
+000140a0: 6f75 7428 290a 0a20 2020 2020 2020 2023  out()..        #
+000140b0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000140c0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000140d0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000140e0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+000140f0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00014100: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00014110: 2323 2323 2323 2323 2323 2323 2323 230a  ###############.
+00014120: 0a20 2020 2020 2020 206d 6174 706c 6f74  .        matplot
+00014130: 6c69 625f 7769 6467 6574 322e 6178 6973  lib_widget2.axis
+00014140: 2e63 6c65 6172 2829 0a20 2020 2020 2020  .clear().       
+00014150: 2073 656c 662e 6c61 796f 7574 203d 2051   self.layout = Q
+00014160: 5642 6f78 4c61 796f 7574 2873 656c 662e  VBoxLayout(self.
+00014170: 706c 6f74 7769 6467 6574 5f31 3429 0a20  plotwidget_14). 
+00014180: 2020 2020 2020 2073 656c 662e 6c61 796f         self.layo
+00014190: 7574 2e61 6464 5769 6467 6574 286d 6174  ut.addWidget(mat
+000141a0: 706c 6f74 6c69 625f 7769 6467 6574 3229  plotlib_widget2)
+000141b0: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
+000141c0: 2020 2020 2020 2020 2020 6d61 7470 6c6f            matplo
+000141d0: 746c 6962 5f77 6964 6765 7432 2e61 7869  tlib_widget2.axi
+000141e0: 735f 636d 2e72 656d 6f76 6528 290a 2020  s_cm.remove().  
+000141f0: 2020 2020 2020 6578 6365 7074 3a0a 2020        except:.  
+00014200: 2020 2020 2020 2020 2020 7061 7373 0a20            pass. 
+00014210: 2020 2020 2020 2064 6174 6162 6173 652e         database.
+00014220: 636f 6d70 6172 655f 7065 726d 6561 6269  compare_permeabi
+00014230: 6c69 7479 5f6d 6561 7375 7265 6d65 6e74  lity_measurement
+00014240: 5f64 6174 6128 6d61 7470 6c6f 746c 6962  _data(matplotlib
+00014250: 5f77 6964 6765 7432 2c20 6d61 7465 7269  _widget2, materi
+00014260: 616c 5f6c 6973 743d 6d61 7465 7269 616c  al_list=material
+00014270: 735f 7573 6564 5f6c 6973 742c 0a20 2020  s_used_list,.   
+00014280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014290: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000142a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000142b0: 2020 2020 6d65 6173 7572 656d 656e 745f      measurement_
+000142c0: 6e61 6d65 3d5b 6d61 7431 5f74 6573 745f  name=[mat1_test_
+000142d0: 6e61 6d65 2c20 6d61 7432 5f74 6573 745f  name, mat2_test_
+000142e0: 6e61 6d65 2c20 6d61 7433 5f74 6573 745f  name, mat3_test_
+000142f0: 6e61 6d65 2c0a 2020 2020 2020 2020 2020  name,.          
+00014300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014330: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00014340: 6174 345f 7465 7374 5f6e 616d 652c 206d  at4_test_name, m
+00014350: 6174 355f 7465 7374 5f6e 616d 655d 2c0a  at5_test_name],.
+00014360: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014380: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014390: 2020 2020 2020 2066 7265 7175 656e 6379         frequency
+000143a0: 5f6c 6973 743d 5b6d 6174 315f 6672 6571  _list=[mat1_freq
+000143b0: 2c20 6d61 7432 5f66 7265 712c 206d 6174  , mat2_freq, mat
+000143c0: 335f 6672 6571 2c20 6d61 7434 5f66 7265  3_freq, mat4_fre
+000143d0: 712c 0a20 2020 2020 2020 2020 2020 2020  q,.             
+000143e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000143f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014410: 2020 2020 2020 2020 2020 6d61 7435 5f66            mat5_f
+00014420: 7265 715d 2c0a 2020 2020 2020 2020 2020  req],.          
+00014430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014450: 2020 2020 2020 2020 2020 2020 2074 656d               tem
+00014460: 7065 7261 7475 7265 5f6c 6973 743d 5b6d  perature_list=[m
+00014470: 6174 315f 7465 6d70 2c20 6d61 7432 5f74  at1_temp, mat2_t
+00014480: 656d 702c 206d 6174 335f 7465 6d70 2c20  emp, mat3_temp, 
+00014490: 6d61 7434 5f74 656d 702c 0a20 2020 2020  mat4_temp,.     
+000144a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000144e0: 2020 2020 6d61 7435 5f74 656d 705d 2c0a      mat5_temp],.
+000144f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014500: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014510: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014520: 2020 2020 2020 2070 6c6f 745f 7265 616c         plot_real
+00014530: 5f70 6172 743d 4661 6c73 6529 0a20 2020  _part=False).   
+00014540: 2020 2020 206d 6174 706c 6f74 6c69 625f       matplotlib_
+00014550: 7769 6467 6574 322e 6178 6973 2e67 7269  widget2.axis.gri
+00014560: 6428 290a 2020 2020 2020 2020 6d61 7470  d().        matp
+00014570: 6c6f 746c 6962 5f77 6964 6765 7432 2e66  lotlib_widget2.f
+00014580: 6967 7572 652e 6361 6e76 6173 2e64 7261  igure.canvas.dra
+00014590: 775f 6964 6c65 2829 0a20 2020 2020 2020  w_idle().       
+000145a0: 206d 6174 706c 6f74 6c69 625f 7769 6467   matplotlib_widg
+000145b0: 6574 322e 6669 6775 7265 2e74 6967 6874  et2.figure.tight
+000145c0: 5f6c 6179 6f75 7428 290a 0a20 2020 2064  _layout()..    d
+000145d0: 6566 2064 6174 7570 6461 7465 7261 7068  ef datupdateraph
+000145e0: 3328 7365 6c66 2c20 6d61 7470 6c6f 746c  3(self, matplotl
+000145f0: 6962 5f77 6964 6765 7429 3a0a 2020 2020  ib_widget):.    
+00014600: 2020 2020 2222 2244 6174 6173 6865 6574      """Datasheet
+00014610: 2d4d 6561 7375 7265 6d65 6e74 2070 6c6f  -Measurement plo
+00014620: 742e 0a0a 2020 2020 2020 2020 3a70 6172  t...        :par
+00014630: 616d 206d 6174 706c 6f74 6c69 625f 7769  am matplotlib_wi
+00014640: 6467 6574 3a20 546f 2070 6c6f 7420 7265  dget: To plot re
+00014650: 6c61 7469 7665 2070 6f77 6572 206c 6f73  lative power los
+00014660: 7320 7673 2042 0a20 2020 2020 2020 2022  s vs B.        "
+00014670: 2222 0a20 2020 2020 2020 206d 6174 706c  "".        matpl
+00014680: 6f74 6c69 625f 7769 6467 6574 2e61 7869  otlib_widget.axi
+00014690: 732e 636c 6561 7228 290a 2020 2020 2020  s.clear().      
+000146a0: 2020 7365 6c66 2e6c 6179 6f75 7420 3d20    self.layout = 
+000146b0: 5156 426f 784c 6179 6f75 7428 7365 6c66  QVBoxLayout(self
+000146c0: 2e70 6c6f 7477 6964 6765 745f 3135 290a  .plotwidget_15).
+000146d0: 2020 2020 2020 2020 7365 6c66 2e6c 6179          self.lay
+000146e0: 6f75 742e 6164 6457 6964 6765 7428 6d61  out.addWidget(ma
+000146f0: 7470 6c6f 746c 6962 5f77 6964 6765 7429  tplotlib_widget)
+00014700: 0a20 2020 2020 2020 2074 7279 3a0a 2020  .        try:.  
+00014710: 2020 2020 2020 2020 2020 6d61 7470 6c6f            matplo
+00014720: 746c 6962 5f77 6964 6765 742e 6178 6973  tlib_widget.axis
+00014730: 5f63 6d2e 7265 6d6f 7665 2829 0a20 2020  _cm.remove().   
+00014740: 2020 2020 2065 7863 6570 743a 0a20 2020       except:.   
+00014750: 2020 2020 2020 2020 2070 6173 730a 0a20           pass.. 
+00014760: 2020 2020 2020 206d 6174 5f64 6174 5f74         mat_dat_t
+00014770: 656d 7020 3d20 636f 6d6d 615f 7374 725f  emp = comma_str_
+00014780: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
+00014790: 656c 662e 6175 745f 7465 6d70 5f64 6174  elf.aut_temp_dat
+000147a0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+000147b0: 7454 6578 7428 2929 0a20 2020 2020 2020  tText()).       
+000147c0: 206d 6174 5f6d 6561 735f 7465 6d70 203d   mat_meas_temp =
+000147d0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+000147e0: 696e 745f 666c 6f61 7428 7365 6c66 2e61  int_float(self.a
+000147f0: 7574 5f74 656d 705f 6d65 6173 5f63 6f6d  ut_temp_meas_com
+00014800: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+00014810: 7428 2929 0a20 2020 2020 2020 206d 6174  t()).        mat
+00014820: 5f6e 616d 6520 3d20 7365 6c66 2e64 6174  _name = self.dat
+00014830: 5f63 6f72 655f 6d61 7465 7269 616c 5f63  _core_material_c
+00014840: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00014850: 6578 7428 290a 2020 2020 2020 2020 7465  ext().        te
+00014860: 7374 5f6e 616d 6520 3d20 7365 6c66 2e74  st_name = self.t
+00014870: 6573 745f 6e61 6d65 5f63 6f6d 626f 426f  est_name_comboBo
+00014880: 782e 6375 7272 656e 7454 6578 7428 290a  x.currentText().
+00014890: 0a20 2020 2020 2020 2064 6174 6162 6173  .        databas
+000148a0: 652e 636f 6d70 6172 655f 636f 7265 5f6c  e.compare_core_l
+000148b0: 6f73 735f 666c 7578 5f64 6174 6173 6865  oss_flux_datashe
+000148c0: 6574 5f6d 6561 7375 7265 6d65 6e74 286d  et_measurement(m
+000148d0: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
+000148e0: 2c20 6d61 7465 7269 616c 3d6d 6174 5f6e  , material=mat_n
+000148f0: 616d 652c 0a20 2020 2020 2020 2020 2020  ame,.           
+00014900: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014910: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014920: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014930: 2020 2074 656d 7065 7261 7475 7265 5f6c     temperature_l
+00014940: 6973 743d 5b6d 6174 5f64 6174 5f74 656d  ist=[mat_dat_tem
+00014950: 702c 206d 6174 5f6d 6561 735f 7465 6d70  p, mat_meas_temp
+00014960: 5d2c 206d 6561 7375 7265 6d65 6e74 5f6e  ], measurement_n
+00014970: 616d 653d 7465 7374 5f6e 616d 6529 0a0a  ame=test_name)..
+00014980: 2020 2020 2020 2020 6d61 7470 6c6f 746c          matplotl
+00014990: 6962 5f77 6964 6765 742e 6178 6973 2e67  ib_widget.axis.g
+000149a0: 7269 6428 290a 2020 2020 2020 2020 6d61  rid().        ma
+000149b0: 7470 6c6f 746c 6962 5f77 6964 6765 742e  tplotlib_widget.
+000149c0: 6669 6775 7265 2e63 616e 7661 732e 6472  figure.canvas.dr
+000149d0: 6177 5f69 646c 6528 290a 2020 2020 2020  aw_idle().      
+000149e0: 2020 6d61 7470 6c6f 746c 6962 5f77 6964    matplotlib_wid
+000149f0: 6765 742e 6669 6775 7265 2e74 6967 6874  get.figure.tight
+00014a00: 5f6c 6179 6f75 7428 290a 0a20 2020 2064  _layout()..    d
+00014a10: 6566 2064 6174 7570 6461 7465 7261 7068  ef datupdateraph
+00014a20: 315f 636f 6e66 6967 2873 656c 6629 3a0a  1_config(self):.
+00014a30: 2020 2020 2020 2020 2222 2243 616c 6c20          """Call 
+00014a40: 6461 7475 7064 6174 6572 6170 6831 2c20  datupdateraph1, 
+00014a50: 7768 656e 2055 7064 6174 6520 7072 6576  when Update prev
+00014a60: 6965 7720 6275 7474 6f6e 2069 7320 7072  iew button is pr
+00014a70: 6573 7365 6420 696e 2044 6174 6173 6865  essed in Datashe
+00014a80: 6574 2d44 6174 6173 6865 6574 2074 6162  et-Datasheet tab
+00014a90: 2e22 2222 0a20 2020 2020 2020 2073 656c  .""".        sel
+00014aa0: 662e 6461 7475 7064 6174 6572 6170 6831  f.datupdateraph1
+00014ab0: 2873 656c 662e 6d61 7470 6c6f 746c 6962  (self.matplotlib
+00014ac0: 5f77 6964 6765 745f 6461 7464 6431 2c20  _widget_datdd1, 
+00014ad0: 7365 6c66 2e6d 6174 706c 6f74 6c69 625f  self.matplotlib_
+00014ae0: 7769 6467 6574 5f64 6174 6464 322c 0a20  widget_datdd2,. 
+00014af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014b00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00014b10: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00014b20: 745f 6461 7464 6433 2c20 7365 6c66 2e6d  t_datdd3, self.m
+00014b30: 6174 706c 6f74 6c69 625f 7769 6467 6574  atplotlib_widget
+00014b40: 5f64 6174 6464 3429 0a0a 2020 2020 6465  _datdd4)..    de
+00014b50: 6620 6461 7475 7064 6174 6572 6170 6832  f datupdateraph2
+00014b60: 5f63 6f6e 6669 6728 7365 6c66 293a 0a20  _config(self):. 
+00014b70: 2020 2020 2020 2022 2222 4361 6c6c 2064         """Call d
+00014b80: 6174 7570 6461 7465 7261 7068 322c 2077  atupdateraph2, w
+00014b90: 6865 6e20 5570 6461 7465 2070 7265 7669  hen Update previ
+00014ba0: 6577 2062 7574 746f 6e20 6973 2070 7265  ew button is pre
+00014bb0: 7373 6564 2069 6e20 4d65 6173 7572 656d  ssed in Measurem
+00014bc0: 656e 742d 4d65 6173 7572 656d 656e 7420  ent-Measurement 
+00014bd0: 7461 622e 2222 220a 2020 2020 2020 2020  tab.""".        
+00014be0: 7365 6c66 2e64 6174 7570 6461 7465 7261  self.datupdatera
+00014bf0: 7068 3228 7365 6c66 2e6d 6174 706c 6f74  ph2(self.matplot
+00014c00: 6c69 625f 7769 6467 6574 5f64 6174 6d6d  lib_widget_datmm
+00014c10: 312c 2073 656c 662e 6d61 7470 6c6f 746c  1, self.matplotl
+00014c20: 6962 5f77 6964 6765 745f 6461 746d 6d32  ib_widget_datmm2
+00014c30: 290a 0a20 2020 2064 6566 2064 6174 7570  )..    def datup
+00014c40: 6461 7465 7261 7068 335f 636f 6e66 6967  dateraph3_config
+00014c50: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00014c60: 2222 2243 616c 6c20 6461 7475 7064 6174  """Call datupdat
+00014c70: 6572 6170 6833 2c20 7768 656e 2055 7064  eraph3, when Upd
+00014c80: 6174 6520 7072 6576 6965 7720 6275 7474  ate preview butt
+00014c90: 6f6e 2069 7320 7072 6573 7365 6420 696e  on is pressed in
+00014ca0: 2044 6174 6173 6865 6574 2d4d 6561 7375   Datasheet-Measu
+00014cb0: 7265 6d65 6e74 2074 6162 2e22 2222 0a20  rement tab.""". 
+00014cc0: 2020 2020 2020 2073 656c 662e 6461 7475         self.datu
+00014cd0: 7064 6174 6572 6170 6833 2873 656c 662e  pdateraph3(self.
+00014ce0: 6d61 7470 6c6f 746c 6962 5f77 6964 6765  matplotlib_widge
+00014cf0: 745f 6461 7464 6d29 0a0a 2020 2020 6465  t_datdm)..    de
+00014d00: 6620 7465 6d70 666c 7578 696e 7075 7431  f tempfluxinput1
+00014d10: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+00014d20: 2222 2247 6574 2074 6865 2066 6c75 7820  """Get the flux 
+00014d30: 616e 6420 7465 6d70 6572 6174 7572 6520  and temperature 
+00014d40: 6f66 2061 2070 6172 7469 6375 6c61 7220  of a particular 
+00014d50: 6d61 7465 7269 616c 2073 656c 6563 7465  material selecte
+00014d60: 642e 2222 220a 2020 2020 2020 2020 6d61  d.""".        ma
+00014d70: 745f 7465 7874 3120 3d20 7365 6c66 2e64  t_text1 = self.d
+00014d80: 6174 5f63 6f72 655f 6d61 7465 7269 616c  at_core_material
+00014d90: 315f 636f 6d62 6f42 6f78 2e63 7572 7265  1_comboBox.curre
+00014da0: 6e74 5465 7874 2829 0a0a 2020 2020 2020  ntText()..      
+00014db0: 2020 6765 745f 7465 6d70 315f 6c69 7374    get_temp1_list
+00014dc0: 203d 205b 5d0a 2020 2020 2020 2020 6765   = [].        ge
+00014dd0: 745f 666c 7578 315f 6c69 7374 203d 205b  t_flux1_list = [
+00014de0: 5d0a 2020 2020 2020 2020 6966 206d 6174  ].        if mat
+00014df0: 5f74 6578 7431 3a0a 2020 2020 2020 2020  _text1:.        
+00014e00: 2020 2020 6765 745f 7465 6d70 315f 6c69      get_temp1_li
+00014e10: 7374 203d 2064 6174 6162 6173 652e 6472  st = database.dr
+00014e20: 6f70 5f64 6f77 6e5f 6c69 7374 286d 6174  op_down_list(mat
+00014e30: 6572 6961 6c5f 6e61 6d65 3d6d 6174 5f74  erial_name=mat_t
+00014e40: 6578 7431 2c20 6461 7461 7479 7065 3d4e  ext1, datatype=N
+00014e50: 6f6e 652c 206d 6561 7375 7265 6d65 6e74  one, measurement
+00014e60: 5f6e 616d 653d 4e6f 6e65 2c0a 2020 2020  _name=None,.    
+00014e70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014ea0: 2063 6f6d 7061 7269 736f 6e5f 7479 7065   comparison_type
+00014eb0: 3d22 6476 6422 2c20 7465 6d70 6572 6174  ="dvd", temperat
+00014ec0: 7572 653d 5472 7565 290a 2020 2020 2020  ure=True).      
+00014ed0: 2020 2020 2020 6765 745f 666c 7578 315f        get_flux1_
+00014ee0: 6c69 7374 203d 2064 6174 6162 6173 652e  list = database.
+00014ef0: 6472 6f70 5f64 6f77 6e5f 6c69 7374 286d  drop_down_list(m
+00014f00: 6174 6572 6961 6c5f 6e61 6d65 3d6d 6174  aterial_name=mat
+00014f10: 5f74 6578 7431 2c20 6461 7461 7479 7065  _text1, datatype
+00014f20: 3d4e 6f6e 652c 206d 6561 7375 7265 6d65  =None, measureme
+00014f30: 6e74 5f6e 616d 653d 4e6f 6e65 2c0a 2020  nt_name=None,.  
+00014f40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00014f70: 2020 2063 6f6d 7061 7269 736f 6e5f 7479     comparison_ty
+00014f80: 7065 3d22 6476 6422 2c20 666c 7578 5f64  pe="dvd", flux_d
+00014f90: 656e 7369 7479 3d54 7275 6529 0a0a 2020  ensity=True)..  
+00014fa0: 2020 2020 2020 6175 745f 7465 6d70 5f6f        aut_temp_o
+00014fb0: 7074 696f 6e73 3120 3d20 6765 745f 7465  ptions1 = get_te
+00014fc0: 6d70 315f 6c69 7374 0a20 2020 2020 2020  mp1_list.       
+00014fd0: 2061 7574 5f66 6c75 785f 6f70 7469 6f6e   aut_flux_option
+00014fe0: 7331 203d 2067 6574 5f66 6c75 7831 5f6c  s1 = get_flux1_l
+00014ff0: 6973 740a 0a20 2020 2020 2020 2074 656d  ist..        tem
+00015000: 705f 7374 7220 3d20 5b66 277b 6974 656d  p_str = [f'{item
+00015010: 3a2e 3266 7d27 2066 6f72 2069 7465 6d20  :.2f}' for item 
+00015020: 696e 2061 7574 5f74 656d 705f 6f70 7469  in aut_temp_opti
+00015030: 6f6e 7331 5d0a 2020 2020 2020 2020 666c  ons1].        fl
+00015040: 7578 5f73 7472 203d 205b 6627 7b69 7465  ux_str = [f'{ite
+00015050: 6d3a 2e34 667d 2720 666f 7220 6974 656d  m:.4f}' for item
+00015060: 2069 6e20 6175 745f 666c 7578 5f6f 7074   in aut_flux_opt
+00015070: 696f 6e73 315d 0a20 2020 2020 2020 2073  ions1].        s
+00015080: 656c 662e 6175 745f 7465 6d70 5f6d 315f  elf.aut_temp_m1_
+00015090: 636f 6d62 6f42 6f78 2e63 6c65 6172 2829  comboBox.clear()
+000150a0: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+000150b0: 745f 666c 7578 5f6d 315f 636f 6d62 6f42  t_flux_m1_comboB
+000150c0: 6f78 2e63 6c65 6172 2829 0a20 2020 2020  ox.clear().     
+000150d0: 2020 2066 6f72 206f 7074 696f 6e20 696e     for option in
+000150e0: 2074 656d 705f 7374 723a 0a20 2020 2020   temp_str:.     
+000150f0: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00015100: 7465 6d70 5f6d 315f 636f 6d62 6f42 6f78  temp_m1_comboBox
+00015110: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
+00015120: 0a0a 2020 2020 2020 2020 666f 7220 6f70  ..        for op
+00015130: 7469 6f6e 2069 6e20 666c 7578 5f73 7472  tion in flux_str
+00015140: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00015150: 6c66 2e61 7574 5f66 6c75 785f 6d31 5f63  lf.aut_flux_m1_c
+00015160: 6f6d 626f 426f 782e 6164 6449 7465 6d28  omboBox.addItem(
+00015170: 6f70 7469 6f6e 290a 0a20 2020 2064 6566  option)..    def
+00015180: 2074 656d 7066 6c75 7869 6e70 7574 3228   tempfluxinput2(
+00015190: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
+000151a0: 2222 4765 7420 7468 6520 666c 7578 2061  ""Get the flux a
+000151b0: 6e64 2074 656d 7065 7261 7475 7265 206f  nd temperature o
+000151c0: 6620 6120 7061 7274 6963 756c 6172 206d  f a particular m
+000151d0: 6174 6572 6961 6c20 7365 6c65 6374 6564  aterial selected
+000151e0: 2e22 2222 0a20 2020 2020 2020 206d 6174  .""".        mat
+000151f0: 5f74 6578 7432 203d 2073 656c 662e 6461  _text2 = self.da
+00015200: 745f 636f 7265 5f6d 6174 6572 6961 6c32  t_core_material2
+00015210: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00015220: 7454 6578 7428 290a 2020 2020 2020 2020  tText().        
+00015230: 6765 745f 7465 6d70 325f 6c69 7374 203d  get_temp2_list =
+00015240: 205b 5d0a 2020 2020 2020 2020 6765 745f   [].        get_
+00015250: 666c 7578 325f 6c69 7374 203d 205b 5d0a  flux2_list = [].
+00015260: 2020 2020 2020 2020 6966 206d 6174 5f74          if mat_t
+00015270: 6578 7432 3a0a 2020 2020 2020 2020 2020  ext2:.          
+00015280: 2020 6765 745f 7465 6d70 325f 6c69 7374    get_temp2_list
+00015290: 203d 2064 6174 6162 6173 652e 6472 6f70   = database.drop
+000152a0: 5f64 6f77 6e5f 6c69 7374 286d 6174 6572  _down_list(mater
+000152b0: 6961 6c5f 6e61 6d65 3d6d 6174 5f74 6578  ial_name=mat_tex
+000152c0: 7432 2c20 6461 7461 7479 7065 3d4e 6f6e  t2, datatype=Non
+000152d0: 652c 206d 6561 7375 7265 6d65 6e74 5f6e  e, measurement_n
+000152e0: 616d 653d 4e6f 6e65 2c0a 2020 2020 2020  ame=None,.      
+000152f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015310: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00015320: 6f6d 7061 7269 736f 6e5f 7479 7065 3d22  omparison_type="
+00015330: 6476 6422 2c20 7465 6d70 6572 6174 7572  dvd", temperatur
+00015340: 653d 5472 7565 290a 2020 2020 2020 2020  e=True).        
+00015350: 2020 2020 6765 745f 666c 7578 325f 6c69      get_flux2_li
+00015360: 7374 203d 2064 6174 6162 6173 652e 6472  st = database.dr
+00015370: 6f70 5f64 6f77 6e5f 6c69 7374 286d 6174  op_down_list(mat
+00015380: 6572 6961 6c5f 6e61 6d65 3d6d 6174 5f74  erial_name=mat_t
+00015390: 6578 7432 2c20 6461 7461 7479 7065 3d4e  ext2, datatype=N
+000153a0: 6f6e 652c 206d 6561 7375 7265 6d65 6e74  one, measurement
+000153b0: 5f6e 616d 653d 4e6f 6e65 2c0a 2020 2020  _name=None,.    
+000153c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000153d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000153e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000153f0: 2063 6f6d 7061 7269 736f 6e5f 7479 7065   comparison_type
+00015400: 3d22 6476 6422 2c20 666c 7578 5f64 656e  ="dvd", flux_den
+00015410: 7369 7479 3d54 7275 6529 0a20 2020 2020  sity=True).     
+00015420: 2020 2061 7574 5f74 656d 705f 6f70 7469     aut_temp_opti
+00015430: 6f6e 7332 203d 2067 6574 5f74 656d 7032  ons2 = get_temp2
+00015440: 5f6c 6973 740a 2020 2020 2020 2020 6175  _list.        au
+00015450: 745f 666c 7578 5f6f 7074 696f 6e73 3220  t_flux_options2 
+00015460: 3d20 6765 745f 666c 7578 325f 6c69 7374  = get_flux2_list
+00015470: 0a0a 2020 2020 2020 2020 7465 6d70 5f73  ..        temp_s
+00015480: 7472 203d 205b 6627 7b69 7465 6d3a 2e32  tr = [f'{item:.2
+00015490: 667d 2720 666f 7220 6974 656d 2069 6e20  f}' for item in 
+000154a0: 6175 745f 7465 6d70 5f6f 7074 696f 6e73  aut_temp_options
+000154b0: 325d 0a20 2020 2020 2020 2066 6c75 785f  2].        flux_
+000154c0: 7374 7220 3d20 5b66 277b 6974 656d 3a2e  str = [f'{item:.
+000154d0: 3466 7d27 2066 6f72 2069 7465 6d20 696e  4f}' for item in
+000154e0: 2061 7574 5f66 6c75 785f 6f70 7469 6f6e   aut_flux_option
+000154f0: 7332 5d0a 2020 2020 2020 2020 7365 6c66  s2].        self
+00015500: 2e61 7574 5f74 656d 705f 6d32 5f63 6f6d  .aut_temp_m2_com
+00015510: 626f 426f 782e 636c 6561 7228 290a 2020  boBox.clear().  
+00015520: 2020 2020 2020 7365 6c66 2e61 7574 5f66        self.aut_f
+00015530: 6c75 785f 6d32 5f63 6f6d 626f 426f 782e  lux_m2_comboBox.
+00015540: 636c 6561 7228 290a 2020 2020 2020 2020  clear().        
+00015550: 666f 7220 6f70 7469 6f6e 2069 6e20 7465  for option in te
+00015560: 6d70 5f73 7472 3a0a 2020 2020 2020 2020  mp_str:.        
+00015570: 2020 2020 7365 6c66 2e61 7574 5f74 656d      self.aut_tem
+00015580: 705f 6d32 5f63 6f6d 626f 426f 782e 6164  p_m2_comboBox.ad
+00015590: 6449 7465 6d28 6f70 7469 6f6e 290a 0a20  dItem(option).. 
+000155a0: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
+000155b0: 6e20 696e 2066 6c75 785f 7374 723a 0a20  n in flux_str:. 
+000155c0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000155d0: 6175 745f 666c 7578 5f6d 325f 636f 6d62  aut_flux_m2_comb
+000155e0: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+000155f0: 696f 6e29 0a0a 2020 2020 6465 6620 7465  ion)..    def te
+00015600: 6d70 666c 7578 696e 7075 7433 2873 656c  mpfluxinput3(sel
+00015610: 6629 3a0a 2020 2020 2020 2020 2222 2247  f):.        """G
+00015620: 6574 2074 6865 2066 6c75 7820 616e 6420  et the flux and 
+00015630: 7465 6d70 6572 6174 7572 6520 6f66 2061  temperature of a
+00015640: 2070 6172 7469 6375 6c61 7220 6d61 7465   particular mate
+00015650: 7269 616c 2073 656c 6563 7465 642e 2222  rial selected.""
+00015660: 220a 2020 2020 2020 2020 6d61 745f 7465  ".        mat_te
+00015670: 7874 3320 3d20 7365 6c66 2e64 6174 5f63  xt3 = self.dat_c
+00015680: 6f72 655f 6d61 7465 7269 616c 335f 636f  ore_material3_co
+00015690: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
+000156a0: 7874 2829 0a20 2020 2020 2020 2067 6574  xt().        get
+000156b0: 5f74 656d 7033 5f6c 6973 7420 3d20 5b5d  _temp3_list = []
+000156c0: 0a20 2020 2020 2020 2067 6574 5f66 6c75  .        get_flu
+000156d0: 7833 5f6c 6973 7420 3d20 5b5d 0a20 2020  x3_list = [].   
+000156e0: 2020 2020 2069 6620 6d61 745f 7465 7874       if mat_text
+000156f0: 333a 0a20 2020 2020 2020 2020 2020 2067  3:.            g
+00015700: 6574 5f74 656d 7033 5f6c 6973 7420 3d20  et_temp3_list = 
+00015710: 6461 7461 6261 7365 2e64 726f 705f 646f  database.drop_do
+00015720: 776e 5f6c 6973 7428 6d61 7465 7269 616c  wn_list(material
+00015730: 5f6e 616d 653d 6d61 745f 7465 7874 332c  _name=mat_text3,
+00015740: 2064 6174 6174 7970 653d 4e6f 6e65 2c20   datatype=None, 
+00015750: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
+00015760: 3d4e 6f6e 652c 0a20 2020 2020 2020 2020  =None,.         
+00015770: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015790: 2020 2020 2020 2020 2020 2020 636f 6d70              comp
+000157a0: 6172 6973 6f6e 5f74 7970 653d 2264 7664  arison_type="dvd
+000157b0: 222c 2074 656d 7065 7261 7475 7265 3d54  ", temperature=T
+000157c0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
+000157d0: 2067 6574 5f66 6c75 7833 5f6c 6973 7420   get_flux3_list 
+000157e0: 3d20 6461 7461 6261 7365 2e64 726f 705f  = database.drop_
+000157f0: 646f 776e 5f6c 6973 7428 6d61 7465 7269  down_list(materi
+00015800: 616c 5f6e 616d 653d 6d61 745f 7465 7874  al_name=mat_text
+00015810: 332c 2064 6174 6174 7970 653d 4e6f 6e65  3, datatype=None
+00015820: 2c20 6d65 6173 7572 656d 656e 745f 6e61  , measurement_na
+00015830: 6d65 3d4e 6f6e 652c 0a20 2020 2020 2020  me=None,.       
+00015840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015850: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015860: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00015870: 6d70 6172 6973 6f6e 5f74 7970 653d 2264  mparison_type="d
+00015880: 7664 222c 2066 6c75 785f 6465 6e73 6974  vd", flux_densit
+00015890: 793d 5472 7565 290a 2020 2020 2020 2020  y=True).        
+000158a0: 6175 745f 7465 6d70 5f6f 7074 696f 6e73  aut_temp_options
+000158b0: 3320 3d20 6765 745f 7465 6d70 335f 6c69  3 = get_temp3_li
+000158c0: 7374 0a20 2020 2020 2020 2061 7574 5f66  st.        aut_f
+000158d0: 6c75 785f 6f70 7469 6f6e 7333 203d 2067  lux_options3 = g
+000158e0: 6574 5f66 6c75 7833 5f6c 6973 740a 0a20  et_flux3_list.. 
+000158f0: 2020 2020 2020 2074 656d 705f 7374 7220         temp_str 
+00015900: 3d20 5b66 277b 6974 656d 3a2e 3266 7d27  = [f'{item:.2f}'
+00015910: 2066 6f72 2069 7465 6d20 696e 2061 7574   for item in aut
+00015920: 5f74 656d 705f 6f70 7469 6f6e 7333 5d0a  _temp_options3].
+00015930: 2020 2020 2020 2020 666c 7578 5f73 7472          flux_str
+00015940: 203d 205b 6627 7b69 7465 6d3a 2e34 667d   = [f'{item:.4f}
+00015950: 2720 666f 7220 6974 656d 2069 6e20 6175  ' for item in au
+00015960: 745f 666c 7578 5f6f 7074 696f 6e73 335d  t_flux_options3]
+00015970: 0a20 2020 2020 2020 2073 656c 662e 6175  .        self.au
+00015980: 745f 7465 6d70 5f6d 335f 636f 6d62 6f42  t_temp_m3_comboB
+00015990: 6f78 2e63 6c65 6172 2829 0a20 2020 2020  ox.clear().     
+000159a0: 2020 2073 656c 662e 6175 745f 666c 7578     self.aut_flux
+000159b0: 5f6d 335f 636f 6d62 6f42 6f78 2e63 6c65  _m3_comboBox.cle
+000159c0: 6172 2829 0a20 2020 2020 2020 2066 6f72  ar().        for
+000159d0: 206f 7074 696f 6e20 696e 2074 656d 705f   option in temp_
+000159e0: 7374 723a 0a20 2020 2020 2020 2020 2020  str:.           
+000159f0: 2073 656c 662e 6175 745f 7465 6d70 5f6d   self.aut_temp_m
+00015a00: 335f 636f 6d62 6f42 6f78 2e61 6464 4974  3_comboBox.addIt
+00015a10: 656d 286f 7074 696f 6e29 0a0a 2020 2020  em(option)..    
+00015a20: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
+00015a30: 6e20 666c 7578 5f73 7472 3a0a 2020 2020  n flux_str:.    
+00015a40: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00015a50: 5f66 6c75 785f 6d33 5f63 6f6d 626f 426f  _flux_m3_comboBo
+00015a60: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
+00015a70: 290a 0a20 2020 2064 6566 2074 656d 7066  )..    def tempf
+00015a80: 6c75 7869 6e70 7574 3428 7365 6c66 293a  luxinput4(self):
+00015a90: 0a20 2020 2020 2020 2022 2222 4765 7420  .        """Get 
+00015aa0: 7468 6520 666c 7578 2061 6e64 2074 656d  the flux and tem
+00015ab0: 7065 7261 7475 7265 206f 6620 6120 7061  perature of a pa
+00015ac0: 7274 6963 756c 6172 206d 6174 6572 6961  rticular materia
+00015ad0: 6c20 7365 6c65 6374 6564 2e22 2222 0a20  l selected.""". 
+00015ae0: 2020 2020 2020 206d 6174 5f74 6578 7434         mat_text4
+00015af0: 203d 2073 656c 662e 6461 745f 636f 7265   = self.dat_core
+00015b00: 5f6d 6174 6572 6961 6c34 5f63 6f6d 626f  _material4_combo
+00015b10: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+00015b20: 290a 2020 2020 2020 2020 6765 745f 7465  ).        get_te
+00015b30: 6d70 345f 6c69 7374 203d 205b 5d0a 2020  mp4_list = [].  
+00015b40: 2020 2020 2020 6765 745f 666c 7578 345f        get_flux4_
+00015b50: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
+00015b60: 2020 6966 206d 6174 5f74 6578 7434 3a0a    if mat_text4:.
+00015b70: 2020 2020 2020 2020 2020 2020 6765 745f              get_
+00015b80: 7465 6d70 345f 6c69 7374 203d 2064 6174  temp4_list = dat
+00015b90: 6162 6173 652e 6472 6f70 5f64 6f77 6e5f  abase.drop_down_
+00015ba0: 6c69 7374 286d 6174 6572 6961 6c5f 6e61  list(material_na
+00015bb0: 6d65 3d6d 6174 5f74 6578 7434 2c20 6461  me=mat_text4, da
+00015bc0: 7461 7479 7065 3d4e 6f6e 652c 206d 6561  tatype=None, mea
+00015bd0: 7375 7265 6d65 6e74 5f6e 616d 653d 4e6f  surement_name=No
+00015be0: 6e65 2c0a 2020 2020 2020 2020 2020 2020  ne,.            
+00015bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015c10: 2020 2020 2020 2020 2063 6f6d 7061 7269           compari
+00015c20: 736f 6e5f 7479 7065 3d22 6476 6422 2c20  son_type="dvd", 
+00015c30: 7465 6d70 6572 6174 7572 653d 5472 7565  temperature=True
+00015c40: 290a 2020 2020 2020 2020 2020 2020 6765  ).            ge
+00015c50: 745f 666c 7578 345f 6c69 7374 203d 2064  t_flux4_list = d
+00015c60: 6174 6162 6173 652e 6472 6f70 5f64 6f77  atabase.drop_dow
+00015c70: 6e5f 6c69 7374 286d 6174 6572 6961 6c5f  n_list(material_
+00015c80: 6e61 6d65 3d6d 6174 5f74 6578 7434 2c20  name=mat_text4, 
+00015c90: 6461 7461 7479 7065 3d4e 6f6e 652c 206d  datatype=None, m
+00015ca0: 6561 7375 7265 6d65 6e74 5f6e 616d 653d  easurement_name=
+00015cb0: 4e6f 6e65 2c0a 2020 2020 2020 2020 2020  None,.          
+00015cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00015ce0: 2020 2020 2020 2020 2020 2063 6f6d 7061             compa
+00015cf0: 7269 736f 6e5f 7479 7065 3d22 6476 6422  rison_type="dvd"
+00015d00: 2c20 666c 7578 5f64 656e 7369 7479 3d54  , flux_density=T
+00015d10: 7275 6529 0a20 2020 2020 2020 2061 7574  rue).        aut
+00015d20: 5f74 656d 705f 6f70 7469 6f6e 7334 203d  _temp_options4 =
+00015d30: 2067 6574 5f74 656d 7034 5f6c 6973 740a   get_temp4_list.
+00015d40: 2020 2020 2020 2020 6175 745f 666c 7578          aut_flux
+00015d50: 5f6f 7074 696f 6e73 3420 3d20 6765 745f  _options4 = get_
+00015d60: 666c 7578 345f 6c69 7374 0a0a 2020 2020  flux4_list..    
+00015d70: 2020 2020 7465 6d70 5f73 7472 203d 205b      temp_str = [
+00015d80: 6627 7b69 7465 6d3a 2e32 667d 2720 666f  f'{item:.2f}' fo
+00015d90: 7220 6974 656d 2069 6e20 6175 745f 7465  r item in aut_te
+00015da0: 6d70 5f6f 7074 696f 6e73 345d 0a20 2020  mp_options4].   
+00015db0: 2020 2020 2066 6c75 785f 7374 7220 3d20       flux_str = 
+00015dc0: 5b66 277b 6974 656d 3a2e 3466 7d27 2066  [f'{item:.4f}' f
+00015dd0: 6f72 2069 7465 6d20 696e 2061 7574 5f66  or item in aut_f
+00015de0: 6c75 785f 6f70 7469 6f6e 7334 5d0a 2020  lux_options4].  
+00015df0: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
+00015e00: 656d 705f 6d34 5f63 6f6d 626f 426f 782e  emp_m4_comboBox.
+00015e10: 636c 6561 7228 290a 2020 2020 2020 2020  clear().        
+00015e20: 7365 6c66 2e61 7574 5f66 6c75 785f 6d34  self.aut_flux_m4
+00015e30: 5f63 6f6d 626f 426f 782e 636c 6561 7228  _comboBox.clear(
+00015e40: 290a 2020 2020 2020 2020 666f 7220 6f70  ).        for op
+00015e50: 7469 6f6e 2069 6e20 7465 6d70 5f73 7472  tion in temp_str
+00015e60: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00015e70: 6c66 2e61 7574 5f74 656d 705f 6d34 5f63  lf.aut_temp_m4_c
+00015e80: 6f6d 626f 426f 782e 6164 6449 7465 6d28  omboBox.addItem(
+00015e90: 6f70 7469 6f6e 290a 0a20 2020 2020 2020  option)..       
+00015ea0: 2066 6f72 206f 7074 696f 6e20 696e 2066   for option in f
+00015eb0: 6c75 785f 7374 723a 0a20 2020 2020 2020  lux_str:.       
+00015ec0: 2020 2020 2073 656c 662e 6175 745f 666c       self.aut_fl
+00015ed0: 7578 5f6d 345f 636f 6d62 6f42 6f78 2e61  ux_m4_comboBox.a
+00015ee0: 6464 4974 656d 286f 7074 696f 6e29 0a0a  ddItem(option)..
+00015ef0: 2020 2020 6465 6620 7465 6d70 666c 7578      def tempflux
+00015f00: 696e 7075 7435 2873 656c 6629 3a0a 2020  input5(self):.  
+00015f10: 2020 2020 2020 2222 2247 6574 2074 6865        """Get the
+00015f20: 2066 6c75 7820 616e 6420 7465 6d70 6572   flux and temper
+00015f30: 6174 7572 6520 6f66 2061 2070 6172 7469  ature of a parti
+00015f40: 6375 6c61 7220 6d61 7465 7269 616c 2073  cular material s
+00015f50: 656c 6563 7465 642e 2222 220a 2020 2020  elected.""".    
+00015f60: 2020 2020 6d61 745f 7465 7874 3520 3d20      mat_text5 = 
+00015f70: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
+00015f80: 7465 7269 616c 355f 636f 6d62 6f42 6f78  terial5_comboBox
+00015f90: 2e63 7572 7265 6e74 5465 7874 2829 0a20  .currentText(). 
+00015fa0: 2020 2020 2020 2067 6574 5f74 656d 7035         get_temp5
+00015fb0: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
+00015fc0: 2020 2067 6574 5f66 6c75 7835 5f6c 6973     get_flux5_lis
+00015fd0: 7420 3d20 5b5d 0a20 2020 2020 2020 2069  t = [].        i
+00015fe0: 6620 6d61 745f 7465 7874 353a 0a20 2020  f mat_text5:.   
+00015ff0: 2020 2020 2020 2020 2067 6574 5f74 656d           get_tem
+00016000: 7035 5f6c 6973 7420 3d20 6461 7461 6261  p5_list = databa
+00016010: 7365 2e64 726f 705f 646f 776e 5f6c 6973  se.drop_down_lis
+00016020: 7428 6d61 7465 7269 616c 5f6e 616d 653d  t(material_name=
+00016030: 6d61 745f 7465 7874 352c 2064 6174 6174  mat_text5, datat
+00016040: 7970 653d 4e6f 6e65 2c20 6d65 6173 7572  ype=None, measur
+00016050: 656d 656e 745f 6e61 6d65 3d4e 6f6e 652c  ement_name=None,
+00016060: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00016070: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016080: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016090: 2020 2020 2020 636f 6d70 6172 6973 6f6e        comparison
+000160a0: 5f74 7970 653d 2264 7664 222c 2074 656d  _type="dvd", tem
+000160b0: 7065 7261 7475 7265 3d54 7275 6529 0a20  perature=True). 
+000160c0: 2020 2020 2020 2020 2020 2067 6574 5f66             get_f
+000160d0: 6c75 7835 5f6c 6973 7420 3d20 6461 7461  lux5_list = data
+000160e0: 6261 7365 2e64 726f 705f 646f 776e 5f6c  base.drop_down_l
+000160f0: 6973 7428 6d61 7465 7269 616c 5f6e 616d  ist(material_nam
+00016100: 653d 6d61 745f 7465 7874 352c 2064 6174  e=mat_text5, dat
+00016110: 6174 7970 653d 4e6f 6e65 2c20 6d65 6173  atype=None, meas
+00016120: 7572 656d 656e 745f 6e61 6d65 3d4e 6f6e  urement_name=Non
+00016130: 652c 0a20 2020 2020 2020 2020 2020 2020  e,.             
+00016140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00016160: 2020 2020 2020 2020 636f 6d70 6172 6973          comparis
+00016170: 6f6e 5f74 7970 653d 2264 7664 222c 2066  on_type="dvd", f
+00016180: 6c75 785f 6465 6e73 6974 793d 5472 7565  lux_density=True
+00016190: 290a 2020 2020 2020 2020 6175 745f 7465  ).        aut_te
+000161a0: 6d70 5f6f 7074 696f 6e73 3520 3d20 6765  mp_options5 = ge
+000161b0: 745f 7465 6d70 355f 6c69 7374 0a20 2020  t_temp5_list.   
+000161c0: 2020 2020 2061 7574 5f66 6c75 785f 6f70       aut_flux_op
+000161d0: 7469 6f6e 7335 203d 2067 6574 5f66 6c75  tions5 = get_flu
+000161e0: 7835 5f6c 6973 740a 0a20 2020 2020 2020  x5_list..       
+000161f0: 2074 656d 705f 7374 7220 3d20 5b66 277b   temp_str = [f'{
+00016200: 6974 656d 3a2e 3266 7d27 2066 6f72 2069  item:.2f}' for i
+00016210: 7465 6d20 696e 2061 7574 5f74 656d 705f  tem in aut_temp_
+00016220: 6f70 7469 6f6e 7335 5d0a 2020 2020 2020  options5].      
+00016230: 2020 666c 7578 5f73 7472 203d 205b 6627    flux_str = [f'
+00016240: 7b69 7465 6d3a 2e34 667d 2720 666f 7220  {item:.4f}' for 
+00016250: 6974 656d 2069 6e20 6175 745f 666c 7578  item in aut_flux
+00016260: 5f6f 7074 696f 6e73 355d 0a20 2020 2020  _options5].     
+00016270: 2020 2073 656c 662e 6175 745f 7465 6d70     self.aut_temp
+00016280: 5f6d 355f 636f 6d62 6f42 6f78 2e63 6c65  _m5_comboBox.cle
+00016290: 6172 2829 0a20 2020 2020 2020 2073 656c  ar().        sel
+000162a0: 662e 6175 745f 666c 7578 5f6d 355f 636f  f.aut_flux_m5_co
+000162b0: 6d62 6f42 6f78 2e63 6c65 6172 2829 0a20  mboBox.clear(). 
+000162c0: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
+000162d0: 6e20 696e 2074 656d 705f 7374 723a 0a20  n in temp_str:. 
+000162e0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+000162f0: 6175 745f 7465 6d70 5f6d 355f 636f 6d62  aut_temp_m5_comb
+00016300: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+00016310: 696f 6e29 0a0a 2020 2020 2020 2020 666f  ion)..        fo
+00016320: 7220 6f70 7469 6f6e 2069 6e20 666c 7578  r option in flux
+00016330: 5f73 7472 3a0a 2020 2020 2020 2020 2020  _str:.          
+00016340: 2020 7365 6c66 2e61 7574 5f66 6c75 785f    self.aut_flux_
+00016350: 6d35 5f63 6f6d 626f 426f 782e 6164 6449  m5_comboBox.addI
 00016360: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
-00016370: 2064 6566 2074 656d 7066 7265 7169 6e70   def tempfreqinp
-00016380: 7574 3128 7365 6c66 293a 0a20 2020 2020  ut1(self):.     
-00016390: 2020 2022 2222 4765 7420 7468 6520 6672     """Get the fr
-000163a0: 6571 7565 6e63 7920 616e 6420 7465 6d70  equency and temp
-000163b0: 6572 6174 7572 6520 6f66 2061 2070 6172  erature of a par
-000163c0: 7469 6375 6c61 7220 6d61 7465 7269 616c  ticular material
-000163d0: 2073 656c 6563 7465 642e 2222 220a 2020   selected.""".  
-000163e0: 2020 2020 2020 6d61 745f 7465 7874 3120        mat_text1 
-000163f0: 3d20 7365 6c66 2e64 6174 5f63 6f72 655f  = self.dat_core_
-00016400: 6d61 7465 7269 616c 315f 636f 6d62 6f42  material1_comboB
-00016410: 6f78 5f32 2e63 7572 7265 6e74 5465 7874  ox_2.currentText
-00016420: 2829 0a20 2020 2020 2020 2074 6573 745f  ().        test_
-00016430: 7365 7475 705f 7465 7874 3120 3d20 7365  setup_text1 = se
-00016440: 6c66 2e74 6573 745f 6e61 6d65 5f31 5f63  lf.test_name_1_c
-00016450: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00016460: 6578 7428 290a 0a20 2020 2020 2020 2067  ext()..        g
-00016470: 6574 5f74 656d 7031 5f6c 6973 7420 3d20  et_temp1_list = 
-00016480: 5b5d 0a20 2020 2020 2020 2067 6574 5f66  [].        get_f
-00016490: 7265 7131 5f6c 6973 7420 3d20 5b5d 0a20  req1_list = []. 
-000164a0: 2020 2020 2020 2069 6620 6d61 745f 7465         if mat_te
-000164b0: 7874 313a 0a20 2020 2020 2020 2020 2020  xt1:.           
-000164c0: 2067 6574 5f74 656d 7031 5f6c 6973 7420   get_temp1_list 
-000164d0: 3d20 6461 7461 6261 7365 2e64 726f 705f  = database.drop_
-000164e0: 646f 776e 5f6c 6973 7428 6d61 7465 7269  down_list(materi
-000164f0: 616c 5f6e 616d 653d 6d61 745f 7465 7874  al_name=mat_text
-00016500: 312c 2063 6f6d 7061 7269 736f 6e5f 7479  1, comparison_ty
-00016510: 7065 3d22 6d76 6d22 2c0a 2020 2020 2020  pe="mvm",.      
-00016520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016540: 2020 2020 2020 2020 2020 2020 2020 2064                 d
-00016550: 6174 6174 7970 653d 2263 6f6d 706c 6578  atatype="complex
-00016560: 5f70 6572 6d65 6162 696c 6974 7922 2c20  _permeability", 
-00016570: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
-00016580: 3d74 6573 745f 7365 7475 705f 7465 7874  =test_setup_text
-00016590: 312c 0a20 2020 2020 2020 2020 2020 2020  1,.             
-000165a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000165b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000165c0: 2020 2020 2020 2020 7465 6d70 6572 6174          temperat
-000165d0: 7572 653d 5472 7565 290a 2020 2020 2020  ure=True).      
-000165e0: 2020 2020 2020 6765 745f 6672 6571 315f        get_freq1_
-000165f0: 6c69 7374 203d 2064 6174 6162 6173 652e  list = database.
-00016600: 6472 6f70 5f64 6f77 6e5f 6c69 7374 286d  drop_down_list(m
-00016610: 6174 6572 6961 6c5f 6e61 6d65 3d6d 6174  aterial_name=mat
-00016620: 5f74 6578 7431 2c20 636f 6d70 6172 6973  _text1, comparis
-00016630: 6f6e 5f74 7970 653d 226d 766d 222c 0a20  on_type="mvm",. 
-00016640: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016650: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016670: 2020 2020 6461 7461 7479 7065 3d22 636f      datatype="co
-00016680: 6d70 6c65 785f 7065 726d 6561 6269 6c69  mplex_permeabili
-00016690: 7479 222c 206d 6561 7375 7265 6d65 6e74  ty", measurement
-000166a0: 5f6e 616d 653d 7465 7374 5f73 6574 7570  _name=test_setup
-000166b0: 5f74 6578 7431 2c0a 2020 2020 2020 2020  _text1,.        
-000166c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000166e0: 2020 2020 2020 2020 2020 2020 2066 7265               fre
-000166f0: 7175 656e 6379 3d54 7275 6529 0a20 2020  quency=True).   
-00016700: 2020 2020 2061 7574 5f74 656d 705f 6f70       aut_temp_op
-00016710: 7469 6f6e 7331 203d 2067 6574 5f74 656d  tions1 = get_tem
-00016720: 7031 5f6c 6973 740a 2020 2020 2020 2020  p1_list.        
-00016730: 6175 745f 6672 6571 5f6f 7074 696f 6e73  aut_freq_options
-00016740: 3120 3d20 6765 745f 6672 6571 315f 6c69  1 = get_freq1_li
-00016750: 7374 0a0a 2020 2020 2020 2020 7465 6d70  st..        temp
-00016760: 5f73 7472 203d 205b 6627 7b69 7465 6d3a  _str = [f'{item:
-00016770: 2e32 667d 2720 666f 7220 6974 656d 2069  .2f}' for item i
-00016780: 6e20 6175 745f 7465 6d70 5f6f 7074 696f  n aut_temp_optio
-00016790: 6e73 315d 0a20 2020 2020 2020 2066 7265  ns1].        fre
-000167a0: 715f 7374 7220 3d20 5b66 277b 6974 656d  q_str = [f'{item
-000167b0: 3a2e 3266 7d27 2066 6f72 2069 7465 6d20  :.2f}' for item 
-000167c0: 696e 2061 7574 5f66 7265 715f 6f70 7469  in aut_freq_opti
-000167d0: 6f6e 7331 5d0a 2020 2020 2020 2020 7365  ons1].        se
-000167e0: 6c66 2e61 7574 5f74 656d 705f 6d31 5f63  lf.aut_temp_m1_c
-000167f0: 6f6d 626f 426f 785f 322e 636c 6561 7228  omboBox_2.clear(
-00016800: 290a 2020 2020 2020 2020 7365 6c66 2e61  ).        self.a
-00016810: 7574 5f66 7265 715f 6d31 5f63 6f6d 626f  ut_freq_m1_combo
-00016820: 426f 782e 636c 6561 7228 290a 2020 2020  Box.clear().    
-00016830: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-00016840: 6e20 7465 6d70 5f73 7472 3a0a 2020 2020  n temp_str:.    
-00016850: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00016860: 5f74 656d 705f 6d31 5f63 6f6d 626f 426f  _temp_m1_comboBo
-00016870: 785f 322e 6164 6449 7465 6d28 6f70 7469  x_2.addItem(opti
-00016880: 6f6e 290a 0a20 2020 2020 2020 2066 6f72  on)..        for
-00016890: 206f 7074 696f 6e20 696e 2066 7265 715f   option in freq_
-000168a0: 7374 723a 0a20 2020 2020 2020 2020 2020  str:.           
-000168b0: 2073 656c 662e 6175 745f 6672 6571 5f6d   self.aut_freq_m
-000168c0: 315f 636f 6d62 6f42 6f78 2e61 6464 4974  1_comboBox.addIt
-000168d0: 656d 286f 7074 696f 6e29 0a0a 2020 2020  em(option)..    
-000168e0: 6465 6620 7465 6d70 6672 6571 696e 7075  def tempfreqinpu
-000168f0: 7432 2873 656c 6629 3a0a 2020 2020 2020  t2(self):.      
-00016900: 2020 2222 2247 6574 2074 6865 2066 7265    """Get the fre
-00016910: 7175 656e 6379 2061 6e64 2074 656d 7065  quency and tempe
-00016920: 7261 7475 7265 206f 6620 6120 7061 7274  rature of a part
-00016930: 6963 756c 6172 206d 6174 6572 6961 6c20  icular material 
-00016940: 7365 6c65 6374 6564 2e22 2222 0a20 2020  selected.""".   
-00016950: 2020 2020 206d 6174 5f74 6578 7432 203d       mat_text2 =
-00016960: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
-00016970: 6174 6572 6961 6c32 5f63 6f6d 626f 426f  aterial2_comboBo
-00016980: 785f 322e 6375 7272 656e 7454 6578 7428  x_2.currentText(
-00016990: 290a 2020 2020 2020 2020 7465 7374 5f73  ).        test_s
-000169a0: 6574 7570 5f74 6578 7432 203d 2073 656c  etup_text2 = sel
-000169b0: 662e 7465 7374 5f6e 616d 655f 325f 636f  f.test_name_2_co
-000169c0: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-000169d0: 7874 2829 0a20 2020 2020 2020 2067 6574  xt().        get
-000169e0: 5f74 656d 7032 5f6c 6973 7420 3d20 5b5d  _temp2_list = []
-000169f0: 0a20 2020 2020 2020 2067 6574 5f66 7265  .        get_fre
-00016a00: 7132 5f6c 6973 7420 3d20 5b5d 0a20 2020  q2_list = [].   
-00016a10: 2020 2020 2069 6620 6d61 745f 7465 7874       if mat_text
-00016a20: 323a 0a20 2020 2020 2020 2020 2020 2067  2:.            g
-00016a30: 6574 5f74 656d 7032 5f6c 6973 7420 3d20  et_temp2_list = 
-00016a40: 6461 7461 6261 7365 2e64 726f 705f 646f  database.drop_do
-00016a50: 776e 5f6c 6973 7428 6d61 7465 7269 616c  wn_list(material
-00016a60: 5f6e 616d 653d 6d61 745f 7465 7874 322c  _name=mat_text2,
-00016a70: 2064 6174 6174 7970 653d 2263 6f6d 706c   datatype="compl
-00016a80: 6578 5f70 6572 6d65 6162 696c 6974 7922  ex_permeability"
-00016a90: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00016aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016ac0: 2020 2020 2020 206d 6561 7375 7265 6d65         measureme
-00016ad0: 6e74 5f6e 616d 653d 7465 7374 5f73 6574  nt_name=test_set
-00016ae0: 7570 5f74 6578 7432 2c20 636f 6d70 6172  up_text2, compar
-00016af0: 6973 6f6e 5f74 7970 653d 226d 766d 222c  ison_type="mvm",
-00016b00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00016b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016b30: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
-00016b40: 653d 5472 7565 290a 2020 2020 2020 2020  e=True).        
-00016b50: 2020 2020 6765 745f 6672 6571 325f 6c69      get_freq2_li
-00016b60: 7374 203d 2064 6174 6162 6173 652e 6472  st = database.dr
-00016b70: 6f70 5f64 6f77 6e5f 6c69 7374 286d 6174  op_down_list(mat
-00016b80: 6572 6961 6c5f 6e61 6d65 3d6d 6174 5f74  erial_name=mat_t
-00016b90: 6578 7432 2c20 6461 7461 7479 7065 3d22  ext2, datatype="
-00016ba0: 636f 6d70 6c65 785f 7065 726d 6561 6269  complex_permeabi
-00016bb0: 6c69 7479 222c 0a20 2020 2020 2020 2020  lity",.         
-00016bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016be0: 2020 2020 2020 2020 2020 2020 6d65 6173              meas
-00016bf0: 7572 656d 656e 745f 6e61 6d65 3d74 6573  urement_name=tes
-00016c00: 745f 7365 7475 705f 7465 7874 322c 2063  t_setup_text2, c
-00016c10: 6f6d 7061 7269 736f 6e5f 7479 7065 3d22  omparison_type="
-00016c20: 6d76 6d22 2c0a 2020 2020 2020 2020 2020  mvm",.          
-00016c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00016c50: 2020 2020 2020 2020 2020 2066 7265 7175             frequ
-00016c60: 656e 6379 3d54 7275 6529 0a20 2020 2020  ency=True).     
-00016c70: 2020 2061 7574 5f74 656d 705f 6f70 7469     aut_temp_opti
-00016c80: 6f6e 7332 203d 2067 6574 5f74 656d 7032  ons2 = get_temp2
-00016c90: 5f6c 6973 740a 2020 2020 2020 2020 6175  _list.        au
-00016ca0: 745f 6672 6571 5f6f 7074 696f 6e73 3220  t_freq_options2 
-00016cb0: 3d20 6765 745f 6672 6571 325f 6c69 7374  = get_freq2_list
-00016cc0: 0a0a 2020 2020 2020 2020 7465 6d70 5f73  ..        temp_s
-00016cd0: 7472 203d 205b 6627 7b69 7465 6d3a 2e32  tr = [f'{item:.2
-00016ce0: 667d 2720 666f 7220 6974 656d 2069 6e20  f}' for item in 
-00016cf0: 6175 745f 7465 6d70 5f6f 7074 696f 6e73  aut_temp_options
-00016d00: 325d 0a20 2020 2020 2020 2066 7265 715f  2].        freq_
-00016d10: 7374 7220 3d20 5b66 277b 6974 656d 3a2e  str = [f'{item:.
-00016d20: 3266 7d27 2066 6f72 2069 7465 6d20 696e  2f}' for item in
-00016d30: 2061 7574 5f66 7265 715f 6f70 7469 6f6e   aut_freq_option
-00016d40: 7332 5d0a 2020 2020 2020 2020 7365 6c66  s2].        self
-00016d50: 2e61 7574 5f74 656d 705f 6d32 5f63 6f6d  .aut_temp_m2_com
-00016d60: 626f 426f 785f 322e 636c 6561 7228 290a  boBox_2.clear().
-00016d70: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00016d80: 5f66 7265 715f 6d32 5f63 6f6d 626f 426f  _freq_m2_comboBo
-00016d90: 782e 636c 6561 7228 290a 2020 2020 2020  x.clear().      
-00016da0: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
-00016db0: 7465 6d70 5f73 7472 3a0a 2020 2020 2020  temp_str:.      
-00016dc0: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
-00016dd0: 656d 705f 6d32 5f63 6f6d 626f 426f 785f  emp_m2_comboBox_
-00016de0: 322e 6164 6449 7465 6d28 6f70 7469 6f6e  2.addItem(option
-00016df0: 290a 0a20 2020 2020 2020 2066 6f72 206f  )..        for o
-00016e00: 7074 696f 6e20 696e 2066 7265 715f 7374  ption in freq_st
-00016e10: 723a 0a20 2020 2020 2020 2020 2020 2073  r:.            s
-00016e20: 656c 662e 6175 745f 6672 6571 5f6d 325f  elf.aut_freq_m2_
-00016e30: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
-00016e40: 286f 7074 696f 6e29 0a0a 2020 2020 6465  (option)..    de
-00016e50: 6620 7465 6d70 6672 6571 696e 7075 7433  f tempfreqinput3
-00016e60: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
-00016e70: 2222 2247 6574 2074 6865 2066 7265 7175  """Get the frequ
-00016e80: 656e 6379 2061 6e64 2074 656d 7065 7261  ency and tempera
-00016e90: 7475 7265 206f 6620 6120 7061 7274 6963  ture of a partic
-00016ea0: 756c 6172 206d 6174 6572 6961 6c20 7365  ular material se
-00016eb0: 6c65 6374 6564 2e22 2222 0a20 2020 2020  lected.""".     
-00016ec0: 2020 206d 6174 5f74 6578 7433 203d 2073     mat_text3 = s
-00016ed0: 656c 662e 6461 745f 636f 7265 5f6d 6174  elf.dat_core_mat
-00016ee0: 6572 6961 6c33 5f63 6f6d 626f 426f 785f  erial3_comboBox_
-00016ef0: 322e 6375 7272 656e 7454 6578 7428 290a  2.currentText().
-00016f00: 2020 2020 2020 2020 7465 7374 5f73 6574          test_set
-00016f10: 7570 5f74 6578 7433 203d 2073 656c 662e  up_text3 = self.
-00016f20: 7465 7374 5f6e 616d 655f 335f 636f 6d62  test_name_3_comb
-00016f30: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-00016f40: 2829 0a20 2020 2020 2020 2067 6574 5f74  ().        get_t
-00016f50: 656d 7033 5f6c 6973 7420 3d20 5b5d 0a20  emp3_list = []. 
-00016f60: 2020 2020 2020 2067 6574 5f66 7265 7133         get_freq3
-00016f70: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
-00016f80: 2020 2069 6620 6d61 745f 7465 7874 333a     if mat_text3:
-00016f90: 0a20 2020 2020 2020 2020 2020 2067 6574  .            get
-00016fa0: 5f74 656d 7033 5f6c 6973 7420 3d20 6461  _temp3_list = da
-00016fb0: 7461 6261 7365 2e64 726f 705f 646f 776e  tabase.drop_down
-00016fc0: 5f6c 6973 7428 6d61 7465 7269 616c 5f6e  _list(material_n
-00016fd0: 616d 653d 6d61 745f 7465 7874 332c 2064  ame=mat_text3, d
-00016fe0: 6174 6174 7970 653d 2263 6f6d 706c 6578  atatype="complex
-00016ff0: 5f70 6572 6d65 6162 696c 6974 7922 2c0a  _permeability",.
-00017000: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017010: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017020: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017030: 2020 2020 206d 6561 7375 7265 6d65 6e74       measurement
-00017040: 5f6e 616d 653d 7465 7374 5f73 6574 7570  _name=test_setup
-00017050: 5f74 6578 7433 2c20 636f 6d70 6172 6973  _text3, comparis
-00017060: 6f6e 5f74 7970 653d 226d 766d 222c 0a20  on_type="mvm",. 
-00017070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017090: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000170a0: 2020 2020 7465 6d70 6572 6174 7572 653d      temperature=
-000170b0: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-000170c0: 2020 6765 745f 6672 6571 335f 6c69 7374    get_freq3_list
-000170d0: 203d 2064 6174 6162 6173 652e 6472 6f70   = database.drop
-000170e0: 5f64 6f77 6e5f 6c69 7374 286d 6174 6572  _down_list(mater
-000170f0: 6961 6c5f 6e61 6d65 3d6d 6174 5f74 6578  ial_name=mat_tex
-00017100: 7433 2c20 6461 7461 7479 7065 3d22 636f  t3, datatype="co
-00017110: 6d70 6c65 785f 7065 726d 6561 6269 6c69  mplex_permeabili
-00017120: 7479 222c 0a20 2020 2020 2020 2020 2020  ty",.           
-00017130: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017150: 2020 2020 2020 2020 2020 6d65 6173 7572            measur
-00017160: 656d 656e 745f 6e61 6d65 3d74 6573 745f  ement_name=test_
-00017170: 7365 7475 705f 7465 7874 332c 2063 6f6d  setup_text3, com
-00017180: 7061 7269 736f 6e5f 7479 7065 3d22 6d76  parison_type="mv
-00017190: 6d22 2c0a 2020 2020 2020 2020 2020 2020  m",.            
-000171a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000171b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000171c0: 2020 2020 2020 2020 2066 7265 7175 656e           frequen
-000171d0: 6379 3d54 7275 6529 0a20 2020 2020 2020  cy=True).       
-000171e0: 2061 7574 5f74 656d 705f 6f70 7469 6f6e   aut_temp_option
-000171f0: 7333 203d 2067 6574 5f74 656d 7033 5f6c  s3 = get_temp3_l
-00017200: 6973 740a 2020 2020 2020 2020 6175 745f  ist.        aut_
-00017210: 6672 6571 5f6f 7074 696f 6e73 3320 3d20  freq_options3 = 
-00017220: 6765 745f 6672 6571 335f 6c69 7374 0a0a  get_freq3_list..
-00017230: 2020 2020 2020 2020 7465 6d70 5f73 7472          temp_str
-00017240: 203d 205b 6627 7b69 7465 6d3a 2e32 667d   = [f'{item:.2f}
-00017250: 2720 666f 7220 6974 656d 2069 6e20 6175  ' for item in au
-00017260: 745f 7465 6d70 5f6f 7074 696f 6e73 335d  t_temp_options3]
-00017270: 0a20 2020 2020 2020 2066 7265 715f 7374  .        freq_st
-00017280: 7220 3d20 5b66 277b 6974 656d 3a2e 3266  r = [f'{item:.2f
-00017290: 7d27 2066 6f72 2069 7465 6d20 696e 2061  }' for item in a
-000172a0: 7574 5f66 7265 715f 6f70 7469 6f6e 7333  ut_freq_options3
-000172b0: 5d0a 2020 2020 2020 2020 7365 6c66 2e61  ].        self.a
-000172c0: 7574 5f74 656d 705f 6d33 5f63 6f6d 626f  ut_temp_m3_combo
-000172d0: 426f 785f 322e 636c 6561 7228 290a 2020  Box_2.clear().  
-000172e0: 2020 2020 2020 7365 6c66 2e61 7574 5f66        self.aut_f
-000172f0: 7265 715f 6d33 5f63 6f6d 626f 426f 782e  req_m3_comboBox.
-00017300: 636c 6561 7228 290a 2020 2020 2020 2020  clear().        
-00017310: 666f 7220 6f70 7469 6f6e 2069 6e20 7465  for option in te
-00017320: 6d70 5f73 7472 3a0a 2020 2020 2020 2020  mp_str:.        
-00017330: 2020 2020 7365 6c66 2e61 7574 5f74 656d      self.aut_tem
-00017340: 705f 6d33 5f63 6f6d 626f 426f 785f 322e  p_m3_comboBox_2.
-00017350: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
-00017360: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
-00017370: 696f 6e20 696e 2066 7265 715f 7374 723a  ion in freq_str:
-00017380: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00017390: 662e 6175 745f 6672 6571 5f6d 335f 636f  f.aut_freq_m3_co
-000173a0: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
-000173b0: 7074 696f 6e29 0a0a 2020 2020 6465 6620  ption)..    def 
-000173c0: 7465 6d70 6672 6571 696e 7075 7434 2873  tempfreqinput4(s
-000173d0: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
-000173e0: 2247 6574 2074 6865 2066 7265 7175 656e  "Get the frequen
-000173f0: 6379 2061 6e64 2074 656d 7065 7261 7475  cy and temperatu
-00017400: 7265 206f 6620 6120 7061 7274 6963 756c  re of a particul
-00017410: 6172 206d 6174 6572 6961 6c20 7365 6c65  ar material sele
-00017420: 6374 6564 2e22 2222 0a20 2020 2020 2020  cted.""".       
-00017430: 206d 6174 5f74 6578 7434 203d 2073 656c   mat_text4 = sel
-00017440: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
-00017450: 6961 6c34 5f63 6f6d 626f 426f 785f 322e  ial4_comboBox_2.
-00017460: 6375 7272 656e 7454 6578 7428 290a 2020  currentText().  
-00017470: 2020 2020 2020 7465 7374 5f73 6574 7570        test_setup
-00017480: 5f74 6578 7434 203d 2073 656c 662e 7465  _text4 = self.te
-00017490: 7374 5f6e 616d 655f 345f 636f 6d62 6f42  st_name_4_comboB
-000174a0: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
-000174b0: 0a20 2020 2020 2020 2067 6574 5f74 656d  .        get_tem
-000174c0: 7034 5f6c 6973 7420 3d20 5b5d 0a20 2020  p4_list = [].   
-000174d0: 2020 2020 2067 6574 5f66 7265 7134 5f6c       get_freq4_l
-000174e0: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
-000174f0: 2069 6620 6d61 745f 7465 7874 343a 0a20   if mat_text4:. 
-00017500: 2020 2020 2020 2020 2020 2067 6574 5f74             get_t
-00017510: 656d 7034 5f6c 6973 7420 3d20 6461 7461  emp4_list = data
-00017520: 6261 7365 2e64 726f 705f 646f 776e 5f6c  base.drop_down_l
-00017530: 6973 7428 6d61 7465 7269 616c 5f6e 616d  ist(material_nam
-00017540: 653d 6d61 745f 7465 7874 342c 2064 6174  e=mat_text4, dat
-00017550: 6174 7970 653d 2263 6f6d 706c 6578 5f70  atype="complex_p
-00017560: 6572 6d65 6162 696c 6974 7922 2c0a 2020  ermeability",.  
+00016370: 2064 6566 2074 6573 745f 7365 7475 705f   def test_setup_
+00016380: 6e61 6d65 3128 7365 6c66 293a 0a20 2020  name1(self):.   
+00016390: 2020 2020 2022 2222 4765 7420 7465 7374       """Get test
+000163a0: 2073 6574 7570 206e 616d 6573 2066 726f   setup names fro
+000163b0: 6d20 6461 7461 6261 7365 2066 6f72 2070  m database for p
+000163c0: 6172 7469 6375 6c61 7220 6d61 7465 7269  articular materi
+000163d0: 616c 2e22 2222 0a20 2020 2020 2020 206d  al.""".        m
+000163e0: 6174 5f74 6578 7431 203d 2073 656c 662e  at_text1 = self.
+000163f0: 6461 745f 636f 7265 5f6d 6174 6572 6961  dat_core_materia
+00016400: 6c31 5f63 6f6d 626f 426f 785f 322e 6375  l1_comboBox_2.cu
+00016410: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
+00016420: 2020 2020 2320 5465 6d70 6f72 6172 696c      # Temporaril
+00016430: 7920 6469 7363 6f6e 6e65 6374 2074 6865  y disconnect the
+00016440: 2073 6967 6e61 6c20 746f 2070 7265 7665   signal to preve
+00016450: 6e74 2074 7269 6767 6572 696e 6720 6368  nt triggering ch
+00016460: 616e 6765 730a 2020 2020 2020 2020 7365  anges.        se
+00016470: 6c66 2e74 6573 745f 6e61 6d65 5f31 5f63  lf.test_name_1_c
+00016480: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00016490: 6578 7443 6861 6e67 6564 2e64 6973 636f  extChanged.disco
+000164a0: 6e6e 6563 7428 7365 6c66 2e74 656d 7066  nnect(self.tempf
+000164b0: 7265 7169 6e70 7574 3129 0a20 2020 2020  reqinput1).     
+000164c0: 2020 2023 2043 6c65 6172 2065 7869 7374     # Clear exist
+000164d0: 696e 6720 6461 7461 2069 6e20 7468 6520  ing data in the 
+000164e0: 636f 6d62 6f42 6f78 0a20 2020 2020 2020  comboBox.       
+000164f0: 2073 656c 662e 7465 7374 5f6e 616d 655f   self.test_name_
+00016500: 315f 636f 6d62 6f42 6f78 2e63 6c65 6172  1_comboBox.clear
+00016510: 2829 0a0a 2020 2020 2020 2020 6e61 6d65  ()..        name
+00016520: 735f 6c69 7374 203d 205b 5d0a 0a20 2020  s_list = []..   
+00016530: 2020 2020 2069 6620 6d61 745f 7465 7874       if mat_text
+00016540: 313a 0a20 2020 2020 2020 2020 2020 206e  1:.            n
+00016550: 616d 6573 5f6c 6973 7420 3d20 6461 7461  ames_list = data
+00016560: 6261 7365 2e66 696e 645f 6d65 6173 7572  base.find_measur
+00016570: 656d 656e 745f 6e61 6d65 7328 6d61 7465  ement_names(mate
+00016580: 7269 616c 5f6e 616d 653d 6d61 745f 7465  rial_name=mat_te
+00016590: 7874 312c 2064 6174 6174 7970 653d 2263  xt1, datatype="c
+000165a0: 6f6d 706c 6578 5f70 6572 6d65 6162 696c  omplex_permeabil
+000165b0: 6974 7922 290a 0a20 2020 2020 2020 2066  ity")..        f
+000165c0: 6f72 206f 7074 696f 6e20 696e 206e 616d  or option in nam
+000165d0: 6573 5f6c 6973 743a 0a20 2020 2020 2020  es_list:.       
+000165e0: 2020 2020 2073 656c 662e 7465 7374 5f6e       self.test_n
+000165f0: 616d 655f 315f 636f 6d62 6f42 6f78 2e61  ame_1_comboBox.a
+00016600: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
+00016610: 2020 2020 2020 2023 2052 6563 6f6e 6e65         # Reconne
+00016620: 6374 2074 6865 2073 6967 6e61 6c20 6166  ct the signal af
+00016630: 7465 7220 7468 6520 7570 6461 7465 730a  ter the updates.
+00016640: 2020 2020 2020 2020 7365 6c66 2e74 6573          self.tes
+00016650: 745f 6e61 6d65 5f31 5f63 6f6d 626f 426f  t_name_1_comboBo
+00016660: 782e 6375 7272 656e 7454 6578 7443 6861  x.currentTextCha
+00016670: 6e67 6564 2e63 6f6e 6e65 6374 2873 656c  nged.connect(sel
+00016680: 662e 7465 6d70 6672 6571 696e 7075 7431  f.tempfreqinput1
+00016690: 290a 0a20 2020 2064 6566 2074 6573 745f  )..    def test_
+000166a0: 7365 7475 705f 6e61 6d65 3228 7365 6c66  setup_name2(self
+000166b0: 293a 0a20 2020 2020 2020 2022 2222 4765  ):.        """Ge
+000166c0: 7420 7465 7374 2073 6574 7570 206e 616d  t test setup nam
+000166d0: 6573 2066 726f 6d20 6461 7461 6261 7365  es from database
+000166e0: 2066 6f72 2070 6172 7469 6375 6c61 7220   for particular 
+000166f0: 6d61 7465 7269 616c 2e22 2222 0a20 2020  material.""".   
+00016700: 2020 2020 206d 6174 5f74 6578 7432 203d       mat_text2 =
+00016710: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
+00016720: 6174 6572 6961 6c32 5f63 6f6d 626f 426f  aterial2_comboBo
+00016730: 785f 322e 6375 7272 656e 7454 6578 7428  x_2.currentText(
+00016740: 290a 2020 2020 2020 2020 2320 5465 6d70  ).        # Temp
+00016750: 6f72 6172 696c 7920 6469 7363 6f6e 6e65  orarily disconne
+00016760: 6374 2074 6865 2073 6967 6e61 6c20 746f  ct the signal to
+00016770: 2070 7265 7665 6e74 2074 7269 6767 6572   prevent trigger
+00016780: 696e 6720 6368 616e 6765 730a 2020 2020  ing changes.    
+00016790: 2020 2020 7365 6c66 2e74 6573 745f 6e61      self.test_na
+000167a0: 6d65 5f32 5f63 6f6d 626f 426f 782e 6375  me_2_comboBox.cu
+000167b0: 7272 656e 7454 6578 7443 6861 6e67 6564  rrentTextChanged
+000167c0: 2e64 6973 636f 6e6e 6563 7428 7365 6c66  .disconnect(self
+000167d0: 2e74 656d 7066 7265 7169 6e70 7574 3229  .tempfreqinput2)
+000167e0: 0a20 2020 2020 2020 2023 2043 6c65 6172  .        # Clear
+000167f0: 2065 7869 7374 696e 6720 6461 7461 2069   existing data i
+00016800: 6e20 7468 6520 636f 6d62 6f42 6f78 0a20  n the comboBox. 
+00016810: 2020 2020 2020 2073 656c 662e 7465 7374         self.test
+00016820: 5f6e 616d 655f 325f 636f 6d62 6f42 6f78  _name_2_comboBox
+00016830: 2e63 6c65 6172 2829 0a0a 2020 2020 2020  .clear()..      
+00016840: 2020 6e61 6d65 735f 6c69 7374 203d 205b    names_list = [
+00016850: 5d0a 0a20 2020 2020 2020 2069 6620 6d61  ]..        if ma
+00016860: 745f 7465 7874 323a 0a20 2020 2020 2020  t_text2:.       
+00016870: 2020 2020 206e 616d 6573 5f6c 6973 7420       names_list 
+00016880: 3d20 6461 7461 6261 7365 2e66 696e 645f  = database.find_
+00016890: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
+000168a0: 7328 6d61 7465 7269 616c 5f6e 616d 653d  s(material_name=
+000168b0: 6d61 745f 7465 7874 322c 2064 6174 6174  mat_text2, datat
+000168c0: 7970 653d 2263 6f6d 706c 6578 5f70 6572  ype="complex_per
+000168d0: 6d65 6162 696c 6974 7922 290a 0a20 2020  meability")..   
+000168e0: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
+000168f0: 696e 206e 616d 6573 5f6c 6973 743a 0a20  in names_list:. 
+00016900: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00016910: 7465 7374 5f6e 616d 655f 325f 636f 6d62  test_name_2_comb
+00016920: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+00016930: 696f 6e29 0a20 2020 2020 2020 2023 2052  ion).        # R
+00016940: 6563 6f6e 6e65 6374 2074 6865 2073 6967  econnect the sig
+00016950: 6e61 6c20 6166 7465 7220 7468 6520 7570  nal after the up
+00016960: 6461 7465 730a 2020 2020 2020 2020 7365  dates.        se
+00016970: 6c66 2e74 6573 745f 6e61 6d65 5f32 5f63  lf.test_name_2_c
+00016980: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00016990: 6578 7443 6861 6e67 6564 2e63 6f6e 6e65  extChanged.conne
+000169a0: 6374 2873 656c 662e 7465 6d70 6672 6571  ct(self.tempfreq
+000169b0: 696e 7075 7432 290a 0a20 2020 2064 6566  input2)..    def
+000169c0: 2074 6573 745f 7365 7475 705f 6e61 6d65   test_setup_name
+000169d0: 3328 7365 6c66 293a 0a20 2020 2020 2020  3(self):.       
+000169e0: 2022 2222 4765 7420 7465 7374 2073 6574   """Get test set
+000169f0: 7570 206e 616d 6573 2066 726f 6d20 6461  up names from da
+00016a00: 7461 6261 7365 2066 6f72 2070 6172 7469  tabase for parti
+00016a10: 6375 6c61 7220 6d61 7465 7269 616c 2e22  cular material."
+00016a20: 2222 0a20 2020 2020 2020 206d 6174 5f74  "".        mat_t
+00016a30: 6578 7433 203d 2073 656c 662e 6461 745f  ext3 = self.dat_
+00016a40: 636f 7265 5f6d 6174 6572 6961 6c33 5f63  core_material3_c
+00016a50: 6f6d 626f 426f 785f 322e 6375 7272 656e  omboBox_2.curren
+00016a60: 7454 6578 7428 290a 2020 2020 2020 2020  tText().        
+00016a70: 2320 5465 6d70 6f72 6172 696c 7920 6469  # Temporarily di
+00016a80: 7363 6f6e 6e65 6374 2074 6865 2073 6967  sconnect the sig
+00016a90: 6e61 6c20 746f 2070 7265 7665 6e74 2074  nal to prevent t
+00016aa0: 7269 6767 6572 696e 6720 6368 616e 6765  riggering change
+00016ab0: 730a 2020 2020 2020 2020 7365 6c66 2e74  s.        self.t
+00016ac0: 6573 745f 6e61 6d65 5f33 5f63 6f6d 626f  est_name_3_combo
+00016ad0: 426f 782e 6375 7272 656e 7454 6578 7443  Box.currentTextC
+00016ae0: 6861 6e67 6564 2e64 6973 636f 6e6e 6563  hanged.disconnec
+00016af0: 7428 7365 6c66 2e74 656d 7066 7265 7169  t(self.tempfreqi
+00016b00: 6e70 7574 3329 0a20 2020 2020 2020 2023  nput3).        #
+00016b10: 2043 6c65 6172 2065 7869 7374 696e 6720   Clear existing 
+00016b20: 6461 7461 2069 6e20 7468 6520 636f 6d62  data in the comb
+00016b30: 6f42 6f78 0a20 2020 2020 2020 2073 656c  oBox.        sel
+00016b40: 662e 7465 7374 5f6e 616d 655f 335f 636f  f.test_name_3_co
+00016b50: 6d62 6f42 6f78 2e63 6c65 6172 2829 0a0a  mboBox.clear()..
+00016b60: 2020 2020 2020 2020 6e61 6d65 735f 6c69          names_li
+00016b70: 7374 203d 205b 5d0a 0a20 2020 2020 2020  st = []..       
+00016b80: 2069 6620 6d61 745f 7465 7874 333a 0a20   if mat_text3:. 
+00016b90: 2020 2020 2020 2020 2020 206e 616d 6573             names
+00016ba0: 5f6c 6973 7420 3d20 6461 7461 6261 7365  _list = database
+00016bb0: 2e66 696e 645f 6d65 6173 7572 656d 656e  .find_measuremen
+00016bc0: 745f 6e61 6d65 7328 6d61 7465 7269 616c  t_names(material
+00016bd0: 5f6e 616d 653d 6d61 745f 7465 7874 332c  _name=mat_text3,
+00016be0: 2064 6174 6174 7970 653d 2263 6f6d 706c   datatype="compl
+00016bf0: 6578 5f70 6572 6d65 6162 696c 6974 7922  ex_permeability"
+00016c00: 290a 0a20 2020 2020 2020 2066 6f72 206f  )..        for o
+00016c10: 7074 696f 6e20 696e 206e 616d 6573 5f6c  ption in names_l
+00016c20: 6973 743a 0a20 2020 2020 2020 2020 2020  ist:.           
+00016c30: 2073 656c 662e 7465 7374 5f6e 616d 655f   self.test_name_
+00016c40: 335f 636f 6d62 6f42 6f78 2e61 6464 4974  3_comboBox.addIt
+00016c50: 656d 286f 7074 696f 6e29 0a20 2020 2020  em(option).     
+00016c60: 2020 2023 2052 6563 6f6e 6e65 6374 2074     # Reconnect t
+00016c70: 6865 2073 6967 6e61 6c20 6166 7465 7220  he signal after 
+00016c80: 7468 6520 7570 6461 7465 730a 2020 2020  the updates.    
+00016c90: 2020 2020 7365 6c66 2e74 6573 745f 6e61      self.test_na
+00016ca0: 6d65 5f33 5f63 6f6d 626f 426f 782e 6375  me_3_comboBox.cu
+00016cb0: 7272 656e 7454 6578 7443 6861 6e67 6564  rrentTextChanged
+00016cc0: 2e63 6f6e 6e65 6374 2873 656c 662e 7465  .connect(self.te
+00016cd0: 6d70 6672 6571 696e 7075 7433 290a 0a20  mpfreqinput3).. 
+00016ce0: 2020 2064 6566 2074 6573 745f 7365 7475     def test_setu
+00016cf0: 705f 6e61 6d65 3428 7365 6c66 293a 0a20  p_name4(self):. 
+00016d00: 2020 2020 2020 2022 2222 4765 7420 7465         """Get te
+00016d10: 7374 2073 6574 7570 206e 616d 6573 2066  st setup names f
+00016d20: 726f 6d20 6461 7461 6261 7365 2066 6f72  rom database for
+00016d30: 2070 6172 7469 6375 6c61 7220 6d61 7465   particular mate
+00016d40: 7269 616c 2e22 2222 0a20 2020 2020 2020  rial.""".       
+00016d50: 206d 6174 5f74 6578 7434 203d 2073 656c   mat_text4 = sel
+00016d60: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+00016d70: 6961 6c34 5f63 6f6d 626f 426f 785f 322e  ial4_comboBox_2.
+00016d80: 6375 7272 656e 7454 6578 7428 290a 2020  currentText().  
+00016d90: 2020 2020 2020 2320 5465 6d70 6f72 6172        # Temporar
+00016da0: 696c 7920 6469 7363 6f6e 6e65 6374 2074  ily disconnect t
+00016db0: 6865 2073 6967 6e61 6c20 746f 2070 7265  he signal to pre
+00016dc0: 7665 6e74 2074 7269 6767 6572 696e 6720  vent triggering 
+00016dd0: 6368 616e 6765 730a 2020 2020 2020 2020  changes.        
+00016de0: 7365 6c66 2e74 6573 745f 6e61 6d65 5f34  self.test_name_4
+00016df0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00016e00: 7454 6578 7443 6861 6e67 6564 2e64 6973  tTextChanged.dis
+00016e10: 636f 6e6e 6563 7428 7365 6c66 2e74 656d  connect(self.tem
+00016e20: 7066 7265 7169 6e70 7574 3429 0a20 2020  pfreqinput4).   
+00016e30: 2020 2020 2023 2043 6c65 6172 2065 7869       # Clear exi
+00016e40: 7374 696e 6720 6461 7461 2069 6e20 7468  sting data in th
+00016e50: 6520 636f 6d62 6f42 6f78 0a20 2020 2020  e comboBox.     
+00016e60: 2020 2073 656c 662e 7465 7374 5f6e 616d     self.test_nam
+00016e70: 655f 345f 636f 6d62 6f42 6f78 2e63 6c65  e_4_comboBox.cle
+00016e80: 6172 2829 0a0a 2020 2020 2020 2020 6e61  ar()..        na
+00016e90: 6d65 735f 6c69 7374 203d 205b 5d0a 0a20  mes_list = [].. 
+00016ea0: 2020 2020 2020 2069 6620 6d61 745f 7465         if mat_te
+00016eb0: 7874 343a 0a20 2020 2020 2020 2020 2020  xt4:.           
+00016ec0: 206e 616d 6573 5f6c 6973 7420 3d20 6461   names_list = da
+00016ed0: 7461 6261 7365 2e66 696e 645f 6d65 6173  tabase.find_meas
+00016ee0: 7572 656d 656e 745f 6e61 6d65 7328 6d61  urement_names(ma
+00016ef0: 7465 7269 616c 5f6e 616d 653d 6d61 745f  terial_name=mat_
+00016f00: 7465 7874 342c 2064 6174 6174 7970 653d  text4, datatype=
+00016f10: 2263 6f6d 706c 6578 5f70 6572 6d65 6162  "complex_permeab
+00016f20: 696c 6974 7922 290a 0a20 2020 2020 2020  ility")..       
+00016f30: 2066 6f72 206f 7074 696f 6e20 696e 206e   for option in n
+00016f40: 616d 6573 5f6c 6973 743a 0a20 2020 2020  ames_list:.     
+00016f50: 2020 2020 2020 2073 656c 662e 7465 7374         self.test
+00016f60: 5f6e 616d 655f 345f 636f 6d62 6f42 6f78  _name_4_comboBox
+00016f70: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
+00016f80: 0a20 2020 2020 2020 2023 2052 6563 6f6e  .        # Recon
+00016f90: 6e65 6374 2074 6865 2073 6967 6e61 6c20  nect the signal 
+00016fa0: 6166 7465 7220 7468 6520 7570 6461 7465  after the update
+00016fb0: 730a 2020 2020 2020 2020 7365 6c66 2e74  s.        self.t
+00016fc0: 6573 745f 6e61 6d65 5f34 5f63 6f6d 626f  est_name_4_combo
+00016fd0: 426f 782e 6375 7272 656e 7454 6578 7443  Box.currentTextC
+00016fe0: 6861 6e67 6564 2e63 6f6e 6e65 6374 2873  hanged.connect(s
+00016ff0: 656c 662e 7465 6d70 6672 6571 696e 7075  elf.tempfreqinpu
+00017000: 7434 290a 0a20 2020 2064 6566 2074 6573  t4)..    def tes
+00017010: 745f 7365 7475 705f 6e61 6d65 3528 7365  t_setup_name5(se
+00017020: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+00017030: 4765 7420 7465 7374 2073 6574 7570 206e  Get test setup n
+00017040: 616d 6573 2066 726f 6d20 6461 7461 6261  ames from databa
+00017050: 7365 2066 6f72 2070 6172 7469 6375 6c61  se for particula
+00017060: 7220 6d61 7465 7269 616c 2e22 2222 0a20  r material.""". 
+00017070: 2020 2020 2020 206d 6174 5f74 6578 7435         mat_text5
+00017080: 203d 2073 656c 662e 6461 745f 636f 7265   = self.dat_core
+00017090: 5f6d 6174 6572 6961 6c35 5f63 6f6d 626f  _material5_combo
+000170a0: 426f 785f 322e 6375 7272 656e 7454 6578  Box_2.currentTex
+000170b0: 7428 290a 2020 2020 2020 2020 2320 5465  t().        # Te
+000170c0: 6d70 6f72 6172 696c 7920 6469 7363 6f6e  mporarily discon
+000170d0: 6e65 6374 2074 6865 2073 6967 6e61 6c20  nect the signal 
+000170e0: 746f 2070 7265 7665 6e74 2074 7269 6767  to prevent trigg
+000170f0: 6572 696e 6720 6368 616e 6765 730a 2020  ering changes.  
+00017100: 2020 2020 2020 7365 6c66 2e74 6573 745f        self.test_
+00017110: 6e61 6d65 5f35 5f63 6f6d 626f 426f 782e  name_5_comboBox.
+00017120: 6375 7272 656e 7454 6578 7443 6861 6e67  currentTextChang
+00017130: 6564 2e64 6973 636f 6e6e 6563 7428 7365  ed.disconnect(se
+00017140: 6c66 2e74 656d 7066 7265 7169 6e70 7574  lf.tempfreqinput
+00017150: 3529 0a20 2020 2020 2020 2023 2043 6c65  5).        # Cle
+00017160: 6172 2065 7869 7374 696e 6720 6461 7461  ar existing data
+00017170: 2069 6e20 7468 6520 636f 6d62 6f42 6f78   in the comboBox
+00017180: 0a20 2020 2020 2020 2073 656c 662e 7465  .        self.te
+00017190: 7374 5f6e 616d 655f 355f 636f 6d62 6f42  st_name_5_comboB
+000171a0: 6f78 2e63 6c65 6172 2829 0a0a 2020 2020  ox.clear()..    
+000171b0: 2020 2020 6e61 6d65 735f 6c69 7374 203d      names_list =
+000171c0: 205b 5d0a 0a20 2020 2020 2020 2069 6620   []..        if 
+000171d0: 6d61 745f 7465 7874 353a 0a20 2020 2020  mat_text5:.     
+000171e0: 2020 2020 2020 206e 616d 6573 5f6c 6973         names_lis
+000171f0: 7420 3d20 6461 7461 6261 7365 2e66 696e  t = database.fin
+00017200: 645f 6d65 6173 7572 656d 656e 745f 6e61  d_measurement_na
+00017210: 6d65 7328 6d61 7465 7269 616c 5f6e 616d  mes(material_nam
+00017220: 653d 6d61 745f 7465 7874 352c 2064 6174  e=mat_text5, dat
+00017230: 6174 7970 653d 2263 6f6d 706c 6578 5f70  atype="complex_p
+00017240: 6572 6d65 6162 696c 6974 7922 290a 0a20  ermeability").. 
+00017250: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
+00017260: 6e20 696e 206e 616d 6573 5f6c 6973 743a  n in names_list:
+00017270: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00017280: 662e 7465 7374 5f6e 616d 655f 355f 636f  f.test_name_5_co
+00017290: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
+000172a0: 7074 696f 6e29 0a20 2020 2020 2020 2023  ption).        #
+000172b0: 2052 6563 6f6e 6e65 6374 2074 6865 2073   Reconnect the s
+000172c0: 6967 6e61 6c20 6166 7465 7220 7468 6520  ignal after the 
+000172d0: 7570 6461 7465 730a 2020 2020 2020 2020  updates.        
+000172e0: 7365 6c66 2e74 6573 745f 6e61 6d65 5f35  self.test_name_5
+000172f0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00017300: 7454 6578 7443 6861 6e67 6564 2e63 6f6e  tTextChanged.con
+00017310: 6e65 6374 2873 656c 662e 7465 6d70 6672  nect(self.tempfr
+00017320: 6571 696e 7075 7435 290a 0a20 2020 2064  eqinput5)..    d
+00017330: 6566 2074 656d 7066 7265 7169 6e70 7574  ef tempfreqinput
+00017340: 3128 7365 6c66 293a 0a20 2020 2020 2020  1(self):.       
+00017350: 2022 2222 4765 7420 7468 6520 6672 6571   """Get the freq
+00017360: 7565 6e63 7920 616e 6420 7465 6d70 6572  uency and temper
+00017370: 6174 7572 6520 6f66 2061 2070 6172 7469  ature of a parti
+00017380: 6375 6c61 7220 6d61 7465 7269 616c 2073  cular material s
+00017390: 656c 6563 7465 642e 2222 220a 2020 2020  elected.""".    
+000173a0: 2020 2020 6d61 745f 7465 7874 3120 3d20      mat_text1 = 
+000173b0: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
+000173c0: 7465 7269 616c 315f 636f 6d62 6f42 6f78  terial1_comboBox
+000173d0: 5f32 2e63 7572 7265 6e74 5465 7874 2829  _2.currentText()
+000173e0: 0a20 2020 2020 2020 2074 6573 745f 7365  .        test_se
+000173f0: 7475 705f 7465 7874 3120 3d20 7365 6c66  tup_text1 = self
+00017400: 2e74 6573 745f 6e61 6d65 5f31 5f63 6f6d  .test_name_1_com
+00017410: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+00017420: 7428 290a 0a20 2020 2020 2020 2067 6574  t()..        get
+00017430: 5f74 656d 7031 5f6c 6973 7420 3d20 5b5d  _temp1_list = []
+00017440: 0a20 2020 2020 2020 2067 6574 5f66 7265  .        get_fre
+00017450: 7131 5f6c 6973 7420 3d20 5b5d 0a20 2020  q1_list = [].   
+00017460: 2020 2020 2069 6620 6d61 745f 7465 7874       if mat_text
+00017470: 313a 0a20 2020 2020 2020 2020 2020 2067  1:.            g
+00017480: 6574 5f74 656d 7031 5f6c 6973 7420 3d20  et_temp1_list = 
+00017490: 6461 7461 6261 7365 2e64 726f 705f 646f  database.drop_do
+000174a0: 776e 5f6c 6973 7428 6d61 7465 7269 616c  wn_list(material
+000174b0: 5f6e 616d 653d 6d61 745f 7465 7874 312c  _name=mat_text1,
+000174c0: 2063 6f6d 7061 7269 736f 6e5f 7479 7065   comparison_type
+000174d0: 3d22 6d76 6d22 2c0a 2020 2020 2020 2020  ="mvm",.        
+000174e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000174f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017500: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00017510: 6174 7970 653d 2263 6f6d 706c 6578 5f70  atype="complex_p
+00017520: 6572 6d65 6162 696c 6974 7922 2c20 6d65  ermeability", me
+00017530: 6173 7572 656d 656e 745f 6e61 6d65 3d74  asurement_name=t
+00017540: 6573 745f 7365 7475 705f 7465 7874 312c  est_setup_text1,
+00017550: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00017560: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00017570: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017580: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017590: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175a0: 2020 206d 6561 7375 7265 6d65 6e74 5f6e     measurement_n
-000175b0: 616d 653d 7465 7374 5f73 6574 7570 5f74  ame=test_setup_t
-000175c0: 6578 7434 2c20 636f 6d70 6172 6973 6f6e  ext4, comparison
-000175d0: 5f74 7970 653d 226d 766d 222c 0a20 2020  _type="mvm",.   
-000175e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000175f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017580: 2020 2020 2020 7465 6d70 6572 6174 7572        temperatur
+00017590: 653d 5472 7565 290a 2020 2020 2020 2020  e=True).        
+000175a0: 2020 2020 6765 745f 6672 6571 315f 6c69      get_freq1_li
+000175b0: 7374 203d 2064 6174 6162 6173 652e 6472  st = database.dr
+000175c0: 6f70 5f64 6f77 6e5f 6c69 7374 286d 6174  op_down_list(mat
+000175d0: 6572 6961 6c5f 6e61 6d65 3d6d 6174 5f74  erial_name=mat_t
+000175e0: 6578 7431 2c20 636f 6d70 6172 6973 6f6e  ext1, comparison
+000175f0: 5f74 7970 653d 226d 766d 222c 0a20 2020  _type="mvm",.   
 00017600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017610: 2020 7465 6d70 6572 6174 7572 653d 5472    temperature=Tr
-00017620: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
-00017630: 6765 745f 6672 6571 345f 6c69 7374 203d  get_freq4_list =
-00017640: 2064 6174 6162 6173 652e 6472 6f70 5f64   database.drop_d
-00017650: 6f77 6e5f 6c69 7374 286d 6174 6572 6961  own_list(materia
-00017660: 6c5f 6e61 6d65 3d6d 6174 5f74 6578 7434  l_name=mat_text4
-00017670: 2c20 6461 7461 7479 7065 3d22 636f 6d70  , datatype="comp
-00017680: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
-00017690: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
-000176a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000176b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000176c0: 2020 2020 2020 2020 6d65 6173 7572 656d          measurem
-000176d0: 656e 745f 6e61 6d65 3d74 6573 745f 7365  ent_name=test_se
-000176e0: 7475 705f 7465 7874 342c 2063 6f6d 7061  tup_text4, compa
-000176f0: 7269 736f 6e5f 7479 7065 3d22 6d76 6d22  rison_type="mvm"
-00017700: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00017710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017720: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017730: 2020 2020 2020 2066 7265 7175 656e 6379         frequency
-00017740: 3d54 7275 6529 0a20 2020 2020 2020 2061  =True).        a
-00017750: 7574 5f74 656d 705f 6f70 7469 6f6e 7334  ut_temp_options4
-00017760: 203d 2067 6574 5f74 656d 7034 5f6c 6973   = get_temp4_lis
-00017770: 740a 2020 2020 2020 2020 6175 745f 6672  t.        aut_fr
-00017780: 6571 5f6f 7074 696f 6e73 3420 3d20 6765  eq_options4 = ge
-00017790: 745f 6672 6571 345f 6c69 7374 0a0a 2020  t_freq4_list..  
-000177a0: 2020 2020 2020 7465 6d70 5f73 7472 203d        temp_str =
-000177b0: 205b 6627 7b69 7465 6d3a 2e32 667d 2720   [f'{item:.2f}' 
-000177c0: 666f 7220 6974 656d 2069 6e20 6175 745f  for item in aut_
-000177d0: 7465 6d70 5f6f 7074 696f 6e73 345d 0a20  temp_options4]. 
-000177e0: 2020 2020 2020 2066 7265 715f 7374 7220         freq_str 
-000177f0: 3d20 5b66 277b 6974 656d 3a2e 3266 7d27  = [f'{item:.2f}'
-00017800: 2066 6f72 2069 7465 6d20 696e 2061 7574   for item in aut
-00017810: 5f66 7265 715f 6f70 7469 6f6e 7334 5d0a  _freq_options4].
-00017820: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
-00017830: 5f74 656d 705f 6d34 5f63 6f6d 626f 426f  _temp_m4_comboBo
-00017840: 785f 322e 636c 6561 7228 290a 2020 2020  x_2.clear().    
-00017850: 2020 2020 7365 6c66 2e61 7574 5f66 7265      self.aut_fre
-00017860: 715f 6d34 5f63 6f6d 626f 426f 782e 636c  q_m4_comboBox.cl
-00017870: 6561 7228 290a 2020 2020 2020 2020 666f  ear().        fo
-00017880: 7220 6f70 7469 6f6e 2069 6e20 7465 6d70  r option in temp
-00017890: 5f73 7472 3a0a 2020 2020 2020 2020 2020  _str:.          
-000178a0: 2020 7365 6c66 2e61 7574 5f74 656d 705f    self.aut_temp_
-000178b0: 6d34 5f63 6f6d 626f 426f 785f 322e 6164  m4_comboBox_2.ad
-000178c0: 6449 7465 6d28 6f70 7469 6f6e 290a 0a20  dItem(option).. 
-000178d0: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
-000178e0: 6e20 696e 2066 7265 715f 7374 723a 0a20  n in freq_str:. 
-000178f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00017900: 6175 745f 6672 6571 5f6d 345f 636f 6d62  aut_freq_m4_comb
-00017910: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
-00017920: 696f 6e29 0a0a 2020 2020 6465 6620 7465  ion)..    def te
-00017930: 6d70 6672 6571 696e 7075 7435 2873 656c  mpfreqinput5(sel
-00017940: 6629 3a0a 2020 2020 2020 2020 2222 2247  f):.        """G
-00017950: 6574 2074 6865 2066 7265 7175 656e 6379  et the frequency
-00017960: 2061 6e64 2074 656d 7065 7261 7475 7265   and temperature
-00017970: 206f 6620 6120 7061 7274 6963 756c 6172   of a particular
-00017980: 206d 6174 6572 6961 6c20 7365 6c65 6374   material select
-00017990: 6564 2e22 2222 0a20 2020 2020 2020 206d  ed.""".        m
-000179a0: 6174 5f74 6578 7435 203d 2073 656c 662e  at_text5 = self.
-000179b0: 6461 745f 636f 7265 5f6d 6174 6572 6961  dat_core_materia
-000179c0: 6c35 5f63 6f6d 626f 426f 785f 322e 6375  l5_comboBox_2.cu
-000179d0: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
-000179e0: 2020 2020 7465 7374 5f73 6574 7570 5f74      test_setup_t
-000179f0: 6578 7435 203d 2073 656c 662e 7465 7374  ext5 = self.test
-00017a00: 5f6e 616d 655f 355f 636f 6d62 6f42 6f78  _name_5_comboBox
-00017a10: 2e63 7572 7265 6e74 5465 7874 2829 0a20  .currentText(). 
-00017a20: 2020 2020 2020 2067 6574 5f74 656d 7035         get_temp5
-00017a30: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
-00017a40: 2020 2067 6574 5f66 7265 7135 5f6c 6973     get_freq5_lis
-00017a50: 7420 3d20 5b5d 0a20 2020 2020 2020 2069  t = [].        i
-00017a60: 6620 6d61 745f 7465 7874 353a 0a20 2020  f mat_text5:.   
-00017a70: 2020 2020 2020 2020 2067 6574 5f74 656d           get_tem
-00017a80: 7035 5f6c 6973 7420 3d20 6461 7461 6261  p5_list = databa
-00017a90: 7365 2e64 726f 705f 646f 776e 5f6c 6973  se.drop_down_lis
-00017aa0: 7428 6d61 7465 7269 616c 5f6e 616d 653d  t(material_name=
-00017ab0: 6d61 745f 7465 7874 352c 2064 6174 6174  mat_text5, datat
-00017ac0: 7970 653d 2263 6f6d 706c 6578 5f70 6572  ype="complex_per
-00017ad0: 6d65 6162 696c 6974 7922 2c0a 2020 2020  meability",.    
+00017610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017630: 2020 6461 7461 7479 7065 3d22 636f 6d70    datatype="comp
+00017640: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
+00017650: 222c 206d 6561 7375 7265 6d65 6e74 5f6e  ", measurement_n
+00017660: 616d 653d 7465 7374 5f73 6574 7570 5f74  ame=test_setup_t
+00017670: 6578 7431 2c0a 2020 2020 2020 2020 2020  ext1,.          
+00017680: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017690: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000176a0: 2020 2020 2020 2020 2020 2066 7265 7175             frequ
+000176b0: 656e 6379 3d54 7275 6529 0a20 2020 2020  ency=True).     
+000176c0: 2020 2061 7574 5f74 656d 705f 6f70 7469     aut_temp_opti
+000176d0: 6f6e 7331 203d 2067 6574 5f74 656d 7031  ons1 = get_temp1
+000176e0: 5f6c 6973 740a 2020 2020 2020 2020 6175  _list.        au
+000176f0: 745f 6672 6571 5f6f 7074 696f 6e73 3120  t_freq_options1 
+00017700: 3d20 6765 745f 6672 6571 315f 6c69 7374  = get_freq1_list
+00017710: 0a0a 2020 2020 2020 2020 7465 6d70 5f73  ..        temp_s
+00017720: 7472 203d 205b 6627 7b69 7465 6d3a 2e32  tr = [f'{item:.2
+00017730: 667d 2720 666f 7220 6974 656d 2069 6e20  f}' for item in 
+00017740: 6175 745f 7465 6d70 5f6f 7074 696f 6e73  aut_temp_options
+00017750: 315d 0a20 2020 2020 2020 2066 7265 715f  1].        freq_
+00017760: 7374 7220 3d20 5b66 277b 6974 656d 3a2e  str = [f'{item:.
+00017770: 3266 7d27 2066 6f72 2069 7465 6d20 696e  2f}' for item in
+00017780: 2061 7574 5f66 7265 715f 6f70 7469 6f6e   aut_freq_option
+00017790: 7331 5d0a 2020 2020 2020 2020 7365 6c66  s1].        self
+000177a0: 2e61 7574 5f74 656d 705f 6d31 5f63 6f6d  .aut_temp_m1_com
+000177b0: 626f 426f 785f 322e 636c 6561 7228 290a  boBox_2.clear().
+000177c0: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+000177d0: 5f66 7265 715f 6d31 5f63 6f6d 626f 426f  _freq_m1_comboBo
+000177e0: 782e 636c 6561 7228 290a 2020 2020 2020  x.clear().      
+000177f0: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
+00017800: 7465 6d70 5f73 7472 3a0a 2020 2020 2020  temp_str:.      
+00017810: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
+00017820: 656d 705f 6d31 5f63 6f6d 626f 426f 785f  emp_m1_comboBox_
+00017830: 322e 6164 6449 7465 6d28 6f70 7469 6f6e  2.addItem(option
+00017840: 290a 0a20 2020 2020 2020 2066 6f72 206f  )..        for o
+00017850: 7074 696f 6e20 696e 2066 7265 715f 7374  ption in freq_st
+00017860: 723a 0a20 2020 2020 2020 2020 2020 2073  r:.            s
+00017870: 656c 662e 6175 745f 6672 6571 5f6d 315f  elf.aut_freq_m1_
+00017880: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
+00017890: 286f 7074 696f 6e29 0a0a 2020 2020 6465  (option)..    de
+000178a0: 6620 7465 6d70 6672 6571 696e 7075 7432  f tempfreqinput2
+000178b0: 2873 656c 6629 3a0a 2020 2020 2020 2020  (self):.        
+000178c0: 2222 2247 6574 2074 6865 2066 7265 7175  """Get the frequ
+000178d0: 656e 6379 2061 6e64 2074 656d 7065 7261  ency and tempera
+000178e0: 7475 7265 206f 6620 6120 7061 7274 6963  ture of a partic
+000178f0: 756c 6172 206d 6174 6572 6961 6c20 7365  ular material se
+00017900: 6c65 6374 6564 2e22 2222 0a20 2020 2020  lected.""".     
+00017910: 2020 206d 6174 5f74 6578 7432 203d 2073     mat_text2 = s
+00017920: 656c 662e 6461 745f 636f 7265 5f6d 6174  elf.dat_core_mat
+00017930: 6572 6961 6c32 5f63 6f6d 626f 426f 785f  erial2_comboBox_
+00017940: 322e 6375 7272 656e 7454 6578 7428 290a  2.currentText().
+00017950: 2020 2020 2020 2020 7465 7374 5f73 6574          test_set
+00017960: 7570 5f74 6578 7432 203d 2073 656c 662e  up_text2 = self.
+00017970: 7465 7374 5f6e 616d 655f 325f 636f 6d62  test_name_2_comb
+00017980: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00017990: 2829 0a20 2020 2020 2020 2067 6574 5f74  ().        get_t
+000179a0: 656d 7032 5f6c 6973 7420 3d20 5b5d 0a20  emp2_list = []. 
+000179b0: 2020 2020 2020 2067 6574 5f66 7265 7132         get_freq2
+000179c0: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
+000179d0: 2020 2069 6620 6d61 745f 7465 7874 323a     if mat_text2:
+000179e0: 0a20 2020 2020 2020 2020 2020 2067 6574  .            get
+000179f0: 5f74 656d 7032 5f6c 6973 7420 3d20 6461  _temp2_list = da
+00017a00: 7461 6261 7365 2e64 726f 705f 646f 776e  tabase.drop_down
+00017a10: 5f6c 6973 7428 6d61 7465 7269 616c 5f6e  _list(material_n
+00017a20: 616d 653d 6d61 745f 7465 7874 322c 2064  ame=mat_text2, d
+00017a30: 6174 6174 7970 653d 2263 6f6d 706c 6578  atatype="complex
+00017a40: 5f70 6572 6d65 6162 696c 6974 7922 2c0a  _permeability",.
+00017a50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017a80: 2020 2020 206d 6561 7375 7265 6d65 6e74       measurement
+00017a90: 5f6e 616d 653d 7465 7374 5f73 6574 7570  _name=test_setup
+00017aa0: 5f74 6578 7432 2c20 636f 6d70 6172 6973  _text2, comparis
+00017ab0: 6f6e 5f74 7970 653d 226d 766d 222c 0a20  on_type="mvm",. 
+00017ac0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00017ae0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b10: 206d 6561 7375 7265 6d65 6e74 5f6e 616d   measurement_nam
-00017b20: 653d 7465 7374 5f73 6574 7570 5f74 6578  e=test_setup_tex
-00017b30: 7435 2c20 636f 6d70 6172 6973 6f6e 5f74  t5, comparison_t
-00017b40: 7970 653d 226d 766d 222c 0a20 2020 2020  ype="mvm",.     
-00017b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017b80: 7465 6d70 6572 6174 7572 653d 5472 7565  temperature=True
-00017b90: 290a 2020 2020 2020 2020 2020 2020 6765  ).            ge
-00017ba0: 745f 6672 6571 355f 6c69 7374 203d 2064  t_freq5_list = d
-00017bb0: 6174 6162 6173 652e 6472 6f70 5f64 6f77  atabase.drop_dow
-00017bc0: 6e5f 6c69 7374 286d 6174 6572 6961 6c5f  n_list(material_
-00017bd0: 6e61 6d65 3d6d 6174 5f74 6578 7435 2c20  name=mat_text5, 
-00017be0: 6461 7461 7479 7065 3d22 636f 6d70 6c65  datatype="comple
-00017bf0: 785f 7065 726d 6561 6269 6c69 7479 222c  x_permeability",
-00017c00: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00017c10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c30: 2020 2020 2020 6d65 6173 7572 656d 656e        measuremen
-00017c40: 745f 6e61 6d65 3d74 6573 745f 7365 7475  t_name=test_setu
-00017c50: 705f 7465 7874 352c 2063 6f6d 7061 7269  p_text5, compari
-00017c60: 736f 6e5f 7479 7065 3d22 6d76 6d22 2c0a  son_type="mvm",.
-00017c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00017ca0: 2020 2020 2066 7265 7175 656e 6379 3d54       frequency=T
-00017cb0: 7275 6529 0a20 2020 2020 2020 2061 7574  rue).        aut
-00017cc0: 5f74 656d 705f 6f70 7469 6f6e 7335 203d  _temp_options5 =
-00017cd0: 2067 6574 5f74 656d 7035 5f6c 6973 740a   get_temp5_list.
-00017ce0: 2020 2020 2020 2020 6175 745f 6672 6571          aut_freq
-00017cf0: 5f6f 7074 696f 6e73 3520 3d20 6765 745f  _options5 = get_
-00017d00: 6672 6571 355f 6c69 7374 0a0a 2020 2020  freq5_list..    
-00017d10: 2020 2020 7465 6d70 5f73 7472 203d 205b      temp_str = [
-00017d20: 6627 7b69 7465 6d3a 2e32 667d 2720 666f  f'{item:.2f}' fo
-00017d30: 7220 6974 656d 2069 6e20 6175 745f 7465  r item in aut_te
-00017d40: 6d70 5f6f 7074 696f 6e73 355d 0a20 2020  mp_options5].   
-00017d50: 2020 2020 2066 7265 715f 7374 7220 3d20       freq_str = 
-00017d60: 5b66 277b 6974 656d 3a2e 3266 7d27 2066  [f'{item:.2f}' f
-00017d70: 6f72 2069 7465 6d20 696e 2061 7574 5f66  or item in aut_f
-00017d80: 7265 715f 6f70 7469 6f6e 7335 5d0a 2020  req_options5].  
-00017d90: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
-00017da0: 656d 705f 6d35 5f63 6f6d 626f 426f 785f  emp_m5_comboBox_
-00017db0: 322e 636c 6561 7228 290a 2020 2020 2020  2.clear().      
-00017dc0: 2020 7365 6c66 2e61 7574 5f66 7265 715f    self.aut_freq_
-00017dd0: 6d35 5f63 6f6d 626f 426f 782e 636c 6561  m5_comboBox.clea
-00017de0: 7228 290a 2020 2020 2020 2020 666f 7220  r().        for 
-00017df0: 6f70 7469 6f6e 2069 6e20 7465 6d70 5f73  option in temp_s
-00017e00: 7472 3a0a 2020 2020 2020 2020 2020 2020  tr:.            
-00017e10: 7365 6c66 2e61 7574 5f74 656d 705f 6d35  self.aut_temp_m5
-00017e20: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
-00017e30: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
-00017e40: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
-00017e50: 696e 2066 7265 715f 7374 723a 0a20 2020  in freq_str:.   
-00017e60: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
-00017e70: 745f 6672 6571 5f6d 355f 636f 6d62 6f42  t_freq_m5_comboB
-00017e80: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
-00017e90: 6e29 0a0a 2020 2020 2020 2020 2323 2323  n)..        ####
-00017ea0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00017eb0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00017ec0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00017ed0: 2323 2323 2323 2323 2323 2323 2323 2323  ################
-00017ee0: 2323 2323 0a0a 2020 2020 6465 6620 7465  ####..    def te
-00017ef0: 6d70 5f64 6174 5f69 6e70 7574 2873 656c  mp_dat_input(sel
-00017f00: 6629 3a0a 2020 2020 2020 2020 2222 2247  f):.        """G
-00017f10: 6574 2074 6865 2064 6174 6162 6173 6520  et the database 
-00017f20: 7465 6d70 6572 6174 7572 6520 6f66 2061  temperature of a
-00017f30: 2070 6172 7469 6375 6c61 7220 6d61 7465   particular mate
-00017f40: 7269 616c 2073 656c 6563 7465 642e 2222  rial selected.""
-00017f50: 220a 2020 2020 2020 2020 6d61 745f 7465  ".        mat_te
-00017f60: 7874 3120 3d20 7365 6c66 2e64 6174 5f63  xt1 = self.dat_c
-00017f70: 6f72 655f 6d61 7465 7269 616c 5f63 6f6d  ore_material_com
-00017f80: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-00017f90: 7428 290a 0a20 2020 2020 2020 2067 6574  t()..        get
-00017fa0: 5f74 656d 7031 5f6c 6973 7420 3d20 5b5d  _temp1_list = []
-00017fb0: 0a20 2020 2020 2020 2069 6620 6d61 745f  .        if mat_
-00017fc0: 7465 7874 313a 0a20 2020 2020 2020 2020  text1:.         
-00017fd0: 2020 2067 6574 5f74 656d 7031 5f6c 6973     get_temp1_lis
-00017fe0: 7420 3d20 6461 7461 6261 7365 2e64 726f  t = database.dro
-00017ff0: 705f 646f 776e 5f6c 6973 7428 6d61 7465  p_down_list(mate
-00018000: 7269 616c 5f6e 616d 653d 6d61 745f 7465  rial_name=mat_te
-00018010: 7874 312c 2063 6f6d 7061 7269 736f 6e5f  xt1, comparison_
-00018020: 7479 7065 3d22 6476 6422 2c20 7465 6d70  type="dvd", temp
-00018030: 6572 6174 7572 653d 5472 7565 2c0a 2020  erature=True,.  
+00017af0: 2020 2020 7465 6d70 6572 6174 7572 653d      temperature=
+00017b00: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
+00017b10: 2020 6765 745f 6672 6571 325f 6c69 7374    get_freq2_list
+00017b20: 203d 2064 6174 6162 6173 652e 6472 6f70   = database.drop
+00017b30: 5f64 6f77 6e5f 6c69 7374 286d 6174 6572  _down_list(mater
+00017b40: 6961 6c5f 6e61 6d65 3d6d 6174 5f74 6578  ial_name=mat_tex
+00017b50: 7432 2c20 6461 7461 7479 7065 3d22 636f  t2, datatype="co
+00017b60: 6d70 6c65 785f 7065 726d 6561 6269 6c69  mplex_permeabili
+00017b70: 7479 222c 0a20 2020 2020 2020 2020 2020  ty",.           
+00017b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ba0: 2020 2020 2020 2020 2020 6d65 6173 7572            measur
+00017bb0: 656d 656e 745f 6e61 6d65 3d74 6573 745f  ement_name=test_
+00017bc0: 7365 7475 705f 7465 7874 322c 2063 6f6d  setup_text2, com
+00017bd0: 7061 7269 736f 6e5f 7479 7065 3d22 6d76  parison_type="mv
+00017be0: 6d22 2c0a 2020 2020 2020 2020 2020 2020  m",.            
+00017bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017c10: 2020 2020 2020 2020 2066 7265 7175 656e           frequen
+00017c20: 6379 3d54 7275 6529 0a20 2020 2020 2020  cy=True).       
+00017c30: 2061 7574 5f74 656d 705f 6f70 7469 6f6e   aut_temp_option
+00017c40: 7332 203d 2067 6574 5f74 656d 7032 5f6c  s2 = get_temp2_l
+00017c50: 6973 740a 2020 2020 2020 2020 6175 745f  ist.        aut_
+00017c60: 6672 6571 5f6f 7074 696f 6e73 3220 3d20  freq_options2 = 
+00017c70: 6765 745f 6672 6571 325f 6c69 7374 0a0a  get_freq2_list..
+00017c80: 2020 2020 2020 2020 7465 6d70 5f73 7472          temp_str
+00017c90: 203d 205b 6627 7b69 7465 6d3a 2e32 667d   = [f'{item:.2f}
+00017ca0: 2720 666f 7220 6974 656d 2069 6e20 6175  ' for item in au
+00017cb0: 745f 7465 6d70 5f6f 7074 696f 6e73 325d  t_temp_options2]
+00017cc0: 0a20 2020 2020 2020 2066 7265 715f 7374  .        freq_st
+00017cd0: 7220 3d20 5b66 277b 6974 656d 3a2e 3266  r = [f'{item:.2f
+00017ce0: 7d27 2066 6f72 2069 7465 6d20 696e 2061  }' for item in a
+00017cf0: 7574 5f66 7265 715f 6f70 7469 6f6e 7332  ut_freq_options2
+00017d00: 5d0a 2020 2020 2020 2020 7365 6c66 2e61  ].        self.a
+00017d10: 7574 5f74 656d 705f 6d32 5f63 6f6d 626f  ut_temp_m2_combo
+00017d20: 426f 785f 322e 636c 6561 7228 290a 2020  Box_2.clear().  
+00017d30: 2020 2020 2020 7365 6c66 2e61 7574 5f66        self.aut_f
+00017d40: 7265 715f 6d32 5f63 6f6d 626f 426f 782e  req_m2_comboBox.
+00017d50: 636c 6561 7228 290a 2020 2020 2020 2020  clear().        
+00017d60: 666f 7220 6f70 7469 6f6e 2069 6e20 7465  for option in te
+00017d70: 6d70 5f73 7472 3a0a 2020 2020 2020 2020  mp_str:.        
+00017d80: 2020 2020 7365 6c66 2e61 7574 5f74 656d      self.aut_tem
+00017d90: 705f 6d32 5f63 6f6d 626f 426f 785f 322e  p_m2_comboBox_2.
+00017da0: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+00017db0: 0a20 2020 2020 2020 2066 6f72 206f 7074  .        for opt
+00017dc0: 696f 6e20 696e 2066 7265 715f 7374 723a  ion in freq_str:
+00017dd0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00017de0: 662e 6175 745f 6672 6571 5f6d 325f 636f  f.aut_freq_m2_co
+00017df0: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
+00017e00: 7074 696f 6e29 0a0a 2020 2020 6465 6620  ption)..    def 
+00017e10: 7465 6d70 6672 6571 696e 7075 7433 2873  tempfreqinput3(s
+00017e20: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+00017e30: 2247 6574 2074 6865 2066 7265 7175 656e  "Get the frequen
+00017e40: 6379 2061 6e64 2074 656d 7065 7261 7475  cy and temperatu
+00017e50: 7265 206f 6620 6120 7061 7274 6963 756c  re of a particul
+00017e60: 6172 206d 6174 6572 6961 6c20 7365 6c65  ar material sele
+00017e70: 6374 6564 2e22 2222 0a20 2020 2020 2020  cted.""".       
+00017e80: 206d 6174 5f74 6578 7433 203d 2073 656c   mat_text3 = sel
+00017e90: 662e 6461 745f 636f 7265 5f6d 6174 6572  f.dat_core_mater
+00017ea0: 6961 6c33 5f63 6f6d 626f 426f 785f 322e  ial3_comboBox_2.
+00017eb0: 6375 7272 656e 7454 6578 7428 290a 2020  currentText().  
+00017ec0: 2020 2020 2020 7465 7374 5f73 6574 7570        test_setup
+00017ed0: 5f74 6578 7433 203d 2073 656c 662e 7465  _text3 = self.te
+00017ee0: 7374 5f6e 616d 655f 335f 636f 6d62 6f42  st_name_3_comboB
+00017ef0: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
+00017f00: 0a20 2020 2020 2020 2067 6574 5f74 656d  .        get_tem
+00017f10: 7033 5f6c 6973 7420 3d20 5b5d 0a20 2020  p3_list = [].   
+00017f20: 2020 2020 2067 6574 5f66 7265 7133 5f6c       get_freq3_l
+00017f30: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
+00017f40: 2069 6620 6d61 745f 7465 7874 333a 0a20   if mat_text3:. 
+00017f50: 2020 2020 2020 2020 2020 2067 6574 5f74             get_t
+00017f60: 656d 7033 5f6c 6973 7420 3d20 6461 7461  emp3_list = data
+00017f70: 6261 7365 2e64 726f 705f 646f 776e 5f6c  base.drop_down_l
+00017f80: 6973 7428 6d61 7465 7269 616c 5f6e 616d  ist(material_nam
+00017f90: 653d 6d61 745f 7465 7874 332c 2064 6174  e=mat_text3, dat
+00017fa0: 6174 7970 653d 2263 6f6d 706c 6578 5f70  atype="complex_p
+00017fb0: 6572 6d65 6162 696c 6974 7922 2c0a 2020  ermeability",.  
+00017fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00017ff0: 2020 206d 6561 7375 7265 6d65 6e74 5f6e     measurement_n
+00018000: 616d 653d 7465 7374 5f73 6574 7570 5f74  ame=test_setup_t
+00018010: 6578 7433 2c20 636f 6d70 6172 6973 6f6e  ext3, comparison
+00018020: 5f74 7970 653d 226d 766d 222c 0a20 2020  _type="mvm",.   
+00018030: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00018040: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00018050: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018070: 2020 2064 6174 6174 7970 653d 2264 6174     datatype="dat
-00018080: 6173 6865 6574 222c 206d 6561 7375 7265  asheet", measure
-00018090: 6d65 6e74 5f6e 616d 653d 4e6f 6e65 290a  ment_name=None).
-000180a0: 2020 2020 2020 2020 6175 745f 7465 6d70          aut_temp
-000180b0: 5f6f 7074 696f 6e73 3120 3d20 6765 745f  _options1 = get_
-000180c0: 7465 6d70 315f 6c69 7374 0a0a 2020 2020  temp1_list..    
-000180d0: 2020 2020 7465 6d70 5f73 7472 203d 205b      temp_str = [
-000180e0: 6627 7b69 7465 6d3a 2e32 667d 2720 666f  f'{item:.2f}' fo
-000180f0: 7220 6974 656d 2069 6e20 6175 745f 7465  r item in aut_te
-00018100: 6d70 5f6f 7074 696f 6e73 315d 0a20 2020  mp_options1].   
-00018110: 2020 2020 2073 656c 662e 6175 745f 7465       self.aut_te
-00018120: 6d70 5f64 6174 5f63 6f6d 626f 426f 782e  mp_dat_comboBox.
-00018130: 636c 6561 7228 290a 2020 2020 2020 2020  clear().        
-00018140: 666f 7220 6f70 7469 6f6e 2069 6e20 7465  for option in te
-00018150: 6d70 5f73 7472 3a0a 2020 2020 2020 2020  mp_str:.        
-00018160: 2020 2020 7365 6c66 2e61 7574 5f74 656d      self.aut_tem
-00018170: 705f 6461 745f 636f 6d62 6f42 6f78 2e61  p_dat_comboBox.a
-00018180: 6464 4974 656d 286f 7074 696f 6e29 0a0a  ddItem(option)..
-00018190: 2020 2020 6465 6620 7465 6d70 5f6d 6561      def temp_mea
-000181a0: 735f 696e 7075 7428 7365 6c66 293a 0a20  s_input(self):. 
-000181b0: 2020 2020 2020 2022 2222 4765 7420 7468         """Get th
-000181c0: 6520 6d65 6173 7572 656d 656e 7420 7465  e measurement te
-000181d0: 6d70 6572 6174 7572 6520 6f66 2061 2070  mperature of a p
-000181e0: 6172 7469 6375 6c61 7220 6d61 7465 7269  articular materi
-000181f0: 616c 2073 656c 6563 7465 642e 2222 220a  al selected.""".
-00018200: 2020 2020 2020 2020 6d61 745f 7465 7874          mat_text
-00018210: 3120 3d20 7365 6c66 2e64 6174 5f63 6f72  1 = self.dat_cor
-00018220: 655f 6d61 7465 7269 616c 5f63 6f6d 626f  e_material_combo
-00018230: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
-00018240: 290a 0a20 2020 2020 2020 2067 6574 5f74  )..        get_t
-00018250: 656d 7031 5f6c 6973 7420 3d20 5b5d 0a20  emp1_list = []. 
-00018260: 2020 2020 2020 2069 6620 6d61 745f 7465         if mat_te
-00018270: 7874 313a 0a20 2020 2020 2020 2020 2020  xt1:.           
-00018280: 2067 6574 5f74 656d 7031 5f6c 6973 7420   get_temp1_list 
-00018290: 3d20 6461 7461 6261 7365 2e64 726f 705f  = database.drop_
-000182a0: 646f 776e 5f6c 6973 7428 6d61 7465 7269  down_list(materi
-000182b0: 616c 5f6e 616d 653d 6d61 745f 7465 7874  al_name=mat_text
-000182c0: 312c 2063 6f6d 7061 7269 736f 6e5f 7479  1, comparison_ty
-000182d0: 7065 3d22 6d76 6d22 2c20 7465 6d70 6572  pe="mvm", temper
-000182e0: 6174 7572 653d 5472 7565 2c0a 2020 2020  ature=True,.    
-000182f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018310: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018320: 2064 6174 6174 7970 653d 666d 742e 4d65   datatype=fmt.Me
-00018330: 6173 7572 656d 656e 7444 6174 6154 7970  asurementDataTyp
-00018340: 652e 436f 6d70 6c65 7850 6572 6d65 6162  e.ComplexPermeab
-00018350: 696c 6974 792c 206d 6561 7375 7265 6d65  ility, measureme
-00018360: 6e74 5f6e 616d 653d 666d 742e 4d65 6173  nt_name=fmt.Meas
-00018370: 7572 656d 656e 7453 6574 7570 2e4c 4541  urementSetup.LEA
-00018380: 5f4c 4b29 0a20 2020 2020 2020 2061 7574  _LK).        aut
-00018390: 5f74 656d 705f 6f70 7469 6f6e 7331 203d  _temp_options1 =
-000183a0: 2067 6574 5f74 656d 7031 5f6c 6973 740a   get_temp1_list.
-000183b0: 0a20 2020 2020 2020 2074 656d 705f 7374  .        temp_st
-000183c0: 7220 3d20 5b66 277b 6974 656d 3a2e 3266  r = [f'{item:.2f
-000183d0: 7d27 2066 6f72 2069 7465 6d20 696e 2061  }' for item in a
-000183e0: 7574 5f74 656d 705f 6f70 7469 6f6e 7331  ut_temp_options1
-000183f0: 5d0a 2020 2020 2020 2020 7365 6c66 2e61  ].        self.a
-00018400: 7574 5f74 656d 705f 6d65 6173 5f63 6f6d  ut_temp_meas_com
-00018410: 626f 426f 782e 636c 6561 7228 290a 2020  boBox.clear().  
-00018420: 2020 2020 2020 666f 7220 6f70 7469 6f6e        for option
-00018430: 2069 6e20 7465 6d70 5f73 7472 3a0a 2020   in temp_str:.  
-00018440: 2020 2020 2020 2020 2020 7365 6c66 2e61            self.a
-00018450: 7574 5f74 656d 705f 6d65 6173 5f63 6f6d  ut_temp_meas_com
-00018460: 626f 426f 782e 6164 6449 7465 6d28 6f70  boBox.addItem(op
-00018470: 7469 6f6e 290a 0a20 2020 2023 2020 2a2a  tion)..    #  **
-00018480: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-00018490: 2a2a 2a2a 2a2a 2a2a 2a2a 204d 616e 7561  ********** Manua
-000184a0: 6c20 6465 7369 676e 2074 6162 2069 6e69  l design tab ini
-000184b0: 7469 616c 697a 6174 696f 6e73 202a 2a2a  tializations ***
-000184c0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-000184d0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
-000184e0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2020 230a  ************  #.
-000184f0: 0a20 2020 2064 6566 206d 645f 696e 6974  .    def md_init
-00018500: 6961 6c69 7a65 5f63 6f6e 7472 6f6c 7328  ialize_controls(
-00018510: 7365 6c66 2920 2d3e 204e 6f6e 653a 0a20  self) -> None:. 
-00018520: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00018530: 2020 2049 6e69 7469 616c 697a 6520 7468     Initialize th
-00018540: 6520 636f 6d62 6f62 6f78 6573 2077 6974  e comboboxes wit
-00018550: 6820 7072 652d 6465 6669 6e65 6420 7661  h pre-defined va
-00018560: 6c75 6573 2e0a 0a20 2020 2020 2020 203a  lues...        :
-00018570: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
-00018580: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
-00018590: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-000185a0: 2020 2020 2020 6d64 5f73 696d 756c 6174        md_simulat
-000185b0: 696f 6e5f 7479 7065 5f6f 7074 696f 6e73  ion_type_options
-000185c0: 203d 205b 7365 6c66 2e74 7261 6e73 6c61   = [self.transla
-000185d0: 7469 6f6e 5f64 6963 745b 2769 6e64 7563  tion_dict['induc
-000185e0: 746f 7227 5d2c 2073 656c 662e 7472 616e  tor'], self.tran
-000185f0: 736c 6174 696f 6e5f 6469 6374 5b27 7472  slation_dict['tr
-00018600: 616e 7366 6f72 6d65 7227 5d5d 0a20 2020  ansformer']].   
-00018610: 2020 2020 206d 645f 636f 7265 5f6d 6174       md_core_mat
-00018620: 6572 6961 6c5f 6f70 7469 6f6e 7320 3d20  erial_options = 
-00018630: 5b27 4e39 3527 2c20 274e 3439 272c 2027  ['N95', 'N49', '
-00018640: 4e38 3727 5d0a 2020 2020 2020 2020 6d64  N87'].        md
-00018650: 5f77 696e 6469 6e67 5f6d 6174 6572 6961  _winding_materia
-00018660: 6c5f 6f70 7469 6f6e 7320 3d20 5b6b 6579  l_options = [key
-00018670: 2066 6f72 206b 6579 2069 6e20 666d 742e   for key in fmt.
-00018680: 7769 7265 5f6d 6174 6572 6961 6c5f 6461  wire_material_da
-00018690: 7461 6261 7365 2829 5d0a 2020 2020 2020  tabase()].      
-000186a0: 2020 6d64 5f77 696e 6469 6e67 5f74 7970    md_winding_typ
-000186b0: 655f 6f70 7469 6f6e 7320 3d20 5b73 656c  e_options = [sel
-000186c0: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
-000186d0: 6374 5b27 6c69 747a 275d 2c20 7365 6c66  ct['litz'], self
-000186e0: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
-000186f0: 745b 2773 6f6c 6964 275d 5d0a 2020 2020  t['solid']].    
-00018700: 2020 2020 6d64 5f69 6d70 6c69 6369 745f      md_implicit_
-00018710: 6c69 747a 5f6f 7074 696f 6e73 203d 205b  litz_options = [
-00018720: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
-00018730: 5f64 6963 745b 2269 6d70 6c69 6369 745f  _dict["implicit_
-00018740: 6c69 747a 5f72 6164 6975 7322 5d2c 2073  litz_radius"], s
-00018750: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-00018760: 6469 6374 5b22 696d 706c 6963 6974 5f66  dict["implicit_f
-00018770: 6622 5d2c 0a20 2020 2020 2020 2020 2020  f"],.           
-00018780: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00018790: 2020 2020 2020 2020 2073 656c 662e 7472           self.tr
-000187a0: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
-000187b0: 696d 706c 6963 6974 5f73 7472 616e 6473  implicit_strands
-000187c0: 5f6e 756d 6265 7227 5d5d 0a20 2020 2020  _number']].     
-000187d0: 2020 206d 645f 6169 725f 6761 705f 6d65     md_air_gap_me
-000187e0: 7468 6f64 5f6f 7074 696f 6e73 203d 205b  thod_options = [
-000187f0: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
-00018800: 5f64 6963 745b 2270 6572 6365 6e74 225d  _dict["percent"]
-00018810: 2c20 7365 6c66 2e74 7261 6e73 6c61 7469  , self.translati
-00018820: 6f6e 5f64 6963 745b 276d 616e 7561 6c6c  on_dict['manuall
-00018830: 7927 5d5d 0a20 2020 2020 2020 206d 645f  y']].        md_
-00018840: 6169 725f 6761 705f 636f 756e 7473 5f6f  air_gap_counts_o
-00018850: 7074 696f 6e73 203d 205b 2730 272c 2027  ptions = ['0', '
-00018860: 3127 2c20 2732 272c 2027 3327 2c20 2734  1', '2', '3', '4
-00018870: 272c 2027 3527 5d0a 2020 2020 2020 2020  ', '5'].        
-00018880: 6d64 5f77 696e 6469 6e67 5f73 6368 656d  md_winding_schem
-00018890: 655f 6f70 7469 6f6e 7320 3d20 5b73 656c  e_options = [sel
-000188a0: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
-000188b0: 6374 5b22 7371 7561 7265 225d 2c20 7365  ct["square"], se
-000188c0: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
-000188d0: 6963 745b 2268 6578 6122 5d5d 0a20 2020  ict["hexa"]].   
-000188e0: 2020 2020 206d 645f 636f 7265 5f67 656f       md_core_geo
-000188f0: 6d65 7472 795f 6f70 7469 6f6e 7320 3d20  metry_options = 
-00018900: 5b63 6f72 655f 6765 6f6d 6574 7279 2066  [core_geometry f
-00018910: 6f72 2063 6f72 655f 6765 6f6d 6574 7279  or core_geometry
-00018920: 2069 6e20 666d 742e 636f 7265 5f64 6174   in fmt.core_dat
-00018930: 6162 6173 6528 295d 0a20 2020 2020 2020  abase()].       
-00018940: 206d 645f 636f 7265 5f67 656f 6d65 7472   md_core_geometr
-00018950: 795f 6f70 7469 6f6e 732e 696e 7365 7274  y_options.insert
-00018960: 2830 2c20 274d 616e 7561 6c27 290a 0a20  (0, 'Manual').. 
-00018970: 2020 2020 2020 206d 645f 7769 6e64 696e         md_windin
-00018980: 675f 6c69 747a 5f6d 6174 6572 6961 6c5f  g_litz_material_
-00018990: 6f70 7469 6f6e 7320 3d20 5b6b 6579 2066  options = [key f
-000189a0: 6f72 206b 6579 2069 6e20 666d 742e 6c69  or key in fmt.li
-000189b0: 747a 5f64 6174 6162 6173 6528 295d 0a20  tz_database()]. 
-000189c0: 2020 2020 2020 206d 645f 7769 6e64 696e         md_windin
-000189d0: 675f 6c69 747a 5f6d 6174 6572 6961 6c5f  g_litz_material_
-000189e0: 6f70 7469 6f6e 732e 696e 7365 7274 2830  options.insert(0
-000189f0: 2c20 274d 616e 7561 6c27 290a 0a20 2020  , 'Manual')..   
-00018a00: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
-00018a10: 696e 206d 645f 7369 6d75 6c61 7469 6f6e  in md_simulation
-00018a20: 5f74 7970 655f 6f70 7469 6f6e 733a 0a20  _type_options:. 
-00018a30: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00018a40: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
-00018a50: 7065 5f63 6f6d 626f 426f 782e 6164 6449  pe_comboBox.addI
-00018a60: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
-00018a70: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-00018a80: 6e20 6d64 5f63 6f72 655f 6d61 7465 7269  n md_core_materi
-00018a90: 616c 5f6f 7074 696f 6e73 3a0a 2020 2020  al_options:.    
-00018aa0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00018ab0: 636f 7265 5f6d 6174 6572 6961 6c5f 636f  core_material_co
-00018ac0: 6d62 6f42 6f78 2e61 6464 4974 656d 286f  mboBox.addItem(o
-00018ad0: 7074 696f 6e29 0a20 2020 2020 2020 2066  ption).        f
-00018ae0: 6f72 206f 7074 696f 6e20 696e 206d 645f  or option in md_
-00018af0: 7769 6e64 696e 675f 6d61 7465 7269 616c  winding_material
-00018b00: 5f6f 7074 696f 6e73 3a0a 2020 2020 2020  _options:.      
-00018b10: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-00018b20: 6e64 696e 6731 5f6d 6174 6572 6961 6c5f  nding1_material_
-00018b30: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
-00018b40: 286f 7074 696f 6e29 0a20 2020 2020 2020  (option).       
-00018b50: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-00018b60: 6469 6e67 325f 6d61 7465 7269 616c 5f63  ding2_material_c
-00018b70: 6f6d 626f 426f 782e 6164 6449 7465 6d28  omboBox.addItem(
-00018b80: 6f70 7469 6f6e 290a 2020 2020 2020 2020  option).        
-00018b90: 666f 7220 6f70 7469 6f6e 2069 6e20 6d64  for option in md
-00018ba0: 5f77 696e 6469 6e67 5f74 7970 655f 6f70  _winding_type_op
-00018bb0: 7469 6f6e 733a 0a20 2020 2020 2020 2020  tions:.         
-00018bc0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-00018bd0: 6e67 315f 7479 7065 5f63 6f6d 626f 426f  ng1_type_comboBo
-00018be0: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
-00018bf0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-00018c00: 6c66 2e6d 645f 7769 6e64 696e 6732 5f74  lf.md_winding2_t
-00018c10: 7970 655f 636f 6d62 6f42 6f78 2e61 6464  ype_comboBox.add
-00018c20: 4974 656d 286f 7074 696f 6e29 0a20 2020  Item(option).   
-00018c30: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
-00018c40: 696e 206d 645f 696d 706c 6963 6974 5f6c  in md_implicit_l
-00018c50: 6974 7a5f 6f70 7469 6f6e 733a 0a20 2020  itz_options:.   
-00018c60: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-00018c70: 5f77 696e 6469 6e67 315f 696d 706c 6963  _winding1_implic
-00018c80: 6974 5f6c 6974 7a5f 636f 6d62 6f42 6f78  it_litz_comboBox
-00018c90: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
-00018ca0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00018cb0: 662e 6d64 5f77 696e 6469 6e67 325f 696d  f.md_winding2_im
-00018cc0: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
-00018cd0: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
-00018ce0: 696f 6e29 0a20 2020 2020 2020 2066 6f72  ion).        for
-00018cf0: 206f 7074 696f 6e20 696e 206d 645f 6169   option in md_ai
-00018d00: 725f 6761 705f 6d65 7468 6f64 5f6f 7074  r_gap_method_opt
-00018d10: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
-00018d20: 2020 7365 6c66 2e6d 645f 6169 725f 6761    self.md_air_ga
-00018d30: 705f 706c 6163 656d 656e 745f 6d65 7468  p_placement_meth
-00018d40: 6f64 5f63 6f6d 626f 426f 782e 6164 6449  od_comboBox.addI
-00018d50: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
-00018d60: 2020 2020 666f 7220 6f70 7469 6f6e 2069      for option i
-00018d70: 6e20 6d64 5f61 6972 5f67 6170 5f63 6f75  n md_air_gap_cou
-00018d80: 6e74 735f 6f70 7469 6f6e 733a 0a20 2020  nts_options:.   
-00018d90: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-00018da0: 5f61 6972 5f67 6170 5f63 6f75 6e74 5f63  _air_gap_count_c
-00018db0: 6f6d 626f 426f 782e 6164 6449 7465 6d28  omboBox.addItem(
-00018dc0: 6f70 7469 6f6e 290a 2020 2020 2020 2020  option).        
-00018dd0: 666f 7220 6f70 7469 6f6e 2069 6e20 6d64  for option in md
-00018de0: 5f77 696e 6469 6e67 5f73 6368 656d 655f  _winding_scheme_
-00018df0: 6f70 7469 6f6e 733a 0a20 2020 2020 2020  options:.       
-00018e00: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-00018e10: 6469 6e67 315f 7363 6865 6d65 5f63 6f6d  ding1_scheme_com
-00018e20: 626f 426f 782e 6164 6449 7465 6d28 6f70  boBox.addItem(op
-00018e30: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
-00018e40: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-00018e50: 6732 5f73 6368 656d 655f 636f 6d62 6f42  g2_scheme_comboB
-00018e60: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
-00018e70: 6e29 0a20 2020 2020 2020 2066 6f72 206f  n).        for o
-00018e80: 7074 696f 6e20 696e 206d 645f 7769 6e64  ption in md_wind
-00018e90: 696e 675f 6c69 747a 5f6d 6174 6572 6961  ing_litz_materia
-00018ea0: 6c5f 6f70 7469 6f6e 733a 0a20 2020 2020  l_options:.     
-00018eb0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00018ec0: 696e 6469 6e67 315f 6c69 747a 5f6d 6174  inding1_litz_mat
-00018ed0: 6572 6961 6c5f 636f 6d62 6f42 6f78 2e61  erial_comboBox.a
-00018ee0: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
-00018ef0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-00018f00: 6d64 5f77 696e 6469 6e67 325f 6c69 747a  md_winding2_litz
-00018f10: 5f6d 6174 6572 6961 6c5f 636f 6d62 6f42  _material_comboB
-00018f20: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
-00018f30: 6e29 0a20 2020 2020 2020 2066 6f72 206f  n).        for o
-00018f40: 7074 696f 6e20 696e 206d 645f 636f 7265  ption in md_core
-00018f50: 5f67 656f 6d65 7472 795f 6f70 7469 6f6e  _geometry_option
-00018f60: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
-00018f70: 656c 662e 6d64 5f63 6f72 655f 6765 6f6d  elf.md_core_geom
-00018f80: 6574 7279 5f63 6f6d 626f 426f 782e 6164  etry_comboBox.ad
-00018f90: 6449 7465 6d28 6f70 7469 6f6e 290a 0a20  dItem(option).. 
-00018fa0: 2020 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d     # -----------
-00018fb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00018fc0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00018fd0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-00018fe0: 2020 2020 2320 4465 6669 6e69 7469 6f6e      # Definition
-00018ff0: 2074 6162 0a20 2020 2023 202d 2d2d 2d2d   tab.    # -----
-00019000: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00019010: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00019020: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00019030: 2d2d 2d2d 2d0a 2020 2020 6465 6620 6d64  -----.    def md
-00019040: 5f63 6861 6e67 655f 7369 6d75 6c61 7469  _change_simulati
-00019050: 6f6e 5f74 7970 6528 7365 6c66 2c20 7369  on_type(self, si
-00019060: 6d75 6c61 7469 6f6e 5f74 7970 655f 6672  mulation_type_fr
-00019070: 6f6d 5f63 6f6d 626f 5f62 6f78 3a20 7374  om_combo_box: st
-00019080: 7229 202d 3e20 4e6f 6e65 3a0a 2020 2020  r) -> None:.    
-00019090: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-000190a0: 4368 616e 6765 2073 696d 756c 6174 696f  Change simulatio
-000190b0: 6e20 7479 7065 2077 6865 6e20 7369 676e  n type when sign
-000190c0: 616c 206f 6620 6d64 5f73 696d 756c 6174  al of md_simulat
-000190d0: 696f 6e5f 7479 7065 5f63 6f6d 626f 426f  ion_type_comboBo
-000190e0: 7820 7465 7874 2068 6173 2063 6861 6e67  x text has chang
-000190f0: 6564 2e0a 0a20 2020 2020 2020 2041 6374  ed...        Act
-00019100: 696f 6e20 7769 6c6c 2062 6520 656e 6162  ion will be enab
-00019110: 6c69 6e67 202f 2064 6973 6162 6c69 6e67  ling / disabling
-00019120: 2075 7365 7220 696e 7075 7473 2066 6f72   user inputs for
-00019130: 206e 6f74 2d75 7365 6420 7769 6e64 696e   not-used windin
-00019140: 6773 2e0a 0a20 2020 2020 2020 203a 7061  gs...        :pa
-00019150: 7261 6d20 7369 6d75 6c61 7469 6f6e 5f74  ram simulation_t
-00019160: 7970 655f 6672 6f6d 5f63 6f6d 626f 5f62  ype_from_combo_b
-00019170: 6f78 3a0a 2020 2020 2020 2020 3a74 7970  ox:.        :typ
-00019180: 6520 7369 6d75 6c61 7469 6f6e 5f74 7970  e simulation_typ
-00019190: 655f 6672 6f6d 5f63 6f6d 626f 5f62 6f78  e_from_combo_box
-000191a0: 3a20 7374 720a 2020 2020 2020 2020 3a72  : str.        :r
-000191b0: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
-000191c0: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
-000191d0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000191e0: 2020 2020 2069 6620 7369 6d75 6c61 7469       if simulati
-000191f0: 6f6e 5f74 7970 655f 6672 6f6d 5f63 6f6d  on_type_from_com
-00019200: 626f 5f62 6f78 203d 3d20 7365 6c66 2e74  bo_box == self.t
-00019210: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-00019220: 2769 6e64 7563 746f 7227 5d3a 0a20 2020  'inductor']:.   
-00019230: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-00019240: 5f77 696e 6469 6e67 325f 656e 6162 6c65  _winding2_enable
-00019250: 2846 616c 7365 290a 0a20 2020 2020 2020  (False)..       
-00019260: 2065 6c69 6620 7369 6d75 6c61 7469 6f6e   elif simulation
-00019270: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
-00019280: 5f62 6f78 203d 3d20 7365 6c66 2e74 7261  _box == self.tra
-00019290: 6e73 6c61 7469 6f6e 5f64 6963 745b 2774  nslation_dict['t
-000192a0: 7261 6e73 666f 726d 6572 275d 3a0a 2020  ransformer']:.  
-000192b0: 2020 2020 2020 2020 2020 2320 7365 7420            # set 
-000192c0: 7769 6e64 696e 6720 6465 6669 6e69 7469  winding definiti
-000192d0: 6f6e 7320 6f66 2077 696e 6469 6e67 2032  ons of winding 2
-000192e0: 2074 6f20 6564 6974 6162 6c65 0a20 2020   to editable.   
-000192f0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-00019300: 5f77 696e 6469 6e67 325f 656e 6162 6c65  _winding2_enable
-00019310: 2854 7275 6529 0a0a 2020 2020 2020 2020  (True)..        
-00019320: 656c 6966 2073 696d 756c 6174 696f 6e5f  elif simulation_
-00019330: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
-00019340: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
-00019350: 736c 6174 696f 6e5f 6469 6374 5b27 696e  slation_dict['in
-00019360: 7465 6772 6174 6564 2074 7261 6e73 666f  tegrated transfo
-00019370: 726d 6572 275d 3a0a 2020 2020 2020 2020  rmer']:.        
-00019380: 2020 2020 2320 7365 7420 7769 6e64 696e      # set windin
-00019390: 6720 6465 6669 6e69 7469 6f6e 7320 6f66  g definitions of
-000193a0: 2077 696e 6469 6e67 2032 2074 6f20 6564   winding 2 to ed
-000193b0: 6974 6162 6c65 0a20 2020 2020 2020 2020  itable.         
-000193c0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-000193d0: 6e67 325f 656e 6162 6c65 2854 7275 6529  ng2_enable(True)
-000193e0: 0a0a 2020 2020 6465 6620 6f6e 5f69 6e73  ..    def on_ins
-000193f0: 756c 6174 696f 6e5f 7374 6174 655f 6368  ulation_state_ch
-00019400: 616e 6765 6428 7365 6c66 293a 0a20 2020  anged(self):.   
-00019410: 2020 2020 2022 2222 5570 6461 7465 2074       """Update t
-00019420: 6865 2066 6c61 675f 696e 7375 6c61 7469  he flag_insulati
-00019430: 6f6e 2062 6173 6564 206f 6e20 7468 6520  on based on the 
-00019440: 6368 6563 6b62 6f78 2073 7461 7465 2e22  checkbox state."
-00019450: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-00019460: 666c 6167 5f69 6e73 756c 6174 696f 6e20  flag_insulation 
-00019470: 3d20 7365 6c66 2e65 6e61 626c 655f 696e  = self.enable_in
-00019480: 7375 6c61 7469 6f6e 5f63 6865 636b 626f  sulation_checkbo
-00019490: 782e 6973 4368 6563 6b65 6428 290a 0a20  x.isChecked().. 
-000194a0: 2020 2064 6566 206d 645f 7769 6e64 696e     def md_windin
-000194b0: 6732 5f65 6e61 626c 6528 7365 6c66 2c20  g2_enable(self, 
-000194c0: 7374 6174 7573 3a20 626f 6f6c 2920 2d3e  status: bool) ->
-000194d0: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
-000194e0: 2222 0a20 2020 2020 2020 2045 6e61 626c  "".        Enabl
-000194f0: 652f 6469 7361 626c 6520 616c 6c20 6669  e/disable all fi
-00019500: 656c 6473 2062 6569 6e67 2069 6e20 636f  elds being in co
-00019510: 6e74 6163 7420 7769 7468 2077 696e 6469  ntact with windi
-00019520: 6e67 2032 2e0a 0a20 2020 2020 2020 203a  ng 2...        :
-00019530: 7061 7261 6d20 7374 6174 7573 3a20 5472  param status: Tr
-00019540: 7565 202f 2046 616c 7365 0a20 2020 2020  ue / False.     
-00019550: 2020 203a 7479 7065 2073 7461 7475 733a     :type status:
-00019560: 2062 6f6f 6c0a 2020 2020 2020 2020 3a72   bool.        :r
-00019570: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
-00019580: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
-00019590: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000195a0: 2020 2020 2023 2073 6574 2077 696e 6469       # set windi
-000195b0: 6e67 2064 6566 696e 6974 696f 6e73 206f  ng definitions o
-000195c0: 6620 7769 6e64 696e 6720 3220 2865 6e61  f winding 2 (ena
-000195d0: 626c 6520 616e 6420 7669 7369 626c 6529  ble and visible)
-000195e0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-000195f0: 5f77 696e 6469 6e67 325f 6d61 7465 7269  _winding2_materi
-00019600: 616c 5f63 6f6d 626f 426f 782e 7365 7445  al_comboBox.setE
-00019610: 6e61 626c 6564 2873 7461 7475 7329 0a20  nabled(status). 
-00019620: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00019630: 696e 6469 6e67 325f 7479 7065 5f63 6f6d  inding2_type_com
-00019640: 626f 426f 782e 7365 7445 6e61 626c 6564  boBox.setEnabled
-00019650: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-00019660: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-00019670: 325f 7475 726e 735f 6c69 6e65 4564 6974  2_turns_lineEdit
-00019680: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
-00019690: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
-000196a0: 2e6d 645f 7769 6e64 696e 6732 5f69 6d70  .md_winding2_imp
-000196b0: 6c69 6369 745f 6c69 747a 5f63 6f6d 626f  licit_litz_combo
-000196c0: 426f 782e 7365 7445 6e61 626c 6564 2873  Box.setEnabled(s
-000196d0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
-000196e0: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-000196f0: 7374 7261 6e64 735f 6c69 6e65 4564 6974  strands_lineEdit
-00019700: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
-00019710: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
-00019720: 2e6d 645f 7769 6e64 696e 6732 5f72 6164  .md_winding2_rad
-00019730: 6975 735f 6c69 6e65 4564 6974 2e73 6574  ius_lineEdit.set
-00019740: 456e 6162 6c65 6428 4661 6c73 6529 0a20  Enabled(False). 
-00019750: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-00019760: 696e 6469 6e67 325f 6669 6c6c 5f66 6163  inding2_fill_fac
-00019770: 746f 725f 6c69 6e65 4564 6974 2e73 6574  tor_lineEdit.set
-00019780: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
-00019790: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-000197a0: 7769 6e64 696e 6732 5f73 7472 616e 645f  winding2_strand_
-000197b0: 7261 6469 7573 5f6c 696e 6545 6469 742e  radius_lineEdit.
-000197c0: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
-000197d0: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-000197e0: 6d64 5f77 696e 6469 6e67 325f 6c69 747a  md_winding2_litz
-000197f0: 5f6d 6174 6572 6961 6c5f 636f 6d62 6f42  _material_comboB
-00019800: 6f78 2e73 6574 456e 6162 6c65 6428 7374  ox.setEnabled(st
-00019810: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
-00019820: 6c66 2e6d 645f 7769 6e64 696e 6732 5f67  lf.md_winding2_g
-00019830: 726f 7570 426f 782e 7365 7456 6973 6962  roupBox.setVisib
-00019840: 6c65 2873 7461 7475 7329 0a0a 2020 2020  le(status)..    
-00019850: 2020 2020 2320 5365 7420 7475 726e 7320      # Set turns 
-00019860: 6f66 2077 696e 6469 6e67 2032 2028 656e  of winding 2 (en
-00019870: 6162 6c65 2061 6e64 2076 6973 6962 6c65  able and visible
-00019880: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00019890: 645f 7769 6e64 696e 6732 5f74 7572 6e73  d_winding2_turns
-000198a0: 5f6c 696e 6545 6469 742e 7365 7456 6973  _lineEdit.setVis
-000198b0: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
-000198c0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-000198d0: 6469 6e67 325f 7363 6865 6d65 5f63 6f6d  ding2_scheme_com
-000198e0: 626f 426f 782e 7365 7456 6973 6962 6c65  boBox.setVisible
-000198f0: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-00019900: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-00019910: 325f 7475 726e 735f 6c61 6265 6c2e 7365  2_turns_label.se
-00019920: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
-00019930: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-00019940: 5f77 696e 6469 6e67 325f 7363 6865 6d65  _winding2_scheme
-00019950: 5f6c 6162 656c 2e73 6574 5669 7369 626c  _label.setVisibl
-00019960: 6528 7374 6174 7573 290a 0a20 2020 2020  e(status)..     
-00019970: 2020 2023 2073 6574 2063 7572 7265 6e74     # set current
-00019980: 2073 6861 7065 7320 6f66 2077 696e 6469   shapes of windi
-00019990: 6e67 2032 2028 656e 6162 6c65 2061 6e64  ng 2 (enable and
-000199a0: 2076 6973 6962 6c65 290a 2020 2020 2020   visible).      
-000199b0: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-000199c0: 6732 5f63 7572 7265 6e74 5f67 726f 7570  g2_current_group
-000199d0: 426f 782e 7365 7456 6973 6962 6c65 2873  Box.setVisible(s
-000199e0: 7461 7475 7329 0a0a 2020 2020 2020 2020  tatus)..        
-000199f0: 2320 7365 7420 6973 6f6c 6174 696f 6e20  # set isolation 
-00019a00: 6f66 2077 696e 6469 6e67 2032 2028 656e  of winding 2 (en
-00019a10: 6162 6c65 2061 6e64 2076 6973 6962 6c65  able and visible
-00019a20: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00019a30: 645f 6973 6f6c 6174 696f 6e5f 7332 735f  d_isolation_s2s_
-00019a40: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
-00019a50: 6c65 6428 7374 6174 7573 290a 2020 2020  led(status).    
-00019a60: 2020 2020 7365 6c66 2e6d 645f 6973 6f6c      self.md_isol
-00019a70: 6174 696f 6e5f 7032 735f 6c69 6e65 4564  ation_p2s_lineEd
-00019a80: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
-00019a90: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
-00019aa0: 6c66 2e6d 645f 6973 6f6c 6174 696f 6e5f  lf.md_isolation_
-00019ab0: 7332 735f 6c69 6e65 4564 6974 2e73 6574  s2s_lineEdit.set
-00019ac0: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
-00019ad0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00019ae0: 6973 6f6c 6174 696f 6e5f 7032 735f 6c69  isolation_p2s_li
-00019af0: 6e65 4564 6974 2e73 6574 5669 7369 626c  neEdit.setVisibl
-00019b00: 6528 7374 6174 7573 290a 2020 2020 2020  e(status).      
-00019b10: 2020 2320 6368 616e 6765 2035 3a20 656e    # change 5: en
-00019b20: 6162 6c65 2073 3270 206f 6e6c 7920 666f  able s2p only fo
-00019b30: 7220 7769 6e64 696e 6720 320a 2020 2020  r winding 2.    
-00019b40: 2020 2020 7365 6c66 2e6d 645f 6973 6f6c      self.md_isol
-00019b50: 6174 696f 6e5f 7332 705f 6c69 6e65 4564  ation_s2p_lineEd
-00019b60: 6974 2e73 6574 5669 7369 626c 6528 7374  it.setVisible(st
-00019b70: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
-00019b80: 6c66 2e6d 645f 6973 6f6c 6174 696f 6e5f  lf.md_isolation_
-00019b90: 7332 735f 6c61 6265 6c2e 7365 7456 6973  s2s_label.setVis
-00019ba0: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
-00019bb0: 2020 2020 2073 656c 662e 6d64 5f69 736f       self.md_iso
-00019bc0: 6c61 7469 6f6e 5f70 3273 5f6c 6162 656c  lation_p2s_label
-00019bd0: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
-00019be0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
-00019bf0: 2e6d 645f 6973 6f6c 6174 696f 6e5f 7332  .md_isolation_s2
-00019c00: 705f 6c61 6265 6c2e 7365 7456 6973 6962  p_label.setVisib
-00019c10: 6c65 2873 7461 7475 7329 0a0a 2020 2020  le(status)..    
-00019c20: 6465 6620 6d64 5f67 6d73 685f 7072 655f  def md_gmsh_pre_
-00019c30: 7669 7375 616c 6973 6174 696f 6e28 7365  visualisation(se
-00019c40: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-00019c50: 5072 652d 7669 7375 616c 697a 6520 7768  Pre-visualize wh
-00019c60: 656e 2075 7064 6174 6520 7072 6576 6965  en update previe
-00019c70: 7720 6275 7474 6f6e 2069 7320 7072 6573  w button is pres
-00019c80: 7365 6420 696e 2074 6865 2064 6566 696e  sed in the defin
-00019c90: 6974 696f 6e73 2074 6162 2e22 2222 0a20  itions tab.""". 
-00019ca0: 2020 2020 2020 2067 656f 203d 2073 656c         geo = sel
-00019cb0: 662e 6d64 5f73 6574 7570 5f67 656f 6d65  f.md_setup_geome
-00019cc0: 7472 7928 290a 2020 2020 2020 2020 7072  try().        pr
-00019cd0: 696e 7428 6622 6765 6f3a 7b67 656f 7d22  int(f"geo:{geo}"
-00019ce0: 290a 0a20 2020 2020 2020 2023 2067 656f  )..        # geo
-00019cf0: 2e63 7265 6174 655f 6d6f 6465 6c28 6672  .create_model(fr
-00019d00: 6571 3d31 3030 3030 302c 2076 6973 7561  eq=100000, visua
-00019d10: 6c69 7a65 5f62 6566 6f72 653d 4661 6c73  lize_before=Fals
-00019d20: 652c 2064 6f5f 6d65 7368 696e 673d 4661  e, do_meshing=Fa
-00019d30: 6c73 652c 2073 6176 655f 706e 673d 5472  lse, save_png=Tr
-00019d40: 7565 290a 2020 2020 2020 2020 6765 6f2e  ue).        geo.
-00019d50: 6372 6561 7465 5f6d 6f64 656c 2866 7265  create_model(fre
-00019d60: 713d 636f 6d6d 615f 7374 725f 746f 5f70  q=comma_str_to_p
-00019d70: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-00019d80: 6d64 5f62 6173 655f 6672 6571 7565 6e63  md_base_frequenc
-00019d90: 795f 6c69 6e65 4564 6974 2e74 6578 7428  y_lineEdit.text(
-00019da0: 2929 2c20 7072 655f 7669 7375 616c 697a  )), pre_visualiz
-00019db0: 655f 6765 6f6d 6574 7279 3d46 616c 7365  e_geometry=False
-00019dc0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00019dd0: 2020 2020 2020 2020 2020 2073 6176 655f             save_
-00019de0: 706e 673d 5472 7565 290a 2020 2020 2020  png=True).      
-00019df0: 2020 7072 696e 7428 6622 6765 6f2e 6669    print(f"geo.fi
-00019e00: 6c65 5f64 6174 612e 6879 6272 6964 5f63  le_data.hybrid_c
-00019e10: 6f6c 6f72 5f76 6973 7561 6c69 7a65 5f66  olor_visualize_f
-00019e20: 696c 653a 207b 6765 6f2e 6669 6c65 5f64  ile: {geo.file_d
-00019e30: 6174 612e 6879 6272 6964 5f63 6f6c 6f72  ata.hybrid_color
-00019e40: 5f76 6973 7561 6c69 7a65 5f66 696c 657d  _visualize_file}
-00019e50: 2229 0a20 2020 2020 2020 2069 6d61 6765  ").        image
-00019e60: 5f70 7265 5f76 6973 7561 6c69 7361 7469  _pre_visualisati
-00019e70: 6f6e 203d 2050 494c 2e49 6d61 6765 2e6f  on = PIL.Image.o
-00019e80: 7065 6e28 6765 6f2e 6669 6c65 5f64 6174  pen(geo.file_dat
-00019e90: 612e 6879 6272 6964 5f63 6f6c 6f72 5f76  a.hybrid_color_v
-00019ea0: 6973 7561 6c69 7a65 5f66 696c 6529 0a0a  isualize_file)..
-00019eb0: 2020 2020 2020 2020 7078 203d 2069 6d61          px = ima
-00019ec0: 6765 5f70 7265 5f76 6973 7561 6c69 7361  ge_pre_visualisa
-00019ed0: 7469 6f6e 2e6c 6f61 6428 290a 2020 2020  tion.load().    
-00019ee0: 2020 2020 696d 6167 655f 7769 6474 682c      image_width,
-00019ef0: 2069 6d61 6765 5f68 6569 6768 7420 3d20   image_height = 
-00019f00: 696d 6167 655f 7072 655f 7669 7375 616c  image_pre_visual
-00019f10: 6973 6174 696f 6e2e 7369 7a65 0a0a 2020  isation.size..  
-00019f20: 2020 2020 2020 666f 7220 6375 745f 785f        for cut_x_
-00019f30: 6c65 6674 2069 6e20 7261 6e67 6528 302c  left in range(0,
-00019f40: 2069 6d61 6765 5f77 6964 7468 293a 0a20   image_width):. 
-00019f50: 2020 2020 2020 2020 2020 2069 6620 7078             if px
-00019f60: 5b63 7574 5f78 5f6c 6566 742c 2069 6d61  [cut_x_left, ima
-00019f70: 6765 5f68 6569 6768 7420 2f20 325d 2021  ge_height / 2] !
-00019f80: 3d20 2832 3535 2c20 3235 352c 2032 3535  = (255, 255, 255
-00019f90: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00019fa0: 2020 2063 7574 5f78 5f6c 6566 7420 2d3d     cut_x_left -=
-00019fb0: 2031 0a20 2020 2020 2020 2020 2020 2020   1.             
-00019fc0: 2020 2062 7265 616b 0a20 2020 2020 2020     break.       
-00019fd0: 2066 6f72 2063 7574 5f78 5f72 6967 6874   for cut_x_right
-00019fe0: 2069 6e20 7265 7665 7273 6564 2872 616e   in reversed(ran
-00019ff0: 6765 2830 2c20 696d 6167 655f 7769 6474  ge(0, image_widt
-0001a000: 6829 293a 0a20 2020 2020 2020 2020 2020  h)):.           
-0001a010: 2069 6620 7078 5b63 7574 5f78 5f72 6967   if px[cut_x_rig
-0001a020: 6874 2c20 696d 6167 655f 6865 6967 6874  ht, image_height
-0001a030: 202f 2032 5d20 213d 2028 3235 352c 2032   / 2] != (255, 2
-0001a040: 3535 2c20 3235 3529 3a0a 2020 2020 2020  55, 255):.      
-0001a050: 2020 2020 2020 2020 2020 6375 745f 785f            cut_x_
-0001a060: 7269 6768 7420 2b3d 2031 0a20 2020 2020  right += 1.     
-0001a070: 2020 2020 2020 2020 2020 2062 7265 616b             break
-0001a080: 0a0a 2020 2020 2020 2020 666f 7220 6375  ..        for cu
-0001a090: 745f 795f 626f 7420 696e 2072 6576 6572  t_y_bot in rever
-0001a0a0: 7365 6428 7261 6e67 6528 302c 2069 6d61  sed(range(0, ima
-0001a0b0: 6765 5f68 6569 6768 7429 293a 0a20 2020  ge_height)):.   
-0001a0c0: 2020 2020 2020 2020 2069 6620 7078 5b69           if px[i
-0001a0d0: 6d61 6765 5f77 6964 7468 202f 2032 2c20  mage_width / 2, 
-0001a0e0: 6375 745f 795f 626f 745d 2021 3d20 2832  cut_y_bot] != (2
-0001a0f0: 3535 2c20 3235 352c 2032 3535 293a 0a20  55, 255, 255):. 
-0001a100: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-0001a110: 7574 5f79 5f62 6f74 202b 3d20 310a 2020  ut_y_bot += 1.  
-0001a120: 2020 2020 2020 2020 2020 2020 2020 6272                br
-0001a130: 6561 6b0a 2020 2020 2020 2020 666f 7220  eak.        for 
-0001a140: 6375 745f 795f 746f 7020 696e 2072 616e  cut_y_top in ran
-0001a150: 6765 2830 2c20 696d 6167 655f 6865 6967  ge(0, image_heig
-0001a160: 6874 293a 0a20 2020 2020 2020 2020 2020  ht):.           
-0001a170: 2069 6620 7078 5b69 6d61 6765 5f77 6964   if px[image_wid
-0001a180: 7468 202f 2032 2c20 6375 745f 795f 746f  th / 2, cut_y_to
-0001a190: 705d 2021 3d20 2832 3535 2c20 3235 352c  p] != (255, 255,
-0001a1a0: 2032 3535 293a 0a20 2020 2020 2020 2020   255):.         
-0001a1b0: 2020 2020 2020 2063 7574 5f79 5f74 6f70         cut_y_top
-0001a1c0: 202d 3d20 310a 2020 2020 2020 2020 2020   -= 1.          
-0001a1d0: 2020 2020 2020 6272 6561 6b0a 0a20 2020        break..   
-0001a1e0: 2020 2020 2069 6d5f 6372 6f70 203d 2069       im_crop = i
-0001a1f0: 6d61 6765 5f70 7265 5f76 6973 7561 6c69  mage_pre_visuali
-0001a200: 7361 7469 6f6e 2e63 726f 7028 2863 7574  sation.crop((cut
-0001a210: 5f78 5f6c 6566 742c 2063 7574 5f79 5f74  _x_left, cut_y_t
-0001a220: 6f70 2c20 6375 745f 785f 7269 6768 742c  op, cut_x_right,
-0001a230: 2063 7574 5f79 5f62 6f74 2929 0a20 2020   cut_y_bot)).   
-0001a240: 2020 2020 2069 6d5f 6372 6f70 2e73 6176       im_crop.sav
-0001a250: 6528 6765 6f2e 6669 6c65 5f64 6174 612e  e(geo.file_data.
-0001a260: 6879 6272 6964 5f63 6f6c 6f72 5f76 6973  hybrid_color_vis
-0001a270: 7561 6c69 7a65 5f66 696c 652c 2071 7561  ualize_file, qua
-0001a280: 6c69 7479 3d39 3529 0a0a 2020 2020 2020  lity=95)..      
-0001a290: 2020 7069 786d 6170 203d 2051 5069 786d    pixmap = QPixm
-0001a2a0: 6170 2867 656f 2e66 696c 655f 6461 7461  ap(geo.file_data
-0001a2b0: 2e68 7962 7269 645f 636f 6c6f 725f 7669  .hybrid_color_vi
-0001a2c0: 7375 616c 697a 655f 6669 6c65 290a 2020  sualize_file).  
-0001a2d0: 2020 2020 2020 7365 6c66 2e6d 645f 676d        self.md_gm
-0001a2e0: 7368 5f76 6973 7561 6c69 7361 7469 6f6e  sh_visualisation
-0001a2f0: 5f51 4c61 6265 6c2e 7365 7450 6978 6d61  _QLabel.setPixma
-0001a300: 7028 7069 786d 6170 290a 2020 2020 2020  p(pixmap).      
-0001a310: 2020 7365 6c66 2e6d 645f 676d 7368 5f76    self.md_gmsh_v
-0001a320: 6973 7561 6c69 7361 7469 6f6e 5f51 4c61  isualisation_QLa
-0001a330: 6265 6c2e 7365 744d 6173 6b28 7069 786d  bel.setMask(pixm
-0001a340: 6170 2e6d 6173 6b28 2929 0a20 2020 2020  ap.mask()).     
-0001a350: 2020 2073 656c 662e 6d64 5f67 6d73 685f     self.md_gmsh_
-0001a360: 7669 7375 616c 6973 6174 696f 6e5f 514c  visualisation_QL
-0001a370: 6162 656c 2e73 686f 7728 290a 0a20 2020  abel.show()..   
-0001a380: 2064 6566 206d 645f 7365 745f 636f 7265   def md_set_core
-0001a390: 5f67 656f 6d65 7472 795f 6672 6f6d 5f64  _geometry_from_d
-0001a3a0: 6174 6162 6173 6528 7365 6c66 293a 0a20  atabase(self):. 
-0001a3b0: 2020 2020 2020 2022 2222 5365 7420 6120         """Set a 
-0001a3c0: 636f 7265 2067 656f 6d65 7472 7920 666f  core geometry fo
-0001a3d0: 7220 7468 6520 6d61 7465 7269 616c 2064  r the material d
-0001a3e0: 6174 6162 6173 652e 2222 220a 2020 2020  atabase.""".    
-0001a3f0: 2020 2020 636f 7265 5f64 6963 7420 3d20      core_dict = 
-0001a400: 666d 742e 636f 7265 5f64 6174 6162 6173  fmt.core_databas
-0001a410: 6528 290a 2020 2020 2020 2020 636f 7265  e().        core
-0001a420: 5f74 7970 6520 3d20 7365 6c66 2e6d 645f  _type = self.md_
-0001a430: 636f 7265 5f67 656f 6d65 7472 795f 636f  core_geometry_co
-0001a440: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-0001a450: 7874 2829 0a0a 2020 2020 2020 2020 6966  xt()..        if
-0001a460: 2063 6f72 655f 7479 7065 2021 3d20 274d   core_type != 'M
-0001a470: 616e 7561 6c27 3a0a 2020 2020 2020 2020  anual':.        
-0001a480: 2020 2020 636f 7265 203d 2063 6f72 655f      core = core_
-0001a490: 6469 6374 5b63 6f72 655f 7479 7065 5d0a  dict[core_type].
-0001a4a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001a4b0: 662e 6d64 5f63 6f72 655f 7769 6474 685f  f.md_core_width_
-0001a4c0: 6c69 6e65 4564 6974 2e73 6574 5465 7874  lineEdit.setText
-0001a4d0: 2873 7472 2863 6f72 655b 2263 6f72 655f  (str(core["core_
-0001a4e0: 696e 6e65 725f 6469 616d 6574 6572 225d  inner_diameter"]
-0001a4f0: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
-0001a500: 656c 662e 6d64 5f77 696e 646f 775f 6865  elf.md_window_he
-0001a510: 6967 6874 5f6c 696e 6545 6469 742e 7365  ight_lineEdit.se
-0001a520: 7454 6578 7428 7374 7228 636f 7265 5b22  tText(str(core["
-0001a530: 7769 6e64 6f77 5f68 225d 2929 0a20 2020  window_h"])).   
-0001a540: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001a550: 5f77 696e 646f 775f 7769 6474 685f 6c69  _window_width_li
-0001a560: 6e65 4564 6974 2e73 6574 5465 7874 2873  neEdit.setText(s
-0001a570: 7472 2863 6f72 655b 2277 696e 646f 775f  tr(core["window_
-0001a580: 7722 5d29 290a 2020 2020 2020 2020 2020  w"])).          
-0001a590: 2020 7365 6c66 2e6d 645f 636f 7265 5f77    self.md_core_w
-0001a5a0: 6964 7468 5f6c 696e 6545 6469 742e 7365  idth_lineEdit.se
-0001a5b0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
-0001a5c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001a5d0: 2e6d 645f 7769 6e64 6f77 5f68 6569 6768  .md_window_heigh
-0001a5e0: 745f 6c69 6e65 4564 6974 2e73 6574 456e  t_lineEdit.setEn
-0001a5f0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001a600: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001a610: 5f77 696e 646f 775f 7769 6474 685f 6c69  _window_width_li
-0001a620: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001a630: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-0001a640: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001a650: 2020 2073 656c 662e 6d64 5f63 6f72 655f     self.md_core_
-0001a660: 7769 6474 685f 6c69 6e65 4564 6974 2e73  width_lineEdit.s
-0001a670: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
-0001a680: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001a690: 2e6d 645f 7769 6e64 6f77 5f68 6569 6768  .md_window_heigh
-0001a6a0: 745f 6c69 6e65 4564 6974 2e73 6574 456e  t_lineEdit.setEn
-0001a6b0: 6162 6c65 6428 5472 7565 290a 2020 2020  abled(True).    
-0001a6c0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001a6d0: 7769 6e64 6f77 5f77 6964 7468 5f6c 696e  window_width_lin
-0001a6e0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001a6f0: 2854 7275 6529 0a0a 2020 2020 6465 6620  (True)..    def 
-0001a700: 6d64 5f77 696e 6469 6e67 315f 7365 745f  md_winding1_set_
-0001a710: 6c69 747a 5f70 6172 616d 6574 6572 735f  litz_parameters_
-0001a720: 6672 6f6d 5f6c 6974 7a5f 6461 7461 6261  from_litz_databa
-0001a730: 7365 2873 656c 6629 3a0a 2020 2020 2020  se(self):.      
-0001a740: 2020 2222 2253 6574 206c 6974 7a20 7061    """Set litz pa
-0001a750: 7261 6d65 7465 7273 2066 726f 6d20 6d61  rameters from ma
-0001a760: 7465 7269 616c 2064 6174 6162 6173 6520  terial database 
-0001a770: 666f 7220 7769 6e64 696e 6720 3120 696e  for winding 1 in
-0001a780: 206d 616e 7561 6c20 6465 7369 676e 2e22   manual design."
-0001a790: 2222 0a20 2020 2020 2020 206c 6974 7a5f  "".        litz_
-0001a7a0: 6469 6374 203d 2066 6d74 2e6c 6974 7a5f  dict = fmt.litz_
-0001a7b0: 6461 7461 6261 7365 2829 0a20 2020 2020  database().     
-0001a7c0: 2020 206c 6974 7a5f 7479 7065 203d 2073     litz_type = s
-0001a7d0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001a7e0: 6c69 747a 5f6d 6174 6572 6961 6c5f 636f  litz_material_co
-0001a7f0: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-0001a800: 7874 2829 0a0a 2020 2020 2020 2020 6966  xt()..        if
-0001a810: 206c 6974 7a5f 7479 7065 2021 3d20 274d   litz_type != 'M
-0001a820: 616e 7561 6c27 3a0a 2020 2020 2020 2020  anual':.        
-0001a830: 2020 2020 6c69 747a 203d 206c 6974 7a5f      litz = litz_
-0001a840: 6469 6374 5b6c 6974 7a5f 7479 7065 5d0a  dict[litz_type].
-0001a850: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001a860: 662e 6d64 5f77 696e 6469 6e67 315f 7374  f.md_winding1_st
-0001a870: 7261 6e64 735f 6c69 6e65 4564 6974 2e73  rands_lineEdit.s
-0001a880: 6574 5465 7874 2873 7472 286c 6974 7a5b  etText(str(litz[
-0001a890: 2273 7472 616e 6473 5f6e 756d 6265 7273  "strands_numbers
-0001a8a0: 225d 2929 0a20 2020 2020 2020 2020 2020  "])).           
-0001a8b0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001a8c0: 315f 7374 7261 6e64 5f72 6164 6975 735f  1_strand_radius_
-0001a8d0: 6c69 6e65 4564 6974 2e73 6574 5465 7874  lineEdit.setText
-0001a8e0: 2873 7472 286c 6974 7a5b 2273 7472 616e  (str(litz["stran
-0001a8f0: 645f 7261 6469 6922 5d29 290a 2020 2020  d_radii"])).    
-0001a900: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001a910: 7769 6e64 696e 6731 5f72 6164 6975 735f  winding1_radius_
-0001a920: 6c69 6e65 4564 6974 2e73 6574 5465 7874  lineEdit.setText
-0001a930: 2873 7472 286c 6974 7a5b 2263 6f6e 6475  (str(litz["condu
-0001a940: 6374 6f72 5f72 6164 6969 225d 2929 0a20  ctor_radii"])). 
-0001a950: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001a960: 6d64 5f77 696e 6469 6e67 315f 6669 6c6c  md_winding1_fill
-0001a970: 5f66 6163 746f 725f 6c69 6e65 4564 6974  _factor_lineEdit
-0001a980: 2e73 6574 5465 7874 2873 7472 286c 6974  .setText(str(lit
-0001a990: 7a5b 2266 6622 5d29 290a 0a20 2020 2020  z["ff"]))..     
-0001a9a0: 2020 2020 2020 2023 2066 6f72 206b 6579         # for key
-0001a9b0: 2c20 7661 6c75 6520 696e 2065 6e75 6d65  , value in enume
-0001a9c0: 7261 7465 285b 2269 6d70 6c69 6369 745f  rate(["implicit_
-0001a9d0: 6c69 747a 5f72 6164 6975 7322 2c20 2269  litz_radius", "i
-0001a9e0: 6d70 6c69 6369 745f 6666 222c 2027 696d  mplicit_ff", 'im
-0001a9f0: 706c 6963 6974 5f73 7472 616e 6473 5f6e  plicit_strands_n
-0001aa00: 756d 6265 7227 5d29 3a0a 2020 2020 2020  umber']):.      
-0001aa10: 2020 2020 2020 2320 2020 2020 6966 2076        #     if v
-0001aa20: 616c 7565 203d 3d20 6c69 747a 5b22 696d  alue == litz["im
-0001aa30: 706c 6963 6974 225d 3a0a 2020 2020 2020  plicit"]:.      
-0001aa40: 2020 2020 2020 2320 2020 2020 2020 2020        #         
-0001aa50: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-0001aa60: 5f69 6d70 6c69 6369 745f 6c69 747a 5f63  _implicit_litz_c
-0001aa70: 6f6d 626f 426f 782e 7365 7443 7572 7265  omboBox.setCurre
-0001aa80: 6e74 496e 6465 7828 6b65 7929 0a0a 2020  ntIndex(key)..  
-0001aa90: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001aaa0: 645f 7769 6e64 696e 6731 5f72 6164 6975  d_winding1_radiu
-0001aab0: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
-0001aac0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001aad0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001aae0: 5f77 696e 6469 6e67 315f 696d 706c 6963  _winding1_implic
-0001aaf0: 6974 5f6c 6974 7a5f 636f 6d62 6f42 6f78  it_litz_comboBox
-0001ab00: 2e73 6574 456e 6162 6c65 6428 4661 6c73  .setEnabled(Fals
-0001ab10: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0001ab20: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001ab30: 7374 7261 6e64 735f 6c69 6e65 4564 6974  strands_lineEdit
-0001ab40: 2e73 6574 456e 6162 6c65 6428 4661 6c73  .setEnabled(Fals
-0001ab50: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0001ab60: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001ab70: 6669 6c6c 5f66 6163 746f 725f 6c69 6e65  fill_factor_line
-0001ab80: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001ab90: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-0001aba0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001abb0: 6e67 315f 7374 7261 6e64 5f72 6164 6975  ng1_strand_radiu
-0001abc0: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
-0001abd0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001abe0: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001abf0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-0001ac00: 696e 6469 6e67 315f 6368 616e 6765 5f6c  inding1_change_l
-0001ac10: 6974 7a5f 696d 706c 6963 6974 2873 656c  itz_implicit(sel
-0001ac20: 662e 6d64 5f77 696e 6469 6e67 315f 696d  f.md_winding1_im
-0001ac30: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
-0001ac40: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-0001ac50: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-0001ac60: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-0001ac70: 5f69 6d70 6c69 6369 745f 6c69 747a 5f63  _implicit_litz_c
-0001ac80: 6f6d 626f 426f 782e 7365 7445 6e61 626c  omboBox.setEnabl
-0001ac90: 6564 2854 7275 6529 0a0a 2020 2020 6465  ed(True)..    de
-0001aca0: 6620 6d64 5f77 696e 6469 6e67 315f 6368  f md_winding1_ch
-0001acb0: 616e 6765 5f6c 6974 7a5f 696d 706c 6963  ange_litz_implic
-0001acc0: 6974 2873 656c 662c 2069 6d70 6c69 6369  it(self, implici
-0001acd0: 745f 7479 7065 5f66 726f 6d5f 636f 6d62  t_type_from_comb
-0001ace0: 6f5f 626f 783a 2073 7472 2920 2d3e 204e  o_box: str) -> N
-0001acf0: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
-0001ad00: 0a20 2020 2020 2020 2045 6e61 626c 6520  .        Enable 
-0001ad10: 2f20 4469 7361 626c 6520 696e 7075 7420  / Disable input 
-0001ad20: 7061 7261 6d65 7465 7220 6669 656c 6473  parameter fields
-0001ad30: 2066 6f72 2064 6966 6665 7265 6e74 2022   for different "
-0001ad40: 696d 706c 6963 6974 2078 797a 2220 7479  implicit xyz" ty
-0001ad50: 7065 7320 696e 2063 6173 6520 6f66 206c  pes in case of l
-0001ad60: 6974 7a20 7769 7265 2e0a 0a20 2020 2020  itz wire...     
-0001ad70: 2020 203a 7061 7261 6d20 696d 706c 6963     :param implic
-0001ad80: 6974 5f74 7970 655f 6672 6f6d 5f63 6f6d  it_type_from_com
-0001ad90: 626f 5f62 6f78 3a20 696e 7075 7420 7479  bo_box: input ty
-0001ada0: 7065 2074 6f20 696d 706c 6963 6974 0a20  pe to implicit. 
-0001adb0: 2020 2020 2020 203a 7479 7065 2069 6d70         :type imp
-0001adc0: 6c69 6369 745f 7479 7065 5f66 726f 6d5f  licit_type_from_
-0001add0: 636f 6d62 6f5f 626f 783a 2073 7472 0a20  combo_box: str. 
-0001ade0: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
-0001adf0: 4e6f 6e65 0a20 2020 2020 2020 203a 7274  None.        :rt
-0001ae00: 7970 653a 204e 6f6e 650a 2020 2020 2020  ype: None.      
-0001ae10: 2020 2222 220a 2020 2020 2020 2020 6966    """.        if
-0001ae20: 2069 6d70 6c69 6369 745f 7479 7065 5f66   implicit_type_f
-0001ae30: 726f 6d5f 636f 6d62 6f5f 626f 7820 3d3d  rom_combo_box ==
-0001ae40: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
-0001ae50: 6e5f 6469 6374 5b27 696d 706c 6963 6974  n_dict['implicit
-0001ae60: 5f6c 6974 7a5f 7261 6469 7573 275d 3a0a  _litz_radius']:.
-0001ae70: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001ae80: 2e6d 645f 7769 6e64 696e 6731 5f73 7472  .md_winding1_str
-0001ae90: 616e 6473 5f6c 696e 6545 6469 742e 7365  ands_lineEdit.se
-0001aea0: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
-0001aeb0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001aec0: 6d64 5f77 696e 6469 6e67 315f 6669 6c6c  md_winding1_fill
-0001aed0: 5f66 6163 746f 725f 6c69 6e65 4564 6974  _factor_lineEdit
-0001aee0: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
-0001aef0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001af00: 6c66 2e6d 645f 7769 6e64 696e 6731 5f73  lf.md_winding1_s
-0001af10: 7472 616e 645f 7261 6469 7573 5f6c 696e  trand_radius_lin
-0001af20: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001af30: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
-0001af40: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001af50: 6e67 315f 7261 6469 7573 5f6c 696e 6545  ng1_radius_lineE
-0001af60: 6469 742e 7365 7445 6e61 626c 6564 2846  dit.setEnabled(F
-0001af70: 616c 7365 290a 2020 2020 2020 2020 6966  alse).        if
-0001af80: 2069 6d70 6c69 6369 745f 7479 7065 5f66   implicit_type_f
-0001af90: 726f 6d5f 636f 6d62 6f5f 626f 7820 3d3d  rom_combo_box ==
-0001afa0: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
-0001afb0: 6e5f 6469 6374 5b27 696d 706c 6963 6974  n_dict['implicit
-0001afc0: 5f73 7472 616e 6473 5f6e 756d 6265 7227  _strands_number'
-0001afd0: 5d3a 0a20 2020 2020 2020 2020 2020 2073  ]:.            s
-0001afe0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001aff0: 7374 7261 6e64 735f 6c69 6e65 4564 6974  strands_lineEdit
-0001b000: 2e73 6574 456e 6162 6c65 6428 4661 6c73  .setEnabled(Fals
-0001b010: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0001b020: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001b030: 6669 6c6c 5f66 6163 746f 725f 6c69 6e65  fill_factor_line
-0001b040: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001b050: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-0001b060: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-0001b070: 6731 5f73 7472 616e 645f 7261 6469 7573  g1_strand_radius
-0001b080: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001b090: 626c 6564 2854 7275 6529 0a20 2020 2020  bled(True).     
-0001b0a0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-0001b0b0: 696e 6469 6e67 315f 7261 6469 7573 5f6c  inding1_radius_l
-0001b0c0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
-0001b0d0: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
-0001b0e0: 2069 6620 696d 706c 6963 6974 5f74 7970   if implicit_typ
-0001b0f0: 655f 6672 6f6d 5f63 6f6d 626f 5f62 6f78  e_from_combo_box
-0001b100: 203d 3d20 7365 6c66 2e74 7261 6e73 6c61   == self.transla
-0001b110: 7469 6f6e 5f64 6963 745b 2769 6d70 6c69  tion_dict['impli
-0001b120: 6369 745f 6666 275d 3a0a 2020 2020 2020  cit_ff']:.      
-0001b130: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-0001b140: 6e64 696e 6731 5f73 7472 616e 6473 5f6c  nding1_strands_l
-0001b150: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
-0001b160: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
-0001b170: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001b180: 6469 6e67 315f 6669 6c6c 5f66 6163 746f  ding1_fill_facto
-0001b190: 725f 6c69 6e65 4564 6974 2e73 6574 456e  r_lineEdit.setEn
-0001b1a0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001b1b0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001b1c0: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
-0001b1d0: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
-0001b1e0: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
-0001b1f0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001b200: 6c66 2e6d 645f 7769 6e64 696e 6731 5f72  lf.md_winding1_r
-0001b210: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
-0001b220: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
-0001b230: 0a20 2020 2064 6566 206d 645f 7769 6e64  .    def md_wind
-0001b240: 696e 6731 5f63 6861 6e67 655f 7769 7265  ing1_change_wire
-0001b250: 5f74 7970 6528 7365 6c66 2c20 7769 7265  _type(self, wire
-0001b260: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
-0001b270: 745f 626f 783a 2073 7472 2920 2d3e 204e  t_box: str) -> N
-0001b280: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
-0001b290: 0a20 2020 2020 2020 2045 6e61 626c 6520  .        Enable 
-0001b2a0: 2f20 4469 7361 626c 6520 696e 7075 7420  / Disable input 
-0001b2b0: 7061 7261 6d65 7465 7220 666f 7220 6c69  parameter for li
-0001b2c0: 747a 2f73 6f6c 6964 2077 6972 652e 0a0a  tz/solid wire...
-0001b2d0: 2020 2020 2020 2020 3a70 6172 616d 2077          :param w
-0001b2e0: 6972 655f 7479 7065 5f66 726f 6d5f 636f  ire_type_from_co
-0001b2f0: 6d62 6f74 5f62 6f78 3a20 7769 7265 2074  mbot_box: wire t
-0001b300: 7970 650a 2020 2020 2020 2020 3a74 7970  ype.        :typ
-0001b310: 6520 7769 7265 5f74 7970 655f 6672 6f6d  e wire_type_from
-0001b320: 5f63 6f6d 626f 745f 626f 783a 2073 7472  _combot_box: str
-0001b330: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-0001b340: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
-0001b350: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
-0001b360: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001b370: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-0001b380: 5f63 6861 6e67 655f 6c69 747a 5f69 6d70  _change_litz_imp
-0001b390: 6c69 6369 7428 7365 6c66 2e6d 645f 7769  licit(self.md_wi
-0001b3a0: 6e64 696e 6731 5f69 6d70 6c69 6369 745f  nding1_implicit_
-0001b3b0: 6c69 747a 5f63 6f6d 626f 426f 782e 6375  litz_comboBox.cu
-0001b3c0: 7272 656e 7454 6578 7428 2929 0a20 2020  rrentText()).   
-0001b3d0: 2020 2020 2069 6620 7769 7265 5f74 7970       if wire_typ
-0001b3e0: 655f 6672 6f6d 5f63 6f6d 626f 745f 626f  e_from_combot_bo
-0001b3f0: 7820 3d3d 2073 656c 662e 7472 616e 736c  x == self.transl
-0001b400: 6174 696f 6e5f 6469 6374 5b27 6c69 747a  ation_dict['litz
-0001b410: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
-0001b420: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-0001b430: 5f73 7472 616e 6473 5f6c 696e 6545 6469  _strands_lineEdi
-0001b440: 742e 7365 7445 6e61 626c 6564 2854 7275  t.setEnabled(Tru
-0001b450: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0001b460: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001b470: 696d 706c 6963 6974 5f6c 6974 7a5f 636f  implicit_litz_co
-0001b480: 6d62 6f42 6f78 2e73 6574 456e 6162 6c65  mboBox.setEnable
-0001b490: 6428 5472 7565 290a 2020 2020 2020 2020  d(True).        
-0001b4a0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001b4b0: 696e 6731 5f66 696c 6c5f 6661 6374 6f72  ing1_fill_factor
-0001b4c0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001b4d0: 626c 6564 2854 7275 6529 0a20 2020 2020  bled(True).     
-0001b4e0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-0001b4f0: 696e 6469 6e67 315f 7374 7261 6e64 5f72  inding1_strand_r
-0001b500: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
-0001b510: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
-0001b520: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001b530: 2e6d 645f 7769 6e64 696e 6731 5f72 6164  .md_winding1_rad
-0001b540: 6975 735f 6c69 6e65 4564 6974 2e73 6574  ius_lineEdit.set
-0001b550: 456e 6162 6c65 6428 5472 7565 290a 2020  Enabled(True).  
-0001b560: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001b570: 645f 7769 6e64 696e 6731 5f6c 6974 7a5f  d_winding1_litz_
-0001b580: 6d61 7465 7269 616c 5f63 6f6d 626f 426f  material_comboBo
-0001b590: 782e 7365 7445 6e61 626c 6564 2854 7275  x.setEnabled(Tru
-0001b5a0: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0001b5b0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-0001b5c0: 6368 616e 6765 5f6c 6974 7a5f 696d 706c  change_litz_impl
-0001b5d0: 6963 6974 2873 656c 662e 6d64 5f77 696e  icit(self.md_win
-0001b5e0: 6469 6e67 315f 696d 706c 6963 6974 5f6c  ding1_implicit_l
-0001b5f0: 6974 7a5f 636f 6d62 6f42 6f78 2e63 7572  itz_comboBox.cur
-0001b600: 7265 6e74 5465 7874 2829 290a 0a20 2020  rentText())..   
-0001b610: 2020 2020 2065 6c69 6620 7769 7265 5f74       elif wire_t
-0001b620: 7970 655f 6672 6f6d 5f63 6f6d 626f 745f  ype_from_combot_
-0001b630: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
-0001b640: 736c 6174 696f 6e5f 6469 6374 5b27 736f  slation_dict['so
-0001b650: 6c69 6427 5d3a 0a20 2020 2020 2020 2020  lid']:.         
-0001b660: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001b670: 6e67 315f 7374 7261 6e64 735f 6c69 6e65  ng1_strands_line
-0001b680: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001b690: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-0001b6a0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001b6b0: 6e67 315f 696d 706c 6963 6974 5f6c 6974  ng1_implicit_lit
-0001b6c0: 7a5f 636f 6d62 6f42 6f78 2e73 6574 456e  z_comboBox.setEn
-0001b6d0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001b6e0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001b6f0: 5f77 696e 6469 6e67 315f 6669 6c6c 5f66  _winding1_fill_f
-0001b700: 6163 746f 725f 6c69 6e65 4564 6974 2e73  actor_lineEdit.s
-0001b710: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-0001b720: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001b730: 662e 6d64 5f77 696e 6469 6e67 315f 7374  f.md_winding1_st
-0001b740: 7261 6e64 5f72 6164 6975 735f 6c69 6e65  rand_radius_line
-0001b750: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001b760: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-0001b770: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001b780: 6e67 315f 7261 6469 7573 5f6c 696e 6545  ng1_radius_lineE
-0001b790: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
-0001b7a0: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-0001b7b0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001b7c0: 315f 6c69 747a 5f6d 6174 6572 6961 6c5f  1_litz_material_
-0001b7d0: 636f 6d62 6f42 6f78 2e73 6574 456e 6162  comboBox.setEnab
-0001b7e0: 6c65 6428 4661 6c73 6529 0a0a 2020 2020  led(False)..    
-0001b7f0: 6465 6620 6d64 5f77 696e 6469 6e67 325f  def md_winding2_
-0001b800: 7365 745f 6c69 747a 5f70 6172 616d 6574  set_litz_paramet
-0001b810: 6572 735f 6672 6f6d 5f6c 6974 7a5f 6461  ers_from_litz_da
-0001b820: 7461 6261 7365 2873 656c 6629 3a0a 2020  tabase(self):.  
-0001b830: 2020 2020 2020 2222 2253 6574 206c 6974        """Set lit
-0001b840: 7a20 7061 7261 6d65 7465 7273 2066 726f  z parameters fro
-0001b850: 6d20 6d61 7465 7269 616c 2064 6174 6162  m material datab
-0001b860: 6173 6520 666f 7220 7769 6e64 696e 6720  ase for winding 
-0001b870: 3220 696e 206d 616e 7561 6c20 6465 7369  2 in manual desi
-0001b880: 676e 2e22 2222 0a20 2020 2020 2020 206c  gn.""".        l
-0001b890: 6974 7a5f 6469 6374 203d 2066 6d74 2e6c  itz_dict = fmt.l
-0001b8a0: 6974 7a5f 6461 7461 6261 7365 2829 0a20  itz_database(). 
-0001b8b0: 2020 2020 2020 206c 6974 7a5f 7479 7065         litz_type
-0001b8c0: 203d 2073 656c 662e 6d64 5f77 696e 6469   = self.md_windi
-0001b8d0: 6e67 325f 6c69 747a 5f6d 6174 6572 6961  ng2_litz_materia
-0001b8e0: 6c5f 636f 6d62 6f42 6f78 2e63 7572 7265  l_comboBox.curre
-0001b8f0: 6e74 5465 7874 2829 0a20 2020 2020 2020  ntText().       
-0001b900: 2069 6620 6c69 747a 5f74 7970 6520 213d   if litz_type !=
-0001b910: 2027 4d61 6e75 616c 273a 0a20 2020 2020   'Manual':.     
-0001b920: 2020 2020 2020 206c 6974 7a20 3d20 6c69         litz = li
-0001b930: 747a 5f64 6963 745b 6c69 747a 5f74 7970  tz_dict[litz_typ
-0001b940: 655d 0a0a 2020 2020 2020 2020 2020 2020  e]..            
-0001b950: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-0001b960: 5f73 7472 616e 6473 5f6c 696e 6545 6469  _strands_lineEdi
-0001b970: 742e 7365 7454 6578 7428 7374 7228 6c69  t.setText(str(li
-0001b980: 747a 5b22 7374 7261 6e64 735f 6e75 6d62  tz["strands_numb
-0001b990: 6572 7322 5d29 290a 2020 2020 2020 2020  ers"])).        
-0001b9a0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001b9b0: 696e 6732 5f73 7472 616e 645f 7261 6469  ing2_strand_radi
-0001b9c0: 7573 5f6c 696e 6545 6469 742e 7365 7454  us_lineEdit.setT
-0001b9d0: 6578 7428 7374 7228 6c69 747a 5b22 7374  ext(str(litz["st
-0001b9e0: 7261 6e64 5f72 6164 6969 225d 2929 0a20  rand_radii"])). 
-0001b9f0: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001ba00: 6d64 5f77 696e 6469 6e67 325f 7261 6469  md_winding2_radi
-0001ba10: 7573 5f6c 696e 6545 6469 742e 7365 7454  us_lineEdit.setT
-0001ba20: 6578 7428 7374 7228 6c69 747a 5b22 636f  ext(str(litz["co
-0001ba30: 6e64 7563 746f 725f 7261 6469 6922 5d29  nductor_radii"])
-0001ba40: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001ba50: 6c66 2e6d 645f 7769 6e64 696e 6732 5f66  lf.md_winding2_f
-0001ba60: 696c 6c5f 6661 6374 6f72 5f6c 696e 6545  ill_factor_lineE
-0001ba70: 6469 742e 7365 7454 6578 7428 7374 7228  dit.setText(str(
-0001ba80: 6c69 747a 5b22 6666 225d 2929 0a0a 2020  litz["ff"]))..  
-0001ba90: 2020 2020 2020 2020 2020 666f 7220 6b65            for ke
-0001baa0: 792c 2076 616c 7565 2069 6e20 656e 756d  y, value in enum
-0001bab0: 6572 6174 6528 5b22 696d 706c 6963 6974  erate(["implicit
-0001bac0: 5f6c 6974 7a5f 7261 6469 7573 222c 2022  _litz_radius", "
-0001bad0: 696d 706c 6963 6974 5f66 6622 2c20 2769  implicit_ff", 'i
-0001bae0: 6d70 6c69 6369 745f 7374 7261 6e64 735f  mplicit_strands_
-0001baf0: 6e75 6d62 6572 275d 293a 0a20 2020 2020  number']):.     
-0001bb00: 2020 2020 2020 2020 2020 2069 6620 7661             if va
-0001bb10: 6c75 6520 3d3d 206c 6974 7a5b 2269 6d70  lue == litz["imp
-0001bb20: 6c69 6369 7422 5d3a 0a20 2020 2020 2020  licit"]:.       
-0001bb30: 2020 2020 2020 2020 2020 2020 2073 656c               sel
-0001bb40: 662e 6d64 5f77 696e 6469 6e67 325f 696d  f.md_winding2_im
-0001bb50: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
-0001bb60: 6f42 6f78 2e73 6574 4375 7272 656e 7449  oBox.setCurrentI
-0001bb70: 6e64 6578 286b 6579 290a 0a20 2020 2020  ndex(key)..     
-0001bb80: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-0001bb90: 696e 6469 6e67 325f 7261 6469 7573 5f6c  inding2_radius_l
-0001bba0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
-0001bbb0: 6564 2846 616c 7365 290a 2020 2020 2020  ed(False).      
-0001bbc0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-0001bbd0: 6e64 696e 6732 5f69 6d70 6c69 6369 745f  nding2_implicit_
-0001bbe0: 6c69 747a 5f63 6f6d 626f 426f 782e 7365  litz_comboBox.se
-0001bbf0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
-0001bc00: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001bc10: 2e6d 645f 7769 6e64 696e 6732 5f73 7472  .md_winding2_str
-0001bc20: 616e 6473 5f6c 696e 6545 6469 742e 7365  ands_lineEdit.se
-0001bc30: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
-0001bc40: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001bc50: 2e6d 645f 7769 6e64 696e 6732 5f66 696c  .md_winding2_fil
-0001bc60: 6c5f 6661 6374 6f72 5f6c 696e 6545 6469  l_factor_lineEdi
-0001bc70: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
-0001bc80: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-0001bc90: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-0001bca0: 5f73 7472 616e 645f 7261 6469 7573 5f6c  _strand_radius_l
-0001bcb0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
-0001bcc0: 6564 2846 616c 7365 290a 0a20 2020 2020  ed(False)..     
-0001bcd0: 2020 2065 6c73 653a 0a20 2020 2020 2020     else:.       
-0001bce0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001bcf0: 6469 6e67 325f 6368 616e 6765 5f6c 6974  ding2_change_lit
-0001bd00: 7a5f 696d 706c 6963 6974 2873 656c 662e  z_implicit(self.
-0001bd10: 6d64 5f77 696e 6469 6e67 325f 696d 706c  md_winding2_impl
-0001bd20: 6963 6974 5f6c 6974 7a5f 636f 6d62 6f42  icit_litz_comboB
-0001bd30: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
-0001bd40: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001bd50: 6c66 2e6d 645f 7769 6e64 696e 6732 5f69  lf.md_winding2_i
-0001bd60: 6d70 6c69 6369 745f 6c69 747a 5f63 6f6d  mplicit_litz_com
-0001bd70: 626f 426f 782e 7365 7445 6e61 626c 6564  boBox.setEnabled
-0001bd80: 2854 7275 6529 0a0a 2020 2020 6465 6620  (True)..    def 
-0001bd90: 6d64 5f77 696e 6469 6e67 325f 6368 616e  md_winding2_chan
-0001bda0: 6765 5f6c 6974 7a5f 696d 706c 6963 6974  ge_litz_implicit
-0001bdb0: 2873 656c 662c 2069 6d70 6c69 6369 745f  (self, implicit_
-0001bdc0: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
-0001bdd0: 626f 783a 2073 7472 2920 2d3e 204e 6f6e  box: str) -> Non
-0001bde0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-0001bdf0: 2020 2020 2020 2045 6e61 626c 6520 2f20         Enable / 
-0001be00: 4469 7361 626c 6520 696e 7075 7420 7061  Disable input pa
-0001be10: 7261 6d65 7465 7220 6669 656c 6473 2066  rameter fields f
-0001be20: 6f72 2064 6966 6665 7265 6e74 2022 696d  or different "im
-0001be30: 706c 6963 6974 2078 797a 2220 7479 7065  plicit xyz" type
-0001be40: 7320 696e 2063 6173 6520 6f66 206c 6974  s in case of lit
-0001be50: 7a20 7769 7265 3a2e 0a0a 2020 2020 2020  z wire:...      
-0001be60: 2020 3a70 6172 616d 2069 6d70 6c69 6369    :param implici
-0001be70: 745f 7479 7065 5f66 726f 6d5f 636f 6d62  t_type_from_comb
-0001be80: 6f5f 626f 783a 2069 6e70 7574 2074 7970  o_box: input typ
-0001be90: 6520 746f 2069 6d70 6c69 6369 740a 2020  e to implicit.  
-0001bea0: 2020 2020 2020 3a74 7970 6520 696d 706c        :type impl
-0001beb0: 6963 6974 5f74 7970 655f 6672 6f6d 5f63  icit_type_from_c
-0001bec0: 6f6d 626f 5f62 6f78 3a20 7374 720a 2020  ombo_box: str.  
-0001bed0: 2020 2020 2020 3a72 6574 7572 6e3a 204e        :return: N
-0001bee0: 6f6e 650a 2020 2020 2020 2020 3a72 7479  one.        :rty
-0001bef0: 7065 3a20 4e6f 6e65 0a20 2020 2020 2020  pe: None.       
-0001bf00: 2022 2222 0a20 2020 2020 2020 2069 6620   """.        if 
-0001bf10: 696d 706c 6963 6974 5f74 7970 655f 6672  implicit_type_fr
-0001bf20: 6f6d 5f63 6f6d 626f 5f62 6f78 203d 3d20  om_combo_box == 
-0001bf30: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
-0001bf40: 5f64 6963 745b 2769 6d70 6c69 6369 745f  _dict['implicit_
-0001bf50: 6c69 747a 5f72 6164 6975 7327 5d3a 0a20  litz_radius']:. 
-0001bf60: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001bf70: 6d64 5f77 696e 6469 6e67 325f 7374 7261  md_winding2_stra
-0001bf80: 6e64 735f 6c69 6e65 4564 6974 2e73 6574  nds_lineEdit.set
-0001bf90: 456e 6162 6c65 6428 5472 7565 290a 2020  Enabled(True).  
-0001bfa0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001bfb0: 645f 7769 6e64 696e 6732 5f66 696c 6c5f  d_winding2_fill_
-0001bfc0: 6661 6374 6f72 5f6c 696e 6545 6469 742e  factor_lineEdit.
-0001bfd0: 7365 7445 6e61 626c 6564 2854 7275 6529  setEnabled(True)
-0001bfe0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001bff0: 662e 6d64 5f77 696e 6469 6e67 325f 7374  f.md_winding2_st
-0001c000: 7261 6e64 5f72 6164 6975 735f 6c69 6e65  rand_radius_line
-0001c010: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001c020: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
-0001c030: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
-0001c040: 6732 5f72 6164 6975 735f 6c69 6e65 4564  g2_radius_lineEd
-0001c050: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
-0001c060: 6c73 6529 0a20 2020 2020 2020 2069 6620  lse).        if 
-0001c070: 696d 706c 6963 6974 5f74 7970 655f 6672  implicit_type_fr
-0001c080: 6f6d 5f63 6f6d 626f 5f62 6f78 203d 3d20  om_combo_box == 
-0001c090: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
-0001c0a0: 5f64 6963 745b 2769 6d70 6c69 6369 745f  _dict['implicit_
-0001c0b0: 7374 7261 6e64 735f 6e75 6d62 6572 275d  strands_number']
-0001c0c0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
-0001c0d0: 6c66 2e6d 645f 7769 6e64 696e 6732 5f73  lf.md_winding2_s
-0001c0e0: 7472 616e 6473 5f6c 696e 6545 6469 742e  trands_lineEdit.
-0001c0f0: 7365 7445 6e61 626c 6564 2846 616c 7365  setEnabled(False
-0001c100: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001c110: 6c66 2e6d 645f 7769 6e64 696e 6732 5f66  lf.md_winding2_f
-0001c120: 696c 6c5f 6661 6374 6f72 5f6c 696e 6545  ill_factor_lineE
-0001c130: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
-0001c140: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-0001c150: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001c160: 325f 7374 7261 6e64 5f72 6164 6975 735f  2_strand_radius_
-0001c170: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
-0001c180: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
-0001c190: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-0001c1a0: 6e64 696e 6732 5f72 6164 6975 735f 6c69  nding2_radius_li
-0001c1b0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001c1c0: 6428 5472 7565 290a 2020 2020 2020 2020  d(True).        
-0001c1d0: 6966 2069 6d70 6c69 6369 745f 7479 7065  if implicit_type
-0001c1e0: 5f66 726f 6d5f 636f 6d62 6f5f 626f 7820  _from_combo_box 
-0001c1f0: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
-0001c200: 696f 6e5f 6469 6374 5b27 696d 706c 6963  ion_dict['implic
-0001c210: 6974 5f66 6627 5d3a 0a20 2020 2020 2020  it_ff']:.       
-0001c220: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001c230: 6469 6e67 325f 7374 7261 6e64 735f 6c69  ding2_strands_li
-0001c240: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001c250: 6428 5472 7565 290a 2020 2020 2020 2020  d(True).        
-0001c260: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001c270: 696e 6732 5f66 696c 6c5f 6661 6374 6f72  ing2_fill_factor
-0001c280: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001c290: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
-0001c2a0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001c2b0: 7769 6e64 696e 6732 5f73 7472 616e 645f  winding2_strand_
-0001c2c0: 7261 6469 7573 5f6c 696e 6545 6469 742e  radius_lineEdit.
-0001c2d0: 7365 7445 6e61 626c 6564 2854 7275 6529  setEnabled(True)
-0001c2e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001c2f0: 662e 6d64 5f77 696e 6469 6e67 325f 7261  f.md_winding2_ra
-0001c300: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
-0001c310: 7445 6e61 626c 6564 2854 7275 6529 0a0a  tEnabled(True)..
-0001c320: 2020 2020 6465 6620 6d64 5f77 696e 6469      def md_windi
-0001c330: 6e67 325f 6368 616e 6765 5f77 6972 655f  ng2_change_wire_
-0001c340: 7479 7065 2873 656c 662c 2077 6972 655f  type(self, wire_
-0001c350: 7479 7065 5f66 726f 6d5f 636f 6d62 6f74  type_from_combot
-0001c360: 5f62 6f78 3a20 7374 7229 202d 3e20 4e6f  _box: str) -> No
-0001c370: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
-0001c380: 2020 2020 2020 2020 456e 6162 6c65 202f          Enable /
-0001c390: 2044 6973 6162 6c65 2069 6e70 7574 2070   Disable input p
-0001c3a0: 6172 616d 6574 6572 2066 6f72 206c 6974  arameter for lit
-0001c3b0: 7a2f 736f 6c69 6420 7769 7265 2e0a 0a20  z/solid wire... 
-0001c3c0: 2020 2020 2020 203a 7061 7261 6d20 7769         :param wi
-0001c3d0: 7265 5f74 7970 655f 6672 6f6d 5f63 6f6d  re_type_from_com
-0001c3e0: 626f 745f 626f 783a 2077 6972 6520 7479  bot_box: wire ty
-0001c3f0: 7065 0a20 2020 2020 2020 203a 7479 7065  pe.        :type
-0001c400: 2077 6972 655f 7479 7065 5f66 726f 6d5f   wire_type_from_
-0001c410: 636f 6d62 6f74 5f62 6f78 3a20 7374 720a  combot_box: str.
-0001c420: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0001c430: 204e 6f6e 650a 2020 2020 2020 2020 3a72   None.        :r
-0001c440: 7479 7065 3a20 4e6f 6e65 0a20 2020 2020  type: None.     
-0001c450: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-0001c460: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-0001c470: 6368 616e 6765 5f6c 6974 7a5f 696d 706c  change_litz_impl
-0001c480: 6963 6974 2873 656c 662e 6d64 5f77 696e  icit(self.md_win
-0001c490: 6469 6e67 325f 696d 706c 6963 6974 5f6c  ding2_implicit_l
-0001c4a0: 6974 7a5f 636f 6d62 6f42 6f78 2e63 7572  itz_comboBox.cur
-0001c4b0: 7265 6e74 5465 7874 2829 290a 2020 2020  rentText()).    
-0001c4c0: 2020 2020 6966 2077 6972 655f 7479 7065      if wire_type
-0001c4d0: 5f66 726f 6d5f 636f 6d62 6f74 5f62 6f78  _from_combot_box
-0001c4e0: 203d 3d20 7365 6c66 2e74 7261 6e73 6c61   == self.transla
-0001c4f0: 7469 6f6e 5f64 6963 745b 276c 6974 7a27  tion_dict['litz'
-0001c500: 5d3a 0a20 2020 2020 2020 2020 2020 2073  ]:.            s
-0001c510: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-0001c520: 7374 7261 6e64 735f 6c69 6e65 4564 6974  strands_lineEdit
-0001c530: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
-0001c540: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
-0001c550: 6c66 2e6d 645f 7769 6e64 696e 6732 5f69  lf.md_winding2_i
-0001c560: 6d70 6c69 6369 745f 6c69 747a 5f63 6f6d  mplicit_litz_com
-0001c570: 626f 426f 782e 7365 7445 6e61 626c 6564  boBox.setEnabled
-0001c580: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
-0001c590: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001c5a0: 6e67 325f 6669 6c6c 5f66 6163 746f 725f  ng2_fill_factor_
-0001c5b0: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
-0001c5c0: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
-0001c5d0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
-0001c5e0: 6e64 696e 6732 5f73 7472 616e 645f 7261  nding2_strand_ra
-0001c5f0: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
-0001c600: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
-0001c610: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001c620: 6d64 5f77 696e 6469 6e67 325f 7261 6469  md_winding2_radi
-0001c630: 7573 5f6c 696e 6545 6469 742e 7365 7445  us_lineEdit.setE
-0001c640: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
-0001c650: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001c660: 645f 7769 6e64 696e 6732 5f6c 6974 7a5f  d_winding2_litz_
-0001c670: 6d61 7465 7269 616c 5f63 6f6d 626f 426f  material_comboBo
-0001c680: 782e 7365 7445 6e61 626c 6564 2854 7275  x.setEnabled(Tru
-0001c690: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
-0001c6a0: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-0001c6b0: 6368 616e 6765 5f6c 6974 7a5f 696d 706c  change_litz_impl
-0001c6c0: 6963 6974 2873 656c 662e 6d64 5f77 696e  icit(self.md_win
-0001c6d0: 6469 6e67 325f 696d 706c 6963 6974 5f6c  ding2_implicit_l
-0001c6e0: 6974 7a5f 636f 6d62 6f42 6f78 2e63 7572  itz_comboBox.cur
-0001c6f0: 7265 6e74 5465 7874 2829 290a 0a20 2020  rentText())..   
-0001c700: 2020 2020 2065 6c69 6620 7769 7265 5f74       elif wire_t
-0001c710: 7970 655f 6672 6f6d 5f63 6f6d 626f 745f  ype_from_combot_
-0001c720: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
-0001c730: 736c 6174 696f 6e5f 6469 6374 5b27 736f  slation_dict['so
-0001c740: 6c69 6427 5d3a 0a20 2020 2020 2020 2020  lid']:.         
-0001c750: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001c760: 6e67 325f 7374 7261 6e64 735f 6c69 6e65  ng2_strands_line
-0001c770: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001c780: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-0001c790: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001c7a0: 6e67 325f 696d 706c 6963 6974 5f6c 6974  ng2_implicit_lit
-0001c7b0: 7a5f 636f 6d62 6f42 6f78 2e73 6574 456e  z_comboBox.setEn
-0001c7c0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001c7d0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001c7e0: 5f77 696e 6469 6e67 325f 6669 6c6c 5f66  _winding2_fill_f
-0001c7f0: 6163 746f 725f 6c69 6e65 4564 6974 2e73  actor_lineEdit.s
-0001c800: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-0001c810: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001c820: 662e 6d64 5f77 696e 6469 6e67 325f 7374  f.md_winding2_st
-0001c830: 7261 6e64 5f72 6164 6975 735f 6c69 6e65  rand_radius_line
-0001c840: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001c850: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
-0001c860: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001c870: 6e67 325f 7261 6469 7573 5f6c 696e 6545  ng2_radius_lineE
-0001c880: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
-0001c890: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
-0001c8a0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001c8b0: 325f 6c69 747a 5f6d 6174 6572 6961 6c5f  2_litz_material_
-0001c8c0: 636f 6d62 6f42 6f78 2e73 6574 456e 6162  comboBox.setEnab
-0001c8d0: 6c65 6428 4661 6c73 6529 0a0a 2020 2020  led(False)..    
-0001c8e0: 6465 6620 6d64 5f63 6861 6e67 655f 6169  def md_change_ai
-0001c8f0: 725f 6761 705f 636f 756e 7428 7365 6c66  r_gap_count(self
-0001c900: 2c20 6169 725f 6761 705f 636f 756e 745f  , air_gap_count_
-0001c910: 6672 6f6d 5f63 6f6d 626f 5f62 6f78 3a20  from_combo_box: 
-0001c920: 7374 7229 202d 3e20 4e6f 6e65 3a0a 2020  str) -> None:.  
-0001c930: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001c940: 2020 5365 7420 7468 6520 6e75 6d62 6572    Set the number
-0001c950: 206f 6620 6564 6974 6162 6c65 2061 6972   of editable air
-0001c960: 2067 6170 2066 6965 6c64 7320 696e 2064   gap fields in d
-0001c970: 6570 656e 6465 6e63 6520 6f66 2074 6865  ependence of the
-0001c980: 2061 6972 2067 6170 2063 6f75 6e74 2063   air gap count c
-0001c990: 6f6d 626f 626f 782e 0a0a 2020 2020 2020  ombobox...      
-0001c9a0: 2020 3a70 6172 616d 2061 6972 5f67 6170    :param air_gap
-0001c9b0: 5f63 6f75 6e74 5f66 726f 6d5f 636f 6d62  _count_from_comb
-0001c9c0: 6f5f 626f 783a 204e 756d 6265 7220 6f66  o_box: Number of
-0001c9d0: 2065 6469 7461 626c 6520 6169 7220 6761   editable air ga
-0001c9e0: 7073 0a20 2020 2020 2020 203a 7479 7065  ps.        :type
-0001c9f0: 2061 6972 5f67 6170 5f63 6f75 6e74 5f66   air_gap_count_f
-0001ca00: 726f 6d5f 636f 6d62 6f5f 626f 783a 2073  rom_combo_box: s
-0001ca10: 7472 0a20 2020 2020 2020 203a 7265 7475  tr.        :retu
-0001ca20: 726e 3a20 4e6f 6e65 0a20 2020 2020 2020  rn: None.       
-0001ca30: 203a 7274 7970 653a 204e 6f6e 650a 2020   :rtype: None.  
-0001ca40: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001ca50: 2020 7365 6c66 2e6d 645f 6169 725f 6761    self.md_air_ga
-0001ca60: 705f 706c 6163 656d 656e 745f 6d65 7468  p_placement_meth
-0001ca70: 6f64 5f63 6f6d 626f 426f 782e 7365 7445  od_comboBox.setE
-0001ca80: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
-0001ca90: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
-0001caa0: 725f 6761 705f 315f 656e 6162 6c65 2846  r_gap_1_enable(F
-0001cab0: 616c 7365 290a 2020 2020 2020 2020 7365  alse).        se
-0001cac0: 6c66 2e6d 645f 6169 725f 6761 705f 325f  lf.md_air_gap_2_
-0001cad0: 656e 6162 6c65 2846 616c 7365 290a 2020  enable(False).  
-0001cae0: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
-0001caf0: 725f 6761 705f 335f 656e 6162 6c65 2846  r_gap_3_enable(F
-0001cb00: 616c 7365 290a 2020 2020 2020 2020 7365  alse).        se
-0001cb10: 6c66 2e6d 645f 6169 725f 6761 705f 345f  lf.md_air_gap_4_
-0001cb20: 656e 6162 6c65 2846 616c 7365 290a 2020  enable(False).  
-0001cb30: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
-0001cb40: 725f 6761 705f 355f 656e 6162 6c65 2846  r_gap_5_enable(F
-0001cb50: 616c 7365 290a 2020 2020 2020 2020 6966  alse).        if
-0001cb60: 2069 6e74 2861 6972 5f67 6170 5f63 6f75   int(air_gap_cou
-0001cb70: 6e74 5f66 726f 6d5f 636f 6d62 6f5f 626f  nt_from_combo_bo
-0001cb80: 7829 203e 3d20 313a 0a20 2020 2020 2020  x) >= 1:.       
-0001cb90: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
-0001cba0: 5f67 6170 5f31 5f65 6e61 626c 6528 5472  _gap_1_enable(Tr
-0001cbb0: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
-0001cbc0: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
-0001cbd0: 706c 6163 656d 656e 745f 6d65 7468 6f64  placement_method
-0001cbe0: 5f63 6f6d 626f 426f 782e 7365 7445 6e61  _comboBox.setEna
-0001cbf0: 626c 6564 2854 7275 6529 0a20 2020 2020  bled(True).     
-0001cc00: 2020 2069 6620 696e 7428 6169 725f 6761     if int(air_ga
-0001cc10: 705f 636f 756e 745f 6672 6f6d 5f63 6f6d  p_count_from_com
-0001cc20: 626f 5f62 6f78 2920 3e3d 2032 3a0a 2020  bo_box) >= 2:.  
-0001cc30: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-0001cc40: 645f 6169 725f 6761 705f 325f 656e 6162  d_air_gap_2_enab
-0001cc50: 6c65 2854 7275 6529 0a20 2020 2020 2020  le(True).       
-0001cc60: 2069 6620 696e 7428 6169 725f 6761 705f   if int(air_gap_
-0001cc70: 636f 756e 745f 6672 6f6d 5f63 6f6d 626f  count_from_combo
-0001cc80: 5f62 6f78 2920 3e3d 2033 3a0a 2020 2020  _box) >= 3:.    
-0001cc90: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001cca0: 6169 725f 6761 705f 335f 656e 6162 6c65  air_gap_3_enable
-0001ccb0: 2854 7275 6529 0a20 2020 2020 2020 2069  (True).        i
-0001ccc0: 6620 696e 7428 6169 725f 6761 705f 636f  f int(air_gap_co
-0001ccd0: 756e 745f 6672 6f6d 5f63 6f6d 626f 5f62  unt_from_combo_b
-0001cce0: 6f78 2920 3e3d 2034 3a0a 2020 2020 2020  ox) >= 4:.      
-0001ccf0: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
-0001cd00: 725f 6761 705f 345f 656e 6162 6c65 2854  r_gap_4_enable(T
-0001cd10: 7275 6529 0a20 2020 2020 2020 2069 6620  rue).        if 
-0001cd20: 696e 7428 6169 725f 6761 705f 636f 756e  int(air_gap_coun
-0001cd30: 745f 6672 6f6d 5f63 6f6d 626f 5f62 6f78  t_from_combo_box
-0001cd40: 2920 3e3d 2035 3a0a 2020 2020 2020 2020  ) >= 5:.        
-0001cd50: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
-0001cd60: 6761 705f 355f 656e 6162 6c65 2854 7275  gap_5_enable(Tru
-0001cd70: 6529 0a0a 2020 2020 6465 6620 6d64 5f63  e)..    def md_c
-0001cd80: 6861 6e67 655f 6169 725f 6761 705f 706c  hange_air_gap_pl
-0001cd90: 6163 656d 656e 7428 7365 6c66 2c20 6169  acement(self, ai
-0001cda0: 725f 6761 705f 706c 6163 656d 656e 745f  r_gap_placement_
-0001cdb0: 6672 6f6d 5f63 6f6d 626f 5f62 6f78 3a20  from_combo_box: 
-0001cdc0: 7374 7229 202d 3e20 4e6f 6e65 3a0a 2020  str) -> None:.  
-0001cdd0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001cde0: 2020 4368 616e 6765 2074 6865 206c 6162    Change the lab
-0001cdf0: 656c 7320 696e 2063 6173 6520 6f66 2064  els in case of d
-0001ce00: 6966 6665 7265 6e74 2061 6972 2067 6170  ifferent air gap
-0001ce10: 2070 6c61 6365 6d65 6e74 206d 6574 686f   placement metho
-0001ce20: 6473 2e0a 0a20 2020 2020 2020 203a 7061  ds...        :pa
-0001ce30: 7261 6d20 6169 725f 6761 705f 706c 6163  ram air_gap_plac
-0001ce40: 656d 656e 745f 6672 6f6d 5f63 6f6d 626f  ement_from_combo
-0001ce50: 5f62 6f78 3a20 4169 7220 6761 7020 706c  _box: Air gap pl
-0001ce60: 6163 656d 656e 7420 6d65 7468 6f64 0a20  acement method. 
-0001ce70: 2020 2020 2020 203a 7479 7065 2061 6972         :type air
-0001ce80: 5f67 6170 5f70 6c61 6365 6d65 6e74 5f66  _gap_placement_f
-0001ce90: 726f 6d5f 636f 6d62 6f5f 626f 783a 2073  rom_combo_box: s
-0001cea0: 7472 0a20 2020 2020 2020 203a 7265 7475  tr.        :retu
-0001ceb0: 726e 3a20 4e6f 6e65 0a20 2020 2020 2020  rn: None.       
-0001cec0: 203a 7274 7970 653a 204e 6f6e 650a 2020   :rtype: None.  
-0001ced0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001cee0: 2020 6966 2061 6972 5f67 6170 5f70 6c61    if air_gap_pla
-0001cef0: 6365 6d65 6e74 5f66 726f 6d5f 636f 6d62  cement_from_comb
-0001cf00: 6f5f 626f 7820 3d3d 2073 656c 662e 7472  o_box == self.tr
-0001cf10: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
-0001cf20: 6d61 6e75 616c 6c79 275d 3a0a 2020 2020  manually']:.    
-0001cf30: 2020 2020 2020 2020 6d64 5f61 6972 5f67          md_air_g
-0001cf40: 6170 5f70 6c61 6365 6d65 6e74 5f74 6578  ap_placement_tex
-0001cf50: 7420 3d20 2750 6f73 6974 696f 6e27 0a20  t = 'Position'. 
-0001cf60: 2020 2020 2020 2065 6c69 6620 6169 725f         elif air_
-0001cf70: 6761 705f 706c 6163 656d 656e 745f 6672  gap_placement_fr
-0001cf80: 6f6d 5f63 6f6d 626f 5f62 6f78 203d 3d20  om_combo_box == 
-0001cf90: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
-0001cfa0: 5f64 6963 745b 2770 6572 6365 6e74 275d  _dict['percent']
-0001cfb0: 3a0a 2020 2020 2020 2020 2020 2020 6d64  :.            md
-0001cfc0: 5f61 6972 5f67 6170 5f70 6c61 6365 6d65  _air_gap_placeme
-0001cfd0: 6e74 5f74 6578 7420 3d20 2750 6f73 6974  nt_text = 'Posit
-0001cfe0: 696f 6e20 696e 205b 255d 270a 2020 2020  ion in [%]'.    
-0001cff0: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
-0001d000: 6761 705f 315f 706f 7369 7469 6f6e 5f6c  gap_1_position_l
-0001d010: 6162 656c 2e73 6574 5465 7874 286d 645f  abel.setText(md_
-0001d020: 6169 725f 6761 705f 706c 6163 656d 656e  air_gap_placemen
-0001d030: 745f 7465 7874 290a 2020 2020 2020 2020  t_text).        
-0001d040: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
-0001d050: 325f 706f 7369 7469 6f6e 5f6c 6162 656c  2_position_label
-0001d060: 2e73 6574 5465 7874 286d 645f 6169 725f  .setText(md_air_
-0001d070: 6761 705f 706c 6163 656d 656e 745f 7465  gap_placement_te
-0001d080: 7874 290a 2020 2020 2020 2020 7365 6c66  xt).        self
-0001d090: 2e6d 645f 6169 725f 6761 705f 335f 706f  .md_air_gap_3_po
-0001d0a0: 7369 7469 6f6e 5f6c 6162 656c 2e73 6574  sition_label.set
-0001d0b0: 5465 7874 286d 645f 6169 725f 6761 705f  Text(md_air_gap_
-0001d0c0: 706c 6163 656d 656e 745f 7465 7874 290a  placement_text).
-0001d0d0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001d0e0: 6169 725f 6761 705f 345f 706f 7369 7469  air_gap_4_positi
-0001d0f0: 6f6e 5f6c 6162 656c 2e73 6574 5465 7874  on_label.setText
-0001d100: 286d 645f 6169 725f 6761 705f 706c 6163  (md_air_gap_plac
-0001d110: 656d 656e 745f 7465 7874 290a 2020 2020  ement_text).    
-0001d120: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
-0001d130: 6761 705f 355f 706f 7369 7469 6f6e 5f6c  gap_5_position_l
-0001d140: 6162 656c 2e73 6574 5465 7874 286d 645f  abel.setText(md_
-0001d150: 6169 725f 6761 705f 706c 6163 656d 656e  air_gap_placemen
-0001d160: 745f 7465 7874 290a 0a20 2020 2064 6566  t_text)..    def
-0001d170: 206d 645f 6169 725f 6761 705f 315f 656e   md_air_gap_1_en
-0001d180: 6162 6c65 2873 656c 662c 2073 7461 7475  able(self, statu
-0001d190: 733a 2062 6f6f 6c29 202d 3e20 4e6f 6e65  s: bool) -> None
-0001d1a0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001d1b0: 2020 2020 2020 456e 6162 6c65 202f 2044        Enable / D
-0001d1c0: 6973 6162 6c65 2074 6865 2069 6e70 7574  isable the input
-0001d1d0: 2066 6965 6c64 7320 666f 7220 6169 7220   fields for air 
-0001d1e0: 6761 7020 4e6f 2e20 312e 0a0a 2020 2020  gap No. 1...    
-0001d1f0: 2020 2020 3a70 6172 616d 2073 7461 7475      :param statu
-0001d200: 733a 2054 7275 6520 666f 7220 656e 6162  s: True for enab
-0001d210: 6c65 2066 6965 6c64 732c 2046 616c 7365  le fields, False
-0001d220: 2066 6f72 2064 6973 6162 6c65 2066 6965   for disable fie
-0001d230: 6c64 730a 2020 2020 2020 2020 3a74 7970  lds.        :typ
-0001d240: 6520 7374 6174 7573 3a20 626f 6f6c 0a20  e status: bool. 
-0001d250: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
-0001d260: 4e6f 6e65 0a20 2020 2020 2020 203a 7274  None.        :rt
-0001d270: 7970 653a 204e 6f6e 650a 2020 2020 2020  ype: None.      
-0001d280: 2020 2222 220a 2020 2020 2020 2020 7365    """.        se
-0001d290: 6c66 2e6d 645f 6169 725f 6761 705f 315f  lf.md_air_gap_1_
-0001d2a0: 6c65 6e67 7468 5f6c 696e 6545 6469 742e  length_lineEdit.
-0001d2b0: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
-0001d2c0: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-0001d2d0: 6d64 5f61 6972 5f67 6170 5f31 5f70 6f73  md_air_gap_1_pos
-0001d2e0: 6974 696f 6e5f 6c69 6e65 4564 6974 2e73  ition_lineEdit.s
-0001d2f0: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-0001d300: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-0001d310: 645f 6169 725f 6761 705f 315f 6c65 6e67  d_air_gap_1_leng
-0001d320: 7468 5f6c 6162 656c 2e73 6574 5669 7369  th_label.setVisi
-0001d330: 626c 6528 7374 6174 7573 290a 2020 2020  ble(status).    
-0001d340: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
-0001d350: 6761 705f 315f 6c65 6e67 7468 5f6c 696e  gap_1_length_lin
-0001d360: 6545 6469 742e 7365 7456 6973 6962 6c65  eEdit.setVisible
-0001d370: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-0001d380: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
-0001d390: 5f31 5f70 6f73 6974 696f 6e5f 6c61 6265  _1_position_labe
-0001d3a0: 6c2e 7365 7456 6973 6962 6c65 2873 7461  l.setVisible(sta
-0001d3b0: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
-0001d3c0: 662e 6d64 5f61 6972 5f67 6170 5f31 5f70  f.md_air_gap_1_p
-0001d3d0: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
-0001d3e0: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
-0001d3f0: 7573 290a 0a20 2020 2064 6566 206d 645f  us)..    def md_
-0001d400: 6169 725f 6761 705f 325f 656e 6162 6c65  air_gap_2_enable
-0001d410: 2873 656c 662c 2073 7461 7475 733a 2062  (self, status: b
-0001d420: 6f6f 6c29 202d 3e20 4e6f 6e65 3a0a 2020  ool) -> None:.  
-0001d430: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001d440: 2020 456e 6162 6c65 202f 2044 6973 6162    Enable / Disab
-0001d450: 6c65 2074 6865 2069 6e70 7574 2066 6965  le the input fie
-0001d460: 6c64 7320 666f 7220 6169 7220 6761 7020  lds for air gap 
-0001d470: 4e6f 2e20 322e 0a0a 2020 2020 2020 2020  No. 2...        
-0001d480: 3a70 6172 616d 2073 7461 7475 733a 2054  :param status: T
-0001d490: 7275 6520 666f 7220 656e 6162 6c65 2066  rue for enable f
-0001d4a0: 6965 6c64 732c 2046 616c 7365 2066 6f72  ields, False for
-0001d4b0: 2064 6973 6162 6c65 2066 6965 6c64 730a   disable fields.
-0001d4c0: 2020 2020 2020 2020 3a74 7970 6520 7374          :type st
-0001d4d0: 6174 7573 3a20 626f 6f6c 0a20 2020 2020  atus: bool.     
-0001d4e0: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
-0001d4f0: 0a20 2020 2020 2020 203a 7274 7970 653a  .        :rtype:
-0001d500: 204e 6f6e 650a 2020 2020 2020 2020 2222   None.        ""
-0001d510: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
-0001d520: 645f 6169 725f 6761 705f 325f 6c65 6e67  d_air_gap_2_leng
-0001d530: 7468 5f6c 696e 6545 6469 742e 7365 7445  th_lineEdit.setE
-0001d540: 6e61 626c 6564 2873 7461 7475 7329 0a20  nabled(status). 
-0001d550: 2020 2020 2020 2073 656c 662e 6d64 5f61         self.md_a
-0001d560: 6972 5f67 6170 5f32 5f70 6f73 6974 696f  ir_gap_2_positio
-0001d570: 6e5f 6c69 6e65 4564 6974 2e73 6574 456e  n_lineEdit.setEn
-0001d580: 6162 6c65 6428 7374 6174 7573 290a 2020  abled(status).  
-0001d590: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
-0001d5a0: 725f 6761 705f 325f 6c65 6e67 7468 5f6c  r_gap_2_length_l
-0001d5b0: 6162 656c 2e73 6574 5669 7369 626c 6528  abel.setVisible(
-0001d5c0: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
-0001d5d0: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
-0001d5e0: 325f 6c65 6e67 7468 5f6c 696e 6545 6469  2_length_lineEdi
-0001d5f0: 742e 7365 7456 6973 6962 6c65 2873 7461  t.setVisible(sta
-0001d600: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
-0001d610: 662e 6d64 5f61 6972 5f67 6170 5f32 5f70  f.md_air_gap_2_p
-0001d620: 6f73 6974 696f 6e5f 6c61 6265 6c2e 7365  osition_label.se
-0001d630: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
-0001d640: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-0001d650: 5f61 6972 5f67 6170 5f32 5f70 6f73 6974  _air_gap_2_posit
-0001d660: 696f 6e5f 6c69 6e65 4564 6974 2e73 6574  ion_lineEdit.set
-0001d670: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
-0001d680: 0a20 2020 2064 6566 206d 645f 6169 725f  .    def md_air_
-0001d690: 6761 705f 335f 656e 6162 6c65 2873 656c  gap_3_enable(sel
-0001d6a0: 662c 2073 7461 7475 733a 2062 6f6f 6c29  f, status: bool)
-0001d6b0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
-0001d6c0: 2020 2222 220a 2020 2020 2020 2020 456e    """.        En
-0001d6d0: 6162 6c65 202f 2044 6973 6162 6c65 2074  able / Disable t
-0001d6e0: 6865 2069 6e70 7574 2066 6965 6c64 7320  he input fields 
-0001d6f0: 666f 7220 6169 7220 6761 7020 4e6f 2e20  for air gap No. 
-0001d700: 332e 0a0a 2020 2020 2020 2020 3a70 6172  3...        :par
-0001d710: 616d 2073 7461 7475 733a 2054 7275 6520  am status: True 
-0001d720: 666f 7220 656e 6162 6c65 2066 6965 6c64  for enable field
-0001d730: 732c 2046 616c 7365 2066 6f72 2064 6973  s, False for dis
-0001d740: 6162 6c65 2066 6965 6c64 730a 2020 2020  able fields.    
-0001d750: 2020 2020 3a74 7970 6520 7374 6174 7573      :type status
-0001d760: 3a20 626f 6f6c 0a20 2020 2020 2020 203a  : bool.        :
-0001d770: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
-0001d780: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
-0001d790: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-0001d7a0: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
-0001d7b0: 725f 6761 705f 335f 6c65 6e67 7468 5f6c  r_gap_3_length_l
-0001d7c0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
-0001d7d0: 6564 2873 7461 7475 7329 0a20 2020 2020  ed(status).     
-0001d7e0: 2020 2073 656c 662e 6d64 5f61 6972 5f67     self.md_air_g
-0001d7f0: 6170 5f33 5f70 6f73 6974 696f 6e5f 6c69  ap_3_position_li
-0001d800: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001d810: 6428 7374 6174 7573 290a 2020 2020 2020  d(status).      
-0001d820: 2020 7365 6c66 2e6d 645f 6169 725f 6761    self.md_air_ga
-0001d830: 705f 335f 6c65 6e67 7468 5f6c 6162 656c  p_3_length_label
-0001d840: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
-0001d850: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
-0001d860: 2e6d 645f 6169 725f 6761 705f 335f 6c65  .md_air_gap_3_le
-0001d870: 6e67 7468 5f6c 696e 6545 6469 742e 7365  ngth_lineEdit.se
-0001d880: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
-0001d890: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-0001d8a0: 5f61 6972 5f67 6170 5f33 5f70 6f73 6974  _air_gap_3_posit
-0001d8b0: 696f 6e5f 6c61 6265 6c2e 7365 7456 6973  ion_label.setVis
-0001d8c0: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
-0001d8d0: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
-0001d8e0: 5f67 6170 5f33 5f70 6f73 6974 696f 6e5f  _gap_3_position_
-0001d8f0: 6c69 6e65 4564 6974 2e73 6574 5669 7369  lineEdit.setVisi
-0001d900: 626c 6528 7374 6174 7573 290a 0a20 2020  ble(status)..   
-0001d910: 2064 6566 206d 645f 6169 725f 6761 705f   def md_air_gap_
-0001d920: 345f 656e 6162 6c65 2873 656c 662c 2073  4_enable(self, s
-0001d930: 7461 7475 733a 2062 6f6f 6c29 202d 3e20  tatus: bool) -> 
-0001d940: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-0001d950: 220a 2020 2020 2020 2020 456e 6162 6c65  ".        Enable
-0001d960: 202f 2044 6973 6162 6c65 2074 6865 2069   / Disable the i
-0001d970: 6e70 7574 2066 6965 6c64 7320 666f 7220  nput fields for 
-0001d980: 6169 7220 6761 7020 4e6f 2e20 342e 0a0a  air gap No. 4...
-0001d990: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-0001d9a0: 7461 7475 733a 2054 7275 6520 666f 7220  tatus: True for 
-0001d9b0: 656e 6162 6c65 2066 6965 6c64 732c 2046  enable fields, F
-0001d9c0: 616c 7365 2066 6f72 2064 6973 6162 6c65  alse for disable
-0001d9d0: 2066 6965 6c64 730a 2020 2020 2020 2020   fields.        
-0001d9e0: 3a74 7970 6520 7374 6174 7573 3a20 626f  :type status: bo
-0001d9f0: 6f6c 0a20 2020 2020 2020 203a 7265 7475  ol.        :retu
-0001da00: 726e 3a20 4e6f 6e65 0a20 2020 2020 2020  rn: None.       
-0001da10: 203a 7274 7970 653a 204e 6f6e 650a 2020   :rtype: None.  
-0001da20: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
-0001da30: 2020 7365 6c66 2e6d 645f 6169 725f 6761    self.md_air_ga
-0001da40: 705f 345f 6c65 6e67 7468 5f6c 696e 6545  p_4_length_lineE
-0001da50: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
-0001da60: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
-0001da70: 656c 662e 6d64 5f61 6972 5f67 6170 5f34  elf.md_air_gap_4
-0001da80: 5f70 6f73 6974 696f 6e5f 6c69 6e65 4564  _position_lineEd
-0001da90: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
-0001daa0: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
-0001dab0: 6c66 2e6d 645f 6169 725f 6761 705f 345f  lf.md_air_gap_4_
-0001dac0: 6c65 6e67 7468 5f6c 6162 656c 2e73 6574  length_label.set
-0001dad0: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
-0001dae0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001daf0: 6169 725f 6761 705f 345f 6c65 6e67 7468  air_gap_4_length
-0001db00: 5f6c 696e 6545 6469 742e 7365 7456 6973  _lineEdit.setVis
-0001db10: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
-0001db20: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
-0001db30: 5f67 6170 5f34 5f70 6f73 6974 696f 6e5f  _gap_4_position_
-0001db40: 6c61 6265 6c2e 7365 7456 6973 6962 6c65  label.setVisible
-0001db50: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-0001db60: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
-0001db70: 5f34 5f70 6f73 6974 696f 6e5f 6c69 6e65  _4_position_line
-0001db80: 4564 6974 2e73 6574 5669 7369 626c 6528  Edit.setVisible(
-0001db90: 7374 6174 7573 290a 0a20 2020 2064 6566  status)..    def
-0001dba0: 206d 645f 6169 725f 6761 705f 355f 656e   md_air_gap_5_en
-0001dbb0: 6162 6c65 2873 656c 662c 2073 7461 7475  able(self, statu
-0001dbc0: 733a 2062 6f6f 6c29 202d 3e20 4e6f 6e65  s: bool) -> None
-0001dbd0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001dbe0: 2020 2020 2020 456e 6162 6c65 202f 2044        Enable / D
-0001dbf0: 6973 6162 6c65 2074 6865 2069 6e70 7574  isable the input
-0001dc00: 2066 6965 6c64 7320 666f 7220 6169 7220   fields for air 
-0001dc10: 6761 7020 4e6f 2e20 352e 0a0a 2020 2020  gap No. 5...    
-0001dc20: 2020 2020 3a70 6172 616d 2073 7461 7475      :param statu
-0001dc30: 733a 2054 7275 6520 666f 7220 656e 6162  s: True for enab
-0001dc40: 6c65 2066 6965 6c64 732c 2046 616c 7365  le fields, False
-0001dc50: 2066 6f72 2064 6973 6162 6c65 2066 6965   for disable fie
-0001dc60: 6c64 730a 2020 2020 2020 2020 3a74 7970  lds.        :typ
-0001dc70: 6520 7374 6174 7573 3a20 626f 6f6c 0a20  e status: bool. 
-0001dc80: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
-0001dc90: 4e6f 6e65 0a20 2020 2020 2020 203a 7274  None.        :rt
-0001dca0: 7970 653a 204e 6f6e 650a 2020 2020 2020  ype: None.      
-0001dcb0: 2020 2222 220a 2020 2020 2020 2020 7365    """.        se
-0001dcc0: 6c66 2e6d 645f 6169 725f 6761 705f 355f  lf.md_air_gap_5_
-0001dcd0: 6c65 6e67 7468 5f6c 696e 6545 6469 742e  length_lineEdit.
-0001dce0: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
-0001dcf0: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
-0001dd00: 6d64 5f61 6972 5f67 6170 5f35 5f70 6f73  md_air_gap_5_pos
-0001dd10: 6974 696f 6e5f 6c69 6e65 4564 6974 2e73  ition_lineEdit.s
-0001dd20: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-0001dd30: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-0001dd40: 645f 6169 725f 6761 705f 355f 6c65 6e67  d_air_gap_5_leng
-0001dd50: 7468 5f6c 6162 656c 2e73 6574 5669 7369  th_label.setVisi
-0001dd60: 626c 6528 7374 6174 7573 290a 2020 2020  ble(status).    
-0001dd70: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
-0001dd80: 6761 705f 355f 6c65 6e67 7468 5f6c 696e  gap_5_length_lin
-0001dd90: 6545 6469 742e 7365 7456 6973 6962 6c65  eEdit.setVisible
-0001dda0: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-0001ddb0: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
-0001ddc0: 5f35 5f70 6f73 6974 696f 6e5f 6c61 6265  _5_position_labe
-0001ddd0: 6c2e 7365 7456 6973 6962 6c65 2873 7461  l.setVisible(sta
-0001dde0: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
-0001ddf0: 662e 6d64 5f61 6972 5f67 6170 5f35 5f70  f.md_air_gap_5_p
-0001de00: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
-0001de10: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
-0001de20: 7573 290a 0a20 2020 2023 202d 2d2d 2d2d  us)..    # -----
-0001de30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0001de40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0001de50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0001de60: 2d2d 2d2d 2d0a 2020 2020 2320 4578 6369  -----.    # Exci
-0001de70: 7461 7469 6f6e 2074 6162 0a20 2020 2023  tation tab.    #
-0001de80: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
-0001de90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0001dea0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0001deb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a20 2020  -----------..   
-0001dec0: 2064 6566 206d 645f 6463 5f65 6e61 626c   def md_dc_enabl
-0001ded0: 6528 7365 6c66 2c20 7374 6174 7573 3a20  e(self, status: 
-0001dee0: 626f 6f6c 2920 2d3e 204e 6f6e 653a 0a20  bool) -> None:. 
-0001def0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-0001df00: 2020 2045 6e61 626c 6520 2f20 4469 7361     Enable / Disa
-0001df10: 626c 6520 7468 6520 696e 7075 7420 6669  ble the input fi
-0001df20: 656c 6473 2066 6f72 2064 6320 6375 7272  elds for dc curr
-0001df30: 656e 742e 0a0a 2020 2020 2020 2020 3a70  ent...        :p
-0001df40: 6172 616d 2073 7461 7475 733a 2054 7275  aram status: Tru
-0001df50: 6520 666f 7220 656e 6162 6c65 2066 6965  e for enable fie
-0001df60: 6c64 732c 2046 616c 7365 2066 6f72 2064  lds, False for d
-0001df70: 6973 6162 6c65 2066 6965 6c64 730a 2020  isable fields.  
-0001df80: 2020 2020 2020 3a74 7970 6520 7374 6174        :type stat
-0001df90: 7573 3a20 626f 6f6c 0a20 2020 2020 2020  us: bool.       
-0001dfa0: 203a 7265 7475 726e 3a20 4e6f 6e65 0a20   :return: None. 
-0001dfb0: 2020 2020 2020 203a 7274 7970 653a 204e         :rtype: N
-0001dfc0: 6f6e 650a 2020 2020 2020 2020 2222 220a  one.        """.
-0001dfd0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001dfe0: 7769 6e64 696e 6731 5f69 6463 5f6c 696e  winding1_idc_lin
-0001dff0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001e000: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-0001e010: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001e020: 325f 6964 635f 6c69 6e65 4564 6974 2e73  2_idc_lineEdit.s
-0001e030: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-0001e040: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-0001e050: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-0001e060: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-0001e070: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
-0001e080: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-0001e090: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-0001e0a0: 2061 6e64 2073 7461 7475 733a 0a20 2020   and status:.   
-0001e0b0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001e0c0: 5f77 696e 6469 6e67 325f 6964 635f 6c69  _winding2_idc_li
-0001e0d0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001e0e0: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-0001e0f0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001e100: 6469 6e67 325f 6964 635f 6c69 6e65 4564  ding2_idc_lineEd
-0001e110: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
-0001e120: 6c73 6529 0a20 2020 2020 2020 2065 6c73  lse).        els
-0001e130: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-0001e140: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-0001e150: 6964 635f 6c69 6e65 4564 6974 2e73 6574  idc_lineEdit.set
-0001e160: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
-0001e170: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001e180: 2e6d 645f 7769 6e64 696e 6732 5f69 6463  .md_winding2_idc
-0001e190: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001e1a0: 626c 6564 2873 7461 7475 7329 0a0a 2020  bled(status)..  
-0001e1b0: 2020 6465 6620 6d64 5f66 315f 656e 6162    def md_f1_enab
-0001e1c0: 6c65 2873 656c 662c 2073 7461 7475 733a  le(self, status:
-0001e1d0: 2062 6f6f 6c29 202d 3e20 4e6f 6e65 3a0a   bool) -> None:.
-0001e1e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001e1f0: 2020 2020 456e 6162 6c65 202f 2044 6973      Enable / Dis
-0001e200: 6162 6c65 2074 6865 2069 6e70 7574 2066  able the input f
-0001e210: 6965 6c64 7320 666f 7220 6672 6571 7565  ields for freque
-0001e220: 6e63 792f 7068 6173 6520 4e6f 2e20 312e  ncy/phase No. 1.
-0001e230: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0001e240: 2073 7461 7475 733a 2054 7275 6520 666f   status: True fo
-0001e250: 7220 656e 6162 6c65 2066 6965 6c64 732c  r enable fields,
-0001e260: 2046 616c 7365 2066 6f72 2064 6973 6162   False for disab
-0001e270: 6c65 2066 6965 6c64 730a 2020 2020 2020  le fields.      
-0001e280: 2020 3a74 7970 6520 7374 6174 7573 3a20    :type status: 
-0001e290: 626f 6f6c 0a20 2020 2020 2020 203a 7265  bool.        :re
-0001e2a0: 7475 726e 3a20 4e6f 6e65 0a20 2020 2020  turn: None.     
-0001e2b0: 2020 203a 7274 7970 653a 204e 6f6e 650a     :rtype: None.
-0001e2c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001e2d0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001e2e0: 696e 6731 5f69 6b31 5f6c 696e 6545 6469  ing1_ik1_lineEdi
-0001e2f0: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
-0001e300: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
-0001e310: 662e 6d64 5f77 696e 6469 6e67 315f 706b  f.md_winding1_pk
-0001e320: 315f 6c69 6e65 4564 6974 2e73 6574 456e  1_lineEdit.setEn
-0001e330: 6162 6c65 6428 7374 6174 7573 290a 2020  abled(status).  
-0001e340: 2020 2020 2020 6966 2073 656c 662e 6d64        if self.md
-0001e350: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
-0001e360: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-0001e370: 7454 6578 7428 2920 3d3d 2073 656c 662e  tText() == self.
-0001e380: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
-0001e390: 5b27 696e 6475 6374 6f72 275d 2061 6e64  ['inductor'] and
-0001e3a0: 2073 7461 7475 733a 0a20 2020 2020 2020   status:.       
-0001e3b0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001e3c0: 6469 6e67 325f 696b 315f 6c69 6e65 4564  ding2_ik1_lineEd
-0001e3d0: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
-0001e3e0: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
-0001e3f0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001e400: 325f 706b 315f 6c69 6e65 4564 6974 2e73  2_pk1_lineEdit.s
-0001e410: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-0001e420: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001e430: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001e440: 6d64 5f77 696e 6469 6e67 325f 696b 315f  md_winding2_ik1_
-0001e450: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
-0001e460: 6c65 6428 7374 6174 7573 290a 2020 2020  led(status).    
-0001e470: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001e480: 7769 6e64 696e 6732 5f70 6b31 5f6c 696e  winding2_pk1_lin
-0001e490: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001e4a0: 2873 7461 7475 7329 0a0a 2020 2020 6465  (status)..    de
-0001e4b0: 6620 6d64 5f66 325f 656e 6162 6c65 2873  f md_f2_enable(s
-0001e4c0: 656c 662c 2073 7461 7475 733a 2062 6f6f  elf, status: boo
-0001e4d0: 6c29 202d 3e20 4e6f 6e65 3a0a 2020 2020  l) -> None:.    
-0001e4e0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001e4f0: 456e 6162 6c65 202f 2044 6973 6162 6c65  Enable / Disable
-0001e500: 2074 6865 2069 6e70 7574 2066 6965 6c64   the input field
-0001e510: 7320 666f 7220 6672 6571 7565 6e63 792f  s for frequency/
-0001e520: 7068 6173 6520 4e6f 2e20 322e 0a0a 2020  phase No. 2...  
-0001e530: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-0001e540: 7475 733a 2054 7275 6520 666f 7220 656e  tus: True for en
-0001e550: 6162 6c65 2066 6965 6c64 732c 2046 616c  able fields, Fal
-0001e560: 7365 2066 6f72 2064 6973 6162 6c65 2066  se for disable f
-0001e570: 6965 6c64 730a 2020 2020 2020 2020 3a74  ields.        :t
-0001e580: 7970 6520 7374 6174 7573 3a20 626f 6f6c  ype status: bool
-0001e590: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-0001e5a0: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
-0001e5b0: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
-0001e5c0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001e5d0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-0001e5e0: 5f69 6b32 5f6c 696e 6545 6469 742e 7365  _ik2_lineEdit.se
-0001e5f0: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
-0001e600: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-0001e610: 5f77 696e 6469 6e67 315f 706b 325f 6c69  _winding1_pk2_li
-0001e620: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001e630: 6428 7374 6174 7573 290a 2020 2020 2020  d(status).      
-0001e640: 2020 6966 2073 656c 662e 6d64 5f73 696d    if self.md_sim
-0001e650: 756c 6174 696f 6e5f 7479 7065 5f63 6f6d  ulation_type_com
-0001e660: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-0001e670: 7428 2920 3d3d 2073 656c 662e 7472 616e  t() == self.tran
-0001e680: 736c 6174 696f 6e5f 6469 6374 5b27 696e  slation_dict['in
-0001e690: 6475 6374 6f72 275d 2061 6e64 2073 7461  ductor'] and sta
-0001e6a0: 7475 733a 0a20 2020 2020 2020 2020 2020  tus:.           
-0001e6b0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001e6c0: 325f 696b 325f 6c69 6e65 4564 6974 2e73  2_ik2_lineEdit.s
-0001e6d0: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-0001e6e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001e6f0: 662e 6d64 5f77 696e 6469 6e67 325f 706b  f.md_winding2_pk
-0001e700: 325f 6c69 6e65 4564 6974 2e73 6574 456e  2_lineEdit.setEn
-0001e710: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001e720: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001e730: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-0001e740: 696e 6469 6e67 325f 696b 325f 6c69 6e65  inding2_ik2_line
-0001e750: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001e760: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
-0001e770: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001e780: 696e 6732 5f70 6b32 5f6c 696e 6545 6469  ing2_pk2_lineEdi
-0001e790: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
-0001e7a0: 7475 7329 0a0a 2020 2020 6465 6620 6d64  tus)..    def md
-0001e7b0: 5f66 335f 656e 6162 6c65 2873 656c 662c  _f3_enable(self,
-0001e7c0: 2073 7461 7475 733a 2062 6f6f 6c29 202d   status: bool) -
-0001e7d0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-0001e7e0: 2222 220a 2020 2020 2020 2020 456e 6162  """.        Enab
-0001e7f0: 6c65 202f 2044 6973 6162 6c65 2074 6865  le / Disable the
-0001e800: 2069 6e70 7574 2066 6965 6c64 7320 666f   input fields fo
-0001e810: 7220 6672 6571 7565 6e63 792f 7068 6173  r frequency/phas
-0001e820: 6520 4e6f 2e20 332e 0a0a 2020 2020 2020  e No. 3...      
-0001e830: 2020 3a70 6172 616d 2073 7461 7475 733a    :param status:
-0001e840: 2054 7275 6520 666f 7220 656e 6162 6c65   True for enable
-0001e850: 2066 6965 6c64 732c 2046 616c 7365 2066   fields, False f
-0001e860: 6f72 2064 6973 6162 6c65 2066 6965 6c64  or disable field
-0001e870: 730a 2020 2020 2020 2020 3a74 7970 6520  s.        :type 
-0001e880: 7374 6174 7573 3a20 626f 6f6c 0a20 2020  status: bool.   
-0001e890: 2020 2020 203a 7265 7475 726e 3a20 4e6f       :return: No
-0001e8a0: 6e65 0a20 2020 2020 2020 203a 7274 7970  ne.        :rtyp
-0001e8b0: 653a 204e 6f6e 650a 2020 2020 2020 2020  e: None.        
-0001e8c0: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-0001e8d0: 2e6d 645f 7769 6e64 696e 6731 5f69 6b33  .md_winding1_ik3
-0001e8e0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001e8f0: 626c 6564 2873 7461 7475 7329 0a20 2020  bled(status).   
-0001e900: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001e910: 6469 6e67 315f 706b 335f 6c69 6e65 4564  ding1_pk3_lineEd
-0001e920: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
-0001e930: 6174 7573 290a 2020 2020 2020 2020 6966  atus).        if
-0001e940: 2073 656c 662e 6d64 5f73 696d 756c 6174   self.md_simulat
-0001e950: 696f 6e5f 7479 7065 5f63 6f6d 626f 426f  ion_type_comboBo
-0001e960: 782e 6375 7272 656e 7454 6578 7428 2920  x.currentText() 
-0001e970: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
-0001e980: 696f 6e5f 6469 6374 5b27 696e 6475 6374  ion_dict['induct
-0001e990: 6f72 275d 2061 6e64 2073 7461 7475 733a  or'] and status:
-0001e9a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001e9b0: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
-0001e9c0: 335f 6c69 6e65 4564 6974 2e73 6574 456e  3_lineEdit.setEn
-0001e9d0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001e9e0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001e9f0: 5f77 696e 6469 6e67 325f 706b 335f 6c69  _winding2_pk3_li
-0001ea00: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001ea10: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-0001ea20: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001ea30: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001ea40: 6e67 325f 696b 335f 6c69 6e65 4564 6974  ng2_ik3_lineEdit
-0001ea50: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
-0001ea60: 7573 290a 2020 2020 2020 2020 2020 2020  us).            
-0001ea70: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-0001ea80: 5f70 6b33 5f6c 696e 6545 6469 742e 7365  _pk3_lineEdit.se
-0001ea90: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
-0001eaa0: 0a0a 2020 2020 6465 6620 6d64 5f66 345f  ..    def md_f4_
-0001eab0: 656e 6162 6c65 2873 656c 662c 2073 7461  enable(self, sta
-0001eac0: 7475 733a 2062 6f6f 6c29 202d 3e20 4e6f  tus: bool) -> No
-0001ead0: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
-0001eae0: 2020 2020 2020 2020 456e 6162 6c65 202f          Enable /
-0001eaf0: 2044 6973 6162 6c65 2074 6865 2069 6e70   Disable the inp
-0001eb00: 7574 2066 6965 6c64 7320 666f 7220 6672  ut fields for fr
-0001eb10: 6571 7565 6e63 792f 7068 6173 6520 4e6f  equency/phase No
-0001eb20: 2e20 342e 0a0a 2020 2020 2020 2020 3a70  . 4...        :p
-0001eb30: 6172 616d 2073 7461 7475 733a 2054 7275  aram status: Tru
-0001eb40: 6520 666f 7220 656e 6162 6c65 2066 6965  e for enable fie
-0001eb50: 6c64 732c 2046 616c 7365 2066 6f72 2064  lds, False for d
-0001eb60: 6973 6162 6c65 2066 6965 6c64 730a 2020  isable fields.  
-0001eb70: 2020 2020 2020 3a74 7970 6520 7374 6174        :type stat
-0001eb80: 7573 3a20 626f 6f6c 0a20 2020 2020 2020  us: bool.       
-0001eb90: 203a 7265 7475 726e 3a20 4e6f 6e65 0a20   :return: None. 
-0001eba0: 2020 2020 2020 203a 7274 7970 653a 204e         :rtype: N
-0001ebb0: 6f6e 650a 2020 2020 2020 2020 2222 220a  one.        """.
-0001ebc0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001ebd0: 7769 6e64 696e 6731 5f69 6b34 5f6c 696e  winding1_ik4_lin
-0001ebe0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001ebf0: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-0001ec00: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001ec10: 315f 706b 345f 6c69 6e65 4564 6974 2e73  1_pk4_lineEdit.s
-0001ec20: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-0001ec30: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-0001ec40: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-0001ec50: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-0001ec60: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
-0001ec70: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-0001ec80: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-0001ec90: 2061 6e64 2073 7461 7475 733a 0a20 2020   and status:.   
-0001eca0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001ecb0: 5f77 696e 6469 6e67 325f 696b 345f 6c69  _winding2_ik4_li
-0001ecc0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001ecd0: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-0001ece0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001ecf0: 6469 6e67 325f 706b 345f 6c69 6e65 4564  ding2_pk4_lineEd
-0001ed00: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
-0001ed10: 6c73 6529 0a20 2020 2020 2020 2065 6c73  lse).        els
-0001ed20: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-0001ed30: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-0001ed40: 696b 345f 6c69 6e65 4564 6974 2e73 6574  ik4_lineEdit.set
-0001ed50: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
-0001ed60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001ed70: 2e6d 645f 7769 6e64 696e 6732 5f70 6b34  .md_winding2_pk4
-0001ed80: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001ed90: 626c 6564 2873 7461 7475 7329 0a0a 2020  bled(status)..  
-0001eda0: 2020 6465 6620 6d64 5f66 355f 656e 6162    def md_f5_enab
-0001edb0: 6c65 2873 656c 662c 2073 7461 7475 733a  le(self, status:
-0001edc0: 2062 6f6f 6c29 202d 3e20 4e6f 6e65 3a0a   bool) -> None:.
-0001edd0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001ede0: 2020 2020 456e 6162 6c65 202f 2044 6973      Enable / Dis
-0001edf0: 6162 6c65 2074 6865 2069 6e70 7574 2066  able the input f
-0001ee00: 6965 6c64 7320 666f 7220 6672 6571 7565  ields for freque
-0001ee10: 6e63 792f 7068 6173 6520 4e6f 2e20 352e  ncy/phase No. 5.
-0001ee20: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
-0001ee30: 2073 7461 7475 733a 2054 7275 6520 666f   status: True fo
-0001ee40: 7220 656e 6162 6c65 2066 6965 6c64 732c  r enable fields,
-0001ee50: 2046 616c 7365 2066 6f72 2064 6973 6162   False for disab
-0001ee60: 6c65 2066 6965 6c64 730a 2020 2020 2020  le fields.      
-0001ee70: 2020 3a74 7970 6520 7374 6174 7573 3a20    :type status: 
-0001ee80: 626f 6f6c 0a20 2020 2020 2020 203a 7265  bool.        :re
-0001ee90: 7475 726e 3a20 4e6f 6e65 0a20 2020 2020  turn: None.     
-0001eea0: 2020 203a 7274 7970 653a 204e 6f6e 650a     :rtype: None.
-0001eeb0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-0001eec0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001eed0: 696e 6731 5f69 6b35 5f6c 696e 6545 6469  ing1_ik5_lineEdi
-0001eee0: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
-0001eef0: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
-0001ef00: 662e 6d64 5f77 696e 6469 6e67 315f 706b  f.md_winding1_pk
-0001ef10: 355f 6c69 6e65 4564 6974 2e73 6574 456e  5_lineEdit.setEn
-0001ef20: 6162 6c65 6428 7374 6174 7573 290a 2020  abled(status).  
-0001ef30: 2020 2020 2020 6966 2073 656c 662e 6d64        if self.md
-0001ef40: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
-0001ef50: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-0001ef60: 7454 6578 7428 2920 3d3d 2073 656c 662e  tText() == self.
-0001ef70: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
-0001ef80: 5b27 696e 6475 6374 6f72 275d 2061 6e64  ['inductor'] and
-0001ef90: 2073 7461 7475 733a 0a20 2020 2020 2020   status:.       
-0001efa0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001efb0: 6469 6e67 325f 696b 355f 6c69 6e65 4564  ding2_ik5_lineEd
-0001efc0: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
-0001efd0: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
-0001efe0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001eff0: 325f 706b 355f 6c69 6e65 4564 6974 2e73  2_pk5_lineEdit.s
-0001f000: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-0001f010: 0a20 2020 2020 2020 2065 6c73 653a 0a20  .        else:. 
-0001f020: 2020 2020 2020 2020 2020 2073 656c 662e             self.
-0001f030: 6d64 5f77 696e 6469 6e67 325f 696b 355f  md_winding2_ik5_
-0001f040: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
-0001f050: 6c65 6428 7374 6174 7573 290a 2020 2020  led(status).    
-0001f060: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001f070: 7769 6e64 696e 6732 5f70 6b35 5f6c 696e  winding2_pk5_lin
-0001f080: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001f090: 2873 7461 7475 7329 0a0a 2020 2020 6465  (status)..    de
-0001f0a0: 6620 6d64 5f66 365f 656e 6162 6c65 2873  f md_f6_enable(s
-0001f0b0: 656c 662c 2073 7461 7475 733a 2062 6f6f  elf, status: boo
-0001f0c0: 6c29 202d 3e20 4e6f 6e65 3a0a 2020 2020  l) -> None:.    
-0001f0d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001f0e0: 456e 6162 6c65 202f 2044 6973 6162 6c65  Enable / Disable
-0001f0f0: 2074 6865 2069 6e70 7574 2066 6965 6c64   the input field
-0001f100: 7320 666f 7220 6672 6571 7565 6e63 792f  s for frequency/
-0001f110: 7068 6173 6520 4e6f 2e20 362e 0a0a 2020  phase No. 6...  
-0001f120: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-0001f130: 7475 733a 2054 7275 6520 666f 7220 656e  tus: True for en
-0001f140: 6162 6c65 2066 6965 6c64 732c 2046 616c  able fields, Fal
-0001f150: 7365 2066 6f72 2064 6973 6162 6c65 2066  se for disable f
-0001f160: 6965 6c64 730a 2020 2020 2020 2020 3a74  ields.        :t
-0001f170: 7970 6520 7374 6174 7573 3a20 626f 6f6c  ype status: bool
-0001f180: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-0001f190: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
-0001f1a0: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
-0001f1b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-0001f1c0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-0001f1d0: 5f69 6b36 5f6c 696e 6545 6469 742e 7365  _ik6_lineEdit.se
-0001f1e0: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
-0001f1f0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-0001f200: 5f77 696e 6469 6e67 315f 706b 365f 6c69  _winding1_pk6_li
-0001f210: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001f220: 6428 7374 6174 7573 290a 2020 2020 2020  d(status).      
-0001f230: 2020 6966 2073 656c 662e 6d64 5f73 696d    if self.md_sim
-0001f240: 756c 6174 696f 6e5f 7479 7065 5f63 6f6d  ulation_type_com
-0001f250: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-0001f260: 7428 2920 3d3d 2073 656c 662e 7472 616e  t() == self.tran
-0001f270: 736c 6174 696f 6e5f 6469 6374 5b27 696e  slation_dict['in
-0001f280: 6475 6374 6f72 275d 2061 6e64 2073 7461  ductor'] and sta
-0001f290: 7475 733a 0a20 2020 2020 2020 2020 2020  tus:.           
-0001f2a0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001f2b0: 325f 696b 365f 6c69 6e65 4564 6974 2e73  2_ik6_lineEdit.s
-0001f2c0: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
-0001f2d0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001f2e0: 662e 6d64 5f77 696e 6469 6e67 325f 706b  f.md_winding2_pk
-0001f2f0: 365f 6c69 6e65 4564 6974 2e73 6574 456e  6_lineEdit.setEn
-0001f300: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001f310: 2020 2020 2065 6c73 653a 0a20 2020 2020       else:.     
-0001f320: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
-0001f330: 696e 6469 6e67 325f 696b 365f 6c69 6e65  inding2_ik6_line
-0001f340: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
-0001f350: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
-0001f360: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
-0001f370: 696e 6732 5f70 6b36 5f6c 696e 6545 6469  ing2_pk6_lineEdi
-0001f380: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
-0001f390: 7475 7329 0a0a 2020 2020 6465 6620 6d64  tus)..    def md
-0001f3a0: 5f66 375f 656e 6162 6c65 2873 656c 662c  _f7_enable(self,
-0001f3b0: 2073 7461 7475 733a 2062 6f6f 6c29 202d   status: bool) -
-0001f3c0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-0001f3d0: 2222 220a 2020 2020 2020 2020 456e 6162  """.        Enab
-0001f3e0: 6c65 202f 2044 6973 6162 6c65 2074 6865  le / Disable the
-0001f3f0: 2069 6e70 7574 2066 6965 6c64 7320 666f   input fields fo
-0001f400: 7220 6672 6571 7565 6e63 792f 7068 6173  r frequency/phas
-0001f410: 6520 4e6f 2e20 372e 0a0a 2020 2020 2020  e No. 7...      
-0001f420: 2020 3a70 6172 616d 2073 7461 7475 733a    :param status:
-0001f430: 2054 7275 6520 666f 7220 656e 6162 6c65   True for enable
-0001f440: 2066 6965 6c64 732c 2046 616c 7365 2066   fields, False f
-0001f450: 6f72 2064 6973 6162 6c65 2066 6965 6c64  or disable field
-0001f460: 730a 2020 2020 2020 2020 3a74 7970 6520  s.        :type 
-0001f470: 7374 6174 7573 3a20 626f 6f6c 0a20 2020  status: bool.   
-0001f480: 2020 2020 203a 7265 7475 726e 3a20 4e6f       :return: No
-0001f490: 6e65 0a20 2020 2020 2020 203a 7274 7970  ne.        :rtyp
-0001f4a0: 653a 204e 6f6e 650a 2020 2020 2020 2020  e: None.        
-0001f4b0: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-0001f4c0: 2e6d 645f 7769 6e64 696e 6731 5f69 6b37  .md_winding1_ik7
-0001f4d0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001f4e0: 626c 6564 2873 7461 7475 7329 0a20 2020  bled(status).   
-0001f4f0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001f500: 6469 6e67 315f 706b 375f 6c69 6e65 4564  ding1_pk7_lineEd
-0001f510: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
-0001f520: 6174 7573 290a 2020 2020 2020 2020 6966  atus).        if
-0001f530: 2073 656c 662e 6d64 5f73 696d 756c 6174   self.md_simulat
-0001f540: 696f 6e5f 7479 7065 5f63 6f6d 626f 426f  ion_type_comboBo
-0001f550: 782e 6375 7272 656e 7454 6578 7428 2920  x.currentText() 
-0001f560: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
-0001f570: 696f 6e5f 6469 6374 5b27 696e 6475 6374  ion_dict['induct
-0001f580: 6f72 275d 2061 6e64 2073 7461 7475 733a  or'] and status:
-0001f590: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-0001f5a0: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
-0001f5b0: 375f 6c69 6e65 4564 6974 2e73 6574 456e  7_lineEdit.setEn
-0001f5c0: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
-0001f5d0: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001f5e0: 5f77 696e 6469 6e67 325f 706b 375f 6c69  _winding2_pk7_li
-0001f5f0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001f600: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-0001f610: 2065 6c73 653a 0a20 2020 2020 2020 2020   else:.         
-0001f620: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
-0001f630: 6e67 325f 696b 375f 6c69 6e65 4564 6974  ng2_ik7_lineEdit
-0001f640: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
-0001f650: 7573 290a 2020 2020 2020 2020 2020 2020  us).            
-0001f660: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-0001f670: 5f70 6b37 5f6c 696e 6545 6469 742e 7365  _pk7_lineEdit.se
-0001f680: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
-0001f690: 0a0a 2020 2020 6465 6620 6d64 5f66 385f  ..    def md_f8_
-0001f6a0: 656e 6162 6c65 2873 656c 662c 2073 7461  enable(self, sta
-0001f6b0: 7475 733a 2062 6f6f 6c29 202d 3e20 4e6f  tus: bool) -> No
-0001f6c0: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
-0001f6d0: 2020 2020 2020 2020 456e 6162 6c65 202f          Enable /
-0001f6e0: 2044 6973 6162 6c65 2074 6865 2069 6e70   Disable the inp
-0001f6f0: 7574 2066 6965 6c64 7320 666f 7220 6672  ut fields for fr
-0001f700: 6571 7565 6e63 792f 7068 6173 6520 4e6f  equency/phase No
-0001f710: 2e20 382e 0a0a 2020 2020 2020 2020 3a70  . 8...        :p
-0001f720: 6172 616d 2073 7461 7475 733a 2054 7275  aram status: Tru
-0001f730: 6520 666f 7220 656e 6162 6c65 2066 6965  e for enable fie
-0001f740: 6c64 732c 2046 616c 7365 2066 6f72 2064  lds, False for d
-0001f750: 6973 6162 6c65 2066 6965 6c64 730a 2020  isable fields.  
-0001f760: 2020 2020 2020 3a74 7970 6520 7374 6174        :type stat
-0001f770: 7573 3a20 626f 6f6c 0a20 2020 2020 2020  us: bool.       
-0001f780: 203a 7265 7475 726e 3a20 4e6f 6e65 0a20   :return: None. 
-0001f790: 2020 2020 2020 203a 7274 7970 653a 204e         :rtype: N
-0001f7a0: 6f6e 650a 2020 2020 2020 2020 2222 220a  one.        """.
-0001f7b0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-0001f7c0: 7769 6e64 696e 6731 5f69 6b38 5f6c 696e  winding1_ik8_lin
-0001f7d0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
-0001f7e0: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
-0001f7f0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-0001f800: 315f 706b 385f 6c69 6e65 4564 6974 2e73  1_pk8_lineEdit.s
-0001f810: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
-0001f820: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-0001f830: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-0001f840: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-0001f850: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
-0001f860: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-0001f870: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-0001f880: 2061 6e64 2073 7461 7475 733a 0a20 2020   and status:.   
-0001f890: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
-0001f8a0: 5f77 696e 6469 6e67 325f 696b 385f 6c69  _winding2_ik8_li
-0001f8b0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
-0001f8c0: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
-0001f8d0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
-0001f8e0: 6469 6e67 325f 706b 385f 6c69 6e65 4564  ding2_pk8_lineEd
-0001f8f0: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
-0001f900: 6c73 6529 0a20 2020 2020 2020 2065 6c73  lse).        els
-0001f910: 653a 0a20 2020 2020 2020 2020 2020 2073  e:.            s
-0001f920: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-0001f930: 696b 385f 6c69 6e65 4564 6974 2e73 6574  ik8_lineEdit.set
-0001f940: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
-0001f950: 2020 2020 2020 2020 2020 2020 7365 6c66              self
-0001f960: 2e6d 645f 7769 6e64 696e 6732 5f70 6b38  .md_winding2_pk8
-0001f970: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
-0001f980: 626c 6564 2873 7461 7475 7329 0a0a 2020  bled(status)..  
-0001f990: 2020 6465 6620 6d64 5f63 6861 6e67 655f    def md_change_
-0001f9a0: 6672 6571 7565 6e63 6965 735f 6463 2873  frequencies_dc(s
-0001f9b0: 656c 662c 2073 7461 7475 733a 2069 6e74  elf, status: int
-0001f9c0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
-0001f9d0: 2020 2022 2222 0a20 2020 2020 2020 2043     """.        C
-0001f9e0: 6861 6e67 6520 7468 6520 6672 6571 7565  hange the freque
-0001f9f0: 6e63 7920 6669 656c 6420 696e 2063 6173  ncy field in cas
-0001fa00: 6520 6f66 2063 6865 636b 696e 672f 756e  e of checking/un
-0001fa10: 6368 6563 6b69 6e67 2074 6865 2066 7265  checking the fre
-0001fa20: 7175 656e 6379 2d63 6865 636b 626f 7865  quency-checkboxe
-0001fa30: 732e 0a0a 2020 2020 2020 2020 3a70 6172  s...        :par
-0001fa40: 616d 2073 7461 7475 733a 2030 2066 6f72  am status: 0 for
-0001fa50: 2064 6973 6162 6c69 6e67 2c20 616e 7974   disabling, anyt
-0001fa60: 6869 6e67 2065 6c73 6520 666f 7220 656e  hing else for en
-0001fa70: 6162 6c69 6e67 2066 7265 7165 6e63 7920  abling freqency 
-0001fa80: 626f 7865 730a 2020 2020 2020 2020 3a74  boxes.        :t
-0001fa90: 7970 6520 7374 6174 7573 3a20 696e 740a  ype status: int.
-0001faa0: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
-0001fab0: 204e 6f6e 650a 2020 2020 2020 2020 3a72   None.        :r
-0001fac0: 7479 7065 3a20 4e6f 6e65 0a20 2020 2020  type: None.     
-0001fad0: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
-0001fae0: 656c 662e 6d64 5f64 635f 656e 6162 6c65  elf.md_dc_enable
-0001faf0: 2846 616c 7365 2920 6966 2073 7461 7475  (False) if statu
-0001fb00: 7320 3d3d 2030 2065 6c73 6520 7365 6c66  s == 0 else self
-0001fb10: 2e6d 645f 6463 5f65 6e61 626c 6528 5472  .md_dc_enable(Tr
-0001fb20: 7565 290a 0a20 2020 2064 6566 206d 645f  ue)..    def md_
-0001fb30: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
-0001fb40: 6573 5f31 2873 656c 662c 2073 7461 7475  es_1(self, statu
-0001fb50: 733a 2069 6e74 2920 2d3e 204e 6f6e 653a  s: int) -> None:
-0001fb60: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001fb70: 2020 2020 2043 6861 6e67 6520 7468 6520       Change the 
-0001fb80: 6672 6571 7565 6e63 7920 6669 656c 6420  frequency field 
-0001fb90: 696e 2063 6173 6520 6f66 2063 6865 636b  in case of check
-0001fba0: 696e 672f 756e 6368 6563 6b69 6e67 2074  ing/unchecking t
-0001fbb0: 6865 2066 7265 7175 656e 6379 2d63 6865  he frequency-che
-0001fbc0: 636b 626f 7865 732e 0a0a 2020 2020 2020  ckboxes...      
-0001fbd0: 2020 3a70 6172 616d 2073 7461 7475 733a    :param status:
-0001fbe0: 2030 2066 6f72 2064 6973 6162 6c69 6e67   0 for disabling
-0001fbf0: 2c20 616e 7974 6869 6e67 2065 6c73 6520  , anything else 
-0001fc00: 666f 7220 656e 6162 6c69 6e67 2066 7265  for enabling fre
-0001fc10: 7165 6e63 7920 626f 7865 730a 2020 2020  qency boxes.    
-0001fc20: 2020 2020 3a74 7970 6520 7374 6174 7573      :type status
-0001fc30: 3a20 696e 740a 2020 2020 2020 2020 3a72  : int.        :r
-0001fc40: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
-0001fc50: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
-0001fc60: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-0001fc70: 2020 2020 2073 656c 662e 6d64 5f66 315f       self.md_f1_
-0001fc80: 656e 6162 6c65 2846 616c 7365 2920 6966  enable(False) if
-0001fc90: 2073 7461 7475 7320 3d3d 2030 2065 6c73   status == 0 els
-0001fca0: 6520 7365 6c66 2e6d 645f 6631 5f65 6e61  e self.md_f1_ena
-0001fcb0: 626c 6528 5472 7565 290a 0a20 2020 2064  ble(True)..    d
-0001fcc0: 6566 206d 645f 6368 616e 6765 5f66 7265  ef md_change_fre
-0001fcd0: 7175 656e 6369 6573 5f32 2873 656c 662c  quencies_2(self,
-0001fce0: 2073 7461 7475 7329 202d 3e20 4e6f 6e65   status) -> None
-0001fcf0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-0001fd00: 2020 2020 2020 4368 616e 6765 2074 6865        Change the
-0001fd10: 2066 7265 7175 656e 6379 2066 6965 6c64   frequency field
-0001fd20: 2069 6e20 6361 7365 206f 6620 6368 6563   in case of chec
-0001fd30: 6b69 6e67 2f75 6e63 6865 636b 696e 6720  king/unchecking 
-0001fd40: 7468 6520 6672 6571 7565 6e63 792d 6368  the frequency-ch
-0001fd50: 6563 6b62 6f78 6573 2e0a 0a20 2020 2020  eckboxes...     
-0001fd60: 2020 203a 7061 7261 6d20 7374 6174 7573     :param status
-0001fd70: 3a20 3020 666f 7220 6469 7361 626c 696e  : 0 for disablin
-0001fd80: 672c 2061 6e79 7468 696e 6720 656c 7365  g, anything else
-0001fd90: 2066 6f72 2065 6e61 626c 696e 6720 6672   for enabling fr
-0001fda0: 6571 656e 6379 2062 6f78 6573 0a20 2020  eqency boxes.   
-0001fdb0: 2020 2020 203a 7479 7065 2073 7461 7475       :type statu
-0001fdc0: 733a 2069 6e74 0a20 2020 2020 2020 203a  s: int.        :
-0001fdd0: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
-0001fde0: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
-0001fdf0: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
-0001fe00: 2020 2020 2020 7365 6c66 2e6d 645f 6632        self.md_f2
-0001fe10: 5f65 6e61 626c 6528 4661 6c73 6529 2069  _enable(False) i
-0001fe20: 6620 7374 6174 7573 203d 3d20 3020 656c  f status == 0 el
-0001fe30: 7365 2073 656c 662e 6d64 5f66 325f 656e  se self.md_f2_en
-0001fe40: 6162 6c65 2854 7275 6529 0a0a 2020 2020  able(True)..    
-0001fe50: 6465 6620 6d64 5f63 6861 6e67 655f 6672  def md_change_fr
-0001fe60: 6571 7565 6e63 6965 735f 3328 7365 6c66  equencies_3(self
-0001fe70: 2c20 7374 6174 7573 2920 2d3e 204e 6f6e  , status) -> Non
-0001fe80: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
-0001fe90: 2020 2020 2020 2043 6861 6e67 6520 7468         Change th
-0001fea0: 6520 6672 6571 7565 6e63 7920 6669 656c  e frequency fiel
-0001feb0: 6420 696e 2063 6173 6520 6f66 2063 6865  d in case of che
-0001fec0: 636b 696e 672f 756e 6368 6563 6b69 6e67  cking/unchecking
-0001fed0: 2074 6865 2066 7265 7175 656e 6379 2d63   the frequency-c
-0001fee0: 6865 636b 626f 7865 732e 0a0a 2020 2020  heckboxes...    
-0001fef0: 2020 2020 3a70 6172 616d 2073 7461 7475      :param statu
-0001ff00: 733a 2030 2066 6f72 2064 6973 6162 6c69  s: 0 for disabli
-0001ff10: 6e67 2c20 616e 7974 6869 6e67 2065 6c73  ng, anything els
-0001ff20: 6520 666f 7220 656e 6162 6c69 6e67 2066  e for enabling f
-0001ff30: 7265 7165 6e63 7920 626f 7865 730a 2020  reqency boxes.  
-0001ff40: 2020 2020 2020 3a74 7970 6520 7374 6174        :type stat
-0001ff50: 7573 3a20 696e 740a 2020 2020 2020 2020  us: int.        
-0001ff60: 3a72 6574 7572 6e3a 204e 6f6e 650a 2020  :return: None.  
-0001ff70: 2020 2020 2020 3a72 7479 7065 3a20 4e6f        :rtype: No
-0001ff80: 6e65 0a20 2020 2020 2020 2022 2222 0a20  ne.        """. 
-0001ff90: 2020 2020 2020 2073 656c 662e 6d64 5f66         self.md_f
-0001ffa0: 335f 656e 6162 6c65 2846 616c 7365 2920  3_enable(False) 
-0001ffb0: 6966 2073 7461 7475 7320 3d3d 2030 2065  if status == 0 e
-0001ffc0: 6c73 6520 7365 6c66 2e6d 645f 6633 5f65  lse self.md_f3_e
-0001ffd0: 6e61 626c 6528 5472 7565 290a 0a20 2020  nable(True)..   
-0001ffe0: 2064 6566 206d 645f 6368 616e 6765 5f66   def md_change_f
-0001fff0: 7265 7175 656e 6369 6573 5f34 2873 656c  requencies_4(sel
-00020000: 662c 2073 7461 7475 7329 202d 3e20 4e6f  f, status) -> No
-00020010: 6e65 3a0a 2020 2020 2020 2020 2222 220a  ne:.        """.
-00020020: 2020 2020 2020 2020 4368 616e 6765 2074          Change t
-00020030: 6865 2066 7265 7175 656e 6379 2066 6965  he frequency fie
-00020040: 6c64 2069 6e20 6361 7365 206f 6620 6368  ld in case of ch
-00020050: 6563 6b69 6e67 2f75 6e63 6865 636b 696e  ecking/uncheckin
-00020060: 6720 7468 6520 6672 6571 7565 6e63 792d  g the frequency-
-00020070: 6368 6563 6b62 6f78 6573 2e0a 0a20 2020  checkboxes...   
-00020080: 2020 2020 203a 7061 7261 6d20 7374 6174       :param stat
-00020090: 7573 3a20 3020 666f 7220 6469 7361 626c  us: 0 for disabl
-000200a0: 696e 672c 2061 6e79 7468 696e 6720 656c  ing, anything el
-000200b0: 7365 2066 6f72 2065 6e61 626c 696e 6720  se for enabling 
-000200c0: 6672 6571 656e 6379 2062 6f78 6573 0a20  freqency boxes. 
-000200d0: 2020 2020 2020 203a 7479 7065 2073 7461         :type sta
-000200e0: 7475 733a 2069 6e74 0a20 2020 2020 2020  tus: int.       
-000200f0: 203a 7265 7475 726e 3a20 4e6f 6e65 0a20   :return: None. 
-00020100: 2020 2020 2020 203a 7274 7970 653a 204e         :rtype: N
-00020110: 6f6e 650a 2020 2020 2020 2020 2222 220a  one.        """.
-00020120: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00020130: 6634 5f65 6e61 626c 6528 4661 6c73 6529  f4_enable(False)
-00020140: 2069 6620 7374 6174 7573 203d 3d20 3020   if status == 0 
-00020150: 656c 7365 2073 656c 662e 6d64 5f66 345f  else self.md_f4_
-00020160: 656e 6162 6c65 2854 7275 6529 0a0a 2020  enable(True)..  
-00020170: 2020 6465 6620 6d64 5f63 6861 6e67 655f    def md_change_
-00020180: 6672 6571 7565 6e63 6965 735f 3528 7365  frequencies_5(se
-00020190: 6c66 2c20 7374 6174 7573 2920 2d3e 204e  lf, status) -> N
-000201a0: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
-000201b0: 0a20 2020 2020 2020 2043 6861 6e67 6520  .        Change 
-000201c0: 7468 6520 6672 6571 7565 6e63 7920 6669  the frequency fi
-000201d0: 656c 6420 696e 2063 6173 6520 6f66 2063  eld in case of c
-000201e0: 6865 636b 696e 672f 756e 6368 6563 6b69  hecking/unchecki
-000201f0: 6e67 2074 6865 2066 7265 7175 656e 6379  ng the frequency
-00020200: 2d63 6865 636b 626f 7865 732e 0a0a 2020  -checkboxes...  
-00020210: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
-00020220: 7475 733a 2030 2066 6f72 2064 6973 6162  tus: 0 for disab
-00020230: 6c69 6e67 2c20 616e 7974 6869 6e67 2065  ling, anything e
-00020240: 6c73 6520 666f 7220 656e 6162 6c69 6e67  lse for enabling
-00020250: 2066 7265 7165 6e63 7920 626f 7865 730a   freqency boxes.
-00020260: 2020 2020 2020 2020 3a74 7970 6520 7374          :type st
-00020270: 6174 7573 3a20 696e 740a 2020 2020 2020  atus: int.      
-00020280: 2020 3a72 6574 7572 6e3a 204e 6f6e 650a    :return: None.
-00020290: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
-000202a0: 4e6f 6e65 0a20 2020 2020 2020 2022 2222  None.        """
-000202b0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
-000202c0: 5f66 355f 656e 6162 6c65 2846 616c 7365  _f5_enable(False
-000202d0: 2920 6966 2073 7461 7475 7320 3d3d 2030  ) if status == 0
-000202e0: 2065 6c73 6520 7365 6c66 2e6d 645f 6635   else self.md_f5
-000202f0: 5f65 6e61 626c 6528 5472 7565 290a 0a20  _enable(True).. 
-00020300: 2020 2064 6566 206d 645f 6368 616e 6765     def md_change
-00020310: 5f66 7265 7175 656e 6369 6573 5f36 2873  _frequencies_6(s
-00020320: 656c 662c 2073 7461 7475 7329 202d 3e20  elf, status) -> 
-00020330: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
-00020340: 220a 2020 2020 2020 2020 4368 616e 6765  ".        Change
-00020350: 2074 6865 2066 7265 7175 656e 6379 2066   the frequency f
-00020360: 6965 6c64 2069 6e20 6361 7365 206f 6620  ield in case of 
-00020370: 6368 6563 6b69 6e67 2f75 6e63 6865 636b  checking/uncheck
-00020380: 696e 6720 7468 6520 6672 6571 7565 6e63  ing the frequenc
-00020390: 792d 6368 6563 6b62 6f78 6573 2e0a 0a20  y-checkboxes... 
-000203a0: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
-000203b0: 6174 7573 3a20 3020 666f 7220 6469 7361  atus: 0 for disa
-000203c0: 626c 696e 672c 2061 6e79 7468 696e 6720  bling, anything 
-000203d0: 656c 7365 2066 6f72 2065 6e61 626c 696e  else for enablin
-000203e0: 6720 6672 6571 656e 6379 2062 6f78 6573  g freqency boxes
-000203f0: 0a20 2020 2020 2020 203a 7479 7065 2073  .        :type s
-00020400: 7461 7475 733a 2069 6e74 0a20 2020 2020  tatus: int.     
-00020410: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
-00020420: 0a20 2020 2020 2020 203a 7274 7970 653a  .        :rtype:
-00020430: 204e 6f6e 650a 2020 2020 2020 2020 2222   None.        ""
-00020440: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
-00020450: 645f 6636 5f65 6e61 626c 6528 4661 6c73  d_f6_enable(Fals
-00020460: 6529 2069 6620 7374 6174 7573 203d 3d20  e) if status == 
-00020470: 3020 656c 7365 2073 656c 662e 6d64 5f66  0 else self.md_f
-00020480: 365f 656e 6162 6c65 2854 7275 6529 0a0a  6_enable(True)..
-00020490: 2020 2020 6465 6620 6d64 5f63 6861 6e67      def md_chang
-000204a0: 655f 6672 6571 7565 6e63 6965 735f 3728  e_frequencies_7(
-000204b0: 7365 6c66 2c20 7374 6174 7573 2920 2d3e  self, status) ->
-000204c0: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
-000204d0: 2222 0a20 2020 2020 2020 2043 6861 6e67  "".        Chang
-000204e0: 6520 7468 6520 6672 6571 7565 6e63 7920  e the frequency 
-000204f0: 6669 656c 6420 696e 2063 6173 6520 6f66  field in case of
-00020500: 2063 6865 636b 696e 672f 756e 6368 6563   checking/unchec
-00020510: 6b69 6e67 2074 6865 2066 7265 7175 656e  king the frequen
-00020520: 6379 2d63 6865 636b 626f 7865 732e 0a0a  cy-checkboxes...
-00020530: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
-00020540: 7461 7475 733a 2030 2066 6f72 2064 6973  tatus: 0 for dis
-00020550: 6162 6c69 6e67 2c20 616e 7974 6869 6e67  abling, anything
-00020560: 2065 6c73 6520 666f 7220 656e 6162 6c69   else for enabli
-00020570: 6e67 2066 7265 7165 6e63 7920 626f 7865  ng freqency boxe
-00020580: 730a 2020 2020 2020 2020 3a74 7970 6520  s.        :type 
-00020590: 7374 6174 7573 3a20 696e 740a 2020 2020  status: int.    
-000205a0: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
-000205b0: 650a 2020 2020 2020 2020 3a72 7479 7065  e.        :rtype
-000205c0: 3a20 4e6f 6e65 0a20 2020 2020 2020 2022  : None.        "
-000205d0: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
-000205e0: 6d64 5f66 375f 656e 6162 6c65 2846 616c  md_f7_enable(Fal
-000205f0: 7365 2920 6966 2073 7461 7475 7320 3d3d  se) if status ==
-00020600: 2030 2065 6c73 6520 7365 6c66 2e6d 645f   0 else self.md_
-00020610: 6637 5f65 6e61 626c 6528 5472 7565 290a  f7_enable(True).
-00020620: 0a20 2020 2064 6566 206d 645f 6368 616e  .    def md_chan
-00020630: 6765 5f66 7265 7175 656e 6369 6573 5f38  ge_frequencies_8
-00020640: 2873 656c 662c 2073 7461 7475 7329 202d  (self, status) -
-00020650: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
-00020660: 2222 220a 2020 2020 2020 2020 4368 616e  """.        Chan
-00020670: 6765 2074 6865 2066 7265 7175 656e 6379  ge the frequency
-00020680: 2066 6965 6c64 2069 6e20 6361 7365 206f   field in case o
-00020690: 6620 6368 6563 6b69 6e67 2f75 6e63 6865  f checking/unche
-000206a0: 636b 696e 6720 7468 6520 6672 6571 7565  cking the freque
-000206b0: 6e63 792d 6368 6563 6b62 6f78 6573 2e0a  ncy-checkboxes..
-000206c0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
-000206d0: 7374 6174 7573 3a20 3020 666f 7220 6469  status: 0 for di
-000206e0: 7361 626c 696e 672c 2061 6e79 7468 696e  sabling, anythin
-000206f0: 6720 656c 7365 2066 6f72 2065 6e61 626c  g else for enabl
-00020700: 696e 6720 6672 6571 656e 6379 2062 6f78  ing freqency box
-00020710: 6573 0a20 2020 2020 2020 203a 7479 7065  es.        :type
-00020720: 2073 7461 7475 733a 2069 6e74 0a20 2020   status: int.   
-00020730: 2020 2020 203a 7265 7475 726e 3a20 4e6f       :return: No
-00020740: 6e65 0a20 2020 2020 2020 203a 7274 7970  ne.        :rtyp
-00020750: 653a 204e 6f6e 650a 2020 2020 2020 2020  e: None.        
-00020760: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
-00020770: 2e6d 645f 6638 5f65 6e61 626c 6528 4661  .md_f8_enable(Fa
-00020780: 6c73 6529 2069 6620 7374 6174 7573 203d  lse) if status =
-00020790: 3d20 3020 656c 7365 2073 656c 662e 6d64  = 0 else self.md
-000207a0: 5f66 385f 656e 6162 6c65 2854 7275 6529  _f8_enable(True)
-000207b0: 0a0a 2020 2020 6465 6620 6d64 5f72 6564  ..    def md_red
-000207c0: 7261 775f 696e 7075 745f 7369 676e 616c  raw_input_signal
-000207d0: 7328 7365 6c66 2920 2d3e 204e 6f6e 653a  s(self) -> None:
-000207e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
-000207f0: 2020 2020 2047 656e 6572 6174 6520 7669       Generate vi
-00020800: 7375 616c 2067 7261 7068 6963 7320 666f  sual graphics fo
-00020810: 7220 7468 6520 696e 7075 7420 7369 676e  r the input sign
-00020820: 616c 732e 0a0a 2020 2020 2020 2020 4765  als...        Ge
-00020830: 6e65 7261 7465 7320 6120 6772 6170 6869  nerates a graphi
-00020840: 632e 2054 6869 7320 6772 6170 6869 6320  c. This graphic 
-00020850: 6973 2072 6561 6420 616e 6420 696e 7365  is read and inse
-00020860: 7274 6574 2074 6f20 7468 6520 6775 692e  rtet to the gui.
-00020870: 0a0a 2020 2020 2020 2020 3a72 6574 7572  ..        :retur
-00020880: 6e3a 204e 6f6e 650a 2020 2020 2020 2020  n: None.        
-00020890: 3a72 7479 7065 3a20 4e6f 6e65 0a20 2020  :rtype: None.   
-000208a0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-000208b0: 2077 696e 6469 6e67 315f 6672 6571 7565   winding1_freque
-000208c0: 6e63 795f 6c69 7374 2c20 7769 6e64 696e  ncy_list, windin
-000208d0: 6731 5f61 6d70 6c69 7475 6465 5f6c 6973  g1_amplitude_lis
-000208e0: 742c 2077 696e 6469 6e67 315f 7068 695f  t, winding1_phi_
-000208f0: 7261 645f 6c69 7374 2c20 7769 6e64 696e  rad_list, windin
-00020900: 6732 5f66 7265 7175 656e 6379 5f6c 6973  g2_frequency_lis
-00020910: 742c 2077 696e 6469 6e67 325f 616d 706c  t, winding2_ampl
-00020920: 6974 7564 655f 6c69 7374 2c20 5c0a 2020  itude_list, \.  
-00020930: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-00020940: 6732 5f70 6869 5f72 6164 5f6c 6973 7420  g2_phi_rad_list 
-00020950: 3d20 7365 6c66 2e6d 645f 6765 745f 6672  = self.md_get_fr
-00020960: 6571 7565 6e63 795f 6c69 7374 7328 290a  equency_lists().
-00020970: 0a20 2020 2020 2020 2066 6d74 2e70 6c6f  .        fmt.plo
-00020980: 745f 666f 7572 6965 725f 636f 6566 6669  t_fourier_coeffi
-00020990: 6369 656e 7473 2877 696e 6469 6e67 315f  cients(winding1_
-000209a0: 6672 6571 7565 6e63 795f 6c69 7374 2c20  frequency_list, 
-000209b0: 7769 6e64 696e 6731 5f61 6d70 6c69 7475  winding1_amplitu
-000209c0: 6465 5f6c 6973 742c 2077 696e 6469 6e67  de_list, winding
-000209d0: 315f 7068 695f 7261 645f 6c69 7374 2c0a  1_phi_rad_list,.
-000209e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000209f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020a00: 2020 2020 2020 6669 6775 7265 5f64 6972        figure_dir
-00020a10: 6563 746f 7279 3d22 2e2f 6d64 5f77 696e  ectory="./md_win
-00020a20: 6469 6e67 5f31 2e70 6e67 2229 0a20 2020  ding_1.png").   
-00020a30: 2020 2020 2070 6978 6d61 7020 3d20 5150       pixmap = QP
-00020a40: 6978 6d61 7028 222e 2f6d 645f 7769 6e64  ixmap("./md_wind
-00020a50: 696e 675f 312e 706e 6722 290a 2020 2020  ing_1.png").    
-00020a60: 2020 2020 7365 6c66 2e6d 645f 6772 6170      self.md_grap
-00020a70: 6869 635f 7769 6e64 696e 675f 312e 7365  hic_winding_1.se
-00020a80: 7450 6978 6d61 7028 7069 786d 6170 290a  tPixmap(pixmap).
-00020a90: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00020aa0: 6772 6170 6869 635f 7769 6e64 696e 675f  graphic_winding_
-00020ab0: 312e 7365 744d 6173 6b28 7069 786d 6170  1.setMask(pixmap
-00020ac0: 2e6d 6173 6b28 2929 0a20 2020 2020 2020  .mask()).       
-00020ad0: 2073 656c 662e 6d64 5f67 7261 7068 6963   self.md_graphic
-00020ae0: 5f77 696e 6469 6e67 5f31 2e73 686f 7728  _winding_1.show(
-00020af0: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
-00020b00: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-00020b10: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-00020b20: 7272 656e 7454 6578 7428 2920 213d 2073  rrentText() != s
-00020b30: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-00020b40: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-00020b50: 3a0a 2020 2020 2020 2020 2020 2020 666d  :.            fm
-00020b60: 742e 706c 6f74 5f66 6f75 7269 6572 5f63  t.plot_fourier_c
-00020b70: 6f65 6666 6963 6965 6e74 7328 7769 6e64  oefficients(wind
-00020b80: 696e 6732 5f66 7265 7175 656e 6379 5f6c  ing2_frequency_l
-00020b90: 6973 742c 2077 696e 6469 6e67 325f 616d  ist, winding2_am
-00020ba0: 706c 6974 7564 655f 6c69 7374 2c20 7769  plitude_list, wi
-00020bb0: 6e64 696e 6732 5f70 6869 5f72 6164 5f6c  nding2_phi_rad_l
-00020bc0: 6973 742c 0a20 2020 2020 2020 2020 2020  ist,.           
-00020bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00020be0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-00020bf0: 6967 7572 655f 6469 7265 6374 6f72 793d  igure_directory=
-00020c00: 222e 2f6d 645f 7769 6e64 696e 675f 322e  "./md_winding_2.
-00020c10: 706e 6722 290a 2020 2020 2020 2020 2020  png").          
-00020c20: 2020 7069 786d 6170 203d 2051 5069 786d    pixmap = QPixm
-00020c30: 6170 2822 2e2f 6d64 5f77 696e 6469 6e67  ap("./md_winding
-00020c40: 5f32 2e70 6e67 2229 0a20 2020 2020 2020  _2.png").       
-00020c50: 2020 2020 2073 656c 662e 6d64 5f67 7261       self.md_gra
-00020c60: 7068 6963 5f77 696e 6469 6e67 5f32 2e73  phic_winding_2.s
-00020c70: 6574 5069 786d 6170 2870 6978 6d61 7029  etPixmap(pixmap)
-00020c80: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
-00020c90: 662e 6d64 5f67 7261 7068 6963 5f77 696e  f.md_graphic_win
-00020ca0: 6469 6e67 5f32 2e73 6574 4d61 736b 2870  ding_2.setMask(p
-00020cb0: 6978 6d61 702e 6d61 736b 2829 290a 2020  ixmap.mask()).  
-00020cc0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
-00020cd0: 645f 6772 6170 6869 635f 7769 6e64 696e  d_graphic_windin
-00020ce0: 675f 322e 7368 6f77 2829 0a0a 2020 2020  g_2.show()..    
-00020cf0: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
-00020d00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020d10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020d20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
-00020d30: 2023 2053 696d 756c 6174 696f 6e20 7461   # Simulation ta
-00020d40: 620a 2020 2020 2320 2d2d 2d2d 2d2d 2d2d  b.    # --------
-00020d50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020d60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020d70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020d80: 2d2d 0a0a 2020 2020 6465 6620 6d64 5f67  --..    def md_g
-00020d90: 6574 5f66 7265 7175 656e 6379 5f6c 6973  et_frequency_lis
-00020da0: 7473 2873 656c 6629 202d 3e20 4c69 7374  ts(self) -> List
-00020db0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
-00020dc0: 2020 2020 2020 5265 6164 2066 7265 7175        Read frequ
-00020dd0: 656e 6379 2c20 616d 706c 6974 7564 6520  ency, amplitude 
-00020de0: 616e 6420 7068 6173 6520 6465 7065 6e64  and phase depend
-00020df0: 696e 6720 6f6e 2074 6865 2063 6865 636b  ing on the check
-00020e00: 6564 2066 7265 7175 656e 6369 6573 2061  ed frequencies a
-00020e10: 6e64 2072 6574 7572 6e20 6974 2061 7320  nd return it as 
-00020e20: 6120 6c69 7374 2e0a 0a20 2020 2020 2020  a list...       
-00020e30: 203a 7265 7475 726e 3a20 5b77 696e 6469   :return: [windi
-00020e40: 6e67 315f 6672 6571 7565 6e63 795f 6c69  ng1_frequency_li
-00020e50: 7374 2c20 7769 6e64 696e 6731 5f61 6d70  st, winding1_amp
-00020e60: 6c69 7475 6465 5f6c 6973 742c 2077 696e  litude_list, win
-00020e70: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
-00020e80: 7374 2c20 7769 6e64 696e 6732 5f66 7265  st, winding2_fre
-00020e90: 7175 656e 6379 5f6c 6973 742c 0a20 2020  quency_list,.   
-00020ea0: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-00020eb0: 6732 5f61 6d70 6c69 7475 6465 5f6c 6973  g2_amplitude_lis
-00020ec0: 742c 2077 696e 6469 6e67 325f 7068 695f  t, winding2_phi_
-00020ed0: 7261 645f 6c69 7374 5d0a 2020 2020 2020  rad_list].      
-00020ee0: 2020 3a72 7479 7065 3a20 4c69 7374 0a20    :rtype: List. 
-00020ef0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00020f00: 2020 2077 696e 6469 6e67 315f 6672 6571     winding1_freq
-00020f10: 7565 6e63 795f 6c69 7374 203d 205b 5d0a  uency_list = [].
-00020f20: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
-00020f30: 5f61 6d70 6c69 7475 6465 5f6c 6973 7420  _amplitude_list 
-00020f40: 3d20 5b5d 0a20 2020 2020 2020 2077 696e  = [].        win
-00020f50: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
-00020f60: 7374 203d 205b 5d0a 0a20 2020 2020 2020  st = []..       
-00020f70: 2077 696e 6469 6e67 325f 6672 6571 7565   winding2_freque
-00020f80: 6e63 795f 6c69 7374 203d 205b 5d0a 2020  ncy_list = [].  
-00020f90: 2020 2020 2020 7769 6e64 696e 6732 5f61        winding2_a
-00020fa0: 6d70 6c69 7475 6465 5f6c 6973 7420 3d20  mplitude_list = 
-00020fb0: 5b5d 0a20 2020 2020 2020 2077 696e 6469  [].        windi
-00020fc0: 6e67 325f 7068 695f 7261 645f 6c69 7374  ng2_phi_rad_list
-00020fd0: 203d 205b 5d0a 0a20 2020 2020 2020 2069   = []..        i
-00020fe0: 6620 7365 6c66 2e6d 645f 666b 315f 6368  f self.md_fk1_ch
-00020ff0: 6563 6b42 6f78 2e69 7343 6865 636b 6564  eckBox.isChecked
-00021000: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
-00021010: 7769 6e64 696e 6731 5f66 7265 7175 656e  winding1_frequen
-00021020: 6379 5f6c 6973 742e 6170 7065 6e64 2831  cy_list.append(1
-00021030: 202a 2063 6f6d 6d61 5f73 7472 5f74 6f5f   * comma_str_to_
-00021040: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-00021050: 2e6d 645f 6261 7365 5f66 7265 7175 656e  .md_base_frequen
-00021060: 6379 5f6c 696e 6545 6469 742e 7465 7874  cy_lineEdit.text
-00021070: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
-00021080: 2077 696e 6469 6e67 315f 616d 706c 6974   winding1_amplit
-00021090: 7564 655f 6c69 7374 2e61 7070 656e 6428  ude_list.append(
-000210a0: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-000210b0: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-000210c0: 5f77 696e 6469 6e67 315f 696b 315f 6c69  _winding1_ik1_li
-000210d0: 6e65 4564 6974 2e74 6578 7428 2929 290a  neEdit.text())).
-000210e0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-000210f0: 696e 6731 5f70 6869 5f72 6164 5f6c 6973  ing1_phi_rad_lis
-00021100: 742e 6170 7065 6e64 2863 6f6d 6d61 5f73  t.append(comma_s
-00021110: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00021120: 7428 7365 6c66 2e6d 645f 7769 6e64 696e  t(self.md_windin
-00021130: 6731 5f70 6b31 5f6c 696e 6545 6469 742e  g1_pk1_lineEdit.
-00021140: 7465 7874 2829 2929 0a20 2020 2020 2020  text())).       
-00021150: 2020 2020 2069 6620 7365 6c66 2e6d 645f       if self.md_
-00021160: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
-00021170: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00021180: 5465 7874 2829 2021 3d20 7365 6c66 2e74  Text() != self.t
-00021190: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-000211a0: 2769 6e64 7563 746f 7227 5d3a 0a20 2020  'inductor']:.   
-000211b0: 2020 2020 2020 2020 2020 2020 2077 696e               win
-000211c0: 6469 6e67 325f 6672 6571 7565 6e63 795f  ding2_frequency_
-000211d0: 6c69 7374 2e61 7070 656e 6428 3120 2a20  list.append(1 * 
-000211e0: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-000211f0: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00021200: 5f62 6173 655f 6672 6571 7565 6e63 795f  _base_frequency_
-00021210: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00021220: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00021230: 2020 7769 6e64 696e 6732 5f61 6d70 6c69    winding2_ampli
-00021240: 7475 6465 5f6c 6973 742e 6170 7065 6e64  tude_list.append
-00021250: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
-00021260: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-00021270: 645f 7769 6e64 696e 6732 5f69 6b31 5f6c  d_winding2_ik1_l
-00021280: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
-00021290: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000212a0: 2077 696e 6469 6e67 325f 7068 695f 7261   winding2_phi_ra
-000212b0: 645f 6c69 7374 2e61 7070 656e 6428 636f  d_list.append(co
-000212c0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-000212d0: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
-000212e0: 696e 6469 6e67 325f 706b 315f 6c69 6e65  inding2_pk1_line
-000212f0: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
-00021300: 2020 2020 2020 6966 2073 656c 662e 6d64        if self.md
-00021310: 5f66 6b32 5f63 6865 636b 426f 782e 6973  _fk2_checkBox.is
-00021320: 4368 6563 6b65 6428 293a 0a20 2020 2020  Checked():.     
-00021330: 2020 2020 2020 2077 696e 6469 6e67 315f         winding1_
-00021340: 6672 6571 7565 6e63 795f 6c69 7374 2e61  frequency_list.a
-00021350: 7070 656e 6428 3220 2a20 636f 6d6d 615f  ppend(2 * comma_
-00021360: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-00021370: 6174 2873 656c 662e 6d64 5f62 6173 655f  at(self.md_base_
-00021380: 6672 6571 7565 6e63 795f 6c69 6e65 4564  frequency_lineEd
-00021390: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
-000213a0: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
-000213b0: 5f61 6d70 6c69 7475 6465 5f6c 6973 742e  _amplitude_list.
-000213c0: 6170 7065 6e64 2863 6f6d 6d61 5f73 7472  append(comma_str
-000213d0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-000213e0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-000213f0: 5f69 6b32 5f6c 696e 6545 6469 742e 7465  _ik2_lineEdit.te
-00021400: 7874 2829 2929 0a20 2020 2020 2020 2020  xt())).         
-00021410: 2020 2077 696e 6469 6e67 315f 7068 695f     winding1_phi_
-00021420: 7261 645f 6c69 7374 2e61 7070 656e 6428  rad_list.append(
-00021430: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00021440: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00021450: 5f77 696e 6469 6e67 315f 706b 325f 6c69  _winding1_pk2_li
-00021460: 6e65 4564 6974 2e74 6578 7428 2929 290a  neEdit.text())).
-00021470: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-00021480: 656c 662e 6d64 5f73 696d 756c 6174 696f  elf.md_simulatio
-00021490: 6e5f 7479 7065 5f63 6f6d 626f 426f 782e  n_type_comboBox.
-000214a0: 6375 7272 656e 7454 6578 7428 2920 213d  currentText() !=
-000214b0: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
-000214c0: 6e5f 6469 6374 5b27 696e 6475 6374 6f72  n_dict['inductor
-000214d0: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
-000214e0: 2020 2020 7769 6e64 696e 6732 5f66 7265      winding2_fre
-000214f0: 7175 656e 6379 5f6c 6973 742e 6170 7065  quency_list.appe
-00021500: 6e64 2832 202a 2063 6f6d 6d61 5f73 7472  nd(2 * comma_str
-00021510: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-00021520: 7365 6c66 2e6d 645f 6261 7365 5f66 7265  self.md_base_fre
-00021530: 7175 656e 6379 5f6c 696e 6545 6469 742e  quency_lineEdit.
-00021540: 7465 7874 2829 2929 0a20 2020 2020 2020  text())).       
-00021550: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-00021560: 325f 616d 706c 6974 7564 655f 6c69 7374  2_amplitude_list
-00021570: 2e61 7070 656e 6428 636f 6d6d 615f 7374  .append(comma_st
-00021580: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00021590: 2873 656c 662e 6d64 5f77 696e 6469 6e67  (self.md_winding
-000215a0: 325f 696b 325f 6c69 6e65 4564 6974 2e74  2_ik2_lineEdit.t
-000215b0: 6578 7428 2929 290a 2020 2020 2020 2020  ext())).        
-000215c0: 2020 2020 2020 2020 7769 6e64 696e 6732          winding2
-000215d0: 5f70 6869 5f72 6164 5f6c 6973 742e 6170  _phi_rad_list.ap
-000215e0: 7065 6e64 2863 6f6d 6d61 5f73 7472 5f74  pend(comma_str_t
-000215f0: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00021600: 6c66 2e6d 645f 7769 6e64 696e 6732 5f70  lf.md_winding2_p
-00021610: 6b32 5f6c 696e 6545 6469 742e 7465 7874  k2_lineEdit.text
-00021620: 2829 2929 0a20 2020 2020 2020 2069 6620  ())).        if 
-00021630: 7365 6c66 2e6d 645f 666b 335f 6368 6563  self.md_fk3_chec
-00021640: 6b42 6f78 2e69 7343 6865 636b 6564 2829  kBox.isChecked()
-00021650: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
-00021660: 6e64 696e 6731 5f66 7265 7175 656e 6379  nding1_frequency
-00021670: 5f6c 6973 742e 6170 7065 6e64 2833 202a  _list.append(3 *
-00021680: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
-00021690: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-000216a0: 645f 6261 7365 5f66 7265 7175 656e 6379  d_base_frequency
-000216b0: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-000216c0: 2929 0a20 2020 2020 2020 2020 2020 2077  )).            w
-000216d0: 696e 6469 6e67 315f 616d 706c 6974 7564  inding1_amplitud
-000216e0: 655f 6c69 7374 2e61 7070 656e 6428 636f  e_list.append(co
-000216f0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00021700: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
-00021710: 696e 6469 6e67 315f 696b 335f 6c69 6e65  inding1_ik3_line
-00021720: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
-00021730: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-00021740: 6731 5f70 6869 5f72 6164 5f6c 6973 742e  g1_phi_rad_list.
-00021750: 6170 7065 6e64 2863 6f6d 6d61 5f73 7472  append(comma_str
-00021760: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-00021770: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
-00021780: 5f70 6b33 5f6c 696e 6545 6469 742e 7465  _pk3_lineEdit.te
-00021790: 7874 2829 2929 0a20 2020 2020 2020 2020  xt())).         
-000217a0: 2020 2069 6620 7365 6c66 2e6d 645f 7369     if self.md_si
-000217b0: 6d75 6c61 7469 6f6e 5f74 7970 655f 636f  mulation_type_co
-000217c0: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
-000217d0: 7874 2829 2021 3d20 7365 6c66 2e74 7261  xt() != self.tra
-000217e0: 6e73 6c61 7469 6f6e 5f64 6963 745b 2769  nslation_dict['i
-000217f0: 6e64 7563 746f 7227 5d3a 0a20 2020 2020  nductor']:.     
-00021800: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-00021810: 6e67 325f 6672 6571 7565 6e63 795f 6c69  ng2_frequency_li
-00021820: 7374 2e61 7070 656e 6428 3320 2a20 636f  st.append(3 * co
-00021830: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00021840: 5f66 6c6f 6174 2873 656c 662e 6d64 5f62  _float(self.md_b
-00021850: 6173 655f 6672 6571 7565 6e63 795f 6c69  ase_frequency_li
-00021860: 6e65 4564 6974 2e74 6578 7428 2929 290a  neEdit.text())).
-00021870: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00021880: 7769 6e64 696e 6732 5f61 6d70 6c69 7475  winding2_amplitu
-00021890: 6465 5f6c 6973 742e 6170 7065 6e64 2863  de_list.append(c
-000218a0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-000218b0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-000218c0: 7769 6e64 696e 6732 5f69 6b32 5f6c 696e  winding2_ik2_lin
-000218d0: 6545 6469 742e 7465 7874 2829 2929 0a20  eEdit.text())). 
-000218e0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
-000218f0: 696e 6469 6e67 325f 7068 695f 7261 645f  inding2_phi_rad_
-00021900: 6c69 7374 2e61 7070 656e 6428 636f 6d6d  list.append(comm
-00021910: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
-00021920: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
-00021930: 6469 6e67 325f 706b 325f 6c69 6e65 4564  ding2_pk2_lineEd
-00021940: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
-00021950: 2020 2020 6966 2073 656c 662e 6d64 5f66      if self.md_f
-00021960: 6b34 5f63 6865 636b 426f 782e 6973 4368  k4_checkBox.isCh
-00021970: 6563 6b65 6428 293a 0a20 2020 2020 2020  ecked():.       
-00021980: 2020 2020 2077 696e 6469 6e67 315f 6672       winding1_fr
-00021990: 6571 7565 6e63 795f 6c69 7374 2e61 7070  equency_list.app
-000219a0: 656e 6428 3420 2a20 636f 6d6d 615f 7374  end(4 * comma_st
-000219b0: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-000219c0: 2873 656c 662e 6d64 5f62 6173 655f 6672  (self.md_base_fr
-000219d0: 6571 7565 6e63 795f 6c69 6e65 4564 6974  equency_lineEdit
-000219e0: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
-000219f0: 2020 2020 2020 7769 6e64 696e 6731 5f61        winding1_a
-00021a00: 6d70 6c69 7475 6465 5f6c 6973 742e 6170  mplitude_list.ap
-00021a10: 7065 6e64 2863 6f6d 6d61 5f73 7472 5f74  pend(comma_str_t
-00021a20: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00021a30: 6c66 2e6d 645f 7769 6e64 696e 6731 5f69  lf.md_winding1_i
-00021a40: 6b34 5f6c 696e 6545 6469 742e 7465 7874  k4_lineEdit.text
-00021a50: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
-00021a60: 2077 696e 6469 6e67 315f 7068 695f 7261   winding1_phi_ra
-00021a70: 645f 6c69 7374 2e61 7070 656e 6428 636f  d_list.append(co
-00021a80: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00021a90: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
-00021aa0: 696e 6469 6e67 315f 706b 345f 6c69 6e65  inding1_pk4_line
-00021ab0: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
-00021ac0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-00021ad0: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-00021ae0: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-00021af0: 7272 656e 7454 6578 7428 2920 213d 2073  rrentText() != s
-00021b00: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-00021b10: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-00021b20: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00021b30: 2020 7769 6e64 696e 6732 5f66 7265 7175    winding2_frequ
-00021b40: 656e 6379 5f6c 6973 742e 6170 7065 6e64  ency_list.append
-00021b50: 2834 202a 2063 6f6d 6d61 5f73 7472 5f74  (4 * comma_str_t
-00021b60: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00021b70: 6c66 2e6d 645f 6261 7365 5f66 7265 7175  lf.md_base_frequ
-00021b80: 656e 6379 5f6c 696e 6545 6469 742e 7465  ency_lineEdit.te
-00021b90: 7874 2829 2929 0a20 2020 2020 2020 2020  xt())).         
-00021ba0: 2020 2020 2020 2077 696e 6469 6e67 325f         winding2_
-00021bb0: 616d 706c 6974 7564 655f 6c69 7374 2e61  amplitude_list.a
-00021bc0: 7070 656e 6428 636f 6d6d 615f 7374 725f  ppend(comma_str_
-00021bd0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00021be0: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
-00021bf0: 696b 345f 6c69 6e65 4564 6974 2e74 6578  ik4_lineEdit.tex
-00021c00: 7428 2929 290a 2020 2020 2020 2020 2020  t())).          
-00021c10: 2020 2020 2020 7769 6e64 696e 6732 5f70        winding2_p
-00021c20: 6869 5f72 6164 5f6c 6973 742e 6170 7065  hi_rad_list.appe
-00021c30: 6e64 2863 6f6d 6d61 5f73 7472 5f74 6f5f  nd(comma_str_to_
-00021c40: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-00021c50: 2e6d 645f 7769 6e64 696e 6732 5f70 6b34  .md_winding2_pk4
-00021c60: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00021c70: 2929 0a20 2020 2020 2020 2069 6620 7365  )).        if se
-00021c80: 6c66 2e6d 645f 666b 355f 6368 6563 6b42  lf.md_fk5_checkB
-00021c90: 6f78 2e69 7343 6865 636b 6564 2829 3a0a  ox.isChecked():.
-00021ca0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-00021cb0: 696e 6731 5f66 7265 7175 656e 6379 5f6c  ing1_frequency_l
-00021cc0: 6973 742e 6170 7065 6e64 2835 202a 2063  ist.append(5 * c
-00021cd0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00021ce0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00021cf0: 6261 7365 5f66 7265 7175 656e 6379 5f6c  base_frequency_l
-00021d00: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
-00021d10: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
-00021d20: 6469 6e67 315f 616d 706c 6974 7564 655f  ding1_amplitude_
-00021d30: 6c69 7374 2e61 7070 656e 6428 636f 6d6d  list.append(comm
-00021d40: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
-00021d50: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
-00021d60: 6469 6e67 315f 696b 355f 6c69 6e65 4564  ding1_ik5_lineEd
-00021d70: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
-00021d80: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
-00021d90: 5f70 6869 5f72 6164 5f6c 6973 742e 6170  _phi_rad_list.ap
-00021da0: 7065 6e64 2863 6f6d 6d61 5f73 7472 5f74  pend(comma_str_t
-00021db0: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00021dc0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f70  lf.md_winding1_p
-00021dd0: 6b35 5f6c 696e 6545 6469 742e 7465 7874  k5_lineEdit.text
-00021de0: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
-00021df0: 2069 6620 7365 6c66 2e6d 645f 7369 6d75   if self.md_simu
-00021e00: 6c61 7469 6f6e 5f74 7970 655f 636f 6d62  lation_type_comb
-00021e10: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-00021e20: 2829 2021 3d20 7365 6c66 2e74 7261 6e73  () != self.trans
-00021e30: 6c61 7469 6f6e 5f64 6963 745b 2769 6e64  lation_dict['ind
-00021e40: 7563 746f 7227 5d3a 0a20 2020 2020 2020  uctor']:.       
-00021e50: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-00021e60: 325f 6672 6571 7565 6e63 795f 6c69 7374  2_frequency_list
-00021e70: 2e61 7070 656e 6428 3520 2a20 636f 6d6d  .append(5 * comm
-00021e80: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
-00021e90: 6c6f 6174 2873 656c 662e 6d64 5f62 6173  loat(self.md_bas
-00021ea0: 655f 6672 6571 7565 6e63 795f 6c69 6e65  e_frequency_line
-00021eb0: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
-00021ec0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-00021ed0: 6e64 696e 6732 5f61 6d70 6c69 7475 6465  nding2_amplitude
-00021ee0: 5f6c 6973 742e 6170 7065 6e64 2863 6f6d  _list.append(com
-00021ef0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00021f00: 666c 6f61 7428 7365 6c66 2e6d 645f 7769  float(self.md_wi
-00021f10: 6e64 696e 6732 5f69 6b35 5f6c 696e 6545  nding2_ik5_lineE
-00021f20: 6469 742e 7465 7874 2829 2929 0a20 2020  dit.text())).   
-00021f30: 2020 2020 2020 2020 2020 2020 2077 696e               win
-00021f40: 6469 6e67 325f 7068 695f 7261 645f 6c69  ding2_phi_rad_li
-00021f50: 7374 2e61 7070 656e 6428 636f 6d6d 615f  st.append(comma_
-00021f60: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-00021f70: 6174 2873 656c 662e 6d64 5f77 696e 6469  at(self.md_windi
-00021f80: 6e67 325f 706b 355f 6c69 6e65 4564 6974  ng2_pk5_lineEdit
-00021f90: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
-00021fa0: 2020 6966 2073 656c 662e 6d64 5f66 6b36    if self.md_fk6
-00021fb0: 5f63 6865 636b 426f 782e 6973 4368 6563  _checkBox.isChec
-00021fc0: 6b65 6428 293a 0a20 2020 2020 2020 2020  ked():.         
-00021fd0: 2020 2077 696e 6469 6e67 315f 6672 6571     winding1_freq
-00021fe0: 7565 6e63 795f 6c69 7374 2e61 7070 656e  uency_list.appen
-00021ff0: 6428 3620 2a20 636f 6d6d 615f 7374 725f  d(6 * comma_str_
-00022000: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00022010: 656c 662e 6d64 5f62 6173 655f 6672 6571  elf.md_base_freq
-00022020: 7565 6e63 795f 6c69 6e65 4564 6974 2e74  uency_lineEdit.t
-00022030: 6578 7428 2929 290a 2020 2020 2020 2020  ext())).        
-00022040: 2020 2020 7769 6e64 696e 6731 5f61 6d70      winding1_amp
-00022050: 6c69 7475 6465 5f6c 6973 742e 6170 7065  litude_list.appe
-00022060: 6e64 2863 6f6d 6d61 5f73 7472 5f74 6f5f  nd(comma_str_to_
-00022070: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-00022080: 2e6d 645f 7769 6e64 696e 6731 5f69 6b36  .md_winding1_ik6
-00022090: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-000220a0: 2929 0a20 2020 2020 2020 2020 2020 2077  )).            w
-000220b0: 696e 6469 6e67 315f 7068 695f 7261 645f  inding1_phi_rad_
-000220c0: 6c69 7374 2e61 7070 656e 6428 636f 6d6d  list.append(comm
-000220d0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
-000220e0: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
-000220f0: 6469 6e67 315f 706b 365f 6c69 6e65 4564  ding1_pk6_lineEd
-00022100: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
-00022110: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
-00022120: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
-00022130: 7065 5f63 6f6d 626f 426f 782e 6375 7272  pe_comboBox.curr
-00022140: 656e 7454 6578 7428 2920 213d 2073 656c  entText() != sel
-00022150: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
-00022160: 6374 5b27 696e 6475 6374 6f72 275d 3a0a  ct['inductor']:.
-00022170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022180: 7769 6e64 696e 6732 5f66 7265 7175 656e  winding2_frequen
-00022190: 6379 5f6c 6973 742e 6170 7065 6e64 2836  cy_list.append(6
-000221a0: 202a 2063 6f6d 6d61 5f73 7472 5f74 6f5f   * comma_str_to_
-000221b0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-000221c0: 2e6d 645f 6261 7365 5f66 7265 7175 656e  .md_base_frequen
-000221d0: 6379 5f6c 696e 6545 6469 742e 7465 7874  cy_lineEdit.text
-000221e0: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
-000221f0: 2020 2020 2077 696e 6469 6e67 325f 616d       winding2_am
-00022200: 706c 6974 7564 655f 6c69 7374 2e61 7070  plitude_list.app
-00022210: 656e 6428 636f 6d6d 615f 7374 725f 746f  end(comma_str_to
-00022220: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00022230: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
-00022240: 365f 6c69 6e65 4564 6974 2e74 6578 7428  6_lineEdit.text(
-00022250: 2929 290a 2020 2020 2020 2020 2020 2020  ))).            
-00022260: 2020 2020 7769 6e64 696e 6732 5f70 6869      winding2_phi
-00022270: 5f72 6164 5f6c 6973 742e 6170 7065 6e64  _rad_list.append
-00022280: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
-00022290: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-000222a0: 645f 7769 6e64 696e 6732 5f70 6b36 5f6c  d_winding2_pk6_l
-000222b0: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
-000222c0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
-000222d0: 2e6d 645f 666b 375f 6368 6563 6b42 6f78  .md_fk7_checkBox
-000222e0: 2e69 7343 6865 636b 6564 2829 3a0a 2020  .isChecked():.  
-000222f0: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-00022300: 6731 5f66 7265 7175 656e 6379 5f6c 6973  g1_frequency_lis
-00022310: 742e 6170 7065 6e64 2837 202a 2063 6f6d  t.append(7 * com
-00022320: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00022330: 666c 6f61 7428 7365 6c66 2e6d 645f 6261  float(self.md_ba
-00022340: 7365 5f66 7265 7175 656e 6379 5f6c 696e  se_frequency_lin
-00022350: 6545 6469 742e 7465 7874 2829 2929 0a20  eEdit.text())). 
-00022360: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-00022370: 6e67 315f 616d 706c 6974 7564 655f 6c69  ng1_amplitude_li
-00022380: 7374 2e61 7070 656e 6428 636f 6d6d 615f  st.append(comma_
-00022390: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-000223a0: 6174 2873 656c 662e 6d64 5f77 696e 6469  at(self.md_windi
-000223b0: 6e67 315f 696b 375f 6c69 6e65 4564 6974  ng1_ik7_lineEdit
-000223c0: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
-000223d0: 2020 2020 2020 7769 6e64 696e 6731 5f70        winding1_p
-000223e0: 6869 5f72 6164 5f6c 6973 742e 6170 7065  hi_rad_list.appe
-000223f0: 6e64 2863 6f6d 6d61 5f73 7472 5f74 6f5f  nd(comma_str_to_
-00022400: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-00022410: 2e6d 645f 7769 6e64 696e 6731 5f70 6b37  .md_winding1_pk7
-00022420: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00022430: 2929 0a20 2020 2020 2020 2020 2020 2069  )).            i
-00022440: 6620 7365 6c66 2e6d 645f 7369 6d75 6c61  f self.md_simula
-00022450: 7469 6f6e 5f74 7970 655f 636f 6d62 6f42  tion_type_comboB
-00022460: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
-00022470: 2021 3d20 7365 6c66 2e74 7261 6e73 6c61   != self.transla
-00022480: 7469 6f6e 5f64 6963 745b 2769 6e64 7563  tion_dict['induc
-00022490: 746f 7227 5d3a 0a20 2020 2020 2020 2020  tor']:.         
-000224a0: 2020 2020 2020 2077 696e 6469 6e67 325f         winding2_
-000224b0: 6672 6571 7565 6e63 795f 6c69 7374 2e61  frequency_list.a
-000224c0: 7070 656e 6428 3720 2a20 636f 6d6d 615f  ppend(7 * comma_
-000224d0: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-000224e0: 6174 2873 656c 662e 6d64 5f62 6173 655f  at(self.md_base_
-000224f0: 6672 6571 7565 6e63 795f 6c69 6e65 4564  frequency_lineEd
-00022500: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
-00022510: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-00022520: 696e 6732 5f61 6d70 6c69 7475 6465 5f6c  ing2_amplitude_l
-00022530: 6973 742e 6170 7065 6e64 2863 6f6d 6d61  ist.append(comma
-00022540: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
-00022550: 6f61 7428 7365 6c66 2e6d 645f 7769 6e64  oat(self.md_wind
-00022560: 696e 6732 5f69 6b37 5f6c 696e 6545 6469  ing2_ik7_lineEdi
-00022570: 742e 7465 7874 2829 2929 0a20 2020 2020  t.text())).     
-00022580: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-00022590: 6e67 325f 7068 695f 7261 645f 6c69 7374  ng2_phi_rad_list
-000225a0: 2e61 7070 656e 6428 636f 6d6d 615f 7374  .append(comma_st
-000225b0: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-000225c0: 2873 656c 662e 6d64 5f77 696e 6469 6e67  (self.md_winding
-000225d0: 325f 706b 375f 6c69 6e65 4564 6974 2e74  2_pk7_lineEdit.t
-000225e0: 6578 7428 2929 290a 2020 2020 2020 2020  ext())).        
-000225f0: 6966 2073 656c 662e 6d64 5f66 6b38 5f63  if self.md_fk8_c
-00022600: 6865 636b 426f 782e 6973 4368 6563 6b65  heckBox.isChecke
-00022610: 6428 293a 0a20 2020 2020 2020 2020 2020  d():.           
-00022620: 2077 696e 6469 6e67 315f 6672 6571 7565   winding1_freque
-00022630: 6e63 795f 6c69 7374 2e61 7070 656e 6428  ncy_list.append(
-00022640: 3820 2a20 636f 6d6d 615f 7374 725f 746f  8 * comma_str_to
-00022650: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00022660: 662e 6d64 5f62 6173 655f 6672 6571 7565  f.md_base_freque
-00022670: 6e63 795f 6c69 6e65 4564 6974 2e74 6578  ncy_lineEdit.tex
-00022680: 7428 2929 290a 2020 2020 2020 2020 2020  t())).          
-00022690: 2020 7769 6e64 696e 6731 5f61 6d70 6c69    winding1_ampli
-000226a0: 7475 6465 5f6c 6973 742e 6170 7065 6e64  tude_list.append
-000226b0: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
-000226c0: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-000226d0: 645f 7769 6e64 696e 6731 5f69 6b38 5f6c  d_winding1_ik8_l
-000226e0: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
-000226f0: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
-00022700: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
-00022710: 7374 2e61 7070 656e 6428 636f 6d6d 615f  st.append(comma_
-00022720: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-00022730: 6174 2873 656c 662e 6d64 5f77 696e 6469  at(self.md_windi
-00022740: 6e67 315f 706b 385f 6c69 6e65 4564 6974  ng1_pk8_lineEdit
-00022750: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
-00022760: 2020 2020 2020 6966 2073 656c 662e 6d64        if self.md
-00022770: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
-00022780: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
-00022790: 7454 6578 7428 2920 213d 2073 656c 662e  tText() != self.
-000227a0: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
-000227b0: 5b27 696e 6475 6374 6f72 275d 3a0a 2020  ['inductor']:.  
-000227c0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-000227d0: 6e64 696e 6732 5f66 7265 7175 656e 6379  nding2_frequency
-000227e0: 5f6c 6973 742e 6170 7065 6e64 2838 202a  _list.append(8 *
-000227f0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
-00022800: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-00022810: 645f 6261 7365 5f66 7265 7175 656e 6379  d_base_frequency
-00022820: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00022830: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-00022840: 2020 2077 696e 6469 6e67 325f 616d 706c     winding2_ampl
-00022850: 6974 7564 655f 6c69 7374 2e61 7070 656e  itude_list.appen
-00022860: 6428 636f 6d6d 615f 7374 725f 746f 5f70  d(comma_str_to_p
-00022870: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-00022880: 6d64 5f77 696e 6469 6e67 325f 696b 385f  md_winding2_ik8_
-00022890: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-000228a0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-000228b0: 2020 7769 6e64 696e 6732 5f70 6869 5f72    winding2_phi_r
-000228c0: 6164 5f6c 6973 742e 6170 7065 6e64 2863  ad_list.append(c
-000228d0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-000228e0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-000228f0: 7769 6e64 696e 6732 5f70 6b38 5f6c 696e  winding2_pk8_lin
-00022900: 6545 6469 742e 7465 7874 2829 2929 0a0a  eEdit.text()))..
-00022910: 2020 2020 2020 2020 7265 7475 726e 2077          return w
-00022920: 696e 6469 6e67 315f 6672 6571 7565 6e63  inding1_frequenc
-00022930: 795f 6c69 7374 2c20 7769 6e64 696e 6731  y_list, winding1
-00022940: 5f61 6d70 6c69 7475 6465 5f6c 6973 742c  _amplitude_list,
-00022950: 2077 696e 6469 6e67 315f 7068 695f 7261   winding1_phi_ra
-00022960: 645f 6c69 7374 2c20 7769 6e64 696e 6732  d_list, winding2
-00022970: 5f66 7265 7175 656e 6379 5f6c 6973 742c  _frequency_list,
-00022980: 2077 696e 6469 6e67 325f 616d 706c 6974   winding2_amplit
-00022990: 7564 655f 6c69 7374 2c20 7769 6e64 696e  ude_list, windin
-000229a0: 6732 5f70 6869 5f72 6164 5f6c 6973 740a  g2_phi_rad_list.
-000229b0: 0a20 2020 2064 6566 2077 6467 5f73 6368  .    def wdg_sch
-000229c0: 656d 6528 7365 6c66 293a 0a20 2020 2020  eme(self):.     
-000229d0: 2020 2022 2222 4368 6f6f 7365 2074 6865     """Choose the
-000229e0: 2077 696e 6469 6e67 2073 6368 656d 652e   winding scheme.
-000229f0: 2222 220a 2020 2020 2020 2020 6966 2073  """.        if s
-00022a00: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
-00022a10: 7363 6865 6d65 5f63 6f6d 626f 426f 782e  scheme_comboBox.
-00022a20: 6375 7272 656e 7454 6578 7428 2920 3d3d  currentText() ==
-00022a30: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
-00022a40: 6e5f 6469 6374 5b22 7371 7561 7265 225d  n_dict["square"]
-00022a50: 3a0a 2020 2020 2020 2020 2020 2020 7363  :.            sc
-00022a60: 6865 6d65 203d 2027 7371 7561 7265 270a  heme = 'square'.
-00022a70: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
-00022a80: 662e 6d64 5f77 696e 6469 6e67 315f 7363  f.md_winding1_sc
-00022a90: 6865 6d65 5f63 6f6d 626f 426f 782e 6375  heme_comboBox.cu
-00022aa0: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
-00022ab0: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-00022ac0: 6469 6374 5b22 6865 7861 225d 3a0a 2020  dict["hexa"]:.  
-00022ad0: 2020 2020 2020 2020 2020 7363 6865 6d65            scheme
-00022ae0: 203d 2027 6865 7861 270a 0a20 2020 2064   = 'hexa'..    d
-00022af0: 6566 206d 645f 7365 7475 705f 6765 6f6d  ef md_setup_geom
-00022b00: 6574 7279 2873 656c 6629 3a0a 2020 2020  etry(self):.    
-00022b10: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00022b20: 5365 7420 7570 2074 6865 2063 6f72 6520  Set up the core 
-00022b30: 616e 6420 636f 6e64 7563 746f 7220 6765  and conductor ge
-00022b40: 6f6d 6574 7279 2064 6570 656e 6469 6e67  ometry depending
-00022b50: 206f 6e20 7468 6520 4755 4920 696e 7075   on the GUI inpu
-00022b60: 7420 7061 7261 6d65 7465 7273 2e0a 0a20  t parameters... 
-00022b70: 2020 2020 2020 2072 6574 7572 6e73 3a20         returns: 
-00022b80: 6665 6d6d 7420 4d61 676e 6574 6963 436f  femmt MagneticCo
-00022b90: 6d70 6f6e 656e 740a 0a20 2020 2020 2020  mponent..       
-00022ba0: 2022 2222 0a20 2020 2020 2020 2023 2067   """.        # g
-00022bb0: 656f 203d 2066 6d74 2e4d 6167 6e65 7469  eo = fmt.Magneti
-00022bc0: 6343 6f6d 706f 6e65 6e74 2863 6f6d 706f  cComponent(compo
-00022bd0: 6e65 6e74 5f74 7970 653d 666d 742e 436f  nent_type=fmt.Co
-00022be0: 6d70 6f6e 656e 7454 7970 652e 496e 6475  mponentType.Indu
-00022bf0: 6374 6f72 2c20 6973 5f67 7569 3d54 7275  ctor, is_gui=Tru
-00022c00: 6529 0a20 2020 2020 2020 2023 2073 656c  e).        # sel
-00022c10: 662e 6368 6563 6b5f 6f6e 656c 6162 5f63  f.check_onelab_c
-00022c20: 6f6e 6669 6728 6765 6f29 0a0a 2020 2020  onfig(geo)..    
-00022c30: 2020 2020 6966 2073 656c 662e 6d64 5f73      if self.md_s
-00022c40: 696d 756c 6174 696f 6e5f 7479 7065 5f63  imulation_type_c
-00022c50: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00022c60: 6578 7428 2920 3d3d 2073 656c 662e 7472  ext() == self.tr
-00022c70: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
-00022c80: 696e 6475 6374 6f72 275d 3a0a 2020 2020  inductor']:.    
-00022c90: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00022ca0: 7369 6d75 6c61 7469 6f6e 5f51 4c61 6265  simulation_QLabe
-00022cb0: 6c2e 7365 7454 6578 7428 2773 696d 756c  l.setText('simul
-00022cc0: 6174 696f 6e20 7374 6172 7465 742e 2e2e  ation startet...
-00022cd0: 2729 0a0a 2020 2020 2020 2020 2020 2020  ')..            
-00022ce0: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
-00022cf0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00022d00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00022d10: 2d0a 2020 2020 2020 2020 2020 2020 2320  -.            # 
-00022d20: 436f 7265 0a20 2020 2020 2020 2020 2020  Core.           
-00022d30: 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   # -------------
-00022d40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00022d50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00022d60: 2d2d 0a20 2020 2020 2020 2020 2020 2022  --.            "
-00022d70: 2222 0a20 2020 2020 2020 2020 2020 2067  "".            g
-00022d80: 656f 2e63 6f72 652e 7570 6461 7465 2874  eo.core.update(t
-00022d90: 7970 653d 2245 4922 2c0a 2020 2020 2020  ype="EI",.      
-00022da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022db0: 2020 2020 2020 636f 7265 5f77 3d63 6f6d        core_w=com
-00022dc0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00022dd0: 666c 6f61 7428 7365 6c66 2e6d 645f 636f  float(self.md_co
-00022de0: 7265 5f77 6964 7468 5f6c 696e 6545 6469  re_width_lineEdi
-00022df0: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
-00022e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022e10: 2020 2020 2020 2077 696e 646f 775f 683d         window_h=
-00022e20: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00022e30: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00022e40: 5f77 696e 646f 775f 6865 6967 6874 5f6c  _window_height_l
-00022e50: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
-00022e60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00022e70: 2020 2020 2020 2020 2020 2020 2077 696e               win
-00022e80: 646f 775f 773d 636f 6d6d 615f 7374 725f  dow_w=comma_str_
-00022e90: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00022ea0: 656c 662e 6d64 5f77 696e 646f 775f 7769  elf.md_window_wi
-00022eb0: 6474 685f 6c69 6e65 4564 6974 2e74 6578  dth_lineEdit.tex
-00022ec0: 7428 2929 2922 2222 0a0a 2020 2020 2020  t()))"""..      
-00022ed0: 2020 2020 2020 6765 6f20 3d20 666d 742e        geo = fmt.
-00022ee0: 4d61 676e 6574 6963 436f 6d70 6f6e 656e  MagneticComponen
-00022ef0: 7428 636f 6d70 6f6e 656e 745f 7479 7065  t(component_type
-00022f00: 3d66 6d74 2e43 6f6d 706f 6e65 6e74 5479  =fmt.ComponentTy
-00022f10: 7065 2e49 6e64 7563 746f 722c 0a20 2020  pe.Inductor,.   
-00022f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022f40: 2020 2020 2077 6f72 6b69 6e67 5f64 6972       working_dir
-00022f50: 6563 746f 7279 3d73 656c 662e 6d64 5f77  ectory=self.md_w
-00022f60: 6f72 6b69 6e67 5f64 6972 6563 746f 7279  orking_directory
-00022f70: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00022f80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00022f90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00022fa0: 2020 2020 2020 2020 2020 7665 7262 6f73            verbos
-00022fb0: 6974 793d 666d 742e 5665 7262 6f73 6974  ity=fmt.Verbosit
-00022fc0: 792e 546f 436f 6e73 6f6c 6529 0a0a 2020  y.ToConsole)..  
-00022fd0: 2020 2020 2020 2020 2020 636f 7265 5f64            core_d
-00022fe0: 696d 656e 7369 6f6e 7320 3d20 666d 742e  imensions = fmt.
-00022ff0: 6474 6f73 2e53 696e 676c 6543 6f72 6544  dtos.SingleCoreD
-00023000: 696d 656e 7369 6f6e 7328 636f 7265 5f69  imensions(core_i
-00023010: 6e6e 6572 5f64 6961 6d65 7465 723d 636f  nner_diameter=co
-00023020: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00023030: 5f66 6c6f 6174 2873 656c 662e 6d64 5f63  _float(self.md_c
-00023040: 6f72 655f 7769 6474 685f 6c69 6e65 4564  ore_width_lineEd
-00023050: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
-00023060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023080: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023090: 2020 2020 2020 2020 7769 6e64 6f77 5f77          window_w
-000230a0: 3d63 6f6d 6d61 5f73 7472 5f74 6f5f 706f  =comma_str_to_po
-000230b0: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-000230c0: 645f 7769 6e64 6f77 5f77 6964 7468 5f6c  d_window_width_l
-000230d0: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
-000230e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000230f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023100: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023110: 2020 2020 2020 2020 2020 2020 2077 696e               win
-00023120: 646f 775f 683d 636f 6d6d 615f 7374 725f  dow_h=comma_str_
-00023130: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00023140: 656c 662e 6d64 5f77 696e 646f 775f 6865  elf.md_window_he
-00023150: 6967 6874 5f6c 696e 6545 6469 742e 7465  ight_lineEdit.te
-00023160: 7874 2829 292c 0a20 2020 2020 2020 2020  xt()),.         
-00023170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000231a0: 2020 2063 6f72 655f 683d 3129 0a0a 2020     core_h=1)..  
-000231b0: 2020 2020 2020 2020 2020 6d61 7465 7269            materi
-000231c0: 616c 5f65 6e75 6d20 3d20 666d 742e 4d61  al_enum = fmt.Ma
-000231d0: 7465 7269 616c 2873 656c 662e 6d64 5f63  terial(self.md_c
-000231e0: 6f72 655f 6d61 7465 7269 616c 5f63 6f6d  ore_material_com
-000231f0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-00023200: 7428 2929 0a0a 2020 2020 2020 2020 2020  t())..          
-00023210: 2020 636f 7265 203d 2066 6d74 2e43 6f72    core = fmt.Cor
-00023220: 6528 636f 7265 5f74 7970 653d 666d 742e  e(core_type=fmt.
-00023230: 436f 7265 5479 7065 2e53 696e 676c 652c  CoreType.Single,
-00023240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023250: 2020 2020 2020 2020 2020 2020 2063 6f72               cor
-00023260: 655f 6469 6d65 6e73 696f 6e73 3d63 6f72  e_dimensions=cor
-00023270: 655f 6469 6d65 6e73 696f 6e73 2c0a 2020  e_dimensions,.  
-00023280: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023290: 2020 2020 2020 2020 2020 6465 7461 696c            detail
-000232a0: 6564 5f63 6f72 655f 6d6f 6465 6c3d 4661  ed_core_model=Fa
-000232b0: 6c73 652c 0a20 2020 2020 2020 2020 2020  lse,.           
-000232c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000232d0: 206d 6174 6572 6961 6c3d 6d61 7465 7269   material=materi
-000232e0: 616c 5f65 6e75 6d2c 2074 656d 7065 7261  al_enum, tempera
-000232f0: 7475 7265 3d34 352c 2066 7265 7175 656e  ture=45, frequen
-00023300: 6379 3d69 6e74 2873 656c 662e 6d64 5f62  cy=int(self.md_b
-00023310: 6173 655f 6672 6571 7565 6e63 795f 6c69  ase_frequency_li
-00023320: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
-00023330: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023340: 2020 2020 2020 2020 2020 2020 2320 7065              # pe
-00023350: 726d 6561 6269 6c69 7479 5f64 6174 6173  rmeability_datas
-00023360: 6f75 7263 653d 226d 616e 7566 6163 7475  ource="manufactu
-00023370: 7265 725f 6461 7461 7368 6565 7422 2c0a  rer_datasheet",.
-00023380: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023390: 2020 2020 2020 2020 2020 2020 7065 726d              perm
-000233a0: 6561 6269 6c69 7479 5f64 6174 6173 6f75  eability_datasou
-000233b0: 7263 653d 666d 742e 4d61 7465 7269 616c  rce=fmt.Material
-000233c0: 4461 7461 536f 7572 6365 2e4d 6561 7375  DataSource.Measu
-000233d0: 7265 6d65 6e74 2c0a 2020 2020 2020 2020  rement,.        
-000233e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000233f0: 2020 2020 7065 726d 6561 6269 6c69 7479      permeability
-00023400: 5f64 6174 6174 7970 653d 666d 742e 4d65  _datatype=fmt.Me
-00023410: 6173 7572 656d 656e 7444 6174 6154 7970  asurementDataTyp
-00023420: 652e 436f 6d70 6c65 7850 6572 6d65 6162  e.ComplexPermeab
-00023430: 696c 6974 792c 0a20 2020 2020 2020 2020  ility,.         
-00023440: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023450: 2020 2070 6572 6d65 6162 696c 6974 795f     permeability_
-00023460: 6d65 6173 7572 656d 656e 745f 7365 7475  measurement_setu
-00023470: 703d 6d64 622e 4d65 6173 7572 656d 656e  p=mdb.Measuremen
-00023480: 7453 6574 7570 2e4c 4541 5f4c 4b2c 0a20  tSetup.LEA_LK,. 
-00023490: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000234a0: 2020 2020 2020 2020 2020 2070 6572 6d69             permi
-000234b0: 7474 6976 6974 795f 6461 7461 736f 7572  ttivity_datasour
-000234c0: 6365 3d66 6d74 2e4d 6174 6572 6961 6c44  ce=fmt.MaterialD
-000234d0: 6174 6153 6f75 7263 652e 4d65 6173 7572  ataSource.Measur
-000234e0: 656d 656e 742c 0a20 2020 2020 2020 2020  ement,.         
-000234f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023500: 2020 2070 6572 6d69 7474 6976 6974 795f     permittivity_
-00023510: 6461 7461 7479 7065 3d66 6d74 2e4d 6561  datatype=fmt.Mea
-00023520: 7375 7265 6d65 6e74 4461 7461 5479 7065  surementDataType
-00023530: 2e43 6f6d 706c 6578 5065 726d 6974 7469  .ComplexPermitti
-00023540: 7669 7479 2c0a 2020 2020 2020 2020 2020  vity,.          
+00018060: 2020 7465 6d70 6572 6174 7572 653d 5472    temperature=Tr
+00018070: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
+00018080: 6765 745f 6672 6571 335f 6c69 7374 203d  get_freq3_list =
+00018090: 2064 6174 6162 6173 652e 6472 6f70 5f64   database.drop_d
+000180a0: 6f77 6e5f 6c69 7374 286d 6174 6572 6961  own_list(materia
+000180b0: 6c5f 6e61 6d65 3d6d 6174 5f74 6578 7433  l_name=mat_text3
+000180c0: 2c20 6461 7461 7479 7065 3d22 636f 6d70  , datatype="comp
+000180d0: 6c65 785f 7065 726d 6561 6269 6c69 7479  lex_permeability
+000180e0: 222c 0a20 2020 2020 2020 2020 2020 2020  ",.             
+000180f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018100: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018110: 2020 2020 2020 2020 6d65 6173 7572 656d          measurem
+00018120: 656e 745f 6e61 6d65 3d74 6573 745f 7365  ent_name=test_se
+00018130: 7475 705f 7465 7874 332c 2063 6f6d 7061  tup_text3, compa
+00018140: 7269 736f 6e5f 7479 7065 3d22 6d76 6d22  rison_type="mvm"
+00018150: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00018160: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018170: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018180: 2020 2020 2020 2066 7265 7175 656e 6379         frequency
+00018190: 3d54 7275 6529 0a20 2020 2020 2020 2061  =True).        a
+000181a0: 7574 5f74 656d 705f 6f70 7469 6f6e 7333  ut_temp_options3
+000181b0: 203d 2067 6574 5f74 656d 7033 5f6c 6973   = get_temp3_lis
+000181c0: 740a 2020 2020 2020 2020 6175 745f 6672  t.        aut_fr
+000181d0: 6571 5f6f 7074 696f 6e73 3320 3d20 6765  eq_options3 = ge
+000181e0: 745f 6672 6571 335f 6c69 7374 0a0a 2020  t_freq3_list..  
+000181f0: 2020 2020 2020 7465 6d70 5f73 7472 203d        temp_str =
+00018200: 205b 6627 7b69 7465 6d3a 2e32 667d 2720   [f'{item:.2f}' 
+00018210: 666f 7220 6974 656d 2069 6e20 6175 745f  for item in aut_
+00018220: 7465 6d70 5f6f 7074 696f 6e73 335d 0a20  temp_options3]. 
+00018230: 2020 2020 2020 2066 7265 715f 7374 7220         freq_str 
+00018240: 3d20 5b66 277b 6974 656d 3a2e 3266 7d27  = [f'{item:.2f}'
+00018250: 2066 6f72 2069 7465 6d20 696e 2061 7574   for item in aut
+00018260: 5f66 7265 715f 6f70 7469 6f6e 7333 5d0a  _freq_options3].
+00018270: 2020 2020 2020 2020 7365 6c66 2e61 7574          self.aut
+00018280: 5f74 656d 705f 6d33 5f63 6f6d 626f 426f  _temp_m3_comboBo
+00018290: 785f 322e 636c 6561 7228 290a 2020 2020  x_2.clear().    
+000182a0: 2020 2020 7365 6c66 2e61 7574 5f66 7265      self.aut_fre
+000182b0: 715f 6d33 5f63 6f6d 626f 426f 782e 636c  q_m3_comboBox.cl
+000182c0: 6561 7228 290a 2020 2020 2020 2020 666f  ear().        fo
+000182d0: 7220 6f70 7469 6f6e 2069 6e20 7465 6d70  r option in temp
+000182e0: 5f73 7472 3a0a 2020 2020 2020 2020 2020  _str:.          
+000182f0: 2020 7365 6c66 2e61 7574 5f74 656d 705f    self.aut_temp_
+00018300: 6d33 5f63 6f6d 626f 426f 785f 322e 6164  m3_comboBox_2.ad
+00018310: 6449 7465 6d28 6f70 7469 6f6e 290a 0a20  dItem(option).. 
+00018320: 2020 2020 2020 2066 6f72 206f 7074 696f         for optio
+00018330: 6e20 696e 2066 7265 715f 7374 723a 0a20  n in freq_str:. 
+00018340: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00018350: 6175 745f 6672 6571 5f6d 335f 636f 6d62  aut_freq_m3_comb
+00018360: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+00018370: 696f 6e29 0a0a 2020 2020 6465 6620 7465  ion)..    def te
+00018380: 6d70 6672 6571 696e 7075 7434 2873 656c  mpfreqinput4(sel
+00018390: 6629 3a0a 2020 2020 2020 2020 2222 2247  f):.        """G
+000183a0: 6574 2074 6865 2066 7265 7175 656e 6379  et the frequency
+000183b0: 2061 6e64 2074 656d 7065 7261 7475 7265   and temperature
+000183c0: 206f 6620 6120 7061 7274 6963 756c 6172   of a particular
+000183d0: 206d 6174 6572 6961 6c20 7365 6c65 6374   material select
+000183e0: 6564 2e22 2222 0a20 2020 2020 2020 206d  ed.""".        m
+000183f0: 6174 5f74 6578 7434 203d 2073 656c 662e  at_text4 = self.
+00018400: 6461 745f 636f 7265 5f6d 6174 6572 6961  dat_core_materia
+00018410: 6c34 5f63 6f6d 626f 426f 785f 322e 6375  l4_comboBox_2.cu
+00018420: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
+00018430: 2020 2020 7465 7374 5f73 6574 7570 5f74      test_setup_t
+00018440: 6578 7434 203d 2073 656c 662e 7465 7374  ext4 = self.test
+00018450: 5f6e 616d 655f 345f 636f 6d62 6f42 6f78  _name_4_comboBox
+00018460: 2e63 7572 7265 6e74 5465 7874 2829 0a20  .currentText(). 
+00018470: 2020 2020 2020 2067 6574 5f74 656d 7034         get_temp4
+00018480: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
+00018490: 2020 2067 6574 5f66 7265 7134 5f6c 6973     get_freq4_lis
+000184a0: 7420 3d20 5b5d 0a20 2020 2020 2020 2069  t = [].        i
+000184b0: 6620 6d61 745f 7465 7874 343a 0a20 2020  f mat_text4:.   
+000184c0: 2020 2020 2020 2020 2067 6574 5f74 656d           get_tem
+000184d0: 7034 5f6c 6973 7420 3d20 6461 7461 6261  p4_list = databa
+000184e0: 7365 2e64 726f 705f 646f 776e 5f6c 6973  se.drop_down_lis
+000184f0: 7428 6d61 7465 7269 616c 5f6e 616d 653d  t(material_name=
+00018500: 6d61 745f 7465 7874 342c 2064 6174 6174  mat_text4, datat
+00018510: 7970 653d 2263 6f6d 706c 6578 5f70 6572  ype="complex_per
+00018520: 6d65 6162 696c 6974 7922 2c0a 2020 2020  meability",.    
+00018530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018560: 206d 6561 7375 7265 6d65 6e74 5f6e 616d   measurement_nam
+00018570: 653d 7465 7374 5f73 6574 7570 5f74 6578  e=test_setup_tex
+00018580: 7434 2c20 636f 6d70 6172 6973 6f6e 5f74  t4, comparison_t
+00018590: 7970 653d 226d 766d 222c 0a20 2020 2020  ype="mvm",.     
+000185a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000185b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000185c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000185d0: 7465 6d70 6572 6174 7572 653d 5472 7565  temperature=True
+000185e0: 290a 2020 2020 2020 2020 2020 2020 6765  ).            ge
+000185f0: 745f 6672 6571 345f 6c69 7374 203d 2064  t_freq4_list = d
+00018600: 6174 6162 6173 652e 6472 6f70 5f64 6f77  atabase.drop_dow
+00018610: 6e5f 6c69 7374 286d 6174 6572 6961 6c5f  n_list(material_
+00018620: 6e61 6d65 3d6d 6174 5f74 6578 7434 2c20  name=mat_text4, 
+00018630: 6461 7461 7479 7065 3d22 636f 6d70 6c65  datatype="comple
+00018640: 785f 7065 726d 6561 6269 6c69 7479 222c  x_permeability",
+00018650: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00018660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018680: 2020 2020 2020 6d65 6173 7572 656d 656e        measuremen
+00018690: 745f 6e61 6d65 3d74 6573 745f 7365 7475  t_name=test_setu
+000186a0: 705f 7465 7874 342c 2063 6f6d 7061 7269  p_text4, compari
+000186b0: 736f 6e5f 7479 7065 3d22 6d76 6d22 2c0a  son_type="mvm",.
+000186c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000186d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000186e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000186f0: 2020 2020 2066 7265 7175 656e 6379 3d54       frequency=T
+00018700: 7275 6529 0a20 2020 2020 2020 2061 7574  rue).        aut
+00018710: 5f74 656d 705f 6f70 7469 6f6e 7334 203d  _temp_options4 =
+00018720: 2067 6574 5f74 656d 7034 5f6c 6973 740a   get_temp4_list.
+00018730: 2020 2020 2020 2020 6175 745f 6672 6571          aut_freq
+00018740: 5f6f 7074 696f 6e73 3420 3d20 6765 745f  _options4 = get_
+00018750: 6672 6571 345f 6c69 7374 0a0a 2020 2020  freq4_list..    
+00018760: 2020 2020 7465 6d70 5f73 7472 203d 205b      temp_str = [
+00018770: 6627 7b69 7465 6d3a 2e32 667d 2720 666f  f'{item:.2f}' fo
+00018780: 7220 6974 656d 2069 6e20 6175 745f 7465  r item in aut_te
+00018790: 6d70 5f6f 7074 696f 6e73 345d 0a20 2020  mp_options4].   
+000187a0: 2020 2020 2066 7265 715f 7374 7220 3d20       freq_str = 
+000187b0: 5b66 277b 6974 656d 3a2e 3266 7d27 2066  [f'{item:.2f}' f
+000187c0: 6f72 2069 7465 6d20 696e 2061 7574 5f66  or item in aut_f
+000187d0: 7265 715f 6f70 7469 6f6e 7334 5d0a 2020  req_options4].  
+000187e0: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
+000187f0: 656d 705f 6d34 5f63 6f6d 626f 426f 785f  emp_m4_comboBox_
+00018800: 322e 636c 6561 7228 290a 2020 2020 2020  2.clear().      
+00018810: 2020 7365 6c66 2e61 7574 5f66 7265 715f    self.aut_freq_
+00018820: 6d34 5f63 6f6d 626f 426f 782e 636c 6561  m4_comboBox.clea
+00018830: 7228 290a 2020 2020 2020 2020 666f 7220  r().        for 
+00018840: 6f70 7469 6f6e 2069 6e20 7465 6d70 5f73  option in temp_s
+00018850: 7472 3a0a 2020 2020 2020 2020 2020 2020  tr:.            
+00018860: 7365 6c66 2e61 7574 5f74 656d 705f 6d34  self.aut_temp_m4
+00018870: 5f63 6f6d 626f 426f 785f 322e 6164 6449  _comboBox_2.addI
+00018880: 7465 6d28 6f70 7469 6f6e 290a 0a20 2020  tem(option)..   
+00018890: 2020 2020 2066 6f72 206f 7074 696f 6e20       for option 
+000188a0: 696e 2066 7265 715f 7374 723a 0a20 2020  in freq_str:.   
+000188b0: 2020 2020 2020 2020 2073 656c 662e 6175           self.au
+000188c0: 745f 6672 6571 5f6d 345f 636f 6d62 6f42  t_freq_m4_comboB
+000188d0: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
+000188e0: 6e29 0a0a 2020 2020 6465 6620 7465 6d70  n)..    def temp
+000188f0: 6672 6571 696e 7075 7435 2873 656c 6629  freqinput5(self)
+00018900: 3a0a 2020 2020 2020 2020 2222 2247 6574  :.        """Get
+00018910: 2074 6865 2066 7265 7175 656e 6379 2061   the frequency a
+00018920: 6e64 2074 656d 7065 7261 7475 7265 206f  nd temperature o
+00018930: 6620 6120 7061 7274 6963 756c 6172 206d  f a particular m
+00018940: 6174 6572 6961 6c20 7365 6c65 6374 6564  aterial selected
+00018950: 2e22 2222 0a20 2020 2020 2020 206d 6174  .""".        mat
+00018960: 5f74 6578 7435 203d 2073 656c 662e 6461  _text5 = self.da
+00018970: 745f 636f 7265 5f6d 6174 6572 6961 6c35  t_core_material5
+00018980: 5f63 6f6d 626f 426f 785f 322e 6375 7272  _comboBox_2.curr
+00018990: 656e 7454 6578 7428 290a 2020 2020 2020  entText().      
+000189a0: 2020 7465 7374 5f73 6574 7570 5f74 6578    test_setup_tex
+000189b0: 7435 203d 2073 656c 662e 7465 7374 5f6e  t5 = self.test_n
+000189c0: 616d 655f 355f 636f 6d62 6f42 6f78 2e63  ame_5_comboBox.c
+000189d0: 7572 7265 6e74 5465 7874 2829 0a20 2020  urrentText().   
+000189e0: 2020 2020 2067 6574 5f74 656d 7035 5f6c       get_temp5_l
+000189f0: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
+00018a00: 2067 6574 5f66 7265 7135 5f6c 6973 7420   get_freq5_list 
+00018a10: 3d20 5b5d 0a20 2020 2020 2020 2069 6620  = [].        if 
+00018a20: 6d61 745f 7465 7874 353a 0a20 2020 2020  mat_text5:.     
+00018a30: 2020 2020 2020 2067 6574 5f74 656d 7035         get_temp5
+00018a40: 5f6c 6973 7420 3d20 6461 7461 6261 7365  _list = database
+00018a50: 2e64 726f 705f 646f 776e 5f6c 6973 7428  .drop_down_list(
+00018a60: 6d61 7465 7269 616c 5f6e 616d 653d 6d61  material_name=ma
+00018a70: 745f 7465 7874 352c 2064 6174 6174 7970  t_text5, datatyp
+00018a80: 653d 2263 6f6d 706c 6578 5f70 6572 6d65  e="complex_perme
+00018a90: 6162 696c 6974 7922 2c0a 2020 2020 2020  ability",.      
+00018aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018ab0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018ac0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+00018ad0: 6561 7375 7265 6d65 6e74 5f6e 616d 653d  easurement_name=
+00018ae0: 7465 7374 5f73 6574 7570 5f74 6578 7435  test_setup_text5
+00018af0: 2c20 636f 6d70 6172 6973 6f6e 5f74 7970  , comparison_typ
+00018b00: 653d 226d 766d 222c 0a20 2020 2020 2020  e="mvm",.       
+00018b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018b30: 2020 2020 2020 2020 2020 2020 2020 7465                te
+00018b40: 6d70 6572 6174 7572 653d 5472 7565 290a  mperature=True).
+00018b50: 2020 2020 2020 2020 2020 2020 6765 745f              get_
+00018b60: 6672 6571 355f 6c69 7374 203d 2064 6174  freq5_list = dat
+00018b70: 6162 6173 652e 6472 6f70 5f64 6f77 6e5f  abase.drop_down_
+00018b80: 6c69 7374 286d 6174 6572 6961 6c5f 6e61  list(material_na
+00018b90: 6d65 3d6d 6174 5f74 6578 7435 2c20 6461  me=mat_text5, da
+00018ba0: 7461 7479 7065 3d22 636f 6d70 6c65 785f  tatype="complex_
+00018bb0: 7065 726d 6561 6269 6c69 7479 222c 0a20  permeability",. 
+00018bc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018bf0: 2020 2020 6d65 6173 7572 656d 656e 745f      measurement_
+00018c00: 6e61 6d65 3d74 6573 745f 7365 7475 705f  name=test_setup_
+00018c10: 7465 7874 352c 2063 6f6d 7061 7269 736f  text5, compariso
+00018c20: 6e5f 7479 7065 3d22 6d76 6d22 2c0a 2020  n_type="mvm",.  
+00018c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00018c60: 2020 2066 7265 7175 656e 6379 3d54 7275     frequency=Tru
+00018c70: 6529 0a20 2020 2020 2020 2061 7574 5f74  e).        aut_t
+00018c80: 656d 705f 6f70 7469 6f6e 7335 203d 2067  emp_options5 = g
+00018c90: 6574 5f74 656d 7035 5f6c 6973 740a 2020  et_temp5_list.  
+00018ca0: 2020 2020 2020 6175 745f 6672 6571 5f6f        aut_freq_o
+00018cb0: 7074 696f 6e73 3520 3d20 6765 745f 6672  ptions5 = get_fr
+00018cc0: 6571 355f 6c69 7374 0a0a 2020 2020 2020  eq5_list..      
+00018cd0: 2020 7465 6d70 5f73 7472 203d 205b 6627    temp_str = [f'
+00018ce0: 7b69 7465 6d3a 2e32 667d 2720 666f 7220  {item:.2f}' for 
+00018cf0: 6974 656d 2069 6e20 6175 745f 7465 6d70  item in aut_temp
+00018d00: 5f6f 7074 696f 6e73 355d 0a20 2020 2020  _options5].     
+00018d10: 2020 2066 7265 715f 7374 7220 3d20 5b66     freq_str = [f
+00018d20: 277b 6974 656d 3a2e 3266 7d27 2066 6f72  '{item:.2f}' for
+00018d30: 2069 7465 6d20 696e 2061 7574 5f66 7265   item in aut_fre
+00018d40: 715f 6f70 7469 6f6e 7335 5d0a 2020 2020  q_options5].    
+00018d50: 2020 2020 7365 6c66 2e61 7574 5f74 656d      self.aut_tem
+00018d60: 705f 6d35 5f63 6f6d 626f 426f 785f 322e  p_m5_comboBox_2.
+00018d70: 636c 6561 7228 290a 2020 2020 2020 2020  clear().        
+00018d80: 7365 6c66 2e61 7574 5f66 7265 715f 6d35  self.aut_freq_m5
+00018d90: 5f63 6f6d 626f 426f 782e 636c 6561 7228  _comboBox.clear(
+00018da0: 290a 2020 2020 2020 2020 666f 7220 6f70  ).        for op
+00018db0: 7469 6f6e 2069 6e20 7465 6d70 5f73 7472  tion in temp_str
+00018dc0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00018dd0: 6c66 2e61 7574 5f74 656d 705f 6d35 5f63  lf.aut_temp_m5_c
+00018de0: 6f6d 626f 426f 785f 322e 6164 6449 7465  omboBox_2.addIte
+00018df0: 6d28 6f70 7469 6f6e 290a 0a20 2020 2020  m(option)..     
+00018e00: 2020 2066 6f72 206f 7074 696f 6e20 696e     for option in
+00018e10: 2066 7265 715f 7374 723a 0a20 2020 2020   freq_str:.     
+00018e20: 2020 2020 2020 2073 656c 662e 6175 745f         self.aut_
+00018e30: 6672 6571 5f6d 355f 636f 6d62 6f42 6f78  freq_m5_comboBox
+00018e40: 2e61 6464 4974 656d 286f 7074 696f 6e29  .addItem(option)
+00018e50: 0a0a 2020 2020 2020 2020 2323 2323 2323  ..        ######
+00018e60: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00018e70: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00018e80: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00018e90: 2323 2323 2323 2323 2323 2323 2323 2323  ################
+00018ea0: 2323 0a0a 2020 2020 6465 6620 7465 7374  ##..    def test
+00018eb0: 5f73 6574 7570 5f6e 616d 6528 7365 6c66  _setup_name(self
+00018ec0: 293a 0a20 2020 2020 2020 2022 2222 4765  ):.        """Ge
+00018ed0: 7420 7465 7374 2073 6574 7570 206e 616d  t test setup nam
+00018ee0: 6573 2066 726f 6d20 6461 7461 6261 7365  es from database
+00018ef0: 2066 6f72 2070 6172 7469 6375 6c61 7220   for particular 
+00018f00: 6d61 7465 7269 616c 2e22 2222 0a20 2020  material.""".   
+00018f10: 2020 2020 206d 6174 5f74 6578 7431 203d       mat_text1 =
+00018f20: 2073 656c 662e 6461 745f 636f 7265 5f6d   self.dat_core_m
+00018f30: 6174 6572 6961 6c5f 636f 6d62 6f42 6f78  aterial_comboBox
+00018f40: 2e63 7572 7265 6e74 5465 7874 2829 0a20  .currentText(). 
+00018f50: 2020 2020 2020 2023 2054 656d 706f 7261         # Tempora
+00018f60: 7269 6c79 2064 6973 636f 6e6e 6563 7420  rily disconnect 
+00018f70: 7468 6520 7369 676e 616c 2074 6f20 7072  the signal to pr
+00018f80: 6576 656e 7420 7472 6967 6765 7269 6e67  event triggering
+00018f90: 2063 6861 6e67 6573 0a20 2020 2020 2020   changes.       
+00018fa0: 2073 656c 662e 7465 7374 5f6e 616d 655f   self.test_name_
+00018fb0: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+00018fc0: 5465 7874 4368 616e 6765 642e 6469 7363  TextChanged.disc
+00018fd0: 6f6e 6e65 6374 2873 656c 662e 7465 6d70  onnect(self.temp
+00018fe0: 5f6d 6561 735f 696e 7075 7429 0a20 2020  _meas_input).   
+00018ff0: 2020 2020 2023 2043 6c65 6172 2065 7869       # Clear exi
+00019000: 7374 696e 6720 6461 7461 2069 6e20 7468  sting data in th
+00019010: 6520 636f 6d62 6f42 6f78 0a20 2020 2020  e comboBox.     
+00019020: 2020 2073 656c 662e 7465 7374 5f6e 616d     self.test_nam
+00019030: 655f 636f 6d62 6f42 6f78 2e63 6c65 6172  e_comboBox.clear
+00019040: 2829 0a0a 2020 2020 2020 2020 6e61 6d65  ()..        name
+00019050: 735f 6c69 7374 203d 205b 5d0a 0a20 2020  s_list = []..   
+00019060: 2020 2020 2069 6620 6d61 745f 7465 7874       if mat_text
+00019070: 313a 0a20 2020 2020 2020 2020 2020 206e  1:.            n
+00019080: 616d 6573 5f6c 6973 7420 3d20 6461 7461  ames_list = data
+00019090: 6261 7365 2e66 696e 645f 6d65 6173 7572  base.find_measur
+000190a0: 656d 656e 745f 6e61 6d65 7328 6d61 7465  ement_names(mate
+000190b0: 7269 616c 5f6e 616d 653d 6d61 745f 7465  rial_name=mat_te
+000190c0: 7874 312c 2064 6174 6174 7970 653d 2263  xt1, datatype="c
+000190d0: 6f6d 706c 6578 5f70 6572 6d65 6162 696c  omplex_permeabil
+000190e0: 6974 7922 290a 0a20 2020 2020 2020 2066  ity")..        f
+000190f0: 6f72 206f 7074 696f 6e20 696e 206e 616d  or option in nam
+00019100: 6573 5f6c 6973 743a 0a20 2020 2020 2020  es_list:.       
+00019110: 2020 2020 2073 656c 662e 7465 7374 5f6e       self.test_n
+00019120: 616d 655f 636f 6d62 6f42 6f78 2e61 6464  ame_comboBox.add
+00019130: 4974 656d 286f 7074 696f 6e29 0a20 2020  Item(option).   
+00019140: 2020 2020 2023 2052 6563 6f6e 6e65 6374       # Reconnect
+00019150: 2074 6865 2073 6967 6e61 6c20 6166 7465   the signal afte
+00019160: 7220 7468 6520 7570 6461 7465 730a 2020  r the updates.  
+00019170: 2020 2020 2020 7365 6c66 2e74 6573 745f        self.test_
+00019180: 6e61 6d65 5f63 6f6d 626f 426f 782e 6375  name_comboBox.cu
+00019190: 7272 656e 7454 6578 7443 6861 6e67 6564  rrentTextChanged
+000191a0: 2e63 6f6e 6e65 6374 2873 656c 662e 7465  .connect(self.te
+000191b0: 6d70 5f6d 6561 735f 696e 7075 7429 0a0a  mp_meas_input)..
+000191c0: 2020 2020 6465 6620 7465 6d70 5f64 6174      def temp_dat
+000191d0: 5f69 6e70 7574 2873 656c 6629 3a0a 2020  _input(self):.  
+000191e0: 2020 2020 2020 2222 2247 6574 2074 6865        """Get the
+000191f0: 2064 6174 6162 6173 6520 7465 6d70 6572   database temper
+00019200: 6174 7572 6520 6f66 2061 2070 6172 7469  ature of a parti
+00019210: 6375 6c61 7220 6d61 7465 7269 616c 2073  cular material s
+00019220: 656c 6563 7465 642e 2222 220a 2020 2020  elected.""".    
+00019230: 2020 2020 6d61 745f 7465 7874 3120 3d20      mat_text1 = 
+00019240: 7365 6c66 2e64 6174 5f63 6f72 655f 6d61  self.dat_core_ma
+00019250: 7465 7269 616c 5f63 6f6d 626f 426f 782e  terial_comboBox.
+00019260: 6375 7272 656e 7454 6578 7428 290a 0a20  currentText().. 
+00019270: 2020 2020 2020 2067 6574 5f74 656d 7031         get_temp1
+00019280: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
+00019290: 2020 2069 6620 6d61 745f 7465 7874 313a     if mat_text1:
+000192a0: 0a20 2020 2020 2020 2020 2020 2067 6574  .            get
+000192b0: 5f74 656d 7031 5f6c 6973 7420 3d20 6461  _temp1_list = da
+000192c0: 7461 6261 7365 2e64 726f 705f 646f 776e  tabase.drop_down
+000192d0: 5f6c 6973 7428 6d61 7465 7269 616c 5f6e  _list(material_n
+000192e0: 616d 653d 6d61 745f 7465 7874 312c 2063  ame=mat_text1, c
+000192f0: 6f6d 7061 7269 736f 6e5f 7479 7065 3d22  omparison_type="
+00019300: 6476 6422 2c20 7465 6d70 6572 6174 7572  dvd", temperatur
+00019310: 653d 5472 7565 2c0a 2020 2020 2020 2020  e=True,.        
+00019320: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019330: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019340: 2020 2020 2020 2020 2020 2020 2064 6174               dat
+00019350: 6174 7970 653d 2264 6174 6173 6865 6574  atype="datasheet
+00019360: 222c 206d 6561 7375 7265 6d65 6e74 5f6e  ", measurement_n
+00019370: 616d 653d 4e6f 6e65 290a 2020 2020 2020  ame=None).      
+00019380: 2020 6175 745f 7465 6d70 5f6f 7074 696f    aut_temp_optio
+00019390: 6e73 3120 3d20 6765 745f 7465 6d70 315f  ns1 = get_temp1_
+000193a0: 6c69 7374 0a0a 2020 2020 2020 2020 7465  list..        te
+000193b0: 6d70 5f73 7472 203d 205b 6627 7b69 7465  mp_str = [f'{ite
+000193c0: 6d3a 2e32 667d 2720 666f 7220 6974 656d  m:.2f}' for item
+000193d0: 2069 6e20 6175 745f 7465 6d70 5f6f 7074   in aut_temp_opt
+000193e0: 696f 6e73 315d 0a20 2020 2020 2020 2073  ions1].        s
+000193f0: 656c 662e 6175 745f 7465 6d70 5f64 6174  elf.aut_temp_dat
+00019400: 5f63 6f6d 626f 426f 782e 636c 6561 7228  _comboBox.clear(
+00019410: 290a 2020 2020 2020 2020 666f 7220 6f70  ).        for op
+00019420: 7469 6f6e 2069 6e20 7465 6d70 5f73 7472  tion in temp_str
+00019430: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00019440: 6c66 2e61 7574 5f74 656d 705f 6461 745f  lf.aut_temp_dat_
+00019450: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
+00019460: 286f 7074 696f 6e29 0a0a 2020 2020 6465  (option)..    de
+00019470: 6620 7465 6d70 5f6d 6561 735f 696e 7075  f temp_meas_inpu
+00019480: 7428 7365 6c66 293a 0a20 2020 2020 2020  t(self):.       
+00019490: 2022 2222 4765 7420 7468 6520 6d65 6173   """Get the meas
+000194a0: 7572 656d 656e 7420 7465 6d70 6572 6174  urement temperat
+000194b0: 7572 6520 6f66 2061 2070 6172 7469 6375  ure of a particu
+000194c0: 6c61 7220 6d61 7465 7269 616c 2073 656c  lar material sel
+000194d0: 6563 7465 642e 2222 220a 2020 2020 2020  ected.""".      
+000194e0: 2020 6d61 745f 7465 7874 3120 3d20 7365    mat_text1 = se
+000194f0: 6c66 2e64 6174 5f63 6f72 655f 6d61 7465  lf.dat_core_mate
+00019500: 7269 616c 5f63 6f6d 626f 426f 782e 6375  rial_comboBox.cu
+00019510: 7272 656e 7454 6578 7428 290a 2020 2020  rrentText().    
+00019520: 2020 2020 7465 7374 5f6e 616d 655f 7465      test_name_te
+00019530: 7874 203d 2073 656c 662e 7465 7374 5f6e  xt = self.test_n
+00019540: 616d 655f 636f 6d62 6f42 6f78 2e63 7572  ame_comboBox.cur
+00019550: 7265 6e74 5465 7874 2829 0a0a 2020 2020  rentText()..    
+00019560: 2020 2020 6765 745f 7465 6d70 315f 6c69      get_temp1_li
+00019570: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
+00019580: 6966 206d 6174 5f74 6578 7431 3a0a 2020  if mat_text1:.  
+00019590: 2020 2020 2020 2020 2020 6765 745f 7465            get_te
+000195a0: 6d70 315f 6c69 7374 203d 2064 6174 6162  mp1_list = datab
+000195b0: 6173 652e 6472 6f70 5f64 6f77 6e5f 6c69  ase.drop_down_li
+000195c0: 7374 286d 6174 6572 6961 6c5f 6e61 6d65  st(material_name
+000195d0: 3d6d 6174 5f74 6578 7431 2c20 636f 6d70  =mat_text1, comp
+000195e0: 6172 6973 6f6e 5f74 7970 653d 226d 766d  arison_type="mvm
+000195f0: 222c 2074 656d 7065 7261 7475 7265 3d54  ", temperature=T
+00019600: 7275 652c 0a20 2020 2020 2020 2020 2020  rue,.           
+00019610: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019630: 2020 2020 2020 2020 2020 6461 7461 7479            dataty
+00019640: 7065 3d66 6d74 2e4d 6561 7375 7265 6d65  pe=fmt.Measureme
+00019650: 6e74 4461 7461 5479 7065 2e43 6f6d 706c  ntDataType.Compl
+00019660: 6578 5065 726d 6561 6269 6c69 7479 2c20  exPermeability, 
+00019670: 6d65 6173 7572 656d 656e 745f 6e61 6d65  measurement_name
+00019680: 3d74 6573 745f 6e61 6d65 5f74 6578 7429  =test_name_text)
+00019690: 0a20 2020 2020 2020 2061 7574 5f74 656d  .        aut_tem
+000196a0: 705f 6f70 7469 6f6e 7331 203d 2067 6574  p_options1 = get
+000196b0: 5f74 656d 7031 5f6c 6973 740a 0a20 2020  _temp1_list..   
+000196c0: 2020 2020 2074 656d 705f 7374 7220 3d20       temp_str = 
+000196d0: 5b66 277b 6974 656d 3a2e 3266 7d27 2066  [f'{item:.2f}' f
+000196e0: 6f72 2069 7465 6d20 696e 2061 7574 5f74  or item in aut_t
+000196f0: 656d 705f 6f70 7469 6f6e 7331 5d0a 2020  emp_options1].  
+00019700: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
+00019710: 656d 705f 6d65 6173 5f63 6f6d 626f 426f  emp_meas_comboBo
+00019720: 782e 636c 6561 7228 290a 2020 2020 2020  x.clear().      
+00019730: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
+00019740: 7465 6d70 5f73 7472 3a0a 2020 2020 2020  temp_str:.      
+00019750: 2020 2020 2020 7365 6c66 2e61 7574 5f74        self.aut_t
+00019760: 656d 705f 6d65 6173 5f63 6f6d 626f 426f  emp_meas_comboBo
+00019770: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
+00019780: 290a 0a20 2020 2023 2020 2a2a 2a2a 2a2a  )..    #  ******
+00019790: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+000197a0: 2a2a 2a2a 2a2a 204d 616e 7561 6c20 6465  ****** Manual de
+000197b0: 7369 676e 2074 6162 2069 6e69 7469 616c  sign tab initial
+000197c0: 697a 6174 696f 6e73 202a 2a2a 2a2a 2a2a  izations *******
+000197d0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+000197e0: 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a 2a2a  ****************
+000197f0: 2a2a 2a2a 2a2a 2a2a 2020 230a 0a20 2020  ********  #..   
+00019800: 2064 6566 206d 645f 696e 6974 6961 6c69   def md_initiali
+00019810: 7a65 5f63 6f6e 7472 6f6c 7328 7365 6c66  ze_controls(self
+00019820: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
+00019830: 2020 2022 2222 0a20 2020 2020 2020 2049     """.        I
+00019840: 6e69 7469 616c 697a 6520 7468 6520 636f  nitialize the co
+00019850: 6d62 6f20 626f 7865 7320 7769 7468 2070  mbo boxes with p
+00019860: 7265 2d64 6566 696e 6564 2076 616c 7565  re-defined value
+00019870: 732e 0a0a 2020 2020 2020 2020 3a72 6574  s...        :ret
+00019880: 7572 6e3a 204e 6f6e 650a 2020 2020 2020  urn: None.      
+00019890: 2020 3a72 7479 7065 3a20 4e6f 6e65 0a20    :rtype: None. 
+000198a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000198b0: 2020 206d 645f 7369 6d75 6c61 7469 6f6e     md_simulation
+000198c0: 5f74 7970 655f 6f70 7469 6f6e 7320 3d20  _type_options = 
+000198d0: 5b73 656c 662e 7472 616e 736c 6174 696f  [self.translatio
+000198e0: 6e5f 6469 6374 5b27 696e 6475 6374 6f72  n_dict['inductor
+000198f0: 275d 2c20 7365 6c66 2e74 7261 6e73 6c61  '], self.transla
+00019900: 7469 6f6e 5f64 6963 745b 2774 7261 6e73  tion_dict['trans
+00019910: 666f 726d 6572 275d 5d0a 2020 2020 2020  former']].      
+00019920: 2020 6d64 5f63 6f72 655f 6d61 7465 7269    md_core_materi
+00019930: 616c 5f6f 7074 696f 6e73 203d 205b 274e  al_options = ['N
+00019940: 3935 272c 2027 4e34 3927 2c20 274e 3837  95', 'N49', 'N87
+00019950: 275d 0a20 2020 2020 2020 206d 645f 7769  '].        md_wi
+00019960: 6e64 696e 675f 6d61 7465 7269 616c 5f6f  nding_material_o
+00019970: 7074 696f 6e73 203d 205b 6b65 7920 666f  ptions = [key fo
+00019980: 7220 6b65 7920 696e 2066 6d74 2e77 6972  r key in fmt.wir
+00019990: 655f 6d61 7465 7269 616c 5f64 6174 6162  e_material_datab
+000199a0: 6173 6528 295d 0a20 2020 2020 2020 206d  ase()].        m
+000199b0: 645f 7769 6e64 696e 675f 7479 7065 5f6f  d_winding_type_o
+000199c0: 7074 696f 6e73 203d 205b 7365 6c66 2e74  ptions = [self.t
+000199d0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+000199e0: 276c 6974 7a27 5d2c 2073 656c 662e 7472  'litz'], self.tr
+000199f0: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
+00019a00: 736f 6c69 6427 5d5d 0a20 2020 2020 2020  solid']].       
+00019a10: 206d 645f 696d 706c 6963 6974 5f6c 6974   md_implicit_lit
+00019a20: 7a5f 6f70 7469 6f6e 7320 3d20 5b73 656c  z_options = [sel
+00019a30: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+00019a40: 6374 5b22 696d 706c 6963 6974 5f6c 6974  ct["implicit_lit
+00019a50: 7a5f 7261 6469 7573 225d 2c20 7365 6c66  z_radius"], self
+00019a60: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
+00019a70: 745b 2269 6d70 6c69 6369 745f 6666 225d  t["implicit_ff"]
+00019a80: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+00019a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00019aa0: 2020 2020 2020 7365 6c66 2e74 7261 6e73        self.trans
+00019ab0: 6c61 7469 6f6e 5f64 6963 745b 2769 6d70  lation_dict['imp
+00019ac0: 6c69 6369 745f 7374 7261 6e64 735f 6e75  licit_strands_nu
+00019ad0: 6d62 6572 275d 5d0a 2020 2020 2020 2020  mber']].        
+00019ae0: 6d64 5f61 6972 5f67 6170 5f6d 6574 686f  md_air_gap_metho
+00019af0: 645f 6f70 7469 6f6e 7320 3d20 5b73 656c  d_options = [sel
+00019b00: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+00019b10: 6374 5b22 7065 7263 656e 7422 5d2c 2073  ct["percent"], s
+00019b20: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
+00019b30: 6469 6374 5b27 6d61 6e75 616c 6c79 275d  dict['manually']
+00019b40: 5d0a 2020 2020 2020 2020 6d64 5f61 6972  ].        md_air
+00019b50: 5f67 6170 5f63 6f75 6e74 735f 6f70 7469  _gap_counts_opti
+00019b60: 6f6e 7320 3d20 5b27 3027 2c20 2731 272c  ons = ['0', '1',
+00019b70: 2027 3227 2c20 2733 272c 2027 3427 2c20   '2', '3', '4', 
+00019b80: 2735 275d 0a20 2020 2020 2020 206d 645f  '5'].        md_
+00019b90: 7769 6e64 696e 675f 7363 6865 6d65 5f6f  winding_scheme_o
+00019ba0: 7074 696f 6e73 203d 205b 7365 6c66 2e74  ptions = [self.t
+00019bb0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+00019bc0: 2273 7175 6172 6522 5d2c 2073 656c 662e  "square"], self.
+00019bd0: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+00019be0: 5b22 6865 7861 225d 5d0a 2020 2020 2020  ["hexa"]].      
+00019bf0: 2020 6d64 5f63 6f72 655f 6765 6f6d 6574    md_core_geomet
+00019c00: 7279 5f6f 7074 696f 6e73 203d 205b 636f  ry_options = [co
+00019c10: 7265 5f67 656f 6d65 7472 7920 666f 7220  re_geometry for 
+00019c20: 636f 7265 5f67 656f 6d65 7472 7920 696e  core_geometry in
+00019c30: 2066 6d74 2e63 6f72 655f 6461 7461 6261   fmt.core_databa
+00019c40: 7365 2829 5d0a 2020 2020 2020 2020 6d64  se()].        md
+00019c50: 5f63 6f72 655f 6765 6f6d 6574 7279 5f6f  _core_geometry_o
+00019c60: 7074 696f 6e73 2e69 6e73 6572 7428 302c  ptions.insert(0,
+00019c70: 2027 4d61 6e75 616c 2729 0a0a 2020 2020   'Manual')..    
+00019c80: 2020 2020 6d64 5f77 696e 6469 6e67 5f6c      md_winding_l
+00019c90: 6974 7a5f 6d61 7465 7269 616c 5f6f 7074  itz_material_opt
+00019ca0: 696f 6e73 203d 205b 6b65 7920 666f 7220  ions = [key for 
+00019cb0: 6b65 7920 696e 2066 6d74 2e6c 6974 7a5f  key in fmt.litz_
+00019cc0: 6461 7461 6261 7365 2829 5d0a 2020 2020  database()].    
+00019cd0: 2020 2020 6d64 5f77 696e 6469 6e67 5f6c      md_winding_l
+00019ce0: 6974 7a5f 6d61 7465 7269 616c 5f6f 7074  itz_material_opt
+00019cf0: 696f 6e73 2e69 6e73 6572 7428 302c 2027  ions.insert(0, '
+00019d00: 4d61 6e75 616c 2729 0a0a 2020 2020 2020  Manual')..      
+00019d10: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
+00019d20: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
+00019d30: 7065 5f6f 7074 696f 6e73 3a0a 2020 2020  pe_options:.    
+00019d40: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00019d50: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
+00019d60: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
+00019d70: 286f 7074 696f 6e29 0a20 2020 2020 2020  (option).       
+00019d80: 2066 6f72 206f 7074 696f 6e20 696e 206d   for option in m
+00019d90: 645f 636f 7265 5f6d 6174 6572 6961 6c5f  d_core_material_
+00019da0: 6f70 7469 6f6e 733a 0a20 2020 2020 2020  options:.       
+00019db0: 2020 2020 2073 656c 662e 6d64 5f63 6f72       self.md_cor
+00019dc0: 655f 6d61 7465 7269 616c 5f63 6f6d 626f  e_material_combo
+00019dd0: 426f 782e 6164 6449 7465 6d28 6f70 7469  Box.addItem(opti
+00019de0: 6f6e 290a 2020 2020 2020 2020 666f 7220  on).        for 
+00019df0: 6f70 7469 6f6e 2069 6e20 6d64 5f77 696e  option in md_win
+00019e00: 6469 6e67 5f6d 6174 6572 6961 6c5f 6f70  ding_material_op
+00019e10: 7469 6f6e 733a 0a20 2020 2020 2020 2020  tions:.         
+00019e20: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+00019e30: 6e67 315f 6d61 7465 7269 616c 5f63 6f6d  ng1_material_com
+00019e40: 626f 426f 782e 6164 6449 7465 6d28 6f70  boBox.addItem(op
+00019e50: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
+00019e60: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+00019e70: 6732 5f6d 6174 6572 6961 6c5f 636f 6d62  g2_material_comb
+00019e80: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+00019e90: 696f 6e29 0a20 2020 2020 2020 2066 6f72  ion).        for
+00019ea0: 206f 7074 696f 6e20 696e 206d 645f 7769   option in md_wi
+00019eb0: 6e64 696e 675f 7479 7065 5f6f 7074 696f  nding_type_optio
+00019ec0: 6e73 3a0a 2020 2020 2020 2020 2020 2020  ns:.            
+00019ed0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+00019ee0: 5f74 7970 655f 636f 6d62 6f42 6f78 2e61  _type_comboBox.a
+00019ef0: 6464 4974 656d 286f 7074 696f 6e29 0a20  ddItem(option). 
+00019f00: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00019f10: 6d64 5f77 696e 6469 6e67 325f 7479 7065  md_winding2_type
+00019f20: 5f63 6f6d 626f 426f 782e 6164 6449 7465  _comboBox.addIte
+00019f30: 6d28 6f70 7469 6f6e 290a 2020 2020 2020  m(option).      
+00019f40: 2020 666f 7220 6f70 7469 6f6e 2069 6e20    for option in 
+00019f50: 6d64 5f69 6d70 6c69 6369 745f 6c69 747a  md_implicit_litz
+00019f60: 5f6f 7074 696f 6e73 3a0a 2020 2020 2020  _options:.      
+00019f70: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+00019f80: 6e64 696e 6731 5f69 6d70 6c69 6369 745f  nding1_implicit_
+00019f90: 6c69 747a 5f63 6f6d 626f 426f 782e 6164  litz_comboBox.ad
+00019fa0: 6449 7465 6d28 6f70 7469 6f6e 290a 2020  dItem(option).  
+00019fb0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+00019fc0: 645f 7769 6e64 696e 6732 5f69 6d70 6c69  d_winding2_impli
+00019fd0: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
+00019fe0: 782e 6164 6449 7465 6d28 6f70 7469 6f6e  x.addItem(option
+00019ff0: 290a 2020 2020 2020 2020 666f 7220 6f70  ).        for op
+0001a000: 7469 6f6e 2069 6e20 6d64 5f61 6972 5f67  tion in md_air_g
+0001a010: 6170 5f6d 6574 686f 645f 6f70 7469 6f6e  ap_method_option
+0001a020: 733a 0a20 2020 2020 2020 2020 2020 2073  s:.            s
+0001a030: 656c 662e 6d64 5f61 6972 5f67 6170 5f70  elf.md_air_gap_p
+0001a040: 6c61 6365 6d65 6e74 5f6d 6574 686f 645f  lacement_method_
+0001a050: 636f 6d62 6f42 6f78 2e61 6464 4974 656d  comboBox.addItem
+0001a060: 286f 7074 696f 6e29 0a20 2020 2020 2020  (option).       
+0001a070: 2066 6f72 206f 7074 696f 6e20 696e 206d   for option in m
+0001a080: 645f 6169 725f 6761 705f 636f 756e 7473  d_air_gap_counts
+0001a090: 5f6f 7074 696f 6e73 3a0a 2020 2020 2020  _options:.      
+0001a0a0: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
+0001a0b0: 725f 6761 705f 636f 756e 745f 636f 6d62  r_gap_count_comb
+0001a0c0: 6f42 6f78 2e61 6464 4974 656d 286f 7074  oBox.addItem(opt
+0001a0d0: 696f 6e29 0a20 2020 2020 2020 2066 6f72  ion).        for
+0001a0e0: 206f 7074 696f 6e20 696e 206d 645f 7769   option in md_wi
+0001a0f0: 6e64 696e 675f 7363 6865 6d65 5f6f 7074  nding_scheme_opt
+0001a100: 696f 6e73 3a0a 2020 2020 2020 2020 2020  ions:.          
+0001a110: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001a120: 6731 5f73 6368 656d 655f 636f 6d62 6f42  g1_scheme_comboB
+0001a130: 6f78 2e61 6464 4974 656d 286f 7074 696f  ox.addItem(optio
+0001a140: 6e29 0a20 2020 2020 2020 2020 2020 2073  n).            s
+0001a150: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+0001a160: 7363 6865 6d65 5f63 6f6d 626f 426f 782e  scheme_comboBox.
+0001a170: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0001a180: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0001a190: 6f6e 2069 6e20 6d64 5f77 696e 6469 6e67  on in md_winding
+0001a1a0: 5f6c 6974 7a5f 6d61 7465 7269 616c 5f6f  _litz_material_o
+0001a1b0: 7074 696f 6e73 3a0a 2020 2020 2020 2020  ptions:.        
+0001a1c0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001a1d0: 696e 6731 5f6c 6974 7a5f 6d61 7465 7269  ing1_litz_materi
+0001a1e0: 616c 5f63 6f6d 626f 426f 782e 6164 6449  al_comboBox.addI
+0001a1f0: 7465 6d28 6f70 7469 6f6e 290a 2020 2020  tem(option).    
+0001a200: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001a210: 7769 6e64 696e 6732 5f6c 6974 7a5f 6d61  winding2_litz_ma
+0001a220: 7465 7269 616c 5f63 6f6d 626f 426f 782e  terial_comboBox.
+0001a230: 6164 6449 7465 6d28 6f70 7469 6f6e 290a  addItem(option).
+0001a240: 2020 2020 2020 2020 666f 7220 6f70 7469          for opti
+0001a250: 6f6e 2069 6e20 6d64 5f63 6f72 655f 6765  on in md_core_ge
+0001a260: 6f6d 6574 7279 5f6f 7074 696f 6e73 3a0a  ometry_options:.
+0001a270: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001a280: 2e6d 645f 636f 7265 5f67 656f 6d65 7472  .md_core_geometr
+0001a290: 795f 636f 6d62 6f42 6f78 2e61 6464 4974  y_comboBox.addIt
+0001a2a0: 656d 286f 7074 696f 6e29 0a0a 2020 2020  em(option)..    
+0001a2b0: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
+0001a2c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001a2d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001a2e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
+0001a2f0: 2023 2044 6566 696e 6974 696f 6e20 7461   # Definition ta
+0001a300: 620a 2020 2020 2320 2d2d 2d2d 2d2d 2d2d  b.    # --------
+0001a310: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001a320: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001a330: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001a340: 2d2d 0a20 2020 2064 6566 206d 645f 6368  --.    def md_ch
+0001a350: 616e 6765 5f73 696d 756c 6174 696f 6e5f  ange_simulation_
+0001a360: 7479 7065 2873 656c 662c 2073 696d 756c  type(self, simul
+0001a370: 6174 696f 6e5f 7479 7065 5f66 726f 6d5f  ation_type_from_
+0001a380: 636f 6d62 6f5f 626f 783a 2073 7472 2920  combo_box: str) 
+0001a390: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
+0001a3a0: 2022 2222 0a20 2020 2020 2020 2043 6861   """.        Cha
+0001a3b0: 6e67 6520 7369 6d75 6c61 7469 6f6e 2074  nge simulation t
+0001a3c0: 7970 6520 7768 656e 2073 6967 6e61 6c20  ype when signal 
+0001a3d0: 6f66 206d 645f 7369 6d75 6c61 7469 6f6e  of md_simulation
+0001a3e0: 5f74 7970 655f 636f 6d62 6f42 6f78 2074  _type_comboBox t
+0001a3f0: 6578 7420 6861 7320 6368 616e 6765 642e  ext has changed.
+0001a400: 0a0a 2020 2020 2020 2020 4163 7469 6f6e  ..        Action
+0001a410: 2077 696c 6c20 6265 2065 6e61 626c 696e   will be enablin
+0001a420: 6720 2f20 6469 7361 626c 696e 6720 7573  g / disabling us
+0001a430: 6572 2069 6e70 7574 7320 666f 7220 6e6f  er inputs for no
+0001a440: 742d 7573 6564 2077 696e 6469 6e67 732e  t-used windings.
+0001a450: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0001a460: 2073 696d 756c 6174 696f 6e5f 7479 7065   simulation_type
+0001a470: 5f66 726f 6d5f 636f 6d62 6f5f 626f 783a  _from_combo_box:
+0001a480: 0a20 2020 2020 2020 203a 7479 7065 2073  .        :type s
+0001a490: 696d 756c 6174 696f 6e5f 7479 7065 5f66  imulation_type_f
+0001a4a0: 726f 6d5f 636f 6d62 6f5f 626f 783a 2073  rom_combo_box: s
+0001a4b0: 7472 0a20 2020 2020 2020 203a 7265 7475  tr.        :retu
+0001a4c0: 726e 3a20 4e6f 6e65 0a20 2020 2020 2020  rn: None.       
+0001a4d0: 203a 7274 7970 653a 204e 6f6e 650a 2020   :rtype: None.  
+0001a4e0: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+0001a4f0: 2020 6966 2073 696d 756c 6174 696f 6e5f    if simulation_
+0001a500: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
+0001a510: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
+0001a520: 736c 6174 696f 6e5f 6469 6374 5b27 696e  slation_dict['in
+0001a530: 6475 6374 6f72 275d 3a0a 2020 2020 2020  ductor']:.      
+0001a540: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001a550: 6e64 696e 6732 5f65 6e61 626c 6528 4661  nding2_enable(Fa
+0001a560: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
+0001a570: 2023 2065 6e61 626c 6520 496e 6475 6374   # enable Induct
+0001a580: 616e 6365 2056 616c 7565 2066 6f72 2061  ance Value for a
+0001a590: 6e20 496e 6475 6374 6f72 2063 6173 650a  n Inductor case.
+0001a5a0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001a5b0: 2e67 726f 7570 426f 785f 372e 7365 7456  .groupBox_7.setV
+0001a5c0: 6973 6962 6c65 2854 7275 6529 0a0a 2020  isible(True)..  
+0001a5d0: 2020 2020 2020 656c 6966 2073 696d 756c        elif simul
+0001a5e0: 6174 696f 6e5f 7479 7065 5f66 726f 6d5f  ation_type_from_
+0001a5f0: 636f 6d62 6f5f 626f 7820 3d3d 2073 656c  combo_box == sel
+0001a600: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+0001a610: 6374 5b27 7472 616e 7366 6f72 6d65 7227  ct['transformer'
+0001a620: 5d3a 0a20 2020 2020 2020 2020 2020 2023  ]:.            #
+0001a630: 2073 6574 2077 696e 6469 6e67 2064 6566   set winding def
+0001a640: 696e 6974 696f 6e73 206f 6620 7769 6e64  initions of wind
+0001a650: 696e 6720 3220 746f 2065 6469 7461 626c  ing 2 to editabl
+0001a660: 650a 2020 2020 2020 2020 2020 2020 7365  e.            se
+0001a670: 6c66 2e6d 645f 7769 6e64 696e 6732 5f65  lf.md_winding2_e
+0001a680: 6e61 626c 6528 5472 7565 290a 2020 2020  nable(True).    
+0001a690: 2020 2020 2020 2020 2320 6469 7361 626c          # disabl
+0001a6a0: 6520 496e 6475 6374 616e 6365 2056 616c  e Inductance Val
+0001a6b0: 7565 2066 6f72 2061 2074 7261 6e73 666f  ue for a transfo
+0001a6c0: 726d 6572 2063 6173 650a 2020 2020 2020  rmer case.      
+0001a6d0: 2020 2020 2020 7365 6c66 2e67 726f 7570        self.group
+0001a6e0: 426f 785f 372e 7365 7456 6973 6962 6c65  Box_7.setVisible
+0001a6f0: 2846 616c 7365 290a 0a20 2020 2020 2020  (False)..       
+0001a700: 2065 6c69 6620 7369 6d75 6c61 7469 6f6e   elif simulation
+0001a710: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
+0001a720: 5f62 6f78 203d 3d20 7365 6c66 2e74 7261  _box == self.tra
+0001a730: 6e73 6c61 7469 6f6e 5f64 6963 745b 2769  nslation_dict['i
+0001a740: 6e74 6567 7261 7465 6420 7472 616e 7366  ntegrated transf
+0001a750: 6f72 6d65 7227 5d3a 0a20 2020 2020 2020  ormer']:.       
+0001a760: 2020 2020 2023 2073 6574 2077 696e 6469       # set windi
+0001a770: 6e67 2064 6566 696e 6974 696f 6e73 206f  ng definitions o
+0001a780: 6620 7769 6e64 696e 6720 3220 746f 2065  f winding 2 to e
+0001a790: 6469 7461 626c 650a 2020 2020 2020 2020  ditable.        
+0001a7a0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001a7b0: 696e 6732 5f65 6e61 626c 6528 5472 7565  ing2_enable(True
+0001a7c0: 290a 0a20 2020 2064 6566 206f 6e5f 696e  )..    def on_in
+0001a7d0: 7375 6c61 7469 6f6e 5f73 7461 7465 5f63  sulation_state_c
+0001a7e0: 6861 6e67 6564 2873 656c 6629 3a0a 2020  hanged(self):.  
+0001a7f0: 2020 2020 2020 2222 2255 7064 6174 6520        """Update 
+0001a800: 7468 6520 666c 6167 5f69 6e73 756c 6174  the flag_insulat
+0001a810: 696f 6e20 6261 7365 6420 6f6e 2074 6865  ion based on the
+0001a820: 2063 6865 636b 626f 7820 7374 6174 652e   checkbox state.
+0001a830: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
+0001a840: 2e66 6c61 675f 696e 7375 6c61 7469 6f6e  .flag_insulation
+0001a850: 203d 2073 656c 662e 656e 6162 6c65 5f69   = self.enable_i
+0001a860: 6e73 756c 6174 696f 6e5f 6368 6563 6b62  nsulation_checkb
+0001a870: 6f78 2e69 7343 6865 636b 6564 2829 0a0a  ox.isChecked()..
+0001a880: 2020 2020 6465 6620 6d64 5f77 696e 6469      def md_windi
+0001a890: 6e67 325f 656e 6162 6c65 2873 656c 662c  ng2_enable(self,
+0001a8a0: 2073 7461 7475 733a 2062 6f6f 6c29 202d   status: bool) -
+0001a8b0: 3e20 4e6f 6e65 3a0a 2020 2020 2020 2020  > None:.        
+0001a8c0: 2222 220a 2020 2020 2020 2020 456e 6162  """.        Enab
+0001a8d0: 6c65 2f64 6973 6162 6c65 2061 6c6c 2066  le/disable all f
+0001a8e0: 6965 6c64 7320 6265 696e 6720 696e 2063  ields being in c
+0001a8f0: 6f6e 7461 6374 2077 6974 6820 7769 6e64  ontact with wind
+0001a900: 696e 6720 322e 0a0a 2020 2020 2020 2020  ing 2...        
+0001a910: 3a70 6172 616d 2073 7461 7475 733a 2054  :param status: T
+0001a920: 7275 6520 2f20 4661 6c73 650a 2020 2020  rue / False.    
+0001a930: 2020 2020 3a74 7970 6520 7374 6174 7573      :type status
+0001a940: 3a20 626f 6f6c 0a20 2020 2020 2020 203a  : bool.        :
+0001a950: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
+0001a960: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
+0001a970: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
+0001a980: 2020 2020 2020 2320 7365 7420 7769 6e64        # set wind
+0001a990: 696e 6720 6465 6669 6e69 7469 6f6e 7320  ing definitions 
+0001a9a0: 6f66 2077 696e 6469 6e67 2032 2028 656e  of winding 2 (en
+0001a9b0: 6162 6c65 2061 6e64 2076 6973 6962 6c65  able and visible
+0001a9c0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+0001a9d0: 645f 7769 6e64 696e 6732 5f6d 6174 6572  d_winding2_mater
+0001a9e0: 6961 6c5f 636f 6d62 6f42 6f78 2e73 6574  ial_comboBox.set
+0001a9f0: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
+0001aa00: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001aa10: 7769 6e64 696e 6732 5f74 7970 655f 636f  winding2_type_co
+0001aa20: 6d62 6f42 6f78 2e73 6574 456e 6162 6c65  mboBox.setEnable
+0001aa30: 6428 7374 6174 7573 290a 2020 2020 2020  d(status).      
+0001aa40: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001aa50: 6732 5f74 7572 6e73 5f6c 696e 6545 6469  g2_turns_lineEdi
+0001aa60: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
+0001aa70: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+0001aa80: 662e 6d64 5f77 696e 6469 6e67 325f 696d  f.md_winding2_im
+0001aa90: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
+0001aaa0: 6f42 6f78 2e73 6574 456e 6162 6c65 6428  oBox.setEnabled(
+0001aab0: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
+0001aac0: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+0001aad0: 5f73 7472 616e 6473 5f6c 696e 6545 6469  _strands_lineEdi
+0001aae0: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
+0001aaf0: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+0001ab00: 662e 6d64 5f77 696e 6469 6e67 325f 7261  f.md_winding2_ra
+0001ab10: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
+0001ab20: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+0001ab30: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001ab40: 7769 6e64 696e 6732 5f66 696c 6c5f 6661  winding2_fill_fa
+0001ab50: 6374 6f72 5f6c 696e 6545 6469 742e 7365  ctor_lineEdit.se
+0001ab60: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
+0001ab70: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+0001ab80: 5f77 696e 6469 6e67 325f 7374 7261 6e64  _winding2_strand
+0001ab90: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
+0001aba0: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
+0001abb0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+0001abc0: 2e6d 645f 7769 6e64 696e 6732 5f6c 6974  .md_winding2_lit
+0001abd0: 7a5f 6d61 7465 7269 616c 5f63 6f6d 626f  z_material_combo
+0001abe0: 426f 782e 7365 7445 6e61 626c 6564 2873  Box.setEnabled(s
+0001abf0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
+0001ac00: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+0001ac10: 6772 6f75 7042 6f78 2e73 6574 5669 7369  groupBox.setVisi
+0001ac20: 626c 6528 7374 6174 7573 290a 0a20 2020  ble(status)..   
+0001ac30: 2020 2020 2023 2053 6574 2074 7572 6e73       # Set turns
+0001ac40: 206f 6620 7769 6e64 696e 6720 3220 2865   of winding 2 (e
+0001ac50: 6e61 626c 6520 616e 6420 7669 7369 626c  nable and visibl
+0001ac60: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+0001ac70: 6d64 5f77 696e 6469 6e67 325f 7475 726e  md_winding2_turn
+0001ac80: 735f 6c69 6e65 4564 6974 2e73 6574 5669  s_lineEdit.setVi
+0001ac90: 7369 626c 6528 7374 6174 7573 290a 2020  sible(status).  
+0001aca0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001acb0: 6e64 696e 6732 5f73 6368 656d 655f 636f  nding2_scheme_co
+0001acc0: 6d62 6f42 6f78 2e73 6574 5669 7369 626c  mboBox.setVisibl
+0001acd0: 6528 7374 6174 7573 290a 2020 2020 2020  e(status).      
+0001ace0: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001acf0: 6732 5f74 7572 6e73 5f6c 6162 656c 2e73  g2_turns_label.s
+0001ad00: 6574 5669 7369 626c 6528 7374 6174 7573  etVisible(status
+0001ad10: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+0001ad20: 645f 7769 6e64 696e 6732 5f73 6368 656d  d_winding2_schem
+0001ad30: 655f 6c61 6265 6c2e 7365 7456 6973 6962  e_label.setVisib
+0001ad40: 6c65 2873 7461 7475 7329 0a0a 2020 2020  le(status)..    
+0001ad50: 2020 2020 2320 7365 7420 6375 7272 656e      # set curren
+0001ad60: 7420 7368 6170 6573 206f 6620 7769 6e64  t shapes of wind
+0001ad70: 696e 6720 3220 2865 6e61 626c 6520 616e  ing 2 (enable an
+0001ad80: 6420 7669 7369 626c 6529 0a20 2020 2020  d visible).     
+0001ad90: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001ada0: 6e67 325f 6375 7272 656e 745f 6772 6f75  ng2_current_grou
+0001adb0: 7042 6f78 2e73 6574 5669 7369 626c 6528  pBox.setVisible(
+0001adc0: 7374 6174 7573 290a 0a20 2020 2020 2020  status)..       
+0001add0: 2023 2073 6574 2069 736f 6c61 7469 6f6e   # set isolation
+0001ade0: 206f 6620 7769 6e64 696e 6720 3220 2865   of winding 2 (e
+0001adf0: 6e61 626c 6520 616e 6420 7669 7369 626c  nable and visibl
+0001ae00: 6529 0a20 2020 2020 2020 2073 656c 662e  e).        self.
+0001ae10: 6d64 5f69 736f 6c61 7469 6f6e 5f73 3273  md_isolation_s2s
+0001ae20: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+0001ae30: 626c 6564 2873 7461 7475 7329 0a20 2020  bled(status).   
+0001ae40: 2020 2020 2073 656c 662e 6d64 5f69 736f       self.md_iso
+0001ae50: 6c61 7469 6f6e 5f70 3273 5f6c 696e 6545  lation_p2s_lineE
+0001ae60: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
+0001ae70: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
+0001ae80: 656c 662e 6d64 5f69 736f 6c61 7469 6f6e  elf.md_isolation
+0001ae90: 5f73 3273 5f6c 696e 6545 6469 742e 7365  _s2s_lineEdit.se
+0001aea0: 7456 6973 6962 6c65 2873 7461 7475 7329  tVisible(status)
+0001aeb0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+0001aec0: 5f69 736f 6c61 7469 6f6e 5f70 3273 5f6c  _isolation_p2s_l
+0001aed0: 696e 6545 6469 742e 7365 7456 6973 6962  ineEdit.setVisib
+0001aee0: 6c65 2873 7461 7475 7329 0a20 2020 2020  le(status).     
+0001aef0: 2020 2023 2065 6e61 626c 6520 7332 7020     # enable s2p 
+0001af00: 6f6e 6c79 2066 6f72 2077 696e 6469 6e67  only for winding
+0001af10: 2032 0a20 2020 2020 2020 2073 656c 662e   2.        self.
+0001af20: 6d64 5f69 736f 6c61 7469 6f6e 5f73 3270  md_isolation_s2p
+0001af30: 5f6c 696e 6545 6469 742e 7365 7456 6973  _lineEdit.setVis
+0001af40: 6962 6c65 2873 7461 7475 7329 0a20 2020  ible(status).   
+0001af50: 2020 2020 2073 656c 662e 6d64 5f69 736f       self.md_iso
+0001af60: 6c61 7469 6f6e 5f73 3273 5f6c 6162 656c  lation_s2s_label
+0001af70: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
+0001af80: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+0001af90: 2e6d 645f 6973 6f6c 6174 696f 6e5f 7032  .md_isolation_p2
+0001afa0: 735f 6c61 6265 6c2e 7365 7456 6973 6962  s_label.setVisib
+0001afb0: 6c65 2873 7461 7475 7329 0a20 2020 2020  le(status).     
+0001afc0: 2020 2073 656c 662e 6d64 5f69 736f 6c61     self.md_isola
+0001afd0: 7469 6f6e 5f73 3270 5f6c 6162 656c 2e73  tion_s2p_label.s
+0001afe0: 6574 5669 7369 626c 6528 7374 6174 7573  etVisible(status
+0001aff0: 290a 0a20 2020 2064 6566 206d 645f 676d  )..    def md_gm
+0001b000: 7368 5f70 7265 5f76 6973 7561 6c69 7361  sh_pre_visualisa
+0001b010: 7469 6f6e 2873 656c 6629 3a0a 2020 2020  tion(self):.    
+0001b020: 2020 2020 2222 2250 7265 2d76 6973 7561      """Pre-visua
+0001b030: 6c69 7a65 2077 6865 6e20 7570 6461 7465  lize when update
+0001b040: 2070 7265 7669 6577 2062 7574 746f 6e20   preview button 
+0001b050: 6973 2070 7265 7373 6564 2069 6e20 7468  is pressed in th
+0001b060: 6520 6465 6669 6e69 7469 6f6e 7320 7461  e definitions ta
+0001b070: 622e 2222 220a 2020 2020 2020 2020 6765  b.""".        ge
+0001b080: 6f20 3d20 7365 6c66 2e6d 645f 7365 7475  o = self.md_setu
+0001b090: 705f 6765 6f6d 6574 7279 2829 0a20 2020  p_geometry().   
+0001b0a0: 2020 2020 2070 7269 6e74 2866 2267 656f       print(f"geo
+0001b0b0: 3a7b 6765 6f7d 2229 0a0a 2020 2020 2020  :{geo}")..      
+0001b0c0: 2020 2320 6765 6f2e 6372 6561 7465 5f6d    # geo.create_m
+0001b0d0: 6f64 656c 2866 7265 713d 3130 3030 3030  odel(freq=100000
+0001b0e0: 2c20 7669 7375 616c 697a 655f 6265 666f  , visualize_befo
+0001b0f0: 7265 3d46 616c 7365 2c20 646f 5f6d 6573  re=False, do_mes
+0001b100: 6869 6e67 3d46 616c 7365 2c20 7361 7665  hing=False, save
+0001b110: 5f70 6e67 3d54 7275 6529 0a20 2020 2020  _png=True).     
+0001b120: 2020 2067 656f 2e63 7265 6174 655f 6d6f     geo.create_mo
+0001b130: 6465 6c28 6672 6571 3d63 6f6d 6d61 5f73  del(freq=comma_s
+0001b140: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+0001b150: 7428 7365 6c66 2e6d 645f 6261 7365 5f66  t(self.md_base_f
+0001b160: 7265 7175 656e 6379 5f6c 696e 6545 6469  requency_lineEdi
+0001b170: 742e 7465 7874 2829 292c 2070 7265 5f76  t.text()), pre_v
+0001b180: 6973 7561 6c69 7a65 5f67 656f 6d65 7472  isualize_geometr
+0001b190: 793d 4661 6c73 652c 0a20 2020 2020 2020  y=False,.       
+0001b1a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001b1b0: 2020 7361 7665 5f70 6e67 3d54 7275 6529    save_png=True)
+0001b1c0: 0a20 2020 2020 2020 2070 7269 6e74 2866  .        print(f
+0001b1d0: 2267 656f 2e66 696c 655f 6461 7461 2e68  "geo.file_data.h
+0001b1e0: 7962 7269 645f 636f 6c6f 725f 7669 7375  ybrid_color_visu
+0001b1f0: 616c 697a 655f 6669 6c65 3a20 7b67 656f  alize_file: {geo
+0001b200: 2e66 696c 655f 6461 7461 2e68 7962 7269  .file_data.hybri
+0001b210: 645f 636f 6c6f 725f 7669 7375 616c 697a  d_color_visualiz
+0001b220: 655f 6669 6c65 7d22 290a 2020 2020 2020  e_file}").      
+0001b230: 2020 696d 6167 655f 7072 655f 7669 7375    image_pre_visu
+0001b240: 616c 6973 6174 696f 6e20 3d20 5049 4c2e  alisation = PIL.
+0001b250: 496d 6167 652e 6f70 656e 2867 656f 2e66  Image.open(geo.f
+0001b260: 696c 655f 6461 7461 2e68 7962 7269 645f  ile_data.hybrid_
+0001b270: 636f 6c6f 725f 7669 7375 616c 697a 655f  color_visualize_
+0001b280: 6669 6c65 290a 0a20 2020 2020 2020 2070  file)..        p
+0001b290: 7820 3d20 696d 6167 655f 7072 655f 7669  x = image_pre_vi
+0001b2a0: 7375 616c 6973 6174 696f 6e2e 6c6f 6164  sualisation.load
+0001b2b0: 2829 0a20 2020 2020 2020 2069 6d61 6765  ().        image
+0001b2c0: 5f77 6964 7468 2c20 696d 6167 655f 6865  _width, image_he
+0001b2d0: 6967 6874 203d 2069 6d61 6765 5f70 7265  ight = image_pre
+0001b2e0: 5f76 6973 7561 6c69 7361 7469 6f6e 2e73  _visualisation.s
+0001b2f0: 697a 650a 0a20 2020 2020 2020 2066 6f72  ize..        for
+0001b300: 2063 7574 5f78 5f6c 6566 7420 696e 2072   cut_x_left in r
+0001b310: 616e 6765 2830 2c20 696d 6167 655f 7769  ange(0, image_wi
+0001b320: 6474 6829 3a0a 2020 2020 2020 2020 2020  dth):.          
+0001b330: 2020 6966 2070 785b 6375 745f 785f 6c65    if px[cut_x_le
+0001b340: 6674 2c20 696d 6167 655f 6865 6967 6874  ft, image_height
+0001b350: 202f 2032 5d20 213d 2028 3235 352c 2032   / 2] != (255, 2
+0001b360: 3535 2c20 3235 3529 3a0a 2020 2020 2020  55, 255):.      
+0001b370: 2020 2020 2020 2020 2020 6375 745f 785f            cut_x_
+0001b380: 6c65 6674 202d 3d20 310a 2020 2020 2020  left -= 1.      
+0001b390: 2020 2020 2020 2020 2020 6272 6561 6b0a            break.
+0001b3a0: 2020 2020 2020 2020 666f 7220 6375 745f          for cut_
+0001b3b0: 785f 7269 6768 7420 696e 2072 6576 6572  x_right in rever
+0001b3c0: 7365 6428 7261 6e67 6528 302c 2069 6d61  sed(range(0, ima
+0001b3d0: 6765 5f77 6964 7468 2929 3a0a 2020 2020  ge_width)):.    
+0001b3e0: 2020 2020 2020 2020 6966 2070 785b 6375          if px[cu
+0001b3f0: 745f 785f 7269 6768 742c 2069 6d61 6765  t_x_right, image
+0001b400: 5f68 6569 6768 7420 2f20 325d 2021 3d20  _height / 2] != 
+0001b410: 2832 3535 2c20 3235 352c 2032 3535 293a  (255, 255, 255):
+0001b420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0001b430: 2063 7574 5f78 5f72 6967 6874 202b 3d20   cut_x_right += 
+0001b440: 310a 2020 2020 2020 2020 2020 2020 2020  1.              
+0001b450: 2020 6272 6561 6b0a 0a20 2020 2020 2020    break..       
+0001b460: 2066 6f72 2063 7574 5f79 5f62 6f74 2069   for cut_y_bot i
+0001b470: 6e20 7265 7665 7273 6564 2872 616e 6765  n reversed(range
+0001b480: 2830 2c20 696d 6167 655f 6865 6967 6874  (0, image_height
+0001b490: 2929 3a0a 2020 2020 2020 2020 2020 2020  )):.            
+0001b4a0: 6966 2070 785b 696d 6167 655f 7769 6474  if px[image_widt
+0001b4b0: 6820 2f20 322c 2063 7574 5f79 5f62 6f74  h / 2, cut_y_bot
+0001b4c0: 5d20 213d 2028 3235 352c 2032 3535 2c20  ] != (255, 255, 
+0001b4d0: 3235 3529 3a0a 2020 2020 2020 2020 2020  255):.          
+0001b4e0: 2020 2020 2020 6375 745f 795f 626f 7420        cut_y_bot 
+0001b4f0: 2b3d 2031 0a20 2020 2020 2020 2020 2020  += 1.           
+0001b500: 2020 2020 2062 7265 616b 0a20 2020 2020       break.     
+0001b510: 2020 2066 6f72 2063 7574 5f79 5f74 6f70     for cut_y_top
+0001b520: 2069 6e20 7261 6e67 6528 302c 2069 6d61   in range(0, ima
+0001b530: 6765 5f68 6569 6768 7429 3a0a 2020 2020  ge_height):.    
+0001b540: 2020 2020 2020 2020 6966 2070 785b 696d          if px[im
+0001b550: 6167 655f 7769 6474 6820 2f20 322c 2063  age_width / 2, c
+0001b560: 7574 5f79 5f74 6f70 5d20 213d 2028 3235  ut_y_top] != (25
+0001b570: 352c 2032 3535 2c20 3235 3529 3a0a 2020  5, 255, 255):.  
+0001b580: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+0001b590: 745f 795f 746f 7020 2d3d 2031 0a20 2020  t_y_top -= 1.   
+0001b5a0: 2020 2020 2020 2020 2020 2020 2062 7265               bre
+0001b5b0: 616b 0a0a 2020 2020 2020 2020 696d 5f63  ak..        im_c
+0001b5c0: 726f 7020 3d20 696d 6167 655f 7072 655f  rop = image_pre_
+0001b5d0: 7669 7375 616c 6973 6174 696f 6e2e 6372  visualisation.cr
+0001b5e0: 6f70 2828 6375 745f 785f 6c65 6674 2c20  op((cut_x_left, 
+0001b5f0: 6375 745f 795f 746f 702c 2063 7574 5f78  cut_y_top, cut_x
+0001b600: 5f72 6967 6874 2c20 6375 745f 795f 626f  _right, cut_y_bo
+0001b610: 7429 290a 2020 2020 2020 2020 696d 5f63  t)).        im_c
+0001b620: 726f 702e 7361 7665 2867 656f 2e66 696c  rop.save(geo.fil
+0001b630: 655f 6461 7461 2e68 7962 7269 645f 636f  e_data.hybrid_co
+0001b640: 6c6f 725f 7669 7375 616c 697a 655f 6669  lor_visualize_fi
+0001b650: 6c65 2c20 7175 616c 6974 793d 3935 290a  le, quality=95).
+0001b660: 0a20 2020 2020 2020 2070 6978 6d61 7020  .        pixmap 
+0001b670: 3d20 5150 6978 6d61 7028 6765 6f2e 6669  = QPixmap(geo.fi
+0001b680: 6c65 5f64 6174 612e 6879 6272 6964 5f63  le_data.hybrid_c
+0001b690: 6f6c 6f72 5f76 6973 7561 6c69 7a65 5f66  olor_visualize_f
+0001b6a0: 696c 6529 0a20 2020 2020 2020 2073 656c  ile).        sel
+0001b6b0: 662e 6d64 5f67 6d73 685f 7669 7375 616c  f.md_gmsh_visual
+0001b6c0: 6973 6174 696f 6e5f 514c 6162 656c 2e73  isation_QLabel.s
+0001b6d0: 6574 5069 786d 6170 2870 6978 6d61 7029  etPixmap(pixmap)
+0001b6e0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+0001b6f0: 5f67 6d73 685f 7669 7375 616c 6973 6174  _gmsh_visualisat
+0001b700: 696f 6e5f 514c 6162 656c 2e73 6574 4d61  ion_QLabel.setMa
+0001b710: 736b 2870 6978 6d61 702e 6d61 736b 2829  sk(pixmap.mask()
+0001b720: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+0001b730: 645f 676d 7368 5f76 6973 7561 6c69 7361  d_gmsh_visualisa
+0001b740: 7469 6f6e 5f51 4c61 6265 6c2e 7368 6f77  tion_QLabel.show
+0001b750: 2829 0a0a 2020 2020 6465 6620 6d64 5f73  ()..    def md_s
+0001b760: 6574 5f63 6f72 655f 6765 6f6d 6574 7279  et_core_geometry
+0001b770: 5f66 726f 6d5f 6461 7461 6261 7365 2873  _from_database(s
+0001b780: 656c 6629 3a0a 2020 2020 2020 2020 2222  elf):.        ""
+0001b790: 2253 6574 2061 2063 6f72 6520 6765 6f6d  "Set a core geom
+0001b7a0: 6574 7279 2066 6f72 2074 6865 206d 6174  etry for the mat
+0001b7b0: 6572 6961 6c20 6461 7461 6261 7365 2e22  erial database."
+0001b7c0: 2222 0a20 2020 2020 2020 2063 6f72 655f  "".        core_
+0001b7d0: 6469 6374 203d 2066 6d74 2e63 6f72 655f  dict = fmt.core_
+0001b7e0: 6461 7461 6261 7365 2829 0a20 2020 2020  database().     
+0001b7f0: 2020 2063 6f72 655f 7479 7065 203d 2073     core_type = s
+0001b800: 656c 662e 6d64 5f63 6f72 655f 6765 6f6d  elf.md_core_geom
+0001b810: 6574 7279 5f63 6f6d 626f 426f 782e 6375  etry_comboBox.cu
+0001b820: 7272 656e 7454 6578 7428 290a 0a20 2020  rrentText()..   
+0001b830: 2020 2020 2069 6620 636f 7265 5f74 7970       if core_typ
+0001b840: 6520 213d 2027 4d61 6e75 616c 273a 0a20  e != 'Manual':. 
+0001b850: 2020 2020 2020 2020 2020 2063 6f72 6520             core 
+0001b860: 3d20 636f 7265 5f64 6963 745b 636f 7265  = core_dict[core
+0001b870: 5f74 7970 655d 0a0a 2020 2020 2020 2020  _type]..        
+0001b880: 2020 2020 7365 6c66 2e6d 645f 636f 7265      self.md_core
+0001b890: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
+0001b8a0: 7365 7454 6578 7428 7374 7228 636f 7265  setText(str(core
+0001b8b0: 5b22 636f 7265 5f69 6e6e 6572 5f64 6961  ["core_inner_dia
+0001b8c0: 6d65 7465 7222 5d29 290a 2020 2020 2020  meter"])).      
+0001b8d0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001b8e0: 6e64 6f77 5f68 6569 6768 745f 6c69 6e65  ndow_height_line
+0001b8f0: 4564 6974 2e73 6574 5465 7874 2873 7472  Edit.setText(str
+0001b900: 2863 6f72 655b 2277 696e 646f 775f 6822  (core["window_h"
+0001b910: 5d29 290a 2020 2020 2020 2020 2020 2020  ])).            
+0001b920: 7365 6c66 2e6d 645f 7769 6e64 6f77 5f77  self.md_window_w
+0001b930: 6964 7468 5f6c 696e 6545 6469 742e 7365  idth_lineEdit.se
+0001b940: 7454 6578 7428 7374 7228 636f 7265 5b22  tText(str(core["
+0001b950: 7769 6e64 6f77 5f77 225d 2929 0a20 2020  window_w"])).   
+0001b960: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
+0001b970: 5f63 6f72 655f 7769 6474 685f 6c69 6e65  _core_width_line
+0001b980: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001b990: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
+0001b9a0: 2020 2073 656c 662e 6d64 5f77 696e 646f     self.md_windo
+0001b9b0: 775f 6865 6967 6874 5f6c 696e 6545 6469  w_height_lineEdi
+0001b9c0: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+0001b9d0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0001b9e0: 7365 6c66 2e6d 645f 7769 6e64 6f77 5f77  self.md_window_w
+0001b9f0: 6964 7468 5f6c 696e 6545 6469 742e 7365  idth_lineEdit.se
+0001ba00: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+0001ba10: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001ba20: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001ba30: 645f 636f 7265 5f77 6964 7468 5f6c 696e  d_core_width_lin
+0001ba40: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001ba50: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
+0001ba60: 2020 2073 656c 662e 6d64 5f77 696e 646f     self.md_windo
+0001ba70: 775f 6865 6967 6874 5f6c 696e 6545 6469  w_height_lineEdi
+0001ba80: 742e 7365 7445 6e61 626c 6564 2854 7275  t.setEnabled(Tru
+0001ba90: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
+0001baa0: 656c 662e 6d64 5f77 696e 646f 775f 7769  elf.md_window_wi
+0001bab0: 6474 685f 6c69 6e65 4564 6974 2e73 6574  dth_lineEdit.set
+0001bac0: 456e 6162 6c65 6428 5472 7565 290a 0a20  Enabled(True).. 
+0001bad0: 2020 2064 6566 206d 645f 7769 6e64 696e     def md_windin
+0001bae0: 6731 5f73 6574 5f6c 6974 7a5f 7061 7261  g1_set_litz_para
+0001baf0: 6d65 7465 7273 5f66 726f 6d5f 6c69 747a  meters_from_litz
+0001bb00: 5f64 6174 6162 6173 6528 7365 6c66 293a  _database(self):
+0001bb10: 0a20 2020 2020 2020 2022 2222 5365 7420  .        """Set 
+0001bb20: 6c69 747a 2070 6172 616d 6574 6572 7320  litz parameters 
+0001bb30: 6672 6f6d 206d 6174 6572 6961 6c20 6461  from material da
+0001bb40: 7461 6261 7365 2066 6f72 2077 696e 6469  tabase for windi
+0001bb50: 6e67 2031 2069 6e20 6d61 6e75 616c 2064  ng 1 in manual d
+0001bb60: 6573 6967 6e2e 2222 220a 2020 2020 2020  esign.""".      
+0001bb70: 2020 6c69 747a 5f64 6963 7420 3d20 666d    litz_dict = fm
+0001bb80: 742e 6c69 747a 5f64 6174 6162 6173 6528  t.litz_database(
+0001bb90: 290a 2020 2020 2020 2020 6c69 747a 5f74  ).        litz_t
+0001bba0: 7970 6520 3d20 7365 6c66 2e6d 645f 7769  ype = self.md_wi
+0001bbb0: 6e64 696e 6731 5f6c 6974 7a5f 6d61 7465  nding1_litz_mate
+0001bbc0: 7269 616c 5f63 6f6d 626f 426f 782e 6375  rial_comboBox.cu
+0001bbd0: 7272 656e 7454 6578 7428 290a 0a20 2020  rrentText()..   
+0001bbe0: 2020 2020 2069 6620 6c69 747a 5f74 7970       if litz_typ
+0001bbf0: 6520 213d 2027 4d61 6e75 616c 273a 0a20  e != 'Manual':. 
+0001bc00: 2020 2020 2020 2020 2020 206c 6974 7a20             litz 
+0001bc10: 3d20 6c69 747a 5f64 6963 745b 6c69 747a  = litz_dict[litz
+0001bc20: 5f74 7970 655d 0a0a 2020 2020 2020 2020  _type]..        
+0001bc30: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001bc40: 696e 6731 5f73 7472 616e 6473 5f6c 696e  ing1_strands_lin
+0001bc50: 6545 6469 742e 7365 7454 6578 7428 7374  eEdit.setText(st
+0001bc60: 7228 6c69 747a 5b22 7374 7261 6e64 735f  r(litz["strands_
+0001bc70: 6e75 6d62 6572 7322 5d29 290a 2020 2020  numbers"])).    
+0001bc80: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001bc90: 7769 6e64 696e 6731 5f73 7472 616e 645f  winding1_strand_
+0001bca0: 7261 6469 7573 5f6c 696e 6545 6469 742e  radius_lineEdit.
+0001bcb0: 7365 7454 6578 7428 7374 7228 6c69 747a  setText(str(litz
+0001bcc0: 5b22 7374 7261 6e64 5f72 6164 6969 225d  ["strand_radii"]
+0001bcd0: 2929 0a20 2020 2020 2020 2020 2020 2073  )).            s
+0001bce0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
+0001bcf0: 7261 6469 7573 5f6c 696e 6545 6469 742e  radius_lineEdit.
+0001bd00: 7365 7454 6578 7428 7374 7228 6c69 747a  setText(str(litz
+0001bd10: 5b22 636f 6e64 7563 746f 725f 7261 6469  ["conductor_radi
+0001bd20: 6922 5d29 290a 2020 2020 2020 2020 2020  i"])).          
+0001bd30: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001bd40: 6731 5f66 696c 6c5f 6661 6374 6f72 5f6c  g1_fill_factor_l
+0001bd50: 696e 6545 6469 742e 7365 7454 6578 7428  ineEdit.setText(
+0001bd60: 7374 7228 6c69 747a 5b22 6666 225d 2929  str(litz["ff"]))
+0001bd70: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+0001bd80: 666f 7220 6b65 792c 2076 616c 7565 2069  for key, value i
+0001bd90: 6e20 656e 756d 6572 6174 6528 5b22 696d  n enumerate(["im
+0001bda0: 706c 6963 6974 5f6c 6974 7a5f 7261 6469  plicit_litz_radi
+0001bdb0: 7573 222c 2022 696d 706c 6963 6974 5f66  us", "implicit_f
+0001bdc0: 6622 2c20 2769 6d70 6c69 6369 745f 7374  f", 'implicit_st
+0001bdd0: 7261 6e64 735f 6e75 6d62 6572 275d 293a  rands_number']):
+0001bde0: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0001bdf0: 2020 2069 6620 7661 6c75 6520 3d3d 206c     if value == l
+0001be00: 6974 7a5b 2269 6d70 6c69 6369 7422 5d3a  itz["implicit"]:
+0001be10: 0a20 2020 2020 2020 2020 2020 2023 2020  .            #  
+0001be20: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001be30: 696e 6469 6e67 315f 696d 706c 6963 6974  inding1_implicit
+0001be40: 5f6c 6974 7a5f 636f 6d62 6f42 6f78 2e73  _litz_comboBox.s
+0001be50: 6574 4375 7272 656e 7449 6e64 6578 286b  etCurrentIndex(k
+0001be60: 6579 290a 0a20 2020 2020 2020 2020 2020  ey)..           
+0001be70: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+0001be80: 315f 7261 6469 7573 5f6c 696e 6545 6469  1_radius_lineEdi
+0001be90: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+0001bea0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0001beb0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+0001bec0: 5f69 6d70 6c69 6369 745f 6c69 747a 5f63  _implicit_litz_c
+0001bed0: 6f6d 626f 426f 782e 7365 7445 6e61 626c  omboBox.setEnabl
+0001bee0: 6564 2846 616c 7365 290a 2020 2020 2020  ed(False).      
+0001bef0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001bf00: 6e64 696e 6731 5f73 7472 616e 6473 5f6c  nding1_strands_l
+0001bf10: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+0001bf20: 6564 2846 616c 7365 290a 2020 2020 2020  ed(False).      
+0001bf30: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001bf40: 6e64 696e 6731 5f66 696c 6c5f 6661 6374  nding1_fill_fact
+0001bf50: 6f72 5f6c 696e 6545 6469 742e 7365 7445  or_lineEdit.setE
+0001bf60: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
+0001bf70: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001bf80: 645f 7769 6e64 696e 6731 5f73 7472 616e  d_winding1_stran
+0001bf90: 645f 7261 6469 7573 5f6c 696e 6545 6469  d_radius_lineEdi
+0001bfa0: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+0001bfb0: 7365 290a 2020 2020 2020 2020 656c 7365  se).        else
+0001bfc0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001bfd0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f63  lf.md_winding1_c
+0001bfe0: 6861 6e67 655f 6c69 747a 5f69 6d70 6c69  hange_litz_impli
+0001bff0: 6369 7428 7365 6c66 2e6d 645f 7769 6e64  cit(self.md_wind
+0001c000: 696e 6731 5f69 6d70 6c69 6369 745f 6c69  ing1_implicit_li
+0001c010: 747a 5f63 6f6d 626f 426f 782e 6375 7272  tz_comboBox.curr
+0001c020: 656e 7454 6578 7428 2929 0a20 2020 2020  entText()).     
+0001c030: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001c040: 696e 6469 6e67 315f 696d 706c 6963 6974  inding1_implicit
+0001c050: 5f6c 6974 7a5f 636f 6d62 6f42 6f78 2e73  _litz_comboBox.s
+0001c060: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
+0001c070: 0a20 2020 2064 6566 206d 645f 7769 6e64  .    def md_wind
+0001c080: 696e 6731 5f63 6861 6e67 655f 6c69 747a  ing1_change_litz
+0001c090: 5f69 6d70 6c69 6369 7428 7365 6c66 2c20  _implicit(self, 
+0001c0a0: 696d 706c 6963 6974 5f74 7970 655f 6672  implicit_type_fr
+0001c0b0: 6f6d 5f63 6f6d 626f 5f62 6f78 3a20 7374  om_combo_box: st
+0001c0c0: 7229 202d 3e20 4e6f 6e65 3a0a 2020 2020  r) -> None:.    
+0001c0d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001c0e0: 456e 6162 6c65 202f 2044 6973 6162 6c65  Enable / Disable
+0001c0f0: 2069 6e70 7574 2070 6172 616d 6574 6572   input parameter
+0001c100: 2066 6965 6c64 7320 666f 7220 6469 6666   fields for diff
+0001c110: 6572 656e 7420 2269 6d70 6c69 6369 7420  erent "implicit 
+0001c120: 7879 7a22 2074 7970 6573 2069 6e20 6361  xyz" types in ca
+0001c130: 7365 206f 6620 6c69 747a 2077 6972 652e  se of litz wire.
+0001c140: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+0001c150: 2069 6d70 6c69 6369 745f 7479 7065 5f66   implicit_type_f
+0001c160: 726f 6d5f 636f 6d62 6f5f 626f 783a 2069  rom_combo_box: i
+0001c170: 6e70 7574 2074 7970 6520 746f 2069 6d70  nput type to imp
+0001c180: 6c69 6369 740a 2020 2020 2020 2020 3a74  licit.        :t
+0001c190: 7970 6520 696d 706c 6963 6974 5f74 7970  ype implicit_typ
+0001c1a0: 655f 6672 6f6d 5f63 6f6d 626f 5f62 6f78  e_from_combo_box
+0001c1b0: 3a20 7374 720a 2020 2020 2020 2020 3a72  : str.        :r
+0001c1c0: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
+0001c1d0: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
+0001c1e0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001c1f0: 2020 2020 2069 6620 696d 706c 6963 6974       if implicit
+0001c200: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
+0001c210: 5f62 6f78 203d 3d20 7365 6c66 2e74 7261  _box == self.tra
+0001c220: 6e73 6c61 7469 6f6e 5f64 6963 745b 2769  nslation_dict['i
+0001c230: 6d70 6c69 6369 745f 6c69 747a 5f72 6164  mplicit_litz_rad
+0001c240: 6975 7327 5d3a 0a20 2020 2020 2020 2020  ius']:.         
+0001c250: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001c260: 6e67 315f 7374 7261 6e64 735f 6c69 6e65  ng1_strands_line
+0001c270: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001c280: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
+0001c290: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001c2a0: 6731 5f66 696c 6c5f 6661 6374 6f72 5f6c  g1_fill_factor_l
+0001c2b0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+0001c2c0: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
+0001c2d0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001c2e0: 6469 6e67 315f 7374 7261 6e64 5f72 6164  ding1_strand_rad
+0001c2f0: 6975 735f 6c69 6e65 4564 6974 2e73 6574  ius_lineEdit.set
+0001c300: 456e 6162 6c65 6428 5472 7565 290a 2020  Enabled(True).  
+0001c310: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001c320: 645f 7769 6e64 696e 6731 5f72 6164 6975  d_winding1_radiu
+0001c330: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
+0001c340: 6162 6c65 6428 4661 6c73 6529 0a20 2020  abled(False).   
+0001c350: 2020 2020 2069 6620 696d 706c 6963 6974       if implicit
+0001c360: 5f74 7970 655f 6672 6f6d 5f63 6f6d 626f  _type_from_combo
+0001c370: 5f62 6f78 203d 3d20 7365 6c66 2e74 7261  _box == self.tra
+0001c380: 6e73 6c61 7469 6f6e 5f64 6963 745b 2769  nslation_dict['i
+0001c390: 6d70 6c69 6369 745f 7374 7261 6e64 735f  mplicit_strands_
+0001c3a0: 6e75 6d62 6572 275d 3a0a 2020 2020 2020  number']:.      
+0001c3b0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001c3c0: 6e64 696e 6731 5f73 7472 616e 6473 5f6c  nding1_strands_l
+0001c3d0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+0001c3e0: 6564 2846 616c 7365 290a 2020 2020 2020  ed(False).      
+0001c3f0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001c400: 6e64 696e 6731 5f66 696c 6c5f 6661 6374  nding1_fill_fact
+0001c410: 6f72 5f6c 696e 6545 6469 742e 7365 7445  or_lineEdit.setE
+0001c420: 6e61 626c 6564 2854 7275 6529 0a20 2020  nabled(True).   
+0001c430: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
+0001c440: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
+0001c450: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
+0001c460: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
+0001c470: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0001c480: 6c66 2e6d 645f 7769 6e64 696e 6731 5f72  lf.md_winding1_r
+0001c490: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
+0001c4a0: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
+0001c4b0: 2020 2020 2020 2020 6966 2069 6d70 6c69          if impli
+0001c4c0: 6369 745f 7479 7065 5f66 726f 6d5f 636f  cit_type_from_co
+0001c4d0: 6d62 6f5f 626f 7820 3d3d 2073 656c 662e  mbo_box == self.
+0001c4e0: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+0001c4f0: 5b27 696d 706c 6963 6974 5f66 6627 5d3a  ['implicit_ff']:
+0001c500: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001c510: 662e 6d64 5f77 696e 6469 6e67 315f 7374  f.md_winding1_st
+0001c520: 7261 6e64 735f 6c69 6e65 4564 6974 2e73  rands_lineEdit.s
+0001c530: 6574 456e 6162 6c65 6428 5472 7565 290a  etEnabled(True).
+0001c540: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001c550: 2e6d 645f 7769 6e64 696e 6731 5f66 696c  .md_winding1_fil
+0001c560: 6c5f 6661 6374 6f72 5f6c 696e 6545 6469  l_factor_lineEdi
+0001c570: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+0001c580: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0001c590: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+0001c5a0: 5f73 7472 616e 645f 7261 6469 7573 5f6c  _strand_radius_l
+0001c5b0: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+0001c5c0: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
+0001c5d0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001c5e0: 6469 6e67 315f 7261 6469 7573 5f6c 696e  ding1_radius_lin
+0001c5f0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001c600: 2854 7275 6529 0a0a 2020 2020 6465 6620  (True)..    def 
+0001c610: 6d64 5f77 696e 6469 6e67 315f 6368 616e  md_winding1_chan
+0001c620: 6765 5f77 6972 655f 7479 7065 2873 656c  ge_wire_type(sel
+0001c630: 662c 2077 6972 655f 7479 7065 5f66 726f  f, wire_type_fro
+0001c640: 6d5f 636f 6d62 6f74 5f62 6f78 3a20 7374  m_combot_box: st
+0001c650: 7229 202d 3e20 4e6f 6e65 3a0a 2020 2020  r) -> None:.    
+0001c660: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+0001c670: 456e 6162 6c65 202f 2044 6973 6162 6c65  Enable / Disable
+0001c680: 2069 6e70 7574 2070 6172 616d 6574 6572   input parameter
+0001c690: 2066 6f72 206c 6974 7a2f 736f 6c69 6420   for litz/solid 
+0001c6a0: 7769 7265 2e0a 0a20 2020 2020 2020 203a  wire...        :
+0001c6b0: 7061 7261 6d20 7769 7265 5f74 7970 655f  param wire_type_
+0001c6c0: 6672 6f6d 5f63 6f6d 626f 745f 626f 783a  from_combot_box:
+0001c6d0: 2077 6972 6520 7479 7065 0a20 2020 2020   wire type.     
+0001c6e0: 2020 203a 7479 7065 2077 6972 655f 7479     :type wire_ty
+0001c6f0: 7065 5f66 726f 6d5f 636f 6d62 6f74 5f62  pe_from_combot_b
+0001c700: 6f78 3a20 7374 720a 2020 2020 2020 2020  ox: str.        
+0001c710: 3a72 6574 7572 6e3a 204e 6f6e 650a 2020  :return: None.  
+0001c720: 2020 2020 2020 3a72 7479 7065 3a20 4e6f        :rtype: No
+0001c730: 6e65 0a20 2020 2020 2020 2022 2222 0a20  ne.        """. 
+0001c740: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001c750: 696e 6469 6e67 315f 6368 616e 6765 5f6c  inding1_change_l
+0001c760: 6974 7a5f 696d 706c 6963 6974 2873 656c  itz_implicit(sel
+0001c770: 662e 6d64 5f77 696e 6469 6e67 315f 696d  f.md_winding1_im
+0001c780: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
+0001c790: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+0001c7a0: 2829 290a 2020 2020 2020 2020 6966 2077  ()).        if w
+0001c7b0: 6972 655f 7479 7065 5f66 726f 6d5f 636f  ire_type_from_co
+0001c7c0: 6d62 6f74 5f62 6f78 203d 3d20 7365 6c66  mbot_box == self
+0001c7d0: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
+0001c7e0: 745b 276c 6974 7a27 5d3a 0a20 2020 2020  t['litz']:.     
+0001c7f0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001c800: 696e 6469 6e67 315f 7374 7261 6e64 735f  inding1_strands_
+0001c810: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+0001c820: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
+0001c830: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001c840: 6e64 696e 6731 5f69 6d70 6c69 6369 745f  nding1_implicit_
+0001c850: 6c69 747a 5f63 6f6d 626f 426f 782e 7365  litz_comboBox.se
+0001c860: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
+0001c870: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001c880: 6d64 5f77 696e 6469 6e67 315f 6669 6c6c  md_winding1_fill
+0001c890: 5f66 6163 746f 725f 6c69 6e65 4564 6974  _factor_lineEdit
+0001c8a0: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
+0001c8b0: 290a 2020 2020 2020 2020 2020 2020 7365  ).            se
+0001c8c0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f73  lf.md_winding1_s
+0001c8d0: 7472 616e 645f 7261 6469 7573 5f6c 696e  trand_radius_lin
+0001c8e0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001c8f0: 2854 7275 6529 0a20 2020 2020 2020 2020  (True).         
+0001c900: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001c910: 6e67 315f 7261 6469 7573 5f6c 696e 6545  ng1_radius_lineE
+0001c920: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
+0001c930: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
+0001c940: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+0001c950: 315f 6c69 747a 5f6d 6174 6572 6961 6c5f  1_litz_material_
+0001c960: 636f 6d62 6f42 6f78 2e73 6574 456e 6162  comboBox.setEnab
+0001c970: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
+0001c980: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001c990: 6e64 696e 6731 5f63 6861 6e67 655f 6c69  nding1_change_li
+0001c9a0: 747a 5f69 6d70 6c69 6369 7428 7365 6c66  tz_implicit(self
+0001c9b0: 2e6d 645f 7769 6e64 696e 6731 5f69 6d70  .md_winding1_imp
+0001c9c0: 6c69 6369 745f 6c69 747a 5f63 6f6d 626f  licit_litz_combo
+0001c9d0: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+0001c9e0: 2929 0a0a 2020 2020 2020 2020 656c 6966  ))..        elif
+0001c9f0: 2077 6972 655f 7479 7065 5f66 726f 6d5f   wire_type_from_
+0001ca00: 636f 6d62 6f74 5f62 6f78 203d 3d20 7365  combot_box == se
+0001ca10: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+0001ca20: 6963 745b 2773 6f6c 6964 275d 3a0a 2020  ict['solid']:.  
+0001ca30: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001ca40: 645f 7769 6e64 696e 6731 5f73 7472 616e  d_winding1_stran
+0001ca50: 6473 5f6c 696e 6545 6469 742e 7365 7445  ds_lineEdit.setE
+0001ca60: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
+0001ca70: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001ca80: 645f 7769 6e64 696e 6731 5f69 6d70 6c69  d_winding1_impli
+0001ca90: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
+0001caa0: 782e 7365 7445 6e61 626c 6564 2846 616c  x.setEnabled(Fal
+0001cab0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0001cac0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+0001cad0: 5f66 696c 6c5f 6661 6374 6f72 5f6c 696e  _fill_factor_lin
+0001cae0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001caf0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+0001cb00: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001cb10: 696e 6731 5f73 7472 616e 645f 7261 6469  ing1_strand_radi
+0001cb20: 7573 5f6c 696e 6545 6469 742e 7365 7445  us_lineEdit.setE
+0001cb30: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
+0001cb40: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001cb50: 645f 7769 6e64 696e 6731 5f72 6164 6975  d_winding1_radiu
+0001cb60: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
+0001cb70: 6162 6c65 6428 5472 7565 290a 2020 2020  abled(True).    
+0001cb80: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001cb90: 7769 6e64 696e 6731 5f6c 6974 7a5f 6d61  winding1_litz_ma
+0001cba0: 7465 7269 616c 5f63 6f6d 626f 426f 782e  terial_comboBox.
+0001cbb0: 7365 7445 6e61 626c 6564 2846 616c 7365  setEnabled(False
+0001cbc0: 290a 0a20 2020 2064 6566 206d 645f 7769  )..    def md_wi
+0001cbd0: 6e64 696e 6732 5f73 6574 5f6c 6974 7a5f  nding2_set_litz_
+0001cbe0: 7061 7261 6d65 7465 7273 5f66 726f 6d5f  parameters_from_
+0001cbf0: 6c69 747a 5f64 6174 6162 6173 6528 7365  litz_database(se
+0001cc00: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
+0001cc10: 5365 7420 6c69 747a 2070 6172 616d 6574  Set litz paramet
+0001cc20: 6572 7320 6672 6f6d 206d 6174 6572 6961  ers from materia
+0001cc30: 6c20 6461 7461 6261 7365 2066 6f72 2077  l database for w
+0001cc40: 696e 6469 6e67 2032 2069 6e20 6d61 6e75  inding 2 in manu
+0001cc50: 616c 2064 6573 6967 6e2e 2222 220a 2020  al design.""".  
+0001cc60: 2020 2020 2020 6c69 747a 5f64 6963 7420        litz_dict 
+0001cc70: 3d20 666d 742e 6c69 747a 5f64 6174 6162  = fmt.litz_datab
+0001cc80: 6173 6528 290a 2020 2020 2020 2020 6c69  ase().        li
+0001cc90: 747a 5f74 7970 6520 3d20 7365 6c66 2e6d  tz_type = self.m
+0001cca0: 645f 7769 6e64 696e 6732 5f6c 6974 7a5f  d_winding2_litz_
+0001ccb0: 6d61 7465 7269 616c 5f63 6f6d 626f 426f  material_comboBo
+0001ccc0: 782e 6375 7272 656e 7454 6578 7428 290a  x.currentText().
+0001ccd0: 2020 2020 2020 2020 6966 206c 6974 7a5f          if litz_
+0001cce0: 7479 7065 2021 3d20 274d 616e 7561 6c27  type != 'Manual'
+0001ccf0: 3a0a 2020 2020 2020 2020 2020 2020 6c69  :.            li
+0001cd00: 747a 203d 206c 6974 7a5f 6469 6374 5b6c  tz = litz_dict[l
+0001cd10: 6974 7a5f 7479 7065 5d0a 0a20 2020 2020  itz_type]..     
+0001cd20: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001cd30: 696e 6469 6e67 325f 7374 7261 6e64 735f  inding2_strands_
+0001cd40: 6c69 6e65 4564 6974 2e73 6574 5465 7874  lineEdit.setText
+0001cd50: 2873 7472 286c 6974 7a5b 2273 7472 616e  (str(litz["stran
+0001cd60: 6473 5f6e 756d 6265 7273 225d 2929 0a20  ds_numbers"])). 
+0001cd70: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001cd80: 6d64 5f77 696e 6469 6e67 325f 7374 7261  md_winding2_stra
+0001cd90: 6e64 5f72 6164 6975 735f 6c69 6e65 4564  nd_radius_lineEd
+0001cda0: 6974 2e73 6574 5465 7874 2873 7472 286c  it.setText(str(l
+0001cdb0: 6974 7a5b 2273 7472 616e 645f 7261 6469  itz["strand_radi
+0001cdc0: 6922 5d29 290a 2020 2020 2020 2020 2020  i"])).          
+0001cdd0: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001cde0: 6732 5f72 6164 6975 735f 6c69 6e65 4564  g2_radius_lineEd
+0001cdf0: 6974 2e73 6574 5465 7874 2873 7472 286c  it.setText(str(l
+0001ce00: 6974 7a5b 2263 6f6e 6475 6374 6f72 5f72  itz["conductor_r
+0001ce10: 6164 6969 225d 2929 0a20 2020 2020 2020  adii"])).       
+0001ce20: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001ce30: 6469 6e67 325f 6669 6c6c 5f66 6163 746f  ding2_fill_facto
+0001ce40: 725f 6c69 6e65 4564 6974 2e73 6574 5465  r_lineEdit.setTe
+0001ce50: 7874 2873 7472 286c 6974 7a5b 2266 6622  xt(str(litz["ff"
+0001ce60: 5d29 290a 0a20 2020 2020 2020 2020 2020  ]))..           
+0001ce70: 2066 6f72 206b 6579 2c20 7661 6c75 6520   for key, value 
+0001ce80: 696e 2065 6e75 6d65 7261 7465 285b 2269  in enumerate(["i
+0001ce90: 6d70 6c69 6369 745f 6c69 747a 5f72 6164  mplicit_litz_rad
+0001cea0: 6975 7322 2c20 2269 6d70 6c69 6369 745f  ius", "implicit_
+0001ceb0: 6666 222c 2027 696d 706c 6963 6974 5f73  ff", 'implicit_s
+0001cec0: 7472 616e 6473 5f6e 756d 6265 7227 5d29  trands_number'])
+0001ced0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+0001cee0: 2020 6966 2076 616c 7565 203d 3d20 6c69    if value == li
+0001cef0: 747a 5b22 696d 706c 6963 6974 225d 3a0a  tz["implicit"]:.
+0001cf00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0001cf10: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001cf20: 696e 6732 5f69 6d70 6c69 6369 745f 6c69  ing2_implicit_li
+0001cf30: 747a 5f63 6f6d 626f 426f 782e 7365 7443  tz_comboBox.setC
+0001cf40: 7572 7265 6e74 496e 6465 7828 6b65 7929  urrentIndex(key)
+0001cf50: 0a0a 2020 2020 2020 2020 2020 2020 7365  ..            se
+0001cf60: 6c66 2e6d 645f 7769 6e64 696e 6732 5f72  lf.md_winding2_r
+0001cf70: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
+0001cf80: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
+0001cf90: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001cfa0: 662e 6d64 5f77 696e 6469 6e67 325f 696d  f.md_winding2_im
+0001cfb0: 706c 6963 6974 5f6c 6974 7a5f 636f 6d62  plicit_litz_comb
+0001cfc0: 6f42 6f78 2e73 6574 456e 6162 6c65 6428  oBox.setEnabled(
+0001cfd0: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
+0001cfe0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001cff0: 6e67 325f 7374 7261 6e64 735f 6c69 6e65  ng2_strands_line
+0001d000: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001d010: 4661 6c73 6529 0a20 2020 2020 2020 2020  False).         
+0001d020: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001d030: 6e67 325f 6669 6c6c 5f66 6163 746f 725f  ng2_fill_factor_
+0001d040: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+0001d050: 6c65 6428 4661 6c73 6529 0a20 2020 2020  led(False).     
+0001d060: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001d070: 696e 6469 6e67 325f 7374 7261 6e64 5f72  inding2_strand_r
+0001d080: 6164 6975 735f 6c69 6e65 4564 6974 2e73  adius_lineEdit.s
+0001d090: 6574 456e 6162 6c65 6428 4661 6c73 6529  etEnabled(False)
+0001d0a0: 0a0a 2020 2020 2020 2020 656c 7365 3a0a  ..        else:.
+0001d0b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001d0c0: 2e6d 645f 7769 6e64 696e 6732 5f63 6861  .md_winding2_cha
+0001d0d0: 6e67 655f 6c69 747a 5f69 6d70 6c69 6369  nge_litz_implici
+0001d0e0: 7428 7365 6c66 2e6d 645f 7769 6e64 696e  t(self.md_windin
+0001d0f0: 6732 5f69 6d70 6c69 6369 745f 6c69 747a  g2_implicit_litz
+0001d100: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+0001d110: 7454 6578 7428 2929 0a20 2020 2020 2020  tText()).       
+0001d120: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001d130: 6469 6e67 325f 696d 706c 6963 6974 5f6c  ding2_implicit_l
+0001d140: 6974 7a5f 636f 6d62 6f42 6f78 2e73 6574  itz_comboBox.set
+0001d150: 456e 6162 6c65 6428 5472 7565 290a 0a20  Enabled(True).. 
+0001d160: 2020 2064 6566 206d 645f 7769 6e64 696e     def md_windin
+0001d170: 6732 5f63 6861 6e67 655f 6c69 747a 5f69  g2_change_litz_i
+0001d180: 6d70 6c69 6369 7428 7365 6c66 2c20 696d  mplicit(self, im
+0001d190: 706c 6963 6974 5f74 7970 655f 6672 6f6d  plicit_type_from
+0001d1a0: 5f63 6f6d 626f 5f62 6f78 3a20 7374 7229  _combo_box: str)
+0001d1b0: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+0001d1c0: 2020 2222 220a 2020 2020 2020 2020 456e    """.        En
+0001d1d0: 6162 6c65 202f 2044 6973 6162 6c65 2069  able / Disable i
+0001d1e0: 6e70 7574 2070 6172 616d 6574 6572 2066  nput parameter f
+0001d1f0: 6965 6c64 7320 666f 7220 6469 6666 6572  ields for differ
+0001d200: 656e 7420 2269 6d70 6c69 6369 7420 7879  ent "implicit xy
+0001d210: 7a22 2074 7970 6573 2069 6e20 6361 7365  z" types in case
+0001d220: 206f 6620 6c69 747a 2077 6972 653a 2e0a   of litz wire:..
+0001d230: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0001d240: 696d 706c 6963 6974 5f74 7970 655f 6672  implicit_type_fr
+0001d250: 6f6d 5f63 6f6d 626f 5f62 6f78 3a20 696e  om_combo_box: in
+0001d260: 7075 7420 7479 7065 2074 6f20 696d 706c  put type to impl
+0001d270: 6963 6974 0a20 2020 2020 2020 203a 7479  icit.        :ty
+0001d280: 7065 2069 6d70 6c69 6369 745f 7479 7065  pe implicit_type
+0001d290: 5f66 726f 6d5f 636f 6d62 6f5f 626f 783a  _from_combo_box:
+0001d2a0: 2073 7472 0a20 2020 2020 2020 203a 7265   str.        :re
+0001d2b0: 7475 726e 3a20 4e6f 6e65 0a20 2020 2020  turn: None.     
+0001d2c0: 2020 203a 7274 7970 653a 204e 6f6e 650a     :rtype: None.
+0001d2d0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+0001d2e0: 2020 2020 6966 2069 6d70 6c69 6369 745f      if implicit_
+0001d2f0: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
+0001d300: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
+0001d310: 736c 6174 696f 6e5f 6469 6374 5b27 696d  slation_dict['im
+0001d320: 706c 6963 6974 5f6c 6974 7a5f 7261 6469  plicit_litz_radi
+0001d330: 7573 275d 3a0a 2020 2020 2020 2020 2020  us']:.          
+0001d340: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001d350: 6732 5f73 7472 616e 6473 5f6c 696e 6545  g2_strands_lineE
+0001d360: 6469 742e 7365 7445 6e61 626c 6564 2854  dit.setEnabled(T
+0001d370: 7275 6529 0a20 2020 2020 2020 2020 2020  rue).           
+0001d380: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+0001d390: 325f 6669 6c6c 5f66 6163 746f 725f 6c69  2_fill_factor_li
+0001d3a0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
+0001d3b0: 6428 5472 7565 290a 2020 2020 2020 2020  d(True).        
+0001d3c0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001d3d0: 696e 6732 5f73 7472 616e 645f 7261 6469  ing2_strand_radi
+0001d3e0: 7573 5f6c 696e 6545 6469 742e 7365 7445  us_lineEdit.setE
+0001d3f0: 6e61 626c 6564 2854 7275 6529 0a20 2020  nabled(True).   
+0001d400: 2020 2020 2020 2020 2073 656c 662e 6d64           self.md
+0001d410: 5f77 696e 6469 6e67 325f 7261 6469 7573  _winding2_radius
+0001d420: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+0001d430: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
+0001d440: 2020 2020 6966 2069 6d70 6c69 6369 745f      if implicit_
+0001d450: 7479 7065 5f66 726f 6d5f 636f 6d62 6f5f  type_from_combo_
+0001d460: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
+0001d470: 736c 6174 696f 6e5f 6469 6374 5b27 696d  slation_dict['im
+0001d480: 706c 6963 6974 5f73 7472 616e 6473 5f6e  plicit_strands_n
+0001d490: 756d 6265 7227 5d3a 0a20 2020 2020 2020  umber']:.       
+0001d4a0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001d4b0: 6469 6e67 325f 7374 7261 6e64 735f 6c69  ding2_strands_li
+0001d4c0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
+0001d4d0: 6428 4661 6c73 6529 0a20 2020 2020 2020  d(False).       
+0001d4e0: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001d4f0: 6469 6e67 325f 6669 6c6c 5f66 6163 746f  ding2_fill_facto
+0001d500: 725f 6c69 6e65 4564 6974 2e73 6574 456e  r_lineEdit.setEn
+0001d510: 6162 6c65 6428 5472 7565 290a 2020 2020  abled(True).    
+0001d520: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001d530: 7769 6e64 696e 6732 5f73 7472 616e 645f  winding2_strand_
+0001d540: 7261 6469 7573 5f6c 696e 6545 6469 742e  radius_lineEdit.
+0001d550: 7365 7445 6e61 626c 6564 2854 7275 6529  setEnabled(True)
+0001d560: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001d570: 662e 6d64 5f77 696e 6469 6e67 325f 7261  f.md_winding2_ra
+0001d580: 6469 7573 5f6c 696e 6545 6469 742e 7365  dius_lineEdit.se
+0001d590: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
+0001d5a0: 2020 2020 2020 2069 6620 696d 706c 6963         if implic
+0001d5b0: 6974 5f74 7970 655f 6672 6f6d 5f63 6f6d  it_type_from_com
+0001d5c0: 626f 5f62 6f78 203d 3d20 7365 6c66 2e74  bo_box == self.t
+0001d5d0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+0001d5e0: 2769 6d70 6c69 6369 745f 6666 275d 3a0a  'implicit_ff']:.
+0001d5f0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001d600: 2e6d 645f 7769 6e64 696e 6732 5f73 7472  .md_winding2_str
+0001d610: 616e 6473 5f6c 696e 6545 6469 742e 7365  ands_lineEdit.se
+0001d620: 7445 6e61 626c 6564 2854 7275 6529 0a20  tEnabled(True). 
+0001d630: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001d640: 6d64 5f77 696e 6469 6e67 325f 6669 6c6c  md_winding2_fill
+0001d650: 5f66 6163 746f 725f 6c69 6e65 4564 6974  _factor_lineEdit
+0001d660: 2e73 6574 456e 6162 6c65 6428 4661 6c73  .setEnabled(Fals
+0001d670: 6529 0a20 2020 2020 2020 2020 2020 2073  e).            s
+0001d680: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+0001d690: 7374 7261 6e64 5f72 6164 6975 735f 6c69  strand_radius_li
+0001d6a0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
+0001d6b0: 6428 5472 7565 290a 2020 2020 2020 2020  d(True).        
+0001d6c0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001d6d0: 696e 6732 5f72 6164 6975 735f 6c69 6e65  ing2_radius_line
+0001d6e0: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001d6f0: 5472 7565 290a 0a20 2020 2064 6566 206d  True)..    def m
+0001d700: 645f 7769 6e64 696e 6732 5f63 6861 6e67  d_winding2_chang
+0001d710: 655f 7769 7265 5f74 7970 6528 7365 6c66  e_wire_type(self
+0001d720: 2c20 7769 7265 5f74 7970 655f 6672 6f6d  , wire_type_from
+0001d730: 5f63 6f6d 626f 745f 626f 783a 2073 7472  _combot_box: str
+0001d740: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
+0001d750: 2020 2022 2222 0a20 2020 2020 2020 2045     """.        E
+0001d760: 6e61 626c 6520 2f20 4469 7361 626c 6520  nable / Disable 
+0001d770: 696e 7075 7420 7061 7261 6d65 7465 7220  input parameter 
+0001d780: 666f 7220 6c69 747a 2f73 6f6c 6964 2077  for litz/solid w
+0001d790: 6972 652e 0a0a 2020 2020 2020 2020 3a70  ire...        :p
+0001d7a0: 6172 616d 2077 6972 655f 7479 7065 5f66  aram wire_type_f
+0001d7b0: 726f 6d5f 636f 6d62 6f74 5f62 6f78 3a20  rom_combot_box: 
+0001d7c0: 7769 7265 2074 7970 650a 2020 2020 2020  wire type.      
+0001d7d0: 2020 3a74 7970 6520 7769 7265 5f74 7970    :type wire_typ
+0001d7e0: 655f 6672 6f6d 5f63 6f6d 626f 745f 626f  e_from_combot_bo
+0001d7f0: 783a 2073 7472 0a20 2020 2020 2020 203a  x: str.        :
+0001d800: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
+0001d810: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
+0001d820: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
+0001d830: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001d840: 6e64 696e 6732 5f63 6861 6e67 655f 6c69  nding2_change_li
+0001d850: 747a 5f69 6d70 6c69 6369 7428 7365 6c66  tz_implicit(self
+0001d860: 2e6d 645f 7769 6e64 696e 6732 5f69 6d70  .md_winding2_imp
+0001d870: 6c69 6369 745f 6c69 747a 5f63 6f6d 626f  licit_litz_combo
+0001d880: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+0001d890: 2929 0a20 2020 2020 2020 2069 6620 7769  )).        if wi
+0001d8a0: 7265 5f74 7970 655f 6672 6f6d 5f63 6f6d  re_type_from_com
+0001d8b0: 626f 745f 626f 7820 3d3d 2073 656c 662e  bot_box == self.
+0001d8c0: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+0001d8d0: 5b27 6c69 747a 275d 3a0a 2020 2020 2020  ['litz']:.      
+0001d8e0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001d8f0: 6e64 696e 6732 5f73 7472 616e 6473 5f6c  nding2_strands_l
+0001d900: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+0001d910: 6564 2854 7275 6529 0a20 2020 2020 2020  ed(True).       
+0001d920: 2020 2020 2073 656c 662e 6d64 5f77 696e       self.md_win
+0001d930: 6469 6e67 325f 696d 706c 6963 6974 5f6c  ding2_implicit_l
+0001d940: 6974 7a5f 636f 6d62 6f42 6f78 2e73 6574  itz_comboBox.set
+0001d950: 456e 6162 6c65 6428 5472 7565 290a 2020  Enabled(True).  
+0001d960: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001d970: 645f 7769 6e64 696e 6732 5f66 696c 6c5f  d_winding2_fill_
+0001d980: 6661 6374 6f72 5f6c 696e 6545 6469 742e  factor_lineEdit.
+0001d990: 7365 7445 6e61 626c 6564 2854 7275 6529  setEnabled(True)
+0001d9a0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001d9b0: 662e 6d64 5f77 696e 6469 6e67 325f 7374  f.md_winding2_st
+0001d9c0: 7261 6e64 5f72 6164 6975 735f 6c69 6e65  rand_radius_line
+0001d9d0: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001d9e0: 5472 7565 290a 2020 2020 2020 2020 2020  True).          
+0001d9f0: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001da00: 6732 5f72 6164 6975 735f 6c69 6e65 4564  g2_radius_lineEd
+0001da10: 6974 2e73 6574 456e 6162 6c65 6428 4661  it.setEnabled(Fa
+0001da20: 6c73 6529 0a20 2020 2020 2020 2020 2020  lse).           
+0001da30: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+0001da40: 325f 6c69 747a 5f6d 6174 6572 6961 6c5f  2_litz_material_
+0001da50: 636f 6d62 6f42 6f78 2e73 6574 456e 6162  comboBox.setEnab
+0001da60: 6c65 6428 5472 7565 290a 2020 2020 2020  led(True).      
+0001da70: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001da80: 6e64 696e 6732 5f63 6861 6e67 655f 6c69  nding2_change_li
+0001da90: 747a 5f69 6d70 6c69 6369 7428 7365 6c66  tz_implicit(self
+0001daa0: 2e6d 645f 7769 6e64 696e 6732 5f69 6d70  .md_winding2_imp
+0001dab0: 6c69 6369 745f 6c69 747a 5f63 6f6d 626f  licit_litz_combo
+0001dac0: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+0001dad0: 2929 0a0a 2020 2020 2020 2020 656c 6966  ))..        elif
+0001dae0: 2077 6972 655f 7479 7065 5f66 726f 6d5f   wire_type_from_
+0001daf0: 636f 6d62 6f74 5f62 6f78 203d 3d20 7365  combot_box == se
+0001db00: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+0001db10: 6963 745b 2773 6f6c 6964 275d 3a0a 2020  ict['solid']:.  
+0001db20: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001db30: 645f 7769 6e64 696e 6732 5f73 7472 616e  d_winding2_stran
+0001db40: 6473 5f6c 696e 6545 6469 742e 7365 7445  ds_lineEdit.setE
+0001db50: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
+0001db60: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001db70: 645f 7769 6e64 696e 6732 5f69 6d70 6c69  d_winding2_impli
+0001db80: 6369 745f 6c69 747a 5f63 6f6d 626f 426f  cit_litz_comboBo
+0001db90: 782e 7365 7445 6e61 626c 6564 2846 616c  x.setEnabled(Fal
+0001dba0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0001dbb0: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+0001dbc0: 5f66 696c 6c5f 6661 6374 6f72 5f6c 696e  _fill_factor_lin
+0001dbd0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001dbe0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+0001dbf0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001dc00: 696e 6732 5f73 7472 616e 645f 7261 6469  ing2_strand_radi
+0001dc10: 7573 5f6c 696e 6545 6469 742e 7365 7445  us_lineEdit.setE
+0001dc20: 6e61 626c 6564 2846 616c 7365 290a 2020  nabled(False).  
+0001dc30: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001dc40: 645f 7769 6e64 696e 6732 5f72 6164 6975  d_winding2_radiu
+0001dc50: 735f 6c69 6e65 4564 6974 2e73 6574 456e  s_lineEdit.setEn
+0001dc60: 6162 6c65 6428 5472 7565 290a 2020 2020  abled(True).    
+0001dc70: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001dc80: 7769 6e64 696e 6732 5f6c 6974 7a5f 6d61  winding2_litz_ma
+0001dc90: 7465 7269 616c 5f63 6f6d 626f 426f 782e  terial_comboBox.
+0001dca0: 7365 7445 6e61 626c 6564 2846 616c 7365  setEnabled(False
+0001dcb0: 290a 0a20 2020 2064 6566 206d 645f 6368  )..    def md_ch
+0001dcc0: 616e 6765 5f61 6972 5f67 6170 5f63 6f75  ange_air_gap_cou
+0001dcd0: 6e74 2873 656c 662c 2061 6972 5f67 6170  nt(self, air_gap
+0001dce0: 5f63 6f75 6e74 5f66 726f 6d5f 636f 6d62  _count_from_comb
+0001dcf0: 6f5f 626f 783a 2073 7472 2920 2d3e 204e  o_box: str) -> N
+0001dd00: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+0001dd10: 0a20 2020 2020 2020 2053 6574 2074 6865  .        Set the
+0001dd20: 206e 756d 6265 7220 6f66 2065 6469 7461   number of edita
+0001dd30: 626c 6520 6169 7220 6761 7020 6669 656c  ble air gap fiel
+0001dd40: 6473 2069 6e20 6465 7065 6e64 656e 6365  ds in dependence
+0001dd50: 206f 6620 7468 6520 6169 7220 6761 7020   of the air gap 
+0001dd60: 636f 756e 7420 636f 6d62 6f62 6f78 2e0a  count combobox..
+0001dd70: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0001dd80: 6169 725f 6761 705f 636f 756e 745f 6672  air_gap_count_fr
+0001dd90: 6f6d 5f63 6f6d 626f 5f62 6f78 3a20 4e75  om_combo_box: Nu
+0001dda0: 6d62 6572 206f 6620 6564 6974 6162 6c65  mber of editable
+0001ddb0: 2061 6972 2067 6170 730a 2020 2020 2020   air gaps.      
+0001ddc0: 2020 3a74 7970 6520 6169 725f 6761 705f    :type air_gap_
+0001ddd0: 636f 756e 745f 6672 6f6d 5f63 6f6d 626f  count_from_combo
+0001dde0: 5f62 6f78 3a20 7374 720a 2020 2020 2020  _box: str.      
+0001ddf0: 2020 3a72 6574 7572 6e3a 204e 6f6e 650a    :return: None.
+0001de00: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
+0001de10: 4e6f 6e65 0a20 2020 2020 2020 2022 2222  None.        """
+0001de20: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+0001de30: 5f61 6972 5f67 6170 5f70 6c61 6365 6d65  _air_gap_placeme
+0001de40: 6e74 5f6d 6574 686f 645f 636f 6d62 6f42  nt_method_comboB
+0001de50: 6f78 2e73 6574 456e 6162 6c65 6428 4661  ox.setEnabled(Fa
+0001de60: 6c73 6529 0a20 2020 2020 2020 2073 656c  lse).        sel
+0001de70: 662e 6d64 5f61 6972 5f67 6170 5f31 5f65  f.md_air_gap_1_e
+0001de80: 6e61 626c 6528 4661 6c73 6529 0a20 2020  nable(False).   
+0001de90: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
+0001dea0: 5f67 6170 5f32 5f65 6e61 626c 6528 4661  _gap_2_enable(Fa
+0001deb0: 6c73 6529 0a20 2020 2020 2020 2073 656c  lse).        sel
+0001dec0: 662e 6d64 5f61 6972 5f67 6170 5f33 5f65  f.md_air_gap_3_e
+0001ded0: 6e61 626c 6528 4661 6c73 6529 0a20 2020  nable(False).   
+0001dee0: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
+0001def0: 5f67 6170 5f34 5f65 6e61 626c 6528 4661  _gap_4_enable(Fa
+0001df00: 6c73 6529 0a20 2020 2020 2020 2073 656c  lse).        sel
+0001df10: 662e 6d64 5f61 6972 5f67 6170 5f35 5f65  f.md_air_gap_5_e
+0001df20: 6e61 626c 6528 4661 6c73 6529 0a20 2020  nable(False).   
+0001df30: 2020 2020 2069 6620 696e 7428 6169 725f       if int(air_
+0001df40: 6761 705f 636f 756e 745f 6672 6f6d 5f63  gap_count_from_c
+0001df50: 6f6d 626f 5f62 6f78 2920 3e3d 2031 3a0a  ombo_box) >= 1:.
+0001df60: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001df70: 2e6d 645f 6169 725f 6761 705f 315f 656e  .md_air_gap_1_en
+0001df80: 6162 6c65 2854 7275 6529 0a20 2020 2020  able(True).     
+0001df90: 2020 2020 2020 2073 656c 662e 6d64 5f61         self.md_a
+0001dfa0: 6972 5f67 6170 5f70 6c61 6365 6d65 6e74  ir_gap_placement
+0001dfb0: 5f6d 6574 686f 645f 636f 6d62 6f42 6f78  _method_comboBox
+0001dfc0: 2e73 6574 456e 6162 6c65 6428 5472 7565  .setEnabled(True
+0001dfd0: 290a 2020 2020 2020 2020 6966 2069 6e74  ).        if int
+0001dfe0: 2861 6972 5f67 6170 5f63 6f75 6e74 5f66  (air_gap_count_f
+0001dff0: 726f 6d5f 636f 6d62 6f5f 626f 7829 203e  rom_combo_box) >
+0001e000: 3d20 323a 0a20 2020 2020 2020 2020 2020  = 2:.           
+0001e010: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
+0001e020: 5f32 5f65 6e61 626c 6528 5472 7565 290a  _2_enable(True).
+0001e030: 2020 2020 2020 2020 6966 2069 6e74 2861          if int(a
+0001e040: 6972 5f67 6170 5f63 6f75 6e74 5f66 726f  ir_gap_count_fro
+0001e050: 6d5f 636f 6d62 6f5f 626f 7829 203e 3d20  m_combo_box) >= 
+0001e060: 333a 0a20 2020 2020 2020 2020 2020 2073  3:.            s
+0001e070: 656c 662e 6d64 5f61 6972 5f67 6170 5f33  elf.md_air_gap_3
+0001e080: 5f65 6e61 626c 6528 5472 7565 290a 2020  _enable(True).  
+0001e090: 2020 2020 2020 6966 2069 6e74 2861 6972        if int(air
+0001e0a0: 5f67 6170 5f63 6f75 6e74 5f66 726f 6d5f  _gap_count_from_
+0001e0b0: 636f 6d62 6f5f 626f 7829 203e 3d20 343a  combo_box) >= 4:
+0001e0c0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0001e0d0: 662e 6d64 5f61 6972 5f67 6170 5f34 5f65  f.md_air_gap_4_e
+0001e0e0: 6e61 626c 6528 5472 7565 290a 2020 2020  nable(True).    
+0001e0f0: 2020 2020 6966 2069 6e74 2861 6972 5f67      if int(air_g
+0001e100: 6170 5f63 6f75 6e74 5f66 726f 6d5f 636f  ap_count_from_co
+0001e110: 6d62 6f5f 626f 7829 203e 3d20 353a 0a20  mbo_box) >= 5:. 
+0001e120: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001e130: 6d64 5f61 6972 5f67 6170 5f35 5f65 6e61  md_air_gap_5_ena
+0001e140: 626c 6528 5472 7565 290a 0a20 2020 2064  ble(True)..    d
+0001e150: 6566 206d 645f 6368 616e 6765 5f61 6972  ef md_change_air
+0001e160: 5f67 6170 5f70 6c61 6365 6d65 6e74 2873  _gap_placement(s
+0001e170: 656c 662c 2061 6972 5f67 6170 5f70 6c61  elf, air_gap_pla
+0001e180: 6365 6d65 6e74 5f66 726f 6d5f 636f 6d62  cement_from_comb
+0001e190: 6f5f 626f 783a 2073 7472 2920 2d3e 204e  o_box: str) -> N
+0001e1a0: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+0001e1b0: 0a20 2020 2020 2020 2043 6861 6e67 6520  .        Change 
+0001e1c0: 7468 6520 6c61 6265 6c73 2069 6e20 6361  the labels in ca
+0001e1d0: 7365 206f 6620 6469 6666 6572 656e 7420  se of different 
+0001e1e0: 6169 7220 6761 7020 706c 6163 656d 656e  air gap placemen
+0001e1f0: 7420 6d65 7468 6f64 732e 0a0a 2020 2020  t methods...    
+0001e200: 2020 2020 3a70 6172 616d 2061 6972 5f67      :param air_g
+0001e210: 6170 5f70 6c61 6365 6d65 6e74 5f66 726f  ap_placement_fro
+0001e220: 6d5f 636f 6d62 6f5f 626f 783a 2041 6972  m_combo_box: Air
+0001e230: 2067 6170 2070 6c61 6365 6d65 6e74 206d   gap placement m
+0001e240: 6574 686f 640a 2020 2020 2020 2020 3a74  ethod.        :t
+0001e250: 7970 6520 6169 725f 6761 705f 706c 6163  ype air_gap_plac
+0001e260: 656d 656e 745f 6672 6f6d 5f63 6f6d 626f  ement_from_combo
+0001e270: 5f62 6f78 3a20 7374 720a 2020 2020 2020  _box: str.      
+0001e280: 2020 3a72 6574 7572 6e3a 204e 6f6e 650a    :return: None.
+0001e290: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
+0001e2a0: 4e6f 6e65 0a20 2020 2020 2020 2022 2222  None.        """
+0001e2b0: 0a20 2020 2020 2020 2069 6620 6169 725f  .        if air_
+0001e2c0: 6761 705f 706c 6163 656d 656e 745f 6672  gap_placement_fr
+0001e2d0: 6f6d 5f63 6f6d 626f 5f62 6f78 203d 3d20  om_combo_box == 
+0001e2e0: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
+0001e2f0: 5f64 6963 745b 276d 616e 7561 6c6c 7927  _dict['manually'
+0001e300: 5d3a 0a20 2020 2020 2020 2020 2020 206d  ]:.            m
+0001e310: 645f 6169 725f 6761 705f 706c 6163 656d  d_air_gap_placem
+0001e320: 656e 745f 7465 7874 203d 2027 506f 7369  ent_text = 'Posi
+0001e330: 7469 6f6e 270a 2020 2020 2020 2020 656c  tion'.        el
+0001e340: 6966 2061 6972 5f67 6170 5f70 6c61 6365  if air_gap_place
+0001e350: 6d65 6e74 5f66 726f 6d5f 636f 6d62 6f5f  ment_from_combo_
+0001e360: 626f 7820 3d3d 2073 656c 662e 7472 616e  box == self.tran
+0001e370: 736c 6174 696f 6e5f 6469 6374 5b27 7065  slation_dict['pe
+0001e380: 7263 656e 7427 5d3a 0a20 2020 2020 2020  rcent']:.       
+0001e390: 2020 2020 206d 645f 6169 725f 6761 705f       md_air_gap_
+0001e3a0: 706c 6163 656d 656e 745f 7465 7874 203d  placement_text =
+0001e3b0: 2027 506f 7369 7469 6f6e 2069 6e20 5b25   'Position in [%
+0001e3c0: 5d27 0a20 2020 2020 2020 2073 656c 662e  ]'.        self.
+0001e3d0: 6d64 5f61 6972 5f67 6170 5f31 5f70 6f73  md_air_gap_1_pos
+0001e3e0: 6974 696f 6e5f 6c61 6265 6c2e 7365 7454  ition_label.setT
+0001e3f0: 6578 7428 6d64 5f61 6972 5f67 6170 5f70  ext(md_air_gap_p
+0001e400: 6c61 6365 6d65 6e74 5f74 6578 7429 0a20  lacement_text). 
+0001e410: 2020 2020 2020 2073 656c 662e 6d64 5f61         self.md_a
+0001e420: 6972 5f67 6170 5f32 5f70 6f73 6974 696f  ir_gap_2_positio
+0001e430: 6e5f 6c61 6265 6c2e 7365 7454 6578 7428  n_label.setText(
+0001e440: 6d64 5f61 6972 5f67 6170 5f70 6c61 6365  md_air_gap_place
+0001e450: 6d65 6e74 5f74 6578 7429 0a20 2020 2020  ment_text).     
+0001e460: 2020 2073 656c 662e 6d64 5f61 6972 5f67     self.md_air_g
+0001e470: 6170 5f33 5f70 6f73 6974 696f 6e5f 6c61  ap_3_position_la
+0001e480: 6265 6c2e 7365 7454 6578 7428 6d64 5f61  bel.setText(md_a
+0001e490: 6972 5f67 6170 5f70 6c61 6365 6d65 6e74  ir_gap_placement
+0001e4a0: 5f74 6578 7429 0a20 2020 2020 2020 2073  _text).        s
+0001e4b0: 656c 662e 6d64 5f61 6972 5f67 6170 5f34  elf.md_air_gap_4
+0001e4c0: 5f70 6f73 6974 696f 6e5f 6c61 6265 6c2e  _position_label.
+0001e4d0: 7365 7454 6578 7428 6d64 5f61 6972 5f67  setText(md_air_g
+0001e4e0: 6170 5f70 6c61 6365 6d65 6e74 5f74 6578  ap_placement_tex
+0001e4f0: 7429 0a20 2020 2020 2020 2073 656c 662e  t).        self.
+0001e500: 6d64 5f61 6972 5f67 6170 5f35 5f70 6f73  md_air_gap_5_pos
+0001e510: 6974 696f 6e5f 6c61 6265 6c2e 7365 7454  ition_label.setT
+0001e520: 6578 7428 6d64 5f61 6972 5f67 6170 5f70  ext(md_air_gap_p
+0001e530: 6c61 6365 6d65 6e74 5f74 6578 7429 0a0a  lacement_text)..
+0001e540: 2020 2020 6465 6620 6d64 5f61 6972 5f67      def md_air_g
+0001e550: 6170 5f31 5f65 6e61 626c 6528 7365 6c66  ap_1_enable(self
+0001e560: 2c20 7374 6174 7573 3a20 626f 6f6c 2920  , status: bool) 
+0001e570: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
+0001e580: 2022 2222 0a20 2020 2020 2020 2045 6e61   """.        Ena
+0001e590: 626c 6520 2f20 4469 7361 626c 6520 7468  ble / Disable th
+0001e5a0: 6520 696e 7075 7420 6669 656c 6473 2066  e input fields f
+0001e5b0: 6f72 2061 6972 2067 6170 204e 6f2e 2031  or air gap No. 1
+0001e5c0: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+0001e5d0: 6d20 7374 6174 7573 3a20 5472 7565 2066  m status: True f
+0001e5e0: 6f72 2065 6e61 626c 6520 6669 656c 6473  or enable fields
+0001e5f0: 2c20 4661 6c73 6520 666f 7220 6469 7361  , False for disa
+0001e600: 626c 6520 6669 656c 6473 0a20 2020 2020  ble fields.     
+0001e610: 2020 203a 7479 7065 2073 7461 7475 733a     :type status:
+0001e620: 2062 6f6f 6c0a 2020 2020 2020 2020 3a72   bool.        :r
+0001e630: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
+0001e640: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
+0001e650: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001e660: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
+0001e670: 5f67 6170 5f31 5f6c 656e 6774 685f 6c69  _gap_1_length_li
+0001e680: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
+0001e690: 6428 7374 6174 7573 290a 2020 2020 2020  d(status).      
+0001e6a0: 2020 7365 6c66 2e6d 645f 6169 725f 6761    self.md_air_ga
+0001e6b0: 705f 315f 706f 7369 7469 6f6e 5f6c 696e  p_1_position_lin
+0001e6c0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001e6d0: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
+0001e6e0: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
+0001e6f0: 5f31 5f6c 656e 6774 685f 6c61 6265 6c2e  _1_length_label.
+0001e700: 7365 7456 6973 6962 6c65 2873 7461 7475  setVisible(statu
+0001e710: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
+0001e720: 6d64 5f61 6972 5f67 6170 5f31 5f6c 656e  md_air_gap_1_len
+0001e730: 6774 685f 6c69 6e65 4564 6974 2e73 6574  gth_lineEdit.set
+0001e740: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
+0001e750: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001e760: 6169 725f 6761 705f 315f 706f 7369 7469  air_gap_1_positi
+0001e770: 6f6e 5f6c 6162 656c 2e73 6574 5669 7369  on_label.setVisi
+0001e780: 626c 6528 7374 6174 7573 290a 2020 2020  ble(status).    
+0001e790: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
+0001e7a0: 6761 705f 315f 706f 7369 7469 6f6e 5f6c  gap_1_position_l
+0001e7b0: 696e 6545 6469 742e 7365 7456 6973 6962  ineEdit.setVisib
+0001e7c0: 6c65 2873 7461 7475 7329 0a0a 2020 2020  le(status)..    
+0001e7d0: 6465 6620 6d64 5f61 6972 5f67 6170 5f32  def md_air_gap_2
+0001e7e0: 5f65 6e61 626c 6528 7365 6c66 2c20 7374  _enable(self, st
+0001e7f0: 6174 7573 3a20 626f 6f6c 2920 2d3e 204e  atus: bool) -> N
+0001e800: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+0001e810: 0a20 2020 2020 2020 2045 6e61 626c 6520  .        Enable 
+0001e820: 2f20 4469 7361 626c 6520 7468 6520 696e  / Disable the in
+0001e830: 7075 7420 6669 656c 6473 2066 6f72 2061  put fields for a
+0001e840: 6972 2067 6170 204e 6f2e 2032 2e0a 0a20  ir gap No. 2... 
+0001e850: 2020 2020 2020 203a 7061 7261 6d20 7374         :param st
+0001e860: 6174 7573 3a20 5472 7565 2066 6f72 2065  atus: True for e
+0001e870: 6e61 626c 6520 6669 656c 6473 2c20 4661  nable fields, Fa
+0001e880: 6c73 6520 666f 7220 6469 7361 626c 6520  lse for disable 
+0001e890: 6669 656c 6473 0a20 2020 2020 2020 203a  fields.        :
+0001e8a0: 7479 7065 2073 7461 7475 733a 2062 6f6f  type status: boo
+0001e8b0: 6c0a 2020 2020 2020 2020 3a72 6574 7572  l.        :retur
+0001e8c0: 6e3a 204e 6f6e 650a 2020 2020 2020 2020  n: None.        
+0001e8d0: 3a72 7479 7065 3a20 4e6f 6e65 0a20 2020  :rtype: None.   
+0001e8e0: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001e8f0: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
+0001e900: 5f32 5f6c 656e 6774 685f 6c69 6e65 4564  _2_length_lineEd
+0001e910: 6974 2e73 6574 456e 6162 6c65 6428 7374  it.setEnabled(st
+0001e920: 6174 7573 290a 2020 2020 2020 2020 7365  atus).        se
+0001e930: 6c66 2e6d 645f 6169 725f 6761 705f 325f  lf.md_air_gap_2_
+0001e940: 706f 7369 7469 6f6e 5f6c 696e 6545 6469  position_lineEdi
+0001e950: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
+0001e960: 7475 7329 0a20 2020 2020 2020 2073 656c  tus).        sel
+0001e970: 662e 6d64 5f61 6972 5f67 6170 5f32 5f6c  f.md_air_gap_2_l
+0001e980: 656e 6774 685f 6c61 6265 6c2e 7365 7456  ength_label.setV
+0001e990: 6973 6962 6c65 2873 7461 7475 7329 0a20  isible(status). 
+0001e9a0: 2020 2020 2020 2073 656c 662e 6d64 5f61         self.md_a
+0001e9b0: 6972 5f67 6170 5f32 5f6c 656e 6774 685f  ir_gap_2_length_
+0001e9c0: 6c69 6e65 4564 6974 2e73 6574 5669 7369  lineEdit.setVisi
+0001e9d0: 626c 6528 7374 6174 7573 290a 2020 2020  ble(status).    
+0001e9e0: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
+0001e9f0: 6761 705f 325f 706f 7369 7469 6f6e 5f6c  gap_2_position_l
+0001ea00: 6162 656c 2e73 6574 5669 7369 626c 6528  abel.setVisible(
+0001ea10: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
+0001ea20: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
+0001ea30: 325f 706f 7369 7469 6f6e 5f6c 696e 6545  2_position_lineE
+0001ea40: 6469 742e 7365 7456 6973 6962 6c65 2873  dit.setVisible(s
+0001ea50: 7461 7475 7329 0a0a 2020 2020 6465 6620  tatus)..    def 
+0001ea60: 6d64 5f61 6972 5f67 6170 5f33 5f65 6e61  md_air_gap_3_ena
+0001ea70: 626c 6528 7365 6c66 2c20 7374 6174 7573  ble(self, status
+0001ea80: 3a20 626f 6f6c 2920 2d3e 204e 6f6e 653a  : bool) -> None:
+0001ea90: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001eaa0: 2020 2020 2045 6e61 626c 6520 2f20 4469       Enable / Di
+0001eab0: 7361 626c 6520 7468 6520 696e 7075 7420  sable the input 
+0001eac0: 6669 656c 6473 2066 6f72 2061 6972 2067  fields for air g
+0001ead0: 6170 204e 6f2e 2033 2e0a 0a20 2020 2020  ap No. 3...     
+0001eae0: 2020 203a 7061 7261 6d20 7374 6174 7573     :param status
+0001eaf0: 3a20 5472 7565 2066 6f72 2065 6e61 626c  : True for enabl
+0001eb00: 6520 6669 656c 6473 2c20 4661 6c73 6520  e fields, False 
+0001eb10: 666f 7220 6469 7361 626c 6520 6669 656c  for disable fiel
+0001eb20: 6473 0a20 2020 2020 2020 203a 7479 7065  ds.        :type
+0001eb30: 2073 7461 7475 733a 2062 6f6f 6c0a 2020   status: bool.  
+0001eb40: 2020 2020 2020 3a72 6574 7572 6e3a 204e        :return: N
+0001eb50: 6f6e 650a 2020 2020 2020 2020 3a72 7479  one.        :rty
+0001eb60: 7065 3a20 4e6f 6e65 0a20 2020 2020 2020  pe: None.       
+0001eb70: 2022 2222 0a20 2020 2020 2020 2073 656c   """.        sel
+0001eb80: 662e 6d64 5f61 6972 5f67 6170 5f33 5f6c  f.md_air_gap_3_l
+0001eb90: 656e 6774 685f 6c69 6e65 4564 6974 2e73  ength_lineEdit.s
+0001eba0: 6574 456e 6162 6c65 6428 7374 6174 7573  etEnabled(status
+0001ebb0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+0001ebc0: 645f 6169 725f 6761 705f 335f 706f 7369  d_air_gap_3_posi
+0001ebd0: 7469 6f6e 5f6c 696e 6545 6469 742e 7365  tion_lineEdit.se
+0001ebe0: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
+0001ebf0: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+0001ec00: 5f61 6972 5f67 6170 5f33 5f6c 656e 6774  _air_gap_3_lengt
+0001ec10: 685f 6c61 6265 6c2e 7365 7456 6973 6962  h_label.setVisib
+0001ec20: 6c65 2873 7461 7475 7329 0a20 2020 2020  le(status).     
+0001ec30: 2020 2073 656c 662e 6d64 5f61 6972 5f67     self.md_air_g
+0001ec40: 6170 5f33 5f6c 656e 6774 685f 6c69 6e65  ap_3_length_line
+0001ec50: 4564 6974 2e73 6574 5669 7369 626c 6528  Edit.setVisible(
+0001ec60: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
+0001ec70: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
+0001ec80: 335f 706f 7369 7469 6f6e 5f6c 6162 656c  3_position_label
+0001ec90: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
+0001eca0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+0001ecb0: 2e6d 645f 6169 725f 6761 705f 335f 706f  .md_air_gap_3_po
+0001ecc0: 7369 7469 6f6e 5f6c 696e 6545 6469 742e  sition_lineEdit.
+0001ecd0: 7365 7456 6973 6962 6c65 2873 7461 7475  setVisible(statu
+0001ece0: 7329 0a0a 2020 2020 6465 6620 6d64 5f61  s)..    def md_a
+0001ecf0: 6972 5f67 6170 5f34 5f65 6e61 626c 6528  ir_gap_4_enable(
+0001ed00: 7365 6c66 2c20 7374 6174 7573 3a20 626f  self, status: bo
+0001ed10: 6f6c 2920 2d3e 204e 6f6e 653a 0a20 2020  ol) -> None:.   
+0001ed20: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+0001ed30: 2045 6e61 626c 6520 2f20 4469 7361 626c   Enable / Disabl
+0001ed40: 6520 7468 6520 696e 7075 7420 6669 656c  e the input fiel
+0001ed50: 6473 2066 6f72 2061 6972 2067 6170 204e  ds for air gap N
+0001ed60: 6f2e 2034 2e0a 0a20 2020 2020 2020 203a  o. 4...        :
+0001ed70: 7061 7261 6d20 7374 6174 7573 3a20 5472  param status: Tr
+0001ed80: 7565 2066 6f72 2065 6e61 626c 6520 6669  ue for enable fi
+0001ed90: 656c 6473 2c20 4661 6c73 6520 666f 7220  elds, False for 
+0001eda0: 6469 7361 626c 6520 6669 656c 6473 0a20  disable fields. 
+0001edb0: 2020 2020 2020 203a 7479 7065 2073 7461         :type sta
+0001edc0: 7475 733a 2062 6f6f 6c0a 2020 2020 2020  tus: bool.      
+0001edd0: 2020 3a72 6574 7572 6e3a 204e 6f6e 650a    :return: None.
+0001ede0: 2020 2020 2020 2020 3a72 7479 7065 3a20          :rtype: 
+0001edf0: 4e6f 6e65 0a20 2020 2020 2020 2022 2222  None.        """
+0001ee00: 0a20 2020 2020 2020 2073 656c 662e 6d64  .        self.md
+0001ee10: 5f61 6972 5f67 6170 5f34 5f6c 656e 6774  _air_gap_4_lengt
+0001ee20: 685f 6c69 6e65 4564 6974 2e73 6574 456e  h_lineEdit.setEn
+0001ee30: 6162 6c65 6428 7374 6174 7573 290a 2020  abled(status).  
+0001ee40: 2020 2020 2020 7365 6c66 2e6d 645f 6169        self.md_ai
+0001ee50: 725f 6761 705f 345f 706f 7369 7469 6f6e  r_gap_4_position
+0001ee60: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+0001ee70: 626c 6564 2873 7461 7475 7329 0a20 2020  bled(status).   
+0001ee80: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
+0001ee90: 5f67 6170 5f34 5f6c 656e 6774 685f 6c61  _gap_4_length_la
+0001eea0: 6265 6c2e 7365 7456 6973 6962 6c65 2873  bel.setVisible(s
+0001eeb0: 7461 7475 7329 0a20 2020 2020 2020 2073  tatus).        s
+0001eec0: 656c 662e 6d64 5f61 6972 5f67 6170 5f34  elf.md_air_gap_4
+0001eed0: 5f6c 656e 6774 685f 6c69 6e65 4564 6974  _length_lineEdit
+0001eee0: 2e73 6574 5669 7369 626c 6528 7374 6174  .setVisible(stat
+0001eef0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+0001ef00: 2e6d 645f 6169 725f 6761 705f 345f 706f  .md_air_gap_4_po
+0001ef10: 7369 7469 6f6e 5f6c 6162 656c 2e73 6574  sition_label.set
+0001ef20: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
+0001ef30: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001ef40: 6169 725f 6761 705f 345f 706f 7369 7469  air_gap_4_positi
+0001ef50: 6f6e 5f6c 696e 6545 6469 742e 7365 7456  on_lineEdit.setV
+0001ef60: 6973 6962 6c65 2873 7461 7475 7329 0a0a  isible(status)..
+0001ef70: 2020 2020 6465 6620 6d64 5f61 6972 5f67      def md_air_g
+0001ef80: 6170 5f35 5f65 6e61 626c 6528 7365 6c66  ap_5_enable(self
+0001ef90: 2c20 7374 6174 7573 3a20 626f 6f6c 2920  , status: bool) 
+0001efa0: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
+0001efb0: 2022 2222 0a20 2020 2020 2020 2045 6e61   """.        Ena
+0001efc0: 626c 6520 2f20 4469 7361 626c 6520 7468  ble / Disable th
+0001efd0: 6520 696e 7075 7420 6669 656c 6473 2066  e input fields f
+0001efe0: 6f72 2061 6972 2067 6170 204e 6f2e 2035  or air gap No. 5
+0001eff0: 2e0a 0a20 2020 2020 2020 203a 7061 7261  ...        :para
+0001f000: 6d20 7374 6174 7573 3a20 5472 7565 2066  m status: True f
+0001f010: 6f72 2065 6e61 626c 6520 6669 656c 6473  or enable fields
+0001f020: 2c20 4661 6c73 6520 666f 7220 6469 7361  , False for disa
+0001f030: 626c 6520 6669 656c 6473 0a20 2020 2020  ble fields.     
+0001f040: 2020 203a 7479 7065 2073 7461 7475 733a     :type status:
+0001f050: 2062 6f6f 6c0a 2020 2020 2020 2020 3a72   bool.        :r
+0001f060: 6574 7572 6e3a 204e 6f6e 650a 2020 2020  eturn: None.    
+0001f070: 2020 2020 3a72 7479 7065 3a20 4e6f 6e65      :rtype: None
+0001f080: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+0001f090: 2020 2020 2073 656c 662e 6d64 5f61 6972       self.md_air
+0001f0a0: 5f67 6170 5f35 5f6c 656e 6774 685f 6c69  _gap_5_length_li
+0001f0b0: 6e65 4564 6974 2e73 6574 456e 6162 6c65  neEdit.setEnable
+0001f0c0: 6428 7374 6174 7573 290a 2020 2020 2020  d(status).      
+0001f0d0: 2020 7365 6c66 2e6d 645f 6169 725f 6761    self.md_air_ga
+0001f0e0: 705f 355f 706f 7369 7469 6f6e 5f6c 696e  p_5_position_lin
+0001f0f0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001f100: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
+0001f110: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
+0001f120: 5f35 5f6c 656e 6774 685f 6c61 6265 6c2e  _5_length_label.
+0001f130: 7365 7456 6973 6962 6c65 2873 7461 7475  setVisible(statu
+0001f140: 7329 0a20 2020 2020 2020 2073 656c 662e  s).        self.
+0001f150: 6d64 5f61 6972 5f67 6170 5f35 5f6c 656e  md_air_gap_5_len
+0001f160: 6774 685f 6c69 6e65 4564 6974 2e73 6574  gth_lineEdit.set
+0001f170: 5669 7369 626c 6528 7374 6174 7573 290a  Visible(status).
+0001f180: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001f190: 6169 725f 6761 705f 355f 706f 7369 7469  air_gap_5_positi
+0001f1a0: 6f6e 5f6c 6162 656c 2e73 6574 5669 7369  on_label.setVisi
+0001f1b0: 626c 6528 7374 6174 7573 290a 2020 2020  ble(status).    
+0001f1c0: 2020 2020 7365 6c66 2e6d 645f 6169 725f      self.md_air_
+0001f1d0: 6761 705f 355f 706f 7369 7469 6f6e 5f6c  gap_5_position_l
+0001f1e0: 696e 6545 6469 742e 7365 7456 6973 6962  ineEdit.setVisib
+0001f1f0: 6c65 2873 7461 7475 7329 0a0a 2020 2020  le(status)..    
+0001f200: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
+0001f210: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001f220: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001f230: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
+0001f240: 2023 2045 7863 6974 6174 696f 6e20 7461   # Excitation ta
+0001f250: 620a 2020 2020 2320 2d2d 2d2d 2d2d 2d2d  b.    # --------
+0001f260: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001f270: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001f280: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0001f290: 2d2d 0a0a 2020 2020 6465 6620 6d64 5f64  --..    def md_d
+0001f2a0: 635f 656e 6162 6c65 2873 656c 662c 2073  c_enable(self, s
+0001f2b0: 7461 7475 733a 2062 6f6f 6c29 202d 3e20  tatus: bool) -> 
+0001f2c0: 4e6f 6e65 3a0a 2020 2020 2020 2020 2222  None:.        ""
+0001f2d0: 220a 2020 2020 2020 2020 456e 6162 6c65  ".        Enable
+0001f2e0: 202f 2044 6973 6162 6c65 2074 6865 2069   / Disable the i
+0001f2f0: 6e70 7574 2066 6965 6c64 7320 666f 7220  nput fields for 
+0001f300: 6463 2063 7572 7265 6e74 2e0a 0a20 2020  dc current...   
+0001f310: 2020 2020 203a 7061 7261 6d20 7374 6174       :param stat
+0001f320: 7573 3a20 5472 7565 2066 6f72 2065 6e61  us: True for ena
+0001f330: 626c 6520 6669 656c 6473 2c20 4661 6c73  ble fields, Fals
+0001f340: 6520 666f 7220 6469 7361 626c 6520 6669  e for disable fi
+0001f350: 656c 6473 0a20 2020 2020 2020 203a 7479  elds.        :ty
+0001f360: 7065 2073 7461 7475 733a 2062 6f6f 6c0a  pe status: bool.
+0001f370: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+0001f380: 204e 6f6e 650a 2020 2020 2020 2020 3a72   None.        :r
+0001f390: 7479 7065 3a20 4e6f 6e65 0a20 2020 2020  type: None.     
+0001f3a0: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
+0001f3b0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
+0001f3c0: 6964 635f 6c69 6e65 4564 6974 2e73 6574  idc_lineEdit.set
+0001f3d0: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
+0001f3e0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001f3f0: 7769 6e64 696e 6732 5f69 6463 5f6c 696e  winding2_idc_lin
+0001f400: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001f410: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
+0001f420: 2069 6620 7365 6c66 2e6d 645f 7369 6d75   if self.md_simu
+0001f430: 6c61 7469 6f6e 5f74 7970 655f 636f 6d62  lation_type_comb
+0001f440: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+0001f450: 2829 203d 3d20 7365 6c66 2e74 7261 6e73  () == self.trans
+0001f460: 6c61 7469 6f6e 5f64 6963 745b 2769 6e64  lation_dict['ind
+0001f470: 7563 746f 7227 5d20 616e 6420 7374 6174  uctor'] and stat
+0001f480: 7573 3a0a 2020 2020 2020 2020 2020 2020  us:.            
+0001f490: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+0001f4a0: 5f69 6463 5f6c 696e 6545 6469 742e 7365  _idc_lineEdit.se
+0001f4b0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+0001f4c0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001f4d0: 2e6d 645f 7769 6e64 696e 6732 5f69 6463  .md_winding2_idc
+0001f4e0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+0001f4f0: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
+0001f500: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+0001f510: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+0001f520: 6e64 696e 6732 5f69 6463 5f6c 696e 6545  nding2_idc_lineE
+0001f530: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
+0001f540: 7461 7475 7329 0a20 2020 2020 2020 2020  tatus).         
+0001f550: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001f560: 6e67 325f 6964 635f 6c69 6e65 4564 6974  ng2_idc_lineEdit
+0001f570: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
+0001f580: 7573 290a 0a20 2020 2064 6566 206d 645f  us)..    def md_
+0001f590: 6631 5f65 6e61 626c 6528 7365 6c66 2c20  f1_enable(self, 
+0001f5a0: 7374 6174 7573 3a20 626f 6f6c 2920 2d3e  status: bool) ->
+0001f5b0: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
+0001f5c0: 2222 0a20 2020 2020 2020 2045 6e61 626c  "".        Enabl
+0001f5d0: 6520 2f20 4469 7361 626c 6520 7468 6520  e / Disable the 
+0001f5e0: 696e 7075 7420 6669 656c 6473 2066 6f72  input fields for
+0001f5f0: 2066 7265 7175 656e 6379 2f70 6861 7365   frequency/phase
+0001f600: 204e 6f2e 2031 2e0a 0a20 2020 2020 2020   No. 1...       
+0001f610: 203a 7061 7261 6d20 7374 6174 7573 3a20   :param status: 
+0001f620: 5472 7565 2066 6f72 2065 6e61 626c 6520  True for enable 
+0001f630: 6669 656c 6473 2c20 4661 6c73 6520 666f  fields, False fo
+0001f640: 7220 6469 7361 626c 6520 6669 656c 6473  r disable fields
+0001f650: 0a20 2020 2020 2020 203a 7479 7065 2073  .        :type s
+0001f660: 7461 7475 733a 2062 6f6f 6c0a 2020 2020  tatus: bool.    
+0001f670: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
+0001f680: 650a 2020 2020 2020 2020 3a72 7479 7065  e.        :rtype
+0001f690: 3a20 4e6f 6e65 0a20 2020 2020 2020 2022  : None.        "
+0001f6a0: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
+0001f6b0: 6d64 5f77 696e 6469 6e67 315f 696b 315f  md_winding1_ik1_
+0001f6c0: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+0001f6d0: 6c65 6428 7374 6174 7573 290a 2020 2020  led(status).    
+0001f6e0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001f6f0: 696e 6731 5f70 6b31 5f6c 696e 6545 6469  ing1_pk1_lineEdi
+0001f700: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
+0001f710: 7475 7329 0a20 2020 2020 2020 2069 6620  tus).        if 
+0001f720: 7365 6c66 2e6d 645f 7369 6d75 6c61 7469  self.md_simulati
+0001f730: 6f6e 5f74 7970 655f 636f 6d62 6f42 6f78  on_type_comboBox
+0001f740: 2e63 7572 7265 6e74 5465 7874 2829 203d  .currentText() =
+0001f750: 3d20 7365 6c66 2e74 7261 6e73 6c61 7469  = self.translati
+0001f760: 6f6e 5f64 6963 745b 2769 6e64 7563 746f  on_dict['inducto
+0001f770: 7227 5d20 616e 6420 7374 6174 7573 3a0a  r'] and status:.
+0001f780: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+0001f790: 2e6d 645f 7769 6e64 696e 6732 5f69 6b31  .md_winding2_ik1
+0001f7a0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+0001f7b0: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
+0001f7c0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001f7d0: 7769 6e64 696e 6732 5f70 6b31 5f6c 696e  winding2_pk1_lin
+0001f7e0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001f7f0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+0001f800: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+0001f810: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+0001f820: 6732 5f69 6b31 5f6c 696e 6545 6469 742e  g2_ik1_lineEdit.
+0001f830: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
+0001f840: 7329 0a20 2020 2020 2020 2020 2020 2073  s).            s
+0001f850: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+0001f860: 706b 315f 6c69 6e65 4564 6974 2e73 6574  pk1_lineEdit.set
+0001f870: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
+0001f880: 0a20 2020 2064 6566 206d 645f 6632 5f65  .    def md_f2_e
+0001f890: 6e61 626c 6528 7365 6c66 2c20 7374 6174  nable(self, stat
+0001f8a0: 7573 3a20 626f 6f6c 2920 2d3e 204e 6f6e  us: bool) -> Non
+0001f8b0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
+0001f8c0: 2020 2020 2020 2045 6e61 626c 6520 2f20         Enable / 
+0001f8d0: 4469 7361 626c 6520 7468 6520 696e 7075  Disable the inpu
+0001f8e0: 7420 6669 656c 6473 2066 6f72 2066 7265  t fields for fre
+0001f8f0: 7175 656e 6379 2f70 6861 7365 204e 6f2e  quency/phase No.
+0001f900: 2032 2e0a 0a20 2020 2020 2020 203a 7061   2...        :pa
+0001f910: 7261 6d20 7374 6174 7573 3a20 5472 7565  ram status: True
+0001f920: 2066 6f72 2065 6e61 626c 6520 6669 656c   for enable fiel
+0001f930: 6473 2c20 4661 6c73 6520 666f 7220 6469  ds, False for di
+0001f940: 7361 626c 6520 6669 656c 6473 0a20 2020  sable fields.   
+0001f950: 2020 2020 203a 7479 7065 2073 7461 7475       :type statu
+0001f960: 733a 2062 6f6f 6c0a 2020 2020 2020 2020  s: bool.        
+0001f970: 3a72 6574 7572 6e3a 204e 6f6e 650a 2020  :return: None.  
+0001f980: 2020 2020 2020 3a72 7479 7065 3a20 4e6f        :rtype: No
+0001f990: 6e65 0a20 2020 2020 2020 2022 2222 0a20  ne.        """. 
+0001f9a0: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001f9b0: 696e 6469 6e67 315f 696b 325f 6c69 6e65  inding1_ik2_line
+0001f9c0: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001f9d0: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
+0001f9e0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+0001f9f0: 5f70 6b32 5f6c 696e 6545 6469 742e 7365  _pk2_lineEdit.se
+0001fa00: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
+0001fa10: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0001fa20: 2e6d 645f 7369 6d75 6c61 7469 6f6e 5f74  .md_simulation_t
+0001fa30: 7970 655f 636f 6d62 6f42 6f78 2e63 7572  ype_comboBox.cur
+0001fa40: 7265 6e74 5465 7874 2829 203d 3d20 7365  rentText() == se
+0001fa50: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+0001fa60: 6963 745b 2769 6e64 7563 746f 7227 5d20  ict['inductor'] 
+0001fa70: 616e 6420 7374 6174 7573 3a0a 2020 2020  and status:.    
+0001fa80: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001fa90: 7769 6e64 696e 6732 5f69 6b32 5f6c 696e  winding2_ik2_lin
+0001faa0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+0001fab0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+0001fac0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001fad0: 696e 6732 5f70 6b32 5f6c 696e 6545 6469  ing2_pk2_lineEdi
+0001fae0: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+0001faf0: 7365 290a 2020 2020 2020 2020 656c 7365  se).        else
+0001fb00: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+0001fb10: 6c66 2e6d 645f 7769 6e64 696e 6732 5f69  lf.md_winding2_i
+0001fb20: 6b32 5f6c 696e 6545 6469 742e 7365 7445  k2_lineEdit.setE
+0001fb30: 6e61 626c 6564 2873 7461 7475 7329 0a20  nabled(status). 
+0001fb40: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+0001fb50: 6d64 5f77 696e 6469 6e67 325f 706b 325f  md_winding2_pk2_
+0001fb60: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+0001fb70: 6c65 6428 7374 6174 7573 290a 0a20 2020  led(status)..   
+0001fb80: 2064 6566 206d 645f 6633 5f65 6e61 626c   def md_f3_enabl
+0001fb90: 6528 7365 6c66 2c20 7374 6174 7573 3a20  e(self, status: 
+0001fba0: 626f 6f6c 2920 2d3e 204e 6f6e 653a 0a20  bool) -> None:. 
+0001fbb0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001fbc0: 2020 2045 6e61 626c 6520 2f20 4469 7361     Enable / Disa
+0001fbd0: 626c 6520 7468 6520 696e 7075 7420 6669  ble the input fi
+0001fbe0: 656c 6473 2066 6f72 2066 7265 7175 656e  elds for frequen
+0001fbf0: 6379 2f70 6861 7365 204e 6f2e 2033 2e0a  cy/phase No. 3..
+0001fc00: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+0001fc10: 7374 6174 7573 3a20 5472 7565 2066 6f72  status: True for
+0001fc20: 2065 6e61 626c 6520 6669 656c 6473 2c20   enable fields, 
+0001fc30: 4661 6c73 6520 666f 7220 6469 7361 626c  False for disabl
+0001fc40: 6520 6669 656c 6473 0a20 2020 2020 2020  e fields.       
+0001fc50: 203a 7479 7065 2073 7461 7475 733a 2062   :type status: b
+0001fc60: 6f6f 6c0a 2020 2020 2020 2020 3a72 6574  ool.        :ret
+0001fc70: 7572 6e3a 204e 6f6e 650a 2020 2020 2020  urn: None.      
+0001fc80: 2020 3a72 7479 7065 3a20 4e6f 6e65 0a20    :rtype: None. 
+0001fc90: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+0001fca0: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+0001fcb0: 6e67 315f 696b 335f 6c69 6e65 4564 6974  ng1_ik3_lineEdit
+0001fcc0: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
+0001fcd0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+0001fce0: 2e6d 645f 7769 6e64 696e 6731 5f70 6b33  .md_winding1_pk3
+0001fcf0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+0001fd00: 626c 6564 2873 7461 7475 7329 0a20 2020  bled(status).   
+0001fd10: 2020 2020 2069 6620 7365 6c66 2e6d 645f       if self.md_
+0001fd20: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
+0001fd30: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+0001fd40: 5465 7874 2829 203d 3d20 7365 6c66 2e74  Text() == self.t
+0001fd50: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+0001fd60: 2769 6e64 7563 746f 7227 5d20 616e 6420  'inductor'] and 
+0001fd70: 7374 6174 7573 3a0a 2020 2020 2020 2020  status:.        
+0001fd80: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+0001fd90: 696e 6732 5f69 6b33 5f6c 696e 6545 6469  ing2_ik3_lineEdi
+0001fda0: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+0001fdb0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+0001fdc0: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+0001fdd0: 5f70 6b33 5f6c 696e 6545 6469 742e 7365  _pk3_lineEdit.se
+0001fde0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+0001fdf0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+0001fe00: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+0001fe10: 645f 7769 6e64 696e 6732 5f69 6b33 5f6c  d_winding2_ik3_l
+0001fe20: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+0001fe30: 6564 2873 7461 7475 7329 0a20 2020 2020  ed(status).     
+0001fe40: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+0001fe50: 696e 6469 6e67 325f 706b 335f 6c69 6e65  inding2_pk3_line
+0001fe60: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+0001fe70: 7374 6174 7573 290a 0a20 2020 2064 6566  status)..    def
+0001fe80: 206d 645f 6634 5f65 6e61 626c 6528 7365   md_f4_enable(se
+0001fe90: 6c66 2c20 7374 6174 7573 3a20 626f 6f6c  lf, status: bool
+0001fea0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
+0001feb0: 2020 2022 2222 0a20 2020 2020 2020 2045     """.        E
+0001fec0: 6e61 626c 6520 2f20 4469 7361 626c 6520  nable / Disable 
+0001fed0: 7468 6520 696e 7075 7420 6669 656c 6473  the input fields
+0001fee0: 2066 6f72 2066 7265 7175 656e 6379 2f70   for frequency/p
+0001fef0: 6861 7365 204e 6f2e 2034 2e0a 0a20 2020  hase No. 4...   
+0001ff00: 2020 2020 203a 7061 7261 6d20 7374 6174       :param stat
+0001ff10: 7573 3a20 5472 7565 2066 6f72 2065 6e61  us: True for ena
+0001ff20: 626c 6520 6669 656c 6473 2c20 4661 6c73  ble fields, Fals
+0001ff30: 6520 666f 7220 6469 7361 626c 6520 6669  e for disable fi
+0001ff40: 656c 6473 0a20 2020 2020 2020 203a 7479  elds.        :ty
+0001ff50: 7065 2073 7461 7475 733a 2062 6f6f 6c0a  pe status: bool.
+0001ff60: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+0001ff70: 204e 6f6e 650a 2020 2020 2020 2020 3a72   None.        :r
+0001ff80: 7479 7065 3a20 4e6f 6e65 0a20 2020 2020  type: None.     
+0001ff90: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
+0001ffa0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
+0001ffb0: 696b 345f 6c69 6e65 4564 6974 2e73 6574  ik4_lineEdit.set
+0001ffc0: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
+0001ffd0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+0001ffe0: 7769 6e64 696e 6731 5f70 6b34 5f6c 696e  winding1_pk4_lin
+0001fff0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+00020000: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
+00020010: 2069 6620 7365 6c66 2e6d 645f 7369 6d75   if self.md_simu
+00020020: 6c61 7469 6f6e 5f74 7970 655f 636f 6d62  lation_type_comb
+00020030: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00020040: 2829 203d 3d20 7365 6c66 2e74 7261 6e73  () == self.trans
+00020050: 6c61 7469 6f6e 5f64 6963 745b 2769 6e64  lation_dict['ind
+00020060: 7563 746f 7227 5d20 616e 6420 7374 6174  uctor'] and stat
+00020070: 7573 3a0a 2020 2020 2020 2020 2020 2020  us:.            
+00020080: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+00020090: 5f69 6b34 5f6c 696e 6545 6469 742e 7365  _ik4_lineEdit.se
+000200a0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+000200b0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+000200c0: 2e6d 645f 7769 6e64 696e 6732 5f70 6b34  .md_winding2_pk4
+000200d0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+000200e0: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
+000200f0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00020100: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+00020110: 6e64 696e 6732 5f69 6b34 5f6c 696e 6545  nding2_ik4_lineE
+00020120: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
+00020130: 7461 7475 7329 0a20 2020 2020 2020 2020  tatus).         
+00020140: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+00020150: 6e67 325f 706b 345f 6c69 6e65 4564 6974  ng2_pk4_lineEdit
+00020160: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
+00020170: 7573 290a 0a20 2020 2064 6566 206d 645f  us)..    def md_
+00020180: 6635 5f65 6e61 626c 6528 7365 6c66 2c20  f5_enable(self, 
+00020190: 7374 6174 7573 3a20 626f 6f6c 2920 2d3e  status: bool) ->
+000201a0: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
+000201b0: 2222 0a20 2020 2020 2020 2045 6e61 626c  "".        Enabl
+000201c0: 6520 2f20 4469 7361 626c 6520 7468 6520  e / Disable the 
+000201d0: 696e 7075 7420 6669 656c 6473 2066 6f72  input fields for
+000201e0: 2066 7265 7175 656e 6379 2f70 6861 7365   frequency/phase
+000201f0: 204e 6f2e 2035 2e0a 0a20 2020 2020 2020   No. 5...       
+00020200: 203a 7061 7261 6d20 7374 6174 7573 3a20   :param status: 
+00020210: 5472 7565 2066 6f72 2065 6e61 626c 6520  True for enable 
+00020220: 6669 656c 6473 2c20 4661 6c73 6520 666f  fields, False fo
+00020230: 7220 6469 7361 626c 6520 6669 656c 6473  r disable fields
+00020240: 0a20 2020 2020 2020 203a 7479 7065 2073  .        :type s
+00020250: 7461 7475 733a 2062 6f6f 6c0a 2020 2020  tatus: bool.    
+00020260: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
+00020270: 650a 2020 2020 2020 2020 3a72 7479 7065  e.        :rtype
+00020280: 3a20 4e6f 6e65 0a20 2020 2020 2020 2022  : None.        "
+00020290: 2222 0a20 2020 2020 2020 2073 656c 662e  "".        self.
+000202a0: 6d64 5f77 696e 6469 6e67 315f 696b 355f  md_winding1_ik5_
+000202b0: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+000202c0: 6c65 6428 7374 6174 7573 290a 2020 2020  led(status).    
+000202d0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+000202e0: 696e 6731 5f70 6b35 5f6c 696e 6545 6469  ing1_pk5_lineEdi
+000202f0: 742e 7365 7445 6e61 626c 6564 2873 7461  t.setEnabled(sta
+00020300: 7475 7329 0a20 2020 2020 2020 2069 6620  tus).        if 
+00020310: 7365 6c66 2e6d 645f 7369 6d75 6c61 7469  self.md_simulati
+00020320: 6f6e 5f74 7970 655f 636f 6d62 6f42 6f78  on_type_comboBox
+00020330: 2e63 7572 7265 6e74 5465 7874 2829 203d  .currentText() =
+00020340: 3d20 7365 6c66 2e74 7261 6e73 6c61 7469  = self.translati
+00020350: 6f6e 5f64 6963 745b 2769 6e64 7563 746f  on_dict['inducto
+00020360: 7227 5d20 616e 6420 7374 6174 7573 3a0a  r'] and status:.
+00020370: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00020380: 2e6d 645f 7769 6e64 696e 6732 5f69 6b35  .md_winding2_ik5
+00020390: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+000203a0: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
+000203b0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+000203c0: 7769 6e64 696e 6732 5f70 6b35 5f6c 696e  winding2_pk5_lin
+000203d0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+000203e0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+000203f0: 656c 7365 3a0a 2020 2020 2020 2020 2020  else:.          
+00020400: 2020 7365 6c66 2e6d 645f 7769 6e64 696e    self.md_windin
+00020410: 6732 5f69 6b35 5f6c 696e 6545 6469 742e  g2_ik5_lineEdit.
+00020420: 7365 7445 6e61 626c 6564 2873 7461 7475  setEnabled(statu
+00020430: 7329 0a20 2020 2020 2020 2020 2020 2073  s).            s
+00020440: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+00020450: 706b 355f 6c69 6e65 4564 6974 2e73 6574  pk5_lineEdit.set
+00020460: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
+00020470: 0a20 2020 2064 6566 206d 645f 6636 5f65  .    def md_f6_e
+00020480: 6e61 626c 6528 7365 6c66 2c20 7374 6174  nable(self, stat
+00020490: 7573 3a20 626f 6f6c 2920 2d3e 204e 6f6e  us: bool) -> Non
+000204a0: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
+000204b0: 2020 2020 2020 2045 6e61 626c 6520 2f20         Enable / 
+000204c0: 4469 7361 626c 6520 7468 6520 696e 7075  Disable the inpu
+000204d0: 7420 6669 656c 6473 2066 6f72 2066 7265  t fields for fre
+000204e0: 7175 656e 6379 2f70 6861 7365 204e 6f2e  quency/phase No.
+000204f0: 2036 2e0a 0a20 2020 2020 2020 203a 7061   6...        :pa
+00020500: 7261 6d20 7374 6174 7573 3a20 5472 7565  ram status: True
+00020510: 2066 6f72 2065 6e61 626c 6520 6669 656c   for enable fiel
+00020520: 6473 2c20 4661 6c73 6520 666f 7220 6469  ds, False for di
+00020530: 7361 626c 6520 6669 656c 6473 0a20 2020  sable fields.   
+00020540: 2020 2020 203a 7479 7065 2073 7461 7475       :type statu
+00020550: 733a 2062 6f6f 6c0a 2020 2020 2020 2020  s: bool.        
+00020560: 3a72 6574 7572 6e3a 204e 6f6e 650a 2020  :return: None.  
+00020570: 2020 2020 2020 3a72 7479 7065 3a20 4e6f        :rtype: No
+00020580: 6e65 0a20 2020 2020 2020 2022 2222 0a20  ne.        """. 
+00020590: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+000205a0: 696e 6469 6e67 315f 696b 365f 6c69 6e65  inding1_ik6_line
+000205b0: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+000205c0: 7374 6174 7573 290a 2020 2020 2020 2020  status).        
+000205d0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+000205e0: 5f70 6b36 5f6c 696e 6545 6469 742e 7365  _pk6_lineEdit.se
+000205f0: 7445 6e61 626c 6564 2873 7461 7475 7329  tEnabled(status)
+00020600: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+00020610: 2e6d 645f 7369 6d75 6c61 7469 6f6e 5f74  .md_simulation_t
+00020620: 7970 655f 636f 6d62 6f42 6f78 2e63 7572  ype_comboBox.cur
+00020630: 7265 6e74 5465 7874 2829 203d 3d20 7365  rentText() == se
+00020640: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+00020650: 6963 745b 2769 6e64 7563 746f 7227 5d20  ict['inductor'] 
+00020660: 616e 6420 7374 6174 7573 3a0a 2020 2020  and status:.    
+00020670: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00020680: 7769 6e64 696e 6732 5f69 6b36 5f6c 696e  winding2_ik6_lin
+00020690: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+000206a0: 2846 616c 7365 290a 2020 2020 2020 2020  (False).        
+000206b0: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+000206c0: 696e 6732 5f70 6b36 5f6c 696e 6545 6469  ing2_pk6_lineEdi
+000206d0: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+000206e0: 7365 290a 2020 2020 2020 2020 656c 7365  se).        else
+000206f0: 3a0a 2020 2020 2020 2020 2020 2020 7365  :.            se
+00020700: 6c66 2e6d 645f 7769 6e64 696e 6732 5f69  lf.md_winding2_i
+00020710: 6b36 5f6c 696e 6545 6469 742e 7365 7445  k6_lineEdit.setE
+00020720: 6e61 626c 6564 2873 7461 7475 7329 0a20  nabled(status). 
+00020730: 2020 2020 2020 2020 2020 2073 656c 662e             self.
+00020740: 6d64 5f77 696e 6469 6e67 325f 706b 365f  md_winding2_pk6_
+00020750: 6c69 6e65 4564 6974 2e73 6574 456e 6162  lineEdit.setEnab
+00020760: 6c65 6428 7374 6174 7573 290a 0a20 2020  led(status)..   
+00020770: 2064 6566 206d 645f 6637 5f65 6e61 626c   def md_f7_enabl
+00020780: 6528 7365 6c66 2c20 7374 6174 7573 3a20  e(self, status: 
+00020790: 626f 6f6c 2920 2d3e 204e 6f6e 653a 0a20  bool) -> None:. 
+000207a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000207b0: 2020 2045 6e61 626c 6520 2f20 4469 7361     Enable / Disa
+000207c0: 626c 6520 7468 6520 696e 7075 7420 6669  ble the input fi
+000207d0: 656c 6473 2066 6f72 2066 7265 7175 656e  elds for frequen
+000207e0: 6379 2f70 6861 7365 204e 6f2e 2037 2e0a  cy/phase No. 7..
+000207f0: 0a20 2020 2020 2020 203a 7061 7261 6d20  .        :param 
+00020800: 7374 6174 7573 3a20 5472 7565 2066 6f72  status: True for
+00020810: 2065 6e61 626c 6520 6669 656c 6473 2c20   enable fields, 
+00020820: 4661 6c73 6520 666f 7220 6469 7361 626c  False for disabl
+00020830: 6520 6669 656c 6473 0a20 2020 2020 2020  e fields.       
+00020840: 203a 7479 7065 2073 7461 7475 733a 2062   :type status: b
+00020850: 6f6f 6c0a 2020 2020 2020 2020 3a72 6574  ool.        :ret
+00020860: 7572 6e3a 204e 6f6e 650a 2020 2020 2020  urn: None.      
+00020870: 2020 3a72 7479 7065 3a20 4e6f 6e65 0a20    :rtype: None. 
+00020880: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00020890: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+000208a0: 6e67 315f 696b 375f 6c69 6e65 4564 6974  ng1_ik7_lineEdit
+000208b0: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
+000208c0: 7573 290a 2020 2020 2020 2020 7365 6c66  us).        self
+000208d0: 2e6d 645f 7769 6e64 696e 6731 5f70 6b37  .md_winding1_pk7
+000208e0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+000208f0: 626c 6564 2873 7461 7475 7329 0a20 2020  bled(status).   
+00020900: 2020 2020 2069 6620 7365 6c66 2e6d 645f       if self.md_
+00020910: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
+00020920: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+00020930: 5465 7874 2829 203d 3d20 7365 6c66 2e74  Text() == self.t
+00020940: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+00020950: 2769 6e64 7563 746f 7227 5d20 616e 6420  'inductor'] and 
+00020960: 7374 6174 7573 3a0a 2020 2020 2020 2020  status:.        
+00020970: 2020 2020 7365 6c66 2e6d 645f 7769 6e64      self.md_wind
+00020980: 696e 6732 5f69 6b37 5f6c 696e 6545 6469  ing2_ik7_lineEdi
+00020990: 742e 7365 7445 6e61 626c 6564 2846 616c  t.setEnabled(Fal
+000209a0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+000209b0: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+000209c0: 5f70 6b37 5f6c 696e 6545 6469 742e 7365  _pk7_lineEdit.se
+000209d0: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+000209e0: 2020 2020 2020 2020 656c 7365 3a0a 2020          else:.  
+000209f0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+00020a00: 645f 7769 6e64 696e 6732 5f69 6b37 5f6c  d_winding2_ik7_l
+00020a10: 696e 6545 6469 742e 7365 7445 6e61 626c  ineEdit.setEnabl
+00020a20: 6564 2873 7461 7475 7329 0a20 2020 2020  ed(status).     
+00020a30: 2020 2020 2020 2073 656c 662e 6d64 5f77         self.md_w
+00020a40: 696e 6469 6e67 325f 706b 375f 6c69 6e65  inding2_pk7_line
+00020a50: 4564 6974 2e73 6574 456e 6162 6c65 6428  Edit.setEnabled(
+00020a60: 7374 6174 7573 290a 0a20 2020 2064 6566  status)..    def
+00020a70: 206d 645f 6638 5f65 6e61 626c 6528 7365   md_f8_enable(se
+00020a80: 6c66 2c20 7374 6174 7573 3a20 626f 6f6c  lf, status: bool
+00020a90: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
+00020aa0: 2020 2022 2222 0a20 2020 2020 2020 2045     """.        E
+00020ab0: 6e61 626c 6520 2f20 4469 7361 626c 6520  nable / Disable 
+00020ac0: 7468 6520 696e 7075 7420 6669 656c 6473  the input fields
+00020ad0: 2066 6f72 2066 7265 7175 656e 6379 2f70   for frequency/p
+00020ae0: 6861 7365 204e 6f2e 2038 2e0a 0a20 2020  hase No. 8...   
+00020af0: 2020 2020 203a 7061 7261 6d20 7374 6174       :param stat
+00020b00: 7573 3a20 5472 7565 2066 6f72 2065 6e61  us: True for ena
+00020b10: 626c 6520 6669 656c 6473 2c20 4661 6c73  ble fields, Fals
+00020b20: 6520 666f 7220 6469 7361 626c 6520 6669  e for disable fi
+00020b30: 656c 6473 0a20 2020 2020 2020 203a 7479  elds.        :ty
+00020b40: 7065 2073 7461 7475 733a 2062 6f6f 6c0a  pe status: bool.
+00020b50: 2020 2020 2020 2020 3a72 6574 7572 6e3a          :return:
+00020b60: 204e 6f6e 650a 2020 2020 2020 2020 3a72   None.        :r
+00020b70: 7479 7065 3a20 4e6f 6e65 0a20 2020 2020  type: None.     
+00020b80: 2020 2022 2222 0a20 2020 2020 2020 2073     """.        s
+00020b90: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
+00020ba0: 696b 385f 6c69 6e65 4564 6974 2e73 6574  ik8_lineEdit.set
+00020bb0: 456e 6162 6c65 6428 7374 6174 7573 290a  Enabled(status).
+00020bc0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00020bd0: 7769 6e64 696e 6731 5f70 6b38 5f6c 696e  winding1_pk8_lin
+00020be0: 6545 6469 742e 7365 7445 6e61 626c 6564  eEdit.setEnabled
+00020bf0: 2873 7461 7475 7329 0a20 2020 2020 2020  (status).       
+00020c00: 2069 6620 7365 6c66 2e6d 645f 7369 6d75   if self.md_simu
+00020c10: 6c61 7469 6f6e 5f74 7970 655f 636f 6d62  lation_type_comb
+00020c20: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00020c30: 2829 203d 3d20 7365 6c66 2e74 7261 6e73  () == self.trans
+00020c40: 6c61 7469 6f6e 5f64 6963 745b 2769 6e64  lation_dict['ind
+00020c50: 7563 746f 7227 5d20 616e 6420 7374 6174  uctor'] and stat
+00020c60: 7573 3a0a 2020 2020 2020 2020 2020 2020  us:.            
+00020c70: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
+00020c80: 5f69 6b38 5f6c 696e 6545 6469 742e 7365  _ik8_lineEdit.se
+00020c90: 7445 6e61 626c 6564 2846 616c 7365 290a  tEnabled(False).
+00020ca0: 2020 2020 2020 2020 2020 2020 7365 6c66              self
+00020cb0: 2e6d 645f 7769 6e64 696e 6732 5f70 6b38  .md_winding2_pk8
+00020cc0: 5f6c 696e 6545 6469 742e 7365 7445 6e61  _lineEdit.setEna
+00020cd0: 626c 6564 2846 616c 7365 290a 2020 2020  bled(False).    
+00020ce0: 2020 2020 656c 7365 3a0a 2020 2020 2020      else:.      
+00020cf0: 2020 2020 2020 7365 6c66 2e6d 645f 7769        self.md_wi
+00020d00: 6e64 696e 6732 5f69 6b38 5f6c 696e 6545  nding2_ik8_lineE
+00020d10: 6469 742e 7365 7445 6e61 626c 6564 2873  dit.setEnabled(s
+00020d20: 7461 7475 7329 0a20 2020 2020 2020 2020  tatus).         
+00020d30: 2020 2073 656c 662e 6d64 5f77 696e 6469     self.md_windi
+00020d40: 6e67 325f 706b 385f 6c69 6e65 4564 6974  ng2_pk8_lineEdit
+00020d50: 2e73 6574 456e 6162 6c65 6428 7374 6174  .setEnabled(stat
+00020d60: 7573 290a 0a20 2020 2064 6566 206d 645f  us)..    def md_
+00020d70: 6368 616e 6765 5f66 7265 7175 656e 6369  change_frequenci
+00020d80: 6573 5f64 6328 7365 6c66 2c20 7374 6174  es_dc(self, stat
+00020d90: 7573 3a20 696e 7429 202d 3e20 4e6f 6e65  us: int) -> None
+00020da0: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+00020db0: 2020 2020 2020 4368 616e 6765 2074 6865        Change the
+00020dc0: 2066 7265 7175 656e 6379 2066 6965 6c64   frequency field
+00020dd0: 2069 6e20 6361 7365 206f 6620 6368 6563   in case of chec
+00020de0: 6b69 6e67 2f75 6e63 6865 636b 696e 6720  king/unchecking 
+00020df0: 7468 6520 6672 6571 7565 6e63 792d 6368  the frequency-ch
+00020e00: 6563 6b62 6f78 6573 2e0a 0a20 2020 2020  eckboxes...     
+00020e10: 2020 203a 7061 7261 6d20 7374 6174 7573     :param status
+00020e20: 3a20 3020 666f 7220 6469 7361 626c 696e  : 0 for disablin
+00020e30: 672c 2061 6e79 7468 696e 6720 656c 7365  g, anything else
+00020e40: 2066 6f72 2065 6e61 626c 696e 6720 6672   for enabling fr
+00020e50: 6571 7565 6e63 7920 626f 7865 730a 2020  equency boxes.  
+00020e60: 2020 2020 2020 3a74 7970 6520 7374 6174        :type stat
+00020e70: 7573 3a20 696e 740a 2020 2020 2020 2020  us: int.        
+00020e80: 3a72 6574 7572 6e3a 204e 6f6e 650a 2020  :return: None.  
+00020e90: 2020 2020 2020 3a72 7479 7065 3a20 4e6f        :rtype: No
+00020ea0: 6e65 0a20 2020 2020 2020 2022 2222 0a20  ne.        """. 
+00020eb0: 2020 2020 2020 2073 656c 662e 6d64 5f64         self.md_d
+00020ec0: 635f 656e 6162 6c65 2846 616c 7365 2920  c_enable(False) 
+00020ed0: 6966 2073 7461 7475 7320 3d3d 2030 2065  if status == 0 e
+00020ee0: 6c73 6520 7365 6c66 2e6d 645f 6463 5f65  lse self.md_dc_e
+00020ef0: 6e61 626c 6528 5472 7565 290a 0a20 2020  nable(True)..   
+00020f00: 2064 6566 206d 645f 6368 616e 6765 5f66   def md_change_f
+00020f10: 7265 7175 656e 6369 6573 5f31 2873 656c  requencies_1(sel
+00020f20: 662c 2073 7461 7475 733a 2069 6e74 2920  f, status: int) 
+00020f30: 2d3e 204e 6f6e 653a 0a20 2020 2020 2020  -> None:.       
+00020f40: 2022 2222 0a20 2020 2020 2020 2043 6861   """.        Cha
+00020f50: 6e67 6520 7468 6520 6672 6571 7565 6e63  nge the frequenc
+00020f60: 7920 6669 656c 6420 696e 2063 6173 6520  y field in case 
+00020f70: 6f66 2063 6865 636b 696e 672f 756e 6368  of checking/unch
+00020f80: 6563 6b69 6e67 2074 6865 2066 7265 7175  ecking the frequ
+00020f90: 656e 6379 2d63 6865 636b 626f 7865 732e  ency-checkboxes.
+00020fa0: 0a0a 2020 2020 2020 2020 3a70 6172 616d  ..        :param
+00020fb0: 2073 7461 7475 733a 2030 2066 6f72 2064   status: 0 for d
+00020fc0: 6973 6162 6c69 6e67 2c20 616e 7974 6869  isabling, anythi
+00020fd0: 6e67 2065 6c73 6520 666f 7220 656e 6162  ng else for enab
+00020fe0: 6c69 6e67 2066 7265 7175 656e 6379 2062  ling frequency b
+00020ff0: 6f78 6573 0a20 2020 2020 2020 203a 7479  oxes.        :ty
+00021000: 7065 2073 7461 7475 733a 2069 6e74 0a20  pe status: int. 
+00021010: 2020 2020 2020 203a 7265 7475 726e 3a20         :return: 
+00021020: 4e6f 6e65 0a20 2020 2020 2020 203a 7274  None.        :rt
+00021030: 7970 653a 204e 6f6e 650a 2020 2020 2020  ype: None.      
+00021040: 2020 2222 220a 2020 2020 2020 2020 7365    """.        se
+00021050: 6c66 2e6d 645f 6631 5f65 6e61 626c 6528  lf.md_f1_enable(
+00021060: 4661 6c73 6529 2069 6620 7374 6174 7573  False) if status
+00021070: 203d 3d20 3020 656c 7365 2073 656c 662e   == 0 else self.
+00021080: 6d64 5f66 315f 656e 6162 6c65 2854 7275  md_f1_enable(Tru
+00021090: 6529 0a0a 2020 2020 6465 6620 6d64 5f63  e)..    def md_c
+000210a0: 6861 6e67 655f 6672 6571 7565 6e63 6965  hange_frequencie
+000210b0: 735f 3228 7365 6c66 2c20 7374 6174 7573  s_2(self, status
+000210c0: 2920 2d3e 204e 6f6e 653a 0a20 2020 2020  ) -> None:.     
+000210d0: 2020 2022 2222 0a20 2020 2020 2020 2043     """.        C
+000210e0: 6861 6e67 6520 7468 6520 6672 6571 7565  hange the freque
+000210f0: 6e63 7920 6669 656c 6420 696e 2063 6173  ncy field in cas
+00021100: 6520 6f66 2063 6865 636b 696e 672f 756e  e of checking/un
+00021110: 6368 6563 6b69 6e67 2074 6865 2066 7265  checking the fre
+00021120: 7175 656e 6379 2d63 6865 636b 626f 7865  quency-checkboxe
+00021130: 732e 0a0a 2020 2020 2020 2020 3a70 6172  s...        :par
+00021140: 616d 2073 7461 7475 733a 2030 2066 6f72  am status: 0 for
+00021150: 2064 6973 6162 6c69 6e67 2c20 616e 7974   disabling, anyt
+00021160: 6869 6e67 2065 6c73 6520 666f 7220 656e  hing else for en
+00021170: 6162 6c69 6e67 2066 7265 7175 656e 6379  abling frequency
+00021180: 2062 6f78 6573 0a20 2020 2020 2020 203a   boxes.        :
+00021190: 7479 7065 2073 7461 7475 733a 2069 6e74  type status: int
+000211a0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
+000211b0: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
+000211c0: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
+000211d0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000211e0: 7365 6c66 2e6d 645f 6632 5f65 6e61 626c  self.md_f2_enabl
+000211f0: 6528 4661 6c73 6529 2069 6620 7374 6174  e(False) if stat
+00021200: 7573 203d 3d20 3020 656c 7365 2073 656c  us == 0 else sel
+00021210: 662e 6d64 5f66 325f 656e 6162 6c65 2854  f.md_f2_enable(T
+00021220: 7275 6529 0a0a 2020 2020 6465 6620 6d64  rue)..    def md
+00021230: 5f63 6861 6e67 655f 6672 6571 7565 6e63  _change_frequenc
+00021240: 6965 735f 3328 7365 6c66 2c20 7374 6174  ies_3(self, stat
+00021250: 7573 2920 2d3e 204e 6f6e 653a 0a20 2020  us) -> None:.   
+00021260: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00021270: 2043 6861 6e67 6520 7468 6520 6672 6571   Change the freq
+00021280: 7565 6e63 7920 6669 656c 6420 696e 2063  uency field in c
+00021290: 6173 6520 6f66 2063 6865 636b 696e 672f  ase of checking/
+000212a0: 756e 6368 6563 6b69 6e67 2074 6865 2066  unchecking the f
+000212b0: 7265 7175 656e 6379 2d63 6865 636b 626f  requency-checkbo
+000212c0: 7865 732e 0a0a 2020 2020 2020 2020 3a70  xes...        :p
+000212d0: 6172 616d 2073 7461 7475 733a 2030 2066  aram status: 0 f
+000212e0: 6f72 2064 6973 6162 6c69 6e67 2c20 616e  or disabling, an
+000212f0: 7974 6869 6e67 2065 6c73 6520 666f 7220  ything else for 
+00021300: 656e 6162 6c69 6e67 2066 7265 7175 656e  enabling frequen
+00021310: 6379 2062 6f78 6573 0a20 2020 2020 2020  cy boxes.       
+00021320: 203a 7479 7065 2073 7461 7475 733a 2069   :type status: i
+00021330: 6e74 0a20 2020 2020 2020 203a 7265 7475  nt.        :retu
+00021340: 726e 3a20 4e6f 6e65 0a20 2020 2020 2020  rn: None.       
+00021350: 203a 7274 7970 653a 204e 6f6e 650a 2020   :rtype: None.  
+00021360: 2020 2020 2020 2222 220a 2020 2020 2020        """.      
+00021370: 2020 7365 6c66 2e6d 645f 6633 5f65 6e61    self.md_f3_ena
+00021380: 626c 6528 4661 6c73 6529 2069 6620 7374  ble(False) if st
+00021390: 6174 7573 203d 3d20 3020 656c 7365 2073  atus == 0 else s
+000213a0: 656c 662e 6d64 5f66 335f 656e 6162 6c65  elf.md_f3_enable
+000213b0: 2854 7275 6529 0a0a 2020 2020 6465 6620  (True)..    def 
+000213c0: 6d64 5f63 6861 6e67 655f 6672 6571 7565  md_change_freque
+000213d0: 6e63 6965 735f 3428 7365 6c66 2c20 7374  ncies_4(self, st
+000213e0: 6174 7573 2920 2d3e 204e 6f6e 653a 0a20  atus) -> None:. 
+000213f0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00021400: 2020 2043 6861 6e67 6520 7468 6520 6672     Change the fr
+00021410: 6571 7565 6e63 7920 6669 656c 6420 696e  equency field in
+00021420: 2063 6173 6520 6f66 2063 6865 636b 696e   case of checkin
+00021430: 672f 756e 6368 6563 6b69 6e67 2074 6865  g/unchecking the
+00021440: 2066 7265 7175 656e 6379 2d63 6865 636b   frequency-check
+00021450: 626f 7865 732e 0a0a 2020 2020 2020 2020  boxes...        
+00021460: 3a70 6172 616d 2073 7461 7475 733a 2030  :param status: 0
+00021470: 2066 6f72 2064 6973 6162 6c69 6e67 2c20   for disabling, 
+00021480: 616e 7974 6869 6e67 2065 6c73 6520 666f  anything else fo
+00021490: 7220 656e 6162 6c69 6e67 2066 7265 7175  r enabling frequ
+000214a0: 656e 6379 2062 6f78 6573 0a20 2020 2020  ency boxes.     
+000214b0: 2020 203a 7479 7065 2073 7461 7475 733a     :type status:
+000214c0: 2069 6e74 0a20 2020 2020 2020 203a 7265   int.        :re
+000214d0: 7475 726e 3a20 4e6f 6e65 0a20 2020 2020  turn: None.     
+000214e0: 2020 203a 7274 7970 653a 204e 6f6e 650a     :rtype: None.
+000214f0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00021500: 2020 2020 7365 6c66 2e6d 645f 6634 5f65      self.md_f4_e
+00021510: 6e61 626c 6528 4661 6c73 6529 2069 6620  nable(False) if 
+00021520: 7374 6174 7573 203d 3d20 3020 656c 7365  status == 0 else
+00021530: 2073 656c 662e 6d64 5f66 345f 656e 6162   self.md_f4_enab
+00021540: 6c65 2854 7275 6529 0a0a 2020 2020 6465  le(True)..    de
+00021550: 6620 6d64 5f63 6861 6e67 655f 6672 6571  f md_change_freq
+00021560: 7565 6e63 6965 735f 3528 7365 6c66 2c20  uencies_5(self, 
+00021570: 7374 6174 7573 2920 2d3e 204e 6f6e 653a  status) -> None:
+00021580: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00021590: 2020 2020 2043 6861 6e67 6520 7468 6520       Change the 
+000215a0: 6672 6571 7565 6e63 7920 6669 656c 6420  frequency field 
+000215b0: 696e 2063 6173 6520 6f66 2063 6865 636b  in case of check
+000215c0: 696e 672f 756e 6368 6563 6b69 6e67 2074  ing/unchecking t
+000215d0: 6865 2066 7265 7175 656e 6379 2d63 6865  he frequency-che
+000215e0: 636b 626f 7865 732e 0a0a 2020 2020 2020  ckboxes...      
+000215f0: 2020 3a70 6172 616d 2073 7461 7475 733a    :param status:
+00021600: 2030 2066 6f72 2064 6973 6162 6c69 6e67   0 for disabling
+00021610: 2c20 616e 7974 6869 6e67 2065 6c73 6520  , anything else 
+00021620: 666f 7220 656e 6162 6c69 6e67 2066 7265  for enabling fre
+00021630: 7175 656e 6379 2062 6f78 6573 0a20 2020  quency boxes.   
+00021640: 2020 2020 203a 7479 7065 2073 7461 7475       :type statu
+00021650: 733a 2069 6e74 0a20 2020 2020 2020 203a  s: int.        :
+00021660: 7265 7475 726e 3a20 4e6f 6e65 0a20 2020  return: None.   
+00021670: 2020 2020 203a 7274 7970 653a 204e 6f6e       :rtype: Non
+00021680: 650a 2020 2020 2020 2020 2222 220a 2020  e.        """.  
+00021690: 2020 2020 2020 7365 6c66 2e6d 645f 6635        self.md_f5
+000216a0: 5f65 6e61 626c 6528 4661 6c73 6529 2069  _enable(False) i
+000216b0: 6620 7374 6174 7573 203d 3d20 3020 656c  f status == 0 el
+000216c0: 7365 2073 656c 662e 6d64 5f66 355f 656e  se self.md_f5_en
+000216d0: 6162 6c65 2854 7275 6529 0a0a 2020 2020  able(True)..    
+000216e0: 6465 6620 6d64 5f63 6861 6e67 655f 6672  def md_change_fr
+000216f0: 6571 7565 6e63 6965 735f 3628 7365 6c66  equencies_6(self
+00021700: 2c20 7374 6174 7573 2920 2d3e 204e 6f6e  , status) -> Non
+00021710: 653a 0a20 2020 2020 2020 2022 2222 0a20  e:.        """. 
+00021720: 2020 2020 2020 2043 6861 6e67 6520 7468         Change th
+00021730: 6520 6672 6571 7565 6e63 7920 6669 656c  e frequency fiel
+00021740: 6420 696e 2063 6173 6520 6f66 2063 6865  d in case of che
+00021750: 636b 696e 672f 756e 6368 6563 6b69 6e67  cking/unchecking
+00021760: 2074 6865 2066 7265 7175 656e 6379 2d63   the frequency-c
+00021770: 6865 636b 626f 7865 732e 0a0a 2020 2020  heckboxes...    
+00021780: 2020 2020 3a70 6172 616d 2073 7461 7475      :param statu
+00021790: 733a 2030 2066 6f72 2064 6973 6162 6c69  s: 0 for disabli
+000217a0: 6e67 2c20 616e 7974 6869 6e67 2065 6c73  ng, anything els
+000217b0: 6520 666f 7220 656e 6162 6c69 6e67 2066  e for enabling f
+000217c0: 7265 7175 656e 6379 2062 6f78 6573 0a20  requency boxes. 
+000217d0: 2020 2020 2020 203a 7479 7065 2073 7461         :type sta
+000217e0: 7475 733a 2069 6e74 0a20 2020 2020 2020  tus: int.       
+000217f0: 203a 7265 7475 726e 3a20 4e6f 6e65 0a20   :return: None. 
+00021800: 2020 2020 2020 203a 7274 7970 653a 204e         :rtype: N
+00021810: 6f6e 650a 2020 2020 2020 2020 2222 220a  one.        """.
+00021820: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00021830: 6636 5f65 6e61 626c 6528 4661 6c73 6529  f6_enable(False)
+00021840: 2069 6620 7374 6174 7573 203d 3d20 3020   if status == 0 
+00021850: 656c 7365 2073 656c 662e 6d64 5f66 365f  else self.md_f6_
+00021860: 656e 6162 6c65 2854 7275 6529 0a0a 2020  enable(True)..  
+00021870: 2020 6465 6620 6d64 5f63 6861 6e67 655f    def md_change_
+00021880: 6672 6571 7565 6e63 6965 735f 3728 7365  frequencies_7(se
+00021890: 6c66 2c20 7374 6174 7573 2920 2d3e 204e  lf, status) -> N
+000218a0: 6f6e 653a 0a20 2020 2020 2020 2022 2222  one:.        """
+000218b0: 0a20 2020 2020 2020 2043 6861 6e67 6520  .        Change 
+000218c0: 7468 6520 6672 6571 7565 6e63 7920 6669  the frequency fi
+000218d0: 656c 6420 696e 2063 6173 6520 6f66 2063  eld in case of c
+000218e0: 6865 636b 696e 672f 756e 6368 6563 6b69  hecking/unchecki
+000218f0: 6e67 2074 6865 2066 7265 7175 656e 6379  ng the frequency
+00021900: 2d63 6865 636b 626f 7865 732e 0a0a 2020  -checkboxes...  
+00021910: 2020 2020 2020 3a70 6172 616d 2073 7461        :param sta
+00021920: 7475 733a 2030 2066 6f72 2064 6973 6162  tus: 0 for disab
+00021930: 6c69 6e67 2c20 616e 7974 6869 6e67 2065  ling, anything e
+00021940: 6c73 6520 666f 7220 656e 6162 6c69 6e67  lse for enabling
+00021950: 2066 7265 7175 656e 6379 2062 6f78 6573   frequency boxes
+00021960: 0a20 2020 2020 2020 203a 7479 7065 2073  .        :type s
+00021970: 7461 7475 733a 2069 6e74 0a20 2020 2020  tatus: int.     
+00021980: 2020 203a 7265 7475 726e 3a20 4e6f 6e65     :return: None
+00021990: 0a20 2020 2020 2020 203a 7274 7970 653a  .        :rtype:
+000219a0: 204e 6f6e 650a 2020 2020 2020 2020 2222   None.        ""
+000219b0: 220a 2020 2020 2020 2020 7365 6c66 2e6d  ".        self.m
+000219c0: 645f 6637 5f65 6e61 626c 6528 4661 6c73  d_f7_enable(Fals
+000219d0: 6529 2069 6620 7374 6174 7573 203d 3d20  e) if status == 
+000219e0: 3020 656c 7365 2073 656c 662e 6d64 5f66  0 else self.md_f
+000219f0: 375f 656e 6162 6c65 2854 7275 6529 0a0a  7_enable(True)..
+00021a00: 2020 2020 6465 6620 6d64 5f63 6861 6e67      def md_chang
+00021a10: 655f 6672 6571 7565 6e63 6965 735f 3828  e_frequencies_8(
+00021a20: 7365 6c66 2c20 7374 6174 7573 2920 2d3e  self, status) ->
+00021a30: 204e 6f6e 653a 0a20 2020 2020 2020 2022   None:.        "
+00021a40: 2222 0a20 2020 2020 2020 2043 6861 6e67  "".        Chang
+00021a50: 6520 7468 6520 6672 6571 7565 6e63 7920  e the frequency 
+00021a60: 6669 656c 6420 696e 2063 6173 6520 6f66  field in case of
+00021a70: 2063 6865 636b 696e 672f 756e 6368 6563   checking/unchec
+00021a80: 6b69 6e67 2074 6865 2066 7265 7175 656e  king the frequen
+00021a90: 6379 2d63 6865 636b 626f 7865 732e 0a0a  cy-checkboxes...
+00021aa0: 2020 2020 2020 2020 3a70 6172 616d 2073          :param s
+00021ab0: 7461 7475 733a 2030 2066 6f72 2064 6973  tatus: 0 for dis
+00021ac0: 6162 6c69 6e67 2c20 616e 7974 6869 6e67  abling, anything
+00021ad0: 2065 6c73 6520 666f 7220 656e 6162 6c69   else for enabli
+00021ae0: 6e67 2066 7265 7175 656e 6379 2062 6f78  ng frequency box
+00021af0: 6573 0a20 2020 2020 2020 203a 7479 7065  es.        :type
+00021b00: 2073 7461 7475 733a 2069 6e74 0a20 2020   status: int.   
+00021b10: 2020 2020 203a 7265 7475 726e 3a20 4e6f       :return: No
+00021b20: 6e65 0a20 2020 2020 2020 203a 7274 7970  ne.        :rtyp
+00021b30: 653a 204e 6f6e 650a 2020 2020 2020 2020  e: None.        
+00021b40: 2222 220a 2020 2020 2020 2020 7365 6c66  """.        self
+00021b50: 2e6d 645f 6638 5f65 6e61 626c 6528 4661  .md_f8_enable(Fa
+00021b60: 6c73 6529 2069 6620 7374 6174 7573 203d  lse) if status =
+00021b70: 3d20 3020 656c 7365 2073 656c 662e 6d64  = 0 else self.md
+00021b80: 5f66 385f 656e 6162 6c65 2854 7275 6529  _f8_enable(True)
+00021b90: 0a0a 2020 2020 6465 6620 6d64 5f72 6564  ..    def md_red
+00021ba0: 7261 775f 696e 7075 745f 7369 676e 616c  raw_input_signal
+00021bb0: 7328 7365 6c66 2920 2d3e 204e 6f6e 653a  s(self) -> None:
+00021bc0: 0a20 2020 2020 2020 2022 2222 0a20 2020  .        """.   
+00021bd0: 2020 2020 2047 656e 6572 6174 6520 7669       Generate vi
+00021be0: 7375 616c 2067 7261 7068 6963 7320 666f  sual graphics fo
+00021bf0: 7220 7468 6520 696e 7075 7420 7369 676e  r the input sign
+00021c00: 616c 732e 0a0a 2020 2020 2020 2020 4765  als...        Ge
+00021c10: 6e65 7261 7465 7320 6120 6772 6170 6869  nerates a graphi
+00021c20: 632e 2054 6869 7320 6772 6170 6869 6320  c. This graphic 
+00021c30: 6973 2072 6561 6420 616e 6420 696e 7365  is read and inse
+00021c40: 7274 6564 2074 6f20 7468 6520 6775 692e  rted to the gui.
+00021c50: 0a0a 2020 2020 2020 2020 3a72 6574 7572  ..        :retur
+00021c60: 6e3a 204e 6f6e 650a 2020 2020 2020 2020  n: None.        
+00021c70: 3a72 7479 7065 3a20 4e6f 6e65 0a20 2020  :rtype: None.   
+00021c80: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
+00021c90: 2077 696e 6469 6e67 315f 6672 6571 7565   winding1_freque
+00021ca0: 6e63 795f 6c69 7374 2c20 7769 6e64 696e  ncy_list, windin
+00021cb0: 6731 5f61 6d70 6c69 7475 6465 5f6c 6973  g1_amplitude_lis
+00021cc0: 742c 2077 696e 6469 6e67 315f 7068 695f  t, winding1_phi_
+00021cd0: 7261 645f 6c69 7374 2c20 7769 6e64 696e  rad_list, windin
+00021ce0: 6732 5f66 7265 7175 656e 6379 5f6c 6973  g2_frequency_lis
+00021cf0: 742c 2077 696e 6469 6e67 325f 616d 706c  t, winding2_ampl
+00021d00: 6974 7564 655f 6c69 7374 2c20 5c0a 2020  itude_list, \.  
+00021d10: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+00021d20: 6732 5f70 6869 5f72 6164 5f6c 6973 7420  g2_phi_rad_list 
+00021d30: 3d20 7365 6c66 2e6d 645f 6765 745f 6672  = self.md_get_fr
+00021d40: 6571 7565 6e63 795f 6c69 7374 7328 290a  equency_lists().
+00021d50: 0a20 2020 2020 2020 2066 6d74 2e70 6c6f  .        fmt.plo
+00021d60: 745f 666f 7572 6965 725f 636f 6566 6669  t_fourier_coeffi
+00021d70: 6369 656e 7473 2877 696e 6469 6e67 315f  cients(winding1_
+00021d80: 6672 6571 7565 6e63 795f 6c69 7374 2c20  frequency_list, 
+00021d90: 7769 6e64 696e 6731 5f61 6d70 6c69 7475  winding1_amplitu
+00021da0: 6465 5f6c 6973 742c 2077 696e 6469 6e67  de_list, winding
+00021db0: 315f 7068 695f 7261 645f 6c69 7374 2c0a  1_phi_rad_list,.
+00021dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021dd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021de0: 2020 2020 2020 6669 6775 7265 5f64 6972        figure_dir
+00021df0: 6563 746f 7279 3d22 2e2f 6d64 5f77 696e  ectory="./md_win
+00021e00: 6469 6e67 5f31 2e70 6e67 2229 0a20 2020  ding_1.png").   
+00021e10: 2020 2020 2070 6978 6d61 7020 3d20 5150       pixmap = QP
+00021e20: 6978 6d61 7028 222e 2f6d 645f 7769 6e64  ixmap("./md_wind
+00021e30: 696e 675f 312e 706e 6722 290a 2020 2020  ing_1.png").    
+00021e40: 2020 2020 7365 6c66 2e6d 645f 6772 6170      self.md_grap
+00021e50: 6869 635f 7769 6e64 696e 675f 312e 7365  hic_winding_1.se
+00021e60: 7450 6978 6d61 7028 7069 786d 6170 290a  tPixmap(pixmap).
+00021e70: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00021e80: 6772 6170 6869 635f 7769 6e64 696e 675f  graphic_winding_
+00021e90: 312e 7365 744d 6173 6b28 7069 786d 6170  1.setMask(pixmap
+00021ea0: 2e6d 6173 6b28 2929 0a20 2020 2020 2020  .mask()).       
+00021eb0: 2073 656c 662e 6d64 5f67 7261 7068 6963   self.md_graphic
+00021ec0: 5f77 696e 6469 6e67 5f31 2e73 686f 7728  _winding_1.show(
+00021ed0: 290a 2020 2020 2020 2020 6966 2073 656c  ).        if sel
+00021ee0: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
+00021ef0: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
+00021f00: 7272 656e 7454 6578 7428 2920 213d 2073  rrentText() != s
+00021f10: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
+00021f20: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
+00021f30: 3a0a 2020 2020 2020 2020 2020 2020 666d  :.            fm
+00021f40: 742e 706c 6f74 5f66 6f75 7269 6572 5f63  t.plot_fourier_c
+00021f50: 6f65 6666 6963 6965 6e74 7328 7769 6e64  oefficients(wind
+00021f60: 696e 6732 5f66 7265 7175 656e 6379 5f6c  ing2_frequency_l
+00021f70: 6973 742c 2077 696e 6469 6e67 325f 616d  ist, winding2_am
+00021f80: 706c 6974 7564 655f 6c69 7374 2c20 7769  plitude_list, wi
+00021f90: 6e64 696e 6732 5f70 6869 5f72 6164 5f6c  nding2_phi_rad_l
+00021fa0: 6973 742c 0a20 2020 2020 2020 2020 2020  ist,.           
+00021fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00021fc0: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+00021fd0: 6967 7572 655f 6469 7265 6374 6f72 793d  igure_directory=
+00021fe0: 222e 2f6d 645f 7769 6e64 696e 675f 322e  "./md_winding_2.
+00021ff0: 706e 6722 290a 2020 2020 2020 2020 2020  png").          
+00022000: 2020 7069 786d 6170 203d 2051 5069 786d    pixmap = QPixm
+00022010: 6170 2822 2e2f 6d64 5f77 696e 6469 6e67  ap("./md_winding
+00022020: 5f32 2e70 6e67 2229 0a20 2020 2020 2020  _2.png").       
+00022030: 2020 2020 2073 656c 662e 6d64 5f67 7261       self.md_gra
+00022040: 7068 6963 5f77 696e 6469 6e67 5f32 2e73  phic_winding_2.s
+00022050: 6574 5069 786d 6170 2870 6978 6d61 7029  etPixmap(pixmap)
+00022060: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+00022070: 662e 6d64 5f67 7261 7068 6963 5f77 696e  f.md_graphic_win
+00022080: 6469 6e67 5f32 2e73 6574 4d61 736b 2870  ding_2.setMask(p
+00022090: 6978 6d61 702e 6d61 736b 2829 290a 2020  ixmap.mask()).  
+000220a0: 2020 2020 2020 2020 2020 7365 6c66 2e6d            self.m
+000220b0: 645f 6772 6170 6869 635f 7769 6e64 696e  d_graphic_windin
+000220c0: 675f 322e 7368 6f77 2829 0a0a 2020 2020  g_2.show()..    
+000220d0: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
+000220e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000220f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00022100: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
+00022110: 2023 2053 696d 756c 6174 696f 6e20 7461   # Simulation ta
+00022120: 620a 2020 2020 2320 2d2d 2d2d 2d2d 2d2d  b.    # --------
+00022130: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00022140: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00022150: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00022160: 2d2d 0a0a 2020 2020 6465 6620 6d64 5f67  --..    def md_g
+00022170: 6574 5f66 7265 7175 656e 6379 5f6c 6973  et_frequency_lis
+00022180: 7473 2873 656c 6629 202d 3e20 4c69 7374  ts(self) -> List
+00022190: 3a0a 2020 2020 2020 2020 2222 220a 2020  :.        """.  
+000221a0: 2020 2020 2020 5265 6164 2066 7265 7175        Read frequ
+000221b0: 656e 6379 2c20 616d 706c 6974 7564 6520  ency, amplitude 
+000221c0: 616e 6420 7068 6173 6520 6465 7065 6e64  and phase depend
+000221d0: 696e 6720 6f6e 2074 6865 2063 6865 636b  ing on the check
+000221e0: 6564 2066 7265 7175 656e 6369 6573 2061  ed frequencies a
+000221f0: 6e64 2072 6574 7572 6e20 6974 2061 7320  nd return it as 
+00022200: 6120 6c69 7374 2e0a 0a20 2020 2020 2020  a list...       
+00022210: 203a 7265 7475 726e 3a20 5b77 696e 6469   :return: [windi
+00022220: 6e67 315f 6672 6571 7565 6e63 795f 6c69  ng1_frequency_li
+00022230: 7374 2c20 7769 6e64 696e 6731 5f61 6d70  st, winding1_amp
+00022240: 6c69 7475 6465 5f6c 6973 742c 2077 696e  litude_list, win
+00022250: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
+00022260: 7374 2c20 7769 6e64 696e 6732 5f66 7265  st, winding2_fre
+00022270: 7175 656e 6379 5f6c 6973 742c 0a20 2020  quency_list,.   
+00022280: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+00022290: 6732 5f61 6d70 6c69 7475 6465 5f6c 6973  g2_amplitude_lis
+000222a0: 742c 2077 696e 6469 6e67 325f 7068 695f  t, winding2_phi_
+000222b0: 7261 645f 6c69 7374 5d0a 2020 2020 2020  rad_list].      
+000222c0: 2020 3a72 7479 7065 3a20 4c69 7374 0a20    :rtype: List. 
+000222d0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000222e0: 2020 2077 696e 6469 6e67 315f 6672 6571     winding1_freq
+000222f0: 7565 6e63 795f 6c69 7374 203d 205b 5d0a  uency_list = [].
+00022300: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
+00022310: 5f61 6d70 6c69 7475 6465 5f6c 6973 7420  _amplitude_list 
+00022320: 3d20 5b5d 0a20 2020 2020 2020 2077 696e  = [].        win
+00022330: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
+00022340: 7374 203d 205b 5d0a 0a20 2020 2020 2020  st = []..       
+00022350: 2077 696e 6469 6e67 325f 6672 6571 7565   winding2_freque
+00022360: 6e63 795f 6c69 7374 203d 205b 5d0a 2020  ncy_list = [].  
+00022370: 2020 2020 2020 7769 6e64 696e 6732 5f61        winding2_a
+00022380: 6d70 6c69 7475 6465 5f6c 6973 7420 3d20  mplitude_list = 
+00022390: 5b5d 0a20 2020 2020 2020 2077 696e 6469  [].        windi
+000223a0: 6e67 325f 7068 695f 7261 645f 6c69 7374  ng2_phi_rad_list
+000223b0: 203d 205b 5d0a 0a20 2020 2020 2020 2069   = []..        i
+000223c0: 6620 7365 6c66 2e6d 645f 666b 315f 6368  f self.md_fk1_ch
+000223d0: 6563 6b42 6f78 2e69 7343 6865 636b 6564  eckBox.isChecked
+000223e0: 2829 3a0a 2020 2020 2020 2020 2020 2020  ():.            
+000223f0: 7769 6e64 696e 6731 5f66 7265 7175 656e  winding1_frequen
+00022400: 6379 5f6c 6973 742e 6170 7065 6e64 2831  cy_list.append(1
+00022410: 202a 2063 6f6d 6d61 5f73 7472 5f74 6f5f   * comma_str_to_
+00022420: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00022430: 2e6d 645f 6261 7365 5f66 7265 7175 656e  .md_base_frequen
+00022440: 6379 5f6c 696e 6545 6469 742e 7465 7874  cy_lineEdit.text
+00022450: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+00022460: 2077 696e 6469 6e67 315f 616d 706c 6974   winding1_amplit
+00022470: 7564 655f 6c69 7374 2e61 7070 656e 6428  ude_list.append(
+00022480: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+00022490: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+000224a0: 5f77 696e 6469 6e67 315f 696b 315f 6c69  _winding1_ik1_li
+000224b0: 6e65 4564 6974 2e74 6578 7428 2929 290a  neEdit.text())).
+000224c0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+000224d0: 696e 6731 5f70 6869 5f72 6164 5f6c 6973  ing1_phi_rad_lis
+000224e0: 742e 6170 7065 6e64 2863 6f6d 6d61 5f73  t.append(comma_s
+000224f0: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+00022500: 7428 7365 6c66 2e6d 645f 7769 6e64 696e  t(self.md_windin
+00022510: 6731 5f70 6b31 5f6c 696e 6545 6469 742e  g1_pk1_lineEdit.
+00022520: 7465 7874 2829 2929 0a20 2020 2020 2020  text())).       
+00022530: 2020 2020 2069 6620 7365 6c66 2e6d 645f       if self.md_
+00022540: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
+00022550: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+00022560: 5465 7874 2829 2021 3d20 7365 6c66 2e74  Text() != self.t
+00022570: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+00022580: 2769 6e64 7563 746f 7227 5d3a 0a20 2020  'inductor']:.   
+00022590: 2020 2020 2020 2020 2020 2020 2077 696e               win
+000225a0: 6469 6e67 325f 6672 6571 7565 6e63 795f  ding2_frequency_
+000225b0: 6c69 7374 2e61 7070 656e 6428 3120 2a20  list.append(1 * 
+000225c0: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+000225d0: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+000225e0: 5f62 6173 655f 6672 6571 7565 6e63 795f  _base_frequency_
+000225f0: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
+00022600: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00022610: 2020 7769 6e64 696e 6732 5f61 6d70 6c69    winding2_ampli
+00022620: 7475 6465 5f6c 6973 742e 6170 7065 6e64  tude_list.append
+00022630: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
+00022640: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00022650: 645f 7769 6e64 696e 6732 5f69 6b31 5f6c  d_winding2_ik1_l
+00022660: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
+00022670: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00022680: 2077 696e 6469 6e67 325f 7068 695f 7261   winding2_phi_ra
+00022690: 645f 6c69 7374 2e61 7070 656e 6428 636f  d_list.append(co
+000226a0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+000226b0: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
+000226c0: 696e 6469 6e67 325f 706b 315f 6c69 6e65  inding2_pk1_line
+000226d0: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
+000226e0: 2020 2020 2020 6966 2073 656c 662e 6d64        if self.md
+000226f0: 5f66 6b32 5f63 6865 636b 426f 782e 6973  _fk2_checkBox.is
+00022700: 4368 6563 6b65 6428 293a 0a20 2020 2020  Checked():.     
+00022710: 2020 2020 2020 2077 696e 6469 6e67 315f         winding1_
+00022720: 6672 6571 7565 6e63 795f 6c69 7374 2e61  frequency_list.a
+00022730: 7070 656e 6428 3220 2a20 636f 6d6d 615f  ppend(2 * comma_
+00022740: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+00022750: 6174 2873 656c 662e 6d64 5f62 6173 655f  at(self.md_base_
+00022760: 6672 6571 7565 6e63 795f 6c69 6e65 4564  frequency_lineEd
+00022770: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
+00022780: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
+00022790: 5f61 6d70 6c69 7475 6465 5f6c 6973 742e  _amplitude_list.
+000227a0: 6170 7065 6e64 2863 6f6d 6d61 5f73 7472  append(comma_str
+000227b0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+000227c0: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+000227d0: 5f69 6b32 5f6c 696e 6545 6469 742e 7465  _ik2_lineEdit.te
+000227e0: 7874 2829 2929 0a20 2020 2020 2020 2020  xt())).         
+000227f0: 2020 2077 696e 6469 6e67 315f 7068 695f     winding1_phi_
+00022800: 7261 645f 6c69 7374 2e61 7070 656e 6428  rad_list.append(
+00022810: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+00022820: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+00022830: 5f77 696e 6469 6e67 315f 706b 325f 6c69  _winding1_pk2_li
+00022840: 6e65 4564 6974 2e74 6578 7428 2929 290a  neEdit.text())).
+00022850: 2020 2020 2020 2020 2020 2020 6966 2073              if s
+00022860: 656c 662e 6d64 5f73 696d 756c 6174 696f  elf.md_simulatio
+00022870: 6e5f 7479 7065 5f63 6f6d 626f 426f 782e  n_type_comboBox.
+00022880: 6375 7272 656e 7454 6578 7428 2920 213d  currentText() !=
+00022890: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
+000228a0: 6e5f 6469 6374 5b27 696e 6475 6374 6f72  n_dict['inductor
+000228b0: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
+000228c0: 2020 2020 7769 6e64 696e 6732 5f66 7265      winding2_fre
+000228d0: 7175 656e 6379 5f6c 6973 742e 6170 7065  quency_list.appe
+000228e0: 6e64 2832 202a 2063 6f6d 6d61 5f73 7472  nd(2 * comma_str
+000228f0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+00022900: 7365 6c66 2e6d 645f 6261 7365 5f66 7265  self.md_base_fre
+00022910: 7175 656e 6379 5f6c 696e 6545 6469 742e  quency_lineEdit.
+00022920: 7465 7874 2829 2929 0a20 2020 2020 2020  text())).       
+00022930: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+00022940: 325f 616d 706c 6974 7564 655f 6c69 7374  2_amplitude_list
+00022950: 2e61 7070 656e 6428 636f 6d6d 615f 7374  .append(comma_st
+00022960: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00022970: 2873 656c 662e 6d64 5f77 696e 6469 6e67  (self.md_winding
+00022980: 325f 696b 325f 6c69 6e65 4564 6974 2e74  2_ik2_lineEdit.t
+00022990: 6578 7428 2929 290a 2020 2020 2020 2020  ext())).        
+000229a0: 2020 2020 2020 2020 7769 6e64 696e 6732          winding2
+000229b0: 5f70 6869 5f72 6164 5f6c 6973 742e 6170  _phi_rad_list.ap
+000229c0: 7065 6e64 2863 6f6d 6d61 5f73 7472 5f74  pend(comma_str_t
+000229d0: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+000229e0: 6c66 2e6d 645f 7769 6e64 696e 6732 5f70  lf.md_winding2_p
+000229f0: 6b32 5f6c 696e 6545 6469 742e 7465 7874  k2_lineEdit.text
+00022a00: 2829 2929 0a20 2020 2020 2020 2069 6620  ())).        if 
+00022a10: 7365 6c66 2e6d 645f 666b 335f 6368 6563  self.md_fk3_chec
+00022a20: 6b42 6f78 2e69 7343 6865 636b 6564 2829  kBox.isChecked()
+00022a30: 3a0a 2020 2020 2020 2020 2020 2020 7769  :.            wi
+00022a40: 6e64 696e 6731 5f66 7265 7175 656e 6379  nding1_frequency
+00022a50: 5f6c 6973 742e 6170 7065 6e64 2833 202a  _list.append(3 *
+00022a60: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+00022a70: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00022a80: 645f 6261 7365 5f66 7265 7175 656e 6379  d_base_frequency
+00022a90: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00022aa0: 2929 0a20 2020 2020 2020 2020 2020 2077  )).            w
+00022ab0: 696e 6469 6e67 315f 616d 706c 6974 7564  inding1_amplitud
+00022ac0: 655f 6c69 7374 2e61 7070 656e 6428 636f  e_list.append(co
+00022ad0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+00022ae0: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
+00022af0: 696e 6469 6e67 315f 696b 335f 6c69 6e65  inding1_ik3_line
+00022b00: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
+00022b10: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+00022b20: 6731 5f70 6869 5f72 6164 5f6c 6973 742e  g1_phi_rad_list.
+00022b30: 6170 7065 6e64 2863 6f6d 6d61 5f73 7472  append(comma_str
+00022b40: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+00022b50: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+00022b60: 5f70 6b33 5f6c 696e 6545 6469 742e 7465  _pk3_lineEdit.te
+00022b70: 7874 2829 2929 0a20 2020 2020 2020 2020  xt())).         
+00022b80: 2020 2069 6620 7365 6c66 2e6d 645f 7369     if self.md_si
+00022b90: 6d75 6c61 7469 6f6e 5f74 7970 655f 636f  mulation_type_co
+00022ba0: 6d62 6f42 6f78 2e63 7572 7265 6e74 5465  mboBox.currentTe
+00022bb0: 7874 2829 2021 3d20 7365 6c66 2e74 7261  xt() != self.tra
+00022bc0: 6e73 6c61 7469 6f6e 5f64 6963 745b 2769  nslation_dict['i
+00022bd0: 6e64 7563 746f 7227 5d3a 0a20 2020 2020  nductor']:.     
+00022be0: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+00022bf0: 6e67 325f 6672 6571 7565 6e63 795f 6c69  ng2_frequency_li
+00022c00: 7374 2e61 7070 656e 6428 3320 2a20 636f  st.append(3 * co
+00022c10: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+00022c20: 5f66 6c6f 6174 2873 656c 662e 6d64 5f62  _float(self.md_b
+00022c30: 6173 655f 6672 6571 7565 6e63 795f 6c69  ase_frequency_li
+00022c40: 6e65 4564 6974 2e74 6578 7428 2929 290a  neEdit.text())).
+00022c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00022c60: 7769 6e64 696e 6732 5f61 6d70 6c69 7475  winding2_amplitu
+00022c70: 6465 5f6c 6973 742e 6170 7065 6e64 2863  de_list.append(c
+00022c80: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00022c90: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00022ca0: 7769 6e64 696e 6732 5f69 6b32 5f6c 696e  winding2_ik2_lin
+00022cb0: 6545 6469 742e 7465 7874 2829 2929 0a20  eEdit.text())). 
+00022cc0: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+00022cd0: 696e 6469 6e67 325f 7068 695f 7261 645f  inding2_phi_rad_
+00022ce0: 6c69 7374 2e61 7070 656e 6428 636f 6d6d  list.append(comm
+00022cf0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+00022d00: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
+00022d10: 6469 6e67 325f 706b 325f 6c69 6e65 4564  ding2_pk2_lineEd
+00022d20: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
+00022d30: 2020 2020 6966 2073 656c 662e 6d64 5f66      if self.md_f
+00022d40: 6b34 5f63 6865 636b 426f 782e 6973 4368  k4_checkBox.isCh
+00022d50: 6563 6b65 6428 293a 0a20 2020 2020 2020  ecked():.       
+00022d60: 2020 2020 2077 696e 6469 6e67 315f 6672       winding1_fr
+00022d70: 6571 7565 6e63 795f 6c69 7374 2e61 7070  equency_list.app
+00022d80: 656e 6428 3420 2a20 636f 6d6d 615f 7374  end(4 * comma_st
+00022d90: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00022da0: 2873 656c 662e 6d64 5f62 6173 655f 6672  (self.md_base_fr
+00022db0: 6571 7565 6e63 795f 6c69 6e65 4564 6974  equency_lineEdit
+00022dc0: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
+00022dd0: 2020 2020 2020 7769 6e64 696e 6731 5f61        winding1_a
+00022de0: 6d70 6c69 7475 6465 5f6c 6973 742e 6170  mplitude_list.ap
+00022df0: 7065 6e64 2863 6f6d 6d61 5f73 7472 5f74  pend(comma_str_t
+00022e00: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+00022e10: 6c66 2e6d 645f 7769 6e64 696e 6731 5f69  lf.md_winding1_i
+00022e20: 6b34 5f6c 696e 6545 6469 742e 7465 7874  k4_lineEdit.text
+00022e30: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+00022e40: 2077 696e 6469 6e67 315f 7068 695f 7261   winding1_phi_ra
+00022e50: 645f 6c69 7374 2e61 7070 656e 6428 636f  d_list.append(co
+00022e60: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+00022e70: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
+00022e80: 696e 6469 6e67 315f 706b 345f 6c69 6e65  inding1_pk4_line
+00022e90: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
+00022ea0: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
+00022eb0: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
+00022ec0: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
+00022ed0: 7272 656e 7454 6578 7428 2920 213d 2073  rrentText() != s
+00022ee0: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
+00022ef0: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
+00022f00: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00022f10: 2020 7769 6e64 696e 6732 5f66 7265 7175    winding2_frequ
+00022f20: 656e 6379 5f6c 6973 742e 6170 7065 6e64  ency_list.append
+00022f30: 2834 202a 2063 6f6d 6d61 5f73 7472 5f74  (4 * comma_str_t
+00022f40: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+00022f50: 6c66 2e6d 645f 6261 7365 5f66 7265 7175  lf.md_base_frequ
+00022f60: 656e 6379 5f6c 696e 6545 6469 742e 7465  ency_lineEdit.te
+00022f70: 7874 2829 2929 0a20 2020 2020 2020 2020  xt())).         
+00022f80: 2020 2020 2020 2077 696e 6469 6e67 325f         winding2_
+00022f90: 616d 706c 6974 7564 655f 6c69 7374 2e61  amplitude_list.a
+00022fa0: 7070 656e 6428 636f 6d6d 615f 7374 725f  ppend(comma_str_
+00022fb0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
+00022fc0: 656c 662e 6d64 5f77 696e 6469 6e67 325f  elf.md_winding2_
+00022fd0: 696b 345f 6c69 6e65 4564 6974 2e74 6578  ik4_lineEdit.tex
+00022fe0: 7428 2929 290a 2020 2020 2020 2020 2020  t())).          
+00022ff0: 2020 2020 2020 7769 6e64 696e 6732 5f70        winding2_p
+00023000: 6869 5f72 6164 5f6c 6973 742e 6170 7065  hi_rad_list.appe
+00023010: 6e64 2863 6f6d 6d61 5f73 7472 5f74 6f5f  nd(comma_str_to_
+00023020: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00023030: 2e6d 645f 7769 6e64 696e 6732 5f70 6b34  .md_winding2_pk4
+00023040: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00023050: 2929 0a20 2020 2020 2020 2069 6620 7365  )).        if se
+00023060: 6c66 2e6d 645f 666b 355f 6368 6563 6b42  lf.md_fk5_checkB
+00023070: 6f78 2e69 7343 6865 636b 6564 2829 3a0a  ox.isChecked():.
+00023080: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00023090: 696e 6731 5f66 7265 7175 656e 6379 5f6c  ing1_frequency_l
+000230a0: 6973 742e 6170 7065 6e64 2835 202a 2063  ist.append(5 * c
+000230b0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+000230c0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+000230d0: 6261 7365 5f66 7265 7175 656e 6379 5f6c  base_frequency_l
+000230e0: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
+000230f0: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
+00023100: 6469 6e67 315f 616d 706c 6974 7564 655f  ding1_amplitude_
+00023110: 6c69 7374 2e61 7070 656e 6428 636f 6d6d  list.append(comm
+00023120: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+00023130: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
+00023140: 6469 6e67 315f 696b 355f 6c69 6e65 4564  ding1_ik5_lineEd
+00023150: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
+00023160: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
+00023170: 5f70 6869 5f72 6164 5f6c 6973 742e 6170  _phi_rad_list.ap
+00023180: 7065 6e64 2863 6f6d 6d61 5f73 7472 5f74  pend(comma_str_t
+00023190: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+000231a0: 6c66 2e6d 645f 7769 6e64 696e 6731 5f70  lf.md_winding1_p
+000231b0: 6b35 5f6c 696e 6545 6469 742e 7465 7874  k5_lineEdit.text
+000231c0: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+000231d0: 2069 6620 7365 6c66 2e6d 645f 7369 6d75   if self.md_simu
+000231e0: 6c61 7469 6f6e 5f74 7970 655f 636f 6d62  lation_type_comb
+000231f0: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00023200: 2829 2021 3d20 7365 6c66 2e74 7261 6e73  () != self.trans
+00023210: 6c61 7469 6f6e 5f64 6963 745b 2769 6e64  lation_dict['ind
+00023220: 7563 746f 7227 5d3a 0a20 2020 2020 2020  uctor']:.       
+00023230: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+00023240: 325f 6672 6571 7565 6e63 795f 6c69 7374  2_frequency_list
+00023250: 2e61 7070 656e 6428 3520 2a20 636f 6d6d  .append(5 * comm
+00023260: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+00023270: 6c6f 6174 2873 656c 662e 6d64 5f62 6173  loat(self.md_bas
+00023280: 655f 6672 6571 7565 6e63 795f 6c69 6e65  e_frequency_line
+00023290: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
+000232a0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+000232b0: 6e64 696e 6732 5f61 6d70 6c69 7475 6465  nding2_amplitude
+000232c0: 5f6c 6973 742e 6170 7065 6e64 2863 6f6d  _list.append(com
+000232d0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+000232e0: 666c 6f61 7428 7365 6c66 2e6d 645f 7769  float(self.md_wi
+000232f0: 6e64 696e 6732 5f69 6b35 5f6c 696e 6545  nding2_ik5_lineE
+00023300: 6469 742e 7465 7874 2829 2929 0a20 2020  dit.text())).   
+00023310: 2020 2020 2020 2020 2020 2020 2077 696e               win
+00023320: 6469 6e67 325f 7068 695f 7261 645f 6c69  ding2_phi_rad_li
+00023330: 7374 2e61 7070 656e 6428 636f 6d6d 615f  st.append(comma_
+00023340: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+00023350: 6174 2873 656c 662e 6d64 5f77 696e 6469  at(self.md_windi
+00023360: 6e67 325f 706b 355f 6c69 6e65 4564 6974  ng2_pk5_lineEdit
+00023370: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
+00023380: 2020 6966 2073 656c 662e 6d64 5f66 6b36    if self.md_fk6
+00023390: 5f63 6865 636b 426f 782e 6973 4368 6563  _checkBox.isChec
+000233a0: 6b65 6428 293a 0a20 2020 2020 2020 2020  ked():.         
+000233b0: 2020 2077 696e 6469 6e67 315f 6672 6571     winding1_freq
+000233c0: 7565 6e63 795f 6c69 7374 2e61 7070 656e  uency_list.appen
+000233d0: 6428 3620 2a20 636f 6d6d 615f 7374 725f  d(6 * comma_str_
+000233e0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
+000233f0: 656c 662e 6d64 5f62 6173 655f 6672 6571  elf.md_base_freq
+00023400: 7565 6e63 795f 6c69 6e65 4564 6974 2e74  uency_lineEdit.t
+00023410: 6578 7428 2929 290a 2020 2020 2020 2020  ext())).        
+00023420: 2020 2020 7769 6e64 696e 6731 5f61 6d70      winding1_amp
+00023430: 6c69 7475 6465 5f6c 6973 742e 6170 7065  litude_list.appe
+00023440: 6e64 2863 6f6d 6d61 5f73 7472 5f74 6f5f  nd(comma_str_to_
+00023450: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00023460: 2e6d 645f 7769 6e64 696e 6731 5f69 6b36  .md_winding1_ik6
+00023470: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00023480: 2929 0a20 2020 2020 2020 2020 2020 2077  )).            w
+00023490: 696e 6469 6e67 315f 7068 695f 7261 645f  inding1_phi_rad_
+000234a0: 6c69 7374 2e61 7070 656e 6428 636f 6d6d  list.append(comm
+000234b0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+000234c0: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
+000234d0: 6469 6e67 315f 706b 365f 6c69 6e65 4564  ding1_pk6_lineEd
+000234e0: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
+000234f0: 2020 2020 2020 2020 6966 2073 656c 662e          if self.
+00023500: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
+00023510: 7065 5f63 6f6d 626f 426f 782e 6375 7272  pe_comboBox.curr
+00023520: 656e 7454 6578 7428 2920 213d 2073 656c  entText() != sel
+00023530: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+00023540: 6374 5b27 696e 6475 6374 6f72 275d 3a0a  ct['inductor']:.
 00023550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023560: 2020 7065 726d 6974 7469 7669 7479 5f6d    permittivity_m
-00023570: 6561 7375 7265 6d65 6e74 5f73 6574 7570  easurement_setup
-00023580: 3d6d 6462 2e4d 6561 7375 7265 6d65 6e74  =mdb.Measurement
-00023590: 5365 7475 702e 4c45 415f 4c4b 2c20 6d64  Setup.LEA_LK, md
-000235a0: 625f 7665 7262 6f73 6974 793d 666d 742e  b_verbosity=fmt.
-000235b0: 5665 7262 6f73 6974 792e 5369 6c65 6e74  Verbosity.Silent
-000235c0: 290a 0a20 2020 2020 2020 2020 2020 2067  )..            g
-000235d0: 656f 2e73 6574 5f63 6f72 6528 636f 7265  eo.set_core(core
-000235e0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
-000235f0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
-00023600: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023610: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023620: 0a20 2020 2020 2020 2020 2020 2023 2041  .            # A
-00023630: 6972 2047 6170 730a 2020 2020 2020 2020  ir Gaps.        
-00023640: 2020 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d      # ----------
-00023650: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023660: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023670: 2d2d 2d2d 2d0a 0a20 2020 2020 2020 2020  -----..         
-00023680: 2020 2061 6972 5f67 6170 5f63 6f75 6e74     air_gap_count
-00023690: 203d 2069 6e74 2873 656c 662e 6d64 5f61   = int(self.md_a
-000236a0: 6972 5f67 6170 5f63 6f75 6e74 5f63 6f6d  ir_gap_count_com
-000236b0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-000236c0: 7428 2929 0a20 2020 2020 2020 2020 2020  t()).           
-000236d0: 2061 6972 5f67 6170 5f68 6569 6774 685f   air_gap_heigth_
-000236e0: 6172 7261 7920 3d20 5b5d 0a20 2020 2020  array = [].     
-000236f0: 2020 2020 2020 2061 6972 5f67 6170 5f70         air_gap_p
-00023700: 6f73 6974 696f 6e5f 6172 7261 7920 3d20  osition_array = 
-00023710: 5b5d 0a20 2020 2020 2020 2020 2020 2061  [].            a
-00023720: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
-00023730: 7461 675f 6172 7261 7920 3d20 5b5d 0a0a  tag_array = []..
-00023740: 2020 2020 2020 2020 2020 2020 6966 2061              if a
-00023750: 6972 5f67 6170 5f63 6f75 6e74 203e 3d20  ir_gap_count >= 
-00023760: 313a 0a20 2020 2020 2020 2020 2020 2020  1:.             
-00023770: 2020 206d 645f 6169 725f 6761 705f 315f     md_air_gap_1_
-00023780: 6865 6967 6874 203d 2063 6f6d 6d61 5f73  height = comma_s
-00023790: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-000237a0: 7428 7365 6c66 2e6d 645f 6169 725f 6761  t(self.md_air_ga
-000237b0: 705f 315f 6c65 6e67 7468 5f6c 696e 6545  p_1_length_lineE
-000237c0: 6469 742e 7465 7874 2829 290a 2020 2020  dit.text()).    
-000237d0: 2020 2020 2020 2020 2020 2020 6d64 5f61              md_a
-000237e0: 6972 5f67 6170 5f31 5f70 6f73 6974 696f  ir_gap_1_positio
-000237f0: 6e20 3d20 636f 6d6d 615f 7374 725f 746f  n = comma_str_to
-00023800: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00023810: 662e 6d64 5f61 6972 5f67 6170 5f31 5f70  f.md_air_gap_1_p
-00023820: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
-00023830: 2e74 6578 7428 2929 0a0a 2020 2020 2020  .text())..      
-00023840: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-00023850: 705f 6865 6967 7468 5f61 7272 6179 2e61  p_heigth_array.a
-00023860: 7070 656e 6428 6d64 5f61 6972 5f67 6170  ppend(md_air_gap
-00023870: 5f31 5f68 6569 6768 7429 0a20 2020 2020  _1_height).     
-00023880: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-00023890: 6170 5f70 6f73 6974 696f 6e5f 6172 7261  ap_position_arra
-000238a0: 792e 6170 7065 6e64 286d 645f 6169 725f  y.append(md_air_
-000238b0: 6761 705f 315f 706f 7369 7469 6f6e 290a  gap_1_position).
-000238c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000238d0: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
-000238e0: 5f74 6167 5f61 7272 6179 2e61 7070 656e  _tag_array.appen
-000238f0: 6428 3029 0a0a 2020 2020 2020 2020 2020  d(0)..          
-00023900: 2020 6966 2061 6972 5f67 6170 5f63 6f75    if air_gap_cou
-00023910: 6e74 203e 3d20 323a 0a20 2020 2020 2020  nt >= 2:.       
-00023920: 2020 2020 2020 2020 206d 645f 6169 725f           md_air_
-00023930: 6761 705f 325f 6865 6967 6874 203d 2063  gap_2_height = c
-00023940: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00023950: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00023960: 6169 725f 6761 705f 325f 6c65 6e67 7468  air_gap_2_length
-00023970: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00023980: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00023990: 2020 6d64 5f61 6972 5f67 6170 5f32 5f70    md_air_gap_2_p
-000239a0: 6f73 6974 696f 6e20 3d20 636f 6d6d 615f  osition = comma_
-000239b0: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-000239c0: 6174 2873 656c 662e 6d64 5f61 6972 5f67  at(self.md_air_g
-000239d0: 6170 5f32 5f70 6f73 6974 696f 6e5f 6c69  ap_2_position_li
-000239e0: 6e65 4564 6974 2e74 6578 7428 2929 0a0a  neEdit.text())..
-000239f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00023a00: 6169 725f 6761 705f 6865 6967 7468 5f61  air_gap_heigth_a
-00023a10: 7272 6179 2e61 7070 656e 6428 6d64 5f61  rray.append(md_a
-00023a20: 6972 5f67 6170 5f32 5f68 6569 6768 7429  ir_gap_2_height)
-00023a30: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00023a40: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
-00023a50: 6e5f 6172 7261 792e 6170 7065 6e64 286d  n_array.append(m
-00023a60: 645f 6169 725f 6761 705f 325f 706f 7369  d_air_gap_2_posi
-00023a70: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
-00023a80: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
-00023a90: 7369 7469 6f6e 5f74 6167 5f61 7272 6179  sition_tag_array
-00023aa0: 2e61 7070 656e 6428 3029 0a0a 2020 2020  .append(0)..    
-00023ab0: 2020 2020 2020 2020 6966 2061 6972 5f67          if air_g
-00023ac0: 6170 5f63 6f75 6e74 203e 3d20 333a 0a20  ap_count >= 3:. 
-00023ad0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
-00023ae0: 645f 6169 725f 6761 705f 335f 6865 6967  d_air_gap_3_heig
-00023af0: 6874 203d 2063 6f6d 6d61 5f73 7472 5f74  ht = comma_str_t
-00023b00: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-00023b10: 6c66 2e6d 645f 6169 725f 6761 705f 335f  lf.md_air_gap_3_
-00023b20: 6c65 6e67 7468 5f6c 696e 6545 6469 742e  length_lineEdit.
-00023b30: 7465 7874 2829 290a 2020 2020 2020 2020  text()).        
-00023b40: 2020 2020 2020 2020 6d64 5f61 6972 5f67          md_air_g
-00023b50: 6170 5f33 5f70 6f73 6974 696f 6e20 3d20  ap_3_position = 
-00023b60: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00023b70: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00023b80: 5f61 6972 5f67 6170 5f33 5f70 6f73 6974  _air_gap_3_posit
-00023b90: 696f 6e5f 6c69 6e65 4564 6974 2e74 6578  ion_lineEdit.tex
-00023ba0: 7428 2929 0a0a 2020 2020 2020 2020 2020  t())..          
-00023bb0: 2020 2020 2020 6169 725f 6761 705f 6865        air_gap_he
-00023bc0: 6967 7468 5f61 7272 6179 2e61 7070 656e  igth_array.appen
-00023bd0: 6428 6d64 5f61 6972 5f67 6170 5f33 5f68  d(md_air_gap_3_h
-00023be0: 6569 6768 7429 0a20 2020 2020 2020 2020  eight).         
-00023bf0: 2020 2020 2020 2061 6972 5f67 6170 5f70         air_gap_p
-00023c00: 6f73 6974 696f 6e5f 6172 7261 792e 6170  osition_array.ap
-00023c10: 7065 6e64 286d 645f 6169 725f 6761 705f  pend(md_air_gap_
-00023c20: 335f 706f 7369 7469 6f6e 290a 2020 2020  3_position).    
-00023c30: 2020 2020 2020 2020 2020 2020 6169 725f              air_
-00023c40: 6761 705f 706f 7369 7469 6f6e 5f74 6167  gap_position_tag
-00023c50: 5f61 7272 6179 2e61 7070 656e 6428 3029  _array.append(0)
-00023c60: 0a0a 2020 2020 2020 2020 2020 2020 6966  ..            if
-00023c70: 2061 6972 5f67 6170 5f63 6f75 6e74 203e   air_gap_count >
-00023c80: 3d20 343a 0a20 2020 2020 2020 2020 2020  = 4:.           
-00023c90: 2020 2020 206d 645f 6169 725f 6761 705f       md_air_gap_
-00023ca0: 345f 6865 6967 6874 203d 2063 6f6d 6d61  4_height = comma
-00023cb0: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
-00023cc0: 6f61 7428 7365 6c66 2e6d 645f 6169 725f  oat(self.md_air_
-00023cd0: 6761 705f 345f 6c65 6e67 7468 5f6c 696e  gap_4_length_lin
-00023ce0: 6545 6469 742e 7465 7874 2829 290a 2020  eEdit.text()).  
-00023cf0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-00023d00: 5f61 6972 5f67 6170 5f34 5f70 6f73 6974  _air_gap_4_posit
-00023d10: 696f 6e20 3d20 636f 6d6d 615f 7374 725f  ion = comma_str_
-00023d20: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00023d30: 656c 662e 6d64 5f61 6972 5f67 6170 5f34  elf.md_air_gap_4
-00023d40: 5f70 6f73 6974 696f 6e5f 6c69 6e65 4564  _position_lineEd
-00023d50: 6974 2e74 6578 7428 2929 0a0a 2020 2020  it.text())..    
-00023d60: 2020 2020 2020 2020 2020 2020 6169 725f              air_
-00023d70: 6761 705f 6865 6967 7468 5f61 7272 6179  gap_heigth_array
-00023d80: 2e61 7070 656e 6428 6d64 5f61 6972 5f67  .append(md_air_g
-00023d90: 6170 5f34 5f68 6569 6768 7429 0a20 2020  ap_4_height).   
-00023da0: 2020 2020 2020 2020 2020 2020 2061 6972               air
-00023db0: 5f67 6170 5f70 6f73 6974 696f 6e5f 6172  _gap_position_ar
-00023dc0: 7261 792e 6170 7065 6e64 286d 645f 6169  ray.append(md_ai
-00023dd0: 725f 6761 705f 345f 706f 7369 7469 6f6e  r_gap_4_position
-00023de0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00023df0: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
-00023e00: 6f6e 5f74 6167 5f61 7272 6179 2e61 7070  on_tag_array.app
-00023e10: 656e 6428 3029 0a0a 2020 2020 2020 2020  end(0)..        
-00023e20: 2020 2020 6966 2061 6972 5f67 6170 5f63      if air_gap_c
-00023e30: 6f75 6e74 203e 3d20 353a 0a20 2020 2020  ount >= 5:.     
-00023e40: 2020 2020 2020 2020 2020 206d 645f 6169             md_ai
-00023e50: 725f 6761 705f 355f 6865 6967 6874 203d  r_gap_5_height =
-00023e60: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
-00023e70: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-00023e80: 645f 6169 725f 6761 705f 355f 6c65 6e67  d_air_gap_5_leng
-00023e90: 7468 5f6c 696e 6545 6469 742e 7465 7874  th_lineEdit.text
-00023ea0: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-00023eb0: 2020 2020 6d64 5f61 6972 5f67 6170 5f35      md_air_gap_5
-00023ec0: 5f70 6f73 6974 696f 6e20 3d20 636f 6d6d  _position = comm
-00023ed0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
-00023ee0: 6c6f 6174 2873 656c 662e 6d64 5f61 6972  loat(self.md_air
-00023ef0: 5f67 6170 5f35 5f70 6f73 6974 696f 6e5f  _gap_5_position_
-00023f00: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00023f10: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
-00023f20: 2020 6169 725f 6761 705f 6865 6967 7468    air_gap_heigth
-00023f30: 5f61 7272 6179 2e61 7070 656e 6428 6d64  _array.append(md
-00023f40: 5f61 6972 5f67 6170 5f35 5f68 6569 6768  _air_gap_5_heigh
-00023f50: 7429 0a20 2020 2020 2020 2020 2020 2020  t).             
-00023f60: 2020 2061 6972 5f67 6170 5f70 6f73 6974     air_gap_posit
-00023f70: 696f 6e5f 6172 7261 792e 6170 7065 6e64  ion_array.append
-00023f80: 286d 645f 6169 725f 6761 705f 355f 706f  (md_air_gap_5_po
-00023f90: 7369 7469 6f6e 290a 2020 2020 2020 2020  sition).        
-00023fa0: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
-00023fb0: 706f 7369 7469 6f6e 5f74 6167 5f61 7272  position_tag_arr
-00023fc0: 6179 2e61 7070 656e 6428 3029 0a0a 2020  ay.append(0)..  
-00023fd0: 2020 2020 2020 2020 2020 6966 2061 6972            if air
-00023fe0: 5f67 6170 5f63 6f75 6e74 203d 3d20 303a  _gap_count == 0:
-00023ff0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024000: 2061 6972 5f67 6170 7320 3d20 666d 742e   air_gaps = fmt.
-00024010: 4169 7247 6170 7328 666d 742e 4169 7247  AirGaps(fmt.AirG
-00024020: 6170 4d65 7468 6f64 2e43 656e 7465 722c  apMethod.Center,
-00024030: 2063 6f72 6529 0a20 2020 2020 2020 2020   core).         
-00024040: 2020 2020 2020 2023 2061 6972 5f67 6170         # air_gap
-00024050: 732e 6164 645f 6169 725f 6761 7028 666d  s.add_air_gap(fm
-00024060: 742e 4169 7247 6170 4c65 6750 6f73 6974  t.AirGapLegPosit
-00024070: 696f 6e2e 4365 6e74 6572 4c65 672c 204e  ion.CenterLeg, N
-00024080: 6f6e 652c 2030 2e30 3030 3529 0a20 2020  one, 0.0005).   
-00024090: 2020 2020 2020 2020 2020 2020 2067 656f               geo
-000240a0: 2e73 6574 5f61 6972 5f67 6170 7328 6169  .set_air_gaps(ai
-000240b0: 725f 6761 7073 290a 2020 2020 2020 2020  r_gaps).        
-000240c0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000240d0: 2020 2020 2020 2020 2020 2020 6765 6f2e              geo.
-000240e0: 6169 725f 6761 7073 2e75 7064 6174 6528  air_gaps.update(
-000240f0: 6d65 7468 6f64 3d22 7065 7263 656e 7422  method="percent"
-00024100: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00024110: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024120: 2020 2020 2020 6e5f 6169 725f 6761 7073        n_air_gaps
-00024130: 3d30 2c0a 2020 2020 2020 2020 2020 2020  =0,.            
-00024140: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024150: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
-00024160: 683d 5b5d 2c0a 2020 2020 2020 2020 2020  h=[],.          
-00024170: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024180: 2020 2020 2020 2020 2020 706f 7369 7469            positi
-00024190: 6f6e 5f74 6167 3d5b 5d2c 0a20 2020 2020  on_tag=[],.     
-000241a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000241b0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000241c0: 6972 5f67 6170 5f70 6f73 6974 696f 6e3d  ir_gap_position=
-000241d0: 5b5d 2922 2222 0a0a 2020 2020 2020 2020  [])"""..        
-000241e0: 2020 2020 656c 6966 2073 656c 662e 6d64      elif self.md
-000241f0: 5f61 6972 5f67 6170 5f70 6c61 6365 6d65  _air_gap_placeme
-00024200: 6e74 5f6d 6574 686f 645f 636f 6d62 6f42  nt_method_comboB
-00024210: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
-00024220: 203d 3d20 7365 6c66 2e74 7261 6e73 6c61   == self.transla
-00024230: 7469 6f6e 5f64 6963 745b 2270 6572 6365  tion_dict["perce
-00024240: 6e74 225d 2061 6e64 2061 6972 5f67 6170  nt"] and air_gap
-00024250: 5f63 6f75 6e74 203e 3d20 313a 0a20 2020  _count >= 1:.   
-00024260: 2020 2020 2020 2020 2020 2020 2061 6972               air
-00024270: 5f67 6170 7320 3d20 666d 742e 4169 7247  _gaps = fmt.AirG
-00024280: 6170 7328 666d 742e 4169 7247 6170 4d65  aps(fmt.AirGapMe
-00024290: 7468 6f64 2e50 6572 6365 6e74 2c20 636f  thod.Percent, co
-000242a0: 7265 290a 2020 2020 2020 2020 2020 2020  re).            
-000242b0: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
-000242c0: 6765 2831 2c20 6169 725f 6761 705f 636f  ge(1, air_gap_co
-000242d0: 756e 7420 2b20 3129 3a0a 2020 2020 2020  unt + 1):.      
-000242e0: 2020 2020 2020 2020 2020 2020 2020 2320                # 
-000242f0: 6368 616e 6765 2032 3a20 5468 6520 6865  change 2: The he
-00024300: 6967 6874 2073 686f 756c 6420 6265 2062  ight should be b
-00024310: 6566 6f72 6520 7468 6520 706f 7369 7469  efore the positi
-00024320: 6f6e 2076 616c 7565 0a20 2020 2020 2020  on value.       
-00024330: 2020 2020 2020 2020 2020 2020 2061 6972               air
-00024340: 5f67 6170 732e 6164 645f 6169 725f 6761  _gaps.add_air_ga
-00024350: 7028 666d 742e 4169 7247 6170 4c65 6750  p(fmt.AirGapLegP
-00024360: 6f73 6974 696f 6e2e 4365 6e74 6572 4c65  osition.CenterLe
-00024370: 672c 2061 6972 5f67 6170 5f68 6569 6774  g, air_gap_heigt
-00024380: 685f 6172 7261 795b 6920 2d20 315d 2c0a  h_array[i - 1],.
-00024390: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000243a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000243b0: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
-000243c0: 5f70 6f73 6974 696f 6e5f 6172 7261 795b  _position_array[
-000243d0: 6920 2d20 315d 290a 2020 2020 2020 2020  i - 1]).        
-000243e0: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-000243f0: 2020 2020 2020 2020 2020 2020 6169 725f              air_
-00024400: 6761 7073 203d 2066 6d74 2e41 6972 4761  gaps = fmt.AirGa
-00024410: 7073 2866 6d74 2e41 6972 4761 704d 6574  ps(fmt.AirGapMet
-00024420: 686f 642e 5065 7263 656e 742c 2063 6f72  hod.Percent, cor
-00024430: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
-00024440: 2020 2061 6972 5f67 6170 732e 6164 645f     air_gaps.add_
-00024450: 6169 725f 6761 7028 666d 742e 4169 7247  air_gap(fmt.AirG
-00024460: 6170 4c65 6750 6f73 6974 696f 6e2e 4365  apLegPosition.Ce
-00024470: 6e74 6572 4c65 672c 206d 645f 6169 725f  nterLeg, md_air_
-00024480: 6761 705f 315f 706f 7369 7469 6f6e 2c20  gap_1_position, 
-00024490: 6d64 5f61 6972 5f67 6170 5f31 5f68 6569  md_air_gap_1_hei
-000244a0: 6768 7429 2222 220a 2020 2020 2020 2020  ght)""".        
-000244b0: 2020 2020 2020 2020 6765 6f2e 7365 745f          geo.set_
-000244c0: 6169 725f 6761 7073 2861 6972 5f67 6170  air_gaps(air_gap
-000244d0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
-000244e0: 2020 2022 2222 0a20 2020 2020 2020 2020     """.         
-000244f0: 2020 2020 2020 2067 656f 2e61 6972 5f67         geo.air_g
-00024500: 6170 732e 7570 6461 7465 286d 6574 686f  aps.update(metho
-00024510: 643d 2270 6572 6365 6e74 222c 0a20 2020  d="percent",.   
-00024520: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024530: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024540: 206e 5f61 6972 5f67 6170 733d 6169 725f   n_air_gaps=air_
-00024550: 6761 705f 636f 756e 742c 0a20 2020 2020  gap_count,.     
+00023560: 7769 6e64 696e 6732 5f66 7265 7175 656e  winding2_frequen
+00023570: 6379 5f6c 6973 742e 6170 7065 6e64 2836  cy_list.append(6
+00023580: 202a 2063 6f6d 6d61 5f73 7472 5f74 6f5f   * comma_str_to_
+00023590: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+000235a0: 2e6d 645f 6261 7365 5f66 7265 7175 656e  .md_base_frequen
+000235b0: 6379 5f6c 696e 6545 6469 742e 7465 7874  cy_lineEdit.text
+000235c0: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+000235d0: 2020 2020 2077 696e 6469 6e67 325f 616d       winding2_am
+000235e0: 706c 6974 7564 655f 6c69 7374 2e61 7070  plitude_list.app
+000235f0: 656e 6428 636f 6d6d 615f 7374 725f 746f  end(comma_str_to
+00023600: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+00023610: 662e 6d64 5f77 696e 6469 6e67 325f 696b  f.md_winding2_ik
+00023620: 365f 6c69 6e65 4564 6974 2e74 6578 7428  6_lineEdit.text(
+00023630: 2929 290a 2020 2020 2020 2020 2020 2020  ))).            
+00023640: 2020 2020 7769 6e64 696e 6732 5f70 6869      winding2_phi
+00023650: 5f72 6164 5f6c 6973 742e 6170 7065 6e64  _rad_list.append
+00023660: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
+00023670: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00023680: 645f 7769 6e64 696e 6732 5f70 6b36 5f6c  d_winding2_pk6_l
+00023690: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
+000236a0: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+000236b0: 2e6d 645f 666b 375f 6368 6563 6b42 6f78  .md_fk7_checkBox
+000236c0: 2e69 7343 6865 636b 6564 2829 3a0a 2020  .isChecked():.  
+000236d0: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
+000236e0: 6731 5f66 7265 7175 656e 6379 5f6c 6973  g1_frequency_lis
+000236f0: 742e 6170 7065 6e64 2837 202a 2063 6f6d  t.append(7 * com
+00023700: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+00023710: 666c 6f61 7428 7365 6c66 2e6d 645f 6261  float(self.md_ba
+00023720: 7365 5f66 7265 7175 656e 6379 5f6c 696e  se_frequency_lin
+00023730: 6545 6469 742e 7465 7874 2829 2929 0a20  eEdit.text())). 
+00023740: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+00023750: 6e67 315f 616d 706c 6974 7564 655f 6c69  ng1_amplitude_li
+00023760: 7374 2e61 7070 656e 6428 636f 6d6d 615f  st.append(comma_
+00023770: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+00023780: 6174 2873 656c 662e 6d64 5f77 696e 6469  at(self.md_windi
+00023790: 6e67 315f 696b 375f 6c69 6e65 4564 6974  ng1_ik7_lineEdit
+000237a0: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
+000237b0: 2020 2020 2020 7769 6e64 696e 6731 5f70        winding1_p
+000237c0: 6869 5f72 6164 5f6c 6973 742e 6170 7065  hi_rad_list.appe
+000237d0: 6e64 2863 6f6d 6d61 5f73 7472 5f74 6f5f  nd(comma_str_to_
+000237e0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+000237f0: 2e6d 645f 7769 6e64 696e 6731 5f70 6b37  .md_winding1_pk7
+00023800: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00023810: 2929 0a20 2020 2020 2020 2020 2020 2069  )).            i
+00023820: 6620 7365 6c66 2e6d 645f 7369 6d75 6c61  f self.md_simula
+00023830: 7469 6f6e 5f74 7970 655f 636f 6d62 6f42  tion_type_comboB
+00023840: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
+00023850: 2021 3d20 7365 6c66 2e74 7261 6e73 6c61   != self.transla
+00023860: 7469 6f6e 5f64 6963 745b 2769 6e64 7563  tion_dict['induc
+00023870: 746f 7227 5d3a 0a20 2020 2020 2020 2020  tor']:.         
+00023880: 2020 2020 2020 2077 696e 6469 6e67 325f         winding2_
+00023890: 6672 6571 7565 6e63 795f 6c69 7374 2e61  frequency_list.a
+000238a0: 7070 656e 6428 3720 2a20 636f 6d6d 615f  ppend(7 * comma_
+000238b0: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+000238c0: 6174 2873 656c 662e 6d64 5f62 6173 655f  at(self.md_base_
+000238d0: 6672 6571 7565 6e63 795f 6c69 6e65 4564  frequency_lineEd
+000238e0: 6974 2e74 6578 7428 2929 290a 2020 2020  it.text())).    
+000238f0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00023900: 696e 6732 5f61 6d70 6c69 7475 6465 5f6c  ing2_amplitude_l
+00023910: 6973 742e 6170 7065 6e64 2863 6f6d 6d61  ist.append(comma
+00023920: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
+00023930: 6f61 7428 7365 6c66 2e6d 645f 7769 6e64  oat(self.md_wind
+00023940: 696e 6732 5f69 6b37 5f6c 696e 6545 6469  ing2_ik7_lineEdi
+00023950: 742e 7465 7874 2829 2929 0a20 2020 2020  t.text())).     
+00023960: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+00023970: 6e67 325f 7068 695f 7261 645f 6c69 7374  ng2_phi_rad_list
+00023980: 2e61 7070 656e 6428 636f 6d6d 615f 7374  .append(comma_st
+00023990: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+000239a0: 2873 656c 662e 6d64 5f77 696e 6469 6e67  (self.md_winding
+000239b0: 325f 706b 375f 6c69 6e65 4564 6974 2e74  2_pk7_lineEdit.t
+000239c0: 6578 7428 2929 290a 2020 2020 2020 2020  ext())).        
+000239d0: 6966 2073 656c 662e 6d64 5f66 6b38 5f63  if self.md_fk8_c
+000239e0: 6865 636b 426f 782e 6973 4368 6563 6b65  heckBox.isChecke
+000239f0: 6428 293a 0a20 2020 2020 2020 2020 2020  d():.           
+00023a00: 2077 696e 6469 6e67 315f 6672 6571 7565   winding1_freque
+00023a10: 6e63 795f 6c69 7374 2e61 7070 656e 6428  ncy_list.append(
+00023a20: 3820 2a20 636f 6d6d 615f 7374 725f 746f  8 * comma_str_to
+00023a30: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+00023a40: 662e 6d64 5f62 6173 655f 6672 6571 7565  f.md_base_freque
+00023a50: 6e63 795f 6c69 6e65 4564 6974 2e74 6578  ncy_lineEdit.tex
+00023a60: 7428 2929 290a 2020 2020 2020 2020 2020  t())).          
+00023a70: 2020 7769 6e64 696e 6731 5f61 6d70 6c69    winding1_ampli
+00023a80: 7475 6465 5f6c 6973 742e 6170 7065 6e64  tude_list.append
+00023a90: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
+00023aa0: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00023ab0: 645f 7769 6e64 696e 6731 5f69 6b38 5f6c  d_winding1_ik8_l
+00023ac0: 696e 6545 6469 742e 7465 7874 2829 2929  ineEdit.text()))
+00023ad0: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
+00023ae0: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
+00023af0: 7374 2e61 7070 656e 6428 636f 6d6d 615f  st.append(comma_
+00023b00: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+00023b10: 6174 2873 656c 662e 6d64 5f77 696e 6469  at(self.md_windi
+00023b20: 6e67 315f 706b 385f 6c69 6e65 4564 6974  ng1_pk8_lineEdit
+00023b30: 2e74 6578 7428 2929 290a 2020 2020 2020  .text())).      
+00023b40: 2020 2020 2020 6966 2073 656c 662e 6d64        if self.md
+00023b50: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
+00023b60: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+00023b70: 7454 6578 7428 2920 213d 2073 656c 662e  tText() != self.
+00023b80: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+00023b90: 5b27 696e 6475 6374 6f72 275d 3a0a 2020  ['inductor']:.  
+00023ba0: 2020 2020 2020 2020 2020 2020 2020 7769                wi
+00023bb0: 6e64 696e 6732 5f66 7265 7175 656e 6379  nding2_frequency
+00023bc0: 5f6c 6973 742e 6170 7065 6e64 2838 202a  _list.append(8 *
+00023bd0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+00023be0: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00023bf0: 645f 6261 7365 5f66 7265 7175 656e 6379  d_base_frequency
+00023c00: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00023c10: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00023c20: 2020 2077 696e 6469 6e67 325f 616d 706c     winding2_ampl
+00023c30: 6974 7564 655f 6c69 7374 2e61 7070 656e  itude_list.appen
+00023c40: 6428 636f 6d6d 615f 7374 725f 746f 5f70  d(comma_str_to_p
+00023c50: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+00023c60: 6d64 5f77 696e 6469 6e67 325f 696b 385f  md_winding2_ik8_
+00023c70: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
+00023c80: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00023c90: 2020 7769 6e64 696e 6732 5f70 6869 5f72    winding2_phi_r
+00023ca0: 6164 5f6c 6973 742e 6170 7065 6e64 2863  ad_list.append(c
+00023cb0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00023cc0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00023cd0: 7769 6e64 696e 6732 5f70 6b38 5f6c 696e  winding2_pk8_lin
+00023ce0: 6545 6469 742e 7465 7874 2829 2929 0a0a  eEdit.text()))..
+00023cf0: 2020 2020 2020 2020 7265 7475 726e 2077          return w
+00023d00: 696e 6469 6e67 315f 6672 6571 7565 6e63  inding1_frequenc
+00023d10: 795f 6c69 7374 2c20 7769 6e64 696e 6731  y_list, winding1
+00023d20: 5f61 6d70 6c69 7475 6465 5f6c 6973 742c  _amplitude_list,
+00023d30: 2077 696e 6469 6e67 315f 7068 695f 7261   winding1_phi_ra
+00023d40: 645f 6c69 7374 2c20 7769 6e64 696e 6732  d_list, winding2
+00023d50: 5f66 7265 7175 656e 6379 5f6c 6973 742c  _frequency_list,
+00023d60: 2077 696e 6469 6e67 325f 616d 706c 6974   winding2_amplit
+00023d70: 7564 655f 6c69 7374 2c20 7769 6e64 696e  ude_list, windin
+00023d80: 6732 5f70 6869 5f72 6164 5f6c 6973 740a  g2_phi_rad_list.
+00023d90: 0a20 2020 2064 6566 2077 6467 5f73 6368  .    def wdg_sch
+00023da0: 656d 6528 7365 6c66 293a 0a20 2020 2020  eme(self):.     
+00023db0: 2020 2022 2222 4368 6f6f 7365 2074 6865     """Choose the
+00023dc0: 2077 696e 6469 6e67 2073 6368 656d 652e   winding scheme.
+00023dd0: 2222 220a 2020 2020 2020 2020 6966 2073  """.        if s
+00023de0: 656c 662e 6d64 5f77 696e 6469 6e67 315f  elf.md_winding1_
+00023df0: 7363 6865 6d65 5f63 6f6d 626f 426f 782e  scheme_comboBox.
+00023e00: 6375 7272 656e 7454 6578 7428 2920 3d3d  currentText() ==
+00023e10: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
+00023e20: 6e5f 6469 6374 5b22 7371 7561 7265 225d  n_dict["square"]
+00023e30: 3a0a 2020 2020 2020 2020 2020 2020 7363  :.            sc
+00023e40: 6865 6d65 203d 2027 7371 7561 7265 270a  heme = 'square'.
+00023e50: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
+00023e60: 662e 6d64 5f77 696e 6469 6e67 315f 7363  f.md_winding1_sc
+00023e70: 6865 6d65 5f63 6f6d 626f 426f 782e 6375  heme_comboBox.cu
+00023e80: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
+00023e90: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
+00023ea0: 6469 6374 5b22 6865 7861 225d 3a0a 2020  dict["hexa"]:.  
+00023eb0: 2020 2020 2020 2020 2020 7363 6865 6d65            scheme
+00023ec0: 203d 2027 6865 7861 270a 0a20 2020 2064   = 'hexa'..    d
+00023ed0: 6566 206d 645f 7365 7475 705f 6765 6f6d  ef md_setup_geom
+00023ee0: 6574 7279 2873 656c 6629 3a0a 2020 2020  etry(self):.    
+00023ef0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+00023f00: 5365 7420 7570 2074 6865 2063 6f72 6520  Set up the core 
+00023f10: 616e 6420 636f 6e64 7563 746f 7220 6765  and conductor ge
+00023f20: 6f6d 6574 7279 2064 6570 656e 6469 6e67  ometry depending
+00023f30: 206f 6e20 7468 6520 4755 4920 696e 7075   on the GUI inpu
+00023f40: 7420 7061 7261 6d65 7465 7273 2e0a 0a20  t parameters... 
+00023f50: 2020 2020 2020 2072 6574 7572 6e73 3a20         returns: 
+00023f60: 6665 6d6d 7420 4d61 676e 6574 6963 436f  femmt MagneticCo
+00023f70: 6d70 6f6e 656e 740a 0a20 2020 2020 2020  mponent..       
+00023f80: 2022 2222 0a20 2020 2020 2020 2023 2067   """.        # g
+00023f90: 656f 203d 2066 6d74 2e4d 6167 6e65 7469  eo = fmt.Magneti
+00023fa0: 6343 6f6d 706f 6e65 6e74 2863 6f6d 706f  cComponent(compo
+00023fb0: 6e65 6e74 5f74 7970 653d 666d 742e 436f  nent_type=fmt.Co
+00023fc0: 6d70 6f6e 656e 7454 7970 652e 496e 6475  mponentType.Indu
+00023fd0: 6374 6f72 2c20 6973 5f67 7569 3d54 7275  ctor, is_gui=Tru
+00023fe0: 6529 0a20 2020 2020 2020 2023 2073 656c  e).        # sel
+00023ff0: 662e 6368 6563 6b5f 6f6e 656c 6162 5f63  f.check_onelab_c
+00024000: 6f6e 6669 6728 6765 6f29 0a0a 2020 2020  onfig(geo)..    
+00024010: 2020 2020 6966 2073 656c 662e 6d64 5f73      if self.md_s
+00024020: 696d 756c 6174 696f 6e5f 7479 7065 5f63  imulation_type_c
+00024030: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00024040: 6578 7428 2920 3d3d 2073 656c 662e 7472  ext() == self.tr
+00024050: 616e 736c 6174 696f 6e5f 6469 6374 5b27  anslation_dict['
+00024060: 696e 6475 6374 6f72 275d 3a0a 2020 2020  inductor']:.    
+00024070: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00024080: 7369 6d75 6c61 7469 6f6e 5f51 4c61 6265  simulation_QLabe
+00024090: 6c2e 7365 7454 6578 7428 2773 696d 756c  l.setText('simul
+000240a0: 6174 696f 6e20 7374 6172 7473 2e2e 2e27  ation starts...'
+000240b0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+000240c0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
+000240d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000240e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000240f0: 0a20 2020 2020 2020 2020 2020 2023 2043  .            # C
+00024100: 6f72 650a 2020 2020 2020 2020 2020 2020  ore.            
+00024110: 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  # --------------
+00024120: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00024130: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00024140: 2d0a 2020 2020 2020 2020 2020 2020 2222  -.            ""
+00024150: 220a 2020 2020 2020 2020 2020 2020 6765  ".            ge
+00024160: 6f2e 636f 7265 2e75 7064 6174 6528 7479  o.core.update(ty
+00024170: 7065 3d22 4549 222c 0a20 2020 2020 2020  pe="EI",.       
+00024180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024190: 2020 2020 2063 6f72 655f 773d 636f 6d6d       core_w=comm
+000241a0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+000241b0: 6c6f 6174 2873 656c 662e 6d64 5f63 6f72  loat(self.md_cor
+000241c0: 655f 7769 6474 685f 6c69 6e65 4564 6974  e_width_lineEdit
+000241d0: 2e74 6578 7428 2929 2c0a 2020 2020 2020  .text()),.      
+000241e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000241f0: 2020 2020 2020 7769 6e64 6f77 5f68 3d63        window_h=c
+00024200: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00024210: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00024220: 7769 6e64 6f77 5f68 6569 6768 745f 6c69  window_height_li
+00024230: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
+00024240: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024250: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00024260: 6f77 5f77 3d63 6f6d 6d61 5f73 7472 5f74  ow_w=comma_str_t
+00024270: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+00024280: 6c66 2e6d 645f 7769 6e64 6f77 5f77 6964  lf.md_window_wid
+00024290: 7468 5f6c 696e 6545 6469 742e 7465 7874  th_lineEdit.text
+000242a0: 2829 2929 2222 220a 0a20 2020 2020 2020  ()))"""..       
+000242b0: 2020 2020 2067 656f 203d 2066 6d74 2e4d       geo = fmt.M
+000242c0: 6167 6e65 7469 6343 6f6d 706f 6e65 6e74  agneticComponent
+000242d0: 2863 6f6d 706f 6e65 6e74 5f74 7970 653d  (component_type=
+000242e0: 666d 742e 436f 6d70 6f6e 656e 7454 7970  fmt.ComponentTyp
+000242f0: 652e 496e 6475 6374 6f72 2c0a 2020 2020  e.Inductor,.    
+00024300: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024310: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024320: 2020 2020 776f 726b 696e 675f 6469 7265      working_dire
+00024330: 6374 6f72 793d 7365 6c66 2e6d 645f 776f  ctory=self.md_wo
+00024340: 726b 696e 675f 6469 7265 6374 6f72 795f  rking_directory_
+00024350: 6c69 6e65 4564 6974 2e74 6578 7428 292c  lineEdit.text(),
+00024360: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024370: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024380: 2020 2020 2020 2020 2076 6572 626f 7369           verbosi
+00024390: 7479 3d66 6d74 2e56 6572 626f 7369 7479  ty=fmt.Verbosity
+000243a0: 2e54 6f43 6f6e 736f 6c65 290a 0a20 2020  .ToConsole)..   
+000243b0: 2020 2020 2020 2020 2063 6f72 655f 6469           core_di
+000243c0: 6d65 6e73 696f 6e73 203d 2066 6d74 2e64  mensions = fmt.d
+000243d0: 746f 732e 5369 6e67 6c65 436f 7265 4469  tos.SingleCoreDi
+000243e0: 6d65 6e73 696f 6e73 2863 6f72 655f 696e  mensions(core_in
+000243f0: 6e65 725f 6469 616d 6574 6572 3d63 6f6d  ner_diameter=com
+00024400: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+00024410: 666c 6f61 7428 7365 6c66 2e6d 645f 636f  float(self.md_co
+00024420: 7265 5f77 6964 7468 5f6c 696e 6545 6469  re_width_lineEdi
+00024430: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
+00024440: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024450: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024460: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024470: 2020 2020 2020 2077 696e 646f 775f 773d         window_w=
+00024480: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+00024490: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+000244a0: 5f77 696e 646f 775f 7769 6474 685f 6c69  _window_width_li
+000244b0: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
+000244c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000244d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000244e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000244f0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00024500: 6f77 5f68 3d63 6f6d 6d61 5f73 7472 5f74  ow_h=comma_str_t
+00024510: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+00024520: 6c66 2e6d 645f 7769 6e64 6f77 5f68 6569  lf.md_window_hei
+00024530: 6768 745f 6c69 6e65 4564 6974 2e74 6578  ght_lineEdit.tex
+00024540: 7428 2929 2c0a 2020 2020 2020 2020 2020  t()),.          
+00024550: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00024560: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024570: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00024580: 6972 5f67 6170 5f68 3d61 6972 5f67 6170  ir_gap_h=air_gap
-00024590: 5f68 6569 6774 685f 6172 7261 792c 0a20  _heigth_array,. 
-000245a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000245b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000245c0: 2020 2070 6f73 6974 696f 6e5f 7461 673d     position_tag=
-000245d0: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
-000245e0: 5f74 6167 5f61 7272 6179 2c0a 2020 2020  _tag_array,.    
-000245f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024600: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024610: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
-00024620: 3d61 6972 5f67 6170 5f70 6f73 6974 696f  =air_gap_positio
-00024630: 6e5f 6172 7261 7929 2222 220a 0a20 2020  n_array)"""..   
-00024640: 2020 2020 2020 2020 2065 6c69 6620 7365           elif se
-00024650: 6c66 2e6d 645f 6169 725f 6761 705f 706c  lf.md_air_gap_pl
-00024660: 6163 656d 656e 745f 6d65 7468 6f64 5f63  acement_method_c
-00024670: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00024680: 6578 7428 2920 3d3d 2073 656c 662e 7472  ext() == self.tr
-00024690: 616e 736c 6174 696f 6e5f 6469 6374 5b22  anslation_dict["
-000246a0: 6d61 6e75 616c 6c79 225d 2061 6e64 2061  manually"] and a
-000246b0: 6972 5f67 6170 5f63 6f75 6e74 203e 3d20  ir_gap_count >= 
-000246c0: 313a 0a0a 2020 2020 2020 2020 2020 2020  1:..            
-000246d0: 2020 2020 6169 725f 6761 7073 203d 2066      air_gaps = f
-000246e0: 6d74 2e41 6972 4761 7073 2866 6d74 2e41  mt.AirGaps(fmt.A
-000246f0: 6972 4761 704d 6574 686f 642e 4d61 6e75  irGapMethod.Manu
-00024700: 616c 6c79 2c20 636f 7265 290a 2020 2020  ally, core).    
-00024710: 2020 2020 2020 2020 2020 2020 666f 7220              for 
-00024720: 6920 696e 2072 616e 6765 2831 2c20 6169  i in range(1, ai
-00024730: 725f 6761 705f 636f 756e 7420 2b20 3129  r_gap_count + 1)
-00024740: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00024750: 2020 2020 2020 6169 725f 6761 7073 2e61        air_gaps.a
-00024760: 6464 5f61 6972 5f67 6170 2866 6d74 2e41  dd_air_gap(fmt.A
-00024770: 6972 4761 704c 6567 506f 7369 7469 6f6e  irGapLegPosition
-00024780: 2e43 656e 7465 724c 6567 2c20 6169 725f  .CenterLeg, air_
-00024790: 6761 705f 6865 6967 7468 5f61 7272 6179  gap_heigth_array
-000247a0: 5b69 202d 2031 5d2c 0a20 2020 2020 2020  [i - 1],.       
-000247b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024580: 2020 636f 7265 5f68 3d31 290a 0a20 2020    core_h=1)..   
+00024590: 2020 2020 2020 2020 206d 6174 6572 6961           materia
+000245a0: 6c5f 656e 756d 203d 2066 6d74 2e4d 6174  l_enum = fmt.Mat
+000245b0: 6572 6961 6c28 7365 6c66 2e6d 645f 636f  erial(self.md_co
+000245c0: 7265 5f6d 6174 6572 6961 6c5f 636f 6d62  re_material_comb
+000245d0: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+000245e0: 2829 290a 0a20 2020 2020 2020 2020 2020  ())..           
+000245f0: 2063 6f72 6520 3d20 666d 742e 436f 7265   core = fmt.Core
+00024600: 2863 6f72 655f 7479 7065 3d66 6d74 2e43  (core_type=fmt.C
+00024610: 6f72 6554 7970 652e 5369 6e67 6c65 2c0a  oreType.Single,.
+00024620: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024630: 2020 2020 2020 2020 2020 2020 636f 7265              core
+00024640: 5f64 696d 656e 7369 6f6e 733d 636f 7265  _dimensions=core
+00024650: 5f64 696d 656e 7369 6f6e 732c 0a20 2020  _dimensions,.   
+00024660: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024670: 2020 2020 2020 2020 2064 6574 6169 6c65           detaile
+00024680: 645f 636f 7265 5f6d 6f64 656c 3d46 616c  d_core_model=Fal
+00024690: 7365 2c0a 2020 2020 2020 2020 2020 2020  se,.            
+000246a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000246b0: 6d61 7465 7269 616c 3d6d 6174 6572 6961  material=materia
+000246c0: 6c5f 656e 756d 2c20 7465 6d70 6572 6174  l_enum, temperat
+000246d0: 7572 653d 3435 2c20 6672 6571 7565 6e63  ure=45, frequenc
+000246e0: 793d 696e 7428 7365 6c66 2e6d 645f 6261  y=int(self.md_ba
+000246f0: 7365 5f66 7265 7175 656e 6379 5f6c 696e  se_frequency_lin
+00024700: 6545 6469 742e 7465 7874 2829 292c 0a20  eEdit.text()),. 
+00024710: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024720: 2020 2020 2020 2020 2020 2023 2070 6572             # per
+00024730: 6d65 6162 696c 6974 795f 6461 7461 736f  meability_dataso
+00024740: 7572 6365 3d22 6d61 6e75 6661 6374 7572  urce="manufactur
+00024750: 6572 5f64 6174 6173 6865 6574 222c 0a20  er_datasheet",. 
+00024760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024770: 2020 2020 2020 2020 2020 2070 6572 6d65             perme
+00024780: 6162 696c 6974 795f 6461 7461 736f 7572  ability_datasour
+00024790: 6365 3d66 6d74 2e4d 6174 6572 6961 6c44  ce=fmt.MaterialD
+000247a0: 6174 6153 6f75 7263 652e 4d65 6173 7572  ataSource.Measur
+000247b0: 656d 656e 742c 0a20 2020 2020 2020 2020  ement,.         
 000247c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000247d0: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
-000247e0: 6f6e 5f61 7272 6179 5b69 202d 2031 5d29  on_array[i - 1])
-000247f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024800: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
-00024810: 2020 2020 2061 6972 5f67 6170 7320 3d20       air_gaps = 
-00024820: 666d 742e 4169 7247 6170 7328 666d 742e  fmt.AirGaps(fmt.
-00024830: 4169 7247 6170 4d65 7468 6f64 2e4d 616e  AirGapMethod.Man
-00024840: 7561 6c6c 792c 2063 6f72 6529 0a20 2020  ually, core).   
-00024850: 2020 2020 2020 2020 2020 2020 2061 6972               air
-00024860: 5f67 6170 732e 6164 645f 6169 725f 6761  _gaps.add_air_ga
-00024870: 7028 666d 742e 4169 7247 6170 4c65 6750  p(fmt.AirGapLegP
-00024880: 6f73 6974 696f 6e2e 4365 6e74 6572 4c65  osition.CenterLe
-00024890: 672c 206d 645f 6169 725f 6761 705f 315f  g, md_air_gap_1_
-000248a0: 706f 7369 7469 6f6e 2c20 6d64 5f61 6972  position, md_air
-000248b0: 5f67 6170 5f31 5f68 6569 6768 7429 2222  _gap_1_height)""
-000248c0: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-000248d0: 2020 6765 6f2e 7365 745f 6169 725f 6761    geo.set_air_ga
-000248e0: 7073 2861 6972 5f67 6170 7329 0a20 2020  ps(air_gaps).   
-000248f0: 2020 2020 2020 2020 2020 2020 2022 2222               """
-00024900: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00024910: 2067 656f 2e61 6972 5f67 6170 732e 7570   geo.air_gaps.up
-00024920: 6461 7465 286d 6574 686f 643d 226d 616e  date(method="man
-00024930: 7561 6c6c 7922 2c0a 2020 2020 2020 2020  ually",.        
-00024940: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024950: 2020 2020 2020 2020 2020 2020 6e5f 6169              n_ai
-00024960: 725f 6761 7073 3d61 6972 5f67 6170 5f63  r_gaps=air_gap_c
-00024970: 6f75 6e74 2c0a 2020 2020 2020 2020 2020  ount,.          
-00024980: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024990: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-000249a0: 705f 683d 6169 725f 6761 705f 6865 6967  p_h=air_gap_heig
-000249b0: 7468 5f61 7272 6179 2c0a 2020 2020 2020  th_array,.      
-000249c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000249d0: 2020 2020 2020 2020 2020 2020 2020 706f                po
-000249e0: 7369 7469 6f6e 5f74 6167 3d61 6972 5f67  sition_tag=air_g
-000249f0: 6170 5f70 6f73 6974 696f 6e5f 7461 675f  ap_position_tag_
-00024a00: 6172 7261 792c 0a20 2020 2020 2020 2020  array,.         
-00024a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024a20: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-00024a30: 6170 5f70 6f73 6974 696f 6e3d 6169 725f  ap_position=air_
-00024a40: 6761 705f 706f 7369 7469 6f6e 5f61 7272  gap_position_arr
-00024a50: 6179 2922 2222 0a0a 2020 2020 2020 2020  ay)"""..        
-00024a60: 2020 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d      # ----------
-00024a70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024a80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024a90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
-00024aa0: 2020 2020 2020 2020 2023 2053 6574 2069           # Set i
-00024ab0: 6e73 756c 6174 696f 6e73 0a20 2020 2020  nsulations.     
-00024ac0: 2020 2020 2020 2023 202d 2d2d 2d2d 2d2d         # -------
-00024ad0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024ae0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024af0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-00024b00: 2020 2020 2020 2020 2020 2020 696e 7375              insu
-00024b10: 6c61 7469 6f6e 203d 2066 6d74 2e49 6e73  lation = fmt.Ins
-00024b20: 756c 6174 696f 6e28 666c 6167 5f69 6e73  ulation(flag_ins
-00024b30: 756c 6174 696f 6e3d 7365 6c66 2e66 6c61  ulation=self.fla
-00024b40: 675f 696e 7375 6c61 7469 6f6e 290a 2020  g_insulation).  
-00024b50: 2020 2020 2020 2020 2020 696e 7375 6c61            insula
-00024b60: 7469 6f6e 2e61 6464 5f63 6f72 655f 696e  tion.add_core_in
-00024b70: 7375 6c61 7469 6f6e 7328 636f 6d6d 615f  sulations(comma_
-00024b80: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-00024b90: 6174 2873 656c 662e 6d64 5f69 736f 6c61  at(self.md_isola
-00024ba0: 7469 6f6e 5f63 6f72 6532 636f 6e64 5f74  tion_core2cond_t
-00024bb0: 6f70 5f6c 696e 6545 6469 742e 7465 7874  op_lineEdit.text
-00024bc0: 2829 292c 0a20 2020 2020 2020 2020 2020  ()),.           
-00024bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024bf0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
-00024c00: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-00024c10: 645f 6973 6f6c 6174 696f 6e5f 636f 7265  d_isolation_core
-00024c20: 3263 6f6e 645f 626f 745f 6c69 6e65 4564  2cond_bot_lineEd
-00024c30: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
-00024c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024c60: 2020 2020 2020 2020 636f 6d6d 615f 7374          comma_st
-00024c70: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00024c80: 2873 656c 662e 6d64 5f69 736f 6c61 7469  (self.md_isolati
-00024c90: 6f6e 5f63 6f72 6532 636f 6e64 5f69 6e6e  on_core2cond_inn
-00024ca0: 6572 5f6c 696e 6545 6469 742e 7465 7874  er_lineEdit.text
-00024cb0: 2829 292c 0a20 2020 2020 2020 2020 2020  ()),.           
-00024cc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00024ce0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
-00024cf0: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-00024d00: 645f 6973 6f6c 6174 696f 6e5f 636f 7265  d_isolation_core
-00024d10: 3263 6f6e 645f 6f75 7465 725f 6c69 6e65  2cond_outer_line
-00024d20: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
-00024d30: 2020 2020 2020 2020 2020 696e 7375 6c61            insula
-00024d40: 7469 6f6e 2e61 6464 5f77 696e 6469 6e67  tion.add_winding
-00024d50: 5f69 6e73 756c 6174 696f 6e73 285b 5b63  _insulations([[c
-00024d60: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00024d70: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00024d80: 6973 6f6c 6174 696f 6e5f 7032 705f 6c69  isolation_p2p_li
-00024d90: 6e65 4564 6974 2e74 6578 7428 2929 5d5d  neEdit.text())]]
-00024da0: 290a 2020 2020 2020 2020 2020 2020 6765  ).            ge
-00024db0: 6f2e 7365 745f 696e 7375 6c61 7469 6f6e  o.set_insulation
-00024dc0: 2869 6e73 756c 6174 696f 6e29 0a0a 2020  (insulation)..  
-00024dd0: 2020 2020 2020 2020 2020 2320 2d2d 2d2d            # ----
-00024de0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024df0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024e00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024e10: 2d2d 2d2d 2d0a 2020 2020 2020 2020 2020  -----.          
-00024e20: 2020 2320 4372 6561 7465 2077 696e 6469    # Create windi
-00024e30: 6e67 2077 696e 646f 7720 616e 6420 7669  ng window and vi
-00024e40: 7274 7561 6c20 7769 6e64 696e 6720 7769  rtual winding wi
-00024e50: 6e64 6f77 7320 2876 7777 290a 2020 2020  ndows (vww).    
-00024e60: 2020 2020 2020 2020 2320 2d2d 2d2d 2d2d          # ------
-00024e70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024e80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024e90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024ea0: 2d2d 2d2d 0a0a 2020 2020 2020 2020 2020  ----..          
-00024eb0: 2020 7769 6e64 696e 675f 7769 6e64 6f77    winding_window
-00024ec0: 203d 2066 6d74 2e57 696e 6469 6e67 5769   = fmt.WindingWi
-00024ed0: 6e64 6f77 2863 6f72 652c 2069 6e73 756c  ndow(core, insul
-00024ee0: 6174 696f 6e29 0a20 2020 2020 2020 2020  ation).         
-00024ef0: 2020 2076 7777 203d 2077 696e 6469 6e67     vww = winding
-00024f00: 5f77 696e 646f 772e 7370 6c69 745f 7769  _window.split_wi
-00024f10: 6e64 6f77 2866 6d74 2e57 696e 6469 6e67  ndow(fmt.Winding
-00024f20: 5769 6e64 6f77 5370 6c69 742e 4e6f 5370  WindowSplit.NoSp
-00024f30: 6c69 7429 0a0a 2020 2020 2020 2020 2020  lit)..          
-00024f40: 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    # ------------
-00024f50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024f60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024f70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20  --------------. 
-00024f80: 2020 2020 2020 2020 2020 2023 2043 7265             # Cre
-00024f90: 6174 6520 636f 6e64 7563 746f 7220 616e  ate conductor an
-00024fa0: 6420 7365 7420 7061 7261 6d65 7465 7273  d set parameters
-00024fb0: 3a20 7573 6520 736f 6c69 6420 7769 7265  : use solid wire
-00024fc0: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
-00024fd0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024fe0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00024ff0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025000: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a20 2020  -----------..   
-00025010: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
-00025020: 5f6d 6174 6572 6961 6c5f 6e61 6d65 203d  _material_name =
-00025030: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
-00025040: 315f 6d61 7465 7269 616c 5f63 6f6d 626f  1_material_combo
-00025050: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
-00025060: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
-00025070: 2077 696e 6469 6e67 5f6d 6174 6572 6961   winding_materia
-00025080: 6c5f 6e61 6d65 203d 3d20 2743 6f70 7065  l_name == 'Coppe
-00025090: 7227 3a0a 2020 2020 2020 2020 2020 2020  r':.            
-000250a0: 2020 2020 7769 6e64 696e 675f 6d61 7465      winding_mate
-000250b0: 7269 616c 5f65 6e75 6d20 3d20 666d 742e  rial_enum = fmt.
-000250c0: 436f 6e64 7563 7469 7669 7479 2e43 6f70  Conductivity.Cop
-000250d0: 7065 720a 2020 2020 2020 2020 2020 2020  per.            
-000250e0: 656c 6966 2077 696e 6469 6e67 5f6d 6174  elif winding_mat
-000250f0: 6572 6961 6c5f 6e61 6d65 203d 3d20 2741  erial_name == 'A
-00025100: 6c75 6d69 6e69 756d 273a 0a20 2020 2020  luminium':.     
-00025110: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-00025120: 6e67 5f6d 6174 6572 6961 6c5f 656e 756d  ng_material_enum
-00025130: 203d 2066 6d74 2e43 6f6e 6475 6374 6976   = fmt.Conductiv
-00025140: 6974 792e 416c 756d 696e 6975 6d0a 0a20  ity.Aluminium.. 
-00025150: 2020 2020 2020 2020 2020 2077 696e 6469             windi
-00025160: 6e67 203d 2066 6d74 2e43 6f6e 6475 6374  ng = fmt.Conduct
-00025170: 6f72 2830 2c20 7769 6e64 696e 675f 6d61  or(0, winding_ma
-00025180: 7465 7269 616c 5f65 6e75 6d29 0a20 2020  terial_enum).   
-00025190: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
-000251a0: 2e6d 645f 7769 6e64 696e 6731 5f74 7970  .md_winding1_typ
-000251b0: 655f 636f 6d62 6f42 6f78 2e63 7572 7265  e_comboBox.curre
-000251c0: 6e74 5465 7874 2829 203d 3d20 7365 6c66  ntText() == self
-000251d0: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
-000251e0: 745b 2773 6f6c 6964 275d 3a0a 2020 2020  t['solid']:.    
-000251f0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-00025200: 696e 672e 7365 745f 736f 6c69 645f 726f  ing.set_solid_ro
-00025210: 756e 645f 636f 6e64 7563 746f 7228 0a20  und_conductor(. 
-00025220: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025230: 2020 2063 6f6e 6475 6374 6f72 5f72 6164     conductor_rad
-00025240: 6975 733d 636f 6d6d 615f 7374 725f 746f  ius=comma_str_to
-00025250: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00025260: 662e 6d64 5f77 696e 6469 6e67 315f 7261  f.md_winding1_ra
-00025270: 6469 7573 5f6c 696e 6545 6469 742e 7465  dius_lineEdit.te
-00025280: 7874 2829 292c 0a20 2020 2020 2020 2020  xt()),.         
-00025290: 2020 2020 2020 2020 2020 2063 6f6e 6475             condu
-000252a0: 6374 6f72 5f61 7272 616e 6765 6d65 6e74  ctor_arrangement
-000252b0: 3d66 6d74 2e43 6f6e 6475 6374 6f72 4172  =fmt.ConductorAr
-000252c0: 7261 6e67 656d 656e 742e 5371 7561 7265  rangement.Square
-000252d0: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
-000252e0: 6966 2073 656c 662e 6d64 5f77 696e 6469  if self.md_windi
-000252f0: 6e67 315f 7479 7065 5f63 6f6d 626f 426f  ng1_type_comboBo
-00025300: 782e 6375 7272 656e 7454 6578 7428 2920  x.currentText() 
-00025310: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
-00025320: 696f 6e5f 6469 6374 5b27 6c69 747a 275d  ion_dict['litz']
-00025330: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00025340: 2020 7769 6e64 696e 672e 7365 745f 6c69    winding.set_li
-00025350: 747a 5f72 6f75 6e64 5f63 6f6e 6475 6374  tz_round_conduct
-00025360: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
-00025370: 2020 2020 2020 2020 636f 6e64 7563 746f          conducto
-00025380: 725f 7261 6469 7573 3d63 6f6d 6d61 5f73  r_radius=comma_s
-00025390: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-000253a0: 7428 7365 6c66 2e6d 645f 7769 6e64 696e  t(self.md_windin
-000253b0: 6731 5f72 6164 6975 735f 6c69 6e65 4564  g1_radius_lineEd
-000253c0: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+000247d0: 2020 2070 6572 6d65 6162 696c 6974 795f     permeability_
+000247e0: 6461 7461 7479 7065 3d66 6d74 2e4d 6561  datatype=fmt.Mea
+000247f0: 7375 7265 6d65 6e74 4461 7461 5479 7065  surementDataType
+00024800: 2e43 6f6d 706c 6578 5065 726d 6561 6269  .ComplexPermeabi
+00024810: 6c69 7479 2c0a 2020 2020 2020 2020 2020  lity,.          
+00024820: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024830: 2020 7065 726d 6561 6269 6c69 7479 5f6d    permeability_m
+00024840: 6561 7375 7265 6d65 6e74 5f73 6574 7570  easurement_setup
+00024850: 3d6d 6462 2e4d 6561 7375 7265 6d65 6e74  =mdb.Measurement
+00024860: 5365 7475 702e 4c45 415f 4c4b 2c0a 2020  Setup.LEA_LK,.  
+00024870: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024880: 2020 2020 2020 2020 2020 7065 726d 6974            permit
+00024890: 7469 7669 7479 5f64 6174 6173 6f75 7263  tivity_datasourc
+000248a0: 653d 666d 742e 4d61 7465 7269 616c 4461  e=fmt.MaterialDa
+000248b0: 7461 536f 7572 6365 2e4d 6561 7375 7265  taSource.Measure
+000248c0: 6d65 6e74 2c0a 2020 2020 2020 2020 2020  ment,.          
+000248d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000248e0: 2020 7065 726d 6974 7469 7669 7479 5f64    permittivity_d
+000248f0: 6174 6174 7970 653d 666d 742e 4d65 6173  atatype=fmt.Meas
+00024900: 7572 656d 656e 7444 6174 6154 7970 652e  urementDataType.
+00024910: 436f 6d70 6c65 7850 6572 6d69 7474 6976  ComplexPermittiv
+00024920: 6974 792c 0a20 2020 2020 2020 2020 2020  ity,.           
+00024930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024940: 2070 6572 6d69 7474 6976 6974 795f 6d65   permittivity_me
+00024950: 6173 7572 656d 656e 745f 7365 7475 703d  asurement_setup=
+00024960: 6d64 622e 4d65 6173 7572 656d 656e 7453  mdb.MeasurementS
+00024970: 6574 7570 2e4c 4541 5f4c 4b2c 206d 6462  etup.LEA_LK, mdb
+00024980: 5f76 6572 626f 7369 7479 3d66 6d74 2e56  _verbosity=fmt.V
+00024990: 6572 626f 7369 7479 2e53 696c 656e 7429  erbosity.Silent)
+000249a0: 0a0a 2020 2020 2020 2020 2020 2020 6765  ..            ge
+000249b0: 6f2e 7365 745f 636f 7265 2863 6f72 6529  o.set_core(core)
+000249c0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
+000249d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000249e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000249f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
+00024a00: 2020 2020 2020 2020 2020 2020 2320 4169              # Ai
+00024a10: 7220 4761 7073 0a20 2020 2020 2020 2020  r Gaps.         
+00024a20: 2020 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d     # -----------
+00024a30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00024a40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00024a50: 2d2d 2d2d 0a0a 2020 2020 2020 2020 2020  ----..          
+00024a60: 2020 6169 725f 6761 705f 636f 756e 7420    air_gap_count 
+00024a70: 3d20 696e 7428 7365 6c66 2e6d 645f 6169  = int(self.md_ai
+00024a80: 725f 6761 705f 636f 756e 745f 636f 6d62  r_gap_count_comb
+00024a90: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
+00024aa0: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+00024ab0: 6169 725f 6761 705f 6865 6967 6874 5f61  air_gap_height_a
+00024ac0: 7272 6179 203d 205b 5d0a 2020 2020 2020  rray = [].      
+00024ad0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
+00024ae0: 7369 7469 6f6e 5f61 7272 6179 203d 205b  sition_array = [
+00024af0: 5d0a 2020 2020 2020 2020 2020 2020 6169  ].            ai
+00024b00: 725f 6761 705f 706f 7369 7469 6f6e 5f74  r_gap_position_t
+00024b10: 6167 5f61 7272 6179 203d 205b 5d0a 0a20  ag_array = [].. 
+00024b20: 2020 2020 2020 2020 2020 2069 6620 6169             if ai
+00024b30: 725f 6761 705f 636f 756e 7420 3e3d 2031  r_gap_count >= 1
+00024b40: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00024b50: 2020 6d64 5f61 6972 5f67 6170 5f31 5f68    md_air_gap_1_h
+00024b60: 6569 6768 7420 3d20 636f 6d6d 615f 7374  eight = comma_st
+00024b70: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00024b80: 2873 656c 662e 6d64 5f61 6972 5f67 6170  (self.md_air_gap
+00024b90: 5f31 5f6c 656e 6774 685f 6c69 6e65 4564  _1_length_lineEd
+00024ba0: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
+00024bb0: 2020 2020 2020 2020 2020 206d 645f 6169             md_ai
+00024bc0: 725f 6761 705f 315f 706f 7369 7469 6f6e  r_gap_1_position
+00024bd0: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+00024be0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00024bf0: 2e6d 645f 6169 725f 6761 705f 315f 706f  .md_air_gap_1_po
+00024c00: 7369 7469 6f6e 5f6c 696e 6545 6469 742e  sition_lineEdit.
+00024c10: 7465 7874 2829 290a 0a20 2020 2020 2020  text())..       
+00024c20: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
+00024c30: 5f68 6569 6768 745f 6172 7261 792e 6170  _height_array.ap
+00024c40: 7065 6e64 286d 645f 6169 725f 6761 705f  pend(md_air_gap_
+00024c50: 315f 6865 6967 6874 290a 2020 2020 2020  1_height).      
+00024c60: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+00024c70: 705f 706f 7369 7469 6f6e 5f61 7272 6179  p_position_array
+00024c80: 2e61 7070 656e 6428 6d64 5f61 6972 5f67  .append(md_air_g
+00024c90: 6170 5f31 5f70 6f73 6974 696f 6e29 0a20  ap_1_position). 
+00024ca0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00024cb0: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
+00024cc0: 7461 675f 6172 7261 792e 6170 7065 6e64  tag_array.append
+00024cd0: 2830 290a 0a20 2020 2020 2020 2020 2020  (0)..           
+00024ce0: 2069 6620 6169 725f 6761 705f 636f 756e   if air_gap_coun
+00024cf0: 7420 3e3d 2032 3a0a 2020 2020 2020 2020  t >= 2:.        
+00024d00: 2020 2020 2020 2020 6d64 5f61 6972 5f67          md_air_g
+00024d10: 6170 5f32 5f68 6569 6768 7420 3d20 636f  ap_2_height = co
+00024d20: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+00024d30: 5f66 6c6f 6174 2873 656c 662e 6d64 5f61  _float(self.md_a
+00024d40: 6972 5f67 6170 5f32 5f6c 656e 6774 685f  ir_gap_2_length_
+00024d50: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
+00024d60: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00024d70: 206d 645f 6169 725f 6761 705f 325f 706f   md_air_gap_2_po
+00024d80: 7369 7469 6f6e 203d 2063 6f6d 6d61 5f73  sition = comma_s
+00024d90: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+00024da0: 7428 7365 6c66 2e6d 645f 6169 725f 6761  t(self.md_air_ga
+00024db0: 705f 325f 706f 7369 7469 6f6e 5f6c 696e  p_2_position_lin
+00024dc0: 6545 6469 742e 7465 7874 2829 290a 0a20  eEdit.text()).. 
+00024dd0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00024de0: 6972 5f67 6170 5f68 6569 6768 745f 6172  ir_gap_height_ar
+00024df0: 7261 792e 6170 7065 6e64 286d 645f 6169  ray.append(md_ai
+00024e00: 725f 6761 705f 325f 6865 6967 6874 290a  r_gap_2_height).
+00024e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00024e20: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+00024e30: 5f61 7272 6179 2e61 7070 656e 6428 6d64  _array.append(md
+00024e40: 5f61 6972 5f67 6170 5f32 5f70 6f73 6974  _air_gap_2_posit
+00024e50: 696f 6e29 0a20 2020 2020 2020 2020 2020  ion).           
+00024e60: 2020 2020 2061 6972 5f67 6170 5f70 6f73       air_gap_pos
+00024e70: 6974 696f 6e5f 7461 675f 6172 7261 792e  ition_tag_array.
+00024e80: 6170 7065 6e64 2830 290a 0a20 2020 2020  append(0)..     
+00024e90: 2020 2020 2020 2069 6620 6169 725f 6761         if air_ga
+00024ea0: 705f 636f 756e 7420 3e3d 2033 3a0a 2020  p_count >= 3:.  
+00024eb0: 2020 2020 2020 2020 2020 2020 2020 6d64                md
+00024ec0: 5f61 6972 5f67 6170 5f33 5f68 6569 6768  _air_gap_3_heigh
+00024ed0: 7420 3d20 636f 6d6d 615f 7374 725f 746f  t = comma_str_to
+00024ee0: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+00024ef0: 662e 6d64 5f61 6972 5f67 6170 5f33 5f6c  f.md_air_gap_3_l
+00024f00: 656e 6774 685f 6c69 6e65 4564 6974 2e74  ength_lineEdit.t
+00024f10: 6578 7428 2929 0a20 2020 2020 2020 2020  ext()).         
+00024f20: 2020 2020 2020 206d 645f 6169 725f 6761         md_air_ga
+00024f30: 705f 335f 706f 7369 7469 6f6e 203d 2063  p_3_position = c
+00024f40: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00024f50: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00024f60: 6169 725f 6761 705f 335f 706f 7369 7469  air_gap_3_positi
+00024f70: 6f6e 5f6c 696e 6545 6469 742e 7465 7874  on_lineEdit.text
+00024f80: 2829 290a 0a20 2020 2020 2020 2020 2020  ())..           
+00024f90: 2020 2020 2061 6972 5f67 6170 5f68 6569       air_gap_hei
+00024fa0: 6768 745f 6172 7261 792e 6170 7065 6e64  ght_array.append
+00024fb0: 286d 645f 6169 725f 6761 705f 335f 6865  (md_air_gap_3_he
+00024fc0: 6967 6874 290a 2020 2020 2020 2020 2020  ight).          
+00024fd0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
+00024fe0: 7369 7469 6f6e 5f61 7272 6179 2e61 7070  sition_array.app
+00024ff0: 656e 6428 6d64 5f61 6972 5f67 6170 5f33  end(md_air_gap_3
+00025000: 5f70 6f73 6974 696f 6e29 0a20 2020 2020  _position).     
+00025010: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
+00025020: 6170 5f70 6f73 6974 696f 6e5f 7461 675f  ap_position_tag_
+00025030: 6172 7261 792e 6170 7065 6e64 2830 290a  array.append(0).
+00025040: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
+00025050: 6169 725f 6761 705f 636f 756e 7420 3e3d  air_gap_count >=
+00025060: 2034 3a0a 2020 2020 2020 2020 2020 2020   4:.            
+00025070: 2020 2020 6d64 5f61 6972 5f67 6170 5f34      md_air_gap_4
+00025080: 5f68 6569 6768 7420 3d20 636f 6d6d 615f  _height = comma_
+00025090: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+000250a0: 6174 2873 656c 662e 6d64 5f61 6972 5f67  at(self.md_air_g
+000250b0: 6170 5f34 5f6c 656e 6774 685f 6c69 6e65  ap_4_length_line
+000250c0: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
+000250d0: 2020 2020 2020 2020 2020 2020 206d 645f               md_
+000250e0: 6169 725f 6761 705f 345f 706f 7369 7469  air_gap_4_positi
+000250f0: 6f6e 203d 2063 6f6d 6d61 5f73 7472 5f74  on = comma_str_t
+00025100: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+00025110: 6c66 2e6d 645f 6169 725f 6761 705f 345f  lf.md_air_gap_4_
+00025120: 706f 7369 7469 6f6e 5f6c 696e 6545 6469  position_lineEdi
+00025130: 742e 7465 7874 2829 290a 0a20 2020 2020  t.text())..     
+00025140: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
+00025150: 6170 5f68 6569 6768 745f 6172 7261 792e  ap_height_array.
+00025160: 6170 7065 6e64 286d 645f 6169 725f 6761  append(md_air_ga
+00025170: 705f 345f 6865 6967 6874 290a 2020 2020  p_4_height).    
+00025180: 2020 2020 2020 2020 2020 2020 6169 725f              air_
+00025190: 6761 705f 706f 7369 7469 6f6e 5f61 7272  gap_position_arr
+000251a0: 6179 2e61 7070 656e 6428 6d64 5f61 6972  ay.append(md_air
+000251b0: 5f67 6170 5f34 5f70 6f73 6974 696f 6e29  _gap_4_position)
+000251c0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000251d0: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
+000251e0: 6e5f 7461 675f 6172 7261 792e 6170 7065  n_tag_array.appe
+000251f0: 6e64 2830 290a 0a20 2020 2020 2020 2020  nd(0)..         
+00025200: 2020 2069 6620 6169 725f 6761 705f 636f     if air_gap_co
+00025210: 756e 7420 3e3d 2035 3a0a 2020 2020 2020  unt >= 5:.      
+00025220: 2020 2020 2020 2020 2020 6d64 5f61 6972            md_air
+00025230: 5f67 6170 5f35 5f68 6569 6768 7420 3d20  _gap_5_height = 
+00025240: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+00025250: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+00025260: 5f61 6972 5f67 6170 5f35 5f6c 656e 6774  _air_gap_5_lengt
+00025270: 685f 6c69 6e65 4564 6974 2e74 6578 7428  h_lineEdit.text(
+00025280: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
+00025290: 2020 206d 645f 6169 725f 6761 705f 355f     md_air_gap_5_
+000252a0: 706f 7369 7469 6f6e 203d 2063 6f6d 6d61  position = comma
+000252b0: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
+000252c0: 6f61 7428 7365 6c66 2e6d 645f 6169 725f  oat(self.md_air_
+000252d0: 6761 705f 355f 706f 7369 7469 6f6e 5f6c  gap_5_position_l
+000252e0: 696e 6545 6469 742e 7465 7874 2829 290a  ineEdit.text()).
+000252f0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025300: 2061 6972 5f67 6170 5f68 6569 6768 745f   air_gap_height_
+00025310: 6172 7261 792e 6170 7065 6e64 286d 645f  array.append(md_
+00025320: 6169 725f 6761 705f 355f 6865 6967 6874  air_gap_5_height
+00025330: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00025340: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
+00025350: 6f6e 5f61 7272 6179 2e61 7070 656e 6428  on_array.append(
+00025360: 6d64 5f61 6972 5f67 6170 5f35 5f70 6f73  md_air_gap_5_pos
+00025370: 6974 696f 6e29 0a20 2020 2020 2020 2020  ition).         
+00025380: 2020 2020 2020 2061 6972 5f67 6170 5f70         air_gap_p
+00025390: 6f73 6974 696f 6e5f 7461 675f 6172 7261  osition_tag_arra
+000253a0: 792e 6170 7065 6e64 2830 290a 0a20 2020  y.append(0)..   
+000253b0: 2020 2020 2020 2020 2069 6620 6169 725f           if air_
+000253c0: 6761 705f 636f 756e 7420 3d3d 2030 3a0a  gap_count == 0:.
 000253d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000253e0: 6e75 6d62 6572 5f73 7472 616e 6473 3d69  number_strands=i
-000253f0: 6e74 2873 656c 662e 6d64 5f77 696e 6469  nt(self.md_windi
-00025400: 6e67 315f 7374 7261 6e64 735f 6c69 6e65  ng1_strands_line
-00025410: 4564 6974 2e74 6578 7428 2929 2c0a 2020  Edit.text()),.  
-00025420: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025430: 2020 7374 7261 6e64 5f72 6164 6975 733d    strand_radius=
-00025440: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00025450: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00025460: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
-00025470: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
-00025480: 2e74 6578 7428 2929 2c0a 2020 2020 2020  .text()),.      
-00025490: 2020 2020 2020 2020 2020 2020 2020 6669                fi
-000254a0: 6c6c 5f66 6163 746f 723d 4e6f 6e65 2c0a  ll_factor=None,.
-000254b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000254c0: 2020 2020 636f 6e64 7563 746f 725f 6172      conductor_ar
-000254d0: 7261 6e67 656d 656e 743d 666d 742e 436f  rangement=fmt.Co
-000254e0: 6e64 7563 746f 7241 7272 616e 6765 6d65  nductorArrangeme
-000254f0: 6e74 2e53 7175 6172 6529 0a0a 2020 2020  nt.Square)..    
-00025500: 2020 2020 2020 2020 2320 2d2d 2d2d 2d2d          # ------
-00025510: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025520: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025530: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025540: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025550: 0a20 2020 2020 2020 2020 2020 2023 2037  .            # 7
-00025560: 2e20 6164 6420 636f 6e64 7563 746f 7220  . add conductor 
-00025570: 746f 2076 7777 2061 6e64 2061 6464 2077  to vww and add w
-00025580: 696e 6469 6e67 2077 696e 646f 7720 746f  inding window to
-00025590: 204d 6167 6e65 7469 6343 6f6d 706f 6e65   MagneticCompone
-000255a0: 6e74 0a20 2020 2020 2020 2020 2020 2023  nt.            #
-000255b0: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
-000255c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000255d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000255e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000255f0: 2d2d 2d2d 2d2d 2d0a 2020 2020 2020 2020  -------.        
-00025600: 2020 2020 2320 7677 772e 7365 745f 7769      # vww.set_wi
-00025610: 6e64 696e 6728 7769 6e64 696e 672c 2063  nding(winding, c
-00025620: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00025630: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00025640: 7769 6e64 696e 6731 5f74 7572 6e73 5f6c  winding1_turns_l
-00025650: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
-00025660: 204e 6f6e 6529 0a20 2020 2020 2020 2020   None).         
-00025670: 2020 2023 2063 6861 6e67 6520 313a 204e     # change 1: N
-00025680: 756d 6265 7220 6f66 2074 7572 6e73 2073  umber of turns s
-00025690: 686f 756c 6420 6265 2061 6e20 696e 7465  hould be an inte
-000256a0: 6765 722c 206e 6f74 2061 7320 6120 666c  ger, not as a fl
-000256b0: 6f61 740a 2020 2020 2020 2020 2020 2020  oat.            
-000256c0: 7677 772e 7365 745f 7769 6e64 696e 6728  vww.set_winding(
-000256d0: 7769 6e64 696e 672c 2069 6e74 2873 656c  winding, int(sel
-000256e0: 662e 6d64 5f77 696e 6469 6e67 315f 7475  f.md_winding1_tu
-000256f0: 726e 735f 6c69 6e65 4564 6974 2e74 6578  rns_lineEdit.tex
-00025700: 7428 2929 2c20 4e6f 6e65 2c0a 2020 2020  t()), None,.    
-00025710: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025720: 2020 2020 2020 2020 666d 742e 416c 6967          fmt.Alig
-00025730: 6e2e 546f 4564 6765 732c 2070 6c61 6369  n.ToEdges, placi
-00025740: 6e67 5f73 7472 6174 6567 793d 666d 742e  ng_strategy=fmt.
-00025750: 436f 6e64 7563 746f 7244 6973 7472 6962  ConductorDistrib
-00025760: 7574 696f 6e2e 486f 7269 7a6f 6e74 616c  ution.Horizontal
-00025770: 5269 6768 7477 6172 645f 5665 7274 6963  Rightward_Vertic
-00025780: 616c 5570 7761 7264 2c20 7a69 677a 6167  alUpward, zigzag
-00025790: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
-000257a0: 2020 2067 656f 2e73 6574 5f77 696e 6469     geo.set_windi
-000257b0: 6e67 5f77 696e 646f 7773 285b 7769 6e64  ng_windows([wind
-000257c0: 696e 675f 7769 6e64 6f77 5d29 0a0a 2020  ing_window])..  
-000257d0: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
-000257e0: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
-000257f0: 7065 5f63 6f6d 626f 426f 782e 6375 7272  pe_comboBox.curr
-00025800: 656e 7454 6578 7428 2920 3d3d 2027 7472  entText() == 'tr
-00025810: 616e 7366 6f72 6d65 7227 3a0a 2020 2020  ansformer':.    
-00025820: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00025830: 7369 6d75 6c61 7469 6f6e 5f51 4c61 6265  simulation_QLabe
-00025840: 6c2e 7365 7454 6578 7428 2773 696d 756c  l.setText('simul
-00025850: 6174 696f 6e20 7374 6172 7465 742e 2e2e  ation startet...
-00025860: 2729 0a0a 2020 2020 2020 2020 2020 2020  ')..            
-00025870: 2320 312e 2063 686f 7365 2073 696d 756c  # 1. chose simul
-00025880: 6174 696f 6e20 7479 7065 0a20 2020 2020  ation type.     
-00025890: 2020 2020 2020 2067 656f 203d 2066 6d74         geo = fmt
-000258a0: 2e4d 6167 6e65 7469 6343 6f6d 706f 6e65  .MagneticCompone
-000258b0: 6e74 2863 6f6d 706f 6e65 6e74 5f74 7970  nt(component_typ
-000258c0: 653d 666d 742e 436f 6d70 6f6e 656e 7454  e=fmt.ComponentT
-000258d0: 7970 652e 5472 616e 7366 6f72 6d65 722c  ype.Transformer,
-000258e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000253e0: 6169 725f 6761 7073 203d 2066 6d74 2e41  air_gaps = fmt.A
+000253f0: 6972 4761 7073 2866 6d74 2e41 6972 4761  irGaps(fmt.AirGa
+00025400: 704d 6574 686f 642e 4365 6e74 6572 2c20  pMethod.Center, 
+00025410: 636f 7265 290a 2020 2020 2020 2020 2020  core).          
+00025420: 2020 2020 2020 2320 6169 725f 6761 7073        # air_gaps
+00025430: 2e61 6464 5f61 6972 5f67 6170 2866 6d74  .add_air_gap(fmt
+00025440: 2e41 6972 4761 704c 6567 506f 7369 7469  .AirGapLegPositi
+00025450: 6f6e 2e43 656e 7465 724c 6567 2c20 4e6f  on.CenterLeg, No
+00025460: 6e65 2c20 302e 3030 3035 290a 2020 2020  ne, 0.0005).    
+00025470: 2020 2020 2020 2020 2020 2020 6765 6f2e              geo.
+00025480: 7365 745f 6169 725f 6761 7073 2861 6972  set_air_gaps(air
+00025490: 5f67 6170 7329 0a20 2020 2020 2020 2020  _gaps).         
+000254a0: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+000254b0: 2020 2020 2020 2020 2020 2067 656f 2e61             geo.a
+000254c0: 6972 5f67 6170 732e 7570 6461 7465 286d  ir_gaps.update(m
+000254d0: 6574 686f 643d 2270 6572 6365 6e74 222c  ethod="percent",
+000254e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000254f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025500: 2020 2020 206e 5f61 6972 5f67 6170 733d       n_air_gaps=
+00025510: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00025520: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025530: 2020 2020 2020 2061 6972 5f67 6170 5f68         air_gap_h
+00025540: 3d5b 5d2c 0a20 2020 2020 2020 2020 2020  =[],.           
+00025550: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025560: 2020 2020 2020 2020 2070 6f73 6974 696f           positio
+00025570: 6e5f 7461 673d 5b5d 2c0a 2020 2020 2020  n_tag=[],.      
+00025580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025590: 2020 2020 2020 2020 2020 2020 2020 6169                ai
+000255a0: 725f 6761 705f 706f 7369 7469 6f6e 3d5b  r_gap_position=[
+000255b0: 5d29 2222 220a 0a20 2020 2020 2020 2020  ])"""..         
+000255c0: 2020 2065 6c69 6620 7365 6c66 2e6d 645f     elif self.md_
+000255d0: 6169 725f 6761 705f 706c 6163 656d 656e  air_gap_placemen
+000255e0: 745f 6d65 7468 6f64 5f63 6f6d 626f 426f  t_method_comboBo
+000255f0: 782e 6375 7272 656e 7454 6578 7428 2920  x.currentText() 
+00025600: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
+00025610: 696f 6e5f 6469 6374 5b22 7065 7263 656e  ion_dict["percen
+00025620: 7422 5d20 616e 6420 6169 725f 6761 705f  t"] and air_gap_
+00025630: 636f 756e 7420 3e3d 2031 3a0a 2020 2020  count >= 1:.    
+00025640: 2020 2020 2020 2020 2020 2020 6169 725f              air_
+00025650: 6761 7073 203d 2066 6d74 2e41 6972 4761  gaps = fmt.AirGa
+00025660: 7073 2866 6d74 2e41 6972 4761 704d 6574  ps(fmt.AirGapMet
+00025670: 686f 642e 5065 7263 656e 742c 2063 6f72  hod.Percent, cor
+00025680: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00025690: 2020 2066 6f72 2069 2069 6e20 7261 6e67     for i in rang
+000256a0: 6528 312c 2061 6972 5f67 6170 5f63 6f75  e(1, air_gap_cou
+000256b0: 6e74 202b 2031 293a 0a20 2020 2020 2020  nt + 1):.       
+000256c0: 2020 2020 2020 2020 2020 2020 2061 6972               air
+000256d0: 5f67 6170 732e 6164 645f 6169 725f 6761  _gaps.add_air_ga
+000256e0: 7028 666d 742e 4169 7247 6170 4c65 6750  p(fmt.AirGapLegP
+000256f0: 6f73 6974 696f 6e2e 4365 6e74 6572 4c65  osition.CenterLe
+00025700: 672c 2061 6972 5f67 6170 5f68 6569 6768  g, air_gap_heigh
+00025710: 745f 6172 7261 795b 6920 2d20 315d 2c0a  t_array[i - 1],.
+00025720: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025730: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025740: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
+00025750: 5f70 6f73 6974 696f 6e5f 6172 7261 795b  _position_array[
+00025760: 6920 2d20 315d 290a 2020 2020 2020 2020  i - 1]).        
+00025770: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00025780: 2020 2020 2020 2020 2020 2020 6169 725f              air_
+00025790: 6761 7073 203d 2066 6d74 2e41 6972 4761  gaps = fmt.AirGa
+000257a0: 7073 2866 6d74 2e41 6972 4761 704d 6574  ps(fmt.AirGapMet
+000257b0: 686f 642e 5065 7263 656e 742c 2063 6f72  hod.Percent, cor
+000257c0: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+000257d0: 2020 2061 6972 5f67 6170 732e 6164 645f     air_gaps.add_
+000257e0: 6169 725f 6761 7028 666d 742e 4169 7247  air_gap(fmt.AirG
+000257f0: 6170 4c65 6750 6f73 6974 696f 6e2e 4365  apLegPosition.Ce
+00025800: 6e74 6572 4c65 672c 206d 645f 6169 725f  nterLeg, md_air_
+00025810: 6761 705f 315f 706f 7369 7469 6f6e 2c20  gap_1_position, 
+00025820: 6d64 5f61 6972 5f67 6170 5f31 5f68 6569  md_air_gap_1_hei
+00025830: 6768 7429 2222 220a 2020 2020 2020 2020  ght)""".        
+00025840: 2020 2020 2020 2020 6765 6f2e 7365 745f          geo.set_
+00025850: 6169 725f 6761 7073 2861 6972 5f67 6170  air_gaps(air_gap
+00025860: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00025870: 2020 2022 2222 0a20 2020 2020 2020 2020     """.         
+00025880: 2020 2020 2020 2067 656f 2e61 6972 5f67         geo.air_g
+00025890: 6170 732e 7570 6461 7465 286d 6574 686f  aps.update(metho
+000258a0: 643d 2270 6572 6365 6e74 222c 0a20 2020  d="percent",.   
+000258b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000258c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000258d0: 206e 5f61 6972 5f67 6170 733d 6169 725f   n_air_gaps=air_
+000258e0: 6761 705f 636f 756e 742c 0a20 2020 2020  gap_count,.     
 000258f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025900: 2020 2020 2020 2020 2077 6f72 6b69 6e67           working
-00025910: 5f64 6972 6563 746f 7279 3d73 656c 662e  _directory=self.
-00025920: 6d64 5f77 6f72 6b69 6e67 5f64 6972 6563  md_working_direc
-00025930: 746f 7279 5f6c 696e 6545 6469 742e 7465  tory_lineEdit.te
-00025940: 7874 2829 290a 0a20 2020 2020 2020 2020  xt())..         
-00025950: 2020 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d     # -----------
-00025960: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025970: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025980: 2d2d 2d2d 0a20 2020 2020 2020 2020 2020  ----.           
-00025990: 2023 2043 6f72 650a 2020 2020 2020 2020   # Core.        
-000259a0: 2020 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d      # ----------
-000259b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000259c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000259d0: 2d2d 2d2d 2d0a 2020 2020 2020 2020 2020  -----.          
-000259e0: 2020 636f 7265 5f64 696d 656e 7369 6f6e    core_dimension
-000259f0: 7320 3d20 666d 742e 6474 6f73 2e53 696e  s = fmt.dtos.Sin
-00025a00: 676c 6543 6f72 6544 696d 656e 7369 6f6e  gleCoreDimension
-00025a10: 7328 636f 7265 5f69 6e6e 6572 5f64 6961  s(core_inner_dia
-00025a20: 6d65 7465 723d 636f 6d6d 615f 7374 725f  meter=comma_str_
-00025a30: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00025a40: 656c 662e 6d64 5f63 6f72 655f 7769 6474  elf.md_core_widt
-00025a50: 685f 6c69 6e65 4564 6974 2e74 6578 7428  h_lineEdit.text(
-00025a60: 2929 2c0a 2020 2020 2020 2020 2020 2020  )),.            
-00025a70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025a80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025a90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025aa0: 7769 6e64 6f77 5f77 3d63 6f6d 6d61 5f73  window_w=comma_s
-00025ab0: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00025ac0: 7428 7365 6c66 2e6d 645f 7769 6e64 6f77  t(self.md_window
-00025ad0: 5f77 6964 7468 5f6c 696e 6545 6469 742e  _width_lineEdit.
-00025ae0: 7465 7874 2829 292c 0a20 2020 2020 2020  text()),.       
-00025af0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b20: 2020 2020 2077 696e 646f 775f 683d 636f       window_h=co
-00025b30: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00025b40: 5f66 6c6f 6174 2873 656c 662e 6d64 5f77  _float(self.md_w
-00025b50: 696e 646f 775f 6865 6967 6874 5f6c 696e  indow_height_lin
-00025b60: 6545 6469 742e 7465 7874 2829 292c 0a20  eEdit.text()),. 
-00025b70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b80: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025b90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025ba0: 2020 2020 2020 2020 2020 2063 6f72 655f             core_
-00025bb0: 683d 302e 3034 290a 2020 2020 2020 2020  h=0.04).        
-00025bc0: 2020 2020 636f 7265 203d 2066 6d74 2e43      core = fmt.C
-00025bd0: 6f72 6528 636f 7265 5f64 696d 656e 7369  ore(core_dimensi
-00025be0: 6f6e 733d 636f 7265 5f64 696d 656e 7369  ons=core_dimensi
-00025bf0: 6f6e 732c 206d 755f 725f 6162 733d 3331  ons, mu_r_abs=31
-00025c00: 3030 2c20 7068 695f 6d75 5f64 6567 3d31  00, phi_mu_deg=1
-00025c10: 322c 2073 6967 6d61 3d31 2e32 2c0a 2020  2, sigma=1.2,.  
-00025c20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025c30: 2020 2020 2020 2020 2020 7065 726d 6561            permea
-00025c40: 6269 6c69 7479 5f64 6174 6173 6f75 7263  bility_datasourc
-00025c50: 653d 666d 742e 4d61 7465 7269 616c 4461  e=fmt.MaterialDa
-00025c60: 7461 536f 7572 6365 2e43 7573 746f 6d2c  taSource.Custom,
-00025c70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025c80: 2020 2020 2020 2020 2020 2020 2070 6572               per
-00025c90: 6d69 7474 6976 6974 795f 6461 7461 736f  mittivity_dataso
-00025ca0: 7572 6365 3d66 6d74 2e4d 6174 6572 6961  urce=fmt.Materia
-00025cb0: 6c44 6174 6153 6f75 7263 652e 4375 7374  lDataSource.Cust
-00025cc0: 6f6d 2c0a 2020 2020 2020 2020 2020 2020  om,.            
+00025900: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00025910: 6972 5f67 6170 5f68 3d61 6972 5f67 6170  ir_gap_h=air_gap
+00025920: 5f68 6569 6768 745f 6172 7261 792c 0a20  _height_array,. 
+00025930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025940: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025950: 2020 2070 6f73 6974 696f 6e5f 7461 673d     position_tag=
+00025960: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+00025970: 5f74 6167 5f61 7272 6179 2c0a 2020 2020  _tag_array,.    
+00025980: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000259a0: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+000259b0: 3d61 6972 5f67 6170 5f70 6f73 6974 696f  =air_gap_positio
+000259c0: 6e5f 6172 7261 7929 2222 220a 0a20 2020  n_array)"""..   
+000259d0: 2020 2020 2020 2020 2065 6c69 6620 7365           elif se
+000259e0: 6c66 2e6d 645f 6169 725f 6761 705f 706c  lf.md_air_gap_pl
+000259f0: 6163 656d 656e 745f 6d65 7468 6f64 5f63  acement_method_c
+00025a00: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+00025a10: 6578 7428 2920 3d3d 2073 656c 662e 7472  ext() == self.tr
+00025a20: 616e 736c 6174 696f 6e5f 6469 6374 5b22  anslation_dict["
+00025a30: 6d61 6e75 616c 6c79 225d 2061 6e64 2061  manually"] and a
+00025a40: 6972 5f67 6170 5f63 6f75 6e74 203e 3d20  ir_gap_count >= 
+00025a50: 313a 0a0a 2020 2020 2020 2020 2020 2020  1:..            
+00025a60: 2020 2020 6169 725f 6761 7073 203d 2066      air_gaps = f
+00025a70: 6d74 2e41 6972 4761 7073 2866 6d74 2e41  mt.AirGaps(fmt.A
+00025a80: 6972 4761 704d 6574 686f 642e 4d61 6e75  irGapMethod.Manu
+00025a90: 616c 6c79 2c20 636f 7265 290a 2020 2020  ally, core).    
+00025aa0: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00025ab0: 6920 696e 2072 616e 6765 2831 2c20 6169  i in range(1, ai
+00025ac0: 725f 6761 705f 636f 756e 7420 2b20 3129  r_gap_count + 1)
+00025ad0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00025ae0: 2020 2020 2020 6169 725f 6761 7073 2e61        air_gaps.a
+00025af0: 6464 5f61 6972 5f67 6170 2866 6d74 2e41  dd_air_gap(fmt.A
+00025b00: 6972 4761 704c 6567 506f 7369 7469 6f6e  irGapLegPosition
+00025b10: 2e43 656e 7465 724c 6567 2c20 6169 725f  .CenterLeg, air_
+00025b20: 6761 705f 6865 6967 6874 5f61 7272 6179  gap_height_array
+00025b30: 5b69 202d 2031 5d2c 0a20 2020 2020 2020  [i - 1],.       
+00025b40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025b50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025b60: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
+00025b70: 6f6e 5f61 7272 6179 5b69 202d 2031 5d29  on_array[i - 1])
+00025b80: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025b90: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
+00025ba0: 2020 2020 2061 6972 5f67 6170 7320 3d20       air_gaps = 
+00025bb0: 666d 742e 4169 7247 6170 7328 666d 742e  fmt.AirGaps(fmt.
+00025bc0: 4169 7247 6170 4d65 7468 6f64 2e4d 616e  AirGapMethod.Man
+00025bd0: 7561 6c6c 792c 2063 6f72 6529 0a20 2020  ually, core).   
+00025be0: 2020 2020 2020 2020 2020 2020 2061 6972               air
+00025bf0: 5f67 6170 732e 6164 645f 6169 725f 6761  _gaps.add_air_ga
+00025c00: 7028 666d 742e 4169 7247 6170 4c65 6750  p(fmt.AirGapLegP
+00025c10: 6f73 6974 696f 6e2e 4365 6e74 6572 4c65  osition.CenterLe
+00025c20: 672c 206d 645f 6169 725f 6761 705f 315f  g, md_air_gap_1_
+00025c30: 706f 7369 7469 6f6e 2c20 6d64 5f61 6972  position, md_air
+00025c40: 5f67 6170 5f31 5f68 6569 6768 7429 2222  _gap_1_height)""
+00025c50: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
+00025c60: 2020 6765 6f2e 7365 745f 6169 725f 6761    geo.set_air_ga
+00025c70: 7073 2861 6972 5f67 6170 7329 0a20 2020  ps(air_gaps).   
+00025c80: 2020 2020 2020 2020 2020 2020 2022 2222               """
+00025c90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00025ca0: 2067 656f 2e61 6972 5f67 6170 732e 7570   geo.air_gaps.up
+00025cb0: 6461 7465 286d 6574 686f 643d 226d 616e  date(method="man
+00025cc0: 7561 6c6c 7922 2c0a 2020 2020 2020 2020  ually",.        
 00025cd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025ce0: 6465 7461 696c 6564 5f63 6f72 655f 6d6f  detailed_core_mo
-00025cf0: 6465 6c3d 5472 7565 290a 2020 2020 2020  del=True).      
-00025d00: 2020 2020 2020 6765 6f2e 7365 745f 636f        geo.set_co
-00025d10: 7265 2863 6f72 6529 0a20 2020 2020 2020  re(core).       
-00025d20: 2020 2020 2022 2222 0a20 2020 2020 2020       """.       
-00025d30: 2020 2020 2067 656f 2e63 6f72 652e 7570       geo.core.up
-00025d40: 6461 7465 2877 696e 646f 775f 6820 3d20  date(window_h = 
-00025d50: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00025d60: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00025d70: 5f77 696e 646f 775f 6865 6967 6874 5f6c  _window_height_l
-00025d80: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
-00025d90: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00025da0: 2020 2020 2020 2020 2020 2020 2077 696e               win
-00025db0: 646f 775f 7720 3d20 636f 6d6d 615f 7374  dow_w = comma_st
-00025dc0: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00025dd0: 2873 656c 662e 6d64 5f77 696e 646f 775f  (self.md_window_
-00025de0: 7769 6474 685f 6c69 6e65 4564 6974 2e74  width_lineEdit.t
-00025df0: 6578 7428 2929 2c0a 2020 2020 2020 2020  ext()),.        
-00025e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025e10: 2020 2020 636f 7265 5f77 203d 2063 6f6d      core_w = com
-00025e20: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00025e30: 666c 6f61 7428 7365 6c66 2e6d 645f 636f  float(self.md_co
-00025e40: 7265 5f77 6964 7468 5f6c 696e 6545 6469  re_width_lineEdi
-00025e50: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
-00025e60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00025e70: 2020 2020 2020 206d 755f 7265 6c3d 3331         mu_rel=31
-00025e80: 3030 2c20 7068 695f 6d75 5f64 6567 3d31  00, phi_mu_deg=1
-00025e90: 322c 2073 6967 6d61 3d30 2e36 2922 2222  2, sigma=0.6)"""
-00025ea0: 0a0a 2020 2020 2020 2020 2020 2020 2320  ..            # 
-00025eb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025ec0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025ed0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-00025ee0: 2020 2020 2020 2020 2020 2020 2320 4169              # Ai
-00025ef0: 7220 4761 7073 0a20 2020 2020 2020 2020  r Gaps.         
-00025f00: 2020 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d     # -----------
-00025f10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025f20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025f30: 2d2d 2d2d 0a0a 2020 2020 2020 2020 2020  ----..          
-00025f40: 2020 6169 725f 6761 705f 636f 756e 7420    air_gap_count 
-00025f50: 3d20 696e 7428 7365 6c66 2e6d 645f 6169  = int(self.md_ai
-00025f60: 725f 6761 705f 636f 756e 745f 636f 6d62  r_gap_count_comb
-00025f70: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-00025f80: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
-00025f90: 6169 725f 6761 705f 6865 6967 7468 5f61  air_gap_heigth_a
-00025fa0: 7272 6179 203d 205b 5d0a 2020 2020 2020  rray = [].      
-00025fb0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
-00025fc0: 7369 7469 6f6e 5f61 7272 6179 203d 205b  sition_array = [
-00025fd0: 5d0a 2020 2020 2020 2020 2020 2020 6169  ].            ai
-00025fe0: 725f 6761 705f 706f 7369 7469 6f6e 5f74  r_gap_position_t
-00025ff0: 6167 5f61 7272 6179 203d 205b 5d0a 0a20  ag_array = [].. 
-00026000: 2020 2020 2020 2020 2020 2069 6620 6169             if ai
-00026010: 725f 6761 705f 636f 756e 7420 3e3d 2031  r_gap_count >= 1
-00026020: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-00026030: 2020 6d64 5f61 6972 5f67 6170 5f31 5f68    md_air_gap_1_h
-00026040: 6569 6768 7420 3d20 636f 6d6d 615f 7374  eight = comma_st
-00026050: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00026060: 2873 656c 662e 6d64 5f61 6972 5f67 6170  (self.md_air_gap
-00026070: 5f31 5f6c 656e 6774 685f 6c69 6e65 4564  _1_length_lineEd
-00026080: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
-00026090: 2020 2020 2020 2020 2020 206d 645f 6169             md_ai
-000260a0: 725f 6761 705f 315f 706f 7369 7469 6f6e  r_gap_1_position
-000260b0: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
-000260c0: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-000260d0: 2e6d 645f 6169 725f 6761 705f 315f 706f  .md_air_gap_1_po
-000260e0: 7369 7469 6f6e 5f6c 696e 6545 6469 742e  sition_lineEdit.
-000260f0: 7465 7874 2829 290a 0a20 2020 2020 2020  text())..       
-00026100: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
-00026110: 5f68 6569 6774 685f 6172 7261 792e 6170  _heigth_array.ap
-00026120: 7065 6e64 286d 645f 6169 725f 6761 705f  pend(md_air_gap_
-00026130: 315f 6865 6967 6874 290a 2020 2020 2020  1_height).      
-00026140: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-00026150: 705f 706f 7369 7469 6f6e 5f61 7272 6179  p_position_array
-00026160: 2e61 7070 656e 6428 6d64 5f61 6972 5f67  .append(md_air_g
-00026170: 6170 5f31 5f70 6f73 6974 696f 6e29 0a20  ap_1_position). 
-00026180: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00026190: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
-000261a0: 7461 675f 6172 7261 792e 6170 7065 6e64  tag_array.append
-000261b0: 2830 290a 0a20 2020 2020 2020 2020 2020  (0)..           
-000261c0: 2069 6620 6169 725f 6761 705f 636f 756e   if air_gap_coun
-000261d0: 7420 3e3d 2032 3a0a 2020 2020 2020 2020  t >= 2:.        
-000261e0: 2020 2020 2020 2020 6d64 5f61 6972 5f67          md_air_g
-000261f0: 6170 5f32 5f68 6569 6768 7420 3d20 636f  ap_2_height = co
-00026200: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
-00026210: 5f66 6c6f 6174 2873 656c 662e 6d64 5f61  _float(self.md_a
-00026220: 6972 5f67 6170 5f32 5f6c 656e 6774 685f  ir_gap_2_length_
-00026230: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00026240: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026250: 206d 645f 6169 725f 6761 705f 325f 706f   md_air_gap_2_po
-00026260: 7369 7469 6f6e 203d 2063 6f6d 6d61 5f73  sition = comma_s
-00026270: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00026280: 7428 7365 6c66 2e6d 645f 6169 725f 6761  t(self.md_air_ga
-00026290: 705f 325f 706f 7369 7469 6f6e 5f6c 696e  p_2_position_lin
-000262a0: 6545 6469 742e 7465 7874 2829 290a 0a20  eEdit.text()).. 
-000262b0: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-000262c0: 6972 5f67 6170 5f68 6569 6774 685f 6172  ir_gap_heigth_ar
-000262d0: 7261 792e 6170 7065 6e64 286d 645f 6169  ray.append(md_ai
-000262e0: 725f 6761 705f 325f 6865 6967 6874 290a  r_gap_2_height).
-000262f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026300: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
-00026310: 5f61 7272 6179 2e61 7070 656e 6428 6d64  _array.append(md
-00026320: 5f61 6972 5f67 6170 5f32 5f70 6f73 6974  _air_gap_2_posit
-00026330: 696f 6e29 0a20 2020 2020 2020 2020 2020  ion).           
-00026340: 2020 2020 2061 6972 5f67 6170 5f70 6f73       air_gap_pos
-00026350: 6974 696f 6e5f 7461 675f 6172 7261 792e  ition_tag_array.
-00026360: 6170 7065 6e64 2830 290a 0a20 2020 2020  append(0)..     
-00026370: 2020 2020 2020 2069 6620 6169 725f 6761         if air_ga
-00026380: 705f 636f 756e 7420 3e3d 2033 3a0a 2020  p_count >= 3:.  
-00026390: 2020 2020 2020 2020 2020 2020 2020 6d64                md
-000263a0: 5f61 6972 5f67 6170 5f33 5f68 6569 6768  _air_gap_3_heigh
-000263b0: 7420 3d20 636f 6d6d 615f 7374 725f 746f  t = comma_str_to
-000263c0: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-000263d0: 662e 6d64 5f61 6972 5f67 6170 5f33 5f6c  f.md_air_gap_3_l
-000263e0: 656e 6774 685f 6c69 6e65 4564 6974 2e74  ength_lineEdit.t
-000263f0: 6578 7428 2929 0a20 2020 2020 2020 2020  ext()).         
-00026400: 2020 2020 2020 206d 645f 6169 725f 6761         md_air_ga
-00026410: 705f 335f 706f 7369 7469 6f6e 203d 2063  p_3_position = c
-00026420: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00026430: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00026440: 6169 725f 6761 705f 335f 706f 7369 7469  air_gap_3_positi
-00026450: 6f6e 5f6c 696e 6545 6469 742e 7465 7874  on_lineEdit.text
-00026460: 2829 290a 0a20 2020 2020 2020 2020 2020  ())..           
-00026470: 2020 2020 2061 6972 5f67 6170 5f68 6569       air_gap_hei
-00026480: 6774 685f 6172 7261 792e 6170 7065 6e64  gth_array.append
-00026490: 286d 645f 6169 725f 6761 705f 335f 6865  (md_air_gap_3_he
-000264a0: 6967 6874 290a 2020 2020 2020 2020 2020  ight).          
-000264b0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
-000264c0: 7369 7469 6f6e 5f61 7272 6179 2e61 7070  sition_array.app
-000264d0: 656e 6428 6d64 5f61 6972 5f67 6170 5f33  end(md_air_gap_3
-000264e0: 5f70 6f73 6974 696f 6e29 0a20 2020 2020  _position).     
-000264f0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-00026500: 6170 5f70 6f73 6974 696f 6e5f 7461 675f  ap_position_tag_
-00026510: 6172 7261 792e 6170 7065 6e64 2830 290a  array.append(0).
-00026520: 0a20 2020 2020 2020 2020 2020 2069 6620  .            if 
-00026530: 6169 725f 6761 705f 636f 756e 7420 3e3d  air_gap_count >=
-00026540: 2034 3a0a 2020 2020 2020 2020 2020 2020   4:.            
-00026550: 2020 2020 6d64 5f61 6972 5f67 6170 5f34      md_air_gap_4
-00026560: 5f68 6569 6768 7420 3d20 636f 6d6d 615f  _height = comma_
-00026570: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
-00026580: 6174 2873 656c 662e 6d64 5f61 6972 5f67  at(self.md_air_g
-00026590: 6170 5f34 5f6c 656e 6774 685f 6c69 6e65  ap_4_length_line
-000265a0: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
-000265b0: 2020 2020 2020 2020 2020 2020 206d 645f               md_
-000265c0: 6169 725f 6761 705f 345f 706f 7369 7469  air_gap_4_positi
-000265d0: 6f6e 203d 2063 6f6d 6d61 5f73 7472 5f74  on = comma_str_t
-000265e0: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
-000265f0: 6c66 2e6d 645f 6169 725f 6761 705f 345f  lf.md_air_gap_4_
-00026600: 706f 7369 7469 6f6e 5f6c 696e 6545 6469  position_lineEdi
-00026610: 742e 7465 7874 2829 290a 0a20 2020 2020  t.text())..     
-00026620: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-00026630: 6170 5f68 6569 6774 685f 6172 7261 792e  ap_heigth_array.
-00026640: 6170 7065 6e64 286d 645f 6169 725f 6761  append(md_air_ga
-00026650: 705f 345f 6865 6967 6874 290a 2020 2020  p_4_height).    
-00026660: 2020 2020 2020 2020 2020 2020 6169 725f              air_
-00026670: 6761 705f 706f 7369 7469 6f6e 5f61 7272  gap_position_arr
-00026680: 6179 2e61 7070 656e 6428 6d64 5f61 6972  ay.append(md_air
-00026690: 5f67 6170 5f34 5f70 6f73 6974 696f 6e29  _gap_4_position)
-000266a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000266b0: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
-000266c0: 6e5f 7461 675f 6172 7261 792e 6170 7065  n_tag_array.appe
-000266d0: 6e64 2830 290a 0a20 2020 2020 2020 2020  nd(0)..         
-000266e0: 2020 2069 6620 6169 725f 6761 705f 636f     if air_gap_co
-000266f0: 756e 7420 3e3d 2035 3a0a 2020 2020 2020  unt >= 5:.      
-00026700: 2020 2020 2020 2020 2020 6d64 5f61 6972            md_air
-00026710: 5f67 6170 5f35 5f68 6569 6768 7420 3d20  _gap_5_height = 
-00026720: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-00026730: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-00026740: 5f61 6972 5f67 6170 5f35 5f6c 656e 6774  _air_gap_5_lengt
-00026750: 685f 6c69 6e65 4564 6974 2e74 6578 7428  h_lineEdit.text(
-00026760: 2929 0a20 2020 2020 2020 2020 2020 2020  )).             
-00026770: 2020 206d 645f 6169 725f 6761 705f 355f     md_air_gap_5_
-00026780: 706f 7369 7469 6f6e 203d 2063 6f6d 6d61  position = comma
-00026790: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
-000267a0: 6f61 7428 7365 6c66 2e6d 645f 6169 725f  oat(self.md_air_
-000267b0: 6761 705f 355f 706f 7369 7469 6f6e 5f6c  gap_5_position_l
-000267c0: 696e 6545 6469 742e 7465 7874 2829 290a  ineEdit.text()).
-000267d0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000267e0: 2061 6972 5f67 6170 5f68 6569 6774 685f   air_gap_heigth_
-000267f0: 6172 7261 792e 6170 7065 6e64 286d 645f  array.append(md_
-00026800: 6169 725f 6761 705f 355f 6865 6967 6874  air_gap_5_height
-00026810: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
-00026820: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
-00026830: 6f6e 5f61 7272 6179 2e61 7070 656e 6428  on_array.append(
-00026840: 6d64 5f61 6972 5f67 6170 5f35 5f70 6f73  md_air_gap_5_pos
-00026850: 6974 696f 6e29 0a20 2020 2020 2020 2020  ition).         
-00026860: 2020 2020 2020 2061 6972 5f67 6170 5f70         air_gap_p
-00026870: 6f73 6974 696f 6e5f 7461 675f 6172 7261  osition_tag_arra
-00026880: 792e 6170 7065 6e64 2830 290a 0a20 2020  y.append(0)..   
-00026890: 2020 2020 2020 2020 2069 6620 6169 725f           if air_
-000268a0: 6761 705f 636f 756e 7420 3d3d 2030 3a0a  gap_count == 0:.
-000268b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000268c0: 2061 6972 5f67 6170 7320 3d20 666d 742e   air_gaps = fmt.
-000268d0: 4169 7247 6170 7328 666d 742e 4169 7247  AirGaps(fmt.AirG
-000268e0: 6170 4d65 7468 6f64 2e43 656e 7465 722c  apMethod.Center,
-000268f0: 2063 6f72 6529 0a20 2020 2020 2020 2020   core).         
-00026900: 2020 2020 2020 2023 2061 6972 5f67 6170         # air_gap
-00026910: 732e 6164 645f 6169 725f 6761 7028 666d  s.add_air_gap(fm
-00026920: 742e 4169 7247 6170 4c65 6750 6f73 6974  t.AirGapLegPosit
-00026930: 696f 6e2e 4365 6e74 6572 4c65 672c 204e  ion.CenterLeg, N
-00026940: 6f6e 652c 2030 2e30 3030 3529 0a20 2020  one, 0.0005).   
-00026950: 2020 2020 2020 2020 2020 2020 2067 656f               geo
-00026960: 2e73 6574 5f61 6972 5f67 6170 7328 6169  .set_air_gaps(ai
-00026970: 725f 6761 7073 290a 2020 2020 2020 2020  r_gaps).        
-00026980: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
-00026990: 2020 2020 2020 2020 2020 2020 6765 6f2e              geo.
-000269a0: 6169 725f 6761 7073 2e75 7064 6174 6528  air_gaps.update(
-000269b0: 6d65 7468 6f64 3d22 7065 7263 656e 7422  method="percent"
-000269c0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-000269d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000269e0: 2020 2020 2020 6e5f 6169 725f 6761 7073        n_air_gaps
-000269f0: 3d30 2c0a 2020 2020 2020 2020 2020 2020  =0,.            
-00026a00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026a10: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
-00026a20: 683d 5b5d 2c0a 2020 2020 2020 2020 2020  h=[],.          
-00026a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026a40: 2020 2020 2020 2020 2020 706f 7369 7469            positi
-00026a50: 6f6e 5f74 6167 3d5b 5d2c 0a20 2020 2020  on_tag=[],.     
-00026a60: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026a70: 2020 2020 2020 2020 2020 2020 2020 2061                 a
-00026a80: 6972 5f67 6170 5f70 6f73 6974 696f 6e3d  ir_gap_position=
-00026a90: 5b5d 2922 2222 0a0a 2020 2020 2020 2020  [])"""..        
-00026aa0: 2020 2020 656c 6966 2073 656c 662e 6d64      elif self.md
-00026ab0: 5f61 6972 5f67 6170 5f70 6c61 6365 6d65  _air_gap_placeme
-00026ac0: 6e74 5f6d 6574 686f 645f 636f 6d62 6f42  nt_method_comboB
-00026ad0: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
-00026ae0: 203d 3d20 7365 6c66 2e74 7261 6e73 6c61   == self.transla
-00026af0: 7469 6f6e 5f64 6963 745b 2270 6572 6365  tion_dict["perce
-00026b00: 6e74 225d 2061 6e64 2061 6972 5f67 6170  nt"] and air_gap
-00026b10: 5f63 6f75 6e74 203e 3d20 313a 0a0a 2020  _count >= 1:..  
-00026b20: 2020 2020 2020 2020 2020 2020 2020 6169                ai
-00026b30: 725f 6761 7073 203d 2066 6d74 2e41 6972  r_gaps = fmt.Air
-00026b40: 4761 7073 2866 6d74 2e41 6972 4761 704d  Gaps(fmt.AirGapM
-00026b50: 6574 686f 642e 5065 7263 656e 742c 2063  ethod.Percent, c
-00026b60: 6f72 6529 0a20 2020 2020 2020 2020 2020  ore).           
-00026b70: 2020 2020 2066 6f72 2069 2069 6e20 7261       for i in ra
-00026b80: 6e67 6528 312c 2061 6972 5f67 6170 5f63  nge(1, air_gap_c
-00026b90: 6f75 6e74 202b 2031 293a 0a20 2020 2020  ount + 1):.     
-00026ba0: 2020 2020 2020 2020 2020 2020 2020 2023                 #
-00026bb0: 2063 6861 6e67 6520 320a 2020 2020 2020   change 2.      
-00026bc0: 2020 2020 2020 2020 2020 2020 2020 6169                ai
-00026bd0: 725f 6761 7073 2e61 6464 5f61 6972 5f67  r_gaps.add_air_g
-00026be0: 6170 2866 6d74 2e41 6972 4761 704c 6567  ap(fmt.AirGapLeg
-00026bf0: 506f 7369 7469 6f6e 2e43 656e 7465 724c  Position.CenterL
-00026c00: 6567 2c20 6169 725f 6761 705f 6865 6967  eg, air_gap_heig
-00026c10: 7468 5f61 7272 6179 5b69 202d 2031 5d2c  th_array[i - 1],
-00026c20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00026c30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026c40: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-00026c50: 705f 706f 7369 7469 6f6e 5f61 7272 6179  p_position_array
-00026c60: 5b69 202d 2031 5d29 0a20 2020 2020 2020  [i - 1]).       
-00026c70: 2020 2020 2020 2020 2022 2222 0a20 2020           """.   
-00026c80: 2020 2020 2020 2020 2020 2020 2061 6972               air
-00026c90: 5f67 6170 7320 3d20 666d 742e 4169 7247  _gaps = fmt.AirG
-00026ca0: 6170 7328 666d 742e 4169 7247 6170 4d65  aps(fmt.AirGapMe
-00026cb0: 7468 6f64 2e50 6572 6365 6e74 2c20 636f  thod.Percent, co
-00026cc0: 7265 290a 2020 2020 2020 2020 2020 2020  re).            
-00026cd0: 2020 2020 6169 725f 6761 7073 2e61 6464      air_gaps.add
-00026ce0: 5f61 6972 5f67 6170 2866 6d74 2e41 6972  _air_gap(fmt.Air
-00026cf0: 4761 704c 6567 506f 7369 7469 6f6e 2e43  GapLegPosition.C
-00026d00: 656e 7465 724c 6567 2c20 6d64 5f61 6972  enterLeg, md_air
-00026d10: 5f67 6170 5f31 5f70 6f73 6974 696f 6e2c  _gap_1_position,
-00026d20: 206d 645f 6169 725f 6761 705f 315f 6865   md_air_gap_1_he
-00026d30: 6967 6874 2922 2222 0a20 2020 2020 2020  ight)""".       
-00026d40: 2020 2020 2020 2020 2067 656f 2e73 6574           geo.set
-00026d50: 5f61 6972 5f67 6170 7328 6169 725f 6761  _air_gaps(air_ga
-00026d60: 7073 290a 2020 2020 2020 2020 2020 2020  ps).            
-00026d70: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00026d80: 2020 2020 2020 2020 6765 6f2e 6169 725f          geo.air_
-00026d90: 6761 7073 2e75 7064 6174 6528 6d65 7468  gaps.update(meth
-00026da0: 6f64 3d22 7065 7263 656e 7422 2c0a 2020  od="percent",.  
-00026db0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026dd0: 2020 6e5f 6169 725f 6761 7073 3d61 6972    n_air_gaps=air
-00026de0: 5f67 6170 5f63 6f75 6e74 2c0a 2020 2020  _gap_count,.    
-00026df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ce0: 2020 2020 2020 2020 2020 2020 6e5f 6169              n_ai
+00025cf0: 725f 6761 7073 3d61 6972 5f67 6170 5f63  r_gaps=air_gap_c
+00025d00: 6f75 6e74 2c0a 2020 2020 2020 2020 2020  ount,.          
+00025d10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025d20: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+00025d30: 705f 683d 6169 725f 6761 705f 6865 6967  p_h=air_gap_heig
+00025d40: 6874 5f61 7272 6179 2c0a 2020 2020 2020  ht_array,.      
+00025d50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025d60: 2020 2020 2020 2020 2020 2020 2020 706f                po
+00025d70: 7369 7469 6f6e 5f74 6167 3d61 6972 5f67  sition_tag=air_g
+00025d80: 6170 5f70 6f73 6974 696f 6e5f 7461 675f  ap_position_tag_
+00025d90: 6172 7261 792c 0a20 2020 2020 2020 2020  array,.         
+00025da0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025db0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
+00025dc0: 6170 5f70 6f73 6974 696f 6e3d 6169 725f  ap_position=air_
+00025dd0: 6761 705f 706f 7369 7469 6f6e 5f61 7272  gap_position_arr
+00025de0: 6179 2922 2222 0a0a 2020 2020 2020 2020  ay)"""..        
+00025df0: 2020 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d      # ----------
+00025e00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00025e10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00025e20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20 2020  ------------.   
+00025e30: 2020 2020 2020 2020 2023 2053 6574 2069           # Set i
+00025e40: 6e73 756c 6174 696f 6e73 0a20 2020 2020  nsulations.     
+00025e50: 2020 2020 2020 2023 202d 2d2d 2d2d 2d2d         # -------
+00025e60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00025e70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00025e80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
+00025e90: 2020 2020 2020 2020 2020 2020 696e 7375              insu
+00025ea0: 6c61 7469 6f6e 203d 2066 6d74 2e49 6e73  lation = fmt.Ins
+00025eb0: 756c 6174 696f 6e28 666c 6167 5f69 6e73  ulation(flag_ins
+00025ec0: 756c 6174 696f 6e3d 7365 6c66 2e66 6c61  ulation=self.fla
+00025ed0: 675f 696e 7375 6c61 7469 6f6e 290a 2020  g_insulation).  
+00025ee0: 2020 2020 2020 2020 2020 696e 7375 6c61            insula
+00025ef0: 7469 6f6e 2e61 6464 5f63 6f72 655f 696e  tion.add_core_in
+00025f00: 7375 6c61 7469 6f6e 7328 636f 6d6d 615f  sulations(comma_
+00025f10: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+00025f20: 6174 2873 656c 662e 6d64 5f69 736f 6c61  at(self.md_isola
+00025f30: 7469 6f6e 5f63 6f72 6532 636f 6e64 5f74  tion_core2cond_t
+00025f40: 6f70 5f6c 696e 6545 6469 742e 7465 7874  op_lineEdit.text
+00025f50: 2829 292c 0a20 2020 2020 2020 2020 2020  ()),.           
+00025f60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025f80: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+00025f90: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00025fa0: 645f 6973 6f6c 6174 696f 6e5f 636f 7265  d_isolation_core
+00025fb0: 3263 6f6e 645f 626f 745f 6c69 6e65 4564  2cond_bot_lineEd
+00025fc0: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+00025fd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025fe0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00025ff0: 2020 2020 2020 2020 636f 6d6d 615f 7374          comma_st
+00026000: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00026010: 2873 656c 662e 6d64 5f69 736f 6c61 7469  (self.md_isolati
+00026020: 6f6e 5f63 6f72 6532 636f 6e64 5f69 6e6e  on_core2cond_inn
+00026030: 6572 5f6c 696e 6545 6469 742e 7465 7874  er_lineEdit.text
+00026040: 2829 292c 0a20 2020 2020 2020 2020 2020  ()),.           
+00026050: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026060: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026070: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+00026080: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00026090: 645f 6973 6f6c 6174 696f 6e5f 636f 7265  d_isolation_core
+000260a0: 3263 6f6e 645f 6f75 7465 725f 6c69 6e65  2cond_outer_line
+000260b0: 4564 6974 2e74 6578 7428 2929 290a 2020  Edit.text())).  
+000260c0: 2020 2020 2020 2020 2020 696e 7375 6c61            insula
+000260d0: 7469 6f6e 2e61 6464 5f77 696e 6469 6e67  tion.add_winding
+000260e0: 5f69 6e73 756c 6174 696f 6e73 285b 5b63  _insulations([[c
+000260f0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00026100: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00026110: 6973 6f6c 6174 696f 6e5f 7032 705f 6c69  isolation_p2p_li
+00026120: 6e65 4564 6974 2e74 6578 7428 2929 5d5d  neEdit.text())]]
+00026130: 290a 2020 2020 2020 2020 2020 2020 6765  ).            ge
+00026140: 6f2e 7365 745f 696e 7375 6c61 7469 6f6e  o.set_insulation
+00026150: 2869 6e73 756c 6174 696f 6e29 0a0a 2020  (insulation)..  
+00026160: 2020 2020 2020 2020 2020 2320 2d2d 2d2d            # ----
+00026170: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026180: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026190: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000261a0: 2d2d 2d2d 2d0a 2020 2020 2020 2020 2020  -----.          
+000261b0: 2020 2320 4372 6561 7465 2077 696e 6469    # Create windi
+000261c0: 6e67 2077 696e 646f 7720 616e 6420 7669  ng window and vi
+000261d0: 7274 7561 6c20 7769 6e64 696e 6720 7769  rtual winding wi
+000261e0: 6e64 6f77 7320 2876 7777 290a 2020 2020  ndows (vww).    
+000261f0: 2020 2020 2020 2020 2320 2d2d 2d2d 2d2d          # ------
+00026200: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026210: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026220: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026230: 2d2d 2d2d 0a0a 2020 2020 2020 2020 2020  ----..          
+00026240: 2020 7769 6e64 696e 675f 7769 6e64 6f77    winding_window
+00026250: 203d 2066 6d74 2e57 696e 6469 6e67 5769   = fmt.WindingWi
+00026260: 6e64 6f77 2863 6f72 652c 2069 6e73 756c  ndow(core, insul
+00026270: 6174 696f 6e29 0a20 2020 2020 2020 2020  ation).         
+00026280: 2020 2076 7777 203d 2077 696e 6469 6e67     vww = winding
+00026290: 5f77 696e 646f 772e 7370 6c69 745f 7769  _window.split_wi
+000262a0: 6e64 6f77 2866 6d74 2e57 696e 6469 6e67  ndow(fmt.Winding
+000262b0: 5769 6e64 6f77 5370 6c69 742e 4e6f 5370  WindowSplit.NoSp
+000262c0: 6c69 7429 0a0a 2020 2020 2020 2020 2020  lit)..          
+000262d0: 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    # ------------
+000262e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000262f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026300: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20  --------------. 
+00026310: 2020 2020 2020 2020 2020 2023 2043 7265             # Cre
+00026320: 6174 6520 636f 6e64 7563 746f 7220 616e  ate conductor an
+00026330: 6420 7365 7420 7061 7261 6d65 7465 7273  d set parameters
+00026340: 3a20 7573 6520 736f 6c69 6420 7769 7265  : use solid wire
+00026350: 730a 2020 2020 2020 2020 2020 2020 2320  s.            # 
+00026360: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026370: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026380: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026390: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a20 2020  -----------..   
+000263a0: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+000263b0: 5f6d 6174 6572 6961 6c5f 6e61 6d65 203d  _material_name =
+000263c0: 2073 656c 662e 6d64 5f77 696e 6469 6e67   self.md_winding
+000263d0: 315f 6d61 7465 7269 616c 5f63 6f6d 626f  1_material_combo
+000263e0: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+000263f0: 290a 2020 2020 2020 2020 2020 2020 6966  ).            if
+00026400: 2077 696e 6469 6e67 5f6d 6174 6572 6961   winding_materia
+00026410: 6c5f 6e61 6d65 203d 3d20 2743 6f70 7065  l_name == 'Coppe
+00026420: 7227 3a0a 2020 2020 2020 2020 2020 2020  r':.            
+00026430: 2020 2020 7769 6e64 696e 675f 6d61 7465      winding_mate
+00026440: 7269 616c 5f65 6e75 6d20 3d20 666d 742e  rial_enum = fmt.
+00026450: 436f 6e64 7563 7469 7669 7479 2e43 6f70  Conductivity.Cop
+00026460: 7065 720a 2020 2020 2020 2020 2020 2020  per.            
+00026470: 656c 6966 2077 696e 6469 6e67 5f6d 6174  elif winding_mat
+00026480: 6572 6961 6c5f 6e61 6d65 203d 3d20 2741  erial_name == 'A
+00026490: 6c75 6d69 6e69 756d 273a 0a20 2020 2020  luminium':.     
+000264a0: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+000264b0: 6e67 5f6d 6174 6572 6961 6c5f 656e 756d  ng_material_enum
+000264c0: 203d 2066 6d74 2e43 6f6e 6475 6374 6976   = fmt.Conductiv
+000264d0: 6974 792e 416c 756d 696e 6975 6d0a 0a20  ity.Aluminium.. 
+000264e0: 2020 2020 2020 2020 2020 2077 696e 6469             windi
+000264f0: 6e67 203d 2066 6d74 2e43 6f6e 6475 6374  ng = fmt.Conduct
+00026500: 6f72 2830 2c20 7769 6e64 696e 675f 6d61  or(0, winding_ma
+00026510: 7465 7269 616c 5f65 6e75 6d29 0a20 2020  terial_enum).   
+00026520: 2020 2020 2020 2020 2069 6620 7365 6c66           if self
+00026530: 2e6d 645f 7769 6e64 696e 6731 5f74 7970  .md_winding1_typ
+00026540: 655f 636f 6d62 6f42 6f78 2e63 7572 7265  e_comboBox.curre
+00026550: 6e74 5465 7874 2829 203d 3d20 7365 6c66  ntText() == self
+00026560: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
+00026570: 745b 2773 6f6c 6964 275d 3a0a 2020 2020  t['solid']:.    
+00026580: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00026590: 696e 672e 7365 745f 736f 6c69 645f 726f  ing.set_solid_ro
+000265a0: 756e 645f 636f 6e64 7563 746f 7228 0a20  und_conductor(. 
+000265b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000265c0: 2020 2063 6f6e 6475 6374 6f72 5f72 6164     conductor_rad
+000265d0: 6975 733d 636f 6d6d 615f 7374 725f 746f  ius=comma_str_to
+000265e0: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+000265f0: 662e 6d64 5f77 696e 6469 6e67 315f 7261  f.md_winding1_ra
+00026600: 6469 7573 5f6c 696e 6545 6469 742e 7465  dius_lineEdit.te
+00026610: 7874 2829 292c 0a20 2020 2020 2020 2020  xt()),.         
+00026620: 2020 2020 2020 2020 2020 2063 6f6e 6475             condu
+00026630: 6374 6f72 5f61 7272 616e 6765 6d65 6e74  ctor_arrangement
+00026640: 3d66 6d74 2e43 6f6e 6475 6374 6f72 4172  =fmt.ConductorAr
+00026650: 7261 6e67 656d 656e 742e 5371 7561 7265  rangement.Square
+00026660: 290a 2020 2020 2020 2020 2020 2020 656c  ).            el
+00026670: 6966 2073 656c 662e 6d64 5f77 696e 6469  if self.md_windi
+00026680: 6e67 315f 7479 7065 5f63 6f6d 626f 426f  ng1_type_comboBo
+00026690: 782e 6375 7272 656e 7454 6578 7428 2920  x.currentText() 
+000266a0: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
+000266b0: 696f 6e5f 6469 6374 5b27 6c69 747a 275d  ion_dict['litz']
+000266c0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+000266d0: 2020 7769 6e64 696e 672e 7365 745f 6c69    winding.set_li
+000266e0: 747a 5f72 6f75 6e64 5f63 6f6e 6475 6374  tz_round_conduct
+000266f0: 6f72 280a 2020 2020 2020 2020 2020 2020  or(.            
+00026700: 2020 2020 2020 2020 636f 6e64 7563 746f          conducto
+00026710: 725f 7261 6469 7573 3d63 6f6d 6d61 5f73  r_radius=comma_s
+00026720: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+00026730: 7428 7365 6c66 2e6d 645f 7769 6e64 696e  t(self.md_windin
+00026740: 6731 5f72 6164 6975 735f 6c69 6e65 4564  g1_radius_lineEd
+00026750: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+00026760: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026770: 6e75 6d62 6572 5f73 7472 616e 6473 3d69  number_strands=i
+00026780: 6e74 2873 656c 662e 6d64 5f77 696e 6469  nt(self.md_windi
+00026790: 6e67 315f 7374 7261 6e64 735f 6c69 6e65  ng1_strands_line
+000267a0: 4564 6974 2e74 6578 7428 2929 2c0a 2020  Edit.text()),.  
+000267b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000267c0: 2020 7374 7261 6e64 5f72 6164 6975 733d    strand_radius=
+000267d0: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+000267e0: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+000267f0: 5f77 696e 6469 6e67 315f 7374 7261 6e64  _winding1_strand
+00026800: 5f72 6164 6975 735f 6c69 6e65 4564 6974  _radius_lineEdit
+00026810: 2e74 6578 7428 2929 2c0a 2020 2020 2020  .text()),.      
+00026820: 2020 2020 2020 2020 2020 2020 2020 6669                fi
+00026830: 6c6c 5f66 6163 746f 723d 4e6f 6e65 2c0a  ll_factor=None,.
+00026840: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026850: 2020 2020 636f 6e64 7563 746f 725f 6172      conductor_ar
+00026860: 7261 6e67 656d 656e 743d 666d 742e 436f  rangement=fmt.Co
+00026870: 6e64 7563 746f 7241 7272 616e 6765 6d65  nductorArrangeme
+00026880: 6e74 2e53 7175 6172 6529 0a0a 2020 2020  nt.Square)..    
+00026890: 2020 2020 2020 2020 2320 2d2d 2d2d 2d2d          # ------
+000268a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000268b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000268c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000268d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000268e0: 0a20 2020 2020 2020 2020 2020 2023 2037  .            # 7
+000268f0: 2e20 6164 6420 636f 6e64 7563 746f 7220  . add conductor 
+00026900: 746f 2076 7777 2061 6e64 2061 6464 2077  to vww and add w
+00026910: 696e 6469 6e67 2077 696e 646f 7720 746f  inding window to
+00026920: 204d 6167 6e65 7469 6343 6f6d 706f 6e65   MagneticCompone
+00026930: 6e74 0a20 2020 2020 2020 2020 2020 2023  nt.            #
+00026940: 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   ---------------
+00026950: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026960: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026970: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026980: 2d2d 2d2d 2d2d 2d0a 2020 2020 2020 2020  -------.        
+00026990: 2020 2020 2320 7677 772e 7365 745f 7769      # vww.set_wi
+000269a0: 6e64 696e 6728 7769 6e64 696e 672c 2063  nding(winding, c
+000269b0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+000269c0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+000269d0: 7769 6e64 696e 6731 5f74 7572 6e73 5f6c  winding1_turns_l
+000269e0: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
+000269f0: 204e 6f6e 6529 0a20 2020 2020 2020 2020   None).         
+00026a00: 2020 2023 2063 6861 6e67 6520 313a 204e     # change 1: N
+00026a10: 756d 6265 7220 6f66 2074 7572 6e73 2073  umber of turns s
+00026a20: 686f 756c 6420 6265 2061 6e20 696e 7465  hould be an inte
+00026a30: 6765 722c 206e 6f74 2061 7320 6120 666c  ger, not as a fl
+00026a40: 6f61 740a 2020 2020 2020 2020 2020 2020  oat.            
+00026a50: 7677 772e 7365 745f 7769 6e64 696e 6728  vww.set_winding(
+00026a60: 7769 6e64 696e 672c 2069 6e74 2873 656c  winding, int(sel
+00026a70: 662e 6d64 5f77 696e 6469 6e67 315f 7475  f.md_winding1_tu
+00026a80: 726e 735f 6c69 6e65 4564 6974 2e74 6578  rns_lineEdit.tex
+00026a90: 7428 2929 2c20 4e6f 6e65 2c0a 2020 2020  t()), None,.    
+00026aa0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026ab0: 2020 2020 2020 2020 666d 742e 416c 6967          fmt.Alig
+00026ac0: 6e2e 546f 4564 6765 732c 2070 6c61 6369  n.ToEdges, placi
+00026ad0: 6e67 5f73 7472 6174 6567 793d 666d 742e  ng_strategy=fmt.
+00026ae0: 436f 6e64 7563 746f 7244 6973 7472 6962  ConductorDistrib
+00026af0: 7574 696f 6e2e 486f 7269 7a6f 6e74 616c  ution.Horizontal
+00026b00: 5269 6768 7477 6172 645f 5665 7274 6963  Rightward_Vertic
+00026b10: 616c 5570 7761 7264 2c20 7a69 677a 6167  alUpward, zigzag
+00026b20: 3d54 7275 6529 0a20 2020 2020 2020 2020  =True).         
+00026b30: 2020 2067 656f 2e73 6574 5f77 696e 6469     geo.set_windi
+00026b40: 6e67 5f77 696e 646f 7773 285b 7769 6e64  ng_windows([wind
+00026b50: 696e 675f 7769 6e64 6f77 5d29 0a0a 2020  ing_window])..  
+00026b60: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
+00026b70: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
+00026b80: 7065 5f63 6f6d 626f 426f 782e 6375 7272  pe_comboBox.curr
+00026b90: 656e 7454 6578 7428 2920 3d3d 2027 7472  entText() == 'tr
+00026ba0: 616e 7366 6f72 6d65 7227 3a0a 2020 2020  ansformer':.    
+00026bb0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
+00026bc0: 7369 6d75 6c61 7469 6f6e 5f51 4c61 6265  simulation_QLabe
+00026bd0: 6c2e 7365 7454 6578 7428 2773 696d 756c  l.setText('simul
+00026be0: 6174 696f 6e20 7374 6172 7473 2e2e 2e27  ation starts...'
+00026bf0: 290a 0a20 2020 2020 2020 2020 2020 2023  )..            #
+00026c00: 2031 2e20 6368 6f73 6520 7369 6d75 6c61   1. chose simula
+00026c10: 7469 6f6e 2074 7970 650a 2020 2020 2020  tion type.      
+00026c20: 2020 2020 2020 6765 6f20 3d20 666d 742e        geo = fmt.
+00026c30: 4d61 676e 6574 6963 436f 6d70 6f6e 656e  MagneticComponen
+00026c40: 7428 636f 6d70 6f6e 656e 745f 7479 7065  t(component_type
+00026c50: 3d66 6d74 2e43 6f6d 706f 6e65 6e74 5479  =fmt.ComponentTy
+00026c60: 7065 2e54 7261 6e73 666f 726d 6572 2c0a  pe.Transformer,.
+00026c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026c80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026c90: 2020 2020 2020 2020 776f 726b 696e 675f          working_
+00026ca0: 6469 7265 6374 6f72 793d 7365 6c66 2e6d  directory=self.m
+00026cb0: 645f 776f 726b 696e 675f 6469 7265 6374  d_working_direct
+00026cc0: 6f72 795f 6c69 6e65 4564 6974 2e74 6578  ory_lineEdit.tex
+00026cd0: 7428 2929 0a0a 2020 2020 2020 2020 2020  t())..          
+00026ce0: 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    # ------------
+00026cf0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026d00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026d10: 2d2d 2d0a 2020 2020 2020 2020 2020 2020  ---.            
+00026d20: 2320 436f 7265 0a20 2020 2020 2020 2020  # Core.         
+00026d30: 2020 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d     # -----------
+00026d40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026d50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00026d60: 2d2d 2d2d 0a20 2020 2020 2020 2020 2020  ----.           
+00026d70: 2063 6f72 655f 6469 6d65 6e73 696f 6e73   core_dimensions
+00026d80: 203d 2066 6d74 2e64 746f 732e 5369 6e67   = fmt.dtos.Sing
+00026d90: 6c65 436f 7265 4469 6d65 6e73 696f 6e73  leCoreDimensions
+00026da0: 2863 6f72 655f 696e 6e65 725f 6469 616d  (core_inner_diam
+00026db0: 6574 6572 3d63 6f6d 6d61 5f73 7472 5f74  eter=comma_str_t
+00026dc0: 6f5f 706f 696e 745f 666c 6f61 7428 7365  o_point_float(se
+00026dd0: 6c66 2e6d 645f 636f 7265 5f77 6964 7468  lf.md_core_width
+00026de0: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00026df0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
 00026e00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026e10: 6169 725f 6761 705f 683d 6169 725f 6761  air_gap_h=air_ga
-00026e20: 705f 6865 6967 7468 5f61 7272 6179 2c0a  p_heigth_array,.
-00026e30: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026e40: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026e50: 2020 2020 706f 7369 7469 6f6e 5f74 6167      position_tag
-00026e60: 3d61 6972 5f67 6170 5f70 6f73 6974 696f  =air_gap_positio
-00026e70: 6e5f 7461 675f 6172 7261 792c 0a20 2020  n_tag_array,.   
+00026e10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026e20: 2020 2020 2020 2020 2020 2020 2020 2077                 w
+00026e30: 696e 646f 775f 773d 636f 6d6d 615f 7374  indow_w=comma_st
+00026e40: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00026e50: 2873 656c 662e 6d64 5f77 696e 646f 775f  (self.md_window_
+00026e60: 7769 6474 685f 6c69 6e65 4564 6974 2e74  width_lineEdit.t
+00026e70: 6578 7428 2929 2c0a 2020 2020 2020 2020  ext()),.        
 00026e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00026e90: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00026ea0: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
-00026eb0: 6e3d 6169 725f 6761 705f 706f 7369 7469  n=air_gap_positi
-00026ec0: 6f6e 5f61 7272 6179 2922 2222 0a0a 2020  on_array)"""..  
-00026ed0: 2020 2020 2020 2020 2020 656c 6966 2073            elif s
-00026ee0: 656c 662e 6d64 5f61 6972 5f67 6170 5f70  elf.md_air_gap_p
-00026ef0: 6c61 6365 6d65 6e74 5f6d 6574 686f 645f  lacement_method_
-00026f00: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00026f10: 5465 7874 2829 203d 3d20 7365 6c66 2e74  Text() == self.t
-00026f20: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-00026f30: 226d 616e 7561 6c6c 7922 5d20 616e 6420  "manually"] and 
-00026f40: 6169 725f 6761 705f 636f 756e 7420 3e3d  air_gap_count >=
-00026f50: 2031 3a0a 0a20 2020 2020 2020 2020 2020   1:..           
-00026f60: 2020 2020 2061 6972 5f67 6170 7320 3d20       air_gaps = 
-00026f70: 666d 742e 4169 7247 6170 7328 666d 742e  fmt.AirGaps(fmt.
-00026f80: 4169 7247 6170 4d65 7468 6f64 2e4d 616e  AirGapMethod.Man
-00026f90: 7561 6c6c 792c 2063 6f72 6529 0a20 2020  ually, core).   
-00026fa0: 2020 2020 2020 2020 2020 2020 2066 6f72               for
-00026fb0: 2069 2069 6e20 7261 6e67 6528 312c 2061   i in range(1, a
-00026fc0: 6972 5f67 6170 5f63 6f75 6e74 202b 2031  ir_gap_count + 1
-00026fd0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-00026fe0: 2020 2020 2020 2023 2063 6861 6e67 6520         # change 
-00026ff0: 320a 2020 2020 2020 2020 2020 2020 2020  2.              
-00027000: 2020 2020 2020 6169 725f 6761 7073 2e61        air_gaps.a
-00027010: 6464 5f61 6972 5f67 6170 2866 6d74 2e41  dd_air_gap(fmt.A
-00027020: 6972 4761 704c 6567 506f 7369 7469 6f6e  irGapLegPosition
-00027030: 2e43 656e 7465 724c 6567 2c20 6169 725f  .CenterLeg, air_
-00027040: 6761 705f 6865 6967 7468 5f61 7272 6179  gap_heigth_array
-00027050: 5b69 202d 2031 5d2c 0a20 2020 2020 2020  [i - 1],.       
-00027060: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027070: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027080: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
-00027090: 6f6e 5f61 7272 6179 5b69 202d 2031 5d29  on_array[i - 1])
-000270a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000270b0: 2022 2222 0a20 2020 2020 2020 2020 2020   """.           
-000270c0: 2020 2020 2061 6972 5f67 6170 7320 3d20       air_gaps = 
-000270d0: 666d 742e 4169 7247 6170 7328 666d 742e  fmt.AirGaps(fmt.
-000270e0: 4169 7247 6170 4d65 7468 6f64 2e4d 616e  AirGapMethod.Man
-000270f0: 7561 6c6c 792c 2063 6f72 6529 0a20 2020  ually, core).   
-00027100: 2020 2020 2020 2020 2020 2020 2061 6972               air
-00027110: 5f67 6170 732e 6164 645f 6169 725f 6761  _gaps.add_air_ga
-00027120: 7028 666d 742e 4169 7247 6170 4c65 6750  p(fmt.AirGapLegP
-00027130: 6f73 6974 696f 6e2e 4365 6e74 6572 4c65  osition.CenterLe
-00027140: 672c 206d 645f 6169 725f 6761 705f 315f  g, md_air_gap_1_
-00027150: 706f 7369 7469 6f6e 2c20 6d64 5f61 6972  position, md_air
-00027160: 5f67 6170 5f31 5f68 6569 6768 7429 2222  _gap_1_height)""
-00027170: 220a 2020 2020 2020 2020 2020 2020 2020  ".              
-00027180: 2020 6765 6f2e 7365 745f 6169 725f 6761    geo.set_air_ga
-00027190: 7073 2861 6972 5f67 6170 7329 0a20 2020  ps(air_gaps).   
-000271a0: 2020 2020 2020 2020 2020 2020 2022 2222               """
-000271b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000271c0: 2067 656f 2e61 6972 5f67 6170 732e 7570   geo.air_gaps.up
-000271d0: 6461 7465 286d 6574 686f 643d 226d 616e  date(method="man
-000271e0: 7561 6c6c 7922 2c0a 2020 2020 2020 2020  ually",.        
+00026ea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026eb0: 2020 2020 7769 6e64 6f77 5f68 3d63 6f6d      window_h=com
+00026ec0: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+00026ed0: 666c 6f61 7428 7365 6c66 2e6d 645f 7769  float(self.md_wi
+00026ee0: 6e64 6f77 5f68 6569 6768 745f 6c69 6e65  ndow_height_line
+00026ef0: 4564 6974 2e74 6578 7428 2929 2c0a 2020  Edit.text()),.  
+00026f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026f20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026f30: 2020 2020 2020 2020 2020 636f 7265 5f68            core_h
+00026f40: 3d30 2e30 3429 0a20 2020 2020 2020 2020  =0.04).         
+00026f50: 2020 2063 6f72 6520 3d20 666d 742e 436f     core = fmt.Co
+00026f60: 7265 2863 6f72 655f 6469 6d65 6e73 696f  re(core_dimensio
+00026f70: 6e73 3d63 6f72 655f 6469 6d65 6e73 696f  ns=core_dimensio
+00026f80: 6e73 2c20 6d75 5f72 5f61 6273 3d33 3130  ns, mu_r_abs=310
+00026f90: 302c 2070 6869 5f6d 755f 6465 673d 3132  0, phi_mu_deg=12
+00026fa0: 2c20 7369 676d 613d 312e 322c 0a20 2020  , sigma=1.2,.   
+00026fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00026fc0: 2020 2020 2020 2020 2070 6572 6d65 6162           permeab
+00026fd0: 696c 6974 795f 6461 7461 736f 7572 6365  ility_datasource
+00026fe0: 3d66 6d74 2e4d 6174 6572 6961 6c44 6174  =fmt.MaterialDat
+00026ff0: 6153 6f75 7263 652e 4375 7374 6f6d 2c0a  aSource.Custom,.
+00027000: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027010: 2020 2020 2020 2020 2020 2020 7065 726d              perm
+00027020: 6974 7469 7669 7479 5f64 6174 6173 6f75  ittivity_datasou
+00027030: 7263 653d 666d 742e 4d61 7465 7269 616c  rce=fmt.Material
+00027040: 4461 7461 536f 7572 6365 2e43 7573 746f  DataSource.Custo
+00027050: 6d2c 0a20 2020 2020 2020 2020 2020 2020  m,.             
+00027060: 2020 2020 2020 2020 2020 2020 2020 2064                 d
+00027070: 6574 6169 6c65 645f 636f 7265 5f6d 6f64  etailed_core_mod
+00027080: 656c 3d54 7275 6529 0a20 2020 2020 2020  el=True).       
+00027090: 2020 2020 2067 656f 2e73 6574 5f63 6f72       geo.set_cor
+000270a0: 6528 636f 7265 290a 2020 2020 2020 2020  e(core).        
+000270b0: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
+000270c0: 2020 2020 6765 6f2e 636f 7265 2e75 7064      geo.core.upd
+000270d0: 6174 6528 7769 6e64 6f77 5f68 203d 2063  ate(window_h = c
+000270e0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+000270f0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00027100: 7769 6e64 6f77 5f68 6569 6768 745f 6c69  window_height_li
+00027110: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
+00027120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027130: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00027140: 6f77 5f77 203d 2063 6f6d 6d61 5f73 7472  ow_w = comma_str
+00027150: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+00027160: 7365 6c66 2e6d 645f 7769 6e64 6f77 5f77  self.md_window_w
+00027170: 6964 7468 5f6c 696e 6545 6469 742e 7465  idth_lineEdit.te
+00027180: 7874 2829 292c 0a20 2020 2020 2020 2020  xt()),.         
+00027190: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000271a0: 2020 2063 6f72 655f 7720 3d20 636f 6d6d     core_w = comm
+000271b0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+000271c0: 6c6f 6174 2873 656c 662e 6d64 5f63 6f72  loat(self.md_cor
+000271d0: 655f 7769 6474 685f 6c69 6e65 4564 6974  e_width_lineEdit
+000271e0: 2e74 6578 7428 2929 2c0a 2020 2020 2020  .text()),.      
 000271f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027200: 2020 2020 2020 2020 2020 2020 6e5f 6169              n_ai
-00027210: 725f 6761 7073 3d61 6972 5f67 6170 5f63  r_gaps=air_gap_c
-00027220: 6f75 6e74 2c0a 2020 2020 2020 2020 2020  ount,.          
-00027230: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027240: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-00027250: 705f 683d 6169 725f 6761 705f 6865 6967  p_h=air_gap_heig
-00027260: 7468 5f61 7272 6179 2c0a 2020 2020 2020  th_array,.      
-00027270: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027280: 2020 2020 2020 2020 2020 2020 2020 706f                po
-00027290: 7369 7469 6f6e 5f74 6167 3d61 6972 5f67  sition_tag=air_g
-000272a0: 6170 5f70 6f73 6974 696f 6e5f 7461 675f  ap_position_tag_
-000272b0: 6172 7261 792c 0a20 2020 2020 2020 2020  array,.         
-000272c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000272d0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-000272e0: 6170 5f70 6f73 6974 696f 6e3d 6169 725f  ap_position=air_
-000272f0: 6761 705f 706f 7369 7469 6f6e 5f61 7272  gap_position_arr
-00027300: 6179 2922 2222 0a0a 2020 2020 2020 2020  ay)"""..        
-00027310: 2020 2020 2320 342e 2073 6574 2069 6e73      # 4. set ins
-00027320: 756c 6174 696f 6e0a 2020 2020 2020 2020  ulation.        
-00027330: 2020 2020 696e 7375 6c61 7469 6f6e 203d      insulation =
-00027340: 2066 6d74 2e49 6e73 756c 6174 696f 6e28   fmt.Insulation(
-00027350: 666c 6167 5f69 6e73 756c 6174 696f 6e3d  flag_insulation=
-00027360: 7365 6c66 2e66 6c61 675f 696e 7375 6c61  self.flag_insula
-00027370: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
-00027380: 2020 696e 7375 6c61 7469 6f6e 2e61 6464    insulation.add
-00027390: 5f63 6f72 655f 696e 7375 6c61 7469 6f6e  _core_insulation
-000273a0: 7328 636f 6d6d 615f 7374 725f 746f 5f70  s(comma_str_to_p
-000273b0: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-000273c0: 6d64 5f69 736f 6c61 7469 6f6e 5f63 6f72  md_isolation_cor
-000273d0: 6532 636f 6e64 5f74 6f70 5f6c 696e 6545  e2cond_top_lineE
-000273e0: 6469 742e 7465 7874 2829 292c 0a20 2020  dit.text()),.   
-000273f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027400: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027410: 2020 2020 2020 2020 2063 6f6d 6d61 5f73           comma_s
-00027420: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00027430: 7428 7365 6c66 2e6d 645f 6973 6f6c 6174  t(self.md_isolat
-00027440: 696f 6e5f 636f 7265 3263 6f6e 645f 626f  ion_core2cond_bo
-00027450: 745f 6c69 6e65 4564 6974 2e74 6578 7428  t_lineEdit.text(
-00027460: 2929 2c0a 2020 2020 2020 2020 2020 2020  )),.            
-00027470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027480: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027490: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-000274a0: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-000274b0: 5f69 736f 6c61 7469 6f6e 5f63 6f72 6532  _isolation_core2
-000274c0: 636f 6e64 5f69 6e6e 6572 5f6c 696e 6545  cond_inner_lineE
-000274d0: 6469 742e 7465 7874 2829 292c 0a20 2020  dit.text()),.   
-000274e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000274f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027500: 2020 2020 2020 2020 2063 6f6d 6d61 5f73           comma_s
-00027510: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00027520: 7428 7365 6c66 2e6d 645f 6973 6f6c 6174  t(self.md_isolat
-00027530: 696f 6e5f 636f 7265 3263 6f6e 645f 6f75  ion_core2cond_ou
-00027540: 7465 725f 6c69 6e65 4564 6974 2e74 6578  ter_lineEdit.tex
-00027550: 7428 2929 290a 2020 2020 2020 2020 2020  t())).          
-00027560: 2020 2320 6368 616e 6765 2033 3a20 7570    # change 3: up
-00027570: 6461 7465 2061 6464 5f77 696e 6469 6e67  date add_winding
-00027580: 5f69 6e73 756c 6174 696f 6e73 0a20 2020  _insulations.   
-00027590: 2020 2020 2020 2020 2069 6e73 756c 6174           insulat
-000275a0: 696f 6e2e 6164 645f 7769 6e64 696e 675f  ion.add_winding_
-000275b0: 696e 7375 6c61 7469 6f6e 7328 5b0a 2020  insulations([.  
-000275c0: 2020 2020 2020 2020 2020 2020 2020 5b63                [c
-000275d0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-000275e0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-000275f0: 6973 6f6c 6174 696f 6e5f 7032 705f 6c69  isolation_p2p_li
-00027600: 6e65 4564 6974 2e74 6578 7428 2929 2c0a  neEdit.text()),.
-00027610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027620: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
-00027630: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-00027640: 645f 6973 6f6c 6174 696f 6e5f 7032 735f  d_isolation_p2s_
-00027650: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00027660: 5d2c 0a20 2020 2020 2020 2020 2020 2020  ],.             
-00027670: 2020 205b 636f 6d6d 615f 7374 725f 746f     [comma_str_to
-00027680: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00027690: 662e 6d64 5f69 736f 6c61 7469 6f6e 5f73  f.md_isolation_s
-000276a0: 3270 5f6c 696e 6545 6469 742e 7465 7874  2p_lineEdit.text
-000276b0: 2829 292c 0a20 2020 2020 2020 2020 2020  ()),.           
-000276c0: 2020 2020 2020 636f 6d6d 615f 7374 725f        comma_str_
-000276d0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-000276e0: 656c 662e 6d64 5f69 736f 6c61 7469 6f6e  elf.md_isolation
-000276f0: 5f73 3273 5f6c 696e 6545 6469 742e 7465  _s2s_lineEdit.te
-00027700: 7874 2829 295d 5d29 0a20 2020 2020 2020  xt())]]).       
-00027710: 2020 2020 2067 656f 2e73 6574 5f69 6e73       geo.set_ins
-00027720: 756c 6174 696f 6e28 696e 7375 6c61 7469  ulation(insulati
-00027730: 6f6e 290a 0a20 2020 2020 2020 2020 2020  on)..           
-00027740: 2023 2035 2e20 6372 6561 7465 2077 696e   # 5. create win
-00027750: 6469 6e67 2077 696e 646f 7720 616e 6420  ding window and 
-00027760: 7669 7274 7561 6c20 7769 6e64 696e 6720  virtual winding 
-00027770: 7769 6e64 6f77 7320 2876 7777 290a 2020  windows (vww).  
-00027780: 2020 2020 2020 2020 2020 7769 6e64 696e            windin
-00027790: 675f 7769 6e64 6f77 203d 2066 6d74 2e57  g_window = fmt.W
-000277a0: 696e 6469 6e67 5769 6e64 6f77 2863 6f72  indingWindow(cor
-000277b0: 652c 2069 6e73 756c 6174 696f 6e29 0a20  e, insulation). 
-000277c0: 2020 2020 2020 2020 2020 206c 6566 742c             left,
-000277d0: 2072 6967 6874 203d 2077 696e 6469 6e67   right = winding
-000277e0: 5f77 696e 646f 772e 7370 6c69 745f 7769  _window.split_wi
-000277f0: 6e64 6f77 2866 6d74 2e57 696e 6469 6e67  ndow(fmt.Winding
-00027800: 5769 6e64 6f77 5370 6c69 742e 486f 7269  WindowSplit.Hori
-00027810: 7a6f 6e74 616c 5370 6c69 7429 0a0a 2020  zontalSplit)..  
-00027820: 2020 2020 2020 2020 2020 2320 362e 2063            # 6. c
-00027830: 7265 6174 6520 636f 6e64 7563 746f 7273  reate conductors
-00027840: 2061 6e64 2073 6574 2070 6172 616d 6574   and set paramet
-00027850: 6572 730a 2020 2020 2020 2020 2020 2020  ers.            
-00027860: 7769 6e64 696e 6731 203d 2066 6d74 2e43  winding1 = fmt.C
-00027870: 6f6e 6475 6374 6f72 2830 2c20 666d 742e  onductor(0, fmt.
-00027880: 436f 6e64 7563 7469 7669 7479 2e43 6f70  Conductivity.Cop
-00027890: 7065 7229 0a20 2020 2020 2020 2020 2020  per).           
-000278a0: 2077 696e 6469 6e67 312e 7365 745f 736f   winding1.set_so
-000278b0: 6c69 645f 726f 756e 645f 636f 6e64 7563  lid_round_conduc
-000278c0: 746f 7228 636f 6d6d 615f 7374 725f 746f  tor(comma_str_to
-000278d0: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-000278e0: 662e 6d64 5f77 696e 6469 6e67 315f 7261  f.md_winding1_ra
-000278f0: 6469 7573 5f6c 696e 6545 6469 742e 7465  dius_lineEdit.te
-00027900: 7874 2829 292c 0a20 2020 2020 2020 2020  xt()),.         
-00027910: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027930: 2020 2020 2020 666d 742e 436f 6e64 7563        fmt.Conduc
-00027940: 746f 7241 7272 616e 6765 6d65 6e74 2e53  torArrangement.S
-00027950: 7175 6172 6529 0a0a 2020 2020 2020 2020  quare)..        
-00027960: 2020 2020 7769 6e64 696e 6732 203d 2066      winding2 = f
-00027970: 6d74 2e43 6f6e 6475 6374 6f72 2831 2c20  mt.Conductor(1, 
-00027980: 666d 742e 436f 6e64 7563 7469 7669 7479  fmt.Conductivity
-00027990: 2e43 6f70 7065 7229 0a20 2020 2020 2020  .Copper).       
-000279a0: 2020 2020 2077 696e 6469 6e67 322e 7365       winding2.se
-000279b0: 745f 736f 6c69 645f 726f 756e 645f 636f  t_solid_round_co
-000279c0: 6e64 7563 746f 7228 636f 6d6d 615f 7374  nductor(comma_st
-000279d0: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-000279e0: 2873 656c 662e 6d64 5f77 696e 6469 6e67  (self.md_winding
-000279f0: 325f 7261 6469 7573 5f6c 696e 6545 6469  2_radius_lineEdi
-00027a00: 742e 7465 7874 2829 292c 0a20 2020 2020  t.text()),.     
-00027a10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027a20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027a30: 2020 2020 2020 2020 2020 666d 742e 436f            fmt.Co
-00027a40: 6e64 7563 746f 7241 7272 616e 6765 6d65  nductorArrangeme
-00027a50: 6e74 2e53 7175 6172 6529 0a0a 2020 2020  nt.Square)..    
-00027a60: 2020 2020 2020 2020 2320 372e 2061 6464          # 7. add
-00027a70: 2063 6f6e 6475 6374 6f72 2074 6f20 7677   conductor to vw
-00027a80: 7720 616e 6420 6164 6420 7769 6e64 696e  w and add windin
-00027a90: 6720 7769 6e64 6f77 2074 6f20 4d61 676e  g window to Magn
-00027aa0: 6574 6963 436f 6d70 6f6e 656e 740a 2020  eticComponent.  
-00027ab0: 2020 2020 2020 2020 2020 6c65 6674 2e73            left.s
-00027ac0: 6574 5f77 696e 6469 6e67 2877 696e 6469  et_winding(windi
-00027ad0: 6e67 312c 2069 6e74 2873 656c 662e 6d64  ng1, int(self.md
-00027ae0: 5f77 696e 6469 6e67 315f 7475 726e 735f  _winding1_turns_
-00027af0: 6c69 6e65 4564 6974 2e74 6578 7428 2929  lineEdit.text())
-00027b00: 2c20 4e6f 6e65 2c20 666d 742e 416c 6967  , None, fmt.Alig
-00027b10: 6e2e 546f 4564 6765 732c 0a20 2020 2020  n.ToEdges,.     
-00027b20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027b30: 2020 2020 2020 2020 666d 742e 436f 6e64          fmt.Cond
-00027b40: 7563 746f 7244 6973 7472 6962 7574 696f  uctorDistributio
-00027b50: 6e2e 5665 7274 6963 616c 5570 7761 7264  n.VerticalUpward
-00027b60: 5f48 6f72 697a 6f6e 7461 6c52 6967 6874  _HorizontalRight
-00027b70: 7761 7264 2c20 7a69 677a 6167 3d46 616c  ward, zigzag=Fal
-00027b80: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
-00027b90: 7269 6768 742e 7365 745f 7769 6e64 696e  right.set_windin
-00027ba0: 6728 7769 6e64 696e 6732 2c20 696e 7428  g(winding2, int(
-00027bb0: 7365 6c66 2e6d 645f 7769 6e64 696e 6732  self.md_winding2
-00027bc0: 5f74 7572 6e73 5f6c 696e 6545 6469 742e  _turns_lineEdit.
-00027bd0: 7465 7874 2829 292c 204e 6f6e 652c 2066  text()), None, f
-00027be0: 6d74 2e41 6c69 676e 2e54 6f45 6467 6573  mt.Align.ToEdges
-00027bf0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-00027c00: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00027c10: 666d 742e 436f 6e64 7563 746f 7244 6973  fmt.ConductorDis
-00027c20: 7472 6962 7574 696f 6e2e 5665 7274 6963  tribution.Vertic
-00027c30: 616c 5570 7761 7264 5f48 6f72 697a 6f6e  alUpward_Horizon
-00027c40: 7461 6c52 6967 6874 7761 7264 2c20 7a69  talRightward, zi
-00027c50: 677a 6167 3d46 616c 7365 290a 2020 2020  gzag=False).    
-00027c60: 2020 2020 2020 2020 2320 4368 616e 6765          # Change
-00027c70: 2034 203a 2065 6469 7469 6e67 2073 6574   4 : editing set
-00027c80: 5f77 696e 6469 6e67 0a20 2020 2020 2020  _winding.       
-00027c90: 2020 2020 2067 656f 2e73 6574 5f77 696e       geo.set_win
-00027ca0: 6469 6e67 5f77 696e 646f 7773 285b 7769  ding_windows([wi
-00027cb0: 6e64 696e 675f 7769 6e64 6f77 5d29 0a0a  nding_window])..
-00027cc0: 2020 2020 2020 2020 656c 6966 2073 656c          elif sel
-00027cd0: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-00027ce0: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-00027cf0: 7272 656e 7454 6578 7428 2920 3d3d 2027  rrentText() == '
-00027d00: 696e 7465 6772 6174 6564 2074 7261 6e73  integrated trans
-00027d10: 666f 726d 6572 273a 0a20 2020 2020 2020  former':.       
-00027d20: 2020 2020 2070 6173 730a 0a20 2020 2020       pass..     
-00027d30: 2020 2072 6574 7572 6e20 6765 6f0a 0a20     return geo.. 
-00027d40: 2020 2064 6566 206d 645f 6163 7469 6f6e     def md_action
-00027d50: 5f72 756e 5f73 696d 756c 6174 696f 6e28  _run_simulation(
-00027d60: 7365 6c66 2920 2d3e 204e 6f6e 653a 0a20  self) -> None:. 
-00027d70: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
-00027d80: 2020 2052 6561 6420 616c 6c20 696e 7075     Read all inpu
-00027d90: 7420 7061 7261 6d65 7465 7273 2066 726f  t parameters fro
-00027da0: 6d20 7468 6520 6669 656c 6473 2e20 5275  m the fields. Ru
-00027db0: 6e20 7468 6520 7369 6d75 6c61 7469 6f6e  n the simulation
-00027dc0: 2069 6e20 6465 7065 6e64 656e 6365 206f   in dependence o
-00027dd0: 6620 696e 7075 7420 6669 656c 6473 2e0a  f input fields..
-00027de0: 0a20 2020 2020 2020 203a 7265 7475 726e  .        :return
-00027df0: 3a20 4e6f 6e65 0a20 2020 2020 2020 203a  : None.        :
-00027e00: 7274 7970 653a 204e 6f6e 650a 2020 2020  rtype: None.    
-00027e10: 2020 2020 2222 220a 2020 2020 2020 2020      """.        
-00027e20: 6765 6f20 3d20 7365 6c66 2e6d 645f 7365  geo = self.md_se
-00027e30: 7475 705f 6765 6f6d 6574 7279 2829 0a20  tup_geometry(). 
-00027e40: 2020 2020 2020 2023 202d 2d2d 2d2d 2d2d         # -------
-00027e50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00027e60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00027e70: 2d2d 2d2d 2d2d 2d2d 0a20 2020 2020 2020  --------.       
-00027e80: 2023 2053 696d 756c 6174 696f 6e0a 2020   # Simulation.  
-00027e90: 2020 2020 2020 2320 2d2d 2d2d 2d2d 2d2d        # --------
-00027ea0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00027eb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00027ec0: 2d2d 2d2d 2d2d 2d0a 2020 2020 2020 2020  -------.        
-00027ed0: 6765 6f2e 6372 6561 7465 5f6d 6f64 656c  geo.create_model
-00027ee0: 2866 7265 713d 636f 6d6d 615f 7374 725f  (freq=comma_str_
-00027ef0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-00027f00: 656c 662e 6d64 5f62 6173 655f 6672 6571  elf.md_base_freq
-00027f10: 7565 6e63 795f 6c69 6e65 4564 6974 2e74  uency_lineEdit.t
-00027f20: 6578 7428 2929 2c20 7072 655f 7669 7375  ext()), pre_visu
-00027f30: 616c 697a 655f 6765 6f6d 6574 7279 3d46  alize_geometry=F
-00027f40: 616c 7365 2c0a 2020 2020 2020 2020 2020  alse,.          
-00027f50: 2020 2020 2020 2020 2020 2020 2020 2073                 s
-00027f60: 6176 655f 706e 673d 4661 6c73 6529 0a20  ave_png=False). 
-00027f70: 2020 2020 2020 2023 2067 656f 2e63 7265         # geo.cre
-00027f80: 6174 655f 6d6f 6465 6c28 6672 6571 3d63  ate_model(freq=c
-00027f90: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00027fa0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00027fb0: 6261 7365 5f66 7265 7175 656e 6379 5f6c  base_frequency_l
-00027fc0: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
-00027fd0: 2076 6973 7561 6c69 7a65 5f62 6566 6f72   visualize_befor
-00027fe0: 653d 4661 6c73 652c 2064 6f5f 6d65 7368  e=False, do_mesh
-00027ff0: 696e 673d 5472 7565 2c20 7361 7665 5f70  ing=True, save_p
-00028000: 6e67 3d46 616c 7365 290a 0a20 2020 2020  ng=False)..     
-00028010: 2020 2077 696e 6469 6e67 315f 6672 6571     winding1_freq
-00028020: 7565 6e63 795f 6c69 7374 2c20 7769 6e64  uency_list, wind
-00028030: 696e 6731 5f61 6d70 6c69 7475 6465 5f6c  ing1_amplitude_l
-00028040: 6973 742c 2077 696e 6469 6e67 315f 7068  ist, winding1_ph
-00028050: 695f 7261 645f 6c69 7374 2c20 7769 6e64  i_rad_list, wind
-00028060: 696e 6732 5f66 7265 7175 656e 6379 5f6c  ing2_frequency_l
-00028070: 6973 742c 2077 696e 6469 6e67 325f 616d  ist, winding2_am
-00028080: 706c 6974 7564 655f 6c69 7374 2c20 5c0a  plitude_list, \.
-00028090: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
-000280a0: 696e 6732 5f70 6869 5f72 6164 5f6c 6973  ing2_phi_rad_lis
-000280b0: 7420 3d20 7365 6c66 2e6d 645f 6765 745f  t = self.md_get_
-000280c0: 6672 6571 7565 6e63 795f 6c69 7374 7328  frequency_lists(
-000280d0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-000280e0: 7769 6e64 696e 6731 5f66 7265 7175 656e  winding1_frequen
-000280f0: 6379 5f6c 6973 7429 0a20 2020 2020 2020  cy_list).       
-00028100: 2070 7269 6e74 2877 696e 6469 6e67 315f   print(winding1_
-00028110: 616d 706c 6974 7564 655f 6c69 7374 290a  amplitude_list).
-00028120: 2020 2020 2020 2020 6966 206c 656e 2877          if len(w
-00028130: 696e 6469 6e67 315f 6672 6571 7565 6e63  inding1_frequenc
-00028140: 795f 6c69 7374 2920 3d3d 2031 3a0a 2020  y_list) == 1:.  
-00028150: 2020 2020 2020 2020 2020 6966 2073 656c            if sel
-00028160: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-00028170: 7479 7065 5f63 6f6d 626f 426f 782e 6375  type_comboBox.cu
-00028180: 7272 656e 7454 6578 7428 2920 3d3d 2073  rrentText() == s
-00028190: 656c 662e 7472 616e 736c 6174 696f 6e5f  elf.translation_
-000281a0: 6469 6374 5b27 696e 6475 6374 6f72 275d  dict['inductor']
-000281b0: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
-000281c0: 2020 6765 6f2e 7369 6e67 6c65 5f73 696d    geo.single_sim
-000281d0: 756c 6174 696f 6e28 6672 6571 3d77 696e  ulation(freq=win
-000281e0: 6469 6e67 315f 6672 6571 7565 6e63 795f  ding1_frequency_
-000281f0: 6c69 7374 5b30 5d2c 0a20 2020 2020 2020  list[0],.       
-00028200: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028210: 2020 2020 2020 2020 2020 2020 2020 2063                 c
-00028220: 7572 7265 6e74 3d5b 7769 6e64 696e 6731  urrent=[winding1
-00028230: 5f61 6d70 6c69 7475 6465 5f6c 6973 745b  _amplitude_list[
-00028240: 305d 5d2c 0a20 2020 2020 2020 2020 2020  0]],.           
-00028250: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028260: 2020 2020 2020 2020 2020 2073 686f 775f             show_
-00028270: 6665 6d5f 7369 6d75 6c61 7469 6f6e 5f72  fem_simulation_r
-00028280: 6573 756c 7473 3d54 7275 6529 0a20 2020  esults=True).   
-00028290: 2020 2020 2020 2020 2065 6c69 6620 7365           elif se
-000282a0: 6c66 2e6d 645f 7369 6d75 6c61 7469 6f6e  lf.md_simulation
-000282b0: 5f74 7970 655f 636f 6d62 6f42 6f78 2e63  _type_comboBox.c
-000282c0: 7572 7265 6e74 5465 7874 2829 203d 3d20  urrentText() == 
-000282d0: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
-000282e0: 5f64 6963 745b 2774 7261 6e73 666f 726d  _dict['transform
-000282f0: 6572 275d 3a0a 2020 2020 2020 2020 2020  er']:.          
-00028300: 2020 2020 2020 6765 6f2e 7369 6e67 6c65        geo.single
-00028310: 5f73 696d 756c 6174 696f 6e28 6672 6571  _simulation(freq
-00028320: 3d77 696e 6469 6e67 315f 6672 6571 7565  =winding1_freque
-00028330: 6e63 795f 6c69 7374 5b30 5d2c 0a20 2020  ncy_list[0],.   
-00028340: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028350: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028360: 2020 2063 7572 7265 6e74 3d5b 7769 6e64     current=[wind
-00028370: 696e 6731 5f61 6d70 6c69 7475 6465 5f6c  ing1_amplitude_l
-00028380: 6973 745b 305d 2c20 7769 6e64 696e 6732  ist[0], winding2
-00028390: 5f61 6d70 6c69 7475 6465 5f6c 6973 745b  _amplitude_list[
-000283a0: 305d 5d2c 0a20 2020 2020 2020 2020 2020  0]],.           
-000283b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-000283c0: 2020 2020 2020 2020 2020 2070 6869 5f64             phi_d
-000283d0: 6567 3d5b 7769 6e64 696e 6731 5f70 6869  eg=[winding1_phi
-000283e0: 5f72 6164 5f6c 6973 745b 305d 2c20 7769  _rad_list[0], wi
-000283f0: 6e64 696e 6732 5f70 6869 5f72 6164 5f6c  nding2_phi_rad_l
-00028400: 6973 745b 305d 5d29 0a0a 2020 2020 2020  ist[0]])..      
-00028410: 2020 656c 7365 3a0a 0a20 2020 2020 2020    else:..       
-00028420: 2020 2020 2069 6620 7365 6c66 2e6d 645f       if self.md_
-00028430: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
-00028440: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00028450: 5465 7874 2829 203d 3d20 7365 6c66 2e74  Text() == self.t
-00028460: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-00028470: 2769 6e64 7563 746f 7227 5d3a 0a20 2020  'inductor']:.   
-00028480: 2020 2020 2020 2020 2020 2020 2061 6d70               amp
-00028490: 6c69 7475 6465 5f6c 6973 7420 3d20 5b5d  litude_list = []
-000284a0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-000284b0: 2070 7269 6e74 2866 227b 7769 6e64 696e   print(f"{windin
-000284c0: 6731 5f61 6d70 6c69 7475 6465 5f6c 6973  g1_amplitude_lis
-000284d0: 7420 3d20 7d22 290a 2020 2020 2020 2020  t = }").        
-000284e0: 2020 2020 2020 2020 666f 7220 616d 706c          for ampl
-000284f0: 6974 7564 655f 7661 6c75 6520 696e 2077  itude_value in w
-00028500: 696e 6469 6e67 315f 616d 706c 6974 7564  inding1_amplitud
-00028510: 655f 6c69 7374 3a0a 2020 2020 2020 2020  e_list:.        
-00028520: 2020 2020 2020 2020 2020 2020 616d 706c              ampl
-00028530: 6974 7564 655f 6c69 7374 2e61 7070 656e  itude_list.appen
-00028540: 6428 5b61 6d70 6c69 7475 6465 5f76 616c  d([amplitude_val
-00028550: 7565 5d29 0a0a 2020 2020 2020 2020 2020  ue])..          
-00028560: 2020 2020 2020 7068 6173 655f 7261 645f        phase_rad_
-00028570: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
-00028580: 2020 2020 2020 2020 2020 666f 7220 7068            for ph
-00028590: 6173 655f 7661 6c75 6520 696e 2077 696e  ase_value in win
-000285a0: 6469 6e67 315f 7068 695f 7261 645f 6c69  ding1_phi_rad_li
-000285b0: 7374 3a0a 2020 2020 2020 2020 2020 2020  st:.            
-000285c0: 2020 2020 2020 2020 7068 6173 655f 7261          phase_ra
-000285d0: 645f 6c69 7374 2e61 7070 656e 6428 5b70  d_list.append([p
-000285e0: 6861 7365 5f76 616c 7565 5d29 0a20 2020  hase_value]).   
-000285f0: 2020 2020 2020 2020 2020 2020 2067 656f               geo
-00028600: 2e65 7863 6974 6174 696f 6e5f 7377 6565  .excitation_swee
-00028610: 7028 6672 6571 7565 6e63 795f 6c69 7374  p(frequency_list
-00028620: 3d77 696e 6469 6e67 315f 6672 6571 7565  =winding1_freque
-00028630: 6e63 795f 6c69 7374 2c20 6375 7272 656e  ncy_list, curren
-00028640: 745f 6c69 7374 5f6c 6973 743d 616d 706c  t_list_list=ampl
-00028650: 6974 7564 655f 6c69 7374 2c0a 2020 2020  itude_list,.    
-00028660: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028670: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028680: 2070 6869 5f64 6567 5f6c 6973 745f 6c69   phi_deg_list_li
-00028690: 7374 3d70 6861 7365 5f72 6164 5f6c 6973  st=phase_rad_lis
-000286a0: 7429 0a0a 2020 2020 2020 2020 2020 2020  t)..            
-000286b0: 656c 6966 2073 656c 662e 6d64 5f73 696d  elif self.md_sim
-000286c0: 756c 6174 696f 6e5f 7479 7065 5f63 6f6d  ulation_type_com
-000286d0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-000286e0: 7428 2920 3d3d 2073 656c 662e 7472 616e  t() == self.tran
-000286f0: 736c 6174 696f 6e5f 6469 6374 5b27 7472  slation_dict['tr
-00028700: 616e 7366 6f72 6d65 7227 5d3a 0a20 2020  ansformer']:.   
-00028710: 2020 2020 2020 2020 2020 2020 2061 6d70               amp
-00028720: 6c69 7475 6465 315f 6c69 7374 203d 205b  litude1_list = [
-00028730: 5d0a 2020 2020 2020 2020 2020 2020 2020  ].              
-00028740: 2020 666f 7220 616d 706c 6974 7564 6531    for amplitude1
-00028750: 5f76 616c 7565 2c20 616d 706c 6974 7564  _value, amplitud
-00028760: 6532 5f76 616c 7565 2069 6e20 7a69 7028  e2_value in zip(
-00028770: 7769 6e64 696e 6731 5f61 6d70 6c69 7475  winding1_amplitu
-00028780: 6465 5f6c 6973 742c 2077 696e 6469 6e67  de_list, winding
-00028790: 325f 616d 706c 6974 7564 655f 6c69 7374  2_amplitude_list
-000287a0: 293a 0a20 2020 2020 2020 2020 2020 2020  ):.             
-000287b0: 2020 2020 2020 2061 6d70 6c69 7475 6465         amplitude
-000287c0: 315f 6c69 7374 2e61 7070 656e 6428 5b61  1_list.append([a
-000287d0: 6d70 6c69 7475 6465 315f 7661 6c75 652c  mplitude1_value,
-000287e0: 2061 6d70 6c69 7475 6465 325f 7661 6c75   amplitude2_valu
-000287f0: 655d 290a 0a20 2020 2020 2020 2020 2020  e])..           
-00028800: 2020 2020 2070 6861 7365 315f 7261 645f       phase1_rad_
-00028810: 6c69 7374 203d 205b 5d0a 2020 2020 2020  list = [].      
-00028820: 2020 2020 2020 2020 2020 666f 7220 7068            for ph
-00028830: 6173 6531 5f76 616c 7565 2c20 7068 6173  ase1_value, phas
-00028840: 6532 5f76 616c 7565 2069 6e20 7a69 7028  e2_value in zip(
-00028850: 7769 6e64 696e 6731 5f70 6869 5f72 6164  winding1_phi_rad
-00028860: 5f6c 6973 742c 2077 696e 6469 6e67 325f  _list, winding2_
-00028870: 7068 695f 7261 645f 6c69 7374 293a 0a20  phi_rad_list):. 
+00027200: 2020 2020 2020 6d75 5f72 656c 3d33 3130        mu_rel=310
+00027210: 302c 2070 6869 5f6d 755f 6465 673d 3132  0, phi_mu_deg=12
+00027220: 2c20 7369 676d 613d 302e 3629 2222 220a  , sigma=0.6)""".
+00027230: 0a20 2020 2020 2020 2020 2020 2023 202d  .            # -
+00027240: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00027250: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00027260: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a20  --------------. 
+00027270: 2020 2020 2020 2020 2020 2023 2041 6972             # Air
+00027280: 2047 6170 730a 2020 2020 2020 2020 2020   Gaps.          
+00027290: 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    # ------------
+000272a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000272b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000272c0: 2d2d 2d0a 0a20 2020 2020 2020 2020 2020  ---..           
+000272d0: 2061 6972 5f67 6170 5f63 6f75 6e74 203d   air_gap_count =
+000272e0: 2069 6e74 2873 656c 662e 6d64 5f61 6972   int(self.md_air
+000272f0: 5f67 6170 5f63 6f75 6e74 5f63 6f6d 626f  _gap_count_combo
+00027300: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+00027310: 2929 0a20 2020 2020 2020 2020 2020 2061  )).            a
+00027320: 6972 5f67 6170 5f68 6569 6768 745f 6172  ir_gap_height_ar
+00027330: 7261 7920 3d20 5b5d 0a20 2020 2020 2020  ray = [].       
+00027340: 2020 2020 2061 6972 5f67 6170 5f70 6f73       air_gap_pos
+00027350: 6974 696f 6e5f 6172 7261 7920 3d20 5b5d  ition_array = []
+00027360: 0a20 2020 2020 2020 2020 2020 2061 6972  .            air
+00027370: 5f67 6170 5f70 6f73 6974 696f 6e5f 7461  _gap_position_ta
+00027380: 675f 6172 7261 7920 3d20 5b5d 0a0a 2020  g_array = []..  
+00027390: 2020 2020 2020 2020 2020 6966 2061 6972            if air
+000273a0: 5f67 6170 5f63 6f75 6e74 203e 3d20 313a  _gap_count >= 1:
+000273b0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+000273c0: 206d 645f 6169 725f 6761 705f 315f 6865   md_air_gap_1_he
+000273d0: 6967 6874 203d 2063 6f6d 6d61 5f73 7472  ight = comma_str
+000273e0: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+000273f0: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
+00027400: 315f 6c65 6e67 7468 5f6c 696e 6545 6469  1_length_lineEdi
+00027410: 742e 7465 7874 2829 290a 2020 2020 2020  t.text()).      
+00027420: 2020 2020 2020 2020 2020 6d64 5f61 6972            md_air
+00027430: 5f67 6170 5f31 5f70 6f73 6974 696f 6e20  _gap_1_position 
+00027440: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+00027450: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+00027460: 6d64 5f61 6972 5f67 6170 5f31 5f70 6f73  md_air_gap_1_pos
+00027470: 6974 696f 6e5f 6c69 6e65 4564 6974 2e74  ition_lineEdit.t
+00027480: 6578 7428 2929 0a0a 2020 2020 2020 2020  ext())..        
+00027490: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
+000274a0: 6865 6967 6874 5f61 7272 6179 2e61 7070  height_array.app
+000274b0: 656e 6428 6d64 5f61 6972 5f67 6170 5f31  end(md_air_gap_1
+000274c0: 5f68 6569 6768 7429 0a20 2020 2020 2020  _height).       
+000274d0: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
+000274e0: 5f70 6f73 6974 696f 6e5f 6172 7261 792e  _position_array.
+000274f0: 6170 7065 6e64 286d 645f 6169 725f 6761  append(md_air_ga
+00027500: 705f 315f 706f 7369 7469 6f6e 290a 2020  p_1_position).  
+00027510: 2020 2020 2020 2020 2020 2020 2020 6169                ai
+00027520: 725f 6761 705f 706f 7369 7469 6f6e 5f74  r_gap_position_t
+00027530: 6167 5f61 7272 6179 2e61 7070 656e 6428  ag_array.append(
+00027540: 3029 0a0a 2020 2020 2020 2020 2020 2020  0)..            
+00027550: 6966 2061 6972 5f67 6170 5f63 6f75 6e74  if air_gap_count
+00027560: 203e 3d20 323a 0a20 2020 2020 2020 2020   >= 2:.         
+00027570: 2020 2020 2020 206d 645f 6169 725f 6761         md_air_ga
+00027580: 705f 325f 6865 6967 6874 203d 2063 6f6d  p_2_height = com
+00027590: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+000275a0: 666c 6f61 7428 7365 6c66 2e6d 645f 6169  float(self.md_ai
+000275b0: 725f 6761 705f 325f 6c65 6e67 7468 5f6c  r_gap_2_length_l
+000275c0: 696e 6545 6469 742e 7465 7874 2829 290a  ineEdit.text()).
+000275d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000275e0: 6d64 5f61 6972 5f67 6170 5f32 5f70 6f73  md_air_gap_2_pos
+000275f0: 6974 696f 6e20 3d20 636f 6d6d 615f 7374  ition = comma_st
+00027600: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+00027610: 2873 656c 662e 6d64 5f61 6972 5f67 6170  (self.md_air_gap
+00027620: 5f32 5f70 6f73 6974 696f 6e5f 6c69 6e65  _2_position_line
+00027630: 4564 6974 2e74 6578 7428 2929 0a0a 2020  Edit.text())..  
+00027640: 2020 2020 2020 2020 2020 2020 2020 6169                ai
+00027650: 725f 6761 705f 6865 6967 6874 5f61 7272  r_gap_height_arr
+00027660: 6179 2e61 7070 656e 6428 6d64 5f61 6972  ay.append(md_air
+00027670: 5f67 6170 5f32 5f68 6569 6768 7429 0a20  _gap_2_height). 
+00027680: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+00027690: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
+000276a0: 6172 7261 792e 6170 7065 6e64 286d 645f  array.append(md_
+000276b0: 6169 725f 6761 705f 325f 706f 7369 7469  air_gap_2_positi
+000276c0: 6f6e 290a 2020 2020 2020 2020 2020 2020  on).            
+000276d0: 2020 2020 6169 725f 6761 705f 706f 7369      air_gap_posi
+000276e0: 7469 6f6e 5f74 6167 5f61 7272 6179 2e61  tion_tag_array.a
+000276f0: 7070 656e 6428 3029 0a0a 2020 2020 2020  ppend(0)..      
+00027700: 2020 2020 2020 6966 2061 6972 5f67 6170        if air_gap
+00027710: 5f63 6f75 6e74 203e 3d20 333a 0a20 2020  _count >= 3:.   
+00027720: 2020 2020 2020 2020 2020 2020 206d 645f               md_
+00027730: 6169 725f 6761 705f 335f 6865 6967 6874  air_gap_3_height
+00027740: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+00027750: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+00027760: 2e6d 645f 6169 725f 6761 705f 335f 6c65  .md_air_gap_3_le
+00027770: 6e67 7468 5f6c 696e 6545 6469 742e 7465  ngth_lineEdit.te
+00027780: 7874 2829 290a 2020 2020 2020 2020 2020  xt()).          
+00027790: 2020 2020 2020 6d64 5f61 6972 5f67 6170        md_air_gap
+000277a0: 5f33 5f70 6f73 6974 696f 6e20 3d20 636f  _3_position = co
+000277b0: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+000277c0: 5f66 6c6f 6174 2873 656c 662e 6d64 5f61  _float(self.md_a
+000277d0: 6972 5f67 6170 5f33 5f70 6f73 6974 696f  ir_gap_3_positio
+000277e0: 6e5f 6c69 6e65 4564 6974 2e74 6578 7428  n_lineEdit.text(
+000277f0: 2929 0a0a 2020 2020 2020 2020 2020 2020  ))..            
+00027800: 2020 2020 6169 725f 6761 705f 6865 6967      air_gap_heig
+00027810: 6874 5f61 7272 6179 2e61 7070 656e 6428  ht_array.append(
+00027820: 6d64 5f61 6972 5f67 6170 5f33 5f68 6569  md_air_gap_3_hei
+00027830: 6768 7429 0a20 2020 2020 2020 2020 2020  ght).           
+00027840: 2020 2020 2061 6972 5f67 6170 5f70 6f73       air_gap_pos
+00027850: 6974 696f 6e5f 6172 7261 792e 6170 7065  ition_array.appe
+00027860: 6e64 286d 645f 6169 725f 6761 705f 335f  nd(md_air_gap_3_
+00027870: 706f 7369 7469 6f6e 290a 2020 2020 2020  position).      
+00027880: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+00027890: 705f 706f 7369 7469 6f6e 5f74 6167 5f61  p_position_tag_a
+000278a0: 7272 6179 2e61 7070 656e 6428 3029 0a0a  rray.append(0)..
+000278b0: 2020 2020 2020 2020 2020 2020 6966 2061              if a
+000278c0: 6972 5f67 6170 5f63 6f75 6e74 203e 3d20  ir_gap_count >= 
+000278d0: 343a 0a20 2020 2020 2020 2020 2020 2020  4:.             
+000278e0: 2020 206d 645f 6169 725f 6761 705f 345f     md_air_gap_4_
+000278f0: 6865 6967 6874 203d 2063 6f6d 6d61 5f73  height = comma_s
+00027900: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+00027910: 7428 7365 6c66 2e6d 645f 6169 725f 6761  t(self.md_air_ga
+00027920: 705f 345f 6c65 6e67 7468 5f6c 696e 6545  p_4_length_lineE
+00027930: 6469 742e 7465 7874 2829 290a 2020 2020  dit.text()).    
+00027940: 2020 2020 2020 2020 2020 2020 6d64 5f61              md_a
+00027950: 6972 5f67 6170 5f34 5f70 6f73 6974 696f  ir_gap_4_positio
+00027960: 6e20 3d20 636f 6d6d 615f 7374 725f 746f  n = comma_str_to
+00027970: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+00027980: 662e 6d64 5f61 6972 5f67 6170 5f34 5f70  f.md_air_gap_4_p
+00027990: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
+000279a0: 2e74 6578 7428 2929 0a0a 2020 2020 2020  .text())..      
+000279b0: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+000279c0: 705f 6865 6967 6874 5f61 7272 6179 2e61  p_height_array.a
+000279d0: 7070 656e 6428 6d64 5f61 6972 5f67 6170  ppend(md_air_gap
+000279e0: 5f34 5f68 6569 6768 7429 0a20 2020 2020  _4_height).     
+000279f0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
+00027a00: 6170 5f70 6f73 6974 696f 6e5f 6172 7261  ap_position_arra
+00027a10: 792e 6170 7065 6e64 286d 645f 6169 725f  y.append(md_air_
+00027a20: 6761 705f 345f 706f 7369 7469 6f6e 290a  gap_4_position).
+00027a30: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027a40: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+00027a50: 5f74 6167 5f61 7272 6179 2e61 7070 656e  _tag_array.appen
+00027a60: 6428 3029 0a0a 2020 2020 2020 2020 2020  d(0)..          
+00027a70: 2020 6966 2061 6972 5f67 6170 5f63 6f75    if air_gap_cou
+00027a80: 6e74 203e 3d20 353a 0a20 2020 2020 2020  nt >= 5:.       
+00027a90: 2020 2020 2020 2020 206d 645f 6169 725f           md_air_
+00027aa0: 6761 705f 355f 6865 6967 6874 203d 2063  gap_5_height = c
+00027ab0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00027ac0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00027ad0: 6169 725f 6761 705f 355f 6c65 6e67 7468  air_gap_5_length
+00027ae0: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00027af0: 290a 2020 2020 2020 2020 2020 2020 2020  ).              
+00027b00: 2020 6d64 5f61 6972 5f67 6170 5f35 5f70    md_air_gap_5_p
+00027b10: 6f73 6974 696f 6e20 3d20 636f 6d6d 615f  osition = comma_
+00027b20: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+00027b30: 6174 2873 656c 662e 6d64 5f61 6972 5f67  at(self.md_air_g
+00027b40: 6170 5f35 5f70 6f73 6974 696f 6e5f 6c69  ap_5_position_li
+00027b50: 6e65 4564 6974 2e74 6578 7428 2929 0a0a  neEdit.text())..
+00027b60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027b70: 6169 725f 6761 705f 6865 6967 6874 5f61  air_gap_height_a
+00027b80: 7272 6179 2e61 7070 656e 6428 6d64 5f61  rray.append(md_a
+00027b90: 6972 5f67 6170 5f35 5f68 6569 6768 7429  ir_gap_5_height)
+00027ba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027bb0: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
+00027bc0: 6e5f 6172 7261 792e 6170 7065 6e64 286d  n_array.append(m
+00027bd0: 645f 6169 725f 6761 705f 355f 706f 7369  d_air_gap_5_posi
+00027be0: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
+00027bf0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
+00027c00: 7369 7469 6f6e 5f74 6167 5f61 7272 6179  sition_tag_array
+00027c10: 2e61 7070 656e 6428 3029 0a0a 2020 2020  .append(0)..    
+00027c20: 2020 2020 2020 2020 6966 2061 6972 5f67          if air_g
+00027c30: 6170 5f63 6f75 6e74 203d 3d20 303a 0a0a  ap_count == 0:..
+00027c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027c50: 6169 725f 6761 7073 203d 2066 6d74 2e41  air_gaps = fmt.A
+00027c60: 6972 4761 7073 2866 6d74 2e41 6972 4761  irGaps(fmt.AirGa
+00027c70: 704d 6574 686f 642e 4365 6e74 6572 2c20  pMethod.Center, 
+00027c80: 636f 7265 290a 2020 2020 2020 2020 2020  core).          
+00027c90: 2020 2020 2020 2320 6169 725f 6761 7073        # air_gaps
+00027ca0: 2e61 6464 5f61 6972 5f67 6170 2866 6d74  .add_air_gap(fmt
+00027cb0: 2e41 6972 4761 704c 6567 506f 7369 7469  .AirGapLegPositi
+00027cc0: 6f6e 2e43 656e 7465 724c 6567 2c20 4e6f  on.CenterLeg, No
+00027cd0: 6e65 2c20 302e 3030 3035 290a 2020 2020  ne, 0.0005).    
+00027ce0: 2020 2020 2020 2020 2020 2020 6765 6f2e              geo.
+00027cf0: 7365 745f 6169 725f 6761 7073 2861 6972  set_air_gaps(air
+00027d00: 5f67 6170 7329 0a20 2020 2020 2020 2020  _gaps).         
+00027d10: 2020 2020 2020 2022 2222 0a20 2020 2020         """.     
+00027d20: 2020 2020 2020 2020 2020 2067 656f 2e61             geo.a
+00027d30: 6972 5f67 6170 732e 7570 6461 7465 286d  ir_gaps.update(m
+00027d40: 6574 686f 643d 2270 6572 6365 6e74 222c  ethod="percent",
+00027d50: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00027d60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027d70: 2020 2020 206e 5f61 6972 5f67 6170 733d       n_air_gaps=
+00027d80: 302c 0a20 2020 2020 2020 2020 2020 2020  0,.             
+00027d90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027da0: 2020 2020 2020 2061 6972 5f67 6170 5f68         air_gap_h
+00027db0: 3d5b 5d2c 0a20 2020 2020 2020 2020 2020  =[],.           
+00027dc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027dd0: 2020 2020 2020 2020 2070 6f73 6974 696f           positio
+00027de0: 6e5f 7461 673d 5b5d 2c0a 2020 2020 2020  n_tag=[],.      
+00027df0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027e00: 2020 2020 2020 2020 2020 2020 2020 6169                ai
+00027e10: 725f 6761 705f 706f 7369 7469 6f6e 3d5b  r_gap_position=[
+00027e20: 5d29 2222 220a 0a20 2020 2020 2020 2020  ])"""..         
+00027e30: 2020 2065 6c69 6620 7365 6c66 2e6d 645f     elif self.md_
+00027e40: 6169 725f 6761 705f 706c 6163 656d 656e  air_gap_placemen
+00027e50: 745f 6d65 7468 6f64 5f63 6f6d 626f 426f  t_method_comboBo
+00027e60: 782e 6375 7272 656e 7454 6578 7428 2920  x.currentText() 
+00027e70: 3d3d 2073 656c 662e 7472 616e 736c 6174  == self.translat
+00027e80: 696f 6e5f 6469 6374 5b22 7065 7263 656e  ion_dict["percen
+00027e90: 7422 5d20 616e 6420 6169 725f 6761 705f  t"] and air_gap_
+00027ea0: 636f 756e 7420 3e3d 2031 3a0a 0a20 2020  count >= 1:..   
+00027eb0: 2020 2020 2020 2020 2020 2020 2061 6972               air
+00027ec0: 5f67 6170 7320 3d20 666d 742e 4169 7247  _gaps = fmt.AirG
+00027ed0: 6170 7328 666d 742e 4169 7247 6170 4d65  aps(fmt.AirGapMe
+00027ee0: 7468 6f64 2e50 6572 6365 6e74 2c20 636f  thod.Percent, co
+00027ef0: 7265 290a 2020 2020 2020 2020 2020 2020  re).            
+00027f00: 2020 2020 666f 7220 6920 696e 2072 616e      for i in ran
+00027f10: 6765 2831 2c20 6169 725f 6761 705f 636f  ge(1, air_gap_co
+00027f20: 756e 7420 2b20 3129 3a0a 2020 2020 2020  unt + 1):.      
+00027f30: 2020 2020 2020 2020 2020 2020 2020 2320                # 
+00027f40: 6368 616e 6765 2032 0a20 2020 2020 2020  change 2.       
+00027f50: 2020 2020 2020 2020 2020 2020 2061 6972               air
+00027f60: 5f67 6170 732e 6164 645f 6169 725f 6761  _gaps.add_air_ga
+00027f70: 7028 666d 742e 4169 7247 6170 4c65 6750  p(fmt.AirGapLegP
+00027f80: 6f73 6974 696f 6e2e 4365 6e74 6572 4c65  osition.CenterLe
+00027f90: 672c 2061 6972 5f67 6170 5f68 6569 6768  g, air_gap_heigh
+00027fa0: 745f 6172 7261 795b 6920 2d20 315d 2c0a  t_array[i - 1],.
+00027fb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027fc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00027fd0: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
+00027fe0: 5f70 6f73 6974 696f 6e5f 6172 7261 795b  _position_array[
+00027ff0: 6920 2d20 315d 290a 2020 2020 2020 2020  i - 1]).        
+00028000: 2020 2020 2020 2020 2222 220a 2020 2020          """.    
+00028010: 2020 2020 2020 2020 2020 2020 6169 725f              air_
+00028020: 6761 7073 203d 2066 6d74 2e41 6972 4761  gaps = fmt.AirGa
+00028030: 7073 2866 6d74 2e41 6972 4761 704d 6574  ps(fmt.AirGapMet
+00028040: 686f 642e 5065 7263 656e 742c 2063 6f72  hod.Percent, cor
+00028050: 6529 0a20 2020 2020 2020 2020 2020 2020  e).             
+00028060: 2020 2061 6972 5f67 6170 732e 6164 645f     air_gaps.add_
+00028070: 6169 725f 6761 7028 666d 742e 4169 7247  air_gap(fmt.AirG
+00028080: 6170 4c65 6750 6f73 6974 696f 6e2e 4365  apLegPosition.Ce
+00028090: 6e74 6572 4c65 672c 206d 645f 6169 725f  nterLeg, md_air_
+000280a0: 6761 705f 315f 706f 7369 7469 6f6e 2c20  gap_1_position, 
+000280b0: 6d64 5f61 6972 5f67 6170 5f31 5f68 6569  md_air_gap_1_hei
+000280c0: 6768 7429 2222 220a 2020 2020 2020 2020  ght)""".        
+000280d0: 2020 2020 2020 2020 6765 6f2e 7365 745f          geo.set_
+000280e0: 6169 725f 6761 7073 2861 6972 5f67 6170  air_gaps(air_gap
+000280f0: 7329 0a20 2020 2020 2020 2020 2020 2020  s).             
+00028100: 2020 2022 2222 0a20 2020 2020 2020 2020     """.         
+00028110: 2020 2020 2020 2067 656f 2e61 6972 5f67         geo.air_g
+00028120: 6170 732e 7570 6461 7465 286d 6574 686f  aps.update(metho
+00028130: 643d 2270 6572 6365 6e74 222c 0a20 2020  d="percent",.   
+00028140: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028150: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028160: 206e 5f61 6972 5f67 6170 733d 6169 725f   n_air_gaps=air_
+00028170: 6761 705f 636f 756e 742c 0a20 2020 2020  gap_count,.     
+00028180: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028190: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+000281a0: 6972 5f67 6170 5f68 3d61 6972 5f67 6170  ir_gap_h=air_gap
+000281b0: 5f68 6569 6768 745f 6172 7261 792c 0a20  _height_array,. 
+000281c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000281d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000281e0: 2020 2070 6f73 6974 696f 6e5f 7461 673d     position_tag=
+000281f0: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+00028200: 5f74 6167 5f61 7272 6179 2c0a 2020 2020  _tag_array,.    
+00028210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028230: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+00028240: 3d61 6972 5f67 6170 5f70 6f73 6974 696f  =air_gap_positio
+00028250: 6e5f 6172 7261 7929 2222 220a 0a20 2020  n_array)"""..   
+00028260: 2020 2020 2020 2020 2065 6c69 6620 7365           elif se
+00028270: 6c66 2e6d 645f 6169 725f 6761 705f 706c  lf.md_air_gap_pl
+00028280: 6163 656d 656e 745f 6d65 7468 6f64 5f63  acement_method_c
+00028290: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
+000282a0: 6578 7428 2920 3d3d 2073 656c 662e 7472  ext() == self.tr
+000282b0: 616e 736c 6174 696f 6e5f 6469 6374 5b22  anslation_dict["
+000282c0: 6d61 6e75 616c 6c79 225d 2061 6e64 2061  manually"] and a
+000282d0: 6972 5f67 6170 5f63 6f75 6e74 203e 3d20  ir_gap_count >= 
+000282e0: 313a 0a0a 2020 2020 2020 2020 2020 2020  1:..            
+000282f0: 2020 2020 6169 725f 6761 7073 203d 2066      air_gaps = f
+00028300: 6d74 2e41 6972 4761 7073 2866 6d74 2e41  mt.AirGaps(fmt.A
+00028310: 6972 4761 704d 6574 686f 642e 4d61 6e75  irGapMethod.Manu
+00028320: 616c 6c79 2c20 636f 7265 290a 2020 2020  ally, core).    
+00028330: 2020 2020 2020 2020 2020 2020 666f 7220              for 
+00028340: 6920 696e 2072 616e 6765 2831 2c20 6169  i in range(1, ai
+00028350: 725f 6761 705f 636f 756e 7420 2b20 3129  r_gap_count + 1)
+00028360: 3a0a 2020 2020 2020 2020 2020 2020 2020  :.              
+00028370: 2020 2020 2020 2320 6368 616e 6765 2032        # change 2
+00028380: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028390: 2020 2020 2061 6972 5f67 6170 732e 6164       air_gaps.ad
+000283a0: 645f 6169 725f 6761 7028 666d 742e 4169  d_air_gap(fmt.Ai
+000283b0: 7247 6170 4c65 6750 6f73 6974 696f 6e2e  rGapLegPosition.
+000283c0: 4365 6e74 6572 4c65 672c 2061 6972 5f67  CenterLeg, air_g
+000283d0: 6170 5f68 6569 6768 745f 6172 7261 795b  ap_height_array[
+000283e0: 6920 2d20 315d 2c0a 2020 2020 2020 2020  i - 1],.        
+000283f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028400: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028410: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
+00028420: 6e5f 6172 7261 795b 6920 2d20 315d 290a  n_array[i - 1]).
+00028430: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028440: 2222 220a 2020 2020 2020 2020 2020 2020  """.            
+00028450: 2020 2020 6169 725f 6761 7073 203d 2066      air_gaps = f
+00028460: 6d74 2e41 6972 4761 7073 2866 6d74 2e41  mt.AirGaps(fmt.A
+00028470: 6972 4761 704d 6574 686f 642e 4d61 6e75  irGapMethod.Manu
+00028480: 616c 6c79 2c20 636f 7265 290a 2020 2020  ally, core).    
+00028490: 2020 2020 2020 2020 2020 2020 6169 725f              air_
+000284a0: 6761 7073 2e61 6464 5f61 6972 5f67 6170  gaps.add_air_gap
+000284b0: 2866 6d74 2e41 6972 4761 704c 6567 506f  (fmt.AirGapLegPo
+000284c0: 7369 7469 6f6e 2e43 656e 7465 724c 6567  sition.CenterLeg
+000284d0: 2c20 6d64 5f61 6972 5f67 6170 5f31 5f70  , md_air_gap_1_p
+000284e0: 6f73 6974 696f 6e2c 206d 645f 6169 725f  osition, md_air_
+000284f0: 6761 705f 315f 6865 6967 6874 2922 2222  gap_1_height)"""
+00028500: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00028510: 2067 656f 2e73 6574 5f61 6972 5f67 6170   geo.set_air_gap
+00028520: 7328 6169 725f 6761 7073 290a 2020 2020  s(air_gaps).    
+00028530: 2020 2020 2020 2020 2020 2020 2222 220a              """.
+00028540: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028550: 6765 6f2e 6169 725f 6761 7073 2e75 7064  geo.air_gaps.upd
+00028560: 6174 6528 6d65 7468 6f64 3d22 6d61 6e75  ate(method="manu
+00028570: 616c 6c79 222c 0a20 2020 2020 2020 2020  ally",.         
+00028580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028590: 2020 2020 2020 2020 2020 206e 5f61 6972             n_air
+000285a0: 5f67 6170 733d 6169 725f 6761 705f 636f  _gaps=air_gap_co
+000285b0: 756e 742c 0a20 2020 2020 2020 2020 2020  unt,.           
+000285c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000285d0: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
+000285e0: 5f68 3d61 6972 5f67 6170 5f68 6569 6768  _h=air_gap_heigh
+000285f0: 745f 6172 7261 792c 0a20 2020 2020 2020  t_array,.       
+00028600: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028610: 2020 2020 2020 2020 2020 2020 2070 6f73               pos
+00028620: 6974 696f 6e5f 7461 673d 6169 725f 6761  ition_tag=air_ga
+00028630: 705f 706f 7369 7469 6f6e 5f74 6167 5f61  p_position_tag_a
+00028640: 7272 6179 2c0a 2020 2020 2020 2020 2020  rray,.          
+00028650: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028660: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+00028670: 705f 706f 7369 7469 6f6e 3d61 6972 5f67  p_position=air_g
+00028680: 6170 5f70 6f73 6974 696f 6e5f 6172 7261  ap_position_arra
+00028690: 7929 2222 220a 0a20 2020 2020 2020 2020  y)"""..         
+000286a0: 2020 2023 2034 2e20 7365 7420 696e 7375     # 4. set insu
+000286b0: 6c61 7469 6f6e 0a20 2020 2020 2020 2020  lation.         
+000286c0: 2020 2069 6e73 756c 6174 696f 6e20 3d20     insulation = 
+000286d0: 666d 742e 496e 7375 6c61 7469 6f6e 2866  fmt.Insulation(f
+000286e0: 6c61 675f 696e 7375 6c61 7469 6f6e 3d73  lag_insulation=s
+000286f0: 656c 662e 666c 6167 5f69 6e73 756c 6174  elf.flag_insulat
+00028700: 696f 6e29 0a20 2020 2020 2020 2020 2020  ion).           
+00028710: 2069 6e73 756c 6174 696f 6e2e 6164 645f   insulation.add_
+00028720: 636f 7265 5f69 6e73 756c 6174 696f 6e73  core_insulations
+00028730: 2863 6f6d 6d61 5f73 7472 5f74 6f5f 706f  (comma_str_to_po
+00028740: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00028750: 645f 6973 6f6c 6174 696f 6e5f 636f 7265  d_isolation_core
+00028760: 3263 6f6e 645f 746f 705f 6c69 6e65 4564  2cond_top_lineEd
+00028770: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+00028780: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028790: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000287a0: 2020 2020 2020 2020 636f 6d6d 615f 7374          comma_st
+000287b0: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+000287c0: 2873 656c 662e 6d64 5f69 736f 6c61 7469  (self.md_isolati
+000287d0: 6f6e 5f63 6f72 6532 636f 6e64 5f62 6f74  on_core2cond_bot
+000287e0: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+000287f0: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00028800: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028810: 2020 2020 2020 2020 2020 2020 2020 2063                 c
+00028820: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+00028830: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+00028840: 6973 6f6c 6174 696f 6e5f 636f 7265 3263  isolation_core2c
+00028850: 6f6e 645f 696e 6e65 725f 6c69 6e65 4564  ond_inner_lineEd
+00028860: 6974 2e74 6578 7428 2929 2c0a 2020 2020  it.text()),.    
+00028870: 2020 2020 2020 2020 2020 2020 2020 2020                  
 00028880: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028890: 2020 2070 6861 7365 315f 7261 645f 6c69     phase1_rad_li
-000288a0: 7374 2e61 7070 656e 6428 5b70 6861 7365  st.append([phase
-000288b0: 315f 7661 6c75 652c 2070 6861 7365 325f  1_value, phase2_
-000288c0: 7661 6c75 655d 290a 0a20 2020 2020 2020  value])..       
-000288d0: 2020 2020 2020 2020 2067 656f 2e65 7863           geo.exc
-000288e0: 6974 6174 696f 6e5f 7377 6565 7028 6672  itation_sweep(fr
-000288f0: 6571 7565 6e63 795f 6c69 7374 3d77 696e  equency_list=win
-00028900: 6469 6e67 315f 6672 6571 7565 6e63 795f  ding1_frequency_
-00028910: 6c69 7374 2c0a 2020 2020 2020 2020 2020  list,.          
-00028920: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028930: 2020 2020 2020 2020 2020 2063 7572 7265             curre
-00028940: 6e74 5f6c 6973 745f 6c69 7374 3d61 6d70  nt_list_list=amp
-00028950: 6c69 7475 6465 315f 6c69 7374 2c0a 2020  litude1_list,.  
-00028960: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028970: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028980: 2020 2070 6869 5f64 6567 5f6c 6973 745f     phi_deg_list_
-00028990: 6c69 7374 3d70 6861 7365 315f 7261 645f  list=phase1_rad_
-000289a0: 6c69 7374 290a 0a20 2020 2020 2020 2020  list)..         
-000289b0: 2020 2023 2067 656f 2e65 7863 6974 6174     # geo.excitat
-000289c0: 696f 6e5f 7377 6565 7028 7769 6e64 696e  ion_sweep(windin
-000289d0: 6731 5f66 7265 7175 656e 6379 5f6c 6973  g1_frequency_lis
-000289e0: 742c 2061 6d70 6c69 7475 6465 5f6c 6973  t, amplitude_lis
-000289f0: 742c 2070 6861 7365 5f72 6164 5f6c 6973  t, phase_rad_lis
-00028a00: 7429 0a0a 2020 2020 2020 2020 2320 2d2d  t)..        # --
-00028a10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028a20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028a30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2020  -------------.  
-00028a40: 2020 2020 2020 2320 5265 6164 2062 6163        # Read bac
-00028a50: 6b20 7265 7375 6c74 730a 2020 2020 2020  k results.      
-00028a60: 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    # ------------
-00028a70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028a80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00028a90: 2d2d 2d0a 0a20 2020 2020 2020 2073 656c  ---..        sel
-00028aa0: 662e 6d64 5f73 696d 756c 6174 696f 6e5f  f.md_simulation_
-00028ab0: 514c 6162 656c 2e73 6574 5465 7874 2827  QLabel.setText('
-00028ac0: 7369 6d75 6c61 7469 6f6e 2066 6572 7469  simulation ferti
-00028ad0: 672e 2729 0a0a 2020 2020 2020 2020 2320  g.')..        # 
-00028ae0: 6c6f 6164 6564 5f72 6573 756c 7473 5f64  loaded_results_d
-00028af0: 6963 7420 3d20 666d 742e 7669 7375 616c  ict = fmt.visual
-00028b00: 697a 655f 7369 6d75 6c61 7469 6f6e 5f72  ize_simulation_r
-00028b10: 6573 756c 7473 2867 656f 2e66 696c 655f  esults(geo.file_
-00028b20: 6461 7461 2e66 656d 6d5f 7265 7375 6c74  data.femm_result
-00028b30: 735f 6c6f 675f 7061 7468 2c20 272e 2f72  s_log_path, './r
-00028b40: 6573 756c 7473 2e70 6e67 272c 2073 686f  esults.png', sho
-00028b50: 775f 706c 6f74 3d46 616c 7365 290a 2020  w_plot=False).  
-00028b60: 2020 2020 2020 6c6f 6164 6564 5f72 6573        loaded_res
-00028b70: 756c 7473 5f64 6963 7420 3d20 666d 742e  ults_dict = fmt.
-00028b80: 7669 7375 616c 697a 655f 7369 6d75 6c61  visualize_simula
-00028b90: 7469 6f6e 5f72 6573 756c 7473 2867 656f  tion_results(geo
-00028ba0: 2e66 696c 655f 6461 7461 2e65 5f6d 5f72  .file_data.e_m_r
-00028bb0: 6573 756c 7473 5f6c 6f67 5f70 6174 682c  esults_log_path,
-00028bc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-00028bd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028be0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028bf0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-00028c00: 6765 6f2e 6669 6c65 5f64 6174 612e 7265  geo.file_data.re
-00028c10: 7375 6c74 735f 656d 5f73 696d 756c 6174  sults_em_simulat
-00028c20: 696f 6e2c 2073 686f 775f 706c 6f74 3d46  ion, show_plot=F
-00028c30: 616c 7365 290a 2020 2020 2020 2020 2320  alse).        # 
-00028c40: 7069 786d 6170 203d 2051 5069 786d 6170  pixmap = QPixmap
-00028c50: 2822 2e2f 7265 7375 6c74 732e 706e 6722  ("./results.png"
-00028c60: 290a 2020 2020 2020 2020 7069 786d 6170  ).        pixmap
-00028c70: 203d 2051 5069 786d 6170 2867 656f 2e66   = QPixmap(geo.f
-00028c80: 696c 655f 6461 7461 2e72 6573 756c 7473  ile_data.results
-00028c90: 5f65 6d5f 7369 6d75 6c61 7469 6f6e 290a  _em_simulation).
-00028ca0: 2020 2020 2020 2020 7365 6c66 2e6d 645f          self.md_
-00028cb0: 6c6f 7373 5f70 6c6f 745f 6c61 6265 6c2e  loss_plot_label.
-00028cc0: 7365 7450 6978 6d61 7028 7069 786d 6170  setPixmap(pixmap
-00028cd0: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
-00028ce0: 645f 6c6f 7373 5f70 6c6f 745f 6c61 6265  d_loss_plot_labe
-00028cf0: 6c2e 7365 744d 6173 6b28 7069 786d 6170  l.setMask(pixmap
-00028d00: 2e6d 6173 6b28 2929 0a20 2020 2020 2020  .mask()).       
-00028d10: 2073 656c 662e 6d64 5f6c 6f73 735f 706c   self.md_loss_pl
-00028d20: 6f74 5f6c 6162 656c 2e73 686f 7728 290a  ot_label.show().
-00028d30: 0a20 2020 2020 2020 2069 6e64 7563 7461  .        inducta
-00028d40: 6e63 6520 3d20 6c6f 6164 6564 5f72 6573  nce = loaded_res
-00028d50: 756c 7473 5f64 6963 745b 2273 696e 676c  ults_dict["singl
-00028d60: 655f 7377 6565 7073 225d 5b30 5d5b 2277  e_sweeps"][0]["w
-00028d70: 696e 6469 6e67 3122 5d5b 2273 656c 665f  inding1"]["self_
-00028d80: 696e 6475 6374 616e 6365 225d 5b30 5d0a  inductance"][0].
-00028d90: 2020 2020 2020 2020 6c6f 7373 5f63 6f72          loss_cor
-00028da0: 655f 6564 6479 5f63 7572 7265 6e74 203d  e_eddy_current =
-00028db0: 206c 6f61 6465 645f 7265 7375 6c74 735f   loaded_results_
-00028dc0: 6469 6374 5b22 746f 7461 6c5f 6c6f 7373  dict["total_loss
-00028dd0: 6573 225d 5b22 6564 6479 5f63 6f72 6522  es"]["eddy_core"
-00028de0: 5d0a 2020 2020 2020 2020 6c6f 7373 5f63  ].        loss_c
-00028df0: 6f72 655f 6879 7374 6572 6573 6973 203d  ore_hysteresis =
-00028e00: 206c 6f61 6465 645f 7265 7375 6c74 735f   loaded_results_
-00028e10: 6469 6374 5b22 746f 7461 6c5f 6c6f 7373  dict["total_loss
-00028e20: 6573 225d 5b22 6879 7374 5f63 6f72 655f  es"]["hyst_core_
-00028e30: 6675 6e64 616d 656e 7461 6c5f 6672 6571  fundamental_freq
-00028e40: 225d 0a20 2020 2020 2020 206c 6f73 735f  "].        loss_
-00028e50: 7769 6e64 696e 675f 3120 3d20 6c6f 6164  winding_1 = load
-00028e60: 6564 5f72 6573 756c 7473 5f64 6963 745b  ed_results_dict[
-00028e70: 2274 6f74 616c 5f6c 6f73 7365 7322 5d5b  "total_losses"][
-00028e80: 2277 696e 6469 6e67 3122 5d5b 2274 6f74  "winding1"]["tot
-00028e90: 616c 225d 0a0a 2020 2020 2020 2020 7365  al"]..        se
-00028ea0: 6c66 2e6d 645f 6c6f 7373 5f63 6f72 655f  lf.md_loss_core_
-00028eb0: 6879 7374 6572 6573 6973 5f6c 6162 656c  hysteresis_label
-00028ec0: 2e73 6574 5465 7874 2866 2243 6f72 6520  .setText(f"Core 
-00028ed0: 4879 7374 6572 6573 6973 206c 6f73 733a  Hysteresis loss:
-00028ee0: 207b 6c6f 7373 5f63 6f72 655f 6879 7374   {loss_core_hyst
-00028ef0: 6572 6573 6973 7d20 5722 290a 2020 2020  eresis} W").    
-00028f00: 2020 2020 7365 6c66 2e6d 645f 6c6f 7373      self.md_loss
-00028f10: 5f63 6f72 655f 6564 6479 5f63 7572 7265  _core_eddy_curre
-00028f20: 6e74 5f6c 6162 656c 2e73 6574 5465 7874  nt_label.setText
-00028f30: 2866 2243 6f72 6520 4564 6479 2043 7572  (f"Core Eddy Cur
-00028f40: 7265 6e74 206c 6f73 733a 207b 6c6f 7373  rent loss: {loss
-00028f50: 5f63 6f72 655f 6564 6479 5f63 7572 7265  _core_eddy_curre
-00028f60: 6e74 7d20 5722 290a 2020 2020 2020 2020  nt} W").        
-00028f70: 7365 6c66 2e6d 645f 6c6f 7373 5f77 696e  self.md_loss_win
-00028f80: 6469 6e67 315f 6c61 6265 6c2e 7365 7454  ding1_label.setT
-00028f90: 6578 7428 6622 5769 6e64 696e 6720 3120  ext(f"Winding 1 
-00028fa0: 6c6f 7373 3a20 7b6c 6f73 735f 7769 6e64  loss: {loss_wind
-00028fb0: 696e 675f 317d 2057 2229 0a20 2020 2020  ing_1} W").     
-00028fc0: 2020 2073 656c 662e 6d64 5f69 6e64 7563     self.md_induc
-00028fd0: 7461 6e63 655f 6c61 6265 6c2e 7365 7454  tance_label.setT
-00028fe0: 6578 7428 6622 496e 6475 6374 616e 6365  ext(f"Inductance
-00028ff0: 3a20 7b69 6e64 7563 7461 6e63 657d 2048  : {inductance} H
-00029000: 2229 0a0a 2020 2020 2020 2020 2320 6c6f  ")..        # lo
-00029010: 675f 7061 7468 203d 2067 656f 2e65 5f6d  g_path = geo.e_m
-00029020: 5f72 6573 756c 7473 5f6c 6f67 5f70 6174  _results_log_pat
-00029030: 680a 2020 2020 2020 2020 2320 7369 6d75  h.        # simu
-00029040: 6c61 7469 6f6e 5f72 6573 756c 7473 203d  lation_results =
-00029050: 2073 7472 2866 6d74 2e72 6561 645f 7265   str(fmt.read_re
-00029060: 7375 6c74 735f 6c6f 6728 6c6f 675f 7061  sults_log(log_pa
-00029070: 7468 2929 0a20 2020 2020 2020 2023 2070  th)).        # p
-00029080: 7269 6e74 2873 696d 756c 6174 696f 6e5f  rint(simulation_
-00029090: 7265 7375 6c74 7329 0a20 2020 2020 2020  results).       
-000290a0: 2023 2073 656c 662e 6d64 5f73 696d 756c   # self.md_simul
-000290b0: 6174 696f 6e5f 6f75 7470 7574 5f74 6578  ation_output_tex
-000290c0: 7442 726f 7773 6572 2e73 6574 5465 7874  tBrowser.setText
-000290d0: 2873 696d 756c 6174 696f 6e5f 7265 7375  (simulation_resu
-000290e0: 6c74 7329 0a0a 2020 2020 6465 6620 696e  lts)..    def in
-000290f0: 6475 6374 616e 6365 6361 6c63 2873 656c  ductancecalc(sel
-00029100: 6629 3a0a 2020 2020 2020 2020 2222 2243  f):.        """C
-00029110: 616c 6375 6c61 7465 2069 6e64 7563 7461  alculate inducta
-00029120: 6e63 6520 6672 6f6d 2067 6976 656e 2067  nce from given g
-00029130: 656f 6d65 7472 6965 732e 2222 220a 2020  eometries.""".  
-00029140: 2020 2020 2020 6169 725f 6761 705f 636f        air_gap_co
-00029150: 756e 7420 3d20 696e 7428 7365 6c66 2e6d  unt = int(self.m
-00029160: 645f 6169 725f 6761 705f 636f 756e 745f  d_air_gap_count_
-00029170: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00029180: 5465 7874 2829 290a 2020 2020 2020 2020  Text()).        
-00029190: 6169 725f 6761 705f 6865 6967 7468 5f61  air_gap_heigth_a
-000291a0: 7272 6179 203d 205b 5d0a 2020 2020 2020  rray = [].      
-000291b0: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
-000291c0: 6f6e 5f61 7272 6179 203d 205b 5d0a 2020  on_array = [].  
-000291d0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
-000291e0: 7369 7469 6f6e 5f74 6167 5f61 7272 6179  sition_tag_array
-000291f0: 203d 205b 5d0a 0a20 2020 2020 2020 2069   = []..        i
-00029200: 6620 6169 725f 6761 705f 636f 756e 7420  f air_gap_count 
-00029210: 3e3d 2031 3a0a 2020 2020 2020 2020 2020  >= 1:.          
-00029220: 2020 6d64 5f61 6972 5f67 6170 5f31 5f68    md_air_gap_1_h
-00029230: 6569 6768 7420 3d20 636f 6d6d 615f 7374  eight = comma_st
-00029240: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00029250: 2873 656c 662e 6d64 5f61 6972 5f67 6170  (self.md_air_gap
-00029260: 5f31 5f6c 656e 6774 685f 6c69 6e65 4564  _1_length_lineEd
-00029270: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
-00029280: 2020 2020 2020 206d 645f 6169 725f 6761         md_air_ga
-00029290: 705f 315f 706f 7369 7469 6f6e 203d 2063  p_1_position = c
-000292a0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-000292b0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-000292c0: 6169 725f 6761 705f 315f 706f 7369 7469  air_gap_1_positi
-000292d0: 6f6e 5f6c 696e 6545 6469 742e 7465 7874  on_lineEdit.text
-000292e0: 2829 290a 0a20 2020 2020 2020 2020 2020  ())..           
-000292f0: 2061 6972 5f67 6170 5f68 6569 6774 685f   air_gap_heigth_
-00029300: 6172 7261 792e 6170 7065 6e64 286d 645f  array.append(md_
-00029310: 6169 725f 6761 705f 315f 6865 6967 6874  air_gap_1_height
-00029320: 290a 2020 2020 2020 2020 2020 2020 6169  ).            ai
-00029330: 725f 6761 705f 706f 7369 7469 6f6e 5f61  r_gap_position_a
-00029340: 7272 6179 2e61 7070 656e 6428 6d64 5f61  rray.append(md_a
-00029350: 6972 5f67 6170 5f31 5f70 6f73 6974 696f  ir_gap_1_positio
-00029360: 6e29 0a20 2020 2020 2020 2020 2020 2061  n).            a
-00029370: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
-00029380: 7461 675f 6172 7261 792e 6170 7065 6e64  tag_array.append
-00029390: 2830 290a 0a20 2020 2020 2020 2069 6620  (0)..        if 
-000293a0: 6169 725f 6761 705f 636f 756e 7420 3e3d  air_gap_count >=
-000293b0: 2032 3a0a 2020 2020 2020 2020 2020 2020   2:.            
-000293c0: 6d64 5f61 6972 5f67 6170 5f32 5f68 6569  md_air_gap_2_hei
-000293d0: 6768 7420 3d20 636f 6d6d 615f 7374 725f  ght = comma_str_
-000293e0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
-000293f0: 656c 662e 6d64 5f61 6972 5f67 6170 5f32  elf.md_air_gap_2
-00029400: 5f6c 656e 6774 685f 6c69 6e65 4564 6974  _length_lineEdit
-00029410: 2e74 6578 7428 2929 0a20 2020 2020 2020  .text()).       
-00029420: 2020 2020 206d 645f 6169 725f 6761 705f       md_air_gap_
-00029430: 325f 706f 7369 7469 6f6e 203d 2063 6f6d  2_position = com
-00029440: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
-00029450: 666c 6f61 7428 7365 6c66 2e6d 645f 6169  float(self.md_ai
-00029460: 725f 6761 705f 325f 706f 7369 7469 6f6e  r_gap_2_position
-00029470: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-00029480: 290a 0a20 2020 2020 2020 2020 2020 2061  )..            a
-00029490: 6972 5f67 6170 5f68 6569 6774 685f 6172  ir_gap_heigth_ar
-000294a0: 7261 792e 6170 7065 6e64 286d 645f 6169  ray.append(md_ai
-000294b0: 725f 6761 705f 325f 6865 6967 6874 290a  r_gap_2_height).
-000294c0: 2020 2020 2020 2020 2020 2020 6169 725f              air_
-000294d0: 6761 705f 706f 7369 7469 6f6e 5f61 7272  gap_position_arr
-000294e0: 6179 2e61 7070 656e 6428 6d64 5f61 6972  ay.append(md_air
-000294f0: 5f67 6170 5f32 5f70 6f73 6974 696f 6e29  _gap_2_position)
-00029500: 0a20 2020 2020 2020 2020 2020 2061 6972  .            air
-00029510: 5f67 6170 5f70 6f73 6974 696f 6e5f 7461  _gap_position_ta
-00029520: 675f 6172 7261 792e 6170 7065 6e64 2830  g_array.append(0
-00029530: 290a 0a20 2020 2020 2020 2069 6620 6169  )..        if ai
-00029540: 725f 6761 705f 636f 756e 7420 3e3d 2033  r_gap_count >= 3
-00029550: 3a0a 2020 2020 2020 2020 2020 2020 6d64  :.            md
-00029560: 5f61 6972 5f67 6170 5f33 5f68 6569 6768  _air_gap_3_heigh
-00029570: 7420 3d20 636f 6d6d 615f 7374 725f 746f  t = comma_str_to
-00029580: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
-00029590: 662e 6d64 5f61 6972 5f67 6170 5f33 5f6c  f.md_air_gap_3_l
-000295a0: 656e 6774 685f 6c69 6e65 4564 6974 2e74  ength_lineEdit.t
-000295b0: 6578 7428 2929 0a20 2020 2020 2020 2020  ext()).         
-000295c0: 2020 206d 645f 6169 725f 6761 705f 335f     md_air_gap_3_
-000295d0: 706f 7369 7469 6f6e 203d 2063 6f6d 6d61  position = comma
-000295e0: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
-000295f0: 6f61 7428 7365 6c66 2e6d 645f 6169 725f  oat(self.md_air_
-00029600: 6761 705f 335f 706f 7369 7469 6f6e 5f6c  gap_3_position_l
-00029610: 696e 6545 6469 742e 7465 7874 2829 290a  ineEdit.text()).
-00029620: 0a20 2020 2020 2020 2020 2020 2061 6972  .            air
-00029630: 5f67 6170 5f68 6569 6774 685f 6172 7261  _gap_heigth_arra
-00029640: 792e 6170 7065 6e64 286d 645f 6169 725f  y.append(md_air_
-00029650: 6761 705f 335f 6865 6967 6874 290a 2020  gap_3_height).  
-00029660: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
-00029670: 705f 706f 7369 7469 6f6e 5f61 7272 6179  p_position_array
-00029680: 2e61 7070 656e 6428 6d64 5f61 6972 5f67  .append(md_air_g
-00029690: 6170 5f33 5f70 6f73 6974 696f 6e29 0a20  ap_3_position). 
-000296a0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-000296b0: 6170 5f70 6f73 6974 696f 6e5f 7461 675f  ap_position_tag_
-000296c0: 6172 7261 792e 6170 7065 6e64 2830 290a  array.append(0).
-000296d0: 0a20 2020 2020 2020 2069 6620 6169 725f  .        if air_
-000296e0: 6761 705f 636f 756e 7420 3e3d 2034 3a0a  gap_count >= 4:.
-000296f0: 2020 2020 2020 2020 2020 2020 6d64 5f61              md_a
-00029700: 6972 5f67 6170 5f34 5f68 6569 6768 7420  ir_gap_4_height 
-00029710: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
-00029720: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
-00029730: 6d64 5f61 6972 5f67 6170 5f34 5f6c 656e  md_air_gap_4_len
-00029740: 6774 685f 6c69 6e65 4564 6974 2e74 6578  gth_lineEdit.tex
-00029750: 7428 2929 0a20 2020 2020 2020 2020 2020  t()).           
-00029760: 206d 645f 6169 725f 6761 705f 345f 706f   md_air_gap_4_po
-00029770: 7369 7469 6f6e 203d 2063 6f6d 6d61 5f73  sition = comma_s
-00029780: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
-00029790: 7428 7365 6c66 2e6d 645f 6169 725f 6761  t(self.md_air_ga
-000297a0: 705f 345f 706f 7369 7469 6f6e 5f6c 696e  p_4_position_lin
-000297b0: 6545 6469 742e 7465 7874 2829 290a 0a20  eEdit.text()).. 
-000297c0: 2020 2020 2020 2020 2020 2061 6972 5f67             air_g
-000297d0: 6170 5f68 6569 6774 685f 6172 7261 792e  ap_heigth_array.
-000297e0: 6170 7065 6e64 286d 645f 6169 725f 6761  append(md_air_ga
-000297f0: 705f 345f 6865 6967 6874 290a 2020 2020  p_4_height).    
-00029800: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
-00029810: 706f 7369 7469 6f6e 5f61 7272 6179 2e61  position_array.a
-00029820: 7070 656e 6428 6d64 5f61 6972 5f67 6170  ppend(md_air_gap
-00029830: 5f34 5f70 6f73 6974 696f 6e29 0a20 2020  _4_position).   
-00029840: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
-00029850: 5f70 6f73 6974 696f 6e5f 7461 675f 6172  _position_tag_ar
-00029860: 7261 792e 6170 7065 6e64 2830 290a 0a20  ray.append(0).. 
-00029870: 2020 2020 2020 2069 6620 6169 725f 6761         if air_ga
-00029880: 705f 636f 756e 7420 3e3d 2035 3a0a 2020  p_count >= 5:.  
-00029890: 2020 2020 2020 2020 2020 6d64 5f61 6972            md_air
-000298a0: 5f67 6170 5f35 5f68 6569 6768 7420 3d20  _gap_5_height = 
-000298b0: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
-000298c0: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
-000298d0: 5f61 6972 5f67 6170 5f35 5f6c 656e 6774  _air_gap_5_lengt
-000298e0: 685f 6c69 6e65 4564 6974 2e74 6578 7428  h_lineEdit.text(
-000298f0: 2929 0a20 2020 2020 2020 2020 2020 206d  )).            m
-00029900: 645f 6169 725f 6761 705f 355f 706f 7369  d_air_gap_5_posi
-00029910: 7469 6f6e 203d 2063 6f6d 6d61 5f73 7472  tion = comma_str
-00029920: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
-00029930: 7365 6c66 2e6d 645f 6169 725f 6761 705f  self.md_air_gap_
-00029940: 355f 706f 7369 7469 6f6e 5f6c 696e 6545  5_position_lineE
-00029950: 6469 742e 7465 7874 2829 290a 0a20 2020  dit.text())..   
-00029960: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
-00029970: 5f68 6569 6774 685f 6172 7261 792e 6170  _heigth_array.ap
-00029980: 7065 6e64 286d 645f 6169 725f 6761 705f  pend(md_air_gap_
-00029990: 355f 6865 6967 6874 290a 2020 2020 2020  5_height).      
-000299a0: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
-000299b0: 7369 7469 6f6e 5f61 7272 6179 2e61 7070  sition_array.app
-000299c0: 656e 6428 6d64 5f61 6972 5f67 6170 5f35  end(md_air_gap_5
-000299d0: 5f70 6f73 6974 696f 6e29 0a20 2020 2020  _position).     
-000299e0: 2020 2020 2020 2061 6972 5f67 6170 5f70         air_gap_p
-000299f0: 6f73 6974 696f 6e5f 7461 675f 6172 7261  osition_tag_arra
-00029a00: 792e 6170 7065 6e64 2830 290a 0a20 2020  y.append(0)..   
-00029a10: 2020 2020 2073 656c 662e 636f 7265 5f77       self.core_w
-00029a20: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
-00029a30: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
-00029a40: 2e6d 645f 636f 7265 5f77 6964 7468 5f6c  .md_core_width_l
-00029a50: 696e 6545 6469 742e 7465 7874 2829 290a  ineEdit.text()).
-00029a60: 2020 2020 2020 2020 7365 6c66 2e77 696e          self.win
-00029a70: 646f 775f 7720 3d20 636f 6d6d 615f 7374  dow_w = comma_st
-00029a80: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
-00029a90: 2873 656c 662e 6d64 5f77 696e 646f 775f  (self.md_window_
-00029aa0: 7769 6474 685f 6c69 6e65 4564 6974 2e74  width_lineEdit.t
-00029ab0: 6578 7428 2929 0a20 2020 2020 2020 2073  ext()).        s
-00029ac0: 656c 662e 7769 6e64 6f77 5f68 203d 2063  elf.window_h = c
-00029ad0: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
-00029ae0: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
-00029af0: 7769 6e64 6f77 5f68 6569 6768 745f 6c69  window_height_li
-00029b00: 6e65 4564 6974 2e74 6578 7428 2929 0a20  neEdit.text()). 
-00029b10: 2020 2020 2020 206e 5f74 7572 6e73 203d         n_turns =
-00029b20: 2069 6e74 2873 656c 662e 6d64 5f77 696e   int(self.md_win
-00029b30: 6469 6e67 315f 7475 726e 735f 6c69 6e65  ding1_turns_line
-00029b40: 4564 6974 2e74 6578 7428 2929 0a20 2020  Edit.text()).   
-00029b50: 2020 2020 206d 6574 686f 6420 3d20 2873       method = (s
-00029b60: 656c 662e 6d64 5f61 6972 5f67 6170 5f70  elf.md_air_gap_p
-00029b70: 6c61 6365 6d65 6e74 5f6d 6574 686f 645f  lacement_method_
-00029b80: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-00029b90: 5465 7874 2829 290a 2020 2020 2020 2020  Text()).        
-00029ba0: 2320 6d75 7265 6c20 3d20 6461 7461 6261  # murel = databa
-00029bb0: 7365 2e67 6574 5f69 6e69 7469 616c 5f70  se.get_initial_p
-00029bc0: 6572 6d65 6162 696c 6974 7928 7365 6c66  ermeability(self
-00029bd0: 2e6d 645f 636f 7265 5f6d 6174 6572 6961  .md_core_materia
-00029be0: 6c5f 636f 6d62 6f42 6f78 2e63 7572 7265  l_comboBox.curre
-00029bf0: 6e74 5465 7874 2829 290a 2020 2020 2020  ntText()).      
-00029c00: 2020 2320 6d75 7265 6c20 3d20 6461 7461    # murel = data
-00029c10: 6261 7365 2e67 6574 5f69 6e69 7469 616c  base.get_initial
-00029c20: 5f70 6572 6d65 6162 696c 6974 7928 224e  _permeability("N
-00029c30: 3935 2229 0a20 2020 2020 2020 2061 6972  95").        air
-00029c40: 5f67 6170 5f68 203d 2073 656c 662e 6d64  _gap_h = self.md
-00029c50: 5f61 6972 5f67 6170 5f31 5f6c 656e 6774  _air_gap_1_lengt
-00029c60: 685f 6c69 6e65 4564 6974 2e74 6578 7428  h_lineEdit.text(
-00029c70: 290a 2020 2020 2020 2020 6169 725f 6761  ).        air_ga
-00029c80: 705f 706f 7369 7469 6f6e 203d 2073 656c  p_position = sel
-00029c90: 662e 6d64 5f61 6972 5f67 6170 5f31 5f70  f.md_air_gap_1_p
-00029ca0: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
-00029cb0: 2e74 6578 7428 290a 0a20 2020 2020 2020  .text()..       
-00029cc0: 206d 6174 6572 6961 6c5f 6e61 6d65 7320   material_names 
-00029cd0: 3d20 5b5d 0a20 2020 2020 2020 206d 6174  = [].        mat
-00029ce0: 6572 6961 6c5f 6e61 6d65 732e 6170 7065  erial_names.appe
-00029cf0: 6e64 2873 656c 662e 6d64 5f63 6f72 655f  nd(self.md_core_
-00029d00: 6d61 7465 7269 616c 5f63 6f6d 626f 426f  material_comboBo
-00029d10: 782e 6375 7272 656e 7454 6578 7428 2929  x.currentText())
-00029d20: 0a20 2020 2020 2020 206d 755f 7265 6c5f  .        mu_rel_
-00029d30: 7661 6c20 3d20 5b64 6174 6162 6173 652e  val = [database.
-00029d40: 6765 745f 6d61 7465 7269 616c 5f70 726f  get_material_pro
-00029d50: 7065 7274 7928 6d61 7465 7269 616c 5f6e  perty(material_n
-00029d60: 616d 653d 6d61 7465 7269 616c 5f6e 616d  ame=material_nam
-00029d70: 652c 2070 726f 7065 7274 793d 2269 6e69  e, property="ini
-00029d80: 7469 616c 5f70 6572 6d65 6162 696c 6974  tial_permeabilit
-00029d90: 7922 290a 2020 2020 2020 2020 2020 2020  y").            
-00029da0: 2020 2020 2020 2020 2020 666f 7220 6d61            for ma
-00029db0: 7465 7269 616c 5f6e 616d 6520 696e 206d  terial_name in m
-00029dc0: 6174 6572 6961 6c5f 6e61 6d65 735d 0a20  aterial_names]. 
-00029dd0: 2020 2020 2020 206d 755f 7265 6c20 3d20         mu_rel = 
-00029de0: 5b69 6e74 2869 7465 6d29 2066 6f72 2069  [int(item) for i
-00029df0: 7465 6d20 696e 206d 755f 7265 6c5f 7661  tem in mu_rel_va
-00029e00: 6c5d 0a0a 2020 2020 2020 2020 7072 696e  l]..        prin
-00029e10: 7428 6622 636f 7265 5f69 6e6e 6572 5f64  t(f"core_inner_d
-00029e20: 6961 6d65 7465 723a 207b 5b73 656c 662e  iameter: {[self.
-00029e30: 636f 7265 5f77 5d7d 2229 0a20 2020 2020  core_w]}").     
-00029e40: 2020 2070 7269 6e74 2866 2277 696e 646f     print(f"windo
-00029e50: 775f 683a 207b 5b73 656c 662e 7769 6e64  w_h: {[self.wind
-00029e60: 6f77 5f68 5d7d 2229 0a20 2020 2020 2020  ow_h]}").       
-00029e70: 2070 7269 6e74 2866 2277 696e 646f 775f   print(f"window_
-00029e80: 773a 207b 5b73 656c 662e 7769 6e64 6f77  w: {[self.window
-00029e90: 5f77 5d7d 2229 0a20 2020 2020 2020 2070  _w]}").        p
-00029ea0: 7269 6e74 2866 226e 6f5f 6f66 5f74 7572  rint(f"no_of_tur
-00029eb0: 6e73 3a20 7b5b 6e5f 7475 726e 735d 7d22  ns: {[n_turns]}"
-00029ec0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-00029ed0: 6622 6e5f 6169 725f 6761 7073 3a20 7b5b  f"n_air_gaps: {[
-00029ee0: 6169 725f 6761 705f 636f 756e 745d 7d22  air_gap_count]}"
-00029ef0: 290a 2020 2020 2020 2020 7072 696e 7428  ).        print(
-00029f00: 6622 6169 725f 6761 705f 683a 207b 6169  f"air_gap_h: {ai
-00029f10: 725f 6761 705f 6865 6967 7468 5f61 7272  r_gap_heigth_arr
-00029f20: 6179 7d22 290a 2020 2020 2020 2020 7072  ay}").        pr
-00029f30: 696e 7428 6622 6169 725f 6761 705f 706f  int(f"air_gap_po
-00029f40: 7369 7469 6f6e 3a20 7b61 6972 5f67 6170  sition: {air_gap
-00029f50: 5f70 6f73 6974 696f 6e5f 6172 7261 797d  _position_array}
-00029f60: 2229 0a20 2020 2020 2020 2070 7269 6e74  ").        print
-00029f70: 2866 226d 755f 7265 6c3a 207b 6d75 5f72  (f"mu_rel: {mu_r
-00029f80: 656c 7d22 290a 2020 2020 2020 2020 7072  el}").        pr
-00029f90: 696e 7428 6622 636f 6d70 6f6e 656e 745f  int(f"component_
-00029fa0: 7479 7065 3a20 7b73 656c 662e 6d64 5f73  type: {self.md_s
-00029fb0: 696d 756c 6174 696f 6e5f 7479 7065 5f63  imulation_type_c
-00029fc0: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-00029fd0: 6578 7428 297d 2229 0a0a 2020 2020 2020  ext()}")..      
-00029fe0: 2020 2320 6d63 3120 3d20 666d 742e 4d61    # mc1 = fmt.Ma
-00029ff0: 676e 6574 6963 4369 7263 7569 7428 5b73  gneticCircuit([s
-0002a000: 656c 662e 636f 7265 5f77 5d2c 205b 7365  elf.core_w], [se
-0002a010: 6c66 2e77 696e 646f 775f 685d 2c20 5b73  lf.window_h], [s
-0002a020: 656c 662e 7769 6e64 6f77 5f77 5d2c 205b  elf.window_w], [
-0002a030: 6e5f 7475 726e 735d 2c20 5b6e 5f61 6972  n_turns], [n_air
-0002a040: 5f67 6170 735d 2c0a 2020 2020 2020 2020  _gaps],.        
-0002a050: 2320 5b61 6972 5f67 6170 5f68 5d2c 205b  # [air_gap_h], [
-0002a060: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
-0002a070: 5d2c 205b 3330 3030 5d2c 205b 315d 2920  ], [3000], [1]) 
-0002a080: 2333 3030 3020 2d20 7265 6c61 7469 7665  #3000 - relative
-0002a090: 2070 6572 6d65 6162 696c 6974 7920 6f66   permeability of
-0002a0a0: 2073 656c 6563 7465 6420 6d61 7465 7269   selected materi
-0002a0b0: 616c 0a0a 2020 2020 2020 2020 6966 2073  al..        if s
-0002a0c0: 656c 662e 6d64 5f61 6972 5f67 6170 5f70  elf.md_air_gap_p
-0002a0d0: 6c61 6365 6d65 6e74 5f6d 6574 686f 645f  lacement_method_
-0002a0e0: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
-0002a0f0: 5465 7874 2829 203d 3d20 7365 6c66 2e74  Text() == self.t
-0002a100: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
-0002a110: 2770 6572 6365 6e74 275d 3a0a 2020 2020  'percent']:.    
-0002a120: 2020 2020 2020 2020 6d63 3120 3d20 666d          mc1 = fm
-0002a130: 742e 4d61 676e 6574 6963 4369 7263 7569  t.MagneticCircui
-0002a140: 7428 636f 7265 5f69 6e6e 6572 5f64 6961  t(core_inner_dia
-0002a150: 6d65 7465 723d 5b73 656c 662e 636f 7265  meter=[self.core
-0002a160: 5f77 5d2c 2077 696e 646f 775f 683d 5b73  _w], window_h=[s
-0002a170: 656c 662e 7769 6e64 6f77 5f68 5d2c 0a20  elf.window_h],. 
-0002a180: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a190: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a1a0: 2020 2020 2077 696e 646f 775f 773d 5b73       window_w=[s
-0002a1b0: 656c 662e 7769 6e64 6f77 5f77 5d2c 206e  elf.window_w], n
-0002a1c0: 6f5f 6f66 5f74 7572 6e73 3d5b 6e5f 7475  o_of_turns=[n_tu
-0002a1d0: 726e 735d 2c0a 2020 2020 2020 2020 2020  rns],.          
-0002a1e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a1f0: 2020 2020 2020 2020 2020 2020 6e5f 6169              n_ai
-0002a200: 725f 6761 7073 3d5b 6169 725f 6761 705f  r_gaps=[air_gap_
-0002a210: 636f 756e 745d 2c20 6169 725f 6761 705f  count], air_gap_
-0002a220: 683d 6169 725f 6761 705f 6865 6967 7468  h=air_gap_heigth
-0002a230: 5f61 7272 6179 2c0a 2020 2020 2020 2020  _array,.        
-0002a240: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a250: 2020 2020 2020 2020 2020 2020 2020 6169                ai
-0002a260: 725f 6761 705f 706f 7369 7469 6f6e 3d61  r_gap_position=a
-0002a270: 6972 5f67 6170 5f70 6f73 6974 696f 6e5f  ir_gap_position_
-0002a280: 6172 7261 792c 0a20 2020 2020 2020 2020  array,.         
-0002a290: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a2a0: 2020 2020 2020 2020 2020 2020 206d 755f               mu_
-0002a2b0: 725f 6162 733d 6d75 5f72 656c 2c20 6d75  r_abs=mu_rel, mu
-0002a2c0: 6c74 5f61 6972 5f67 6170 5f74 7970 653d  lt_air_gap_type=
-0002a2d0: 5b31 2c20 325d 2c20 6169 725f 6761 705f  [1, 2], air_gap_
-0002a2e0: 6d65 7468 6f64 3d27 5065 7263 656e 7427  method='Percent'
-0002a2f0: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002a300: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a310: 2020 2020 2020 2020 636f 6d70 6f6e 656e          componen
-0002a320: 745f 7479 7065 3d73 656c 662e 6d64 5f73  t_type=self.md_s
-0002a330: 696d 756c 6174 696f 6e5f 7479 7065 5f63  imulation_type_c
-0002a340: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-0002a350: 6578 7428 292c 0a20 2020 2020 2020 2020  ext(),.         
-0002a360: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a370: 2020 2020 2020 2020 2020 2020 2073 696d               sim
-0002a380: 5f74 7970 653d 2773 696e 676c 6527 2920  _type='single') 
-0002a390: 2023 2030 2e30 3134 390a 2020 2020 2020   # 0.0149.      
-0002a3a0: 2020 656c 6966 2073 656c 662e 6d64 5f61    elif self.md_a
-0002a3b0: 6972 5f67 6170 5f70 6c61 6365 6d65 6e74  ir_gap_placement
-0002a3c0: 5f6d 6574 686f 645f 636f 6d62 6f42 6f78  _method_comboBox
-0002a3d0: 2e63 7572 7265 6e74 5465 7874 2829 203d  .currentText() =
-0002a3e0: 3d20 7365 6c66 2e74 7261 6e73 6c61 7469  = self.translati
-0002a3f0: 6f6e 5f64 6963 745b 276d 616e 7561 6c6c  on_dict['manuall
-0002a400: 7927 5d3a 0a20 2020 2020 2020 2020 2020  y']:.           
-0002a410: 206d 6331 203d 2066 6d74 2e4d 6167 6e65   mc1 = fmt.Magne
-0002a420: 7469 6343 6972 6375 6974 2863 6f72 655f  ticCircuit(core_
-0002a430: 696e 6e65 725f 6469 616d 6574 6572 3d5b  inner_diameter=[
-0002a440: 7365 6c66 2e63 6f72 655f 775d 2c20 7769  self.core_w], wi
-0002a450: 6e64 6f77 5f68 3d5b 7365 6c66 2e77 696e  ndow_h=[self.win
-0002a460: 646f 775f 685d 2c0a 2020 2020 2020 2020  dow_h],.        
-0002a470: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a480: 2020 2020 2020 2020 2020 2020 2020 7769                wi
-0002a490: 6e64 6f77 5f77 3d5b 7365 6c66 2e77 696e  ndow_w=[self.win
-0002a4a0: 646f 775f 775d 2c0a 2020 2020 2020 2020  dow_w],.        
-0002a4b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a4c0: 2020 2020 2020 2020 2020 2020 2020 6e6f                no
-0002a4d0: 5f6f 665f 7475 726e 733d 5b6e 5f74 7572  _of_turns=[n_tur
-0002a4e0: 6e73 5d2c 0a20 2020 2020 2020 2020 2020  ns],.           
-0002a4f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a500: 2020 2020 2020 2020 2020 206e 5f61 6972             n_air
-0002a510: 5f67 6170 733d 5b61 6972 5f67 6170 5f63  _gaps=[air_gap_c
-0002a520: 6f75 6e74 5d2c 2061 6972 5f67 6170 5f68  ount], air_gap_h
-0002a530: 3d61 6972 5f67 6170 5f68 6569 6774 685f  =air_gap_heigth_
-0002a540: 6172 7261 792c 0a20 2020 2020 2020 2020  array,.         
-0002a550: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a560: 2020 2020 2020 2020 2020 2020 2061 6972               air
-0002a570: 5f67 6170 5f70 6f73 6974 696f 6e3d 6169  _gap_position=ai
-0002a580: 725f 6761 705f 706f 7369 7469 6f6e 5f61  r_gap_position_a
-0002a590: 7272 6179 2c0a 2020 2020 2020 2020 2020  rray,.          
-0002a5a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a5b0: 2020 2020 2020 2020 2020 2020 6d75 5f72              mu_r
-0002a5c0: 5f61 6273 3d6d 755f 7265 6c2c 206d 756c  _abs=mu_rel, mul
-0002a5d0: 745f 6169 725f 6761 705f 7479 7065 3d5b  t_air_gap_type=[
-0002a5e0: 312c 2032 5d2c 2061 6972 5f67 6170 5f6d  1, 2], air_gap_m
-0002a5f0: 6574 686f 643d 276d 616e 7561 6c6c 7927  ethod='manually'
-0002a600: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
-0002a610: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002a620: 2020 2020 2020 2020 636f 6d70 6f6e 656e          componen
-0002a630: 745f 7479 7065 3d73 656c 662e 6d64 5f73  t_type=self.md_s
-0002a640: 696d 756c 6174 696f 6e5f 7479 7065 5f63  imulation_type_c
-0002a650: 6f6d 626f 426f 782e 6375 7272 656e 7454  omboBox.currentT
-0002a660: 6578 7428 292c 2073 696d 5f74 7970 653d  ext(), sim_type=
-0002a670: 2773 696e 676c 6527 290a 0a20 2020 2020  'single')..     
-0002a680: 2020 206d 6331 2e63 616c 6375 6c61 7465     mc1.calculate
-0002a690: 5f69 6e64 7563 7461 6e63 6528 290a 2020  _inductance().  
-0002a6a0: 2020 2020 2020 696e 6475 6374 616e 6365        inductance
-0002a6b0: 203d 206d 6331 2e64 6174 615f 6d61 7472   = mc1.data_matr
-0002a6c0: 6978 5b3a 2c20 395d 0a0a 2020 2020 2020  ix[:, 9]..      
-0002a6d0: 2020 7365 6c66 2e49 6e64 7563 7461 6e63    self.Inductanc
-0002a6e0: 6576 616c 5f6c 6162 656c 2e73 6574 5465  eval_label.setTe
-0002a6f0: 7874 2866 227b 726f 756e 6428 696e 6475  xt(f"{round(indu
-0002a700: 6374 616e 6365 5b30 5d2c 2031 3029 7d20  ctance[0], 10)} 
-0002a710: 4822 290a 0a20 2020 2064 6566 2074 6865  H")..    def the
-0002a720: 726d 5f73 696d 756c 6174 696f 6e28 7365  rm_simulation(se
-0002a730: 6c66 293a 0a20 2020 2020 2020 2022 2222  lf):.        """
-0002a740: 496d 706c 656d 656e 7420 7468 6520 7468  Implement the th
-0002a750: 6572 6d61 6c20 7369 6d75 6c61 7469 6f6e  ermal simulation
-0002a760: 2e22 2222 0a20 2020 2020 2020 2023 2054  .""".        # T
-0002a770: 6865 726d 616c 2073 696d 756c 6174 696f  hermal simulatio
-0002a780: 6e3a 0a20 2020 2020 2020 2023 2054 6865  n:.        # The
-0002a790: 206c 6f73 7365 7320 6361 6c63 756c 6174   losses calculat
-0002a7a0: 6564 2062 7920 7468 6520 6d61 676e 6574  ed by the magnet
-0002a7b0: 6963 7320 7369 6d75 6c61 7469 6f6e 2063  ics simulation c
-0002a7c0: 616e 2062 6520 7573 6564 2074 6f20 6361  an be used to ca
-0002a7d0: 6c63 756c 6174 6520 7468 6520 6865 6174  lculate the heat
-0002a7e0: 2064 6973 7472 6962 7574 696f 6e20 6f66   distribution of
-0002a7f0: 2074 6865 2067 6976 656e 206d 6167 6e65   the given magne
-0002a800: 7469 6320 636f 6d70 6f6e 656e 740a 2020  tic component.  
-0002a810: 2020 2020 2020 2320 496e 206f 7264 6572        # In order
-0002a820: 2074 6f20 7573 6520 7468 6520 7468 6572   to use the ther
-0002a830: 6d61 6c20 7369 6d75 6c61 7469 6f6e 2c20  mal simulation, 
-0002a840: 7468 6572 6d61 6c20 636f 6e64 7563 7469  thermal conducti
-0002a850: 7669 7469 6573 2066 6f72 2065 6163 6820  vities for each 
-0002a860: 6d61 7465 7269 616c 2063 616e 2062 6520  material can be 
-0002a870: 656e 7465 7265 6420 6173 2077 656c 6c20  entered as well 
-0002a880: 6173 2061 2062 6f75 6e64 6172 7920 7465  as a boundary te
-0002a890: 6d70 6572 6174 7572 650a 2020 2020 2020  mperature.      
-0002a8a0: 2020 2320 7768 6963 6820 7769 6c6c 2062    # which will b
-0002a8b0: 6520 6170 706c 6965 6420 6f6e 2074 6865  e applied on the
-0002a8c0: 2062 6f75 6e64 6172 7920 6f66 2074 6865   boundary of the
-0002a8d0: 2073 696d 756c 6174 696f 6e20 2864 6972   simulation (dir
-0002a8e0: 6963 686c 6574 2062 6f75 6e64 6172 7920  ichlet boundary 
-0002a8f0: 636f 6e64 6974 696f 6e29 2e0a 0a20 2020  condition)...   
-0002a900: 2020 2020 2023 2054 6865 2063 6173 6520       # The case 
-0002a910: 7061 7261 6d65 7465 7220 7365 7473 2074  parameter sets t
-0002a920: 6865 2074 6865 726d 616c 2063 6f6e 6475  he thermal condu
-0002a930: 6374 6976 6974 7920 666f 7220 6120 6361  ctivity for a ca
-0002a940: 7365 2077 6869 6368 2077 696c 6c20 6265  se which will be
-0002a950: 2073 6574 2061 726f 756e 6420 7468 6520   set around the 
-0002a960: 636f 7265 2e0a 2020 2020 2020 2020 2320  core..        # 
-0002a970: 5468 6973 2063 6f75 6c64 206d 6f64 656c  This could model
-0002a980: 2073 6f6d 6520 6361 7365 2069 6e20 7768   some case in wh
-0002a990: 6963 6820 7468 6520 7472 616e 7366 6f72  ich the transfor
-0002a9a0: 6d65 7220 6973 2070 6c61 6365 6420 696e  mer is placed in
-0002a9b0: 2074 6f67 6574 6865 7220 7769 7468 2061   together with a
-0002a9c0: 2073 6574 2070 6f74 7469 6e67 206d 6174   set potting mat
-0002a9d0: 6572 6961 6c2e 0a20 2020 2020 2020 2066  erial..        f
-0002a9e0: 6c61 675f 696e 7375 6c61 7469 6f6e 203d  lag_insulation =
-0002a9f0: 2054 7275 650a 2020 2020 2020 2020 7468   True.        th
-0002aa00: 6572 6d61 6c5f 636f 6e64 7563 7469 7669  ermal_conductivi
-0002aa10: 7479 5f64 6963 7420 3d20 7b0a 2020 2020  ty_dict = {.    
-0002aa20: 2020 2020 2020 2020 2261 6972 223a 2030          "air": 0
-0002aa30: 2e30 3236 332c 0a20 2020 2020 2020 2020  .0263,.         
-0002aa40: 2020 2022 6361 7365 223a 207b 2020 2320     "case": {  # 
-0002aa50: 2865 706f 7879 2072 6573 6967 6e29 207c  (epoxy resign) |
-0002aa60: 2074 7261 6e73 666f 726d 6572 206f 696c   transformer oil
-0002aa70: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002aa80: 2022 746f 7022 3a20 302e 3132 322c 0a20   "top": 0.122,. 
-0002aa90: 2020 2020 2020 2020 2020 2020 2020 2022                 "
-0002aaa0: 746f 705f 7269 6768 7422 3a20 302e 3132  top_right": 0.12
-0002aab0: 322c 0a20 2020 2020 2020 2020 2020 2020  2,.             
-0002aac0: 2020 2022 7269 6768 7422 3a20 302e 3132     "right": 0.12
-0002aad0: 322c 0a20 2020 2020 2020 2020 2020 2020  2,.             
-0002aae0: 2020 2022 626f 745f 7269 6768 7422 3a20     "bot_right": 
-0002aaf0: 302e 3132 322c 0a20 2020 2020 2020 2020  0.122,.         
-0002ab00: 2020 2020 2020 2022 626f 7422 3a20 302e         "bot": 0.
-0002ab10: 3132 320a 2020 2020 2020 2020 2020 2020  122.            
-0002ab20: 7d2c 0a20 2020 2020 2020 2020 2020 2022  },.            "
-0002ab30: 636f 7265 223a 2035 2c20 2023 2066 6572  core": 5,  # fer
-0002ab40: 7269 7465 0a20 2020 2020 2020 2020 2020  rite.           
-0002ab50: 2022 7769 6e64 696e 6722 3a20 3430 302c   "winding": 400,
-0002ab60: 2020 2320 636f 7070 6572 0a20 2020 2020    # copper.     
-0002ab70: 2020 2020 2020 2022 6169 725f 6761 7073         "air_gaps
-0002ab80: 223a 2031 3830 2c20 2023 2061 6c75 6d69  ": 180,  # alumi
-0002ab90: 6e69 756d 6e69 7472 6964 650a 2020 2020  niumnitride.    
-0002aba0: 2020 2020 2020 2020 2269 6e73 756c 6174          "insulat
-0002abb0: 696f 6e22 3a20 302e 3432 2069 6620 7365  ion": 0.42 if se
-0002abc0: 6c66 2e66 6c61 675f 696e 7375 6c61 7469  lf.flag_insulati
-0002abd0: 6f6e 2065 6c73 6520 4e6f 6e65 2020 2320  on else None  # 
-0002abe0: 706f 6c79 6574 6879 6c65 6e0a 2020 2020  polyethylen.    
-0002abf0: 2020 2020 7d0a 2020 2020 2020 2020 2320      }.        # 
-0002ac00: 4865 7265 2074 6865 2063 6173 6520 7369  Here the case si
-0002ac10: 7a65 2063 616e 2062 6520 6465 7465 726d  ze can be determ
-0002ac20: 696e 6564 0a20 2020 2020 2020 2063 6173  ined.        cas
-0002ac30: 655f 6761 705f 746f 7020 3d20 302e 3030  e_gap_top = 0.00
-0002ac40: 320a 2020 2020 2020 2020 6361 7365 5f67  2.        case_g
-0002ac50: 6170 5f72 6967 6874 203d 2030 2e30 3032  ap_right = 0.002
-0002ac60: 350a 2020 2020 2020 2020 6361 7365 5f67  5.        case_g
-0002ac70: 6170 5f62 6f74 203d 2030 2e30 3032 0a20  ap_bot = 0.002. 
-0002ac80: 2020 2020 2020 2023 2048 6572 6520 7468         # Here th
-0002ac90: 6520 626f 756e 6461 7279 2074 656d 7065  e boundary tempe
-0002aca0: 7261 7475 7265 7320 6361 6e20 6265 2073  ratures can be s
-0002acb0: 6574 2c20 6375 7272 656e 746c 7920 6974  et, currently it
-0002acc0: 2069 7320 7365 7420 746f 2032 30c2 b043   is set to 20..C
-0002acd0: 2028 6172 6f75 6e64 2032 3933 c2b0 4b29   (around 293..K)
-0002ace0: 2e0a 2020 2020 2020 2020 2320 5468 6973  ..        # This
-0002acf0: 2064 6f65 7320 6e6f 7420 6368 616e 6765   does not change
-0002ad00: 2074 6865 2072 6573 756c 7473 206f 6620   the results of 
-0002ad10: 7468 6520 7369 6d75 6c61 7469 6f6e 2028  the simulation (
-0002ad20: 6174 206c 6561 7374 2077 6865 6e20 6576  at least when ev
-0002ad30: 6572 7920 626f 756e 6461 7279 2069 7320  ery boundary is 
-0002ad40: 7365 7420 6571 7561 6c6c 7929 2062 7574  set equally) but
-0002ad50: 2077 696c 6c20 7365 7420 7468 6520 7465   will set the te
-0002ad60: 6d70 6572 6174 7572 6520 6f66 6673 6574  mperature offset
-0002ad70: 2e0a 2020 2020 2020 2020 626f 756e 6461  ..        bounda
-0002ad80: 7279 5f74 656d 7065 7261 7475 7265 7320  ry_temperatures 
-0002ad90: 3d20 7b0a 2020 2020 2020 2020 2020 2020  = {.            
-0002ada0: 2276 616c 7565 5f62 6f75 6e64 6172 795f  "value_boundary_
-0002adb0: 746f 7022 3a20 3230 2c0a 2020 2020 2020  top": 20,.      
-0002adc0: 2020 2020 2020 2276 616c 7565 5f62 6f75        "value_bou
-0002add0: 6e64 6172 795f 746f 705f 7269 6768 7422  ndary_top_right"
-0002ade0: 3a20 3230 2c0a 2020 2020 2020 2020 2020  : 20,.          
-0002adf0: 2020 2276 616c 7565 5f62 6f75 6e64 6172    "value_boundar
-0002ae00: 795f 7269 6768 745f 746f 7022 3a20 3230  y_right_top": 20
-0002ae10: 2c0a 2020 2020 2020 2020 2020 2020 2276  ,.            "v
-0002ae20: 616c 7565 5f62 6f75 6e64 6172 795f 7269  alue_boundary_ri
-0002ae30: 6768 7422 3a20 3230 2c0a 2020 2020 2020  ght": 20,.      
-0002ae40: 2020 2020 2020 2276 616c 7565 5f62 6f75        "value_bou
-0002ae50: 6e64 6172 795f 7269 6768 745f 626f 7474  ndary_right_bott
-0002ae60: 6f6d 223a 2032 302c 0a20 2020 2020 2020  om": 20,.       
-0002ae70: 2020 2020 2022 7661 6c75 655f 626f 756e       "value_boun
-0002ae80: 6461 7279 5f62 6f74 746f 6d5f 7269 6768  dary_bottom_righ
-0002ae90: 7422 3a20 3230 2c0a 2020 2020 2020 2020  t": 20,.        
-0002aea0: 2020 2020 2276 616c 7565 5f62 6f75 6e64      "value_bound
-0002aeb0: 6172 795f 626f 7474 6f6d 223a 2032 300a  ary_bottom": 20.
-0002aec0: 2020 2020 2020 2020 7d0a 0a20 2020 2020          }..     
-0002aed0: 2020 2023 2049 6e20 6f72 6465 7220 746f     # In order to
-0002aee0: 2063 6f6d 7061 7265 2074 6865 2066 656d   compare the fem
-0002aef0: 6d74 2074 6865 726d 616c 2073 696d 756c  mt thermal simul
-0002af00: 6174 696f 6e20 7769 7468 2061 2066 656d  ation with a fem
-0002af10: 6d20 6865 6174 2066 6c6f 7720 7369 6d75  m heat flow simu
-0002af20: 6c61 7469 6f6e 2074 6865 2073 616d 6520  lation the same 
-0002af30: 626f 756e 6461 7279 2074 656d 7065 7261  boundary tempera
-0002af40: 7475 7265 2073 686f 756c 6420 6265 2061  ture should be a
-0002af50: 7070 6c69 6564 2e0a 2020 2020 2020 2020  pplied..        
-0002af60: 2320 4375 7272 656e 746c 7920 6f6e 6c79  # Currently only
-0002af70: 206f 6e65 2074 656d 7065 7261 7475 7265   one temperature
-0002af80: 2063 616e 2062 6520 6170 706c 6965 6420   can be applied 
-0002af90: 7768 6963 6820 7769 6c6c 2062 6520 7365  which will be se
-0002afa0: 7420 6f6e 2065 7665 7279 2062 6f75 6e64  t on every bound
-0002afb0: 6172 7920 7369 7465 2e0a 2020 2020 2020  ary site..      
-0002afc0: 2020 6665 6d6d 5f62 6f75 6e64 6172 795f    femm_boundary_
-0002afd0: 7465 6d70 6572 6174 7572 6520 3d20 3230  temperature = 20
-0002afe0: 0a0a 2020 2020 2020 2020 2320 4865 7265  ..        # Here
-0002aff0: 2074 6865 2062 6f75 6e64 6172 7920 7369   the boundary si
-0002b000: 6465 7320 6361 6e20 6265 2074 7572 6e65  des can be turne
-0002b010: 6420 6f6e 2028 3129 206f 7220 6f66 6620  d on (1) or off 
-0002b020: 2830 290a 2020 2020 2020 2020 2320 4279  (0).        # By
-0002b030: 2074 7572 6e69 6e67 206f 6666 2074 6865   turning off the
-0002b040: 2066 6c61 6720 6120 6e65 756d 616e 6e20   flag a neumann 
-0002b050: 626f 756e 6461 7279 2077 696c 6c20 6265  boundary will be
-0002b060: 2061 7070 6c69 6564 2061 7420 7468 6973   applied at this
-0002b070: 2070 6f69 6e74 2077 6974 6820 6865 6174   point with heat
-0002b080: 2066 6c75 7820 3d20 300a 2020 2020 2020   flux = 0.      
-0002b090: 2020 626f 756e 6461 7279 5f66 6c61 6773    boundary_flags
-0002b0a0: 203d 207b 0a20 2020 2020 2020 2020 2020   = {.           
-0002b0b0: 2022 666c 6167 5f62 6f75 6e64 6172 795f   "flag_boundary_
-0002b0c0: 746f 7022 3a20 302c 0a20 2020 2020 2020  top": 0,.       
-0002b0d0: 2020 2020 2022 666c 6167 5f62 6f75 6e64       "flag_bound
-0002b0e0: 6172 795f 746f 705f 7269 6768 7422 3a20  ary_top_right": 
-0002b0f0: 302c 0a20 2020 2020 2020 2020 2020 2022  0,.            "
-0002b100: 666c 6167 5f62 6f75 6e64 6172 795f 7269  flag_boundary_ri
-0002b110: 6768 745f 746f 7022 3a20 312c 0a20 2020  ght_top": 1,.   
-0002b120: 2020 2020 2020 2020 2022 666c 6167 5f62           "flag_b
-0002b130: 6f75 6e64 6172 795f 7269 6768 7422 3a20  oundary_right": 
-0002b140: 312c 0a20 2020 2020 2020 2020 2020 2022  1,.            "
-0002b150: 666c 6167 5f62 6f75 6e64 6172 795f 7269  flag_boundary_ri
-0002b160: 6768 745f 626f 7474 6f6d 223a 2031 2c0a  ght_bottom": 1,.
-0002b170: 2020 2020 2020 2020 2020 2020 2266 6c61              "fla
-0002b180: 675f 626f 756e 6461 7279 5f62 6f74 746f  g_boundary_botto
-0002b190: 6d5f 7269 6768 7422 3a20 312c 0a20 2020  m_right": 1,.   
-0002b1a0: 2020 2020 2020 2020 2022 666c 6167 5f62           "flag_b
-0002b1b0: 6f75 6e64 6172 795f 626f 7474 6f6d 223a  oundary_bottom":
-0002b1c0: 2031 0a20 2020 2020 2020 207d 0a0a 2020   1.        }..  
-0002b1d0: 2020 2020 2020 2320 496e 206f 7264 6572        # In order
-0002b1e0: 2066 6f72 2074 6865 2074 6865 726d 616c   for the thermal
-0002b1f0: 2073 696d 756c 6174 696f 6e20 746f 2077   simulation to w
-0002b200: 6f72 6b20 616e 2065 6c65 6374 726f 5f6d  ork an electro_m
-0002b210: 6167 6e65 7469 6320 7369 6d75 6c61 7469  agnetic simulati
-0002b220: 6f6e 2068 6173 2074 6f20 7275 6e20 6265  on has to run be
-0002b230: 666f 7265 2e0a 2020 2020 2020 2020 2320  fore..        # 
-0002b240: 5468 6520 656d 2d73 696d 756c 6174 696f  The em-simulatio
-0002b250: 6e20 7769 6c6c 2063 7265 6174 6520 6120  n will create a 
-0002b260: 6669 6c65 2063 6f6e 7461 696e 696e 6720  file containing 
-0002b270: 7468 6520 6c6f 7373 6573 2e0a 2020 2020  the losses..    
-0002b280: 2020 2020 2320 5768 656e 2074 6865 206c      # When the l
-0002b290: 6f73 7365 7320 6669 6c65 2069 7320 616c  osses file is al
-0002b2a0: 7265 6164 7920 6372 6561 7465 6420 616e  ready created an
-0002b2b0: 6420 636f 6e74 6169 6e73 2074 6865 206c  d contains the l
-0002b2c0: 6f73 7365 7320 666f 7220 7468 6520 6375  osses for the cu
-0002b2d0: 7272 656e 7420 6d6f 6465 6c2c 2069 7420  rrent model, it 
-0002b2e0: 6973 2065 6e6f 7567 6820 746f 2072 756e  is enough to run
-0002b2f0: 2067 656f 2e63 7265 6174 655f 6d6f 6465   geo.create_mode
-0002b300: 6c20 696e 0a20 2020 2020 2020 2023 206f  l in.        # o
-0002b310: 7264 6572 2066 6f72 2074 6865 2074 6865  rder for the the
-0002b320: 726d 616c 2073 696d 756c 6174 696f 6e20  rmal simulation 
-0002b330: 746f 2077 6f72 6b20 2867 656f 2e73 696e  to work (geo.sin
-0002b340: 676c 655f 7369 6d75 6c61 7469 6f6e 2069  gle_simulation i
-0002b350: 7320 6e6f 7420 6e65 6564 6564 292e 0a20  s not needed).. 
-0002b360: 2020 2020 2020 2023 204f 6276 696f 7573         # Obvious
-0002b370: 6c79 2077 6865 6e20 7468 6520 6d6f 6465  ly when the mode
-0002b380: 6c20 6973 206d 6f64 6966 6965 6420 616e  l is modified an
-0002b390: 6420 7468 6520 6c6f 7373 6573 2063 616e  d the losses can
-0002b3a0: 2062 6520 6f75 7420 6f66 2064 6174 6520   be out of date 
-0002b3b0: 616e 6420 7468 6572 6566 6f72 6520 7468  and therefore th
-0002b3c0: 6520 6765 6f2e 7369 6e67 6c65 5f73 696d  e geo.single_sim
-0002b3d0: 756c 6174 696f 6e20 6e65 6564 7320 746f  ulation needs to
-0002b3e0: 2072 756e 2061 6761 696e 2e0a 2020 2020   run again..    
-0002b3f0: 2020 2020 6765 6f20 3d20 7365 6c66 2e6d      geo = self.m
-0002b400: 645f 7365 7475 705f 6765 6f6d 6574 7279  d_setup_geometry
-0002b410: 2829 0a20 2020 2020 2020 2067 656f 2e63  ().        geo.c
-0002b420: 7265 6174 655f 6d6f 6465 6c28 6672 6571  reate_model(freq
-0002b430: 3d63 6f6d 6d61 5f73 7472 5f74 6f5f 706f  =comma_str_to_po
-0002b440: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
-0002b450: 645f 6261 7365 5f66 7265 7175 656e 6379  d_base_frequency
-0002b460: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
-0002b470: 292c 2070 7265 5f76 6973 7561 6c69 7a65  ), pre_visualize
-0002b480: 5f67 656f 6d65 7472 793d 4661 6c73 652c  _geometry=False,
-0002b490: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002b4a0: 2020 2020 2020 2020 2020 7361 7665 5f70            save_p
-0002b4b0: 6e67 3d46 616c 7365 290a 2020 2020 2020  ng=False).      
-0002b4c0: 2020 2320 656c 6563 7472 6f6d 6167 6e65    # electromagne
-0002b4d0: 7469 6320 7369 6d75 6c61 7469 6f6e 2069  tic simulation i
-0002b4e0: 7320 6e65 6564 6564 2066 6f72 2074 6865  s needed for the
-0002b4f0: 726d 616c 2073 696d 756c 6174 696f 6e0a  rmal simulation.
-0002b500: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
-0002b510: 5f66 7265 7175 656e 6379 5f6c 6973 742c  _frequency_list,
-0002b520: 2077 696e 6469 6e67 315f 616d 706c 6974   winding1_amplit
-0002b530: 7564 655f 6c69 7374 2c20 7769 6e64 696e  ude_list, windin
-0002b540: 6731 5f70 6869 5f72 6164 5f6c 6973 742c  g1_phi_rad_list,
-0002b550: 2077 696e 6469 6e67 325f 6672 6571 7565   winding2_freque
-0002b560: 6e63 795f 6c69 7374 2c20 7769 6e64 696e  ncy_list, windin
-0002b570: 6732 5f61 6d70 6c69 7475 6465 5f6c 6973  g2_amplitude_lis
-0002b580: 742c 205c 0a20 2020 2020 2020 2020 2020  t, \.           
-0002b590: 2077 696e 6469 6e67 325f 7068 695f 7261   winding2_phi_ra
-0002b5a0: 645f 6c69 7374 203d 2073 656c 662e 6d64  d_list = self.md
-0002b5b0: 5f67 6574 5f66 7265 7175 656e 6379 5f6c  _get_frequency_l
-0002b5c0: 6973 7473 2829 0a20 2020 2020 2020 2069  ists().        i
-0002b5d0: 6620 6c65 6e28 7769 6e64 696e 6731 5f66  f len(winding1_f
-0002b5e0: 7265 7175 656e 6379 5f6c 6973 7429 203d  requency_list) =
-0002b5f0: 3d20 313a 0a20 2020 2020 2020 2020 2020  = 1:.           
-0002b600: 2069 6620 7365 6c66 2e6d 645f 7369 6d75   if self.md_simu
-0002b610: 6c61 7469 6f6e 5f74 7970 655f 636f 6d62  lation_type_comb
-0002b620: 6f42 6f78 2e63 7572 7265 6e74 5465 7874  oBox.currentText
-0002b630: 2829 203d 3d20 7365 6c66 2e74 7261 6e73  () == self.trans
-0002b640: 6c61 7469 6f6e 5f64 6963 745b 2769 6e64  lation_dict['ind
-0002b650: 7563 746f 7227 5d3a 0a20 2020 2020 2020  uctor']:.       
-0002b660: 2020 2020 2020 2020 2067 656f 2e73 696e           geo.sin
-0002b670: 676c 655f 7369 6d75 6c61 7469 6f6e 2866  gle_simulation(f
-0002b680: 7265 713d 7769 6e64 696e 6731 5f66 7265  req=winding1_fre
-0002b690: 7175 656e 6379 5f6c 6973 745b 305d 2c0a  quency_list[0],.
-0002b6a0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b6b0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b6c0: 2020 2020 2020 6375 7272 656e 743d 5b77        current=[w
-0002b6d0: 696e 6469 6e67 315f 616d 706c 6974 7564  inding1_amplitud
-0002b6e0: 655f 6c69 7374 5b30 5d5d 2c0a 2020 2020  e_list[0]],.    
-0002b6f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b700: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b710: 2020 7368 6f77 5f66 656d 5f73 696d 756c    show_fem_simul
-0002b720: 6174 696f 6e5f 7265 7375 6c74 733d 5472  ation_results=Tr
-0002b730: 7565 290a 2020 2020 2020 2020 2020 2020  ue).            
-0002b740: 656c 6966 2073 656c 662e 6d64 5f73 696d  elif self.md_sim
-0002b750: 756c 6174 696f 6e5f 7479 7065 5f63 6f6d  ulation_type_com
-0002b760: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
-0002b770: 7428 2920 3d3d 2073 656c 662e 7472 616e  t() == self.tran
-0002b780: 736c 6174 696f 6e5f 6469 6374 5b27 7472  slation_dict['tr
-0002b790: 616e 7366 6f72 6d65 7227 5d3a 0a20 2020  ansformer']:.   
-0002b7a0: 2020 2020 2020 2020 2020 2020 2067 656f               geo
-0002b7b0: 2e73 696e 676c 655f 7369 6d75 6c61 7469  .single_simulati
-0002b7c0: 6f6e 2866 7265 713d 7769 6e64 696e 6731  on(freq=winding1
-0002b7d0: 5f66 7265 7175 656e 6379 5f6c 6973 745b  _frequency_list[
-0002b7e0: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
-0002b7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b800: 2020 2020 2020 2020 2020 6375 7272 656e            curren
-0002b810: 743d 5b77 696e 6469 6e67 315f 616d 706c  t=[winding1_ampl
-0002b820: 6974 7564 655f 6c69 7374 5b30 5d2c 2077  itude_list[0], w
-0002b830: 696e 6469 6e67 325f 616d 706c 6974 7564  inding2_amplitud
-0002b840: 655f 6c69 7374 5b30 5d5d 2c0a 2020 2020  e_list[0]],.    
-0002b850: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b860: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b870: 2020 7068 695f 6465 673d 5b77 696e 6469    phi_deg=[windi
-0002b880: 6e67 315f 7068 695f 7261 645f 6c69 7374  ng1_phi_rad_list
-0002b890: 5b30 5d2c 2077 696e 6469 6e67 325f 7068  [0], winding2_ph
-0002b8a0: 695f 7261 645f 6c69 7374 5b30 5d5d 290a  i_rad_list[0]]).
-0002b8b0: 0a20 2020 2020 2020 2065 6c73 653a 0a0a  .        else:..
-0002b8c0: 2020 2020 2020 2020 2020 2020 6966 2073              if s
-0002b8d0: 656c 662e 6d64 5f73 696d 756c 6174 696f  elf.md_simulatio
-0002b8e0: 6e5f 7479 7065 5f63 6f6d 626f 426f 782e  n_type_comboBox.
-0002b8f0: 6375 7272 656e 7454 6578 7428 2920 3d3d  currentText() ==
-0002b900: 2073 656c 662e 7472 616e 736c 6174 696f   self.translatio
-0002b910: 6e5f 6469 6374 5b27 696e 6475 6374 6f72  n_dict['inductor
-0002b920: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
-0002b930: 2020 2020 616d 706c 6974 7564 655f 6c69      amplitude_li
-0002b940: 7374 203d 205b 5d0a 2020 2020 2020 2020  st = [].        
-0002b950: 2020 2020 2020 2020 7072 696e 7428 6622          print(f"
-0002b960: 7b77 696e 6469 6e67 315f 616d 706c 6974  {winding1_amplit
-0002b970: 7564 655f 6c69 7374 203d 207d 2229 0a20  ude_list = }"). 
-0002b980: 2020 2020 2020 2020 2020 2020 2020 2066                 f
-0002b990: 6f72 2061 6d70 6c69 7475 6465 5f76 616c  or amplitude_val
-0002b9a0: 7565 2069 6e20 7769 6e64 696e 6731 5f61  ue in winding1_a
-0002b9b0: 6d70 6c69 7475 6465 5f6c 6973 743a 0a20  mplitude_list:. 
-0002b9c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002b9d0: 2020 2061 6d70 6c69 7475 6465 5f6c 6973     amplitude_lis
-0002b9e0: 742e 6170 7065 6e64 285b 616d 706c 6974  t.append([amplit
-0002b9f0: 7564 655f 7661 6c75 655d 290a 0a20 2020  ude_value])..   
-0002ba00: 2020 2020 2020 2020 2020 2020 2070 6861               pha
-0002ba10: 7365 5f72 6164 5f6c 6973 7420 3d20 5b5d  se_rad_list = []
-0002ba20: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002ba30: 2066 6f72 2070 6861 7365 5f76 616c 7565   for phase_value
-0002ba40: 2069 6e20 7769 6e64 696e 6731 5f70 6869   in winding1_phi
-0002ba50: 5f72 6164 5f6c 6973 743a 0a20 2020 2020  _rad_list:.     
-0002ba60: 2020 2020 2020 2020 2020 2020 2020 2070                 p
-0002ba70: 6861 7365 5f72 6164 5f6c 6973 742e 6170  hase_rad_list.ap
-0002ba80: 7065 6e64 285b 7068 6173 655f 7661 6c75  pend([phase_valu
-0002ba90: 655d 290a 2020 2020 2020 2020 2020 2020  e]).            
-0002baa0: 2020 2020 6765 6f2e 6578 6369 7461 7469      geo.excitati
-0002bab0: 6f6e 5f73 7765 6570 2866 7265 7175 656e  on_sweep(frequen
-0002bac0: 6379 5f6c 6973 743d 7769 6e64 696e 6731  cy_list=winding1
-0002bad0: 5f66 7265 7175 656e 6379 5f6c 6973 742c  _frequency_list,
-0002bae0: 2063 7572 7265 6e74 5f6c 6973 745f 6c69   current_list_li
-0002baf0: 7374 3d61 6d70 6c69 7475 6465 5f6c 6973  st=amplitude_lis
-0002bb00: 742c 0a20 2020 2020 2020 2020 2020 2020  t,.             
-0002bb10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bb20: 2020 2020 2020 2020 7068 695f 6465 675f          phi_deg_
-0002bb30: 6c69 7374 5f6c 6973 743d 7068 6173 655f  list_list=phase_
-0002bb40: 7261 645f 6c69 7374 290a 0a20 2020 2020  rad_list)..     
-0002bb50: 2020 2020 2020 2065 6c69 6620 7365 6c66         elif self
-0002bb60: 2e6d 645f 7369 6d75 6c61 7469 6f6e 5f74  .md_simulation_t
-0002bb70: 7970 655f 636f 6d62 6f42 6f78 2e63 7572  ype_comboBox.cur
-0002bb80: 7265 6e74 5465 7874 2829 203d 3d20 7365  rentText() == se
-0002bb90: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
-0002bba0: 6963 745b 2774 7261 6e73 666f 726d 6572  ict['transformer
-0002bbb0: 275d 3a0a 2020 2020 2020 2020 2020 2020  ']:.            
-0002bbc0: 2020 2020 616d 706c 6974 7564 6531 5f6c      amplitude1_l
-0002bbd0: 6973 7420 3d20 5b5d 0a20 2020 2020 2020  ist = [].       
-0002bbe0: 2020 2020 2020 2020 2066 6f72 2061 6d70           for amp
-0002bbf0: 6c69 7475 6465 315f 7661 6c75 652c 2061  litude1_value, a
-0002bc00: 6d70 6c69 7475 6465 325f 7661 6c75 6520  mplitude2_value 
-0002bc10: 696e 207a 6970 2877 696e 6469 6e67 315f  in zip(winding1_
-0002bc20: 616d 706c 6974 7564 655f 6c69 7374 2c20  amplitude_list, 
-0002bc30: 7769 6e64 696e 6732 5f61 6d70 6c69 7475  winding2_amplitu
-0002bc40: 6465 5f6c 6973 7429 3a0a 2020 2020 2020  de_list):.      
-0002bc50: 2020 2020 2020 2020 2020 2020 2020 616d                am
-0002bc60: 706c 6974 7564 6531 5f6c 6973 742e 6170  plitude1_list.ap
-0002bc70: 7065 6e64 285b 616d 706c 6974 7564 6531  pend([amplitude1
-0002bc80: 5f76 616c 7565 2c20 616d 706c 6974 7564  _value, amplitud
-0002bc90: 6532 5f76 616c 7565 5d29 0a0a 2020 2020  e2_value])..    
-0002bca0: 2020 2020 2020 2020 2020 2020 7068 6173              phas
-0002bcb0: 6531 5f72 6164 5f6c 6973 7420 3d20 5b5d  e1_rad_list = []
-0002bcc0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
-0002bcd0: 2066 6f72 2070 6861 7365 315f 7661 6c75   for phase1_valu
-0002bce0: 652c 2070 6861 7365 325f 7661 6c75 6520  e, phase2_value 
-0002bcf0: 696e 207a 6970 2877 696e 6469 6e67 315f  in zip(winding1_
-0002bd00: 7068 695f 7261 645f 6c69 7374 2c20 7769  phi_rad_list, wi
-0002bd10: 6e64 696e 6732 5f70 6869 5f72 6164 5f6c  nding2_phi_rad_l
-0002bd20: 6973 7429 3a0a 2020 2020 2020 2020 2020  ist):.          
-0002bd30: 2020 2020 2020 2020 2020 7068 6173 6531            phase1
-0002bd40: 5f72 6164 5f6c 6973 742e 6170 7065 6e64  _rad_list.append
-0002bd50: 285b 7068 6173 6531 5f76 616c 7565 2c20  ([phase1_value, 
-0002bd60: 7068 6173 6532 5f76 616c 7565 5d29 0a0a  phase2_value])..
-0002bd70: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bd80: 6765 6f2e 6578 6369 7461 7469 6f6e 5f73  geo.excitation_s
-0002bd90: 7765 6570 2866 7265 7175 656e 6379 5f6c  weep(frequency_l
-0002bda0: 6973 743d 7769 6e64 696e 6731 5f66 7265  ist=winding1_fre
-0002bdb0: 7175 656e 6379 5f6c 6973 742c 0a20 2020  quency_list,.   
-0002bdc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bdd0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bde0: 2020 6375 7272 656e 745f 6c69 7374 5f6c    current_list_l
-0002bdf0: 6973 743d 616d 706c 6974 7564 6531 5f6c  ist=amplitude1_l
-0002be00: 6973 742c 0a20 2020 2020 2020 2020 2020  ist,.           
-0002be10: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002be20: 2020 2020 2020 2020 2020 7068 695f 6465            phi_de
-0002be30: 675f 6c69 7374 5f6c 6973 743d 7068 6173  g_list_list=phas
-0002be40: 6531 5f72 6164 5f6c 6973 7429 0a0a 2020  e1_rad_list)..  
-0002be50: 2020 2020 2020 2320 5468 6572 6d61 6c20        # Thermal 
-0002be60: 7369 6d75 6c61 7469 6f6e 0a20 2020 2020  simulation.     
-0002be70: 2020 2067 656f 2e74 6865 726d 616c 5f73     geo.thermal_s
-0002be80: 696d 756c 6174 696f 6e28 7468 6572 6d61  imulation(therma
-0002be90: 6c5f 636f 6e64 7563 7469 7669 7479 5f64  l_conductivity_d
-0002bea0: 6963 742c 2062 6f75 6e64 6172 795f 7465  ict, boundary_te
-0002beb0: 6d70 6572 6174 7572 6573 2c20 626f 756e  mperatures, boun
-0002bec0: 6461 7279 5f66 6c61 6773 2c20 6361 7365  dary_flags, case
-0002bed0: 5f67 6170 5f74 6f70 2c0a 2020 2020 2020  _gap_top,.      
+00028890: 2020 2020 2020 2020 636f 6d6d 615f 7374          comma_st
+000288a0: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+000288b0: 2873 656c 662e 6d64 5f69 736f 6c61 7469  (self.md_isolati
+000288c0: 6f6e 5f63 6f72 6532 636f 6e64 5f6f 7574  on_core2cond_out
+000288d0: 6572 5f6c 696e 6545 6469 742e 7465 7874  er_lineEdit.text
+000288e0: 2829 2929 0a20 2020 2020 2020 2020 2020  ())).           
+000288f0: 2069 6e73 756c 6174 696f 6e2e 6164 645f   insulation.add_
+00028900: 7769 6e64 696e 675f 696e 7375 6c61 7469  winding_insulati
+00028910: 6f6e 7328 5b0a 2020 2020 2020 2020 2020  ons([.          
+00028920: 2020 2020 2020 5b63 6f6d 6d61 5f73 7472        [comma_str
+00028930: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+00028940: 7365 6c66 2e6d 645f 6973 6f6c 6174 696f  self.md_isolatio
+00028950: 6e5f 7032 705f 6c69 6e65 4564 6974 2e74  n_p2p_lineEdit.t
+00028960: 6578 7428 2929 2c0a 2020 2020 2020 2020  ext()),.        
+00028970: 2020 2020 2020 2020 2063 6f6d 6d61 5f73           comma_s
+00028980: 7472 5f74 6f5f 706f 696e 745f 666c 6f61  tr_to_point_floa
+00028990: 7428 7365 6c66 2e6d 645f 6973 6f6c 6174  t(self.md_isolat
+000289a0: 696f 6e5f 7032 735f 6c69 6e65 4564 6974  ion_p2s_lineEdit
+000289b0: 2e74 6578 7428 2929 5d2c 0a20 2020 2020  .text())],.     
+000289c0: 2020 2020 2020 2020 2020 205b 636f 6d6d             [comm
+000289d0: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+000289e0: 6c6f 6174 2873 656c 662e 6d64 5f69 736f  loat(self.md_iso
+000289f0: 6c61 7469 6f6e 5f73 3270 5f6c 696e 6545  lation_s2p_lineE
+00028a00: 6469 742e 7465 7874 2829 292c 0a20 2020  dit.text()),.   
+00028a10: 2020 2020 2020 2020 2020 2020 2020 636f                co
+00028a20: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+00028a30: 5f66 6c6f 6174 2873 656c 662e 6d64 5f69  _float(self.md_i
+00028a40: 736f 6c61 7469 6f6e 5f73 3273 5f6c 696e  solation_s2s_lin
+00028a50: 6545 6469 742e 7465 7874 2829 295d 5d29  eEdit.text())]])
+00028a60: 0a20 2020 2020 2020 2020 2020 2067 656f  .            geo
+00028a70: 2e73 6574 5f69 6e73 756c 6174 696f 6e28  .set_insulation(
+00028a80: 696e 7375 6c61 7469 6f6e 290a 0a20 2020  insulation)..   
+00028a90: 2020 2020 2020 2020 2023 2035 2e20 6372           # 5. cr
+00028aa0: 6561 7465 2077 696e 6469 6e67 2077 696e  eate winding win
+00028ab0: 646f 7720 616e 6420 7669 7274 7561 6c20  dow and virtual 
+00028ac0: 7769 6e64 696e 6720 7769 6e64 6f77 7320  winding windows 
+00028ad0: 2876 7777 290a 2020 2020 2020 2020 2020  (vww).          
+00028ae0: 2020 7769 6e64 696e 675f 7769 6e64 6f77    winding_window
+00028af0: 203d 2066 6d74 2e57 696e 6469 6e67 5769   = fmt.WindingWi
+00028b00: 6e64 6f77 2863 6f72 652c 2069 6e73 756c  ndow(core, insul
+00028b10: 6174 696f 6e29 0a20 2020 2020 2020 2020  ation).         
+00028b20: 2020 206c 6566 742c 2072 6967 6874 203d     left, right =
+00028b30: 2077 696e 6469 6e67 5f77 696e 646f 772e   winding_window.
+00028b40: 7370 6c69 745f 7769 6e64 6f77 2866 6d74  split_window(fmt
+00028b50: 2e57 696e 6469 6e67 5769 6e64 6f77 5370  .WindingWindowSp
+00028b60: 6c69 742e 486f 7269 7a6f 6e74 616c 5370  lit.HorizontalSp
+00028b70: 6c69 7429 0a0a 2020 2020 2020 2020 2020  lit)..          
+00028b80: 2020 2320 362e 2063 7265 6174 6520 636f    # 6. create co
+00028b90: 6e64 7563 746f 7273 2061 6e64 2073 6574  nductors and set
+00028ba0: 2070 6172 616d 6574 6572 730a 2020 2020   parameters.    
+00028bb0: 2020 2020 2020 2020 7769 6e64 696e 6731          winding1
+00028bc0: 203d 2066 6d74 2e43 6f6e 6475 6374 6f72   = fmt.Conductor
+00028bd0: 2830 2c20 666d 742e 436f 6e64 7563 7469  (0, fmt.Conducti
+00028be0: 7669 7479 2e43 6f70 7065 7229 0a20 2020  vity.Copper).   
+00028bf0: 2020 2020 2020 2020 2077 696e 6469 6e67           winding
+00028c00: 312e 7365 745f 736f 6c69 645f 726f 756e  1.set_solid_roun
+00028c10: 645f 636f 6e64 7563 746f 7228 636f 6d6d  d_conductor(comm
+00028c20: 615f 7374 725f 746f 5f70 6f69 6e74 5f66  a_str_to_point_f
+00028c30: 6c6f 6174 2873 656c 662e 6d64 5f77 696e  loat(self.md_win
+00028c40: 6469 6e67 315f 7261 6469 7573 5f6c 696e  ding1_radius_lin
+00028c50: 6545 6469 742e 7465 7874 2829 292c 0a20  eEdit.text()),. 
+00028c60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028c70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028c80: 2020 2020 2020 2020 2020 2020 2020 666d                fm
+00028c90: 742e 436f 6e64 7563 746f 7241 7272 616e  t.ConductorArran
+00028ca0: 6765 6d65 6e74 2e53 7175 6172 6529 0a0a  gement.Square)..
+00028cb0: 2020 2020 2020 2020 2020 2020 7769 6e64              wind
+00028cc0: 696e 6732 203d 2066 6d74 2e43 6f6e 6475  ing2 = fmt.Condu
+00028cd0: 6374 6f72 2831 2c20 666d 742e 436f 6e64  ctor(1, fmt.Cond
+00028ce0: 7563 7469 7669 7479 2e43 6f70 7065 7229  uctivity.Copper)
+00028cf0: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
+00028d00: 6469 6e67 322e 7365 745f 736f 6c69 645f  ding2.set_solid_
+00028d10: 726f 756e 645f 636f 6e64 7563 746f 7228  round_conductor(
+00028d20: 636f 6d6d 615f 7374 725f 746f 5f70 6f69  comma_str_to_poi
+00028d30: 6e74 5f66 6c6f 6174 2873 656c 662e 6d64  nt_float(self.md
+00028d40: 5f77 696e 6469 6e67 325f 7261 6469 7573  _winding2_radius
+00028d50: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00028d60: 292c 0a20 2020 2020 2020 2020 2020 2020  ),.             
+00028d70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028d80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028d90: 2020 666d 742e 436f 6e64 7563 746f 7241    fmt.ConductorA
+00028da0: 7272 616e 6765 6d65 6e74 2e53 7175 6172  rrangement.Squar
+00028db0: 6529 0a0a 2020 2020 2020 2020 2020 2020  e)..            
+00028dc0: 2320 372e 2061 6464 2063 6f6e 6475 6374  # 7. add conduct
+00028dd0: 6f72 2074 6f20 7677 7720 616e 6420 6164  or to vww and ad
+00028de0: 6420 7769 6e64 696e 6720 7769 6e64 6f77  d winding window
+00028df0: 2074 6f20 4d61 676e 6574 6963 436f 6d70   to MagneticComp
+00028e00: 6f6e 656e 740a 2020 2020 2020 2020 2020  onent.          
+00028e10: 2020 6c65 6674 2e73 6574 5f77 696e 6469    left.set_windi
+00028e20: 6e67 2877 696e 6469 6e67 312c 2069 6e74  ng(winding1, int
+00028e30: 2873 656c 662e 6d64 5f77 696e 6469 6e67  (self.md_winding
+00028e40: 315f 7475 726e 735f 6c69 6e65 4564 6974  1_turns_lineEdit
+00028e50: 2e74 6578 7428 2929 2c20 4e6f 6e65 2c20  .text()), None, 
+00028e60: 666d 742e 416c 6967 6e2e 546f 4564 6765  fmt.Align.ToEdge
+00028e70: 732c 0a20 2020 2020 2020 2020 2020 2020  s,.             
+00028e80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028e90: 666d 742e 436f 6e64 7563 746f 7244 6973  fmt.ConductorDis
+00028ea0: 7472 6962 7574 696f 6e2e 5665 7274 6963  tribution.Vertic
+00028eb0: 616c 5570 7761 7264 5f48 6f72 697a 6f6e  alUpward_Horizon
+00028ec0: 7461 6c52 6967 6874 7761 7264 2c20 7a69  talRightward, zi
+00028ed0: 677a 6167 3d46 616c 7365 290a 2020 2020  gzag=False).    
+00028ee0: 2020 2020 2020 2020 7269 6768 742e 7365          right.se
+00028ef0: 745f 7769 6e64 696e 6728 7769 6e64 696e  t_winding(windin
+00028f00: 6732 2c20 696e 7428 7365 6c66 2e6d 645f  g2, int(self.md_
+00028f10: 7769 6e64 696e 6732 5f74 7572 6e73 5f6c  winding2_turns_l
+00028f20: 696e 6545 6469 742e 7465 7874 2829 292c  ineEdit.text()),
+00028f30: 204e 6f6e 652c 2066 6d74 2e41 6c69 676e   None, fmt.Align
+00028f40: 2e54 6f45 6467 6573 2c0a 2020 2020 2020  .ToEdges,.      
+00028f50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00028f60: 2020 2020 2020 2020 666d 742e 436f 6e64          fmt.Cond
+00028f70: 7563 746f 7244 6973 7472 6962 7574 696f  uctorDistributio
+00028f80: 6e2e 5665 7274 6963 616c 5570 7761 7264  n.VerticalUpward
+00028f90: 5f48 6f72 697a 6f6e 7461 6c52 6967 6874  _HorizontalRight
+00028fa0: 7761 7264 2c20 7a69 677a 6167 3d46 616c  ward, zigzag=Fal
+00028fb0: 7365 290a 2020 2020 2020 2020 2020 2020  se).            
+00028fc0: 6765 6f2e 7365 745f 7769 6e64 696e 675f  geo.set_winding_
+00028fd0: 7769 6e64 6f77 7328 5b77 696e 6469 6e67  windows([winding
+00028fe0: 5f77 696e 646f 775d 290a 0a20 2020 2020  _window])..     
+00028ff0: 2020 2065 6c69 6620 7365 6c66 2e6d 645f     elif self.md_
+00029000: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
+00029010: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+00029020: 5465 7874 2829 203d 3d20 2769 6e74 6567  Text() == 'integ
+00029030: 7261 7465 6420 7472 616e 7366 6f72 6d65  rated transforme
+00029040: 7227 3a0a 2020 2020 2020 2020 2020 2020  r':.            
+00029050: 7061 7373 0a0a 2020 2020 2020 2020 7265  pass..        re
+00029060: 7475 726e 2067 656f 0a0a 2020 2020 6465  turn geo..    de
+00029070: 6620 6d64 5f61 6374 696f 6e5f 7275 6e5f  f md_action_run_
+00029080: 7369 6d75 6c61 7469 6f6e 2873 656c 6629  simulation(self)
+00029090: 202d 3e20 4e6f 6e65 3a0a 2020 2020 2020   -> None:.      
+000290a0: 2020 2222 220a 2020 2020 2020 2020 5265    """.        Re
+000290b0: 6164 2061 6c6c 2069 6e70 7574 2070 6172  ad all input par
+000290c0: 616d 6574 6572 7320 6672 6f6d 2074 6865  ameters from the
+000290d0: 2066 6965 6c64 732e 2052 756e 2074 6865   fields. Run the
+000290e0: 2073 696d 756c 6174 696f 6e20 696e 2064   simulation in d
+000290f0: 6570 656e 6465 6e63 6520 6f66 2069 6e70  ependence of inp
+00029100: 7574 2066 6965 6c64 732e 0a0a 2020 2020  ut fields...    
+00029110: 2020 2020 3a72 6574 7572 6e3a 204e 6f6e      :return: Non
+00029120: 650a 2020 2020 2020 2020 3a72 7479 7065  e.        :rtype
+00029130: 3a20 4e6f 6e65 0a20 2020 2020 2020 2022  : None.        "
+00029140: 2222 0a20 2020 2020 2020 2067 656f 203d  "".        geo =
+00029150: 2073 656c 662e 6d64 5f73 6574 7570 5f67   self.md_setup_g
+00029160: 656f 6d65 7472 7928 290a 2020 2020 2020  eometry().      
+00029170: 2020 2320 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d    # ------------
+00029180: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00029190: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000291a0: 2d2d 2d0a 2020 2020 2020 2020 2320 5369  ---.        # Si
+000291b0: 6d75 6c61 7469 6f6e 0a20 2020 2020 2020  mulation.       
+000291c0: 2023 202d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d   # -------------
+000291d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000291e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000291f0: 2d2d 0a20 2020 2020 2020 2067 656f 2e63  --.        geo.c
+00029200: 7265 6174 655f 6d6f 6465 6c28 6672 6571  reate_model(freq
+00029210: 3d63 6f6d 6d61 5f73 7472 5f74 6f5f 706f  =comma_str_to_po
+00029220: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+00029230: 645f 6261 7365 5f66 7265 7175 656e 6379  d_base_frequency
+00029240: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+00029250: 292c 2070 7265 5f76 6973 7561 6c69 7a65  ), pre_visualize
+00029260: 5f67 656f 6d65 7472 793d 4661 6c73 652c  _geometry=False,
+00029270: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029280: 2020 2020 2020 2020 2020 7361 7665 5f70            save_p
+00029290: 6e67 3d46 616c 7365 290a 2020 2020 2020  ng=False).      
+000292a0: 2020 2320 6765 6f2e 6372 6561 7465 5f6d    # geo.create_m
+000292b0: 6f64 656c 2866 7265 713d 636f 6d6d 615f  odel(freq=comma_
+000292c0: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+000292d0: 6174 2873 656c 662e 6d64 5f62 6173 655f  at(self.md_base_
+000292e0: 6672 6571 7565 6e63 795f 6c69 6e65 4564  frequency_lineEd
+000292f0: 6974 2e74 6578 7428 2929 2c20 7669 7375  it.text()), visu
+00029300: 616c 697a 655f 6265 666f 7265 3d46 616c  alize_before=Fal
+00029310: 7365 2c20 646f 5f6d 6573 6869 6e67 3d54  se, do_meshing=T
+00029320: 7275 652c 2073 6176 655f 706e 673d 4661  rue, save_png=Fa
+00029330: 6c73 6529 0a0a 2020 2020 2020 2020 7769  lse)..        wi
+00029340: 6e64 696e 6731 5f66 7265 7175 656e 6379  nding1_frequency
+00029350: 5f6c 6973 742c 2077 696e 6469 6e67 315f  _list, winding1_
+00029360: 616d 706c 6974 7564 655f 6c69 7374 2c20  amplitude_list, 
+00029370: 7769 6e64 696e 6731 5f70 6869 5f72 6164  winding1_phi_rad
+00029380: 5f6c 6973 742c 2077 696e 6469 6e67 325f  _list, winding2_
+00029390: 6672 6571 7565 6e63 795f 6c69 7374 2c20  frequency_list, 
+000293a0: 7769 6e64 696e 6732 5f61 6d70 6c69 7475  winding2_amplitu
+000293b0: 6465 5f6c 6973 742c 205c 0a20 2020 2020  de_list, \.     
+000293c0: 2020 2020 2020 2077 696e 6469 6e67 325f         winding2_
+000293d0: 7068 695f 7261 645f 6c69 7374 203d 2073  phi_rad_list = s
+000293e0: 656c 662e 6d64 5f67 6574 5f66 7265 7175  elf.md_get_frequ
+000293f0: 656e 6379 5f6c 6973 7473 2829 0a20 2020  ency_lists().   
+00029400: 2020 2020 2070 7269 6e74 2877 696e 6469       print(windi
+00029410: 6e67 315f 6672 6571 7565 6e63 795f 6c69  ng1_frequency_li
+00029420: 7374 290a 2020 2020 2020 2020 7072 696e  st).        prin
+00029430: 7428 7769 6e64 696e 6731 5f61 6d70 6c69  t(winding1_ampli
+00029440: 7475 6465 5f6c 6973 7429 0a20 2020 2020  tude_list).     
+00029450: 2020 2069 6620 6c65 6e28 7769 6e64 696e     if len(windin
+00029460: 6731 5f66 7265 7175 656e 6379 5f6c 6973  g1_frequency_lis
+00029470: 7429 203d 3d20 313a 0a20 2020 2020 2020  t) == 1:.       
+00029480: 2020 2020 2069 6620 7365 6c66 2e6d 645f       if self.md_
+00029490: 7369 6d75 6c61 7469 6f6e 5f74 7970 655f  simulation_type_
+000294a0: 636f 6d62 6f42 6f78 2e63 7572 7265 6e74  comboBox.current
+000294b0: 5465 7874 2829 203d 3d20 7365 6c66 2e74  Text() == self.t
+000294c0: 7261 6e73 6c61 7469 6f6e 5f64 6963 745b  ranslation_dict[
+000294d0: 2769 6e64 7563 746f 7227 5d3a 0a20 2020  'inductor']:.   
+000294e0: 2020 2020 2020 2020 2020 2020 2067 656f               geo
+000294f0: 2e73 696e 676c 655f 7369 6d75 6c61 7469  .single_simulati
+00029500: 6f6e 2866 7265 713d 7769 6e64 696e 6731  on(freq=winding1
+00029510: 5f66 7265 7175 656e 6379 5f6c 6973 745b  _frequency_list[
+00029520: 305d 2c0a 2020 2020 2020 2020 2020 2020  0],.            
+00029530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029540: 2020 2020 2020 2020 2020 6375 7272 656e            curren
+00029550: 743d 5b77 696e 6469 6e67 315f 616d 706c  t=[winding1_ampl
+00029560: 6974 7564 655f 6c69 7374 5b30 5d5d 2c0a  itude_list[0]],.
+00029570: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029580: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029590: 2020 2020 2020 7368 6f77 5f66 656d 5f73        show_fem_s
+000295a0: 696d 756c 6174 696f 6e5f 7265 7375 6c74  imulation_result
+000295b0: 733d 5472 7565 290a 2020 2020 2020 2020  s=True).        
+000295c0: 2020 2020 656c 6966 2073 656c 662e 6d64      elif self.md
+000295d0: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
+000295e0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+000295f0: 7454 6578 7428 2920 3d3d 2073 656c 662e  tText() == self.
+00029600: 7472 616e 736c 6174 696f 6e5f 6469 6374  translation_dict
+00029610: 5b27 7472 616e 7366 6f72 6d65 7227 5d3a  ['transformer']:
+00029620: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029630: 2067 656f 2e73 696e 676c 655f 7369 6d75   geo.single_simu
+00029640: 6c61 7469 6f6e 2866 7265 713d 7769 6e64  lation(freq=wind
+00029650: 696e 6731 5f66 7265 7175 656e 6379 5f6c  ing1_frequency_l
+00029660: 6973 745b 305d 2c0a 2020 2020 2020 2020  ist[0],.        
+00029670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029680: 2020 2020 2020 2020 2020 2020 2020 6375                cu
+00029690: 7272 656e 743d 5b77 696e 6469 6e67 315f  rrent=[winding1_
+000296a0: 616d 706c 6974 7564 655f 6c69 7374 5b30  amplitude_list[0
+000296b0: 5d2c 2077 696e 6469 6e67 325f 616d 706c  ], winding2_ampl
+000296c0: 6974 7564 655f 6c69 7374 5b30 5d5d 2c0a  itude_list[0]],.
+000296d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000296e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000296f0: 2020 2020 2020 7068 695f 6465 673d 5b77        phi_deg=[w
+00029700: 696e 6469 6e67 315f 7068 695f 7261 645f  inding1_phi_rad_
+00029710: 6c69 7374 5b30 5d2c 2077 696e 6469 6e67  list[0], winding
+00029720: 325f 7068 695f 7261 645f 6c69 7374 5b30  2_phi_rad_list[0
+00029730: 5d5d 290a 0a20 2020 2020 2020 2065 6c73  ]])..        els
+00029740: 653a 0a0a 2020 2020 2020 2020 2020 2020  e:..            
+00029750: 6966 2073 656c 662e 6d64 5f73 696d 756c  if self.md_simul
+00029760: 6174 696f 6e5f 7479 7065 5f63 6f6d 626f  ation_type_combo
+00029770: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+00029780: 2920 3d3d 2073 656c 662e 7472 616e 736c  ) == self.transl
+00029790: 6174 696f 6e5f 6469 6374 5b27 696e 6475  ation_dict['indu
+000297a0: 6374 6f72 275d 3a0a 2020 2020 2020 2020  ctor']:.        
+000297b0: 2020 2020 2020 2020 616d 706c 6974 7564          amplitud
+000297c0: 655f 6c69 7374 203d 205b 5d0a 2020 2020  e_list = [].    
+000297d0: 2020 2020 2020 2020 2020 2020 7072 696e              prin
+000297e0: 7428 6622 7b77 696e 6469 6e67 315f 616d  t(f"{winding1_am
+000297f0: 706c 6974 7564 655f 6c69 7374 3d7d 2229  plitude_list=}")
+00029800: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029810: 2066 6f72 2061 6d70 6c69 7475 6465 5f76   for amplitude_v
+00029820: 616c 7565 2069 6e20 7769 6e64 696e 6731  alue in winding1
+00029830: 5f61 6d70 6c69 7475 6465 5f6c 6973 743a  _amplitude_list:
+00029840: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+00029850: 2020 2020 2061 6d70 6c69 7475 6465 5f6c       amplitude_l
+00029860: 6973 742e 6170 7065 6e64 285b 616d 706c  ist.append([ampl
+00029870: 6974 7564 655f 7661 6c75 655d 290a 0a20  itude_value]).. 
+00029880: 2020 2020 2020 2020 2020 2020 2020 2070                 p
+00029890: 6861 7365 5f72 6164 5f6c 6973 7420 3d20  hase_rad_list = 
+000298a0: 5b5d 0a20 2020 2020 2020 2020 2020 2020  [].             
+000298b0: 2020 2066 6f72 2070 6861 7365 5f76 616c     for phase_val
+000298c0: 7565 2069 6e20 7769 6e64 696e 6731 5f70  ue in winding1_p
+000298d0: 6869 5f72 6164 5f6c 6973 743a 0a20 2020  hi_rad_list:.   
+000298e0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000298f0: 2070 6861 7365 5f72 6164 5f6c 6973 742e   phase_rad_list.
+00029900: 6170 7065 6e64 285b 7068 6173 655f 7661  append([phase_va
+00029910: 6c75 655d 290a 2020 2020 2020 2020 2020  lue]).          
+00029920: 2020 2020 2020 6765 6f2e 6578 6369 7461        geo.excita
+00029930: 7469 6f6e 5f73 7765 6570 2866 7265 7175  tion_sweep(frequ
+00029940: 656e 6379 5f6c 6973 743d 7769 6e64 696e  ency_list=windin
+00029950: 6731 5f66 7265 7175 656e 6379 5f6c 6973  g1_frequency_lis
+00029960: 742c 2063 7572 7265 6e74 5f6c 6973 745f  t, current_list_
+00029970: 6c69 7374 3d61 6d70 6c69 7475 6465 5f6c  list=amplitude_l
+00029980: 6973 742c 0a20 2020 2020 2020 2020 2020  ist,.           
+00029990: 2020 2020 2020 2020 2020 2020 2020 2020                  
+000299a0: 2020 2020 2020 2020 2020 7068 695f 6465            phi_de
+000299b0: 675f 6c69 7374 5f6c 6973 743d 7068 6173  g_list_list=phas
+000299c0: 655f 7261 645f 6c69 7374 290a 0a20 2020  e_rad_list)..   
+000299d0: 2020 2020 2020 2020 2065 6c69 6620 7365           elif se
+000299e0: 6c66 2e6d 645f 7369 6d75 6c61 7469 6f6e  lf.md_simulation
+000299f0: 5f74 7970 655f 636f 6d62 6f42 6f78 2e63  _type_comboBox.c
+00029a00: 7572 7265 6e74 5465 7874 2829 203d 3d20  urrentText() == 
+00029a10: 7365 6c66 2e74 7261 6e73 6c61 7469 6f6e  self.translation
+00029a20: 5f64 6963 745b 2774 7261 6e73 666f 726d  _dict['transform
+00029a30: 6572 275d 3a0a 2020 2020 2020 2020 2020  er']:.          
+00029a40: 2020 2020 2020 616d 706c 6974 7564 6531        amplitude1
+00029a50: 5f6c 6973 7420 3d20 5b5d 0a20 2020 2020  _list = [].     
+00029a60: 2020 2020 2020 2020 2020 2066 6f72 2061             for a
+00029a70: 6d70 6c69 7475 6465 315f 7661 6c75 652c  mplitude1_value,
+00029a80: 2061 6d70 6c69 7475 6465 325f 7661 6c75   amplitude2_valu
+00029a90: 6520 696e 207a 6970 2877 696e 6469 6e67  e in zip(winding
+00029aa0: 315f 616d 706c 6974 7564 655f 6c69 7374  1_amplitude_list
+00029ab0: 2c20 7769 6e64 696e 6732 5f61 6d70 6c69  , winding2_ampli
+00029ac0: 7475 6465 5f6c 6973 7429 3a0a 2020 2020  tude_list):.    
+00029ad0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029ae0: 616d 706c 6974 7564 6531 5f6c 6973 742e  amplitude1_list.
+00029af0: 6170 7065 6e64 285b 616d 706c 6974 7564  append([amplitud
+00029b00: 6531 5f76 616c 7565 2c20 616d 706c 6974  e1_value, amplit
+00029b10: 7564 6532 5f76 616c 7565 5d29 0a0a 2020  ude2_value])..  
+00029b20: 2020 2020 2020 2020 2020 2020 2020 7068                ph
+00029b30: 6173 6531 5f72 6164 5f6c 6973 7420 3d20  ase1_rad_list = 
+00029b40: 5b5d 0a20 2020 2020 2020 2020 2020 2020  [].             
+00029b50: 2020 2066 6f72 2070 6861 7365 315f 7661     for phase1_va
+00029b60: 6c75 652c 2070 6861 7365 325f 7661 6c75  lue, phase2_valu
+00029b70: 6520 696e 207a 6970 2877 696e 6469 6e67  e in zip(winding
+00029b80: 315f 7068 695f 7261 645f 6c69 7374 2c20  1_phi_rad_list, 
+00029b90: 7769 6e64 696e 6732 5f70 6869 5f72 6164  winding2_phi_rad
+00029ba0: 5f6c 6973 7429 3a0a 2020 2020 2020 2020  _list):.        
+00029bb0: 2020 2020 2020 2020 2020 2020 7068 6173              phas
+00029bc0: 6531 5f72 6164 5f6c 6973 742e 6170 7065  e1_rad_list.appe
+00029bd0: 6e64 285b 7068 6173 6531 5f76 616c 7565  nd([phase1_value
+00029be0: 2c20 7068 6173 6532 5f76 616c 7565 5d29  , phase2_value])
+00029bf0: 0a0a 2020 2020 2020 2020 2020 2020 2020  ..              
+00029c00: 2020 6765 6f2e 6578 6369 7461 7469 6f6e    geo.excitation
+00029c10: 5f73 7765 6570 2866 7265 7175 656e 6379  _sweep(frequency
+00029c20: 5f6c 6973 743d 7769 6e64 696e 6731 5f66  _list=winding1_f
+00029c30: 7265 7175 656e 6379 5f6c 6973 742c 0a20  requency_list,. 
+00029c40: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029c50: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029c60: 2020 2020 6375 7272 656e 745f 6c69 7374      current_list
+00029c70: 5f6c 6973 743d 616d 706c 6974 7564 6531  _list=amplitude1
+00029c80: 5f6c 6973 742c 0a20 2020 2020 2020 2020  _list,.         
+00029c90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029ca0: 2020 2020 2020 2020 2020 2020 7068 695f              phi_
+00029cb0: 6465 675f 6c69 7374 5f6c 6973 743d 7068  deg_list_list=ph
+00029cc0: 6173 6531 5f72 6164 5f6c 6973 7429 0a0a  ase1_rad_list)..
+00029cd0: 2020 2020 2020 2020 2020 2020 2320 6765              # ge
+00029ce0: 6f2e 6578 6369 7461 7469 6f6e 5f73 7765  o.excitation_swe
+00029cf0: 6570 2877 696e 6469 6e67 315f 6672 6571  ep(winding1_freq
+00029d00: 7565 6e63 795f 6c69 7374 2c20 616d 706c  uency_list, ampl
+00029d10: 6974 7564 655f 6c69 7374 2c20 7068 6173  itude_list, phas
+00029d20: 655f 7261 645f 6c69 7374 290a 0a20 2020  e_rad_list)..   
+00029d30: 2020 2020 2023 202d 2d2d 2d2d 2d2d 2d2d       # ---------
+00029d40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00029d50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00029d60: 2d2d 2d2d 2d2d 0a20 2020 2020 2020 2023  ------.        #
+00029d70: 2052 6561 6420 6261 636b 2072 6573 756c   Read back resul
+00029d80: 7473 0a20 2020 2020 2020 2023 202d 2d2d  ts.        # ---
+00029d90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00029da0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00029db0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2020  ------------..  
+00029dc0: 2020 2020 2020 7365 6c66 2e6d 645f 7369        self.md_si
+00029dd0: 6d75 6c61 7469 6f6e 5f51 4c61 6265 6c2e  mulation_QLabel.
+00029de0: 7365 7454 6578 7428 2773 696d 756c 6174  setText('simulat
+00029df0: 696f 6e20 6665 7274 6967 2e27 290a 0a20  ion fertig.').. 
+00029e00: 2020 2020 2020 2023 206c 6f61 6465 645f         # loaded_
+00029e10: 7265 7375 6c74 735f 6469 6374 203d 2066  results_dict = f
+00029e20: 6d74 2e76 6973 7561 6c69 7a65 5f73 696d  mt.visualize_sim
+00029e30: 756c 6174 696f 6e5f 7265 7375 6c74 7328  ulation_results(
+00029e40: 6765 6f2e 6669 6c65 5f64 6174 612e 6665  geo.file_data.fe
+00029e50: 6d6d 5f72 6573 756c 7473 5f6c 6f67 5f70  mm_results_log_p
+00029e60: 6174 682c 2027 2e2f 7265 7375 6c74 732e  ath, './results.
+00029e70: 706e 6727 2c20 7368 6f77 5f70 6c6f 743d  png', show_plot=
+00029e80: 4661 6c73 6529 0a20 2020 2020 2020 206c  False).        l
+00029e90: 6f61 6465 645f 7265 7375 6c74 735f 6469  oaded_results_di
+00029ea0: 6374 203d 2066 6d74 2e76 6973 7561 6c69  ct = fmt.visuali
+00029eb0: 7a65 5f73 696d 756c 6174 696f 6e5f 7265  ze_simulation_re
+00029ec0: 7375 6c74 7328 6765 6f2e 6669 6c65 5f64  sults(geo.file_d
+00029ed0: 6174 612e 655f 6d5f 7265 7375 6c74 735f  ata.e_m_results_
+00029ee0: 6c6f 675f 7061 7468 2c0a 2020 2020 2020  log_path,.      
+00029ef0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029f00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029f10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+00029f20: 2020 2020 2020 2020 2067 656f 2e66 696c           geo.fil
+00029f30: 655f 6461 7461 2e72 6573 756c 7473 5f65  e_data.results_e
+00029f40: 6d5f 7369 6d75 6c61 7469 6f6e 2c20 7368  m_simulation, sh
+00029f50: 6f77 5f70 6c6f 743d 4661 6c73 6529 0a20  ow_plot=False). 
+00029f60: 2020 2020 2020 2023 2070 6978 6d61 7020         # pixmap 
+00029f70: 3d20 5150 6978 6d61 7028 222e 2f72 6573  = QPixmap("./res
+00029f80: 756c 7473 2e70 6e67 2229 0a20 2020 2020  ults.png").     
+00029f90: 2020 2070 6978 6d61 7020 3d20 5150 6978     pixmap = QPix
+00029fa0: 6d61 7028 6765 6f2e 6669 6c65 5f64 6174  map(geo.file_dat
+00029fb0: 612e 7265 7375 6c74 735f 656d 5f73 696d  a.results_em_sim
+00029fc0: 756c 6174 696f 6e29 0a20 2020 2020 2020  ulation).       
+00029fd0: 2073 656c 662e 6d64 5f6c 6f73 735f 706c   self.md_loss_pl
+00029fe0: 6f74 5f6c 6162 656c 2e73 6574 5069 786d  ot_label.setPixm
+00029ff0: 6170 2870 6978 6d61 7029 0a20 2020 2020  ap(pixmap).     
+0002a000: 2020 2073 656c 662e 6d64 5f6c 6f73 735f     self.md_loss_
+0002a010: 706c 6f74 5f6c 6162 656c 2e73 6574 4d61  plot_label.setMa
+0002a020: 736b 2870 6978 6d61 702e 6d61 736b 2829  sk(pixmap.mask()
+0002a030: 290a 2020 2020 2020 2020 7365 6c66 2e6d  ).        self.m
+0002a040: 645f 6c6f 7373 5f70 6c6f 745f 6c61 6265  d_loss_plot_labe
+0002a050: 6c2e 7368 6f77 2829 0a0a 2020 2020 2020  l.show()..      
+0002a060: 2020 2320 696e 6475 6374 616e 6365 203d    # inductance =
+0002a070: 206c 6f61 6465 645f 7265 7375 6c74 735f   loaded_results_
+0002a080: 6469 6374 5b22 7369 6e67 6c65 5f73 7765  dict["single_swe
+0002a090: 6570 7322 5d5b 305d 5b22 7769 6e64 696e  eps"][0]["windin
+0002a0a0: 6731 225d 5b22 666c 7578 5f6f 7665 725f  g1"]["flux_over_
+0002a0b0: 6375 7272 656e 7422 5d5b 305d 0a20 2020  current"][0].   
+0002a0c0: 2020 2020 206c 6f73 735f 636f 7265 5f65       loss_core_e
+0002a0d0: 6464 795f 6375 7272 656e 7420 3d20 6c6f  ddy_current = lo
+0002a0e0: 6164 6564 5f72 6573 756c 7473 5f64 6963  aded_results_dic
+0002a0f0: 745b 2274 6f74 616c 5f6c 6f73 7365 7322  t["total_losses"
+0002a100: 5d5b 2265 6464 795f 636f 7265 225d 0a20  ]["eddy_core"]. 
+0002a110: 2020 2020 2020 206c 6f73 735f 636f 7265         loss_core
+0002a120: 5f68 7973 7465 7265 7369 7320 3d20 6c6f  _hysteresis = lo
+0002a130: 6164 6564 5f72 6573 756c 7473 5f64 6963  aded_results_dic
+0002a140: 745b 2274 6f74 616c 5f6c 6f73 7365 7322  t["total_losses"
+0002a150: 5d5b 2268 7973 745f 636f 7265 5f66 756e  ]["hyst_core_fun
+0002a160: 6461 6d65 6e74 616c 5f66 7265 7122 5d0a  damental_freq"].
+0002a170: 2020 2020 2020 2020 2320 6c6f 7373 5f77          # loss_w
+0002a180: 696e 6469 6e67 5f31 203d 206c 6f61 6465  inding_1 = loade
+0002a190: 645f 7265 7375 6c74 735f 6469 6374 5b22  d_results_dict["
+0002a1a0: 746f 7461 6c5f 6c6f 7373 6573 225d 5b22  total_losses"]["
+0002a1b0: 7769 6e64 696e 6731 225d 5b22 746f 7461  winding1"]["tota
+0002a1c0: 6c22 5d0a 2020 2020 2020 2020 7365 6c66  l"].        self
+0002a1d0: 2e6d 645f 6c6f 7373 5f63 6f72 655f 6879  .md_loss_core_hy
+0002a1e0: 7374 6572 6573 6973 5f6c 6162 656c 2e73  steresis_label.s
+0002a1f0: 6574 5465 7874 2866 2243 6f72 6520 4879  etText(f"Core Hy
+0002a200: 7374 6572 6573 6973 206c 6f73 733a 207b  steresis loss: {
+0002a210: 6c6f 7373 5f63 6f72 655f 6879 7374 6572  loss_core_hyster
+0002a220: 6573 6973 7d20 5722 290a 2020 2020 2020  esis} W").      
+0002a230: 2020 7365 6c66 2e6d 645f 6c6f 7373 5f63    self.md_loss_c
+0002a240: 6f72 655f 6564 6479 5f63 7572 7265 6e74  ore_eddy_current
+0002a250: 5f6c 6162 656c 2e73 6574 5465 7874 2866  _label.setText(f
+0002a260: 2243 6f72 6520 4564 6479 2043 7572 7265  "Core Eddy Curre
+0002a270: 6e74 206c 6f73 733a 207b 6c6f 7373 5f63  nt loss: {loss_c
+0002a280: 6f72 655f 6564 6479 5f63 7572 7265 6e74  ore_eddy_current
+0002a290: 7d20 5722 290a 2020 2020 2020 2020 2320  } W").        # 
+0002a2a0: 7365 6c66 2e6d 645f 6c6f 7373 5f77 696e  self.md_loss_win
+0002a2b0: 6469 6e67 315f 6c61 6265 6c2e 7365 7454  ding1_label.setT
+0002a2c0: 6578 7428 6622 5769 6e64 696e 6720 3120  ext(f"Winding 1 
+0002a2d0: 6c6f 7373 3a20 7b6c 6f73 735f 7769 6e64  loss: {loss_wind
+0002a2e0: 696e 675f 317d 2057 2229 0a20 2020 2020  ing_1} W").     
+0002a2f0: 2020 2023 2073 656c 662e 6d64 5f69 6e64     # self.md_ind
+0002a300: 7563 7461 6e63 655f 6c61 6265 6c2e 7365  uctance_label.se
+0002a310: 7454 6578 7428 6622 5072 696d 6172 7920  tText(f"Primary 
+0002a320: 496e 6475 6374 616e 6365 3a20 7b69 6e64  Inductance: {ind
+0002a330: 7563 7461 6e63 657d 2048 2229 0a20 2020  uctance} H").   
+0002a340: 2020 2020 2069 6e64 7563 7461 6e63 6573       inductances
+0002a350: 203d 205b 5d0a 2020 2020 2020 2020 7769   = [].        wi
+0002a360: 6e64 696e 6773 5f6c 6f73 7320 3d20 5b5d  ndings_loss = []
+0002a370: 0a20 2020 2020 2020 2066 6f72 2069 2069  .        for i i
+0002a380: 6e20 7261 6e67 6528 312c 2033 293a 2020  n range(1, 3):  
+0002a390: 2320 666f 7220 3320 7769 6e64 696e 6773  # for 3 windings
+0002a3a0: 0a20 2020 2020 2020 2020 2020 2077 696e  .            win
+0002a3b0: 6469 6e67 5f6b 6579 203d 2066 2277 696e  ding_key = f"win
+0002a3c0: 6469 6e67 7b69 7d22 0a20 2020 2020 2020  ding{i}".       
+0002a3d0: 2020 2020 2069 6620 7769 6e64 696e 675f       if winding_
+0002a3e0: 6b65 7920 696e 206c 6f61 6465 645f 7265  key in loaded_re
+0002a3f0: 7375 6c74 735f 6469 6374 5b22 7369 6e67  sults_dict["sing
+0002a400: 6c65 5f73 7765 6570 7322 5d5b 305d 3a0a  le_sweeps"][0]:.
+0002a410: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002a420: 696e 6475 6374 616e 6365 732e 6170 7065  inductances.appe
+0002a430: 6e64 286c 6f61 6465 645f 7265 7375 6c74  nd(loaded_result
+0002a440: 735f 6469 6374 5b22 7369 6e67 6c65 5f73  s_dict["single_s
+0002a450: 7765 6570 7322 5d5b 305d 5b77 696e 6469  weeps"][0][windi
+0002a460: 6e67 5f6b 6579 5d5b 2266 6c75 785f 6f76  ng_key]["flux_ov
+0002a470: 6572 5f63 7572 7265 6e74 225d 5b30 5d29  er_current"][0])
+0002a480: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002a490: 2077 696e 6469 6e67 735f 6c6f 7373 2e61   windings_loss.a
+0002a4a0: 7070 656e 6428 6c6f 6164 6564 5f72 6573  ppend(loaded_res
+0002a4b0: 756c 7473 5f64 6963 745b 2274 6f74 616c  ults_dict["total
+0002a4c0: 5f6c 6f73 7365 7322 5d5b 7769 6e64 696e  _losses"][windin
+0002a4d0: 675f 6b65 795d 5b22 746f 7461 6c22 5d29  g_key]["total"])
+0002a4e0: 0a0a 2020 2020 2020 2020 2320 7368 6f77  ..        # show
+0002a4f0: 2074 6865 6d20 6a75 7374 2066 6f72 2032   them just for 2
+0002a500: 2077 696e 6469 6e67 7320 696e 2047 5549   windings in GUI
+0002a510: 0a20 2020 2020 2020 2069 6620 7365 6c66  .        if self
+0002a520: 2e6d 645f 7369 6d75 6c61 7469 6f6e 5f74  .md_simulation_t
+0002a530: 7970 655f 636f 6d62 6f42 6f78 2e63 7572  ype_comboBox.cur
+0002a540: 7265 6e74 5465 7874 2829 203d 3d20 7365  rentText() == se
+0002a550: 6c66 2e74 7261 6e73 6c61 7469 6f6e 5f64  lf.translation_d
+0002a560: 6963 745b 2769 6e64 7563 746f 7227 5d3a  ict['inductor']:
+0002a570: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0002a580: 662e 6d64 5f6c 6f73 735f 7769 6e64 696e  f.md_loss_windin
+0002a590: 6731 5f6c 6162 656c 2e73 6574 5465 7874  g1_label.setText
+0002a5a0: 2866 2257 696e 6469 6e67 2031 206c 6f73  (f"Winding 1 los
+0002a5b0: 733a 207b 7769 6e64 696e 6773 5f6c 6f73  s: {windings_los
+0002a5c0: 735b 305d 7d20 5722 290a 2020 2020 2020  s[0]} W").      
+0002a5d0: 2020 2020 2020 7365 6c66 2e6d 645f 696e        self.md_in
+0002a5e0: 6475 6374 616e 6365 315f 6c61 6265 6c2e  ductance1_label.
+0002a5f0: 7365 7454 6578 7428 6622 5072 696d 6172  setText(f"Primar
+0002a600: 7920 496e 6475 6374 616e 6365 3a20 7b69  y Inductance: {i
+0002a610: 6e64 7563 7461 6e63 6573 5b30 5d7d 2048  nductances[0]} H
+0002a620: 2229 0a20 2020 2020 2020 2065 6c69 6620  ").        elif 
+0002a630: 7365 6c66 2e6d 645f 7369 6d75 6c61 7469  self.md_simulati
+0002a640: 6f6e 5f74 7970 655f 636f 6d62 6f42 6f78  on_type_comboBox
+0002a650: 2e63 7572 7265 6e74 5465 7874 2829 203d  .currentText() =
+0002a660: 3d20 7365 6c66 2e74 7261 6e73 6c61 7469  = self.translati
+0002a670: 6f6e 5f64 6963 745b 2774 7261 6e73 666f  on_dict['transfo
+0002a680: 726d 6572 275d 3a0a 2020 2020 2020 2020  rmer']:.        
+0002a690: 2020 2020 7365 6c66 2e6d 645f 6c6f 7373      self.md_loss
+0002a6a0: 5f77 696e 6469 6e67 315f 6c61 6265 6c2e  _winding1_label.
+0002a6b0: 7365 7454 6578 7428 6622 5769 6e64 696e  setText(f"Windin
+0002a6c0: 6720 3120 6c6f 7373 3a20 7b77 696e 6469  g 1 loss: {windi
+0002a6d0: 6e67 735f 6c6f 7373 5b30 5d7d 2057 2229  ngs_loss[0]} W")
+0002a6e0: 0a20 2020 2020 2020 2020 2020 2073 656c  .            sel
+0002a6f0: 662e 6d64 5f6c 6f73 735f 7769 6e64 696e  f.md_loss_windin
+0002a700: 6732 5f6c 6162 656c 2e73 6574 5465 7874  g2_label.setText
+0002a710: 2866 2257 696e 6469 6e67 2032 206c 6f73  (f"Winding 2 los
+0002a720: 733a 207b 7769 6e64 696e 6773 5f6c 6f73  s: {windings_los
+0002a730: 735b 315d 7d20 5722 290a 2020 2020 2020  s[1]} W").      
+0002a740: 2020 2020 2020 7365 6c66 2e6d 645f 696e        self.md_in
+0002a750: 6475 6374 616e 6365 315f 6c61 6265 6c2e  ductance1_label.
+0002a760: 7365 7454 6578 7428 6622 5072 696d 6172  setText(f"Primar
+0002a770: 7920 496e 6475 6374 616e 6365 3a20 7b69  y Inductance: {i
+0002a780: 6e64 7563 7461 6e63 6573 5b30 5d7d 2048  nductances[0]} H
+0002a790: 2229 0a20 2020 2020 2020 2020 2020 2073  ").            s
+0002a7a0: 656c 662e 6d64 5f69 6e64 7563 7461 6e63  elf.md_inductanc
+0002a7b0: 6532 5f6c 6162 656c 2e73 6574 5465 7874  e2_label.setText
+0002a7c0: 2866 2253 6563 6f6e 6461 7279 2049 6e64  (f"Secondary Ind
+0002a7d0: 7563 7461 6e63 653a 207b 696e 6475 6374  uctance: {induct
+0002a7e0: 616e 6365 735b 315d 7d20 4822 290a 0a20  ances[1]} H").. 
+0002a7f0: 2020 2020 2020 2023 206c 6f67 5f70 6174         # log_pat
+0002a800: 6820 3d20 6765 6f2e 655f 6d5f 7265 7375  h = geo.e_m_resu
+0002a810: 6c74 735f 6c6f 675f 7061 7468 0a20 2020  lts_log_path.   
+0002a820: 2020 2020 2023 2073 696d 756c 6174 696f       # simulatio
+0002a830: 6e5f 7265 7375 6c74 7320 3d20 7374 7228  n_results = str(
+0002a840: 666d 742e 7265 6164 5f72 6573 756c 7473  fmt.read_results
+0002a850: 5f6c 6f67 286c 6f67 5f70 6174 6829 290a  _log(log_path)).
+0002a860: 2020 2020 2020 2020 2320 7072 696e 7428          # print(
+0002a870: 7369 6d75 6c61 7469 6f6e 5f72 6573 756c  simulation_resul
+0002a880: 7473 290a 2020 2020 2020 2020 2320 7365  ts).        # se
+0002a890: 6c66 2e6d 645f 7369 6d75 6c61 7469 6f6e  lf.md_simulation
+0002a8a0: 5f6f 7574 7075 745f 7465 7874 4272 6f77  _output_textBrow
+0002a8b0: 7365 722e 7365 7454 6578 7428 7369 6d75  ser.setText(simu
+0002a8c0: 6c61 7469 6f6e 5f72 6573 756c 7473 290a  lation_results).
+0002a8d0: 0a20 2020 2064 6566 2069 6e64 7563 7461  .    def inducta
+0002a8e0: 6e63 6563 616c 6328 7365 6c66 293a 0a20  ncecalc(self):. 
+0002a8f0: 2020 2020 2020 2022 2222 4361 6c63 756c         """Calcul
+0002a900: 6174 6520 696e 6475 6374 616e 6365 2066  ate inductance f
+0002a910: 726f 6d20 6769 7665 6e20 6765 6f6d 6574  rom given geomet
+0002a920: 7269 6573 2e22 2222 0a20 2020 2020 2020  ries.""".       
+0002a930: 2061 6972 5f67 6170 5f63 6f75 6e74 203d   air_gap_count =
+0002a940: 2069 6e74 2873 656c 662e 6d64 5f61 6972   int(self.md_air
+0002a950: 5f67 6170 5f63 6f75 6e74 5f63 6f6d 626f  _gap_count_combo
+0002a960: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+0002a970: 2929 0a20 2020 2020 2020 2061 6972 5f67  )).        air_g
+0002a980: 6170 5f68 6569 6768 745f 6172 7261 7920  ap_height_array 
+0002a990: 3d20 5b5d 0a20 2020 2020 2020 2061 6972  = [].        air
+0002a9a0: 5f67 6170 5f70 6f73 6974 696f 6e5f 6172  _gap_position_ar
+0002a9b0: 7261 7920 3d20 5b5d 0a20 2020 2020 2020  ray = [].       
+0002a9c0: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
+0002a9d0: 6e5f 7461 675f 6172 7261 7920 3d20 5b5d  n_tag_array = []
+0002a9e0: 0a0a 2020 2020 2020 2020 6966 2061 6972  ..        if air
+0002a9f0: 5f67 6170 5f63 6f75 6e74 203e 3d20 313a  _gap_count >= 1:
+0002aa00: 0a20 2020 2020 2020 2020 2020 206d 645f  .            md_
+0002aa10: 6169 725f 6761 705f 315f 6865 6967 6874  air_gap_1_height
+0002aa20: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+0002aa30: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+0002aa40: 2e6d 645f 6169 725f 6761 705f 315f 6c65  .md_air_gap_1_le
+0002aa50: 6e67 7468 5f6c 696e 6545 6469 742e 7465  ngth_lineEdit.te
+0002aa60: 7874 2829 290a 2020 2020 2020 2020 2020  xt()).          
+0002aa70: 2020 6d64 5f61 6972 5f67 6170 5f31 5f70    md_air_gap_1_p
+0002aa80: 6f73 6974 696f 6e20 3d20 636f 6d6d 615f  osition = comma_
+0002aa90: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+0002aaa0: 6174 2873 656c 662e 6d64 5f61 6972 5f67  at(self.md_air_g
+0002aab0: 6170 5f31 5f70 6f73 6974 696f 6e5f 6c69  ap_1_position_li
+0002aac0: 6e65 4564 6974 2e74 6578 7428 2929 0a0a  neEdit.text())..
+0002aad0: 2020 2020 2020 2020 2020 2020 6169 725f              air_
+0002aae0: 6761 705f 6865 6967 6874 5f61 7272 6179  gap_height_array
+0002aaf0: 2e61 7070 656e 6428 6d64 5f61 6972 5f67  .append(md_air_g
+0002ab00: 6170 5f31 5f68 6569 6768 7429 0a20 2020  ap_1_height).   
+0002ab10: 2020 2020 2020 2020 2061 6972 5f67 6170           air_gap
+0002ab20: 5f70 6f73 6974 696f 6e5f 6172 7261 792e  _position_array.
+0002ab30: 6170 7065 6e64 286d 645f 6169 725f 6761  append(md_air_ga
+0002ab40: 705f 315f 706f 7369 7469 6f6e 290a 2020  p_1_position).  
+0002ab50: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+0002ab60: 705f 706f 7369 7469 6f6e 5f74 6167 5f61  p_position_tag_a
+0002ab70: 7272 6179 2e61 7070 656e 6428 3029 0a0a  rray.append(0)..
+0002ab80: 2020 2020 2020 2020 6966 2061 6972 5f67          if air_g
+0002ab90: 6170 5f63 6f75 6e74 203e 3d20 323a 0a20  ap_count >= 2:. 
+0002aba0: 2020 2020 2020 2020 2020 206d 645f 6169             md_ai
+0002abb0: 725f 6761 705f 325f 6865 6967 6874 203d  r_gap_2_height =
+0002abc0: 2063 6f6d 6d61 5f73 7472 5f74 6f5f 706f   comma_str_to_po
+0002abd0: 696e 745f 666c 6f61 7428 7365 6c66 2e6d  int_float(self.m
+0002abe0: 645f 6169 725f 6761 705f 325f 6c65 6e67  d_air_gap_2_leng
+0002abf0: 7468 5f6c 696e 6545 6469 742e 7465 7874  th_lineEdit.text
+0002ac00: 2829 290a 2020 2020 2020 2020 2020 2020  ()).            
+0002ac10: 6d64 5f61 6972 5f67 6170 5f32 5f70 6f73  md_air_gap_2_pos
+0002ac20: 6974 696f 6e20 3d20 636f 6d6d 615f 7374  ition = comma_st
+0002ac30: 725f 746f 5f70 6f69 6e74 5f66 6c6f 6174  r_to_point_float
+0002ac40: 2873 656c 662e 6d64 5f61 6972 5f67 6170  (self.md_air_gap
+0002ac50: 5f32 5f70 6f73 6974 696f 6e5f 6c69 6e65  _2_position_line
+0002ac60: 4564 6974 2e74 6578 7428 2929 0a0a 2020  Edit.text())..  
+0002ac70: 2020 2020 2020 2020 2020 6169 725f 6761            air_ga
+0002ac80: 705f 6865 6967 6874 5f61 7272 6179 2e61  p_height_array.a
+0002ac90: 7070 656e 6428 6d64 5f61 6972 5f67 6170  ppend(md_air_gap
+0002aca0: 5f32 5f68 6569 6768 7429 0a20 2020 2020  _2_height).     
+0002acb0: 2020 2020 2020 2061 6972 5f67 6170 5f70         air_gap_p
+0002acc0: 6f73 6974 696f 6e5f 6172 7261 792e 6170  osition_array.ap
+0002acd0: 7065 6e64 286d 645f 6169 725f 6761 705f  pend(md_air_gap_
+0002ace0: 325f 706f 7369 7469 6f6e 290a 2020 2020  2_position).    
+0002acf0: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
+0002ad00: 706f 7369 7469 6f6e 5f74 6167 5f61 7272  position_tag_arr
+0002ad10: 6179 2e61 7070 656e 6428 3029 0a0a 2020  ay.append(0)..  
+0002ad20: 2020 2020 2020 6966 2061 6972 5f67 6170        if air_gap
+0002ad30: 5f63 6f75 6e74 203e 3d20 333a 0a20 2020  _count >= 3:.   
+0002ad40: 2020 2020 2020 2020 206d 645f 6169 725f           md_air_
+0002ad50: 6761 705f 335f 6865 6967 6874 203d 2063  gap_3_height = c
+0002ad60: 6f6d 6d61 5f73 7472 5f74 6f5f 706f 696e  omma_str_to_poin
+0002ad70: 745f 666c 6f61 7428 7365 6c66 2e6d 645f  t_float(self.md_
+0002ad80: 6169 725f 6761 705f 335f 6c65 6e67 7468  air_gap_3_length
+0002ad90: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+0002ada0: 290a 2020 2020 2020 2020 2020 2020 6d64  ).            md
+0002adb0: 5f61 6972 5f67 6170 5f33 5f70 6f73 6974  _air_gap_3_posit
+0002adc0: 696f 6e20 3d20 636f 6d6d 615f 7374 725f  ion = comma_str_
+0002add0: 746f 5f70 6f69 6e74 5f66 6c6f 6174 2873  to_point_float(s
+0002ade0: 656c 662e 6d64 5f61 6972 5f67 6170 5f33  elf.md_air_gap_3
+0002adf0: 5f70 6f73 6974 696f 6e5f 6c69 6e65 4564  _position_lineEd
+0002ae00: 6974 2e74 6578 7428 2929 0a0a 2020 2020  it.text())..    
+0002ae10: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
+0002ae20: 6865 6967 6874 5f61 7272 6179 2e61 7070  height_array.app
+0002ae30: 656e 6428 6d64 5f61 6972 5f67 6170 5f33  end(md_air_gap_3
+0002ae40: 5f68 6569 6768 7429 0a20 2020 2020 2020  _height).       
+0002ae50: 2020 2020 2061 6972 5f67 6170 5f70 6f73       air_gap_pos
+0002ae60: 6974 696f 6e5f 6172 7261 792e 6170 7065  ition_array.appe
+0002ae70: 6e64 286d 645f 6169 725f 6761 705f 335f  nd(md_air_gap_3_
+0002ae80: 706f 7369 7469 6f6e 290a 2020 2020 2020  position).      
+0002ae90: 2020 2020 2020 6169 725f 6761 705f 706f        air_gap_po
+0002aea0: 7369 7469 6f6e 5f74 6167 5f61 7272 6179  sition_tag_array
+0002aeb0: 2e61 7070 656e 6428 3029 0a0a 2020 2020  .append(0)..    
+0002aec0: 2020 2020 6966 2061 6972 5f67 6170 5f63      if air_gap_c
+0002aed0: 6f75 6e74 203e 3d20 343a 0a20 2020 2020  ount >= 4:.     
+0002aee0: 2020 2020 2020 206d 645f 6169 725f 6761         md_air_ga
+0002aef0: 705f 345f 6865 6967 6874 203d 2063 6f6d  p_4_height = com
+0002af00: 6d61 5f73 7472 5f74 6f5f 706f 696e 745f  ma_str_to_point_
+0002af10: 666c 6f61 7428 7365 6c66 2e6d 645f 6169  float(self.md_ai
+0002af20: 725f 6761 705f 345f 6c65 6e67 7468 5f6c  r_gap_4_length_l
+0002af30: 696e 6545 6469 742e 7465 7874 2829 290a  ineEdit.text()).
+0002af40: 2020 2020 2020 2020 2020 2020 6d64 5f61              md_a
+0002af50: 6972 5f67 6170 5f34 5f70 6f73 6974 696f  ir_gap_4_positio
+0002af60: 6e20 3d20 636f 6d6d 615f 7374 725f 746f  n = comma_str_to
+0002af70: 5f70 6f69 6e74 5f66 6c6f 6174 2873 656c  _point_float(sel
+0002af80: 662e 6d64 5f61 6972 5f67 6170 5f34 5f70  f.md_air_gap_4_p
+0002af90: 6f73 6974 696f 6e5f 6c69 6e65 4564 6974  osition_lineEdit
+0002afa0: 2e74 6578 7428 2929 0a0a 2020 2020 2020  .text())..      
+0002afb0: 2020 2020 2020 6169 725f 6761 705f 6865        air_gap_he
+0002afc0: 6967 6874 5f61 7272 6179 2e61 7070 656e  ight_array.appen
+0002afd0: 6428 6d64 5f61 6972 5f67 6170 5f34 5f68  d(md_air_gap_4_h
+0002afe0: 6569 6768 7429 0a20 2020 2020 2020 2020  eight).         
+0002aff0: 2020 2061 6972 5f67 6170 5f70 6f73 6974     air_gap_posit
+0002b000: 696f 6e5f 6172 7261 792e 6170 7065 6e64  ion_array.append
+0002b010: 286d 645f 6169 725f 6761 705f 345f 706f  (md_air_gap_4_po
+0002b020: 7369 7469 6f6e 290a 2020 2020 2020 2020  sition).        
+0002b030: 2020 2020 6169 725f 6761 705f 706f 7369      air_gap_posi
+0002b040: 7469 6f6e 5f74 6167 5f61 7272 6179 2e61  tion_tag_array.a
+0002b050: 7070 656e 6428 3029 0a0a 2020 2020 2020  ppend(0)..      
+0002b060: 2020 6966 2061 6972 5f67 6170 5f63 6f75    if air_gap_cou
+0002b070: 6e74 203e 3d20 353a 0a20 2020 2020 2020  nt >= 5:.       
+0002b080: 2020 2020 206d 645f 6169 725f 6761 705f       md_air_gap_
+0002b090: 355f 6865 6967 6874 203d 2063 6f6d 6d61  5_height = comma
+0002b0a0: 5f73 7472 5f74 6f5f 706f 696e 745f 666c  _str_to_point_fl
+0002b0b0: 6f61 7428 7365 6c66 2e6d 645f 6169 725f  oat(self.md_air_
+0002b0c0: 6761 705f 355f 6c65 6e67 7468 5f6c 696e  gap_5_length_lin
+0002b0d0: 6545 6469 742e 7465 7874 2829 290a 2020  eEdit.text()).  
+0002b0e0: 2020 2020 2020 2020 2020 6d64 5f61 6972            md_air
+0002b0f0: 5f67 6170 5f35 5f70 6f73 6974 696f 6e20  _gap_5_position 
+0002b100: 3d20 636f 6d6d 615f 7374 725f 746f 5f70  = comma_str_to_p
+0002b110: 6f69 6e74 5f66 6c6f 6174 2873 656c 662e  oint_float(self.
+0002b120: 6d64 5f61 6972 5f67 6170 5f35 5f70 6f73  md_air_gap_5_pos
+0002b130: 6974 696f 6e5f 6c69 6e65 4564 6974 2e74  ition_lineEdit.t
+0002b140: 6578 7428 2929 0a0a 2020 2020 2020 2020  ext())..        
+0002b150: 2020 2020 6169 725f 6761 705f 6865 6967      air_gap_heig
+0002b160: 6874 5f61 7272 6179 2e61 7070 656e 6428  ht_array.append(
+0002b170: 6d64 5f61 6972 5f67 6170 5f35 5f68 6569  md_air_gap_5_hei
+0002b180: 6768 7429 0a20 2020 2020 2020 2020 2020  ght).           
+0002b190: 2061 6972 5f67 6170 5f70 6f73 6974 696f   air_gap_positio
+0002b1a0: 6e5f 6172 7261 792e 6170 7065 6e64 286d  n_array.append(m
+0002b1b0: 645f 6169 725f 6761 705f 355f 706f 7369  d_air_gap_5_posi
+0002b1c0: 7469 6f6e 290a 2020 2020 2020 2020 2020  tion).          
+0002b1d0: 2020 6169 725f 6761 705f 706f 7369 7469    air_gap_positi
+0002b1e0: 6f6e 5f74 6167 5f61 7272 6179 2e61 7070  on_tag_array.app
+0002b1f0: 656e 6428 3029 0a0a 2020 2020 2020 2020  end(0)..        
+0002b200: 7365 6c66 2e63 6f72 655f 7720 3d20 636f  self.core_w = co
+0002b210: 6d6d 615f 7374 725f 746f 5f70 6f69 6e74  mma_str_to_point
+0002b220: 5f66 6c6f 6174 2873 656c 662e 6d64 5f63  _float(self.md_c
+0002b230: 6f72 655f 7769 6474 685f 6c69 6e65 4564  ore_width_lineEd
+0002b240: 6974 2e74 6578 7428 2929 0a20 2020 2020  it.text()).     
+0002b250: 2020 2073 656c 662e 7769 6e64 6f77 5f77     self.window_w
+0002b260: 203d 2063 6f6d 6d61 5f73 7472 5f74 6f5f   = comma_str_to_
+0002b270: 706f 696e 745f 666c 6f61 7428 7365 6c66  point_float(self
+0002b280: 2e6d 645f 7769 6e64 6f77 5f77 6964 7468  .md_window_width
+0002b290: 5f6c 696e 6545 6469 742e 7465 7874 2829  _lineEdit.text()
+0002b2a0: 290a 2020 2020 2020 2020 7365 6c66 2e77  ).        self.w
+0002b2b0: 696e 646f 775f 6820 3d20 636f 6d6d 615f  indow_h = comma_
+0002b2c0: 7374 725f 746f 5f70 6f69 6e74 5f66 6c6f  str_to_point_flo
+0002b2d0: 6174 2873 656c 662e 6d64 5f77 696e 646f  at(self.md_windo
+0002b2e0: 775f 6865 6967 6874 5f6c 696e 6545 6469  w_height_lineEdi
+0002b2f0: 742e 7465 7874 2829 290a 2020 2020 2020  t.text()).      
+0002b300: 2020 6e5f 7475 726e 7320 3d20 696e 7428    n_turns = int(
+0002b310: 7365 6c66 2e6d 645f 7769 6e64 696e 6731  self.md_winding1
+0002b320: 5f74 7572 6e73 5f6c 696e 6545 6469 742e  _turns_lineEdit.
+0002b330: 7465 7874 2829 290a 2020 2020 2020 2020  text()).        
+0002b340: 6d65 7468 6f64 203d 2028 7365 6c66 2e6d  method = (self.m
+0002b350: 645f 6169 725f 6761 705f 706c 6163 656d  d_air_gap_placem
+0002b360: 656e 745f 6d65 7468 6f64 5f63 6f6d 626f  ent_method_combo
+0002b370: 426f 782e 6375 7272 656e 7454 6578 7428  Box.currentText(
+0002b380: 2929 0a20 2020 2020 2020 2023 206d 7572  )).        # mur
+0002b390: 656c 203d 2064 6174 6162 6173 652e 6765  el = database.ge
+0002b3a0: 745f 696e 6974 6961 6c5f 7065 726d 6561  t_initial_permea
+0002b3b0: 6269 6c69 7479 2873 656c 662e 6d64 5f63  bility(self.md_c
+0002b3c0: 6f72 655f 6d61 7465 7269 616c 5f63 6f6d  ore_material_com
+0002b3d0: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+0002b3e0: 7428 2929 0a20 2020 2020 2020 2023 206d  t()).        # m
+0002b3f0: 7572 656c 203d 2064 6174 6162 6173 652e  urel = database.
+0002b400: 6765 745f 696e 6974 6961 6c5f 7065 726d  get_initial_perm
+0002b410: 6561 6269 6c69 7479 2822 4e39 3522 290a  eability("N95").
+0002b420: 2020 2020 2020 2020 6169 725f 6761 705f          air_gap_
+0002b430: 6820 3d20 7365 6c66 2e6d 645f 6169 725f  h = self.md_air_
+0002b440: 6761 705f 315f 6c65 6e67 7468 5f6c 696e  gap_1_length_lin
+0002b450: 6545 6469 742e 7465 7874 2829 0a20 2020  eEdit.text().   
+0002b460: 2020 2020 2061 6972 5f67 6170 5f70 6f73       air_gap_pos
+0002b470: 6974 696f 6e20 3d20 7365 6c66 2e6d 645f  ition = self.md_
+0002b480: 6169 725f 6761 705f 315f 706f 7369 7469  air_gap_1_positi
+0002b490: 6f6e 5f6c 696e 6545 6469 742e 7465 7874  on_lineEdit.text
+0002b4a0: 2829 0a0a 2020 2020 2020 2020 2320 6d61  ()..        # ma
+0002b4b0: 7465 7269 616c 5f6e 616d 6573 203d 205b  terial_names = [
+0002b4c0: 5d0a 2020 2020 2020 2020 2320 6d61 7465  ].        # mate
+0002b4d0: 7269 616c 5f6e 616d 6573 2e61 7070 656e  rial_names.appen
+0002b4e0: 6428 7365 6c66 2e6d 645f 636f 7265 5f6d  d(self.md_core_m
+0002b4f0: 6174 6572 6961 6c5f 636f 6d62 6f42 6f78  aterial_comboBox
+0002b500: 2e63 7572 7265 6e74 5465 7874 2829 290a  .currentText()).
+0002b510: 2020 2020 2020 2020 2320 6d75 5f72 656c          # mu_rel
+0002b520: 5f76 616c 203d 205b 6461 7461 6261 7365  _val = [database
+0002b530: 2e67 6574 5f6d 6174 6572 6961 6c5f 6174  .get_material_at
+0002b540: 7472 6962 7574 6528 6d61 7465 7269 616c  tribute(material
+0002b550: 5f6e 616d 653d 6d61 7465 7269 616c 5f6e  _name=material_n
+0002b560: 616d 652c 2061 7474 7269 6275 7465 3d22  ame, attribute="
+0002b570: 696e 6974 6961 6c5f 7065 726d 6561 6269  initial_permeabi
+0002b580: 6c69 7479 2229 0a20 2020 2020 2020 2023  lity").        #
+0002b590: 2020 2020 2020 2020 2020 2020 2020 2066                 f
+0002b5a0: 6f72 206d 6174 6572 6961 6c5f 6e61 6d65  or material_name
+0002b5b0: 2069 6e20 6d61 7465 7269 616c 5f6e 616d   in material_nam
+0002b5c0: 6573 5d0a 2020 2020 2020 2020 2320 6d75  es].        # mu
+0002b5d0: 5f72 656c 203d 205b 696e 7428 6974 656d  _rel = [int(item
+0002b5e0: 2920 666f 7220 6974 656d 2069 6e20 6d75  ) for item in mu
+0002b5f0: 5f72 656c 5f76 616c 5d0a 0a20 2020 2020  _rel_val]..     
+0002b600: 2020 2023 2046 6574 6368 2074 6865 2063     # Fetch the c
+0002b610: 7572 7265 6e74 206d 6174 6572 6961 6c20  urrent material 
+0002b620: 6e61 6d65 2066 726f 6d20 7468 6520 636f  name from the co
+0002b630: 6d62 6f62 6f78 0a20 2020 2020 2020 206d  mbobox.        m
+0002b640: 6174 6572 6961 6c5f 6e61 6d65 5f73 7472  aterial_name_str
+0002b650: 203d 2073 656c 662e 6d64 5f63 6f72 655f   = self.md_core_
+0002b660: 6d61 7465 7269 616c 5f63 6f6d 626f 426f  material_comboBo
+0002b670: 782e 6375 7272 656e 7454 6578 7428 290a  x.currentText().
+0002b680: 2020 2020 2020 2020 2320 436f 6e76 6572          # Conver
+0002b690: 7420 7468 6520 7374 7269 6e67 2074 6f20  t the string to 
+0002b6a0: 656e 756d 0a20 2020 2020 2020 206d 6174  enum.        mat
+0002b6b0: 6572 6961 6c5f 656e 756d 203d 2073 656c  erial_enum = sel
+0002b6c0: 662e 7374 7269 6e67 5f74 6f5f 6d61 7465  f.string_to_mate
+0002b6d0: 7269 616c 5f65 6e75 6d28 6d61 7465 7269  rial_enum(materi
+0002b6e0: 616c 5f6e 616d 655f 7374 7229 0a0a 2020  al_name_str)..  
+0002b6f0: 2020 2020 2020 2320 696e 6974 6961 6c20        # initial 
+0002b700: 7065 726d 6561 6269 6c69 7479 2066 726f  permeability fro
+0002b710: 6d20 7468 6520 6461 7461 6261 7365 2075  m the database u
+0002b720: 7369 6e67 2074 6865 2065 6e75 6d20 6d61  sing the enum ma
+0002b730: 7465 7269 616c 0a20 2020 2020 2020 2023  terial.        #
+0002b740: 204e 6f20 6e65 6564 2066 6f72 2061 206c   No need for a l
+0002b750: 6f6f 7020 6173 2074 6865 2075 7365 7220  oop as the user 
+0002b760: 6361 6e20 6368 6f6f 7365 206f 6e6c 7920  can choose only 
+0002b770: 6f6e 6520 6d61 7465 7269 616c 2069 6e20  one material in 
+0002b780: 6d61 6e75 616c 2064 6573 6967 6e0a 2020  manual design.  
+0002b790: 2020 2020 2020 6d75 5f72 656c 5f76 616c        mu_rel_val
+0002b7a0: 203d 2064 6174 6162 6173 652e 6765 745f   = database.get_
+0002b7b0: 6d61 7465 7269 616c 5f61 7474 7269 6275  material_attribu
+0002b7c0: 7465 286d 6174 6572 6961 6c5f 6e61 6d65  te(material_name
+0002b7d0: 3d6d 6174 6572 6961 6c5f 656e 756d 2c20  =material_enum, 
+0002b7e0: 6174 7472 6962 7574 653d 2269 6e69 7469  attribute="initi
+0002b7f0: 616c 5f70 6572 6d65 6162 696c 6974 7922  al_permeability"
+0002b800: 290a 2020 2020 2020 2020 6d75 5f72 656c  ).        mu_rel
+0002b810: 203d 205b 696e 7428 6d75 5f72 656c 5f76   = [int(mu_rel_v
+0002b820: 616c 295d 0a0a 2020 2020 2020 2020 7072  al)]..        pr
+0002b830: 696e 7428 6622 636f 7265 5f69 6e6e 6572  int(f"core_inner
+0002b840: 5f64 6961 6d65 7465 723a 207b 5b73 656c  _diameter: {[sel
+0002b850: 662e 636f 7265 5f77 5d7d 2229 0a20 2020  f.core_w]}").   
+0002b860: 2020 2020 2070 7269 6e74 2866 2277 696e       print(f"win
+0002b870: 646f 775f 683a 207b 5b73 656c 662e 7769  dow_h: {[self.wi
+0002b880: 6e64 6f77 5f68 5d7d 2229 0a20 2020 2020  ndow_h]}").     
+0002b890: 2020 2070 7269 6e74 2866 2277 696e 646f     print(f"windo
+0002b8a0: 775f 773a 207b 5b73 656c 662e 7769 6e64  w_w: {[self.wind
+0002b8b0: 6f77 5f77 5d7d 2229 0a20 2020 2020 2020  ow_w]}").       
+0002b8c0: 2070 7269 6e74 2866 226e 6f5f 6f66 5f74   print(f"no_of_t
+0002b8d0: 7572 6e73 3a20 7b5b 6e5f 7475 726e 735d  urns: {[n_turns]
+0002b8e0: 7d22 290a 2020 2020 2020 2020 7072 696e  }").        prin
+0002b8f0: 7428 6622 6e5f 6169 725f 6761 7073 3a20  t(f"n_air_gaps: 
+0002b900: 7b5b 6169 725f 6761 705f 636f 756e 745d  {[air_gap_count]
+0002b910: 7d22 290a 2020 2020 2020 2020 7072 696e  }").        prin
+0002b920: 7428 6622 6169 725f 6761 705f 683a 207b  t(f"air_gap_h: {
+0002b930: 6169 725f 6761 705f 6865 6967 6874 5f61  air_gap_height_a
+0002b940: 7272 6179 7d22 290a 2020 2020 2020 2020  rray}").        
+0002b950: 7072 696e 7428 6622 6169 725f 6761 705f  print(f"air_gap_
+0002b960: 706f 7369 7469 6f6e 3a20 7b61 6972 5f67  position: {air_g
+0002b970: 6170 5f70 6f73 6974 696f 6e5f 6172 7261  ap_position_arra
+0002b980: 797d 2229 0a20 2020 2020 2020 2070 7269  y}").        pri
+0002b990: 6e74 2866 226d 755f 7265 6c3a 207b 6d75  nt(f"mu_rel: {mu
+0002b9a0: 5f72 656c 7d22 290a 2020 2020 2020 2020  _rel}").        
+0002b9b0: 7072 696e 7428 6622 636f 6d70 6f6e 656e  print(f"componen
+0002b9c0: 745f 7479 7065 3a20 7b73 656c 662e 6d64  t_type: {self.md
+0002b9d0: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
+0002b9e0: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+0002b9f0: 7454 6578 7428 297d 2229 0a0a 2020 2020  tText()}")..    
+0002ba00: 2020 2020 2320 6d63 3120 3d20 666d 742e      # mc1 = fmt.
+0002ba10: 4d61 676e 6574 6963 4369 7263 7569 7428  MagneticCircuit(
+0002ba20: 5b73 656c 662e 636f 7265 5f77 5d2c 205b  [self.core_w], [
+0002ba30: 7365 6c66 2e77 696e 646f 775f 685d 2c20  self.window_h], 
+0002ba40: 5b73 656c 662e 7769 6e64 6f77 5f77 5d2c  [self.window_w],
+0002ba50: 205b 6e5f 7475 726e 735d 2c20 5b6e 5f61   [n_turns], [n_a
+0002ba60: 6972 5f67 6170 735d 2c0a 2020 2020 2020  ir_gaps],.      
+0002ba70: 2020 2320 5b61 6972 5f67 6170 5f68 5d2c    # [air_gap_h],
+0002ba80: 205b 6169 725f 6761 705f 706f 7369 7469   [air_gap_positi
+0002ba90: 6f6e 5d2c 205b 3330 3030 5d2c 205b 315d  on], [3000], [1]
+0002baa0: 2920 2333 3030 3020 2d20 7265 6c61 7469  ) #3000 - relati
+0002bab0: 7665 2070 6572 6d65 6162 696c 6974 7920  ve permeability 
+0002bac0: 6f66 2073 656c 6563 7465 6420 6d61 7465  of selected mate
+0002bad0: 7269 616c 0a0a 2020 2020 2020 2020 6966  rial..        if
+0002bae0: 2073 656c 662e 6d64 5f61 6972 5f67 6170   self.md_air_gap
+0002baf0: 5f70 6c61 6365 6d65 6e74 5f6d 6574 686f  _placement_metho
+0002bb00: 645f 636f 6d62 6f42 6f78 2e63 7572 7265  d_comboBox.curre
+0002bb10: 6e74 5465 7874 2829 203d 3d20 7365 6c66  ntText() == self
+0002bb20: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
+0002bb30: 745b 2770 6572 6365 6e74 275d 3a0a 2020  t['percent']:.  
+0002bb40: 2020 2020 2020 2020 2020 6d63 3120 3d20            mc1 = 
+0002bb50: 666d 742e 4d61 676e 6574 6963 4369 7263  fmt.MagneticCirc
+0002bb60: 7569 7428 636f 7265 5f69 6e6e 6572 5f64  uit(core_inner_d
+0002bb70: 6961 6d65 7465 723d 5b73 656c 662e 636f  iameter=[self.co
+0002bb80: 7265 5f77 5d2c 2077 696e 646f 775f 683d  re_w], window_h=
+0002bb90: 5b73 656c 662e 7769 6e64 6f77 5f68 5d2c  [self.window_h],
+0002bba0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002bbb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bbc0: 2020 2020 2020 2077 696e 646f 775f 773d         window_w=
+0002bbd0: 5b73 656c 662e 7769 6e64 6f77 5f77 5d2c  [self.window_w],
+0002bbe0: 206e 6f5f 6f66 5f74 7572 6e73 3d5b 6e5f   no_of_turns=[n_
+0002bbf0: 7475 726e 735d 2c0a 2020 2020 2020 2020  turns],.        
+0002bc00: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bc10: 2020 2020 2020 2020 2020 2020 2020 6e5f                n_
+0002bc20: 6169 725f 6761 7073 3d5b 6169 725f 6761  air_gaps=[air_ga
+0002bc30: 705f 636f 756e 745d 2c20 6169 725f 6761  p_count], air_ga
+0002bc40: 705f 683d 6169 725f 6761 705f 6865 6967  p_h=air_gap_heig
+0002bc50: 6874 5f61 7272 6179 2c0a 2020 2020 2020  ht_array,.      
+0002bc60: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bc70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bc80: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+0002bc90: 3d61 6972 5f67 6170 5f70 6f73 6974 696f  =air_gap_positio
+0002bca0: 6e5f 6172 7261 792c 0a20 2020 2020 2020  n_array,.       
+0002bcb0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bcc0: 2020 2020 2020 2020 2020 2020 2020 206d                 m
+0002bcd0: 755f 725f 6162 733d 6d75 5f72 656c 2c20  u_r_abs=mu_rel, 
+0002bce0: 6d75 6c74 5f61 6972 5f67 6170 5f74 7970  mult_air_gap_typ
+0002bcf0: 653d 5b31 2c20 325d 2c20 6169 725f 6761  e=[1, 2], air_ga
+0002bd00: 705f 6d65 7468 6f64 3d27 5065 7263 656e  p_method='Percen
+0002bd10: 7427 2c0a 2020 2020 2020 2020 2020 2020  t',.            
+0002bd20: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bd30: 2020 2020 2020 2020 2020 636f 6d70 6f6e            compon
+0002bd40: 656e 745f 7479 7065 3d73 656c 662e 6d64  ent_type=self.md
+0002bd50: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
+0002bd60: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+0002bd70: 7454 6578 7428 292c 0a20 2020 2020 2020  tText(),.       
+0002bd80: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bd90: 2020 2020 2020 2020 2020 2020 2020 2073                 s
+0002bda0: 696d 5f74 7970 653d 2773 696e 676c 6527  im_type='single'
+0002bdb0: 2920 2023 2030 2e30 3134 390a 2020 2020  )  # 0.0149.    
+0002bdc0: 2020 2020 656c 6966 2073 656c 662e 6d64      elif self.md
+0002bdd0: 5f61 6972 5f67 6170 5f70 6c61 6365 6d65  _air_gap_placeme
+0002bde0: 6e74 5f6d 6574 686f 645f 636f 6d62 6f42  nt_method_comboB
+0002bdf0: 6f78 2e63 7572 7265 6e74 5465 7874 2829  ox.currentText()
+0002be00: 203d 3d20 7365 6c66 2e74 7261 6e73 6c61   == self.transla
+0002be10: 7469 6f6e 5f64 6963 745b 276d 616e 7561  tion_dict['manua
+0002be20: 6c6c 7927 5d3a 0a20 2020 2020 2020 2020  lly']:.         
+0002be30: 2020 206d 6331 203d 2066 6d74 2e4d 6167     mc1 = fmt.Mag
+0002be40: 6e65 7469 6343 6972 6375 6974 2863 6f72  neticCircuit(cor
+0002be50: 655f 696e 6e65 725f 6469 616d 6574 6572  e_inner_diameter
+0002be60: 3d5b 7365 6c66 2e63 6f72 655f 775d 2c20  =[self.core_w], 
+0002be70: 7769 6e64 6f77 5f68 3d5b 7365 6c66 2e77  window_h=[self.w
+0002be80: 696e 646f 775f 685d 2c0a 2020 2020 2020  indow_h],.      
+0002be90: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bea0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002beb0: 7769 6e64 6f77 5f77 3d5b 7365 6c66 2e77  window_w=[self.w
+0002bec0: 696e 646f 775f 775d 2c0a 2020 2020 2020  indow_w],.      
+0002bed0: 2020 2020 2020 2020 2020 2020 2020 2020                  
 0002bee0: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bef0: 2020 2020 2020 2020 2063 6173 655f 6761           case_ga
-0002bf00: 705f 7269 6768 742c 2063 6173 655f 6761  p_right, case_ga
-0002bf10: 705f 626f 742c 2054 7275 652c 0a20 2020  p_bot, True,.   
-0002bf20: 2020 2020 2020 2020 2020 2020 2020 2020                  
-0002bf30: 2020 2020 2020 2020 2020 2020 636f 6c6f              colo
-0002bf40: 725f 7363 6865 6d65 3d66 6d74 2e63 6f6c  r_scheme=fmt.col
-0002bf50: 6f72 735f 6261 5f6a 6f6e 6173 2c20 636f  ors_ba_jonas, co
-0002bf60: 6c6f 7273 5f67 656f 6d65 7472 793d 666d  lors_geometry=fm
-0002bf70: 742e 636f 6c6f 7273 5f67 656f 6d65 7472  t.colors_geometr
-0002bf80: 795f 6261 5f6a 6f6e 6173 2c20 666c 6167  y_ba_jonas, flag
-0002bf90: 5f69 6e73 756c 6174 696f 6e3d 7365 6c66  _insulation=self
-0002bfa0: 2e66 6c61 675f 696e 7375 6c61 7469 6f6e  .flag_insulation
-0002bfb0: 290a 0a20 2020 2020 2020 2023 2042 6563  )..        # Bec
-0002bfc0: 6175 7365 2074 6865 2069 736f 6c61 7469  ause the isolati
-0002bfd0: 6f6e 7320 696e 7369 6465 206f 6620 7468  ons inside of th
-0002bfe0: 6520 7769 6e64 696e 6720 7769 6e64 6f77  e winding window
-0002bff0: 2061 7265 206e 6f74 2069 6d70 6c65 6d65   are not impleme
-0002c000: 6e74 6564 2069 6e20 6665 6d6d 2073 696d  nted in femm sim
-0002c010: 756c 6174 696f 6e2e 0a20 2020 2020 2020  ulation..       
-0002c020: 2023 2054 6865 2076 616c 6964 6174 696f   # The validatio
-0002c030: 6e20 6f6e 6c79 2077 6f72 6b73 2077 6865  n only works whe
-0002c040: 6e20 7468 6520 6973 6f6c 6174 696f 6e73  n the isolations
-0002c050: 2066 6f72 2074 6865 2046 454d 4d54 2074   for the FEMMT t
-0002c060: 6865 726d 616c 2073 696d 756c 6174 696f  hermal simulatio
-0002c070: 6e20 6172 6520 7475 726e 6564 206f 6666  n are turned off
-0002c080: 2e0a 2020 2020 2020 2020 2320 6765 6f2e  ..        # geo.
-0002c090: 6665 6d6d 5f74 6865 726d 616c 5f76 616c  femm_thermal_val
-0002c0a0: 6964 6174 696f 6e28 7468 6572 6d61 6c5f  idation(thermal_
-0002c0b0: 636f 6e64 7563 7469 7669 7479 5f64 6963  conductivity_dic
-0002c0c0: 742c 2066 656d 6d5f 626f 756e 6461 7279  t, femm_boundary
-0002c0d0: 5f74 656d 7065 7261 7475 7265 2c20 6361  _temperature, ca
-0002c0e0: 7365 5f67 6170 5f74 6f70 2c20 6361 7365  se_gap_top, case
-0002c0f0: 5f67 6170 5f72 6967 6874 2c20 6361 7365  _gap_right, case
-0002c100: 5f67 6170 5f62 6f74 290a 0a0a 6465 6620  _gap_bot)...def 
-0002c110: 636c 6561 725f 6c61 796f 7574 286c 6179  clear_layout(lay
-0002c120: 6f75 7429 3a0a 2020 2020 2222 2243 6c65  out):.    """Cle
-0002c130: 6172 2074 6865 206c 6179 6f75 742e 2222  ar the layout.""
-0002c140: 220a 2020 2020 7768 696c 6520 6c61 796f  ".    while layo
-0002c150: 7574 2e63 6f75 6e74 2829 3a0a 2020 2020  ut.count():.    
-0002c160: 2020 2020 6368 696c 6420 3d20 6c61 796f      child = layo
-0002c170: 7574 2e74 616b 6541 7428 3029 0a20 2020  ut.takeAt(0).   
-0002c180: 2020 2020 2069 6620 6973 696e 7374 616e       if isinstan
-0002c190: 6365 2863 6869 6c64 2c20 5174 5769 6467  ce(child, QtWidg
-0002c1a0: 6574 732e 5153 7061 6365 7249 7465 6d29  ets.QSpacerItem)
-0002c1b0: 3a0a 2020 2020 2020 2020 2020 2020 6c61  :.            la
-0002c1c0: 796f 7574 2e72 656d 6f76 6549 7465 6d28  yout.removeItem(
-0002c1d0: 6368 696c 6429 2020 2320 666f 7220 7370  child)  # for sp
-0002c1e0: 6163 6572 2069 7465 6d0a 2020 2020 2020  acer item.      
-0002c1f0: 2020 656c 6966 2063 6869 6c64 2e77 6964    elif child.wid
-0002c200: 6765 7428 2920 6f72 2063 6869 6c64 3a20  get() or child: 
-0002c210: 2023 2063 6869 6c64 2066 6f72 2063 6f6d   # child for com
-0002c220: 626f 426f 7854 7970 6520 616e 6420 6368  boBoxType and ch
-0002c230: 696c 642e 7769 6467 6574 2829 2066 6f72  ild.widget() for
-0002c240: 2063 7573 746f 6d20 636c 6173 7320 7479   custom class ty
-0002c250: 7065 730a 2020 2020 2020 2020 2020 2020  pes.            
-0002c260: 6368 696c 642e 7769 6467 6574 2829 2e64  child.widget().d
-0002c270: 656c 6574 654c 6174 6572 2829 0a0a 0a69  eleteLater()...i
-0002c280: 6620 5f5f 6e61 6d65 5f5f 203d 3d20 225f  f __name__ == "_
-0002c290: 5f6d 6169 6e5f 5f22 3a0a 2020 2020 6170  _main__":.    ap
-0002c2a0: 7020 3d20 5141 7070 6c69 6361 7469 6f6e  p = QApplication
-0002c2b0: 2873 7973 2e61 7267 7629 0a20 2020 2061  (sys.argv).    a
-0002c2c0: 7070 2e73 6574 5374 796c 6528 2746 7573  pp.setStyle('Fus
-0002c2d0: 696f 6e27 290a 2020 2020 6d61 696e 5769  ion').    mainWi
-0002c2e0: 6e64 6f77 203d 204d 6169 6e57 696e 646f  ndow = MainWindo
-0002c2f0: 7728 290a 2020 2020 6d61 696e 5769 6e64  w().    mainWind
-0002c300: 6f77 2e73 686f 7728 290a 2020 2020 7472  ow.show().    tr
-0002c310: 793a 0a20 2020 2020 2020 2073 7973 2e65  y:.        sys.e
-0002c320: 7869 7428 6170 702e 6578 6563 5f28 2929  xit(app.exec_())
-0002c330: 0a20 2020 2065 7863 6570 7420 5379 7374  .    except Syst
-0002c340: 656d 4578 6974 3a0a 2020 2020 2020 2020  emExit:.        
-0002c350: 7072 696e 7428 2743 6c6f 7369 6e67 2057  print('Closing W
-0002c360: 696e 646f 772e 2e2e 2e27 290a            indow....').
+0002bef0: 6e6f 5f6f 665f 7475 726e 733d 5b6e 5f74  no_of_turns=[n_t
+0002bf00: 7572 6e73 5d2c 0a20 2020 2020 2020 2020  urns],.         
+0002bf10: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bf20: 2020 2020 2020 2020 2020 2020 206e 5f61               n_a
+0002bf30: 6972 5f67 6170 733d 5b61 6972 5f67 6170  ir_gaps=[air_gap
+0002bf40: 5f63 6f75 6e74 5d2c 2061 6972 5f67 6170  _count], air_gap
+0002bf50: 5f68 3d61 6972 5f67 6170 5f68 6569 6768  _h=air_gap_heigh
+0002bf60: 745f 6172 7261 792c 0a20 2020 2020 2020  t_array,.       
+0002bf70: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bf80: 2020 2020 2020 2020 2020 2020 2020 2061                 a
+0002bf90: 6972 5f67 6170 5f70 6f73 6974 696f 6e3d  ir_gap_position=
+0002bfa0: 6169 725f 6761 705f 706f 7369 7469 6f6e  air_gap_position
+0002bfb0: 5f61 7272 6179 2c0a 2020 2020 2020 2020  _array,.        
+0002bfc0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002bfd0: 2020 2020 2020 2020 2020 2020 2020 6d75                mu
+0002bfe0: 5f72 5f61 6273 3d6d 755f 7265 6c2c 206d  _r_abs=mu_rel, m
+0002bff0: 756c 745f 6169 725f 6761 705f 7479 7065  ult_air_gap_type
+0002c000: 3d5b 312c 2032 5d2c 2061 6972 5f67 6170  =[1, 2], air_gap
+0002c010: 5f6d 6574 686f 643d 276d 616e 7561 6c6c  _method='manuall
+0002c020: 7927 2c0a 2020 2020 2020 2020 2020 2020  y',.            
+0002c030: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002c040: 2020 2020 2020 2020 2020 636f 6d70 6f6e            compon
+0002c050: 656e 745f 7479 7065 3d73 656c 662e 6d64  ent_type=self.md
+0002c060: 5f73 696d 756c 6174 696f 6e5f 7479 7065  _simulation_type
+0002c070: 5f63 6f6d 626f 426f 782e 6375 7272 656e  _comboBox.curren
+0002c080: 7454 6578 7428 292c 2073 696d 5f74 7970  tText(), sim_typ
+0002c090: 653d 2773 696e 676c 6527 290a 0a20 2020  e='single')..   
+0002c0a0: 2020 2020 206d 6331 2e63 616c 6375 6c61       mc1.calcula
+0002c0b0: 7465 5f69 6e64 7563 7461 6e63 6528 290a  te_inductance().
+0002c0c0: 2020 2020 2020 2020 696e 6475 6374 616e          inductan
+0002c0d0: 6365 203d 206d 6331 2e64 6174 615f 6d61  ce = mc1.data_ma
+0002c0e0: 7472 6978 5b3a 2c20 395d 0a0a 2020 2020  trix[:, 9]..    
+0002c0f0: 2020 2020 7365 6c66 2e49 6e64 7563 7461      self.Inducta
+0002c100: 6e63 6576 616c 5f6c 6162 656c 2e73 6574  nceval_label.set
+0002c110: 5465 7874 2866 227b 726f 756e 6428 696e  Text(f"{round(in
+0002c120: 6475 6374 616e 6365 5b30 5d2c 2031 3029  ductance[0], 10)
+0002c130: 7d20 4822 290a 0a20 2020 2064 6566 2074  } H")..    def t
+0002c140: 6865 726d 5f73 696d 756c 6174 696f 6e28  herm_simulation(
+0002c150: 7365 6c66 293a 0a20 2020 2020 2020 2022  self):.        "
+0002c160: 2222 496d 706c 656d 656e 7420 7468 6520  ""Implement the 
+0002c170: 7468 6572 6d61 6c20 7369 6d75 6c61 7469  thermal simulati
+0002c180: 6f6e 2e22 2222 0a20 2020 2020 2020 2023  on.""".        #
+0002c190: 2054 6865 726d 616c 2073 696d 756c 6174   Thermal simulat
+0002c1a0: 696f 6e3a 0a20 2020 2020 2020 2023 2054  ion:.        # T
+0002c1b0: 6865 206c 6f73 7365 7320 6361 6c63 756c  he losses calcul
+0002c1c0: 6174 6564 2062 7920 7468 6520 6d61 676e  ated by the magn
+0002c1d0: 6574 6963 7320 7369 6d75 6c61 7469 6f6e  etics simulation
+0002c1e0: 2063 616e 2062 6520 7573 6564 2074 6f20   can be used to 
+0002c1f0: 6361 6c63 756c 6174 6520 7468 6520 6865  calculate the he
+0002c200: 6174 2064 6973 7472 6962 7574 696f 6e20  at distribution 
+0002c210: 6f66 2074 6865 2067 6976 656e 206d 6167  of the given mag
+0002c220: 6e65 7469 6320 636f 6d70 6f6e 656e 740a  netic component.
+0002c230: 2020 2020 2020 2020 2320 496e 206f 7264          # In ord
+0002c240: 6572 2074 6f20 7573 6520 7468 6520 7468  er to use the th
+0002c250: 6572 6d61 6c20 7369 6d75 6c61 7469 6f6e  ermal simulation
+0002c260: 2c20 7468 6572 6d61 6c20 636f 6e64 7563  , thermal conduc
+0002c270: 7469 7669 7469 6573 2066 6f72 2065 6163  tivities for eac
+0002c280: 6820 6d61 7465 7269 616c 2063 616e 2062  h material can b
+0002c290: 6520 656e 7465 7265 6420 6173 2077 656c  e entered as wel
+0002c2a0: 6c20 6173 2061 2062 6f75 6e64 6172 7920  l as a boundary 
+0002c2b0: 7465 6d70 6572 6174 7572 650a 2020 2020  temperature.    
+0002c2c0: 2020 2020 2320 7768 6963 6820 7769 6c6c      # which will
+0002c2d0: 2062 6520 6170 706c 6965 6420 6f6e 2074   be applied on t
+0002c2e0: 6865 2062 6f75 6e64 6172 7920 6f66 2074  he boundary of t
+0002c2f0: 6865 2073 696d 756c 6174 696f 6e20 2864  he simulation (d
+0002c300: 6972 6963 686c 6574 2062 6f75 6e64 6172  irichlet boundar
+0002c310: 7920 636f 6e64 6974 696f 6e29 2e0a 0a20  y condition)... 
+0002c320: 2020 2020 2020 2023 2054 6865 2063 6173         # The cas
+0002c330: 6520 7061 7261 6d65 7465 7220 7365 7473  e parameter sets
+0002c340: 2074 6865 2074 6865 726d 616c 2063 6f6e   the thermal con
+0002c350: 6475 6374 6976 6974 7920 666f 7220 6120  ductivity for a 
+0002c360: 6361 7365 2077 6869 6368 2077 696c 6c20  case which will 
+0002c370: 6265 2073 6574 2061 726f 756e 6420 7468  be set around th
+0002c380: 6520 636f 7265 2e0a 2020 2020 2020 2020  e core..        
+0002c390: 2320 5468 6973 2063 6f75 6c64 206d 6f64  # This could mod
+0002c3a0: 656c 2073 6f6d 6520 6361 7365 2069 6e20  el some case in 
+0002c3b0: 7768 6963 6820 7468 6520 7472 616e 7366  which the transf
+0002c3c0: 6f72 6d65 7220 6973 2070 6c61 6365 6420  ormer is placed 
+0002c3d0: 696e 2074 6f67 6574 6865 7220 7769 7468  in together with
+0002c3e0: 2061 2073 6574 2070 6f74 7469 6e67 206d   a set potting m
+0002c3f0: 6174 6572 6961 6c2e 0a20 2020 2020 2020  aterial..       
+0002c400: 2023 2066 6c61 675f 696e 7375 6c61 7469   # flag_insulati
+0002c410: 6f6e 203d 2054 7275 650a 2020 2020 2020  on = True.      
+0002c420: 2020 7468 6572 6d61 6c5f 636f 6e64 7563    thermal_conduc
+0002c430: 7469 7669 7479 5f64 6963 7420 3d20 7b0a  tivity_dict = {.
+0002c440: 2020 2020 2020 2020 2020 2020 2261 6972              "air
+0002c450: 223a 2030 2e30 3236 332c 0a20 2020 2020  ": 0.0263,.     
+0002c460: 2020 2020 2020 2022 6361 7365 223a 207b         "case": {
+0002c470: 2020 2320 2865 706f 7879 2072 6573 6967    # (epoxy resig
+0002c480: 6e29 207c 2074 7261 6e73 666f 726d 6572  n) | transformer
+0002c490: 206f 696c 0a20 2020 2020 2020 2020 2020   oil.           
+0002c4a0: 2020 2020 2022 746f 7022 3a20 302e 3132       "top": 0.12
+0002c4b0: 322c 0a20 2020 2020 2020 2020 2020 2020  2,.             
+0002c4c0: 2020 2022 746f 705f 7269 6768 7422 3a20     "top_right": 
+0002c4d0: 302e 3132 322c 0a20 2020 2020 2020 2020  0.122,.         
+0002c4e0: 2020 2020 2020 2022 7269 6768 7422 3a20         "right": 
+0002c4f0: 302e 3132 322c 0a20 2020 2020 2020 2020  0.122,.         
+0002c500: 2020 2020 2020 2022 626f 745f 7269 6768         "bot_righ
+0002c510: 7422 3a20 302e 3132 322c 0a20 2020 2020  t": 0.122,.     
+0002c520: 2020 2020 2020 2020 2020 2022 626f 7422             "bot"
+0002c530: 3a20 302e 3132 320a 2020 2020 2020 2020  : 0.122.        
+0002c540: 2020 2020 7d2c 0a20 2020 2020 2020 2020      },.         
+0002c550: 2020 2022 636f 7265 223a 2035 2c20 2023     "core": 5,  #
+0002c560: 2066 6572 7269 7465 0a20 2020 2020 2020   ferrite.       
+0002c570: 2020 2020 2022 7769 6e64 696e 6722 3a20       "winding": 
+0002c580: 3430 302c 2020 2320 636f 7070 6572 0a20  400,  # copper. 
+0002c590: 2020 2020 2020 2020 2020 2022 6169 725f             "air_
+0002c5a0: 6761 7073 223a 2031 3830 2c20 2023 2061  gaps": 180,  # a
+0002c5b0: 6c75 6d69 6e69 756d 206e 6974 7269 6465  luminium nitride
+0002c5c0: 0a20 2020 2020 2020 2020 2020 2022 696e  .            "in
+0002c5d0: 7375 6c61 7469 6f6e 223a 2030 2e34 3220  sulation": 0.42 
+0002c5e0: 6966 2073 656c 662e 666c 6167 5f69 6e73  if self.flag_ins
+0002c5f0: 756c 6174 696f 6e20 656c 7365 204e 6f6e  ulation else Non
+0002c600: 6520 2023 2070 6f6c 7965 7468 796c 656e  e  # polyethylen
+0002c610: 650a 2020 2020 2020 2020 7d0a 2020 2020  e.        }.    
+0002c620: 2020 2020 2320 4865 7265 2074 6865 2063      # Here the c
+0002c630: 6173 6520 7369 7a65 2063 616e 2062 6520  ase size can be 
+0002c640: 6465 7465 726d 696e 6564 0a20 2020 2020  determined.     
+0002c650: 2020 2063 6173 655f 6761 705f 746f 7020     case_gap_top 
+0002c660: 3d20 302e 3030 320a 2020 2020 2020 2020  = 0.002.        
+0002c670: 6361 7365 5f67 6170 5f72 6967 6874 203d  case_gap_right =
+0002c680: 2030 2e30 3032 350a 2020 2020 2020 2020   0.0025.        
+0002c690: 6361 7365 5f67 6170 5f62 6f74 203d 2030  case_gap_bot = 0
+0002c6a0: 2e30 3032 0a20 2020 2020 2020 2023 2048  .002.        # H
+0002c6b0: 6572 6520 7468 6520 626f 756e 6461 7279  ere the boundary
+0002c6c0: 2074 656d 7065 7261 7475 7265 7320 6361   temperatures ca
+0002c6d0: 6e20 6265 2073 6574 2c20 6375 7272 656e  n be set, curren
+0002c6e0: 746c 7920 6974 2069 7320 7365 7420 746f  tly it is set to
+0002c6f0: 2032 30c2 b043 2028 6172 6f75 6e64 2032   20..C (around 2
+0002c700: 3933 c2b0 4b29 2e0a 2020 2020 2020 2020  93..K)..        
+0002c710: 2320 5468 6973 2064 6f65 7320 6e6f 7420  # This does not 
+0002c720: 6368 616e 6765 2074 6865 2072 6573 756c  change the resul
+0002c730: 7473 206f 6620 7468 6520 7369 6d75 6c61  ts of the simula
+0002c740: 7469 6f6e 2028 6174 206c 6561 7374 2077  tion (at least w
+0002c750: 6865 6e20 6576 6572 7920 626f 756e 6461  hen every bounda
+0002c760: 7279 2069 7320 7365 7420 6571 7561 6c6c  ry is set equall
+0002c770: 7929 2062 7574 2077 696c 6c20 7365 7420  y) but will set 
+0002c780: 7468 6520 7465 6d70 6572 6174 7572 6520  the temperature 
+0002c790: 6f66 6673 6574 2e0a 2020 2020 2020 2020  offset..        
+0002c7a0: 626f 756e 6461 7279 5f74 656d 7065 7261  boundary_tempera
+0002c7b0: 7475 7265 7320 3d20 7b0a 2020 2020 2020  tures = {.      
+0002c7c0: 2020 2020 2020 2276 616c 7565 5f62 6f75        "value_bou
+0002c7d0: 6e64 6172 795f 746f 7022 3a20 3230 2c0a  ndary_top": 20,.
+0002c7e0: 2020 2020 2020 2020 2020 2020 2276 616c              "val
+0002c7f0: 7565 5f62 6f75 6e64 6172 795f 746f 705f  ue_boundary_top_
+0002c800: 7269 6768 7422 3a20 3230 2c0a 2020 2020  right": 20,.    
+0002c810: 2020 2020 2020 2020 2276 616c 7565 5f62          "value_b
+0002c820: 6f75 6e64 6172 795f 7269 6768 745f 746f  oundary_right_to
+0002c830: 7022 3a20 3230 2c0a 2020 2020 2020 2020  p": 20,.        
+0002c840: 2020 2020 2276 616c 7565 5f62 6f75 6e64      "value_bound
+0002c850: 6172 795f 7269 6768 7422 3a20 3230 2c0a  ary_right": 20,.
+0002c860: 2020 2020 2020 2020 2020 2020 2276 616c              "val
+0002c870: 7565 5f62 6f75 6e64 6172 795f 7269 6768  ue_boundary_righ
+0002c880: 745f 626f 7474 6f6d 223a 2032 302c 0a20  t_bottom": 20,. 
+0002c890: 2020 2020 2020 2020 2020 2022 7661 6c75             "valu
+0002c8a0: 655f 626f 756e 6461 7279 5f62 6f74 746f  e_boundary_botto
+0002c8b0: 6d5f 7269 6768 7422 3a20 3230 2c0a 2020  m_right": 20,.  
+0002c8c0: 2020 2020 2020 2020 2020 2276 616c 7565            "value
+0002c8d0: 5f62 6f75 6e64 6172 795f 626f 7474 6f6d  _boundary_bottom
+0002c8e0: 223a 2032 300a 2020 2020 2020 2020 7d0a  ": 20.        }.
+0002c8f0: 0a20 2020 2020 2020 2023 2049 6e20 6f72  .        # In or
+0002c900: 6465 7220 746f 2063 6f6d 7061 7265 2074  der to compare t
+0002c910: 6865 2066 656d 6d74 2074 6865 726d 616c  he femmt thermal
+0002c920: 2073 696d 756c 6174 696f 6e20 7769 7468   simulation with
+0002c930: 2061 2066 656d 6d20 6865 6174 2066 6c6f   a femm heat flo
+0002c940: 7720 7369 6d75 6c61 7469 6f6e 2074 6865  w simulation the
+0002c950: 2073 616d 6520 626f 756e 6461 7279 2074   same boundary t
+0002c960: 656d 7065 7261 7475 7265 2073 686f 756c  emperature shoul
+0002c970: 6420 6265 2061 7070 6c69 6564 2e0a 2020  d be applied..  
+0002c980: 2020 2020 2020 2320 4375 7272 656e 746c        # Currentl
+0002c990: 7920 6f6e 6c79 206f 6e65 2074 656d 7065  y only one tempe
+0002c9a0: 7261 7475 7265 2063 616e 2062 6520 6170  rature can be ap
+0002c9b0: 706c 6965 6420 7768 6963 6820 7769 6c6c  plied which will
+0002c9c0: 2062 6520 7365 7420 6f6e 2065 7665 7279   be set on every
+0002c9d0: 2062 6f75 6e64 6172 7920 7369 7465 2e0a   boundary site..
+0002c9e0: 2020 2020 2020 2020 6665 6d6d 5f62 6f75          femm_bou
+0002c9f0: 6e64 6172 795f 7465 6d70 6572 6174 7572  ndary_temperatur
+0002ca00: 6520 3d20 3230 0a0a 2020 2020 2020 2020  e = 20..        
+0002ca10: 2320 4865 7265 2074 6865 2062 6f75 6e64  # Here the bound
+0002ca20: 6172 7920 7369 6465 7320 6361 6e20 6265  ary sides can be
+0002ca30: 2074 7572 6e65 6420 6f6e 2028 3129 206f   turned on (1) o
+0002ca40: 7220 6f66 6620 2830 290a 2020 2020 2020  r off (0).      
+0002ca50: 2020 2320 4279 2074 7572 6e69 6e67 206f    # By turning o
+0002ca60: 6666 2074 6865 2066 6c61 6720 6120 6e65  ff the flag a ne
+0002ca70: 756d 616e 6e20 626f 756e 6461 7279 2077  umann boundary w
+0002ca80: 696c 6c20 6265 2061 7070 6c69 6564 2061  ill be applied a
+0002ca90: 7420 7468 6973 2070 6f69 6e74 2077 6974  t this point wit
+0002caa0: 6820 6865 6174 2066 6c75 7820 3d20 300a  h heat flux = 0.
+0002cab0: 2020 2020 2020 2020 626f 756e 6461 7279          boundary
+0002cac0: 5f66 6c61 6773 203d 207b 0a20 2020 2020  _flags = {.     
+0002cad0: 2020 2020 2020 2022 666c 6167 5f62 6f75         "flag_bou
+0002cae0: 6e64 6172 795f 746f 7022 3a20 302c 0a20  ndary_top": 0,. 
+0002caf0: 2020 2020 2020 2020 2020 2022 666c 6167             "flag
+0002cb00: 5f62 6f75 6e64 6172 795f 746f 705f 7269  _boundary_top_ri
+0002cb10: 6768 7422 3a20 302c 0a20 2020 2020 2020  ght": 0,.       
+0002cb20: 2020 2020 2022 666c 6167 5f62 6f75 6e64       "flag_bound
+0002cb30: 6172 795f 7269 6768 745f 746f 7022 3a20  ary_right_top": 
+0002cb40: 312c 0a20 2020 2020 2020 2020 2020 2022  1,.            "
+0002cb50: 666c 6167 5f62 6f75 6e64 6172 795f 7269  flag_boundary_ri
+0002cb60: 6768 7422 3a20 312c 0a20 2020 2020 2020  ght": 1,.       
+0002cb70: 2020 2020 2022 666c 6167 5f62 6f75 6e64       "flag_bound
+0002cb80: 6172 795f 7269 6768 745f 626f 7474 6f6d  ary_right_bottom
+0002cb90: 223a 2031 2c0a 2020 2020 2020 2020 2020  ": 1,.          
+0002cba0: 2020 2266 6c61 675f 626f 756e 6461 7279    "flag_boundary
+0002cbb0: 5f62 6f74 746f 6d5f 7269 6768 7422 3a20  _bottom_right": 
+0002cbc0: 312c 0a20 2020 2020 2020 2020 2020 2022  1,.            "
+0002cbd0: 666c 6167 5f62 6f75 6e64 6172 795f 626f  flag_boundary_bo
+0002cbe0: 7474 6f6d 223a 2031 0a20 2020 2020 2020  ttom": 1.       
+0002cbf0: 207d 0a0a 2020 2020 2020 2020 2320 496e   }..        # In
+0002cc00: 206f 7264 6572 2066 6f72 2074 6865 2074   order for the t
+0002cc10: 6865 726d 616c 2073 696d 756c 6174 696f  hermal simulatio
+0002cc20: 6e20 746f 2077 6f72 6b20 616e 2065 6c65  n to work an ele
+0002cc30: 6374 726f 5f6d 6167 6e65 7469 6320 7369  ctro_magnetic si
+0002cc40: 6d75 6c61 7469 6f6e 2068 6173 2074 6f20  mulation has to 
+0002cc50: 7275 6e20 6265 666f 7265 2e0a 2020 2020  run before..    
+0002cc60: 2020 2020 2320 5468 6520 656d 2d73 696d      # The em-sim
+0002cc70: 756c 6174 696f 6e20 7769 6c6c 2063 7265  ulation will cre
+0002cc80: 6174 6520 6120 6669 6c65 2063 6f6e 7461  ate a file conta
+0002cc90: 696e 696e 6720 7468 6520 6c6f 7373 6573  ining the losses
+0002cca0: 2e0a 2020 2020 2020 2020 2320 5768 656e  ..        # When
+0002ccb0: 2074 6865 206c 6f73 7365 7320 6669 6c65   the losses file
+0002ccc0: 2069 7320 616c 7265 6164 7920 6372 6561   is already crea
+0002ccd0: 7465 6420 616e 6420 636f 6e74 6169 6e73  ted and contains
+0002cce0: 2074 6865 206c 6f73 7365 7320 666f 7220   the losses for 
+0002ccf0: 7468 6520 6375 7272 656e 7420 6d6f 6465  the current mode
+0002cd00: 6c2c 2069 7420 6973 2065 6e6f 7567 6820  l, it is enough 
+0002cd10: 746f 2072 756e 2067 656f 2e63 7265 6174  to run geo.creat
+0002cd20: 655f 6d6f 6465 6c20 696e 0a20 2020 2020  e_model in.     
+0002cd30: 2020 2023 206f 7264 6572 2066 6f72 2074     # order for t
+0002cd40: 6865 2074 6865 726d 616c 2073 696d 756c  he thermal simul
+0002cd50: 6174 696f 6e20 746f 2077 6f72 6b20 2867  ation to work (g
+0002cd60: 656f 2e73 696e 676c 655f 7369 6d75 6c61  eo.single_simula
+0002cd70: 7469 6f6e 2069 7320 6e6f 7420 6e65 6564  tion is not need
+0002cd80: 6564 292e 0a20 2020 2020 2020 2023 204f  ed)..        # O
+0002cd90: 6276 696f 7573 6c79 2077 6865 6e20 7468  bviously when th
+0002cda0: 6520 6d6f 6465 6c20 6973 206d 6f64 6966  e model is modif
+0002cdb0: 6965 6420 616e 6420 7468 6520 6c6f 7373  ied and the loss
+0002cdc0: 6573 2063 616e 2062 6520 6f75 7420 6f66  es can be out of
+0002cdd0: 2064 6174 6520 616e 6420 7468 6572 6566   date and theref
+0002cde0: 6f72 6520 7468 6520 6765 6f2e 7369 6e67  ore the geo.sing
+0002cdf0: 6c65 5f73 696d 756c 6174 696f 6e20 6e65  le_simulation ne
+0002ce00: 6564 7320 746f 2072 756e 2061 6761 696e  eds to run again
+0002ce10: 2e0a 2020 2020 2020 2020 6765 6f20 3d20  ..        geo = 
+0002ce20: 7365 6c66 2e6d 645f 7365 7475 705f 6765  self.md_setup_ge
+0002ce30: 6f6d 6574 7279 2829 0a20 2020 2020 2020  ometry().       
+0002ce40: 2067 656f 2e63 7265 6174 655f 6d6f 6465   geo.create_mode
+0002ce50: 6c28 6672 6571 3d63 6f6d 6d61 5f73 7472  l(freq=comma_str
+0002ce60: 5f74 6f5f 706f 696e 745f 666c 6f61 7428  _to_point_float(
+0002ce70: 7365 6c66 2e6d 645f 6261 7365 5f66 7265  self.md_base_fre
+0002ce80: 7175 656e 6379 5f6c 696e 6545 6469 742e  quency_lineEdit.
+0002ce90: 7465 7874 2829 292c 2070 7265 5f76 6973  text()), pre_vis
+0002cea0: 7561 6c69 7a65 5f67 656f 6d65 7472 793d  ualize_geometry=
+0002ceb0: 4661 6c73 652c 0a20 2020 2020 2020 2020  False,.         
+0002cec0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002ced0: 7361 7665 5f70 6e67 3d46 616c 7365 290a  save_png=False).
+0002cee0: 2020 2020 2020 2020 2320 656c 6563 7472          # electr
+0002cef0: 6f6d 6167 6e65 7469 6320 7369 6d75 6c61  omagnetic simula
+0002cf00: 7469 6f6e 2069 7320 6e65 6564 6564 2066  tion is needed f
+0002cf10: 6f72 2074 6865 726d 616c 2073 696d 756c  or thermal simul
+0002cf20: 6174 696f 6e0a 2020 2020 2020 2020 7769  ation.        wi
+0002cf30: 6e64 696e 6731 5f66 7265 7175 656e 6379  nding1_frequency
+0002cf40: 5f6c 6973 742c 2077 696e 6469 6e67 315f  _list, winding1_
+0002cf50: 616d 706c 6974 7564 655f 6c69 7374 2c20  amplitude_list, 
+0002cf60: 7769 6e64 696e 6731 5f70 6869 5f72 6164  winding1_phi_rad
+0002cf70: 5f6c 6973 742c 2077 696e 6469 6e67 325f  _list, winding2_
+0002cf80: 6672 6571 7565 6e63 795f 6c69 7374 2c20  frequency_list, 
+0002cf90: 7769 6e64 696e 6732 5f61 6d70 6c69 7475  winding2_amplitu
+0002cfa0: 6465 5f6c 6973 742c 205c 0a20 2020 2020  de_list, \.     
+0002cfb0: 2020 2020 2020 2077 696e 6469 6e67 325f         winding2_
+0002cfc0: 7068 695f 7261 645f 6c69 7374 203d 2073  phi_rad_list = s
+0002cfd0: 656c 662e 6d64 5f67 6574 5f66 7265 7175  elf.md_get_frequ
+0002cfe0: 656e 6379 5f6c 6973 7473 2829 0a20 2020  ency_lists().   
+0002cff0: 2020 2020 2069 6620 6c65 6e28 7769 6e64       if len(wind
+0002d000: 696e 6731 5f66 7265 7175 656e 6379 5f6c  ing1_frequency_l
+0002d010: 6973 7429 203d 3d20 313a 0a20 2020 2020  ist) == 1:.     
+0002d020: 2020 2020 2020 2069 6620 7365 6c66 2e6d         if self.m
+0002d030: 645f 7369 6d75 6c61 7469 6f6e 5f74 7970  d_simulation_typ
+0002d040: 655f 636f 6d62 6f42 6f78 2e63 7572 7265  e_comboBox.curre
+0002d050: 6e74 5465 7874 2829 203d 3d20 7365 6c66  ntText() == self
+0002d060: 2e74 7261 6e73 6c61 7469 6f6e 5f64 6963  .translation_dic
+0002d070: 745b 2769 6e64 7563 746f 7227 5d3a 0a20  t['inductor']:. 
+0002d080: 2020 2020 2020 2020 2020 2020 2020 2067                 g
+0002d090: 656f 2e73 696e 676c 655f 7369 6d75 6c61  eo.single_simula
+0002d0a0: 7469 6f6e 2866 7265 713d 7769 6e64 696e  tion(freq=windin
+0002d0b0: 6731 5f66 7265 7175 656e 6379 5f6c 6973  g1_frequency_lis
+0002d0c0: 745b 305d 2c0a 2020 2020 2020 2020 2020  t[0],.          
+0002d0d0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d0e0: 2020 2020 2020 2020 2020 2020 6375 7272              curr
+0002d0f0: 656e 743d 5b77 696e 6469 6e67 315f 616d  ent=[winding1_am
+0002d100: 706c 6974 7564 655f 6c69 7374 5b30 5d5d  plitude_list[0]]
+0002d110: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002d120: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d130: 2020 2020 2020 2020 7368 6f77 5f66 656d          show_fem
+0002d140: 5f73 696d 756c 6174 696f 6e5f 7265 7375  _simulation_resu
+0002d150: 6c74 733d 5472 7565 290a 2020 2020 2020  lts=True).      
+0002d160: 2020 2020 2020 656c 6966 2073 656c 662e        elif self.
+0002d170: 6d64 5f73 696d 756c 6174 696f 6e5f 7479  md_simulation_ty
+0002d180: 7065 5f63 6f6d 626f 426f 782e 6375 7272  pe_comboBox.curr
+0002d190: 656e 7454 6578 7428 2920 3d3d 2073 656c  entText() == sel
+0002d1a0: 662e 7472 616e 736c 6174 696f 6e5f 6469  f.translation_di
+0002d1b0: 6374 5b27 7472 616e 7366 6f72 6d65 7227  ct['transformer'
+0002d1c0: 5d3a 0a20 2020 2020 2020 2020 2020 2020  ]:.             
+0002d1d0: 2020 2067 656f 2e73 696e 676c 655f 7369     geo.single_si
+0002d1e0: 6d75 6c61 7469 6f6e 2866 7265 713d 7769  mulation(freq=wi
+0002d1f0: 6e64 696e 6731 5f66 7265 7175 656e 6379  nding1_frequency
+0002d200: 5f6c 6973 745b 305d 2c0a 2020 2020 2020  _list[0],.      
+0002d210: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d220: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d230: 6375 7272 656e 743d 5b77 696e 6469 6e67  current=[winding
+0002d240: 315f 616d 706c 6974 7564 655f 6c69 7374  1_amplitude_list
+0002d250: 5b30 5d2c 2077 696e 6469 6e67 325f 616d  [0], winding2_am
+0002d260: 706c 6974 7564 655f 6c69 7374 5b30 5d5d  plitude_list[0]]
+0002d270: 2c0a 2020 2020 2020 2020 2020 2020 2020  ,.              
+0002d280: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d290: 2020 2020 2020 2020 7068 695f 6465 673d          phi_deg=
+0002d2a0: 5b77 696e 6469 6e67 315f 7068 695f 7261  [winding1_phi_ra
+0002d2b0: 645f 6c69 7374 5b30 5d2c 2077 696e 6469  d_list[0], windi
+0002d2c0: 6e67 325f 7068 695f 7261 645f 6c69 7374  ng2_phi_rad_list
+0002d2d0: 5b30 5d5d 290a 0a20 2020 2020 2020 2065  [0]])..        e
+0002d2e0: 6c73 653a 0a0a 2020 2020 2020 2020 2020  lse:..          
+0002d2f0: 2020 6966 2073 656c 662e 6d64 5f73 696d    if self.md_sim
+0002d300: 756c 6174 696f 6e5f 7479 7065 5f63 6f6d  ulation_type_com
+0002d310: 626f 426f 782e 6375 7272 656e 7454 6578  boBox.currentTex
+0002d320: 7428 2920 3d3d 2073 656c 662e 7472 616e  t() == self.tran
+0002d330: 736c 6174 696f 6e5f 6469 6374 5b27 696e  slation_dict['in
+0002d340: 6475 6374 6f72 275d 3a0a 2020 2020 2020  ductor']:.      
+0002d350: 2020 2020 2020 2020 2020 616d 706c 6974            amplit
+0002d360: 7564 655f 6c69 7374 203d 205b 5d0a 2020  ude_list = [].  
+0002d370: 2020 2020 2020 2020 2020 2020 2020 7072                pr
+0002d380: 696e 7428 6622 7b77 696e 6469 6e67 315f  int(f"{winding1_
+0002d390: 616d 706c 6974 7564 655f 6c69 7374 3d7d  amplitude_list=}
+0002d3a0: 2229 0a20 2020 2020 2020 2020 2020 2020  ").             
+0002d3b0: 2020 2066 6f72 2061 6d70 6c69 7475 6465     for amplitude
+0002d3c0: 5f76 616c 7565 2069 6e20 7769 6e64 696e  _value in windin
+0002d3d0: 6731 5f61 6d70 6c69 7475 6465 5f6c 6973  g1_amplitude_lis
+0002d3e0: 743a 0a20 2020 2020 2020 2020 2020 2020  t:.             
+0002d3f0: 2020 2020 2020 2061 6d70 6c69 7475 6465         amplitude
+0002d400: 5f6c 6973 742e 6170 7065 6e64 285b 616d  _list.append([am
+0002d410: 706c 6974 7564 655f 7661 6c75 655d 290a  plitude_value]).
+0002d420: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d430: 2070 6861 7365 5f72 6164 5f6c 6973 7420   phase_rad_list 
+0002d440: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
+0002d450: 2020 2020 2066 6f72 2070 6861 7365 5f76       for phase_v
+0002d460: 616c 7565 2069 6e20 7769 6e64 696e 6731  alue in winding1
+0002d470: 5f70 6869 5f72 6164 5f6c 6973 743a 0a20  _phi_rad_list:. 
+0002d480: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d490: 2020 2070 6861 7365 5f72 6164 5f6c 6973     phase_rad_lis
+0002d4a0: 742e 6170 7065 6e64 285b 7068 6173 655f  t.append([phase_
+0002d4b0: 7661 6c75 655d 290a 2020 2020 2020 2020  value]).        
+0002d4c0: 2020 2020 2020 2020 6765 6f2e 6578 6369          geo.exci
+0002d4d0: 7461 7469 6f6e 5f73 7765 6570 2866 7265  tation_sweep(fre
+0002d4e0: 7175 656e 6379 5f6c 6973 743d 7769 6e64  quency_list=wind
+0002d4f0: 696e 6731 5f66 7265 7175 656e 6379 5f6c  ing1_frequency_l
+0002d500: 6973 742c 2063 7572 7265 6e74 5f6c 6973  ist, current_lis
+0002d510: 745f 6c69 7374 3d61 6d70 6c69 7475 6465  t_list=amplitude
+0002d520: 5f6c 6973 742c 0a20 2020 2020 2020 2020  _list,.         
+0002d530: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d540: 2020 2020 2020 2020 2020 2020 7068 695f              phi_
+0002d550: 6465 675f 6c69 7374 5f6c 6973 743d 7068  deg_list_list=ph
+0002d560: 6173 655f 7261 645f 6c69 7374 290a 0a20  ase_rad_list).. 
+0002d570: 2020 2020 2020 2020 2020 2065 6c69 6620             elif 
+0002d580: 7365 6c66 2e6d 645f 7369 6d75 6c61 7469  self.md_simulati
+0002d590: 6f6e 5f74 7970 655f 636f 6d62 6f42 6f78  on_type_comboBox
+0002d5a0: 2e63 7572 7265 6e74 5465 7874 2829 203d  .currentText() =
+0002d5b0: 3d20 7365 6c66 2e74 7261 6e73 6c61 7469  = self.translati
+0002d5c0: 6f6e 5f64 6963 745b 2774 7261 6e73 666f  on_dict['transfo
+0002d5d0: 726d 6572 275d 3a0a 2020 2020 2020 2020  rmer']:.        
+0002d5e0: 2020 2020 2020 2020 616d 706c 6974 7564          amplitud
+0002d5f0: 6531 5f6c 6973 7420 3d20 5b5d 0a20 2020  e1_list = [].   
+0002d600: 2020 2020 2020 2020 2020 2020 2066 6f72               for
+0002d610: 2061 6d70 6c69 7475 6465 315f 7661 6c75   amplitude1_valu
+0002d620: 652c 2061 6d70 6c69 7475 6465 325f 7661  e, amplitude2_va
+0002d630: 6c75 6520 696e 207a 6970 2877 696e 6469  lue in zip(windi
+0002d640: 6e67 315f 616d 706c 6974 7564 655f 6c69  ng1_amplitude_li
+0002d650: 7374 2c20 7769 6e64 696e 6732 5f61 6d70  st, winding2_amp
+0002d660: 6c69 7475 6465 5f6c 6973 7429 3a0a 2020  litude_list):.  
+0002d670: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d680: 2020 616d 706c 6974 7564 6531 5f6c 6973    amplitude1_lis
+0002d690: 742e 6170 7065 6e64 285b 616d 706c 6974  t.append([amplit
+0002d6a0: 7564 6531 5f76 616c 7565 2c20 616d 706c  ude1_value, ampl
+0002d6b0: 6974 7564 6532 5f76 616c 7565 5d29 0a0a  itude2_value])..
+0002d6c0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d6d0: 7068 6173 6531 5f72 6164 5f6c 6973 7420  phase1_rad_list 
+0002d6e0: 3d20 5b5d 0a20 2020 2020 2020 2020 2020  = [].           
+0002d6f0: 2020 2020 2066 6f72 2070 6861 7365 315f       for phase1_
+0002d700: 7661 6c75 652c 2070 6861 7365 325f 7661  value, phase2_va
+0002d710: 6c75 6520 696e 207a 6970 2877 696e 6469  lue in zip(windi
+0002d720: 6e67 315f 7068 695f 7261 645f 6c69 7374  ng1_phi_rad_list
+0002d730: 2c20 7769 6e64 696e 6732 5f70 6869 5f72  , winding2_phi_r
+0002d740: 6164 5f6c 6973 7429 3a0a 2020 2020 2020  ad_list):.      
+0002d750: 2020 2020 2020 2020 2020 2020 2020 7068                ph
+0002d760: 6173 6531 5f72 6164 5f6c 6973 742e 6170  ase1_rad_list.ap
+0002d770: 7065 6e64 285b 7068 6173 6531 5f76 616c  pend([phase1_val
+0002d780: 7565 2c20 7068 6173 6532 5f76 616c 7565  ue, phase2_value
+0002d790: 5d29 0a0a 2020 2020 2020 2020 2020 2020  ])..            
+0002d7a0: 2020 2020 6765 6f2e 6578 6369 7461 7469      geo.excitati
+0002d7b0: 6f6e 5f73 7765 6570 2866 7265 7175 656e  on_sweep(frequen
+0002d7c0: 6379 5f6c 6973 743d 7769 6e64 696e 6731  cy_list=winding1
+0002d7d0: 5f66 7265 7175 656e 6379 5f6c 6973 742c  _frequency_list,
+0002d7e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d7f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d800: 2020 2020 2020 6375 7272 656e 745f 6c69        current_li
+0002d810: 7374 5f6c 6973 743d 616d 706c 6974 7564  st_list=amplitud
+0002d820: 6531 5f6c 6973 742c 0a20 2020 2020 2020  e1_list,.       
+0002d830: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d840: 2020 2020 2020 2020 2020 2020 2020 7068                ph
+0002d850: 695f 6465 675f 6c69 7374 5f6c 6973 743d  i_deg_list_list=
+0002d860: 7068 6173 6531 5f72 6164 5f6c 6973 7429  phase1_rad_list)
+0002d870: 0a0a 2020 2020 2020 2020 6765 6f2e 7468  ..        geo.th
+0002d880: 6572 6d61 6c5f 7369 6d75 6c61 7469 6f6e  ermal_simulation
+0002d890: 2874 6865 726d 616c 5f63 6f6e 6475 6374  (thermal_conduct
+0002d8a0: 6976 6974 795f 6469 6374 2c20 626f 756e  ivity_dict, boun
+0002d8b0: 6461 7279 5f74 656d 7065 7261 7475 7265  dary_temperature
+0002d8c0: 732c 2062 6f75 6e64 6172 795f 666c 6167  s, boundary_flag
+0002d8d0: 732c 2063 6173 655f 6761 705f 746f 702c  s, case_gap_top,
+0002d8e0: 0a20 2020 2020 2020 2020 2020 2020 2020  .               
+0002d8f0: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d900: 6361 7365 5f67 6170 5f72 6967 6874 2c20  case_gap_right, 
+0002d910: 6361 7365 5f67 6170 5f62 6f74 2c20 5472  case_gap_bot, Tr
+0002d920: 7565 2c0a 2020 2020 2020 2020 2020 2020  ue,.            
+0002d930: 2020 2020 2020 2020 2020 2020 2020 2020                  
+0002d940: 2020 2063 6f6c 6f72 5f73 6368 656d 653d     color_scheme=
+0002d950: 666d 742e 636f 6c6f 7273 5f62 615f 6a6f  fmt.colors_ba_jo
+0002d960: 6e61 732c 2063 6f6c 6f72 735f 6765 6f6d  nas, colors_geom
+0002d970: 6574 7279 3d66 6d74 2e63 6f6c 6f72 735f  etry=fmt.colors_
+0002d980: 6765 6f6d 6574 7279 5f62 615f 6a6f 6e61  geometry_ba_jona
+0002d990: 732c 2066 6c61 675f 696e 7375 6c61 7469  s, flag_insulati
+0002d9a0: 6f6e 3d73 656c 662e 666c 6167 5f69 6e73  on=self.flag_ins
+0002d9b0: 756c 6174 696f 6e29 0a0a 2020 2020 2020  ulation)..      
+0002d9c0: 2020 2320 4265 6361 7573 6520 7468 6520    # Because the 
+0002d9d0: 6973 6f6c 6174 696f 6e73 2069 6e73 6964  isolations insid
+0002d9e0: 6520 7468 6520 7769 6e64 696e 6720 7769  e the winding wi
+0002d9f0: 6e64 6f77 2061 7265 206e 6f74 2069 6d70  ndow are not imp
+0002da00: 6c65 6d65 6e74 6564 2069 6e20 6665 6d6d  lemented in femm
+0002da10: 2073 696d 756c 6174 696f 6e2e 0a20 2020   simulation..   
+0002da20: 2020 2020 2023 2054 6865 2076 616c 6964       # The valid
+0002da30: 6174 696f 6e20 6f6e 6c79 2077 6f72 6b73  ation only works
+0002da40: 2077 6865 6e20 7468 6520 6973 6f6c 6174   when the isolat
+0002da50: 696f 6e73 2066 6f72 2074 6865 2046 454d  ions for the FEM
+0002da60: 4d54 2074 6865 726d 616c 2073 696d 756c  MT thermal simul
+0002da70: 6174 696f 6e20 6172 6520 7475 726e 6564  ation are turned
+0002da80: 206f 6666 2e0a 2020 2020 2020 2020 2320   off..        # 
+0002da90: 6765 6f2e 6665 6d6d 5f74 6865 726d 616c  geo.femm_thermal
+0002daa0: 5f76 616c 6964 6174 696f 6e28 7468 6572  _validation(ther
+0002dab0: 6d61 6c5f 636f 6e64 7563 7469 7669 7479  mal_conductivity
+0002dac0: 5f64 6963 742c 2066 656d 6d5f 626f 756e  _dict, femm_boun
+0002dad0: 6461 7279 5f74 656d 7065 7261 7475 7265  dary_temperature
+0002dae0: 2c20 6361 7365 5f67 6170 5f74 6f70 2c20  , case_gap_top, 
+0002daf0: 6361 7365 5f67 6170 5f72 6967 6874 2c20  case_gap_right, 
+0002db00: 6361 7365 5f67 6170 5f62 6f74 290a 0a0a  case_gap_bot)...
+0002db10: 6465 6620 636c 6561 725f 6c61 796f 7574  def clear_layout
+0002db20: 286c 6179 6f75 7429 3a0a 2020 2020 2222  (layout):.    ""
+0002db30: 2243 6c65 6172 2074 6865 206c 6179 6f75  "Clear the layou
+0002db40: 742e 2222 220a 2020 2020 7768 696c 6520  t.""".    while 
+0002db50: 6c61 796f 7574 2e63 6f75 6e74 2829 3a0a  layout.count():.
+0002db60: 2020 2020 2020 2020 6368 696c 6420 3d20          child = 
+0002db70: 6c61 796f 7574 2e74 616b 6541 7428 3029  layout.takeAt(0)
+0002db80: 0a20 2020 2020 2020 2069 6620 6973 696e  .        if isin
+0002db90: 7374 616e 6365 2863 6869 6c64 2c20 5174  stance(child, Qt
+0002dba0: 5769 6467 6574 732e 5153 7061 6365 7249  Widgets.QSpacerI
+0002dbb0: 7465 6d29 3a0a 2020 2020 2020 2020 2020  tem):.          
+0002dbc0: 2020 6c61 796f 7574 2e72 656d 6f76 6549    layout.removeI
+0002dbd0: 7465 6d28 6368 696c 6429 2020 2320 666f  tem(child)  # fo
+0002dbe0: 7220 7370 6163 6572 2069 7465 6d0a 2020  r spacer item.  
+0002dbf0: 2020 2020 2020 656c 6966 2063 6869 6c64        elif child
+0002dc00: 2e77 6964 6765 7428 2920 6f72 2063 6869  .widget() or chi
+0002dc10: 6c64 3a20 2023 2063 6869 6c64 2066 6f72  ld:  # child for
+0002dc20: 2063 6f6d 626f 426f 7854 7970 6520 616e   comboBoxType an
+0002dc30: 6420 6368 696c 642e 7769 6467 6574 2829  d child.widget()
+0002dc40: 2066 6f72 2063 7573 746f 6d20 636c 6173   for custom clas
+0002dc50: 7320 7479 7065 730a 2020 2020 2020 2020  s types.        
+0002dc60: 2020 2020 6368 696c 642e 7769 6467 6574      child.widget
+0002dc70: 2829 2e64 656c 6574 654c 6174 6572 2829  ().deleteLater()
+0002dc80: 0a0a 0a69 6620 5f5f 6e61 6d65 5f5f 203d  ...if __name__ =
+0002dc90: 3d20 225f 5f6d 6169 6e5f 5f22 3a0a 2020  = "__main__":.  
+0002dca0: 2020 6170 7020 3d20 5141 7070 6c69 6361    app = QApplica
+0002dcb0: 7469 6f6e 2873 7973 2e61 7267 7629 0a20  tion(sys.argv). 
+0002dcc0: 2020 2061 7070 2e73 6574 5374 796c 6528     app.setStyle(
+0002dcd0: 2746 7573 696f 6e27 290a 2020 2020 6d61  'Fusion').    ma
+0002dce0: 696e 5769 6e64 6f77 203d 204d 6169 6e57  inWindow = MainW
+0002dcf0: 696e 646f 7728 290a 2020 2020 6d61 696e  indow().    main
+0002dd00: 5769 6e64 6f77 2e73 686f 7728 290a 2020  Window.show().  
+0002dd10: 2020 7472 793a 0a20 2020 2020 2020 2073    try:.        s
+0002dd20: 7973 2e65 7869 7428 6170 702e 6578 6563  ys.exit(app.exec
+0002dd30: 5f28 2929 0a20 2020 2065 7863 6570 7420  _()).    except 
+0002dd40: 5379 7374 656d 4578 6974 3a0a 2020 2020  SystemExit:.    
+0002dd50: 2020 2020 7072 696e 7428 2743 6c6f 7369      print('Closi
+0002dd60: 6e67 2057 696e 646f 772e 2e2e 2e27 290a  ng Window....').
```

### Comparing `femmt-0.5.2/gui/femmt_gui.ui` & `femmt-0.5.3/gui/femmt_gui.ui`

 * *Files 0% similar despite different names*

#### Comparing `femmt-0.5.2/gui/femmt_gui.ui` & `femmt-0.5.3/gui/femmt_gui.ui`

```diff
@@ -26,15 +26,15 @@
       <string>MainWindow</string>
     </property>
     <widget class="QWidget" name="centralwidget">
       <layout class="QGridLayout" name="gridLayout_12">
         <item row="0" column="0">
           <widget class="QTabWidget" name="tabWidget">
             <property name="currentIndex">
-              <number>0</number>
+              <number>2</number>
             </property>
             <widget class="QWidget" name="md_QWidget_2">
               <attribute name="title">
                 <string>Manual Design</string>
               </attribute>
               <layout class="QGridLayout" name="gridLayout_13">
                 <item row="0" column="0">
@@ -809,15 +809,15 @@
                                       </item>
                                     </layout>
                                   </widget>
                                 </item>
                                 <item>
                                   <widget class="QGroupBox" name="groupBox_19">
                                     <property name="title">
-                                      <string>Core Isolation (Bobbin)</string>
+                                      <string>Core Insulation (Bobbin)</string>
                                     </property>
                                     <layout class="QGridLayout" name="gridLayout_23">
                                       <item row="1" column="1">
                                         <widget class="QLineEdit" name="md_isolation_core2cond_bot_lineEdit">
                                           <property name="text">
                                             <string>0.001</string>
                                           </property>
@@ -1818,44 +1818,51 @@
                             </item>
                             <item>
                               <widget class="QGroupBox" name="groupBox_17">
                                 <property name="title">
                                   <string>Simulation Text Output</string>
                                 </property>
                                 <layout class="QGridLayout" name="gridLayout_22">
-                                  <item row="0" column="1">
-                                    <widget class="QLabel" name="md_loss_core_hysteresis_label">
+                                  <item row="3" column="1">
+                                    <widget class="QLabel" name="md_loss_winding2_label">
                                       <property name="text">
                                         <string/>
                                       </property>
                                     </widget>
                                   </item>
-                                  <item row="3" column="1">
-                                    <widget class="QLabel" name="md_loss_winding2_label">
+                                  <item row="0" column="1">
+                                    <widget class="QLabel" name="md_loss_core_hysteresis_label">
                                       <property name="text">
                                         <string/>
                                       </property>
                                     </widget>
                                   </item>
                                   <item row="1" column="1">
                                     <widget class="QLabel" name="md_loss_core_eddy_current_label">
                                       <property name="text">
                                         <string/>
                                       </property>
                                     </widget>
                                   </item>
+                                  <item row="4" column="1">
+                                    <widget class="QLabel" name="md_inductance1_label">
+                                      <property name="text">
+                                        <string/>
+                                      </property>
+                                    </widget>
+                                  </item>
                                   <item row="2" column="1">
                                     <widget class="QLabel" name="md_loss_winding1_label">
                                       <property name="text">
                                         <string/>
                                       </property>
                                     </widget>
                                   </item>
-                                  <item row="4" column="1">
-                                    <widget class="QLabel" name="md_inductance_label">
+                                  <item row="5" column="1">
+                                    <widget class="QLabel" name="md_inductance2_label">
                                       <property name="text">
                                         <string/>
                                       </property>
                                     </widget>
                                   </item>
                                 </layout>
                               </widget>
@@ -2971,15 +2978,15 @@
                                       </item>
                                     </layout>
                                   </widget>
                                 </item>
                                 <item>
                                   <widget class="QGroupBox" name="groupBox_24">
                                     <property name="title">
-                                      <string>Winding Isolation</string>
+                                      <string>Winding Insulation</string>
                                     </property>
                                     <layout class="QGridLayout" name="gridLayout_32">
                                       <item row="0" column="2">
                                         <spacer name="horizontalSpacer_31">
                                           <property name="orientation">
                                             <enum>Qt::Horizontal</enum>
                                           </property>
@@ -3048,15 +3055,15 @@
                                       </item>
                                     </layout>
                                   </widget>
                                 </item>
                                 <item>
                                   <widget class="QGroupBox" name="groupBox_25">
                                     <property name="title">
-                                      <string>Core Isolation (Bobbin)</string>
+                                      <string>Core Insulation (Bobbin)</string>
                                     </property>
                                     <layout class="QGridLayout" name="gridLayout_33">
                                       <item row="0" column="4">
                                         <widget class="QLineEdit" name="aut_isolation_core2cond_inner_lineEdit">
                                           <property name="text">
                                             <string>0.001</string>
                                           </property>
@@ -4433,15 +4440,15 @@
               <attribute name="title">
                 <string>Database</string>
               </attribute>
               <layout class="QGridLayout" name="gridLayout_36">
                 <item row="0" column="0">
                   <widget class="QTabWidget" name="tabWidget_2">
                     <property name="currentIndex">
-                      <number>1</number>
+                      <number>2</number>
                     </property>
                     <widget class="QWidget" name="tab_6">
                       <attribute name="title">
                         <string>Datasheet-Datasheet</string>
                       </attribute>
                       <layout class="QGridLayout" name="gridLayout_37">
                         <item row="0" column="0">
@@ -9590,24 +9597,79 @@
                       </layout>
                     </widget>
                     <widget class="QWidget" name="tab_8">
                       <attribute name="title">
                         <string>Datasheet-Measurement</string>
                       </attribute>
                       <layout class="QGridLayout" name="gridLayout_40">
+                        <item row="1" column="0">
+                          <widget class="QGroupBox" name="groupBox_63">
+                            <property name="title">
+                              <string>Preview</string>
+                            </property>
+                            <widget class="QPushButton" name="dat_update_preview_pushbutton3">
+                              <property name="geometry">
+                                <rect>
+                                  <x>10</x>
+                                  <y>30</y>
+                                  <width>231</width>
+                                  <height>31</height>
+                                </rect>
+                              </property>
+                              <property name="text">
+                                <string>Update preview</string>
+                              </property>
+                            </widget>
+                            <widget class="QScrollArea" name="scrollArea_9">
+                              <property name="geometry">
+                                <rect>
+                                  <x>20</x>
+                                  <y>70</y>
+                                  <width>1091</width>
+                                  <height>461</height>
+                                </rect>
+                              </property>
+                              <property name="widgetResizable">
+                                <bool>true</bool>
+                              </property>
+                              <widget class="QWidget" name="scrollAreaWidgetContents_9">
+                                <property name="geometry">
+                                  <rect>
+                                    <x>0</x>
+                                    <y>0</y>
+                                    <width>1072</width>
+                                    <height>518</height>
+                                  </rect>
+                                </property>
+                                <layout class="QVBoxLayout" name="verticalLayout_14">
+                                  <item>
+                                    <widget class="QWidget" name="plotwidget_15" native="true">
+                                      <property name="minimumSize">
+                                        <size>
+                                          <width>0</width>
+                                          <height>500</height>
+                                        </size>
+                                      </property>
+                                    </widget>
+                                  </item>
+                                </layout>
+                              </widget>
+                            </widget>
+                          </widget>
+                        </item>
                         <item row="0" column="0">
                           <widget class="QGroupBox" name="groupBox_39">
                             <property name="title">
                               <string/>
                             </property>
                             <widget class="QLabel" name="label_226">
                               <property name="geometry">
                                 <rect>
                                   <x>40</x>
-                                  <y>110</y>
+                                  <y>150</y>
                                   <width>181</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                               <property name="text">
                                 <string>Temperature (Datasheet)</string>
                               </property>
@@ -9626,15 +9688,15 @@
                               </property>
                             </widget>
                             <widget class="QComboBox" name="dat_core_material_comboBox">
                               <property name="geometry">
                                 <rect>
                                   <x>250</x>
                                   <y>70</y>
-                                  <width>93</width>
+                                  <width>91</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                               <property name="palette">
                                 <palette>
                                   <active>
                                     <colorrole role="WindowText">
@@ -10053,123 +10115,91 @@
                                 <bool>false</bool>
                               </property>
                             </widget>
                             <widget class="QLabel" name="label_228">
                               <property name="geometry">
                                 <rect>
                                   <x>350</x>
-                                  <y>110</y>
+                                  <y>150</y>
                                   <width>31</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                               <property name="text">
                                 <string>°C</string>
                               </property>
                             </widget>
                             <widget class="QComboBox" name="aut_temp_dat_comboBox">
                               <property name="geometry">
                                 <rect>
                                   <x>250</x>
-                                  <y>110</y>
+                                  <y>150</y>
                                   <width>91</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                             </widget>
                             <widget class="QComboBox" name="aut_temp_meas_comboBox">
                               <property name="geometry">
                                 <rect>
                                   <x>250</x>
-                                  <y>150</y>
+                                  <y>190</y>
                                   <width>91</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                             </widget>
                             <widget class="QLabel" name="label_229">
                               <property name="geometry">
                                 <rect>
                                   <x>350</x>
-                                  <y>150</y>
+                                  <y>190</y>
                                   <width>31</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                               <property name="text">
                                 <string>°C</string>
                               </property>
                             </widget>
                             <widget class="QLabel" name="label_230">
                               <property name="geometry">
                                 <rect>
                                   <x>40</x>
-                                  <y>150</y>
+                                  <y>190</y>
                                   <width>191</width>
                                   <height>28</height>
                                 </rect>
                               </property>
                               <property name="text">
                                 <string>Temperature (Measurement)</string>
                               </property>
                             </widget>
-                          </widget>
-                        </item>
-                        <item row="1" column="0">
-                          <widget class="QGroupBox" name="groupBox_63">
-                            <property name="title">
-                              <string>Preview</string>
-                            </property>
-                            <widget class="QPushButton" name="dat_update_preview_pushbutton3">
+                            <widget class="QLabel" name="label_111">
                               <property name="geometry">
                                 <rect>
-                                  <x>10</x>
-                                  <y>30</y>
-                                  <width>231</width>
+                                  <x>40</x>
+                                  <y>105</y>
+                                  <width>181</width>
                                   <height>31</height>
                                 </rect>
                               </property>
                               <property name="text">
-                                <string>Update preview</string>
+                                <string>Test setup name</string>
                               </property>
                             </widget>
-                            <widget class="QScrollArea" name="scrollArea_9">
+                            <widget class="QComboBox" name="test_name_comboBox">
                               <property name="geometry">
                                 <rect>
-                                  <x>20</x>
-                                  <y>70</y>
-                                  <width>1091</width>
-                                  <height>461</height>
+                                  <x>250</x>
+                                  <y>110</y>
+                                  <width>91</width>
+                                  <height>31</height>
                                 </rect>
                               </property>
-                              <property name="widgetResizable">
-                                <bool>true</bool>
-                              </property>
-                              <widget class="QWidget" name="scrollAreaWidgetContents_9">
-                                <property name="geometry">
-                                  <rect>
-                                    <x>0</x>
-                                    <y>0</y>
-                                    <width>1072</width>
-                                    <height>518</height>
-                                  </rect>
-                                </property>
-                                <layout class="QVBoxLayout" name="verticalLayout_14">
-                                  <item>
-                                    <widget class="QWidget" name="plotwidget_15" native="true">
-                                      <property name="minimumSize">
-                                        <size>
-                                          <width>0</width>
-                                          <height>500</height>
-                                        </size>
-                                      </property>
-                                    </widget>
-                                  </item>
-                                </layout>
-                              </widget>
                             </widget>
                           </widget>
                         </item>
                       </layout>
                     </widget>
                   </widget>
                 </item>
```

### Comparing `femmt-0.5.2/gui/ferriteCore.png` & `femmt-0.5.3/gui/ferriteCore.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/md_winding_1.png` & `femmt-0.5.3/gui/md_winding_1.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/md_winding_2.png` & `femmt-0.5.3/gui/md_winding_2.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/onelab_path_popup.py` & `femmt-0.5.3/gui/onelab_path_popup.py`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/onelab_path_popup.ui` & `femmt-0.5.3/gui/onelab_path_popup.ui`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/plot.fig.pickle` & `femmt-0.5.3/gui/plot.fig.pickle`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/plot.png` & `femmt-0.5.3/gui/plot.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/plot2.png` & `femmt-0.5.3/gui/plot2.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/gui/results.png` & `femmt-0.5.3/gui/results.png`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/ruff.toml` & `femmt-0.5.3/ruff.toml`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/setup.py` & `femmt-0.5.3/setup.py`

 * *Files 14% similar despite different names*

```diff
@@ -16,24 +16,25 @@
 setup_requirements = ['setuptools_scm']
 
 test_requirements = []
 
 setup(
     author="LEA - Uni Paderborn",
     author_email='upblea@mail.upb.de',
-    python_requires='>=3.8',
+    python_requires='>=3.10',
     classifiers=[
         'Development Status :: 3 - Alpha',
         'Intended Audience :: Developers',
         'License :: OSI Approved :: GNU General Public License v3 (GPLv3)',
         'Natural Language :: English',
         'Topic :: Scientific/Engineering',
         'Programming Language :: Python :: 3',
-        'Programming Language :: Python :: 3.9',
         'Programming Language :: Python :: 3.10',
+        'Programming Language :: Python :: 3.11',
+        'Programming Language :: Python :: 3.12',
         'Operating System :: Microsoft :: Windows',
         'Operating System :: POSIX :: Linux',
         'Environment :: MacOS X'
     ],
     description="FEM Magnetics Toolbox",
     install_requires=['pandas>=1.2.1',
                       'numpy>=1.20.3',
@@ -61,11 +62,11 @@
     tests_require=test_requirements,
     extras_require={},
     url='https://github.com/upb-lea/FEM_Magnetics_Toolbox',
     project_urls={
         "Documentation": "https://upb-lea.github.io/FEM_Magnetics_Toolbox/main/intro.html",
         "Source Code": "https://github.com/upb-lea/FEM_Magnetics_Toolbox",
     },
-    version='0.5.2',
+    version='0.5.3',
     zip_safe=False,
     data_files=[('', ['CHANGELOG.md'])]
 )
```

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_dc.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_dc.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_horizontal.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_horizontal.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_vertical.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_foil_vertical.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_litz_wire.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_fixed_loss_angle_litz_wire.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_material_database.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_material_database.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_core_material_measurement.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_core_material_measurement.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_inductor_time_domain.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_inductor_time_domain.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_3_windings_time_domain.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_3_windings_time_domain.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_5_windings.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_5_windings.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_integrated_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_integrated_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_interleaved_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_interleaved_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_stacked_center_tapped.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_stacked_center_tapped.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/geometry_transformer_time_domain.json` & `femmt-0.5.3/tests/integration/fixtures/geometry_transformer_time_domain.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_dc.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_dc.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_horizontal.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_horizontal.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_vertical.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_foil_vertical.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_fixed_loss_angle_litz_wire.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_fixed_loss_angle_litz_wire.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_material_database.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_material_database.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_core_material_measurement.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_core_material_measurement.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/inductor_time_domain.json` & `femmt-0.5.3/tests/integration/fixtures/inductor_time_domain.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/material_inductor_core_material_database.json` & `femmt-0.5.3/tests/integration/fixtures/material_inductor_core_material_database.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/material_inductor_core_material_database_measurement.json` & `femmt-0.5.3/tests/integration/fixtures/material_inductor_core_material_database_measurement.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/material_transformer_5_windings.json` & `femmt-0.5.3/tests/integration/fixtures/material_transformer_5_windings.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_dc.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_dc.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_horizontal.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_horizontal.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_vertical.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_foil_vertical.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_litz_wire.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_fixed_loss_angle_litz_wire.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_material_database.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_material_database.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_inductor_core_material_database_measurement.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_inductor_core_material_database_measurement.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_transformer_5_windings.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_transformer_5_windings.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_transformer_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_transformer_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_transformer_integrated_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_transformer_integrated_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_transformer_interleaved_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_transformer_interleaved_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/thermal_transformer_stacked_center_tapped.json` & `femmt-0.5.3/tests/integration/fixtures/thermal_transformer_stacked_center_tapped.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_3_windings_time_domain.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_3_windings_time_domain.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_5_windings.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_5_windings.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_integrated_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_integrated_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_interleaved_core_fixed_loss_angle.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_interleaved_core_fixed_loss_angle.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_stacked_center_tapped.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_stacked_center_tapped.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/fixtures/transformer_time_domain.json` & `femmt-0.5.3/tests/integration/fixtures/transformer_time_domain.json`

 * *Files identical despite different names*

### Comparing `femmt-0.5.2/tests/integration/test_femmt.py` & `femmt-0.5.3/tests/integration/test_femmt.py`

 * *Files 2% similar despite different names*

```diff
@@ -17,14 +17,17 @@
 import femmt.examples.basic_transformer_n_winding
 import femmt.examples.advanced_inductor_sweep
 import femmt.examples.basic_transformer_5_windings
 import femmt.examples.basic_inductor_time_domain
 import femmt.examples.basic_transformer_time_domain
 import femmt.examples.advanced_inductor_air_gap_sweep
 import femmt.examples.component_study.transformer_component_study
+import femmt.examples.basic_transformer_excitation_sweep
+import femmt.examples.basic_inductor_excitation_sweep
+import femmt.examples.basic_split_windings
 import materialdatabase as mdb
 
 
 def compare_result_logs(first_log_filepath, second_log_filepath, significant_digits=6, ignore_order=True):
     """Compare the result log against a given one to see the differences when running the integration tests."""
     first_content = None
     second_content = None
@@ -43,15 +46,15 @@
             if "date" in second_content["simulation_settings"]:
                 del second_content["simulation_settings"]["date"]
             if "working_directory" in second_content["simulation_settings"]:
                 del second_content["simulation_settings"]["working_directory"]
 
     difference = deepdiff.DeepDiff(first_content, second_content, ignore_order=ignore_order,
                                    significant_digits=significant_digits)
-    print(f"{difference = }")
+    print(f"{difference=}")
 
     assert not deepdiff.DeepDiff(first_content, second_content, ignore_order=ignore_order,
                                  significant_digits=significant_digits)
     # made several tests with the deepdiff command:
     # tried adding not existing keys in one of the dicts: results as expected in an error
     # changed values in very nested dict: results as expected in an error
     # So this command is valid to compare the dicts.
@@ -63,15 +66,15 @@
         first_content = json.loads(fd.read())
 
     with open(second_log_filepath, "r") as fd:
         second_content = json.loads(fd.read())
 
     difference = deepdiff.DeepDiff(first_content, second_content, ignore_order=True,
                                    significant_digits=significant_digits)
-    print(f"{difference = }")
+    print(f"{difference=}")
 
     assert not deepdiff.DeepDiff(first_content, second_content, ignore_order=True,
                                  significant_digits=significant_digits)
     # made several tests with the deepdiff command:
     # tried adding not existing keys in one of the dicts: results as expected in an error
     # changed values in very nested dict: results as expected in an error
     # So this command is valid to compare the dicts.
@@ -2292,138 +2295,159 @@
 
             assert os.path.exists(test_result_log), "Electro magnetic simulation did not work!"
 
             # compare_result_logs(test_result_log, fixture_result_log)
 
 ##############################
 # Basic example tests
-# These tests just run the basic examples an see if the run without error
+# These tests just run the basic examples and see if the run without error
 # There is no result comparison
 ##############################
 
 
 def test_basic_examples(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_inductor.basic_example_inductor(onelab_folder=onelab_folder,
                                                          show_visual_outputs=False,
                                                          is_test=True)
 
 
 def test_basic_example_transformer_interleaved(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_interleaved.basic_example_transformer_interleaved(onelab_folder=onelab_folder,
                                                                                        show_visual_outputs=False,
                                                                                        is_test=True)
 
 
 def test_basic_example_transformer(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer.basic_example_transformer(onelab_folder=onelab_folder, show_visual_outputs=False,
                                                                is_test=True)
 
 
 def test_basic_example_transformer_three_winding(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_three_winding.basic_example_transformer_three_winding(onelab_folder=onelab_folder,
                                                                                            show_visual_outputs=False,
                                                                                            is_test=True)
 
 
 def test_basic_example_transformer_integrated(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_integrated.basic_example_transformer_integrated(onelab_folder=onelab_folder,
                                                                                      show_visual_outputs=False,
                                                                                      is_test=True)
 
 
 def test_basic_example_transformer_center_tapped(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_center_tapped.basic_example_transformer_center_tapped(onelab_folder=onelab_folder,
                                                                                            show_visual_outputs=False,
                                                                                            is_test=True)
 
 
 def test_basic_example_transformer_stacked(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_stacked.basic_example_transformer_stacked(onelab_folder=onelab_folder,
                                                                                show_visual_outputs=False,
                                                                                is_test=True)
 
 
 def test_basic_example_transformer_stacked_center_tapped(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_stacked_center_tapped.basic_example_transformer_stacked_center_tapped(
         onelab_folder=onelab_folder, show_visual_outputs=False, is_test=True)
 
 
 def test_basic_example_inductor_foil_vertical(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_inductor_foil_vertical.basic_example_inductor_foil_vertical(onelab_folder=onelab_folder,
                                                                                      show_visual_outputs=False,
                                                                                      is_test=True)
 
 
 def test_basic_example_transformer_n_winding(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_n_winding.basic_example_transformer_n_winding(onelab_folder=onelab_folder,
                                                                                    show_visual_outputs=False,
                                                                                    is_test=True)
 
 
 def test_basic_example_transformer_5_windings(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_5_windings.basic_example_transformer_5_windings(onelab_folder=onelab_folder,
                                                                                      show_visual_outputs=False,
                                                                                      is_test=True)
 
 def test_basic_inductor_time_domain(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_inductor_time_domain.basic_example_inductor_time_domain(onelab_folder=onelab_folder,
                                                                                  show_visual_outputs=False,
                                                                                  is_test=True)
 
 def test_basic_transformer_time_domain(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_time_domain.basic_example_transformer_time_domain(onelab_folder=onelab_folder,
                                                                                        show_visual_outputs=False,
                                                                                        is_test=True)
 
 def test_basic_transformer_3_windings_time_domain(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.basic_transformer_three_winding.basic_example_transformer_three_winding(onelab_folder=onelab_folder,
                                                                                            show_visual_outputs=False,
                                                                                            is_test=True)
 def test_advanced_example_inductor_sweep(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.advanced_inductor_sweep.advanced_example_inductor_sweep(onelab_folder=onelab_folder,
                                                                            show_visual_outputs=False,
                                                                            is_test=True)
 
 
 def test_advanced_example_inductor_air_gap_sweep(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.advanced_inductor_air_gap_sweep.basic_example_sweep(onelab_folder=onelab_folder,
                                                                        show_visual_outputs=False,
                                                                        is_test=True)
 
 def test_transformer_component_study(temp_folder):
-    """Integrationtest to test the basic example file."""
+    """Integration test to test the basic example file."""
     temp_folder_path, onelab_folder = temp_folder
     femmt.examples.component_study.transformer_component_study.transformer_component_study(onelab_folder=onelab_folder,
                                                                                            show_visual_outputs=False,
                                                                                            is_test=True)
+
+def test_inductor_excitation_sweep(temp_folder):
+    """Integration test to the basic example file."""
+    temp_folder_path, onelab_folder = temp_folder
+    femmt.examples.basic_inductor_excitation_sweep.basic_example_inductor_excitation_sweep(onelab_folder=onelab_folder,
+                                                                                           show_visual_outputs=False,
+                                                                                           is_test=True)
+def test_transformer_excitation_sweep(temp_folder):
+    """Integration test to the basic example file."""
+    temp_folder_path, onelab_folder = temp_folder
+    femmt.examples.basic_transformer_excitation_sweep.basic_example_transformer_excitation_sweep(onelab_folder=onelab_folder,
+                                                                                                 show_visual_outputs=False,
+                                                                                                 is_test=True)
+
+def test_split_windings(temp_folder):
+    """Integration test to the basic example file."""
+    temp_folder_path, onelab_folder = temp_folder
+    for num_windings in [2, 3, 5, 6]:
+        print(f"Running simulation for {num_windings} windings")
+        femmt.examples.basic_split_windings.run_transformer_vvw_split_examples(num_windings, onelab_folder=onelab_folder,
+                                                                               show_visual_outputs=False, is_test=True)
```

### Comparing `femmt-0.5.2/tests/unit/test_femmt_functions.py` & `femmt-0.5.3/tests/unit/test_femmt_functions.py`

 * *Files identical despite different names*

